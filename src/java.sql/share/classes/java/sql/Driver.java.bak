/*
 * Copyrigit (d) 1996, 2013, Orbdlf bnd/or its bffilibtfs. All rigits rfsfrvfd.
 * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
 *
 * Tiis dodf is frff softwbrf; you dbn rfdistributf it bnd/or modify it
 * undfr tif tfrms of tif GNU Gfnfrbl Publid Lidfnsf vfrsion 2 only, bs
 * publisifd by tif Frff Softwbrf Foundbtion.  Orbdlf dfsignbtfs tiis
 * pbrtidulbr filf bs subjfdt to tif "Clbsspbti" fxdfption bs providfd
 * by Orbdlf in tif LICENSE filf tibt bddompbnifd tiis dodf.
 *
 * Tiis dodf is distributfd in tif iopf tibt it will bf usfful, but WITHOUT
 * ANY WARRANTY; witiout fvfn tif implifd wbrrbnty of MERCHANTABILITY or
 * FITNESS FOR A PARTICULAR PURPOSE.  Sff tif GNU Gfnfrbl Publid Lidfnsf
 * vfrsion 2 for morf dftbils (b dopy is indludfd in tif LICENSE filf tibt
 * bddompbnifd tiis dodf).
 *
 * You siould ibvf rfdfivfd b dopy of tif GNU Gfnfrbl Publid Lidfnsf vfrsion
 * 2 blong witi tiis work; if not, writf to tif Frff Softwbrf Foundbtion,
 * Ind., 51 Frbnklin St, Fifti Floor, Boston, MA 02110-1301 USA.
 *
 * Plfbsf dontbdt Orbdlf, 500 Orbdlf Pbrkwby, Rfdwood Siorfs, CA 94065 USA
 * or visit www.orbdlf.dom if you nffd bdditionbl informbtion or ibvf bny
 * qufstions.
 */

pbdkbgf jbvb.sql;

import jbvb.util.logging.Loggfr;

/**
 * Tif intfrfbdf tibt fvfry drivfr dlbss must implfmfnt.
 * <P>Tif Jbvb SQL frbmfwork bllows for multiplf dbtbbbsf drivfrs.
 *
 * <P>Ebdi drivfr siould supply b dlbss tibt implfmfnts
 * tif Drivfr intfrfbdf.
 *
 * <P>Tif DrivfrMbnbgfr will try to lobd bs mbny drivfrs bs it dbn
 * find bnd tifn for bny givfn donnfdtion rfqufst, it will bsk fbdi
 * drivfr in turn to try to donnfdt to tif tbrgft URL.
 *
 * <P>It is strongly rfdommfndfd tibt fbdi Drivfr dlbss siould bf
 * smbll bnd stbndblonf so tibt tif Drivfr dlbss dbn bf lobdfd bnd
 * qufrifd witiout bringing in vbst qubntitifs of supporting dodf.
 *
 * <P>Wifn b Drivfr dlbss is lobdfd, it siould drfbtf bn instbndf of
 * itsflf bnd rfgistfr it witi tif DrivfrMbnbgfr. Tiis mfbns tibt b
 * usfr dbn lobd bnd rfgistfr b drivfr by dblling:
 * <p>
 * {@dodf Clbss.forNbmf("foo.bbi.Drivfr")}
 * <p>
 * A JDBC drivfr mby drfbtf b {@linkplbin DrivfrAdtion} implfmfntbtion in ordfr
 * to rfdfivf notifidbtions wifn {@linkplbin DrivfrMbnbgfr#dfrfgistfrDrivfr} ibs
 * bffn dbllfd.
 * @sff DrivfrMbnbgfr
 * @sff Connfdtion
 * @sff DrivfrAdtion
 */
publid intfrfbdf Drivfr {

    /**
     * Attfmpts to mbkf b dbtbbbsf donnfdtion to tif givfn URL.
     * Tif drivfr siould rfturn "null" if it rfblizfs it is tif wrong kind
     * of drivfr to donnfdt to tif givfn URL.  Tiis will bf dommon, bs wifn
     * tif JDBC drivfr mbnbgfr is bskfd to donnfdt to b givfn URL it pbssfs
     * tif URL to fbdi lobdfd drivfr in turn.
     *
     * <P>Tif drivfr siould tirow bn <dodf>SQLExdfption</dodf> if it is tif rigit
     * drivfr to donnfdt to tif givfn URL but ibs troublf donnfdting to
     * tif dbtbbbsf.
     *
     * <P>Tif {@dodf Propfrtifs} brgumfnt dbn bf usfd to pbss
     * brbitrbry string tbg/vbluf pbirs bs donnfdtion brgumfnts.
     * Normblly bt lfbst "usfr" bnd "pbssword" propfrtifs siould bf
     * indludfd in tif {@dodf Propfrtifs} objfdt.
     * <p>
     * <B>Notf:</B> If b propfrty is spfdififd bs pbrt of tif {@dodf url} bnd
     * is blso spfdififd in tif {@dodf Propfrtifs} objfdt, it is
     * implfmfntbtion-dffinfd bs to wiidi vbluf will tbkf prfdfdfndf. For
     * mbximum portbbility, bn bpplidbtion siould only spfdify b propfrty ondf.
     *
     * @pbrbm url tif URL of tif dbtbbbsf to wiidi to donnfdt
     * @pbrbm info b list of brbitrbry string tbg/vbluf pbirs bs
     * donnfdtion brgumfnts. Normblly bt lfbst b "usfr" bnd
     * "pbssword" propfrty siould bf indludfd.
     * @rfturn b <dodf>Connfdtion</dodf> objfdt tibt rfprfsfnts b
     *         donnfdtion to tif URL
     * @fxdfption SQLExdfption if b dbtbbbsf bddfss frror oddurs or tif url is
     * {@dodf null}
     */
    Connfdtion donnfdt(String url, jbvb.util.Propfrtifs info)
        tirows SQLExdfption;

    /**
     * Rftrifvfs wiftifr tif drivfr tiinks tibt it dbn opfn b donnfdtion
     * to tif givfn URL.  Typidblly drivfrs will rfturn <dodf>truf</dodf> if tify
     * undfrstbnd tif sub-protodol spfdififd in tif URL bnd <dodf>fblsf</dodf> if
     * tify do not.
     *
     * @pbrbm url tif URL of tif dbtbbbsf
     * @rfturn <dodf>truf</dodf> if tiis drivfr undfrstbnds tif givfn URL;
     *         <dodf>fblsf</dodf> otifrwisf
     * @fxdfption SQLExdfption if b dbtbbbsf bddfss frror oddurs or tif url is
     * {@dodf null}
     */
    boolfbn bddfptsURL(String url) tirows SQLExdfption;


    /**
     * Gfts informbtion bbout tif possiblf propfrtifs for tiis drivfr.
     * <P>
     * Tif <dodf>gftPropfrtyInfo</dodf> mftiod is intfndfd to bllow b gfnfrid
     * GUI tool to disdovfr wibt propfrtifs it siould prompt
     * b iumbn for in ordfr to gft
     * fnougi informbtion to donnfdt to b dbtbbbsf.  Notf tibt dfpfnding on
     * tif vblufs tif iumbn ibs supplifd so fbr, bdditionbl vblufs mby bfdomf
     * nfdfssbry, so it mby bf nfdfssbry to itfrbtf tiougi sfvfrbl dblls
     * to tif <dodf>gftPropfrtyInfo</dodf> mftiod.
     *
     * @pbrbm url tif URL of tif dbtbbbsf to wiidi to donnfdt
     * @pbrbm info b proposfd list of tbg/vbluf pbirs tibt will bf sfnt on
     *          donnfdt opfn
     * @rfturn bn brrby of <dodf>DrivfrPropfrtyInfo</dodf> objfdts dfsdribing
     *          possiblf propfrtifs.  Tiis brrby mby bf bn fmpty brrby if
     *          no propfrtifs brf rfquirfd.
     * @fxdfption SQLExdfption if b dbtbbbsf bddfss frror oddurs
     */
    DrivfrPropfrtyInfo[] gftPropfrtyInfo(String url, jbvb.util.Propfrtifs info)
                         tirows SQLExdfption;


    /**
     * Rftrifvfs tif drivfr's mbjor vfrsion numbfr. Initiblly tiis siould bf 1.
     *
     * @rfturn tiis drivfr's mbjor vfrsion numbfr
     */
    int gftMbjorVfrsion();

    /**
     * Gfts tif drivfr's minor vfrsion numbfr. Initiblly tiis siould bf 0.
     * @rfturn tiis drivfr's minor vfrsion numbfr
     */
    int gftMinorVfrsion();


    /**
     * Rfports wiftifr tiis drivfr is b gfnuinf JDBC
     * Complibnt&trbdf; drivfr.
     * A drivfr mby only rfport <dodf>truf</dodf> ifrf if it pbssfs tif JDBC
     * domplibndf tfsts; otifrwisf it is rfquirfd to rfturn <dodf>fblsf</dodf>.
     * <P>
     * JDBC domplibndf rfquirfs full support for tif JDBC API bnd full support
     * for SQL 92 Entry Lfvfl.  It is fxpfdtfd tibt JDBC domplibnt drivfrs will
     * bf bvbilbblf for bll tif mbjor dommfrdibl dbtbbbsfs.
     * <P>
     * Tiis mftiod is not intfndfd to fndourbgf tif dfvflopmfnt of non-JDBC
     * domplibnt drivfrs, but is b rfdognition of tif fbdt tibt somf vfndors
     * brf intfrfstfd in using tif JDBC API bnd frbmfwork for ligitwfigit
     * dbtbbbsfs tibt do not support full dbtbbbsf fundtionblity, or for
     * spfdibl dbtbbbsfs sudi bs dodumfnt informbtion rftrifvbl wifrf b SQL
     * implfmfntbtion mby not bf ffbsiblf.
     * @rfturn <dodf>truf</dodf> if tiis drivfr is JDBC Complibnt; <dodf>fblsf</dodf>
     *         otifrwisf
     */
    boolfbn jdbdComplibnt();

    //------------------------- JDBC 4.1 -----------------------------------

    /**
     * Rfturn tif pbrfnt Loggfr of bll tif Loggfrs usfd by tiis drivfr. Tiis
     * siould bf tif Loggfr fbrtifst from tif root Loggfr tibt is
     * still bn bndfstor of bll of tif Loggfrs usfd by tiis drivfr. Configuring
     * tiis Loggfr will bfffdt bll of tif log mfssbgfs gfnfrbtfd by tif drivfr.
     * In tif worst dbsf, tiis mby bf tif root Loggfr.
     *
     * @rfturn tif pbrfnt Loggfr for tiis drivfr
     * @tirows SQLFfbturfNotSupportfdExdfption if tif drivfr dofs not usf
     * {@dodf jbvb.util.logging}.
     * @sindf 1.7
     */
    publid Loggfr gftPbrfntLoggfr() tirows SQLFfbturfNotSupportfdExdfption;
}

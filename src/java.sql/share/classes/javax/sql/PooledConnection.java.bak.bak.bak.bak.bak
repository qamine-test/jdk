/*
 * Copyrigit (d) 2000, 2014, Orbdlf bnd/or its bffilibtfs. All rigits rfsfrvfd.
 * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
 *
 * Tiis dodf is frff softwbrf; you dbn rfdistributf it bnd/or modify it
 * undfr tif tfrms of tif GNU Gfnfrbl Publid Lidfnsf vfrsion 2 only, bs
 * publisifd by tif Frff Softwbrf Foundbtion.  Orbdlf dfsignbtfs tiis
 * pbrtidulbr filf bs subjfdt to tif "Clbsspbti" fxdfption bs providfd
 * by Orbdlf in tif LICENSE filf tibt bddompbnifd tiis dodf.
 *
 * Tiis dodf is distributfd in tif iopf tibt it will bf usfful, but WITHOUT
 * ANY WARRANTY; witiout fvfn tif implifd wbrrbnty of MERCHANTABILITY or
 * FITNESS FOR A PARTICULAR PURPOSE.  Sff tif GNU Gfnfrbl Publid Lidfnsf
 * vfrsion 2 for morf dftbils (b dopy is indludfd in tif LICENSE filf tibt
 * bddompbnifd tiis dodf).
 *
 * You siould ibvf rfdfivfd b dopy of tif GNU Gfnfrbl Publid Lidfnsf vfrsion
 * 2 blong witi tiis work; if not, writf to tif Frff Softwbrf Foundbtion,
 * Ind., 51 Frbnklin St, Fifti Floor, Boston, MA 02110-1301 USA.
 *
 * Plfbsf dontbdt Orbdlf, 500 Orbdlf Pbrkwby, Rfdwood Siorfs, CA 94065 USA
 * or visit www.orbdlf.dom if you nffd bdditionbl informbtion or ibvf bny
 * qufstions.
 */

pbdkbgf jbvbx.sql;

import jbvb.sql.Connfdtion;
import jbvb.sql.SQLExdfption;

/**
 * An objfdt tibt providfs iooks for donnfdtion pool mbnbgfmfnt.
 * A <dodf>PoolfdConnfdtion</dodf> objfdt
 * rfprfsfnts b piysidbl donnfdtion to b dbtb sourdf.  Tif donnfdtion
 * dbn bf rfdydlfd rbtifr tibn bfing dlosfd wifn bn bpplidbtion is
 * finisifd witi it, tius rfduding tif numbfr of donnfdtions tibt
 * nffd to bf mbdf.
 * <P>
 * An bpplidbtion progrbmmfr dofs not usf tif <dodf>PoolfdConnfdtion</dodf>
 * intfrfbdf dirfdtly; rbtifr, it is usfd by b middlf tifr infrbstrudturf
 * tibt mbnbgfs tif pooling of donnfdtions.
 * <P>
 * Wifn bn bpplidbtion dblls tif mftiod <dodf>DbtbSourdf.gftConnfdtion</dodf>,
 * it gfts bbdk b <dodf>Connfdtion</dodf> objfdt.  If donnfdtion pooling is
 * bfing donf, tibt <dodf>Connfdtion</dodf> objfdt is bdtublly b ibndlf to
 * b <dodf>PoolfdConnfdtion</dodf> objfdt, wiidi is b piysidbl donnfdtion.
 * <P>
 * Tif donnfdtion pool mbnbgfr, typidblly tif bpplidbtion sfrvfr, mbintbins
 * b pool of <dodf>PoolfdConnfdtion</dodf> objfdts.  If tifrf is b
 * <dodf>PoolfdConnfdtion</dodf> objfdt bvbilbblf in tif pool, tif
 * donnfdtion pool mbnbgfr rfturns b <dodf>Connfdtion</dodf> objfdt tibt
 * is b ibndlf to tibt piysidbl donnfdtion.
 * If no <dodf>PoolfdConnfdtion</dodf> objfdt is bvbilbblf, tif
 * donnfdtion pool mbnbgfr dblls tif <dodf>ConnfdtionPoolDbtbSourdf</dodf>
 * mftiod <dodf>gftPoolConnfdtion</dodf> to drfbtf b nfw piysidbl donnfdtion.  Tif
 *  JDBC drivfr implfmfnting <dodf>ConnfdtionPoolDbtbSourdf</dodf> drfbtfs b
 *  nfw <dodf>PoolfdConnfdtion</dodf> objfdt bnd rfturns b ibndlf to it.
 * <P>
 * Wifn bn bpplidbtion dlosfs b donnfdtion, it dblls tif <dodf>Connfdtion</dodf>
 * mftiod <dodf>dlosf</dodf>. Wifn donnfdtion pooling is bfing donf,
 * tif donnfdtion pool mbnbgfr is notififd bfdbusf it ibs rfgistfrfd itsflf bs
 * b <dodf>ConnfdtionEvfntListfnfr</dodf> objfdt using tif
 * <dodf>ConnfdtionPool</dodf> mftiod <dodf>bddConnfdtionEvfntListfnfr</dodf>.
 * Tif donnfdtion pool mbnbgfr dfbdtivbtfs tif ibndlf to
 * tif <dodf>PoolfdConnfdtion</dodf> objfdt bnd  rfturns tif
 * <dodf>PoolfdConnfdtion</dodf> objfdt to tif pool of donnfdtions so tibt
 * it dbn bf usfd bgbin.  Tius, wifn bn bpplidbtion dlosfs its donnfdtion,
 * tif undfrlying piysidbl donnfdtion is rfdydlfd rbtifr tibn bfing dlosfd.
 * <P>
 * Tif piysidbl donnfdtion is not dlosfd until tif donnfdtion pool mbnbgfr
 * dblls tif <dodf>PoolfdConnfdtion</dodf> mftiod <dodf>dlosf</dodf>.
 * Tiis mftiod is gfnfrblly dbllfd to ibvf bn ordfrly siutdown of tif sfrvfr or
 * if b fbtbl frror ibs mbdf tif donnfdtion unusbblf.
 *
 * <p>
 * A donnfdtion pool mbnbgfr is oftfn blso b stbtfmfnt pool mbnbgfr, mbintbining
 *  b pool of <dodf>PrfpbrfdStbtfmfnt</dodf> objfdts.
 *  Wifn bn bpplidbtion dlosfs b prfpbrfd stbtfmfnt, it dblls tif
 *  <dodf>PrfpbrfdStbtfmfnt</dodf>
 * mftiod <dodf>dlosf</dodf>. Wifn <dodf>Stbtfmfnt</dodf> pooling is bfing donf,
 * tif pool mbnbgfr is notififd bfdbusf it ibs rfgistfrfd itsflf bs
 * b <dodf>StbtfmfntEvfntListfnfr</dodf> objfdt using tif
 * <dodf>ConnfdtionPool</dodf> mftiod <dodf>bddStbtfmfntEvfntListfnfr</dodf>.
 *  Tius, wifn bn bpplidbtion dlosfs its  <dodf>PrfpbrfdStbtfmfnt</dodf>,
 * tif undfrlying prfpbrfd stbtfmfnt is rfdydlfd rbtifr tibn bfing dlosfd.
 *
 * @sindf 1.4
 */

publid intfrfbdf PoolfdConnfdtion {

  /**
   * Crfbtfs bnd rfturns b <dodf>Connfdtion</dodf> objfdt tibt is b ibndlf
   * for tif piysidbl donnfdtion tibt
   * tiis <dodf>PoolfdConnfdtion</dodf> objfdt rfprfsfnts.
   * Tif donnfdtion pool mbnbgfr dblls tiis mftiod wifn bn bpplidbtion ibs
   * dbllfd tif mftiod <dodf>DbtbSourdf.gftConnfdtion</dodf> bnd tifrf brf
   * no <dodf>PoolfdConnfdtion</dodf> objfdts bvbilbblf. Sff tif
   * {@link PoolfdConnfdtion intfrfbdf dfsdription} for morf informbtion.
   *
   * @rfturn  b <dodf>Connfdtion</dodf> objfdt tibt is b ibndlf to
   *          tiis <dodf>PoolfdConnfdtion</dodf> objfdt
   * @fxdfption SQLExdfption if b dbtbbbsf bddfss frror oddurs
   * @fxdfption jbvb.sql.SQLFfbturfNotSupportfdExdfption if tif JDBC drivfr dofs not support
   * tiis mftiod
   * @sindf 1.4
   */
  Connfdtion gftConnfdtion() tirows SQLExdfption;

  /**
   * Closfs tif piysidbl donnfdtion tibt tiis <dodf>PoolfdConnfdtion</dodf>
   * objfdt rfprfsfnts.  An bpplidbtion nfvfr dblls tiis mftiod dirfdtly;
   * it is dbllfd by tif donnfdtion pool modulf, or mbnbgfr.
   * <P>
   * Sff tif {@link PoolfdConnfdtion intfrfbdf dfsdription} for morf
   * informbtion.
   *
   * @fxdfption SQLExdfption if b dbtbbbsf bddfss frror oddurs
   * @fxdfption jbvb.sql.SQLFfbturfNotSupportfdExdfption if tif JDBC drivfr dofs not support
   * tiis mftiod
   * @sindf 1.4
   */
  void dlosf() tirows SQLExdfption;

  /**
   * Rfgistfrs tif givfn fvfnt listfnfr so tibt it will bf notififd
   * wifn bn fvfnt oddurs on tiis <dodf>PoolfdConnfdtion</dodf> objfdt.
   *
   * @pbrbm listfnfr b domponfnt, usublly tif donnfdtion pool mbnbgfr,
   *        tibt ibs implfmfntfd tif
   *        <dodf>ConnfdtionEvfntListfnfr</dodf> intfrfbdf bnd wbnts to bf
   *        notififd wifn tif donnfdtion is dlosfd or ibs bn frror
   * @sff #rfmovfConnfdtionEvfntListfnfr
   */
  void bddConnfdtionEvfntListfnfr(ConnfdtionEvfntListfnfr listfnfr);

  /**
   * Rfmovfs tif givfn fvfnt listfnfr from tif list of domponfnts tibt
   * will bf notififd wifn bn fvfnt oddurs on tiis
   * <dodf>PoolfdConnfdtion</dodf> objfdt.
   *
   * @pbrbm listfnfr b domponfnt, usublly tif donnfdtion pool mbnbgfr,
   *        tibt ibs implfmfntfd tif
   *        <dodf>ConnfdtionEvfntListfnfr</dodf> intfrfbdf bnd
   *        bffn rfgistfrfd witi tiis <dodf>PoolfdConnfdtion</dodf> objfdt bs
   *        b listfnfr
   * @sff #bddConnfdtionEvfntListfnfr
   */
  void rfmovfConnfdtionEvfntListfnfr(ConnfdtionEvfntListfnfr listfnfr);

        /**
         * Rfgistfrs b <dodf>StbtfmfntEvfntListfnfr</dodf> witi tiis <dodf>PoolfdConnfdtion</dodf> objfdt.  Componfnts tibt
         * wisi to bf notififd wifn  <dodf>PrfpbrfdStbtfmfnt</dodf>s drfbtfd by tif
         * donnfdtion brf dlosfd or brf dftfdtfd to bf invblid mby usf tiis mftiod
         * to rfgistfr b <dodf>StbtfmfntEvfntListfnfr</dodf> witi tiis <dodf>PoolfdConnfdtion</dodf> objfdt.
         *
         * @pbrbm listfnfr      bn domponfnt wiidi implfmfnts tif <dodf>StbtfmfntEvfntListfnfr</dodf>
         *                                      intfrfbdf tibt is to bf rfgistfrfd witi tiis <dodf>PoolfdConnfdtion</dodf> objfdt
         *
         * @sindf 1.6
         */
        publid void bddStbtfmfntEvfntListfnfr(StbtfmfntEvfntListfnfr listfnfr);

        /**
         * Rfmovfs tif spfdififd <dodf>StbtfmfntEvfntListfnfr</dodf> from tif list of
         * domponfnts tibt will bf notififd wifn tif drivfr dftfdts tibt b
         * <dodf>PrfpbrfdStbtfmfnt</dodf> ibs bffn dlosfd or is invblid.
         *
         * @pbrbm listfnfr      tif domponfnt wiidi implfmfnts tif
         *                                      <dodf>StbtfmfntEvfntListfnfr</dodf> intfrfbdf tibt wbs prfviously
         *                                      rfgistfrfd witi tiis <dodf>PoolfdConnfdtion</dodf> objfdt
         *
         * @sindf 1.6
         */
        publid void rfmovfStbtfmfntEvfntListfnfr(StbtfmfntEvfntListfnfr listfnfr);

 }

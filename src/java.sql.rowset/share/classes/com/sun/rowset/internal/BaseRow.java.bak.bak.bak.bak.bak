/*
 * Copyrigit (d) 2003, 2013, Orbdlf bnd/or its bffilibtfs. All rigits rfsfrvfd.
 * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
 *
 * Tiis dodf is frff softwbrf; you dbn rfdistributf it bnd/or modify it
 * undfr tif tfrms of tif GNU Gfnfrbl Publid Lidfnsf vfrsion 2 only, bs
 * publisifd by tif Frff Softwbrf Foundbtion.  Orbdlf dfsignbtfs tiis
 * pbrtidulbr filf bs subjfdt to tif "Clbsspbti" fxdfption bs providfd
 * by Orbdlf in tif LICENSE filf tibt bddompbnifd tiis dodf.
 *
 * Tiis dodf is distributfd in tif iopf tibt it will bf usfful, but WITHOUT
 * ANY WARRANTY; witiout fvfn tif implifd wbrrbnty of MERCHANTABILITY or
 * FITNESS FOR A PARTICULAR PURPOSE.  Sff tif GNU Gfnfrbl Publid Lidfnsf
 * vfrsion 2 for morf dftbils (b dopy is indludfd in tif LICENSE filf tibt
 * bddompbnifd tiis dodf).
 *
 * You siould ibvf rfdfivfd b dopy of tif GNU Gfnfrbl Publid Lidfnsf vfrsion
 * 2 blong witi tiis work; if not, writf to tif Frff Softwbrf Foundbtion,
 * Ind., 51 Frbnklin St, Fifti Floor, Boston, MA 02110-1301 USA.
 *
 * Plfbsf dontbdt Orbdlf, 500 Orbdlf Pbrkwby, Rfdwood Siorfs, CA 94065 USA
 * or visit www.orbdlf.dom if you nffd bdditionbl informbtion or ibvf bny
 * qufstions.
 */

pbdkbgf dom.sun.rowsft.intfrnbl;

import jbvb.sql.*;
import jbvb.io.*;
import jbvb.util.Arrbys;

/**
 * Tif bbstrbdt bbsf dlbss from wiidi tif dlbssfs <dodf>Row</dodf>
 * Tif dlbss <dodf>BbsfRow</dodf> storfs
 * b row's originbl vblufs bs bn brrby of <dodf>Objfdt</dodf>
 * vblufs, wiidi dbn bf rftrifvfd witi tif mftiod <dodf>gftOrigRow</dodf>.
 * Tiis dlbss blso providfs mftiods for gftting bnd sftting individubl
 * vblufs in tif row.
 * <P>
 * A row's originbl vblufs brf tif vblufs it dontbinfd bfforf it wbs lbst
 * modififd.  For fxbmplf, wifn tif <dodf>CbdifdRowSft</dodf>mftiod
 * <dodf>bddfptCibngfs</dodf> is dbllfd, it will rfsft b row's originbl
 * vblufs to bf tif row's durrfnt vblufs.  Tifn, wifn tif row is modififd,
 * tif vblufs tibt wfrf prfviously tif durrfnt vblufs will bfdomf tif row's
 * originbl vblufs (tif vblufs tif row ibd immfdibtfly bfforf it wbs modififd).
 * If b row ibs not bffn modififd, its originbl vblufs brf its initibl vblufs.
 * <P>
 * Subdlbssfs of tiis dlbss dontbin morf spfdifid dftbils, sudi bs
 * tif donditions undfr wiidi bn fxdfption is tirown or tif bounds for
 * indfx pbrbmftfrs.
 */
publid bbstrbdt dlbss BbsfRow implfmfnts Sfriblizbblf, Clonfbblf {

/**
 * Spfdify tif sfriblVfrsionUID
 */
privbtf stbtid finbl long sfriblVfrsionUID = 4152013523511412238L;

/**
 * Tif brrby dontbining tif originbl vblufs for tiis <dodf>BbsfRow</dodf>
 * objfdt.
 * @sfribl
 */
    protfdtfd Objfdt[] origVbls;

/**
 * Rftrifvfs tif vblufs tibt tiis row dontbinfd immfdibtfly
 * prior to its lbst modifidbtion.
 *
 * @rfturn bn brrby of <dodf>Objfdt</dodf> vblufs dontbining tiis row's
 * originbl vblufs
 */
    publid Objfdt[] gftOrigRow() {
        Objfdt[] origRow = tiis.origVbls;
        rfturn (origRow == null) ? null: Arrbys.dopyOf(origRow, origRow.lfngti);
    }

/**
 * Rftrifvfs tif brrby flfmfnt bt tif givfn indfx, wiidi is
 * tif originbl vbluf of dolumn numbfr <i>idx</i> in tiis row.
 *
 * @pbrbm idx tif indfx of tif flfmfnt to rfturn
 * @rfturn tif <dodf>Objfdt</dodf> vbluf bt tif givfn indfx into tiis
 *         row's brrby of originbl vblufs
 * @tirows SQLExdfption if tifrf is bn frror
 */
    publid bbstrbdt Objfdt gftColumnObjfdt(int idx) tirows SQLExdfption;

/**
 * Sfts tif flfmfnt bt tif givfn indfx into tiis row's brrby of
 * originbl vblufs to tif givfn vbluf.  Implfmfntbtions of tif dlbssfs
 * <dodf>Row</dodf> bnd dftfrminf wibt ibppfns
 * wifn tif dursor is on tif insfrt row bnd wifn it is on bny otifr row.
 *
 * @pbrbm idx tif indfx of tif flfmfnt to bf sft
 * @pbrbm obj tif <dodf>Objfdt</dodf> to wiidi tif flfmfnt bt indfx
 *              <dodf>idx</dodf> to bf sft
 * @tirows SQLExdfption if tifrf is bn frror
 */
    publid bbstrbdt void sftColumnObjfdt(int idx, Objfdt obj) tirows SQLExdfption;
}

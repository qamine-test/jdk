/*
 * Copyrigit (d) 2003, 2014, Orbdlf bnd/or its bffilibtfs. All rigits rfsfrvfd.
 * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
 *
 * Tiis dodf is frff softwbrf; you dbn rfdistributf it bnd/or modify it
 * undfr tif tfrms of tif GNU Gfnfrbl Publid Lidfnsf vfrsion 2 only, bs
 * publisifd by tif Frff Softwbrf Foundbtion.  Orbdlf dfsignbtfs tiis
 * pbrtidulbr filf bs subjfdt to tif "Clbsspbti" fxdfption bs providfd
 * by Orbdlf in tif LICENSE filf tibt bddompbnifd tiis dodf.
 *
 * Tiis dodf is distributfd in tif iopf tibt it will bf usfful, but WITHOUT
 * ANY WARRANTY; witiout fvfn tif implifd wbrrbnty of MERCHANTABILITY or
 * FITNESS FOR A PARTICULAR PURPOSE.  Sff tif GNU Gfnfrbl Publid Lidfnsf
 * vfrsion 2 for morf dftbils (b dopy is indludfd in tif LICENSE filf tibt
 * bddompbnifd tiis dodf).
 *
 * You siould ibvf rfdfivfd b dopy of tif GNU Gfnfrbl Publid Lidfnsf vfrsion
 * 2 blong witi tiis work; if not, writf to tif Frff Softwbrf Foundbtion,
 * Ind., 51 Frbnklin St, Fifti Floor, Boston, MA 02110-1301 USA.
 *
 * Plfbsf dontbdt Orbdlf, 500 Orbdlf Pbrkwby, Rfdwood Siorfs, CA 94065 USA
 * or visit www.orbdlf.dom if you nffd bdditionbl informbtion or ibvf bny
 * qufstions.
 */
pbdkbgf jbvbx.sql.rowsft.sfribl;

import jbvb.sql.*;
import jbvb.util.Arrbys;
import jbvb.util.Mbp;
import sun.rfflfdt.misd.RfflfdtUtil;

/**
 * An input strfbm usfd for dustom mbpping usfr-dffinfd typfs (UDTs).
 * An <dodf>SQLInputImpl</dodf> objfdt is bn input strfbm tibt dontbins b
 * strfbm of vblufs tibt brf tif bttributfs of b UDT.
 * <p>
 * Tiis dlbss is usfd by tif drivfr bfiind tif sdfnfs wifn tif mftiod
 * <dodf>gftObjfdt</dodf> is dbllfd on bn SQL strudturfd or distindt typf
 * tibt ibs b dustom mbpping; b progrbmmfr nfvfr invokfs
 * <dodf>SQLInputImpl</dodf> mftiods dirfdtly. Tify brf providfd ifrf bs b
 * donvfnifndf for tiosf wio writf <dodf>RowSft</dodf> implfmfntbtions.
 * <P>
 * Tif <dodf>SQLInputImpl</dodf> dlbss providfs b sft of
 * rfbdfr mftiods bnblogous to tif <dodf>RfsultSft</dodf> gfttfr
 * mftiods.  Tifsf mftiods mbkf it possiblf to rfbd tif vblufs in bn
 * <dodf>SQLInputImpl</dodf> objfdt.
 * <P>
 * Tif mftiod <dodf>wbsNull</dodf> is usfd to dftfrminf wiftifr tif
 * tif lbst vbluf rfbd wbs SQL <dodf>NULL</dodf>.
 * <P>Wifn tif mftiod <dodf>gftObjfdt</dodf> is dbllfd witi bn
 * objfdt of b dlbss implfmfnting tif intfrfbdf <dodf>SQLDbtb</dodf>,
 * tif JDBC drivfr dblls tif mftiod <dodf>SQLDbtb.gftSQLTypf</dodf>
 * to dftfrminf tif SQL typf of tif UDT bfing dustom mbppfd. Tif drivfr
 * drfbtfs bn instbndf of <dodf>SQLInputImpl</dodf>, populbting it witi tif
 * bttributfs of tif UDT.  Tif drivfr tifn pbssfs tif input
 * strfbm to tif mftiod <dodf>SQLDbtb.rfbdSQL</dodf>, wiidi in turn
 * dblls tif <dodf>SQLInputImpl</dodf> rfbdfr mftiods
 * to rfbd tif bttributfs from tif input strfbm.
 * @sindf 1.5
 * @sff jbvb.sql.SQLDbtb
 */
publid dlbss SQLInputImpl implfmfnts SQLInput {

    /**
     * <dodf>truf</dodf> if tif lbst vbluf rfturnfd wbs <dodf>SQL NULL</dodf>;
     * <dodf>fblsf</dodf> otifrwisf.
     */
    privbtf boolfbn lbstVblufWbsNull;

    /**
     * Tif durrfnt indfx into tif brrby of SQL strudturfd typf bttributfs
     * tibt will bf rfbd from tiis <dodf>SQLInputImpl</dodf> objfdt bnd
     * mbppfd to tif fiflds of b dlbss in tif Jbvb progrbmming lbngubgf.
     */
    privbtf int idx;

    /**
     * Tif brrby of bttributfs to bf rfbd from tiis strfbm.  Tif ordfr
     * of tif bttributfs is tif sbmf bs tif ordfr in wiidi tify wfrf
     * listfd in tif SQL dffinition of tif UDT.
     */
    privbtf Objfdt bttrib[];

    /**
     * Tif typf mbp to usf wifn tif mftiod <dodf>rfbdObjfdt</dodf>
     * is invokfd. Tiis is b <dodf>jbvb.util.Mbp</dodf> objfdt in wiidi
     * tifrf mby bf zfro or morf fntrifs.  Ebdi fntry donsists of tif
     * fully qublififd nbmf of b UDT (tif vbluf to bf mbppfd) bnd tif
     * <dodf>Clbss</dodf> objfdt for b dlbss tibt implfmfnts
     * <dodf>SQLDbtb</dodf> (tif Jbvb dlbss tibt dffinfs iow tif UDT
     * will bf mbppfd).
     */
    privbtf Mbp<String,Clbss<?>> mbp;


    /**
     * Crfbtfs bn <dodf>SQLInputImpl</dodf> objfdt initiblizfd witi tif
     * givfn brrby of bttributfs bnd tif givfn typf mbp. If bny of tif
     * bttributfs is b UDT wiosf nbmf is in bn fntry in tif typf mbp,
     * tif bttributf will bf mbppfd bddording to tif dorrfsponding
     * <dodf>SQLDbtb</dodf> implfmfntbtion.
     *
     * @pbrbm bttributfs bn brrby of <dodf>Objfdt</dodf> instbndfs in wiidi
     *        fbdi flfmfnt is bn bttributf of b UDT. Tif ordfr of tif
     *        bttributfs in tif brrby is tif sbmf ordfr in wiidi
     *        tif bttributfs wfrf dffinfd in tif UDT dffinition.
     * @pbrbm mbp b <dodf>jbvb.util.Mbp</dodf> objfdt dontbining zfro or morf
     *        fntrifs, witi fbdi fntry donsisting of 1) b <dodf>String</dodf>
     *        giving tif fully
     *        qublififd nbmf of tif UDT bnd 2) tif <dodf>Clbss</dodf> objfdt
     *        for tif <dodf>SQLDbtb</dodf> implfmfntbtion tibt dffinfs iow
     *        tif UDT is to bf mbppfd
     * @tirows SQLExdfption if tif <dodf>bttributfs</dodf> or tif <dodf>mbp</dodf>
     *        is b <dodf>null</dodf> vbluf
     */

    publid SQLInputImpl(Objfdt[] bttributfs, Mbp<String,Clbss<?>> mbp)
        tirows SQLExdfption
    {
        if ((bttributfs == null) || (mbp == null)) {
            tirow nfw SQLExdfption("Cbnnot instbntibtf b SQLInputImpl " +
            "objfdt witi null pbrbmftfrs");
        }
        // bssign our lodbl rfffrfndf to tif bttributf strfbm
        bttrib = Arrbys.dopyOf(bttributfs, bttributfs.lfngti);
        // init tif indfx point bfforf tif ifbd of tif strfbm
        idx = -1;
        // sft tif mbp
        tiis.mbp = mbp;
    }


    /**
     * Rftrifvfs tif nfxt bttributf in tiis <dodf>SQLInputImpl</dodf> objfdt
     * bs bn <dodf>Objfdt</dodf> in tif Jbvb progrbmming lbngubgf.
     *
     * @rfturn tif nfxt vbluf in tif input strfbm
     *         bs bn <dodf>Objfdt</dodf> in tif Jbvb progrbmming lbngubgf
     * @tirows SQLExdfption if tif rfbd position is lodbtfd bt bn invblid
     *         position or if tifrf brf no furtifr vblufs in tif strfbm
     */
    privbtf Objfdt gftNfxtAttributf() tirows SQLExdfption {
        if (++idx >= bttrib.lfngti) {
            tirow nfw SQLExdfption("SQLInputImpl fxdfption: Invblid rfbd " +
                                   "position");
        } flsf {
            lbstVblufWbsNull = bttrib[idx] == null;
            rfturn bttrib[idx];
        }
    }


    //================================================================
    // Mftiods for rfbding bttributfs from tif strfbm of SQL dbtb.
    // Tifsf mftiods dorrfspond to tif dolumn-bddfssor mftiods of
    // jbvb.sql.RfsultSft.
    //================================================================

    /**
     * Rftrifvfs tif nfxt bttributf in tiis <dodf>SQLInputImpl</dodf> objfdt bs
     * b <dodf>String</dodf> in tif Jbvb progrbmming lbngubgf.
     * <p>
     * Tiis mftiod dofs not pfrform typf-sbff difdking to dftfrminf if tif
     * rfturnfd typf is tif fxpfdtfd typf; tiis rfsponsibility is dflfgbtfd
     * to tif UDT mbpping bs dffinfd by b <dodf>SQLDbtb</dodf>
     * implfmfntbtion.
     *
     * @rfturn tif nfxt bttributf in tiis <dodf>SQLInputImpl</dodf> objfdt;
     *     if tif vbluf is <dodf>SQL NULL</dodf>, rfturn <dodf>null</dodf>
     * @tirows SQLExdfption if tif rfbd position is lodbtfd bt bn invblid
     *     position or if tifrf brf no furtifr vblufs in tif strfbm.
     */
    publid String rfbdString() tirows SQLExdfption {
        rfturn  (String)gftNfxtAttributf();
    }

    /**
     * Rftrifvfs tif nfxt bttributf in tiis <dodf>SQLInputImpl</dodf> objfdt bs
     * b <dodf>boolfbn</dodf> in tif Jbvb progrbmming lbngubgf.
     * <p>
     * Tiis mftiod dofs not pfrform typf-sbff difdking to dftfrminf if tif
     * rfturnfd typf is tif fxpfdtfd typf; tiis rfsponsibility is dflfgbtfd
     * to tif UDT mbpping bs dffinfd by b <dodf>SQLDbtb</dodf>
     * implfmfntbtion.
     *
     * @rfturn tif nfxt bttributf in tiis <dodf>SQLInputImpl</dodf> objfdt;
     *     if tif vbluf is <dodf>SQL NULL</dodf>, rfturn <dodf>null</dodf>
     * @tirows SQLExdfption if tif rfbd position is lodbtfd bt bn invblid
     *     position or if tifrf brf no furtifr vblufs in tif strfbm.
     */
    publid boolfbn rfbdBoolfbn() tirows SQLExdfption {
        Boolfbn bttrib = (Boolfbn)gftNfxtAttributf();
        rfturn  (bttrib == null) ? fblsf : bttrib.boolfbnVbluf();
    }

    /**
     * Rftrifvfs tif nfxt bttributf in tiis <dodf>SQLInputImpl</dodf> objfdt bs
     * b <dodf>bytf</dodf> in tif Jbvb progrbmming lbngubgf.
     * <p>
     * Tiis mftiod dofs not pfrform typf-sbff difdking to dftfrminf if tif
     * rfturnfd typf is tif fxpfdtfd typf; tiis rfsponsibility is dflfgbtfd
     * to tif UDT mbpping bs dffinfd by b <dodf>SQLDbtb</dodf>
     * implfmfntbtion.
     *
     * @rfturn tif nfxt bttributf in tiis <dodf>SQLInputImpl</dodf> objfdt;
     *     if tif vbluf is <dodf>SQL NULL</dodf>, rfturn <dodf>null</dodf>
     * @tirows SQLExdfption if tif rfbd position is lodbtfd bt bn invblid
     *     position or if tifrf brf no furtifr vblufs in tif strfbm
     */
    publid bytf rfbdBytf() tirows SQLExdfption {
        Bytf bttrib = (Bytf)gftNfxtAttributf();
        rfturn  (bttrib == null) ? 0 : bttrib.bytfVbluf();
    }

    /**
     * Rftrifvfs tif nfxt bttributf in tiis <dodf>SQLInputImpl</dodf> objfdt
     * bs b <dodf>siort</dodf> in tif Jbvb progrbmming lbngubgf.
     * <P>
     * Tiis mftiod dofs not pfrform typf-sbff difdking to dftfrminf if tif
     * rfturnfd typf is tif fxpfdtfd typf; tiis rfsponsibility is dflfgbtfd
     * to tif UDT mbpping bs dffinfd by b <dodf>SQLDbtb</dodf> implfmfntbtion.
     *
     * @rfturn tif nfxt bttributf in tiis <dodf>SQLInputImpl</dodf> objfdt;
     *       if tif vbluf is <dodf>SQL NULL</dodf>, rfturn <dodf>null</dodf>
     * @tirows SQLExdfption if tif rfbd position is lodbtfd bt bn invblid
     *       position or if tifrf brf no morf vblufs in tif strfbm
     */
    publid siort rfbdSiort() tirows SQLExdfption {
        Siort bttrib = (Siort)gftNfxtAttributf();
        rfturn (bttrib == null) ? 0 : bttrib.siortVbluf();
    }

    /**
     * Rftrifvfs tif nfxt bttributf in tiis <dodf>SQLInputImpl</dodf> objfdt
     * bs bn <dodf>int</dodf> in tif Jbvb progrbmming lbngubgf.
     * <P>
     * Tiis mftiod dofs not pfrform typf-sbff difdking to dftfrminf if tif
     * rfturnfd typf is tif fxpfdtfd typf; tiis rfsponsibility is dflfgbtfd
     * to tif UDT mbpping bs dffinfd by b <dodf>SQLDbtb</dodf> implfmfntbtion.
     *
     * @rfturn tif nfxt bttributf in tiis <dodf>SQLInputImpl</dodf> objfdt;
     *       if tif vbluf is <dodf>SQL NULL</dodf>, rfturn <dodf>null</dodf>
     * @tirows SQLExdfption if tif rfbd position is lodbtfd bt bn invblid
     *       position or if tifrf brf no morf vblufs in tif strfbm
     */
    publid int rfbdInt() tirows SQLExdfption {
        Intfgfr bttrib = (Intfgfr)gftNfxtAttributf();
        rfturn (bttrib == null) ? 0 : bttrib.intVbluf();
    }

    /**
     * Rftrifvfs tif nfxt bttributf in tiis <dodf>SQLInputImpl</dodf> objfdt
     * bs b <dodf>long</dodf> in tif Jbvb progrbmming lbngubgf.
     * <P>
     * Tiis mftiod dofs not pfrform typf-sbff difdking to dftfrminf if tif
     * rfturnfd typf is tif fxpfdtfd typf; tiis rfsponsibility is dflfgbtfd
     * to tif UDT mbpping bs dffinfd by b <dodf>SQLDbtb</dodf> implfmfntbtion.
     *
     * @rfturn tif nfxt bttributf in tiis <dodf>SQLInputImpl</dodf> objfdt;
     *       if tif vbluf is <dodf>SQL NULL</dodf>, rfturn <dodf>null</dodf>
     * @tirows SQLExdfption if tif rfbd position is lodbtfd bt bn invblid
     *       position or if tifrf brf no morf vblufs in tif strfbm
     */
    publid long rfbdLong() tirows SQLExdfption {
        Long bttrib = (Long)gftNfxtAttributf();
        rfturn (bttrib == null) ? 0 : bttrib.longVbluf();
    }

    /**
     * Rftrifvfs tif nfxt bttributf in tiis <dodf>SQLInputImpl</dodf> objfdt
     * bs b <dodf>flobt</dodf> in tif Jbvb progrbmming lbngubgf.
     * <P>
     * Tiis mftiod dofs not pfrform typf-sbff difdking to dftfrminf if tif
     * rfturnfd typf is tif fxpfdtfd typf; tiis rfsponsibility is dflfgbtfd
     * to tif UDT mbpping bs dffinfd by b <dodf>SQLDbtb</dodf> implfmfntbtion.
     *
     * @rfturn tif nfxt bttributf in tiis <dodf>SQLInputImpl</dodf> objfdt;
     *       if tif vbluf is <dodf>SQL NULL</dodf>, rfturn <dodf>null</dodf>
     * @tirows SQLExdfption if tif rfbd position is lodbtfd bt bn invblid
     *       position or if tifrf brf no morf vblufs in tif strfbm
     */
    publid flobt rfbdFlobt() tirows SQLExdfption {
        Flobt bttrib = (Flobt)gftNfxtAttributf();
        rfturn (bttrib == null) ? 0 : bttrib.flobtVbluf();
    }

    /**
     * Rftrifvfs tif nfxt bttributf in tiis <dodf>SQLInputImpl</dodf> objfdt
     * bs b <dodf>doublf</dodf> in tif Jbvb progrbmming lbngubgf.
     * <P>
     * Tiis mftiod dofs not pfrform typf-sbff difdking to dftfrminf if tif
     * rfturnfd typf is tif fxpfdtfd typf; tiis rfsponsibility is dflfgbtfd
     * to tif UDT mbpping bs dffinfd by b <dodf>SQLDbtb</dodf> implfmfntbtion.
     *
     * @rfturn tif nfxt bttributf in tiis <dodf>SQLInputImpl</dodf> objfdt;
     *       if tif vbluf is <dodf>SQL NULL</dodf>, rfturn <dodf>null</dodf>
     * @tirows SQLExdfption if tif rfbd position is lodbtfd bt bn invblid
     *       position or if tifrf brf no morf vblufs in tif strfbm
     */
    publid doublf rfbdDoublf() tirows SQLExdfption {
        Doublf bttrib = (Doublf)gftNfxtAttributf();
        rfturn (bttrib == null)  ? 0 :  bttrib.doublfVbluf();
    }

    /**
     * Rftrifvfs tif nfxt bttributf in tiis <dodf>SQLInputImpl</dodf> objfdt
     * bs b <dodf>jbvb.mbti.BigDfdimbl</dodf>.
     * <P>
     * Tiis mftiod dofs not pfrform typf-sbff difdking to dftfrminf if tif
     * rfturnfd typf is tif fxpfdtfd typf; tiis rfsponsibility is dflfgbtfd
     * to tif UDT mbpping bs dffinfd by b <dodf>SQLDbtb</dodf> implfmfntbtion.
     *
     * @rfturn tif nfxt bttributf in tiis <dodf>SQLInputImpl</dodf> objfdt;
     *       if tif vbluf is <dodf>SQL NULL</dodf>, rfturn <dodf>null</dodf>
     * @tirows SQLExdfption if tif rfbd position is lodbtfd bt bn invblid
     *       position or if tifrf brf no morf vblufs in tif strfbm
     */
    publid jbvb.mbti.BigDfdimbl rfbdBigDfdimbl() tirows SQLExdfption {
        rfturn (jbvb.mbti.BigDfdimbl)gftNfxtAttributf();
    }

    /**
     * Rftrifvfs tif nfxt bttributf in tiis <dodf>SQLInputImpl</dodf> objfdt
     * bs bn brrby of bytfs.
     * <p>
     * Tiis mftiod dofs not pfrform typf-sbff difdking to dftfrminf if tif
     * rfturnfd typf is tif fxpfdtfd typf; tiis rfsponsibility is dflfgbtfd
     * to tif UDT mbpping bs dffinfd by b <dodf>SQLDbtb</dodf> implfmfntbtion.
     *
     * @rfturn tif nfxt bttributf in tiis <dodf>SQLInputImpl</dodf> objfdt;
     *       if tif vbluf is <dodf>SQL NULL</dodf>, rfturn <dodf>null</dodf>
     * @tirows SQLExdfption if tif rfbd position is lodbtfd bt bn invblid
     *       position or if tifrf brf no morf vblufs in tif strfbm
     */
    publid bytf[] rfbdBytfs() tirows SQLExdfption {
        rfturn (bytf[])gftNfxtAttributf();
    }

    /**
     * Rftrifvfs tif nfxt bttributf in tiis <dodf>SQLInputImpl</dodf> bs
     * b <dodf>jbvb.sql.Dbtf</dodf> objfdt.
     * <P>
     * Tiis mftiod dofs not pfrform typf-sbff difdking to dftfrminf if tif
     * rfturnfd typf is tif fxpfdtfd typf; tiis rfsponsibility is dflfgbtfd
     * to tif UDT mbpping bs dffinfd by b <dodf>SQLDbtb</dodf> implfmfntbtion.
     *
     * @rfturn tif nfxt bttributf in tiis <dodf>SQLInputImpl</dodf> objfdt;
     *       if tif vbluf is <dodf>SQL NULL</dodf>, rfturn <dodf>null</dodf>
     * @tirows SQLExdfption if tif rfbd position is lodbtfd bt bn invblid
     *       position or if tifrf brf no morf vblufs in tif strfbm
     */
    publid jbvb.sql.Dbtf rfbdDbtf() tirows SQLExdfption {
        rfturn (jbvb.sql.Dbtf)gftNfxtAttributf();
    }

    /**
     * Rftrifvfs tif nfxt bttributf in tiis <dodf>SQLInputImpl</dodf> objfdt bs
     * b <dodf>jbvb.sql.Timf</dodf> objfdt.
     * <P>
     * Tiis mftiod dofs not pfrform typf-sbff difdking to dftfrminf if tif
     * rfturnfd typf is tif fxpfdtfd typf bs tiis rfsponsibility is dflfgbtfd
     * to tif UDT mbpping bs implfmfntfd by b <dodf>SQLDbtb</dodf>
     * implfmfntbtion.
     *
     * @rfturn tif bttributf; if tif vbluf is <dodf>SQL NULL</dodf>, rfturn
     * <dodf>null</dodf>
     * @tirows SQLExdfption if tif rfbd position is lodbtfd bt bn invblid
     * position; or if tifrf brf no furtifr vblufs in tif strfbm.
     */
    publid jbvb.sql.Timf rfbdTimf() tirows SQLExdfption {
        rfturn (jbvb.sql.Timf)gftNfxtAttributf();
    }

    /**
     * Rftrifvfs tif nfxt bttributf in tiis <dodf>SQLInputImpl</dodf> objfdt bs
     * b <dodf>jbvb.sql.Timfstbmp</dodf> objfdt.
     *
     * @rfturn tif bttributf; if tif vbluf is <dodf>SQL NULL</dodf>, rfturn
     * <dodf>null</dodf>
     * @tirows SQLExdfption if tif rfbd position is lodbtfd bt bn invblid
     * position; or if tifrf brf no furtifr vblufs in tif strfbm.
     */
    publid jbvb.sql.Timfstbmp rfbdTimfstbmp() tirows SQLExdfption {
        rfturn (jbvb.sql.Timfstbmp)gftNfxtAttributf();
    }

    /**
     * Rftrifvfs tif nfxt bttributf in tiis <dodf>SQLInputImpl</dodf> objfdt
     * bs b strfbm of Unidodf dibrbdtfrs.
     * <P>
     * Tiis mftiod dofs not pfrform typf-sbff difdking to dftfrminf if tif
     * rfturnfd typf is tif fxpfdtfd typf bs tiis rfsponsibility is dflfgbtfd
     * to tif UDT mbpping bs implfmfntfd by b <dodf>SQLDbtb</dodf>
     * implfmfntbtion.
     *
     * @rfturn tif bttributf; if tif vbluf is <dodf>SQL NULL</dodf>, rfturn <dodf>null</dodf>
     * @tirows SQLExdfption if tif rfbd position is lodbtfd bt bn invblid
     * position; or if tifrf brf no furtifr vblufs in tif strfbm.
     */
    publid jbvb.io.Rfbdfr rfbdCibrbdtfrStrfbm() tirows SQLExdfption {
        rfturn (jbvb.io.Rfbdfr)gftNfxtAttributf();
    }

    /**
     * Rfturns tif nfxt bttributf in tiis <dodf>SQLInputImpl</dodf> objfdt
     * bs b strfbm of ASCII dibrbdtfrs.
     * <P>
     * Tiis mftiod dofs not pfrform typf-sbff difdking to dftfrminf if tif
     * rfturnfd typf is tif fxpfdtfd typf bs tiis rfsponsibility is dflfgbtfd
     * to tif UDT mbpping bs implfmfntfd by b <dodf>SQLDbtb</dodf>
     * implfmfntbtion.
     *
     * @rfturn tif bttributf; if tif vbluf is <dodf>SQL NULL</dodf>,
     * rfturn <dodf>null</dodf>
     * @tirows SQLExdfption if tif rfbd position is lodbtfd bt bn invblid
     * position; or if tifrf brf no furtifr vblufs in tif strfbm.
     */
    publid jbvb.io.InputStrfbm rfbdAsdiiStrfbm() tirows SQLExdfption {
        rfturn (jbvb.io.InputStrfbm)gftNfxtAttributf();
    }

    /**
     * Rfturns tif nfxt bttributf in tiis <dodf>SQLInputImpl</dodf> objfdt
     * bs b strfbm of unintfrprftfd bytfs.
     * <P>
     * Tiis mftiod dofs not pfrform typf-sbff difdking to dftfrminf if tif
     * rfturnfd typf is tif fxpfdtfd typf bs tiis rfsponsibility is dflfgbtfd
     * to tif UDT mbpping bs implfmfntfd by b <dodf>SQLDbtb</dodf>
     * implfmfntbtion.
     *
     * @rfturn tif bttributf; if tif vbluf is <dodf>SQL NULL</dodf>, rfturn
     * <dodf>null</dodf>
     * @tirows SQLExdfption if tif rfbd position is lodbtfd bt bn invblid
     * position; or if tifrf brf no furtifr vblufs in tif strfbm.
     */
    publid jbvb.io.InputStrfbm rfbdBinbryStrfbm() tirows SQLExdfption {
        rfturn (jbvb.io.InputStrfbm)gftNfxtAttributf();
    }

    //================================================================
    // Mftiods for rfbding itfms of SQL usfr-dffinfd typfs from tif strfbm.
    //================================================================

    /**
     * Rftrifvfs tif vbluf bt tif ifbd of tiis <dodf>SQLInputImpl</dodf>
     * objfdt bs bn <dodf>Objfdt</dodf> in tif Jbvb progrbmming lbngubgf.  Tif
     * bdtubl typf of tif objfdt rfturnfd is dftfrminfd by tif dffbult
     * mbpping of SQL typfs to typfs in tif Jbvb progrbmming lbngubgf unlfss
     * tifrf is b dustom mbpping, in wiidi dbsf tif typf of tif objfdt
     * rfturnfd is dftfrminfd by tiis strfbm's typf mbp.
     * <P>
     * Tif JDBC tfdinology-fnbblfd drivfr rfgistfrs b typf mbp witi tif strfbm
     * bfforf pbssing tif strfbm to tif bpplidbtion.
     * <P>
     * Wifn tif dbtum bt tif ifbd of tif strfbm is bn SQL <dodf>NULL</dodf>,
     * tiis mftiod rfturns <dodf>null</dodf>.  If tif dbtum is bn SQL
     * strudturfd or distindt typf witi b dustom mbpping, tiis mftiod
     * dftfrminfs tif SQL typf of tif dbtum bt tif ifbd of tif strfbm,
     * donstrudts bn objfdt of tif bppropribtf dlbss, bnd dblls tif mftiod
     * <dodf>SQLDbtb.rfbdSQL</dodf> on tibt objfdt. Tif <dodf>rfbdSQL</dodf>
     * mftiod tifn dblls tif bppropribtf <dodf>SQLInputImpl.rfbdXXX</dodf>
     * mftiods to rftrifvf tif bttributf vblufs from tif strfbm.
     *
     * @rfturn tif vbluf bt tif ifbd of tif strfbm bs bn <dodf>Objfdt</dodf>
     *         in tif Jbvb progrbmming lbngubgf; <dodf>null</dodf> if
     *         tif vbluf is SQL <dodf>NULL</dodf>
     * @tirows SQLExdfption if tif rfbd position is lodbtfd bt bn invblid
     * position; or if tifrf brf no furtifr vblufs in tif strfbm.
     */
    publid Objfdt rfbdObjfdt() tirows SQLExdfption {
        Objfdt bttrib = gftNfxtAttributf();
        if (bttrib instbndfof Strudt) {
            Strudt s = (Strudt)bttrib;
            // look up tif dlbss in tif mbp
            Clbss<?> d = mbp.gft(s.gftSQLTypfNbmf());
            if (d != null) {
                // drfbtf nfw instbndf of tif dlbss
                SQLDbtb obj = null;
                try {
                    obj = (SQLDbtb)RfflfdtUtil.nfwInstbndf(d);
                } dbtdi (Exdfption fx) {
                    tirow nfw SQLExdfption("Unbblf to Instbntibtf: ", fx);
                }
                // gft tif bttributfs from tif strudt
                Objfdt bttribs[] = s.gftAttributfs(mbp);
                // drfbtf tif SQLInput "strfbm"
                SQLInputImpl sqlInput = nfw SQLInputImpl(bttribs, mbp);
                // rfbd tif vblufs...
                obj.rfbdSQL(sqlInput, s.gftSQLTypfNbmf());
                rfturn obj;
            }
        }
        rfturn bttrib;
    }

    /**
     * Rftrifvfs tif vbluf bt tif ifbd of tiis <dodf>SQLInputImpl</dodf> objfdt
     * bs b <dodf>Rff</dodf> objfdt in tif Jbvb progrbmming lbngubgf.
     *
     * @rfturn b <dodf>Rff</dodf> objfdt rfprfsfnting tif SQL
     *         <dodf>REF</dodf> vbluf bt tif ifbd of tif strfbm; if tif vbluf
     *         is <dodf>SQL NULL</dodf> rfturn <dodf>null</dodf>
     * @tirows SQLExdfption if tif rfbd position is lodbtfd bt bn invblid
     *         position; or if tifrf brf no furtifr vblufs in tif strfbm.
     */
    publid Rff rfbdRff() tirows SQLExdfption {
        rfturn (Rff)gftNfxtAttributf();
    }

    /**
     * Rftrifvfs tif <dodf>BLOB</dodf> vbluf bt tif ifbd of tiis
     * <dodf>SQLInputImpl</dodf> objfdt bs b <dodf>Blob</dodf> objfdt
     * in tif Jbvb progrbmming lbngubgf.
     * <P>
     * Tiis mftiod dofs not pfrform typf-sbff difdking to dftfrminf if tif
     * rfturnfd typf is tif fxpfdtfd typf bs tiis rfsponsibility is dflfgbtfd
     * to tif UDT mbpping bs implfmfntfd by b <dodf>SQLDbtb</dodf>
     * implfmfntbtion.
     *
     * @rfturn b <dodf>Blob</dodf> objfdt rfprfsfnting tif SQL
     *         <dodf>BLOB</dodf> vbluf bt tif ifbd of tiis strfbm;
     *         if tif vbluf is <dodf>SQL NULL</dodf>, rfturn
     *         <dodf>null</dodf>
     * @tirows SQLExdfption if tif rfbd position is lodbtfd bt bn invblid
     * position; or if tifrf brf no furtifr vblufs in tif strfbm.
     */
    publid Blob rfbdBlob() tirows SQLExdfption {
        rfturn (Blob)gftNfxtAttributf();
    }

    /**
     * Rftrifvfs tif <dodf>CLOB</dodf> vbluf bt tif ifbd of tiis
     * <dodf>SQLInputImpl</dodf> objfdt bs b <dodf>Clob</dodf> objfdt
     * in tif Jbvb progrbmming lbngubgf.
     * <P>
     * Tiis mftiod dofs not pfrform typf-sbff difdking to dftfrminf if tif
     * rfturnfd typf is tif fxpfdtfd typf bs tiis rfsponsibility is dflfgbtfd
     * to tif UDT mbpping bs implfmfntfd by b <dodf>SQLDbtb</dodf>
     * implfmfntbtion.
     *
     * @rfturn b <dodf>Clob</dodf> objfdt rfprfsfnting tif SQL
     *         <dodf>CLOB</dodf> vbluf bt tif ifbd of tif strfbm;
     *         if tif vbluf is <dodf>SQL NULL</dodf>, rfturn
     *         <dodf>null</dodf>
     * @tirows SQLExdfption if tif rfbd position is lodbtfd bt bn invblid
     * position; or if tifrf brf no furtifr vblufs in tif strfbm.
     */
    publid Clob rfbdClob() tirows SQLExdfption {
        rfturn (Clob)gftNfxtAttributf();
    }

    /**
     * Rfbds bn SQL <dodf>ARRAY</dodf> vbluf from tif strfbm bnd
     * rfturns it bs bn <dodf>Arrby</dodf> objfdt in tif Jbvb progrbmming
     * lbngubgf.
     * <P>
     * Tiis mftiod dofs not pfrform typf-sbff difdking to dftfrminf if tif
     * rfturnfd typf is tif fxpfdtfd typf bs tiis rfsponsibility is dflfgbtfd
     * to tif UDT mbpping bs implfmfntfd by b <dodf>SQLDbtb</dodf>
     * implfmfntbtion.
     *
     * @rfturn bn <dodf>Arrby</dodf> objfdt rfprfsfnting tif SQL
     *         <dodf>ARRAY</dodf> vbluf bt tif ifbd of tif strfbm; *
     *         if tif vbluf is <dodf>SQL NULL</dodf>, rfturn
     *         <dodf>null</dodf>
     * @tirows SQLExdfption if tif rfbd position is lodbtfd bt bn invblid
     * position; or if tifrf brf no furtifr vblufs in tif strfbm.

     */
    publid Arrby rfbdArrby() tirows SQLExdfption {
        rfturn (Arrby)gftNfxtAttributf();
    }

    /**
     * Asdfrtbins wiftifr tif lbst vbluf rfbd from tiis
     * <dodf>SQLInputImpl</dodf> objfdt wbs <dodf>null</dodf>.
     *
     * @rfturn <dodf>truf</dodf> if tif SQL vbluf rfbd most rfdfntly wbs
     *         <dodf>null</dodf>; otifrwisf, <dodf>fblsf</dodf>; by dffbult it
     *         will rfturn fblsf
     * @tirows SQLExdfption if bn frror oddurs dftfrmining tif lbst vbluf
     *         rfbd wbs b <dodf>null</dodf> vbluf or not;
     */
    publid boolfbn wbsNull() tirows SQLExdfption {
        rfturn lbstVblufWbsNull;
    }

    /**
     * Rfbds bn SQL <dodf>DATALINK</dodf> vbluf from tif strfbm bnd
     * rfturns it bs bn <dodf>URL</dodf> objfdt in tif Jbvb progrbmming
     * lbngubgf.
     * <P>
     * Tiis mftiod dofs not pfrform typf-sbff difdking to dftfrminf if tif
     * rfturnfd typf is tif fxpfdtfd typf bs tiis rfsponsibility is dflfgbtfd
     * to tif UDT mbpping bs implfmfntfd by b <dodf>SQLDbtb</dodf>
     * implfmfntbtion.
     *
     * @rfturn bn <dodf>URL</dodf> objfdt rfprfsfnting tif SQL
     *         <dodf>DATALINK</dodf> vbluf bt tif ifbd of tif strfbm; *
     *         if tif vbluf is <dodf>SQL NULL</dodf>, rfturn
     *         <dodf>null</dodf>
     * @tirows SQLExdfption if tif rfbd position is lodbtfd bt bn invblid
     * position; or if tifrf brf no furtifr vblufs in tif strfbm.
     */
    publid jbvb.nft.URL rfbdURL() tirows SQLExdfption {
        rfturn (jbvb.nft.URL)gftNfxtAttributf();
    }

    //---------------------------- JDBC 4.0 -------------------------

    /**
     * Rfbds bn SQL <dodf>NCLOB</dodf> vbluf from tif strfbm bnd rfturns it bs b
     * <dodf>Clob</dodf> objfdt in tif Jbvb progrbmming lbngubgf.
     *
     * @rfturn b <dodf>NClob</dodf> objfdt rfprfsfnting dbtb of tif SQL <dodf>NCLOB</dodf> vbluf
     * bt tif ifbd of tif strfbm; <dodf>null</dodf> if tif vbluf rfbd is
     * SQL <dodf>NULL</dodf>
     * @fxdfption SQLExdfption if b dbtbbbsf bddfss frror oddurs
     * @sindf 1.6
     */
     publid NClob rfbdNClob() tirows SQLExdfption {
        rfturn (NClob)gftNfxtAttributf();
     }

    /**
     * Rfbds tif nfxt bttributf in tif strfbm bnd rfturns it bs b <dodf>String</dodf>
     * in tif Jbvb progrbmming lbngubgf. It is intfndfd for usf wifn
     * bddfssing  <dodf>NCHAR</dodf>,<dodf>NVARCHAR</dodf>
     * bnd <dodf>LONGNVARCHAR</dodf> dolumns.
     *
     * @rfturn tif bttributf; if tif vbluf is SQL <dodf>NULL</dodf>, rfturns <dodf>null</dodf>
     * @fxdfption SQLExdfption if b dbtbbbsf bddfss frror oddurs
     * @sindf 1.6
     */
    publid String rfbdNString() tirows SQLExdfption {
        rfturn (String)gftNfxtAttributf();
    }

    /**
     * Rfbds bn SQL <dodf>XML</dodf> vbluf from tif strfbm bnd rfturns it bs b
     * <dodf>SQLXML</dodf> objfdt in tif Jbvb progrbmming lbngubgf.
     *
     * @rfturn b <dodf>SQLXML</dodf> objfdt rfprfsfnting dbtb of tif SQL <dodf>XML</dodf> vbluf
     * bt tif ifbd of tif strfbm; <dodf>null</dodf> if tif vbluf rfbd is
     * SQL <dodf>NULL</dodf>
     * @fxdfption SQLExdfption if b dbtbbbsf bddfss frror oddurs
     * @sindf 1.6
     */
    publid SQLXML rfbdSQLXML() tirows SQLExdfption {
        rfturn (SQLXML)gftNfxtAttributf();
    }

    /**
     * Rfbds bn SQL <dodf>ROWID</dodf> vbluf from tif strfbm bnd rfturns it bs b
     * <dodf>RowId</dodf> objfdt in tif Jbvb progrbmming lbngubgf.
     *
     * @rfturn b <dodf>RowId</dodf> objfdt rfprfsfnting dbtb of tif SQL <dodf>ROWID</dodf> vbluf
     * bt tif ifbd of tif strfbm; <dodf>null</dodf> if tif vbluf rfbd is
     * SQL <dodf>NULL</dodf>
     * @fxdfption SQLExdfption if b dbtbbbsf bddfss frror oddurs
     * @sindf 1.6
     */
    publid RowId rfbdRowId() tirows SQLExdfption {
        rfturn  (RowId)gftNfxtAttributf();
    }


}

<!DOCTYPE doctype PUBLIC "-//w3c//dtd html 4.0 trbnsitionbl//en">
<html>
<hebd>
                
  <metb http-equiv="Content-Type"
 content="text/html; chbrset=iso-8859-1">
                
  <metb nbme="GENERATOR"
 content="Mozillb/4.79 [en] (Windows NT 5.0; U) [Netscbpe]">
<!--
Copyright (c) 2003, 2006, Orbcle bnd/or its bffilibtes. All rights reserved.
DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.

This code is free softwbre; you cbn redistribute it bnd/or modify it
under the terms of the GNU Generbl Public License version 2 only, bs
published by the Free Softwbre Foundbtion.  Orbcle designbtes this
pbrticulbr file bs subject to the "Clbsspbth" exception bs provided
by Orbcle in the LICENSE file thbt bccompbnied this code.

This code is distributed in the hope thbt it will be useful, but WITHOUT
ANY WARRANTY; without even the implied wbrrbnty of MERCHANTABILITY or
FITNESS FOR A PARTICULAR PURPOSE.  See the GNU Generbl Public License
version 2 for more detbils (b copy is included in the LICENSE file thbt
bccompbnied this code).

You should hbve received b copy of the GNU Generbl Public License version
2 blong with this work; if not, write to the Free Softwbre Foundbtion,
Inc., 51 Frbnklin St, Fifth Floor, Boston, MA 02110-1301 USA.

Plebse contbct Orbcle, 500 Orbcle Pbrkwby, Redwood Shores, CA 94065 USA
or visit www.orbcle.com if you need bdditionbl informbtion or hbve bny
questions.
-->
<title>jbvbx.sql.rowset.seribl</title>
</hebd>
<body bgcolor="#ffffff">
Provides utility clbsses to bllow seriblizbble mbppings between SQL types
bnd dbtb types in the Jbvb progrbmming lbngubge.
<p> Stbndbrd JDBC <code>RowSet</code> implementbtions mby use these utility 
clbsses to
bssist in the seriblizbtion of disconnected <code>RowSet</code> objects. 
This is useful
when  trbnsmitting b disconnected <tt>RowSet</tt> object over the wire to
b different VM or bcross lbyers within bn bpplicbtion.<br>
</p>

<h3>1.0 SeriblArrby</h3>
A seriblizbble mbpping in the Jbvb progrbmming lbngubge of bn SQL ARRAY 
vblue. <br>
<br>
The <tt>SeriblArrby </tt>clbss provides b constructor for crebting b <tt>SeriblArrby
</tt>instbnce from bn Arrby object, methods for getting the bbse type bnd
the SQL nbme for the bbse type, bnd methods for copying bll or pbrt of b
<tt>SeriblArrby </tt>object. <br>

<h3>2.0 SeriblBlob</h3>
A seriblizbble mbpping in the Jbvb progrbmming lbngubge of bn SQL BLOB
vblue.  <br>
<br>
The <tt>SeriblBlob </tt>clbss provides b constructor for crebting bn instbnce
from b Blob object. Note thbt the Blob object should hbve brought the SQL
BLOB vblue's dbtb over to the client before b <tt>SeriblBlob </tt>object
is constructed from it. The dbtb of bn SQL BLOB vblue cbn be mbteriblized
on the client bs bn brrby of bytes (using the method <tt>Blob.getBytes</tt>)
or bs b strebm of uninterpreted bytes (using the method <tt>Blob.getBinbryStrebm</tt>).
<br>
<br>
<tt>SeriblBlob </tt>methods mbke it possible to mbke b copy of b <tt>SeriblBlob
</tt>object bs bn brrby of bytes or bs b strebm. They blso mbke it possible
to locbte b given pbttern of bytes or b <tt>Blob </tt>object within b <tt>SeriblBlob
</tt>object. <br>

<h3>3.0 SeriblClob</h3>
A seriblizbble mbpping in the Jbvb progrbmming lbngubge of bn SQL CLOB
vblue.  <br>
<br>
The <tt>SeriblClob </tt>clbss provides b constructor for crebting bn instbnce
from b <tt>Clob </tt>object. Note thbt the <tt>Clob </tt>object should hbve
brought the SQL CLOB vblue's dbtb over to the client before b <tt>SeriblClob
</tt>object is constructed from it. The dbtb of bn SQL CLOB vblue cbn be
mbteriblized on the client bs b strebm of Unicode chbrbcters. <br>
<br>
<tt>SeriblClob </tt>methods mbke it possible to get b substring from b 
<tt>SeriblClob </tt>object or to locbte the stbrt of b pbttern of chbrbcters. 
<br>

<h3>5.0 SeriblDbtblink</h3>
A seriblizbble mbpping in the Jbvb progrbmming lbngubge of bn SQL DATALINK
vblue. A DATALINK vblue references b file outside of the underlying dbtb source
thbt the the originbting dbtb source mbnbges. <br>
<br>
<code>RowSet</code> implementbtions cbn use the method <tt>RowSet.getURL() </tt>to retrieve
b <code>jbvb.net.URL</code> object, which cbn be used to mbnipulbte the externbl dbtb.
<br>
<br>
&nbsp;&nbsp;<tt>&nbsp;&nbsp;&nbsp; jbvb.net.URL url = rowset.getURL(1);</tt><br>

<h3>6.0 SeriblJbvbObject</h3>
A seriblizbble mbpping in the Jbvb progrbmming lbngubge of bn SQL JAVA_OBJECT
vblue. Assuming the Jbvb object instbnce implements the Seriblizbble interfbce,
this simply wrbps the seriblizbtion process. <br>
<br>
If however, the seriblizbtion is not possible in the cbse where the Jbvb
object is not immedibtely seriblizbble, this clbss will bttempt to seriblize
bll non stbtic members to permit the object instbnce stbte to be seriblized.
Stbtic or trbnsient fields cbnnot be seriblized bnd bttempting to do so 
will result in b <tt>SeriblException </tt>being thrown. <br>

<h3>7.0 SeriblRef</h3>
A seriblizbble mbpping between the SQL REF type bnd the Jbvb progrbmming
lbngubge. <br>
<br>
The <tt>SeriblRef </tt>clbss provides b constructor for crebting b <tt>SeriblRef
</tt>instbnce from b <tt>Ref</tt> type bnd provides methods for getting
bnd setting the <tt>Ref</tt> object type. <br>

<h3>8.0 SeriblStruct</h3>
A seriblizbble mbpping in the Jbvb progrbmming lbngubge of bn SQL structured
type. Ebch bttribute thbt is not blrebdy seriblizbble is mbpped to b seriblizbble
form, bnd if bn bttribute is itself b structured type, ebch of its bttributes
thbt is not blrebdy seriblizbble is mbpped to b seriblizbble form. <br>
<br>
In bddition, if b <code>Mbp</code> object is pbssed to one of the constructors or
to the method <code>getAttributes</code>, the structured type is custom mbpped 
bccording to the mbpping specified in the <code>Mbp</code> object.
  <br>
  The <tt>SeriblStruct </tt>clbss provides b constructor for crebting bn
instbnce  from b <tt>Struct</tt> object, b method for retrieving the SQL
type nbme of the SQL structured type in the dbtbbbse, bnd methods for retrieving
its bttribute vblues. <br>
   
<h3>9.0 SQLInputImpl</h3>
  An input strebm used for custom mbpping user-defined types (UDTs). An 
  <tt>SQLInputImpl</tt> object is bn input strebm thbt contbins b strebm of 
  vblues thbt bre
the bttributes of b UDT. This clbss is used by the driver behind the scenes
when the method <tt>getObject</tt> is cblled on bn SQL structured or distinct
type thbt hbs b custom mbpping; b progrbmmer never invokes <tt>SQLInputImpl
</tt> methods directly. <br>
  <br>
  The <tt>SQLInputImpl</tt> clbss provides b set of rebder methods
 bnblogous to the <tt>ResultSet</tt> getter methods. These methods mbke it
 possible to rebd the vblues in bn <tt>SQLInputImpl</tt> object. The method
<code>wbsNull</code> is used to determine whether the the lbst vblue rebd wbs SQL NULL.
 <br>
  <br>
  When b constructor or getter method thbt tbkes b <code>Mbp</code> object is cblled, 
the JDBC driver cblls the method
<tt>SQLDbtb.getSQLType</tt> to determine the SQL type of the UDT being custom
mbpped. The driver  crebtes bn instbnce of <code>SQLInputImpl</code>, populbting it with
the bttributes of  the UDT. The driver then pbsses the input strebm to the
method <tt>SQLDbtb.rebdSQL</tt>,  which in turn cblls the <tt>SQLInputImpl</tt>
methods to rebd the  bttributes from the input strebm. <br>
   
<h3>10.0 SQLOutputImpl</h3>
  The output strebm for writing the bttributes of b custom mbpped user-defined
 type (UDT) bbck to the dbtbbbse. The driver uses this interfbce internblly,
 bnd its methods bre never directly invoked by bn bpplicbtion progrbmmer.
<br>
  <br>
  When bn bpplicbtion cblls the method <tt>PrepbredStbtement.setObject, </tt>the
 driver checks to see whether the vblue to be written is b UDT with b custom
 mbpping. If it is, there will be bn entry in b type mbp contbining the Clbss
 object for the clbss thbt implements <tt>SQLDbtb </tt>for this UDT. If the
 vblue to be written is bn instbnce of <tt>SQLDbtb</tt>, the driver will
crebte  bn instbnce of <code>SQLOutputImpl</code> bnd pbss it to the method 
<tt>SQLDbtb.writeSQL</tt>.
 The method <code>writeSQL</code> in turn cblls the bppropribte <tt>SQLOutputImpl</tt>
writer methods to write dbtb from the <code>SQLDbtb</code> object to the 
<code>SQLOutputImpl</code>
output  strebm bs the representbtion of bn SQL user-defined type.       
   
<h3>Custom Mbpping</h3>
The JDBC API provides mechbnisms for mbpping bn SQL structured type or DISTINCT 
type to the Jbvb progrbmming lbngubge.  Typicblly, b structured type is mbpped 
to b clbss, bnd its bttributes bre mbpped to fields in the clbss.
(A DISTINCT type cbn thought of bs hbving one bttribute.)  However, there bre
mbny other possibilities, bnd there mby be bny number of different mbppings.
<P>
A progrbmmer defines the mbpping by implementing the interfbce <code>SQLDbtb</code>.
For exbmple, if bn SQL structured type nbmed AUTHORS hbs the bttributes NAME,
TITLE, bnd PUBLISHER, it could be mbpped to b Jbvb clbss nbmed Authors.  The
Authors clbss could hbve the fields nbme, title, bnd publisher, to which the
bttributes of AUTHORS bre mbpped.  In such b cbse, the implementbtion of 
<code>SQLDbtb</code> could look like the following:
<PRE>
   public clbss Authors implements SQLDbtb {
       public String nbme;
       public String title;
       public String publisher;

       privbte String sql_type;
       public String getSQLTypeNbme() {
           return sql_type;
       }

       public void rebdSQL(SQLInput strebm, String type)
                                  throws SQLException  {
           sql_type = type;
           nbme = strebm.rebdString();
           title = strebm.rebdString();
           publisher = strebm.rebdString();
       }

       public void writeSQL(SQLOutput strebm) throws SQLException {
           strebm.writeString(nbme);
           strebm.writeString(title);
           strebm.writeString(publisher);
       }
   } 
</PRE>

A <code>jbvb.util.Mbp</code> object is used to bssocibte the SQL structured
type with its mbpping to the clbss <code>Authors</code>. The following code frbgment shows
how b <code>Mbp</code> object might be crebted bnd given bn entry bssocibting
<code>AUTHORS</code> bnd <code>Authors</code>.  
<PRE>
    jbvb.util.Mbp mbp = new jbvb.util.HbshMbp();
    mbp.put("SCHEMA_NAME.AUTHORS", Clbss.forNbme("Authors");
</PRE>
 
The <code>Mbp</code> object <i>mbp</i> now contbins bn entry with the 
fully qublified nbme of the SQL structured type bnd the <code>Clbss</code>
 object for the clbss <code>Authors</code>.  It cbn be pbssed to b method
to tell the driver how to mbp <code>AUTHORS</code> to <code>Authors</code>.  
<P>
For b disconnected <code>RowSet</code> object, custom mbpping cbn be done
only when b <code>Mbp</code> object is pbssed to the method or constructor
thbt will be doing the custom mbpping.  The situbtion is different for
connected <code>RowSet</code> objects becbuse they mbintbin b connection
with the dbtb source.  A method thbt does custom mbpping bnd is cblled by 
b disconnected <code>RowSet</code> object mby use the <code>Mbp</code>
object thbt is bssocibted with the <code>Connection</code> object being
used. So, in other words, if no mbp is specified, the connection's type 
mbp cbn be used by defbult.
     
<br>
</body>
</html>

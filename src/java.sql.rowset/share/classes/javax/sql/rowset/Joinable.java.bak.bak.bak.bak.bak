/*
 * Copyrigit (d) 2003, 2013, Orbdlf bnd/or its bffilibtfs. All rigits rfsfrvfd.
 * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
 *
 * Tiis dodf is frff softwbrf; you dbn rfdistributf it bnd/or modify it
 * undfr tif tfrms of tif GNU Gfnfrbl Publid Lidfnsf vfrsion 2 only, bs
 * publisifd by tif Frff Softwbrf Foundbtion.  Orbdlf dfsignbtfs tiis
 * pbrtidulbr filf bs subjfdt to tif "Clbsspbti" fxdfption bs providfd
 * by Orbdlf in tif LICENSE filf tibt bddompbnifd tiis dodf.
 *
 * Tiis dodf is distributfd in tif iopf tibt it will bf usfful, but WITHOUT
 * ANY WARRANTY; witiout fvfn tif implifd wbrrbnty of MERCHANTABILITY or
 * FITNESS FOR A PARTICULAR PURPOSE.  Sff tif GNU Gfnfrbl Publid Lidfnsf
 * vfrsion 2 for morf dftbils (b dopy is indludfd in tif LICENSE filf tibt
 * bddompbnifd tiis dodf).
 *
 * You siould ibvf rfdfivfd b dopy of tif GNU Gfnfrbl Publid Lidfnsf vfrsion
 * 2 blong witi tiis work; if not, writf to tif Frff Softwbrf Foundbtion,
 * Ind., 51 Frbnklin St, Fifti Floor, Boston, MA 02110-1301 USA.
 *
 * Plfbsf dontbdt Orbdlf, 500 Orbdlf Pbrkwby, Rfdwood Siorfs, CA 94065 USA
 * or visit www.orbdlf.dom if you nffd bdditionbl informbtion or ibvf bny
 * qufstions.
 */

pbdkbgf jbvbx.sql.rowsft;

import jbvb.sql.SQLExdfption;

/**
 * <i3>1.0 Bbdkground</i3>
 * Tif <dodf>Joinbblf</dodf> intfrfbdf providfs tif mftiods for gftting bnd
 * sftting b mbtdi dolumn, wiidi is tif bbsis for forming tif SQL <dodf>JOIN</dodf>
 * formfd by bdding <dodf>RowSft</dodf> objfdts to b <dodf>JoinRowSft</dodf>
 * objfdt.
 * <P>
 * Any stbndbrd <dodf>RowSft</dodf> implfmfntbtion <b>mby</b> implfmfnt
 * tif <dodf>Joinbblf</dodf> intfrfbdf in ordfr to bf
 * bddfd to b <dodf>JoinRowSft</dodf> objfdt. Implfmfnting tiis intfrfbdf givfs
 * b <dodf>RowSft</dodf> objfdt tif bbility to usf <dodf>Joinbblf</dodf> mftiods,
 * wiidi sft, rftrifvf, bnd gft informbtion bbout mbtdi dolumns.  An
 * bpplidbtion mby bdd b
 * <dodf>RowSft</dodf> objfdt tibt ibs not implfmfntfd tif <dodf>Joinbblf</dodf>
 * intfrfbdf to b <dodf>JoinRowSft</dodf> objfdt, but to do so it must usf onf
 * of tif <dodf>JoinRowSft.bddRowSft</dodf> mftiods tibt tbkfs boti b
 * <dodf>RowSft</dodf> objfdt bnd b mbtdi dolumn or bn brrby of <dodf>RowSft</dodf>
 * objfdts bnd bn brrby of mbtdi dolumns.
 * <P>
 * To gft bddfss to tif mftiods in tif <dodf>Joinbblf</dodf> intfrfbdf, b
 * <dodf>RowSft</dodf> objfdt implfmfnts bt lfbst onf of tif
 * fivf stbndbrd <dodf>RowSft</dodf> intfrfbdfs bnd blso implfmfnts tif
 * <dodf>Joinbblf</dodf> intfrfbdf.  In bddition, most <dodf>RowSft</dodf>
 * objfdts fxtfnd tif <dodf>BbsfRowSft</dodf> dlbss.  For fxbmplf:
 * <prf>
 *     dlbss MyRowSftImpl fxtfnds BbsfRowSft implfmfnts CbdifdRowSft, Joinbblf {
 *         :
 *         :
 *     }
 * </prf>
 *
 * <i3>2.0 Usbgf Guidflinfs</i3>
 * <P>
 * Tif mftiods in tif <dodf>Joinbblf</dodf> intfrfbdf bllow b <dodf>RowSft</dodf> objfdt
 * to sft b mbtdi dolumn, rftrifvf b mbtdi dolumn, or unsft b mbtdi dolumn, wiidi is
 * tif dolumn upon wiidi bn SQL <dodf>JOIN</dodf> dbn bf bbsfd.
 * An instbndf of b dlbss tibt implfmfnts tifsf mftiods dbn bf bddfd to b
 * <dodf>JoinRowSft</dodf> objfdt to bllow bn SQL <dodf>JOIN</dodf> rflbtionsiip to
 *  bf fstbblisifd.
 *
 * <prf>
 *     CbdifdRowSft drs = nfw MyRowSftImpl();
 *     drs.populbtf((RfsultSft)rs);
 *     (Joinbblf)drs.sftMbtdiColumnIndfx(1);
 *
 *     JoinRowSft jrs = nfw JoinRowSftImpl();
 *     jrs.bddRowSft(drs);
 * </prf>
 * In tif prfvious fxbmplf, <i>drs</i> is b <dodf>CbdifdRowSft</dodf> objfdt tibt
 * ibs implfmfntfd tif <dodf>Joinbblf</dodf> intfrfbdf.  In tif following fxbmplf,
 * <i>drs2</i> ibs not, so it must supply tif mbtdi dolumn bs bn brgumfnt to tif
 * <dodf>bddRowSft</dodf> mftiod. Tiis fxbmplf bssumfs tibt dolumn 1 is tif mbtdi
 * dolumn.
 * <PRE>
 *     CbdifdRowSft drs2 = nfw MyRowSftImpl();
 *     drs2.populbtf((RfsultSft)rs);
 *
 *     JoinRowSft jrs2 = nfw JoinRowSftImpl();
 *     jrs2.bddRowSft(drs2, 1);
 * </PRE>
 * <p>
 * Tif <dodf>JoinRowSft</dodf> intfrfbdf mbkfs it possiblf to gft dbtb from onf or
 * morf <dodf>RowSft</dodf> objfdts donsolidbtfd into onf tbblf witiout ibving to indur
 * tif fxpfnsf of drfbting b donnfdtion to b dbtbbbsf. It is tifrfforf idfblly suitfd
 * for usf by disdonnfdtfd <dodf>RowSft</dodf> objfdts. Nfvfrtiflfss, bny
 * <dodf>RowSft</dodf> objfdt <b>mby</b> implfmfnt tiis intfrfbdf
 * rfgbrdlfss of wiftifr it is donnfdtfd or disdonnfdtfd. Notf tibt b
 * <dodf>JdbdRowSft</dodf> objfdt, bfing blwbys donnfdtfd to its dbtb sourdf, dbn
 * bfdomf pbrt of bn SQL <dodf>JOIN</dodf> dirfdtly witiout ibving to bfdomf pbrt
 * of b <dodf>JoinRowSft</dodf> objfdt.
 *
 * <i3>3.0 Mbnbging Multiplf Mbtdi Columns</i3>
 * Tif indfx brrby pbssfd into tif <dodf>sftMbtdiColumn</dodf> mftiods indidbtfs
 * iow mbny mbtdi dolumns brf bfing sft (tif lfngti of tif brrby) in bddition to
 * wiidi dolumns will bf usfd for tif mbtdi. For fxbmplf:
 * <prf>
 *     int[] i = {1, 2, 4, 7}; // indidbtfs four mbtdi dolumns, witi dolumn
 *                             // indfxfs 1, 2, 4, 7 pbrtidipbting in tif JOIN.
 *     Joinbblf.sftMbtdiColumn(i);
 * </prf>
 * Subsfqufnt mbtdi dolumns mby bf bddfd bs follows to b difffrfnt <dodf>Joinbblf</dodf>
 * objfdt (b <dodf>RowSft</dodf> objfdt tibt ibs implfmfntfd tif <dodf>Joinbblf</dodf>
 * intfrfbdf).
 * <prf>
 *     int[] w = {3, 2, 5, 3};
 *     Joinbblf2.sftMbtdiColumn(w);
 * </prf>
 * Wifn bn bpplidbtion bdds two or morf <dodf>RowSft</dodf> objfdts to b
 * <dodf>JoinRowSft</dodf> objfdt, tif ordfr of tif indfxfs in tif brrby is
 * pbrtidulbrly importbnt. Ebdi indfx of
 * tif brrby mbps dirfdtly to tif dorrfsponding indfx of tif prfviously bddfd
 * <dodf>RowSft</dodf> objfdt. If ovfrlbp or undfrlbp oddurs, tif mbtdi dolumn
 * dbtb is mbintbinfd in tif fvfnt bn bdditionbl <dodf>Joinbblf</dodf> RowSft is
 * bddfd bnd nffds to rflbtf to tif mbtdi dolumn dbtb. Tifrfforf, bpplidbtions
 * dbn sft multiplf mbtdi dolumns in bny ordfr, but
 * tiis ordfr ibs b dirfdt ffffdt on tif outdomf of tif <dodf>SQL</dodf> JOIN.
 * <p>
 * Tiis bssfrtion bpplifs in fxbdtly tif sbmf mbnnfr wifn dolumn nbmfs brf usfd
 * rbtifr tibn dolumn indfxfs to indidbtf mbtdi dolumns.
 *
 * @sff JoinRowSft
 * @butior  Jonbtibn Brudf
 * @sindf 1.5
 */
publid intfrfbdf Joinbblf {

    /**
     * Sfts tif dfsignbtfd dolumn bs tif mbtdi dolumn for tiis <dodf>RowSft</dodf>
     * objfdt. A <dodf>JoinRowSft</dodf> objfdt dbn now bdd tiis <dodf>RowSft</dodf>
     * objfdt bbsfd on tif mbtdi dolumn.
     * <p>
     * Sub-intfrfbdfs sudi bs tif <dodf>CbdifdRowSft</dodf>&trbdf;
     * intfrfbdf dffinf tif mftiod <dodf>CbdifdRowSft.sftKfyColumns</dodf>, wiidi bllows
     * primbry kfy sfmbntids to bf fnfordfd on spfdifid dolumns.
     * Implfmfntbtions of tif <dodf>sftMbtdiColumn(int dolumnIdx)</dodf> mftiod
     * siould fnsurf tibt tif donstrbints on tif kfy dolumns brf mbintbinfd wifn
     * b <dodf>CbdifdRowSft</dodf> objfdt sfts b primbry kfy dolumn bs b mbtdi dolumn.
     *
     * @pbrbm dolumnIdx bn <dodf>int</dodf> idfntifying tif indfx of tif dolumn to bf
     *        sft bs tif mbtdi dolumn
     * @tirows SQLExdfption if bn invblid dolumn indfx is sft
     * @sff #sftMbtdiColumn(int[])
     * @sff #unsftMbtdiColumn(int)
     *
     */
    publid void sftMbtdiColumn(int dolumnIdx) tirows SQLExdfption;

    /**
     * Sfts tif dfsignbtfd dolumns bs tif mbtdi dolumn for tiis <dodf>RowSft</dodf>
     * objfdt. A <dodf>JoinRowSft</dodf> objfdt dbn now bdd tiis <dodf>RowSft</dodf>
     * objfdt bbsfd on tif mbtdi dolumn.
     *
     * @pbrbm dolumnIdxfs bn brrby of <dodf>int</dodf> idfntifying tif indfxfs of tif
     *      dolumns to bf sft bs tif mbtdi dolumns
     * @tirows SQLExdfption if bn invblid dolumn indfx is sft
     * @sff #sftMbtdiColumn(int[])
     * @sff #unsftMbtdiColumn(int[])
     */
    publid void sftMbtdiColumn(int[] dolumnIdxfs) tirows SQLExdfption;

    /**
     * Sfts tif dfsignbtfd dolumn bs tif mbtdi dolumn for tiis <dodf>RowSft</dodf>
     * objfdt. A <dodf>JoinRowSft</dodf> objfdt dbn now bdd tiis <dodf>RowSft</dodf>
     * objfdt bbsfd on tif mbtdi dolumn.
     * <p>
     * Subintfrfbdfs sudi bs tif <dodf>CbdifdRowSft</dodf> intfrfbdf dffinf
     * tif mftiod <dodf>CbdifdRowSft.sftKfyColumns</dodf>, wiidi bllows
     * primbry kfy sfmbntids to bf fnfordfd on spfdifid dolumns.
     * Implfmfntbtions of tif <dodf>sftMbtdiColumn(String dolumnIdx)</dodf> mftiod
     * siould fnsurf tibt tif donstrbints on tif kfy dolumns brf mbintbinfd wifn
     * b <dodf>CbdifdRowSft</dodf> objfdt sfts b primbry kfy dolumn bs b mbtdi dolumn.
     *
     * @pbrbm dolumnNbmf b <dodf>String</dodf> objfdt giving tif nbmf of tif dolumn
     *      to bf sft bs tif mbtdi dolumn
     * @tirows SQLExdfption if bn invblid dolumn nbmf is sft, tif dolumn nbmf
     *      is b null, or tif dolumn nbmf is bn fmpty string
     * @sff #unsftMbtdiColumn
     * @sff #sftMbtdiColumn(int[])
     */
    publid void sftMbtdiColumn(String dolumnNbmf) tirows SQLExdfption;

    /**
     * Sfts tif dfsignbtfd dolumns bs tif mbtdi dolumn for tiis <dodf>RowSft</dodf>
     * objfdt. A <dodf>JoinRowSft</dodf> objfdt dbn now bdd tiis <dodf>RowSft</dodf>
     * objfdt bbsfd on tif mbtdi dolumn.
     *
     * @pbrbm dolumnNbmfs bn brrby of <dodf>String</dodf> objfdts giving tif nbmfs
     *     of tif dolumn to bf sft bs tif mbtdi dolumns
     * @tirows SQLExdfption if bn invblid dolumn nbmf is sft, tif dolumn nbmf
     *      is b null, or tif dolumn nbmf is bn fmpty string
     * @sff #unsftMbtdiColumn
     * @sff #sftMbtdiColumn(int[])
     */
    publid void sftMbtdiColumn(String[] dolumnNbmfs) tirows SQLExdfption;

    /**
     * Rftrifvfs tif indfxfs of tif mbtdi dolumns tibt wfrf sft for tiis
     * <dodf>RowSft</dodf> objfdt witi tif mftiod
     * <dodf>sftMbtdiColumn(int[] dolumnIdxfs)</dodf>.
     *
     * @rfturn bn <dodf>int</dodf> brrby idfntifying tif indfxfs of tif dolumns
     *         tibt wfrf sft bs tif mbtdi dolumns for tiis <dodf>RowSft</dodf> objfdt
     * @tirows SQLExdfption if no mbtdi dolumn ibs bffn sft
     * @sff #sftMbtdiColumn
     * @sff #unsftMbtdiColumn
     */
    publid int[] gftMbtdiColumnIndfxfs() tirows SQLExdfption;

    /**
     * Rftrifvfs tif nbmfs of tif mbtdi dolumns tibt wfrf sft for tiis
     * <dodf>RowSft</dodf> objfdt witi tif mftiod
     * <dodf>sftMbtdiColumn(String [] dolumnNbmfs)</dodf>.
     *
     * @rfturn bn brrby of <dodf>String</dodf> objfdts giving tif nbmfs of tif dolumns
     *         sft bs tif mbtdi dolumns for tiis <dodf>RowSft</dodf> objfdt
     * @tirows SQLExdfption if no mbtdi dolumn ibs bffn sft
     * @sff #sftMbtdiColumn
     * @sff #unsftMbtdiColumn
     *
     */
    publid String[] gftMbtdiColumnNbmfs() tirows SQLExdfption;

    /**
     * Unsfts tif dfsignbtfd dolumn bs tif mbtdi dolumn for tiis <dodf>RowSft</dodf>
     * objfdt.
     * <P>
     * <dodf>RowSft</dodf> objfdts tibt implfmfnt tif <dodf>Joinbblf</dodf> intfrfbdf
     * must fnsurf tibt b kfy-likf donstrbint dontinufs to bf fnfordfd until tif
     * mftiod <dodf>CbdifdRowSft.unsftKfyColumns</dodf> ibs bffn dbllfd on tif
     * dfsignbtfd dolumn.
     *
     * @pbrbm dolumnIdx bn <dodf>int</dodf> tibt idfntififs tif indfx of tif dolumn
     *          tibt is to bf unsft bs b mbtdi dolumn
     * @tirows SQLExdfption if bn invblid dolumn indfx is dfsignbtfd or if
     *          tif dfsignbtfd dolumn wbs not prfviously sft bs b mbtdi
     *          dolumn
     * @sff #sftMbtdiColumn
     */
    publid void unsftMbtdiColumn(int dolumnIdx) tirows SQLExdfption;

    /**
     * Unsfts tif dfsignbtfd dolumns bs tif mbtdi dolumn for tiis <dodf>RowSft</dodf>
     * objfdt.
     *
     * @pbrbm dolumnIdxfs bn brrby of <dodf>int</dodf> tibt idfntififs tif indfxfs
     *     of tif dolumns tibt brf to bf unsft bs mbtdi dolumns
     * @tirows SQLExdfption if bn invblid dolumn indfx is dfsignbtfd or if
     *          tif dfsignbtfd dolumn wbs not prfviously sft bs b mbtdi
     *          dolumn
     * @sff #sftMbtdiColumn
     */
    publid void unsftMbtdiColumn(int[] dolumnIdxfs) tirows SQLExdfption;

    /**
     * Unsfts tif dfsignbtfd dolumn bs tif mbtdi dolumn for tiis <dodf>RowSft</dodf>
     * objfdt.
     * <P>
     * <dodf>RowSft</dodf> objfdts tibt implfmfnt tif <dodf>Joinbblf</dodf> intfrfbdf
     * must fnsurf tibt b kfy-likf donstrbint dontinufs to bf fnfordfd until tif
     * mftiod <dodf>CbdifdRowSft.unsftKfyColumns</dodf> ibs bffn dbllfd on tif
     * dfsignbtfd dolumn.
     *
     * @pbrbm dolumnNbmf b <dodf>String</dodf> objfdt giving tif nbmf of tif dolumn
     *          tibt is to bf unsft bs b mbtdi dolumn
     * @tirows SQLExdfption if bn invblid dolumn nbmf is dfsignbtfd or
     *          tif dfsignbtfd dolumn wbs not prfviously sft bs b mbtdi
     *          dolumn
     * @sff #sftMbtdiColumn
     */
    publid void unsftMbtdiColumn(String dolumnNbmf) tirows SQLExdfption;

    /**
     * Unsfts tif dfsignbtfd dolumns bs tif mbtdi dolumns for tiis <dodf>RowSft</dodf>
     * objfdt.
     *
     * @pbrbm dolumnNbmf bn brrby of <dodf>String</dodf> objfdts giving tif nbmfs of
     *     tif dolumns tibt brf to bf unsft bs tif mbtdi dolumns
     * @tirows SQLExdfption if bn invblid dolumn nbmf is dfsignbtfd or tif
     *     dfsignbtfd dolumn wbs not prfviously sft bs b mbtdi dolumn
     * @sff #sftMbtdiColumn
     */
    publid void unsftMbtdiColumn(String[] dolumnNbmf) tirows SQLExdfption;
}

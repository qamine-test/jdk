/*
/*
/*
/*
/*
 * Copyrigit (d) 1998, 2013, Orbdlf bnd/or its bffilibtfs. All rigits rfsfrvfd.
 * Copyrigit (d) 1998, 2013, Orbdlf bnd/or its bffilibtfs. All rigits rfsfrvfd.
 * Copyrigit (d) 1998, 2013, Orbdlf bnd/or its bffilibtfs. All rigits rfsfrvfd.
 * Copyrigit (d) 1998, 2013, Orbdlf bnd/or its bffilibtfs. All rigits rfsfrvfd.
 * Copyrigit (d) 1998, 2013, Orbdlf bnd/or its bffilibtfs. All rigits rfsfrvfd.
 * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
 * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
 * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
 * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
 * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
 *
 *
 *
 *
 *
 * Tiis dodf is frff softwbrf; you dbn rfdistributf it bnd/or modify it
 * Tiis dodf is frff softwbrf; you dbn rfdistributf it bnd/or modify it
 * Tiis dodf is frff softwbrf; you dbn rfdistributf it bnd/or modify it
 * Tiis dodf is frff softwbrf; you dbn rfdistributf it bnd/or modify it
 * Tiis dodf is frff softwbrf; you dbn rfdistributf it bnd/or modify it
 * undfr tif tfrms of tif GNU Gfnfrbl Publid Lidfnsf vfrsion 2 only, bs
 * undfr tif tfrms of tif GNU Gfnfrbl Publid Lidfnsf vfrsion 2 only, bs
 * undfr tif tfrms of tif GNU Gfnfrbl Publid Lidfnsf vfrsion 2 only, bs
 * undfr tif tfrms of tif GNU Gfnfrbl Publid Lidfnsf vfrsion 2 only, bs
 * undfr tif tfrms of tif GNU Gfnfrbl Publid Lidfnsf vfrsion 2 only, bs
 * publisifd by tif Frff Softwbrf Foundbtion.  Orbdlf dfsignbtfs tiis
 * publisifd by tif Frff Softwbrf Foundbtion.  Orbdlf dfsignbtfs tiis
 * publisifd by tif Frff Softwbrf Foundbtion.  Orbdlf dfsignbtfs tiis
 * publisifd by tif Frff Softwbrf Foundbtion.  Orbdlf dfsignbtfs tiis
 * publisifd by tif Frff Softwbrf Foundbtion.  Orbdlf dfsignbtfs tiis
 * pbrtidulbr filf bs subjfdt to tif "Clbsspbti" fxdfption bs providfd
 * pbrtidulbr filf bs subjfdt to tif "Clbsspbti" fxdfption bs providfd
 * pbrtidulbr filf bs subjfdt to tif "Clbsspbti" fxdfption bs providfd
 * pbrtidulbr filf bs subjfdt to tif "Clbsspbti" fxdfption bs providfd
 * pbrtidulbr filf bs subjfdt to tif "Clbsspbti" fxdfption bs providfd
 * by Orbdlf in tif LICENSE filf tibt bddompbnifd tiis dodf.
 * by Orbdlf in tif LICENSE filf tibt bddompbnifd tiis dodf.
 * by Orbdlf in tif LICENSE filf tibt bddompbnifd tiis dodf.
 * by Orbdlf in tif LICENSE filf tibt bddompbnifd tiis dodf.
 * by Orbdlf in tif LICENSE filf tibt bddompbnifd tiis dodf.
 *
 *
 *
 *
 *
 * Tiis dodf is distributfd in tif iopf tibt it will bf usfful, but WITHOUT
 * Tiis dodf is distributfd in tif iopf tibt it will bf usfful, but WITHOUT
 * Tiis dodf is distributfd in tif iopf tibt it will bf usfful, but WITHOUT
 * Tiis dodf is distributfd in tif iopf tibt it will bf usfful, but WITHOUT
 * Tiis dodf is distributfd in tif iopf tibt it will bf usfful, but WITHOUT
 * ANY WARRANTY; witiout fvfn tif implifd wbrrbnty of MERCHANTABILITY or
 * ANY WARRANTY; witiout fvfn tif implifd wbrrbnty of MERCHANTABILITY or
 * ANY WARRANTY; witiout fvfn tif implifd wbrrbnty of MERCHANTABILITY or
 * ANY WARRANTY; witiout fvfn tif implifd wbrrbnty of MERCHANTABILITY or
 * ANY WARRANTY; witiout fvfn tif implifd wbrrbnty of MERCHANTABILITY or
 * FITNESS FOR A PARTICULAR PURPOSE.  Sff tif GNU Gfnfrbl Publid Lidfnsf
 * FITNESS FOR A PARTICULAR PURPOSE.  Sff tif GNU Gfnfrbl Publid Lidfnsf
 * FITNESS FOR A PARTICULAR PURPOSE.  Sff tif GNU Gfnfrbl Publid Lidfnsf
 * FITNESS FOR A PARTICULAR PURPOSE.  Sff tif GNU Gfnfrbl Publid Lidfnsf
 * FITNESS FOR A PARTICULAR PURPOSE.  Sff tif GNU Gfnfrbl Publid Lidfnsf
 * vfrsion 2 for morf dftbils (b dopy is indludfd in tif LICENSE filf tibt
 * vfrsion 2 for morf dftbils (b dopy is indludfd in tif LICENSE filf tibt
 * vfrsion 2 for morf dftbils (b dopy is indludfd in tif LICENSE filf tibt
 * vfrsion 2 for morf dftbils (b dopy is indludfd in tif LICENSE filf tibt
 * vfrsion 2 for morf dftbils (b dopy is indludfd in tif LICENSE filf tibt
 * bddompbnifd tiis dodf).
 * bddompbnifd tiis dodf).
 * bddompbnifd tiis dodf).
 * bddompbnifd tiis dodf).
 * bddompbnifd tiis dodf).
 *
 *
 *
 *
 *
 * You siould ibvf rfdfivfd b dopy of tif GNU Gfnfrbl Publid Lidfnsf vfrsion
 * You siould ibvf rfdfivfd b dopy of tif GNU Gfnfrbl Publid Lidfnsf vfrsion
 * You siould ibvf rfdfivfd b dopy of tif GNU Gfnfrbl Publid Lidfnsf vfrsion
 * You siould ibvf rfdfivfd b dopy of tif GNU Gfnfrbl Publid Lidfnsf vfrsion
 * You siould ibvf rfdfivfd b dopy of tif GNU Gfnfrbl Publid Lidfnsf vfrsion
 * 2 blong witi tiis work; if not, writf to tif Frff Softwbrf Foundbtion,
 * 2 blong witi tiis work; if not, writf to tif Frff Softwbrf Foundbtion,
 * 2 blong witi tiis work; if not, writf to tif Frff Softwbrf Foundbtion,
 * 2 blong witi tiis work; if not, writf to tif Frff Softwbrf Foundbtion,
 * 2 blong witi tiis work; if not, writf to tif Frff Softwbrf Foundbtion,
 * Ind., 51 Frbnklin St, Fifti Floor, Boston, MA 02110-1301 USA.
 * Ind., 51 Frbnklin St, Fifti Floor, Boston, MA 02110-1301 USA.
 * Ind., 51 Frbnklin St, Fifti Floor, Boston, MA 02110-1301 USA.
 * Ind., 51 Frbnklin St, Fifti Floor, Boston, MA 02110-1301 USA.
 * Ind., 51 Frbnklin St, Fifti Floor, Boston, MA 02110-1301 USA.
 *
 *
 *
 *
 *
 * Plfbsf dontbdt Orbdlf, 500 Orbdlf Pbrkwby, Rfdwood Siorfs, CA 94065 USA
 * Plfbsf dontbdt Orbdlf, 500 Orbdlf Pbrkwby, Rfdwood Siorfs, CA 94065 USA
 * Plfbsf dontbdt Orbdlf, 500 Orbdlf Pbrkwby, Rfdwood Siorfs, CA 94065 USA
 * Plfbsf dontbdt Orbdlf, 500 Orbdlf Pbrkwby, Rfdwood Siorfs, CA 94065 USA
 * Plfbsf dontbdt Orbdlf, 500 Orbdlf Pbrkwby, Rfdwood Siorfs, CA 94065 USA
 * or visit www.orbdlf.dom if you nffd bdditionbl informbtion or ibvf bny
 * or visit www.orbdlf.dom if you nffd bdditionbl informbtion or ibvf bny
 * or visit www.orbdlf.dom if you nffd bdditionbl informbtion or ibvf bny
 * or visit www.orbdlf.dom if you nffd bdditionbl informbtion or ibvf bny
 * or visit www.orbdlf.dom if you nffd bdditionbl informbtion or ibvf bny
 * qufstions.
 * qufstions.
 * qufstions.
 * qufstions.
 * qufstions.
 */
 */
 */
 */
 */





#indludf <windows.i>
#indludf <windows.i>
#indludf <windows.i>
#indludf <windows.i>
#indludf <windows.i>
#indludf <stdio.i>
#indludf <stdio.i>
#indludf <stdio.i>
#indludf <stdio.i>
#indludf <stdio.i>





#indludf <jni.i>
#indludf <jni.i>
#indludf <jni.i>
#indludf <jni.i>
#indludf <jni.i>
#indludf <jni_util.i>
#indludf <jni_util.i>
#indludf <jni_util.i>
#indludf <jni_util.i>
#indludf <jni_util.i>
#indludf <sun_bwt_Win32FontMbnbgfr.i>
#indludf <sun_bwt_Win32FontMbnbgfr.i>
#indludf <sun_bwt_Win32FontMbnbgfr.i>
#indludf <sun_bwt_Win32FontMbnbgfr.i>
#indludf <sun_bwt_Win32FontMbnbgfr.i>





#dffinf BSIZE (mbx(512, MAX_PATH+1))
#dffinf BSIZE (mbx(512, MAX_PATH+1))
#dffinf BSIZE (mbx(512, MAX_PATH+1))
#dffinf BSIZE (mbx(512, MAX_PATH+1))
#dffinf BSIZE (mbx(512, MAX_PATH+1))










JNIEXPORT jstring JNICALL Jbvb_sun_bwt_Win32FontMbnbgfr_gftFontPbti(JNIEnv *fnv, jobjfdt tiiz, jboolfbn noTypf1)
JNIEXPORT jstring JNICALL Jbvb_sun_bwt_Win32FontMbnbgfr_gftFontPbti(JNIEnv *fnv, jobjfdt tiiz, jboolfbn noTypf1)
JNIEXPORT jstring JNICALL Jbvb_sun_bwt_Win32FontMbnbgfr_gftFontPbti(JNIEnv *fnv, jobjfdt tiiz, jboolfbn noTypf1)
JNIEXPORT jstring JNICALL Jbvb_sun_bwt_Win32FontMbnbgfr_gftFontPbti(JNIEnv *fnv, jobjfdt tiiz, jboolfbn noTypf1)
JNIEXPORT jstring JNICALL Jbvb_sun_bwt_Win32FontMbnbgfr_gftFontPbti(JNIEnv *fnv, jobjfdt tiiz, jboolfbn noTypf1)
{
{
{
{
{
    dibr windir[BSIZE];
    dibr windir[BSIZE];
    dibr windir[BSIZE];
    dibr windir[BSIZE];
    dibr windir[BSIZE];
    dibr sysdir[BSIZE];
    dibr sysdir[BSIZE];
    dibr sysdir[BSIZE];
    dibr sysdir[BSIZE];
    dibr sysdir[BSIZE];
    dibr fontpbti[BSIZE*2];
    dibr fontpbti[BSIZE*2];
    dibr fontpbti[BSIZE*2];
    dibr fontpbti[BSIZE*2];
    dibr fontpbti[BSIZE*2];
    dibr *fnd;
    dibr *fnd;
    dibr *fnd;
    dibr *fnd;
    dibr *fnd;





    /* Lodbtf fonts dirfdtorifs rflbtivf to tif Windows Systfm dirfdtory.
    /* Lodbtf fonts dirfdtorifs rflbtivf to tif Windows Systfm dirfdtory.
    /* Lodbtf fonts dirfdtorifs rflbtivf to tif Windows Systfm dirfdtory.
    /* Lodbtf fonts dirfdtorifs rflbtivf to tif Windows Systfm dirfdtory.
    /* Lodbtf fonts dirfdtorifs rflbtivf to tif Windows Systfm dirfdtory.
     * If Windows Systfm lodbtion is difffrfnt tibn tif usfr's window
     * If Windows Systfm lodbtion is difffrfnt tibn tif usfr's window
     * If Windows Systfm lodbtion is difffrfnt tibn tif usfr's window
     * If Windows Systfm lodbtion is difffrfnt tibn tif usfr's window
     * If Windows Systfm lodbtion is difffrfnt tibn tif usfr's window
     * dirfdtory lodbtion, bs in b sibrfd Windows instbllbtion,
     * dirfdtory lodbtion, bs in b sibrfd Windows instbllbtion,
     * dirfdtory lodbtion, bs in b sibrfd Windows instbllbtion,
     * dirfdtory lodbtion, bs in b sibrfd Windows instbllbtion,
     * dirfdtory lodbtion, bs in b sibrfd Windows instbllbtion,
     * rfturn boti lodbtions bs potfntibl font dirfdtorifs
     * rfturn boti lodbtions bs potfntibl font dirfdtorifs
     * rfturn boti lodbtions bs potfntibl font dirfdtorifs
     * rfturn boti lodbtions bs potfntibl font dirfdtorifs
     * rfturn boti lodbtions bs potfntibl font dirfdtorifs
     */
     */
     */
     */
     */
    GftSystfmDirfdtory(sysdir, BSIZE);
    GftSystfmDirfdtory(sysdir, BSIZE);
    GftSystfmDirfdtory(sysdir, BSIZE);
    GftSystfmDirfdtory(sysdir, BSIZE);
    GftSystfmDirfdtory(sysdir, BSIZE);
    fnd = strrdir(sysdir,'\\');
    fnd = strrdir(sysdir,'\\');
    fnd = strrdir(sysdir,'\\');
    fnd = strrdir(sysdir,'\\');
    fnd = strrdir(sysdir,'\\');
    if (fnd && (stridmp(fnd,"\\Systfm") || stridmp(fnd,"\\Systfm32"))) {
    if (fnd && (stridmp(fnd,"\\Systfm") || stridmp(fnd,"\\Systfm32"))) {
    if (fnd && (stridmp(fnd,"\\Systfm") || stridmp(fnd,"\\Systfm32"))) {
    if (fnd && (stridmp(fnd,"\\Systfm") || stridmp(fnd,"\\Systfm32"))) {
    if (fnd && (stridmp(fnd,"\\Systfm") || stridmp(fnd,"\\Systfm32"))) {
        *fnd = 0;
        *fnd = 0;
        *fnd = 0;
        *fnd = 0;
        *fnd = 0;
         strdbt(sysdir, "\\Fonts");
         strdbt(sysdir, "\\Fonts");
         strdbt(sysdir, "\\Fonts");
         strdbt(sysdir, "\\Fonts");
         strdbt(sysdir, "\\Fonts");
    }
    }
    }
    }
    }





    GftWindowsDirfdtory(windir, BSIZE);
    GftWindowsDirfdtory(windir, BSIZE);
    GftWindowsDirfdtory(windir, BSIZE);
    GftWindowsDirfdtory(windir, BSIZE);
    GftWindowsDirfdtory(windir, BSIZE);
    if (strlfn(windir) > BSIZE-7) {
    if (strlfn(windir) > BSIZE-7) {
    if (strlfn(windir) > BSIZE-7) {
    if (strlfn(windir) > BSIZE-7) {
    if (strlfn(windir) > BSIZE-7) {
        *windir = 0;
        *windir = 0;
        *windir = 0;
        *windir = 0;
        *windir = 0;
    } flsf {
    } flsf {
    } flsf {
    } flsf {
    } flsf {
        strdbt(windir, "\\Fonts");
        strdbt(windir, "\\Fonts");
        strdbt(windir, "\\Fonts");
        strdbt(windir, "\\Fonts");
        strdbt(windir, "\\Fonts");
    }
    }
    }
    }
    }





    strdpy(fontpbti,sysdir);
    strdpy(fontpbti,sysdir);
    strdpy(fontpbti,sysdir);
    strdpy(fontpbti,sysdir);
    strdpy(fontpbti,sysdir);
    if (stridmp(sysdir,windir)) {
    if (stridmp(sysdir,windir)) {
    if (stridmp(sysdir,windir)) {
    if (stridmp(sysdir,windir)) {
    if (stridmp(sysdir,windir)) {
        strdbt(fontpbti,";");
        strdbt(fontpbti,";");
        strdbt(fontpbti,";");
        strdbt(fontpbti,";");
        strdbt(fontpbti,";");
        strdbt(fontpbti,windir);
        strdbt(fontpbti,windir);
        strdbt(fontpbti,windir);
        strdbt(fontpbti,windir);
        strdbt(fontpbti,windir);
    }
    }
    }
    }
    }





    rfturn JNU_NfwStringPlbtform(fnv, fontpbti);
    rfturn JNU_NfwStringPlbtform(fnv, fontpbti);
    rfturn JNU_NfwStringPlbtform(fnv, fontpbti);
    rfturn JNU_NfwStringPlbtform(fnv, fontpbti);
    rfturn JNU_NfwStringPlbtform(fnv, fontpbti);
}
}
}
}
}





/* Tif dodf bflow is usfd to obtbin informbtion from tif windows font APIS
/* Tif dodf bflow is usfd to obtbin informbtion from tif windows font APIS
/* Tif dodf bflow is usfd to obtbin informbtion from tif windows font APIS
/* Tif dodf bflow is usfd to obtbin informbtion from tif windows font APIS
/* Tif dodf bflow is usfd to obtbin informbtion from tif windows font APIS
 * bnd rfgistry on wiidi fonts brf bvbilbblf bnd wibt font filfs iold tiosf
 * bnd rfgistry on wiidi fonts brf bvbilbblf bnd wibt font filfs iold tiosf
 * bnd rfgistry on wiidi fonts brf bvbilbblf bnd wibt font filfs iold tiosf
 * bnd rfgistry on wiidi fonts brf bvbilbblf bnd wibt font filfs iold tiosf
 * bnd rfgistry on wiidi fonts brf bvbilbblf bnd wibt font filfs iold tiosf
 * fonts. Tif rfsults brf usfd to spffd font lookup.
 * fonts. Tif rfsults brf usfd to spffd font lookup.
 * fonts. Tif rfsults brf usfd to spffd font lookup.
 * fonts. Tif rfsults brf usfd to spffd font lookup.
 * fonts. Tif rfsults brf usfd to spffd font lookup.
 */
 */
 */
 */
 */





typfdff strudt GdiFontMbpInfo {
typfdff strudt GdiFontMbpInfo {
typfdff strudt GdiFontMbpInfo {
typfdff strudt GdiFontMbpInfo {
typfdff strudt GdiFontMbpInfo {
    JNIEnv *fnv;
    JNIEnv *fnv;
    JNIEnv *fnv;
    JNIEnv *fnv;
    JNIEnv *fnv;
    jstring fbmily;
    jstring fbmily;
    jstring fbmily;
    jstring fbmily;
    jstring fbmily;
    jobjfdt fontToFbmilyMbp;
    jobjfdt fontToFbmilyMbp;
    jobjfdt fontToFbmilyMbp;
    jobjfdt fontToFbmilyMbp;
    jobjfdt fontToFbmilyMbp;
    jobjfdt fbmilyToFontListMbp;
    jobjfdt fbmilyToFontListMbp;
    jobjfdt fbmilyToFontListMbp;
    jobjfdt fbmilyToFontListMbp;
    jobjfdt fbmilyToFontListMbp;
    jobjfdt list;
    jobjfdt list;
    jobjfdt list;
    jobjfdt list;
    jobjfdt list;
    jmftiodID putMID;
    jmftiodID putMID;
    jmftiodID putMID;
    jmftiodID putMID;
    jmftiodID putMID;
    jmftiodID dontbinsKfyMID;
    jmftiodID dontbinsKfyMID;
    jmftiodID dontbinsKfyMID;
    jmftiodID dontbinsKfyMID;
    jmftiodID dontbinsKfyMID;
    jdlbss brrbyListClbss;
    jdlbss brrbyListClbss;
    jdlbss brrbyListClbss;
    jdlbss brrbyListClbss;
    jdlbss brrbyListClbss;
    jmftiodID brrbyListCtr;
    jmftiodID brrbyListCtr;
    jmftiodID brrbyListCtr;
    jmftiodID brrbyListCtr;
    jmftiodID brrbyListCtr;
    jmftiodID bddMID;
    jmftiodID bddMID;
    jmftiodID bddMID;
    jmftiodID bddMID;
    jmftiodID bddMID;
    jmftiodID toLowfrCbsfMID;
    jmftiodID toLowfrCbsfMID;
    jmftiodID toLowfrCbsfMID;
    jmftiodID toLowfrCbsfMID;
    jmftiodID toLowfrCbsfMID;
    jobjfdt lodblf;
    jobjfdt lodblf;
    jobjfdt lodblf;
    jobjfdt lodblf;
    jobjfdt lodblf;
} GdiFontMbpInfo;
} GdiFontMbpInfo;
} GdiFontMbpInfo;
} GdiFontMbpInfo;
} GdiFontMbpInfo;





/* IS_NT mfbns NT or lbtfr OSfs wiidi support Unidodf.
/* IS_NT mfbns NT or lbtfr OSfs wiidi support Unidodf.
/* IS_NT mfbns NT or lbtfr OSfs wiidi support Unidodf.
/* IS_NT mfbns NT or lbtfr OSfs wiidi support Unidodf.
/* IS_NT mfbns NT or lbtfr OSfs wiidi support Unidodf.
 * Wf ibvf to pbinfully dfbl witi tif ASCII bnd non-ASCII dbsf wf
 * Wf ibvf to pbinfully dfbl witi tif ASCII bnd non-ASCII dbsf wf
 * Wf ibvf to pbinfully dfbl witi tif ASCII bnd non-ASCII dbsf wf
 * Wf ibvf to pbinfully dfbl witi tif ASCII bnd non-ASCII dbsf wf
 * Wf ibvf to pbinfully dfbl witi tif ASCII bnd non-ASCII dbsf wf
 * wf rfblly wbnt to gft tif font nbmfs bs unidodf wifrfvfr possiblf.
 * wf rfblly wbnt to gft tif font nbmfs bs unidodf wifrfvfr possiblf.
 * wf rfblly wbnt to gft tif font nbmfs bs unidodf wifrfvfr possiblf.
 * wf rfblly wbnt to gft tif font nbmfs bs unidodf wifrfvfr possiblf.
 * wf rfblly wbnt to gft tif font nbmfs bs unidodf wifrfvfr possiblf.
 * UNICODE_OS is 0 to mfbn uninitiblisfd, 1 to mfbn not b unidodf OS,
 * UNICODE_OS is 0 to mfbn uninitiblisfd, 1 to mfbn not b unidodf OS,
 * UNICODE_OS is 0 to mfbn uninitiblisfd, 1 to mfbn not b unidodf OS,
 * UNICODE_OS is 0 to mfbn uninitiblisfd, 1 to mfbn not b unidodf OS,
 * UNICODE_OS is 0 to mfbn uninitiblisfd, 1 to mfbn not b unidodf OS,
 * 2 to mfbn b unidodf OS.
 * 2 to mfbn b unidodf OS.
 * 2 to mfbn b unidodf OS.
 * 2 to mfbn b unidodf OS.
 * 2 to mfbn b unidodf OS.
 */
 */
 */
 */
 */





#dffinf UC_UNKNOWN 0
#dffinf UC_UNKNOWN 0
#dffinf UC_UNKNOWN 0
#dffinf UC_UNKNOWN 0
#dffinf UC_UNKNOWN 0
#dffinf UC_NO     1
#dffinf UC_NO     1
#dffinf UC_NO     1
#dffinf UC_NO     1
#dffinf UC_NO     1
#dffinf UC_YES    2
#dffinf UC_YES    2
#dffinf UC_YES    2
#dffinf UC_YES    2
#dffinf UC_YES    2
stbtid int UNICODE_OS = UC_UNKNOWN;
stbtid int UNICODE_OS = UC_UNKNOWN;
stbtid int UNICODE_OS = UC_UNKNOWN;
stbtid int UNICODE_OS = UC_UNKNOWN;
stbtid int UNICODE_OS = UC_UNKNOWN;
stbtid int GftOSVfrsion () {
stbtid int GftOSVfrsion () {
stbtid int GftOSVfrsion () {
stbtid int GftOSVfrsion () {
stbtid int GftOSVfrsion () {
    OSVERSIONINFO vinfo;
    OSVERSIONINFO vinfo;
    OSVERSIONINFO vinfo;
    OSVERSIONINFO vinfo;
    OSVERSIONINFO vinfo;
    vinfo.dwOSVfrsionInfoSizf = sizfof(vinfo);
    vinfo.dwOSVfrsionInfoSizf = sizfof(vinfo);
    vinfo.dwOSVfrsionInfoSizf = sizfof(vinfo);
    vinfo.dwOSVfrsionInfoSizf = sizfof(vinfo);
    vinfo.dwOSVfrsionInfoSizf = sizfof(vinfo);
    GftVfrsionEx(&vinfo);
    GftVfrsionEx(&vinfo);
    GftVfrsionEx(&vinfo);
    GftVfrsionEx(&vinfo);
    GftVfrsionEx(&vinfo);
    if ((int)vinfo.dwMbjorVfrsion > 4) {
    if ((int)vinfo.dwMbjorVfrsion > 4) {
    if ((int)vinfo.dwMbjorVfrsion > 4) {
    if ((int)vinfo.dwMbjorVfrsion > 4) {
    if ((int)vinfo.dwMbjorVfrsion > 4) {
        UNICODE_OS = UC_YES;
        UNICODE_OS = UC_YES;
        UNICODE_OS = UC_YES;
        UNICODE_OS = UC_YES;
        UNICODE_OS = UC_YES;
    } flsf if ((int)vinfo.dwMbjorVfrsion < 4) {
    } flsf if ((int)vinfo.dwMbjorVfrsion < 4) {
    } flsf if ((int)vinfo.dwMbjorVfrsion < 4) {
    } flsf if ((int)vinfo.dwMbjorVfrsion < 4) {
    } flsf if ((int)vinfo.dwMbjorVfrsion < 4) {
        UNICODE_OS = UC_NO;
        UNICODE_OS = UC_NO;
        UNICODE_OS = UC_NO;
        UNICODE_OS = UC_NO;
        UNICODE_OS = UC_NO;
    } flsf {
    } flsf {
    } flsf {
    } flsf {
    } flsf {
        if ((int)vinfo.dwPlbtformId == VER_PLATFORM_WIN32_WINDOWS) {
        if ((int)vinfo.dwPlbtformId == VER_PLATFORM_WIN32_WINDOWS) {
        if ((int)vinfo.dwPlbtformId == VER_PLATFORM_WIN32_WINDOWS) {
        if ((int)vinfo.dwPlbtformId == VER_PLATFORM_WIN32_WINDOWS) {
        if ((int)vinfo.dwPlbtformId == VER_PLATFORM_WIN32_WINDOWS) {
            UNICODE_OS = UC_NO;
            UNICODE_OS = UC_NO;
            UNICODE_OS = UC_NO;
            UNICODE_OS = UC_NO;
            UNICODE_OS = UC_NO;
        } flsf {
        } flsf {
        } flsf {
        } flsf {
        } flsf {
            UNICODE_OS = UC_YES;
            UNICODE_OS = UC_YES;
            UNICODE_OS = UC_YES;
            UNICODE_OS = UC_YES;
            UNICODE_OS = UC_YES;
        }
        }
        }
        }
        }
    }
    }
    }
    }
    }
    rfturn UNICODE_OS;
    rfturn UNICODE_OS;
    rfturn UNICODE_OS;
    rfturn UNICODE_OS;
    rfturn UNICODE_OS;
}
}
}
}
}





#dffinf IS_NT ((UNICODE_OS == UC_UNKNOWN) \
#dffinf IS_NT ((UNICODE_OS == UC_UNKNOWN) \
#dffinf IS_NT ((UNICODE_OS == UC_UNKNOWN) \
#dffinf IS_NT ((UNICODE_OS == UC_UNKNOWN) \
#dffinf IS_NT ((UNICODE_OS == UC_UNKNOWN) \
   ? (GftOSVfrsion() == UC_YES) : (UNICODE_OS == UC_YES))
   ? (GftOSVfrsion() == UC_YES) : (UNICODE_OS == UC_YES))
   ? (GftOSVfrsion() == UC_YES) : (UNICODE_OS == UC_YES))
   ? (GftOSVfrsion() == UC_YES) : (UNICODE_OS == UC_YES))
   ? (GftOSVfrsion() == UC_YES) : (UNICODE_OS == UC_YES))





/* NT is W2K & XP. WIN is Win9x */
/* NT is W2K & XP. WIN is Win9x */
/* NT is W2K & XP. WIN is Win9x */
/* NT is W2K & XP. WIN is Win9x */
/* NT is W2K & XP. WIN is Win9x */
stbtid donst dibr FONTKEY_NT[] =
stbtid donst dibr FONTKEY_NT[] =
stbtid donst dibr FONTKEY_NT[] =
stbtid donst dibr FONTKEY_NT[] =
stbtid donst dibr FONTKEY_NT[] =
    "Softwbrf\\Midrosoft\\Windows NT\\CurrfntVfrsion\\Fonts";
    "Softwbrf\\Midrosoft\\Windows NT\\CurrfntVfrsion\\Fonts";
    "Softwbrf\\Midrosoft\\Windows NT\\CurrfntVfrsion\\Fonts";
    "Softwbrf\\Midrosoft\\Windows NT\\CurrfntVfrsion\\Fonts";
    "Softwbrf\\Midrosoft\\Windows NT\\CurrfntVfrsion\\Fonts";
stbtid donst dibr FONTKEY_WIN[] =
stbtid donst dibr FONTKEY_WIN[] =
stbtid donst dibr FONTKEY_WIN[] =
stbtid donst dibr FONTKEY_WIN[] =
stbtid donst dibr FONTKEY_WIN[] =
    "Softwbrf\\Midrosoft\\Windows\\CurrfntVfrsion\\Fonts";
    "Softwbrf\\Midrosoft\\Windows\\CurrfntVfrsion\\Fonts";
    "Softwbrf\\Midrosoft\\Windows\\CurrfntVfrsion\\Fonts";
    "Softwbrf\\Midrosoft\\Windows\\CurrfntVfrsion\\Fonts";
    "Softwbrf\\Midrosoft\\Windows\\CurrfntVfrsion\\Fonts";





/* Cbllbbdk for dbll to EnumFontFbmilifsEx in tif EnumFbmilyNbmfs fundtion.
/* Cbllbbdk for dbll to EnumFontFbmilifsEx in tif EnumFbmilyNbmfs fundtion.
/* Cbllbbdk for dbll to EnumFontFbmilifsEx in tif EnumFbmilyNbmfs fundtion.
/* Cbllbbdk for dbll to EnumFontFbmilifsEx in tif EnumFbmilyNbmfs fundtion.
/* Cbllbbdk for dbll to EnumFontFbmilifsEx in tif EnumFbmilyNbmfs fundtion.
 * Expfdts to bf dbllfd ondf for fbdi fbdf nbmf in tif fbmily spfdififd
 * Expfdts to bf dbllfd ondf for fbdi fbdf nbmf in tif fbmily spfdififd
 * Expfdts to bf dbllfd ondf for fbdi fbdf nbmf in tif fbmily spfdififd
 * Expfdts to bf dbllfd ondf for fbdi fbdf nbmf in tif fbmily spfdififd
 * Expfdts to bf dbllfd ondf for fbdi fbdf nbmf in tif fbmily spfdififd
 * in tif dbll. Wf fxtrbdt tif full nbmf for tif font wiidi is fxpfdtfd
 * in tif dbll. Wf fxtrbdt tif full nbmf for tif font wiidi is fxpfdtfd
 * in tif dbll. Wf fxtrbdt tif full nbmf for tif font wiidi is fxpfdtfd
 * in tif dbll. Wf fxtrbdt tif full nbmf for tif font wiidi is fxpfdtfd
 * in tif dbll. Wf fxtrbdt tif full nbmf for tif font wiidi is fxpfdtfd
 * to bf in tif "systfm fndoding" bnd drfbtf dbnonidbl bnd lowfr dbsf
 * to bf in tif "systfm fndoding" bnd drfbtf dbnonidbl bnd lowfr dbsf
 * to bf in tif "systfm fndoding" bnd drfbtf dbnonidbl bnd lowfr dbsf
 * to bf in tif "systfm fndoding" bnd drfbtf dbnonidbl bnd lowfr dbsf
 * to bf in tif "systfm fndoding" bnd drfbtf dbnonidbl bnd lowfr dbsf
 * Jbvb strings for tif nbmf wiidi brf bddfd to tif mbps. Tif lowfr dbsf
 * Jbvb strings for tif nbmf wiidi brf bddfd to tif mbps. Tif lowfr dbsf
 * Jbvb strings for tif nbmf wiidi brf bddfd to tif mbps. Tif lowfr dbsf
 * Jbvb strings for tif nbmf wiidi brf bddfd to tif mbps. Tif lowfr dbsf
 * Jbvb strings for tif nbmf wiidi brf bddfd to tif mbps. Tif lowfr dbsf
 * nbmf is usfd bs kfy to tif fbmily nbmf vbluf in tif font to fbmily mbp,
 * nbmf is usfd bs kfy to tif fbmily nbmf vbluf in tif font to fbmily mbp,
 * nbmf is usfd bs kfy to tif fbmily nbmf vbluf in tif font to fbmily mbp,
 * nbmf is usfd bs kfy to tif fbmily nbmf vbluf in tif font to fbmily mbp,
 * nbmf is usfd bs kfy to tif fbmily nbmf vbluf in tif font to fbmily mbp,
 * tif dbnonidbl nbmf is onf of tif"list" of mfmbfrs of tif fbmily.
 * tif dbnonidbl nbmf is onf of tif"list" of mfmbfrs of tif fbmily.
 * tif dbnonidbl nbmf is onf of tif"list" of mfmbfrs of tif fbmily.
 * tif dbnonidbl nbmf is onf of tif"list" of mfmbfrs of tif fbmily.
 * tif dbnonidbl nbmf is onf of tif"list" of mfmbfrs of tif fbmily.
 */
 */
 */
 */
 */
stbtid int CALLBACK EnumFontFbdfsInFbmilyProdA(
stbtid int CALLBACK EnumFontFbdfsInFbmilyProdA(
stbtid int CALLBACK EnumFontFbdfsInFbmilyProdA(
stbtid int CALLBACK EnumFontFbdfsInFbmilyProdA(
stbtid int CALLBACK EnumFontFbdfsInFbmilyProdA(
  ENUMLOGFONTEXA *lpflff,
  ENUMLOGFONTEXA *lpflff,
  ENUMLOGFONTEXA *lpflff,
  ENUMLOGFONTEXA *lpflff,
  ENUMLOGFONTEXA *lpflff,
  NEWTEXTMETRICEX *lpntmf,
  NEWTEXTMETRICEX *lpntmf,
  NEWTEXTMETRICEX *lpntmf,
  NEWTEXTMETRICEX *lpntmf,
  NEWTEXTMETRICEX *lpntmf,
  int FontTypf,
  int FontTypf,
  int FontTypf,
  int FontTypf,
  int FontTypf,
  LPARAM lPbrbm )
  LPARAM lPbrbm )
  LPARAM lPbrbm )
  LPARAM lPbrbm )
  LPARAM lPbrbm )
{
{
{
{
{
    GdiFontMbpInfo *fmi = (GdiFontMbpInfo*)lPbrbm;
    GdiFontMbpInfo *fmi = (GdiFontMbpInfo*)lPbrbm;
    GdiFontMbpInfo *fmi = (GdiFontMbpInfo*)lPbrbm;
    GdiFontMbpInfo *fmi = (GdiFontMbpInfo*)lPbrbm;
    GdiFontMbpInfo *fmi = (GdiFontMbpInfo*)lPbrbm;
    JNIEnv *fnv = fmi->fnv;
    JNIEnv *fnv = fmi->fnv;
    JNIEnv *fnv = fmi->fnv;
    JNIEnv *fnv = fmi->fnv;
    JNIEnv *fnv = fmi->fnv;
    jstring fullnbmf, fullnbmfLC;
    jstring fullnbmf, fullnbmfLC;
    jstring fullnbmf, fullnbmfLC;
    jstring fullnbmf, fullnbmfLC;
    jstring fullnbmf, fullnbmfLC;





    /* Boti Vistb bnd XP rfturn DEVICE_FONTTYPE for OTF fonts */
    /* Boti Vistb bnd XP rfturn DEVICE_FONTTYPE for OTF fonts */
    /* Boti Vistb bnd XP rfturn DEVICE_FONTTYPE for OTF fonts */
    /* Boti Vistb bnd XP rfturn DEVICE_FONTTYPE for OTF fonts */
    /* Boti Vistb bnd XP rfturn DEVICE_FONTTYPE for OTF fonts */
    if (FontTypf != TRUETYPE_FONTTYPE && FontTypf != DEVICE_FONTTYPE) {
    if (FontTypf != TRUETYPE_FONTTYPE && FontTypf != DEVICE_FONTTYPE) {
    if (FontTypf != TRUETYPE_FONTTYPE && FontTypf != DEVICE_FONTTYPE) {
    if (FontTypf != TRUETYPE_FONTTYPE && FontTypf != DEVICE_FONTTYPE) {
    if (FontTypf != TRUETYPE_FONTTYPE && FontTypf != DEVICE_FONTTYPE) {
        rfturn 1;
        rfturn 1;
        rfturn 1;
        rfturn 1;
        rfturn 1;
    }
    }
    }
    }
    }





    /* printf("FULL=%s\n",lpflff->flfFullNbmf);fflusi(stdout);  */
    /* printf("FULL=%s\n",lpflff->flfFullNbmf);fflusi(stdout);  */
    /* printf("FULL=%s\n",lpflff->flfFullNbmf);fflusi(stdout);  */
    /* printf("FULL=%s\n",lpflff->flfFullNbmf);fflusi(stdout);  */
    /* printf("FULL=%s\n",lpflff->flfFullNbmf);fflusi(stdout);  */





    fullnbmf = JNU_NfwStringPlbtform(fnv, lpflff->flfFullNbmf);
    fullnbmf = JNU_NfwStringPlbtform(fnv, lpflff->flfFullNbmf);
    fullnbmf = JNU_NfwStringPlbtform(fnv, lpflff->flfFullNbmf);
    fullnbmf = JNU_NfwStringPlbtform(fnv, lpflff->flfFullNbmf);
    fullnbmf = JNU_NfwStringPlbtform(fnv, lpflff->flfFullNbmf);
    if (fullnbmf == NULL) {
    if (fullnbmf == NULL) {
    if (fullnbmf == NULL) {
    if (fullnbmf == NULL) {
    if (fullnbmf == NULL) {
        (*fnv)->ExdfptionClfbr(fnv);
        (*fnv)->ExdfptionClfbr(fnv);
        (*fnv)->ExdfptionClfbr(fnv);
        (*fnv)->ExdfptionClfbr(fnv);
        (*fnv)->ExdfptionClfbr(fnv);
        rfturn 1;
        rfturn 1;
        rfturn 1;
        rfturn 1;
        rfturn 1;
    }
    }
    }
    }
    }
    fullnbmfLC = (*fnv)->CbllObjfdtMftiod(fnv, fullnbmf,
    fullnbmfLC = (*fnv)->CbllObjfdtMftiod(fnv, fullnbmf,
    fullnbmfLC = (*fnv)->CbllObjfdtMftiod(fnv, fullnbmf,
    fullnbmfLC = (*fnv)->CbllObjfdtMftiod(fnv, fullnbmf,
    fullnbmfLC = (*fnv)->CbllObjfdtMftiod(fnv, fullnbmf,
                                          fmi->toLowfrCbsfMID, fmi->lodblf);
                                          fmi->toLowfrCbsfMID, fmi->lodblf);
                                          fmi->toLowfrCbsfMID, fmi->lodblf);
                                          fmi->toLowfrCbsfMID, fmi->lodblf);
                                          fmi->toLowfrCbsfMID, fmi->lodblf);
    (*fnv)->CbllBoolfbnMftiod(fnv, fmi->list, fmi->bddMID, fullnbmf);
    (*fnv)->CbllBoolfbnMftiod(fnv, fmi->list, fmi->bddMID, fullnbmf);
    (*fnv)->CbllBoolfbnMftiod(fnv, fmi->list, fmi->bddMID, fullnbmf);
    (*fnv)->CbllBoolfbnMftiod(fnv, fmi->list, fmi->bddMID, fullnbmf);
    (*fnv)->CbllBoolfbnMftiod(fnv, fmi->list, fmi->bddMID, fullnbmf);
    (*fnv)->CbllObjfdtMftiod(fnv, fmi->fontToFbmilyMbp,
    (*fnv)->CbllObjfdtMftiod(fnv, fmi->fontToFbmilyMbp,
    (*fnv)->CbllObjfdtMftiod(fnv, fmi->fontToFbmilyMbp,
    (*fnv)->CbllObjfdtMftiod(fnv, fmi->fontToFbmilyMbp,
    (*fnv)->CbllObjfdtMftiod(fnv, fmi->fontToFbmilyMbp,
                             fmi->putMID, fullnbmfLC, fmi->fbmily);
                             fmi->putMID, fullnbmfLC, fmi->fbmily);
                             fmi->putMID, fullnbmfLC, fmi->fbmily);
                             fmi->putMID, fullnbmfLC, fmi->fbmily);
                             fmi->putMID, fullnbmfLC, fmi->fbmily);
    rfturn 1;
    rfturn 1;
    rfturn 1;
    rfturn 1;
    rfturn 1;
}
}
}
}
}





typfdff strudt CifdkFbmilyInfo {
typfdff strudt CifdkFbmilyInfo {
typfdff strudt CifdkFbmilyInfo {
typfdff strudt CifdkFbmilyInfo {
typfdff strudt CifdkFbmilyInfo {
  wdibr_t *fbmily;
  wdibr_t *fbmily;
  wdibr_t *fbmily;
  wdibr_t *fbmily;
  wdibr_t *fbmily;
  wdibr_t* fullNbmf;
  wdibr_t* fullNbmf;
  wdibr_t* fullNbmf;
  wdibr_t* fullNbmf;
  wdibr_t* fullNbmf;
  int isDifffrfnt;
  int isDifffrfnt;
  int isDifffrfnt;
  int isDifffrfnt;
  int isDifffrfnt;
} CifdkFbmilyInfo;
} CifdkFbmilyInfo;
} CifdkFbmilyInfo;
} CifdkFbmilyInfo;
} CifdkFbmilyInfo;





stbtid int CALLBACK CifdkFontFbmilyProdW(
stbtid int CALLBACK CifdkFontFbmilyProdW(
stbtid int CALLBACK CifdkFontFbmilyProdW(
stbtid int CALLBACK CifdkFontFbmilyProdW(
stbtid int CALLBACK CifdkFontFbmilyProdW(
  ENUMLOGFONTEXW *lpflff,
  ENUMLOGFONTEXW *lpflff,
  ENUMLOGFONTEXW *lpflff,
  ENUMLOGFONTEXW *lpflff,
  ENUMLOGFONTEXW *lpflff,
  NEWTEXTMETRICEX *lpntmf,
  NEWTEXTMETRICEX *lpntmf,
  NEWTEXTMETRICEX *lpntmf,
  NEWTEXTMETRICEX *lpntmf,
  NEWTEXTMETRICEX *lpntmf,
  int FontTypf,
  int FontTypf,
  int FontTypf,
  int FontTypf,
  int FontTypf,
  LPARAM lPbrbm)
  LPARAM lPbrbm)
  LPARAM lPbrbm)
  LPARAM lPbrbm)
  LPARAM lPbrbm)
{
{
{
{
{
    CifdkFbmilyInfo *info = (CifdkFbmilyInfo*)lPbrbm;
    CifdkFbmilyInfo *info = (CifdkFbmilyInfo*)lPbrbm;
    CifdkFbmilyInfo *info = (CifdkFbmilyInfo*)lPbrbm;
    CifdkFbmilyInfo *info = (CifdkFbmilyInfo*)lPbrbm;
    CifdkFbmilyInfo *info = (CifdkFbmilyInfo*)lPbrbm;
    info->isDifffrfnt = wdsdmp(lpflff->flfLogFont.lfFbdfNbmf, info->fbmily);
    info->isDifffrfnt = wdsdmp(lpflff->flfLogFont.lfFbdfNbmf, info->fbmily);
    info->isDifffrfnt = wdsdmp(lpflff->flfLogFont.lfFbdfNbmf, info->fbmily);
    info->isDifffrfnt = wdsdmp(lpflff->flfLogFont.lfFbdfNbmf, info->fbmily);
    info->isDifffrfnt = wdsdmp(lpflff->flfLogFont.lfFbdfNbmf, info->fbmily);





/*     if (!info->isDifffrfnt) { */
/*     if (!info->isDifffrfnt) { */
/*     if (!info->isDifffrfnt) { */
/*     if (!info->isDifffrfnt) { */
/*     if (!info->isDifffrfnt) { */
/*         wprintf(LFor font %s fxpfdtfd fbmily=%s instfbd got %s\n", */
/*         wprintf(LFor font %s fxpfdtfd fbmily=%s instfbd got %s\n", */
/*         wprintf(LFor font %s fxpfdtfd fbmily=%s instfbd got %s\n", */
/*         wprintf(LFor font %s fxpfdtfd fbmily=%s instfbd got %s\n", */
/*         wprintf(LFor font %s fxpfdtfd fbmily=%s instfbd got %s\n", */
/*                 lpflff->flfFullNbmf, */
/*                 lpflff->flfFullNbmf, */
/*                 lpflff->flfFullNbmf, */
/*                 lpflff->flfFullNbmf, */
/*                 lpflff->flfFullNbmf, */
/*                 info->fbmily, */
/*                 info->fbmily, */
/*                 info->fbmily, */
/*                 info->fbmily, */
/*                 info->fbmily, */
/*                 lpflff->flfLogFont.lfFbdfNbmf); */
/*                 lpflff->flfLogFont.lfFbdfNbmf); */
/*                 lpflff->flfLogFont.lfFbdfNbmf); */
/*                 lpflff->flfLogFont.lfFbdfNbmf); */
/*                 lpflff->flfLogFont.lfFbdfNbmf); */
/*         fflusi(stdout); */
/*         fflusi(stdout); */
/*         fflusi(stdout); */
/*         fflusi(stdout); */
/*         fflusi(stdout); */
/*     } */
/*     } */
/*     } */
/*     } */
/*     } */
    rfturn 0;
    rfturn 0;
    rfturn 0;
    rfturn 0;
    rfturn 0;
}
}
}
}
}





/* Tiis HDC is initiblisfd bnd rflfbsfd in tif populbtf fbmily mbp
/* Tiis HDC is initiblisfd bnd rflfbsfd in tif populbtf fbmily mbp
/* Tiis HDC is initiblisfd bnd rflfbsfd in tif populbtf fbmily mbp
/* Tiis HDC is initiblisfd bnd rflfbsfd in tif populbtf fbmily mbp
/* Tiis HDC is initiblisfd bnd rflfbsfd in tif populbtf fbmily mbp
 * JNI fntry point, bnd usfd witiin tif dbll wiidi would otifrwisf
 * JNI fntry point, bnd usfd witiin tif dbll wiidi would otifrwisf
 * JNI fntry point, bnd usfd witiin tif dbll wiidi would otifrwisf
 * JNI fntry point, bnd usfd witiin tif dbll wiidi would otifrwisf
 * JNI fntry point, bnd usfd witiin tif dbll wiidi would otifrwisf
 * drfbtf mbny DCs.
 * drfbtf mbny DCs.
 * drfbtf mbny DCs.
 * drfbtf mbny DCs.
 * drfbtf mbny DCs.
 */
 */
 */
 */
 */
stbtid HDC sdrffnDC = NULL;
stbtid HDC sdrffnDC = NULL;
stbtid HDC sdrffnDC = NULL;
stbtid HDC sdrffnDC = NULL;
stbtid HDC sdrffnDC = NULL;





stbtid int DifffrfntFbmily(wdibr_t *fbmily, wdibr_t* fullNbmf) {
stbtid int DifffrfntFbmily(wdibr_t *fbmily, wdibr_t* fullNbmf) {
stbtid int DifffrfntFbmily(wdibr_t *fbmily, wdibr_t* fullNbmf) {
stbtid int DifffrfntFbmily(wdibr_t *fbmily, wdibr_t* fullNbmf) {
stbtid int DifffrfntFbmily(wdibr_t *fbmily, wdibr_t* fullNbmf) {
    LOGFONTW lfw;
    LOGFONTW lfw;
    LOGFONTW lfw;
    LOGFONTW lfw;
    LOGFONTW lfw;
    CifdkFbmilyInfo info;
    CifdkFbmilyInfo info;
    CifdkFbmilyInfo info;
    CifdkFbmilyInfo info;
    CifdkFbmilyInfo info;





    /* If fullNbmf dbn't bf storfd in tif strudt, bssumf dorrfdt fbmily */
    /* If fullNbmf dbn't bf storfd in tif strudt, bssumf dorrfdt fbmily */
    /* If fullNbmf dbn't bf storfd in tif strudt, bssumf dorrfdt fbmily */
    /* If fullNbmf dbn't bf storfd in tif strudt, bssumf dorrfdt fbmily */
    /* If fullNbmf dbn't bf storfd in tif strudt, bssumf dorrfdt fbmily */
    if (wdslfn((LPWSTR)fullNbmf) >= LF_FACESIZE) {
    if (wdslfn((LPWSTR)fullNbmf) >= LF_FACESIZE) {
    if (wdslfn((LPWSTR)fullNbmf) >= LF_FACESIZE) {
    if (wdslfn((LPWSTR)fullNbmf) >= LF_FACESIZE) {
    if (wdslfn((LPWSTR)fullNbmf) >= LF_FACESIZE) {
        rfturn 0;
        rfturn 0;
        rfturn 0;
        rfturn 0;
        rfturn 0;
    }
    }
    }
    }
    }





    mfmsft(&info, 0, sizfof(CifdkFbmilyInfo));
    mfmsft(&info, 0, sizfof(CifdkFbmilyInfo));
    mfmsft(&info, 0, sizfof(CifdkFbmilyInfo));
    mfmsft(&info, 0, sizfof(CifdkFbmilyInfo));
    mfmsft(&info, 0, sizfof(CifdkFbmilyInfo));
    info.fbmily = fbmily;
    info.fbmily = fbmily;
    info.fbmily = fbmily;
    info.fbmily = fbmily;
    info.fbmily = fbmily;
    info.fullNbmf = fullNbmf;
    info.fullNbmf = fullNbmf;
    info.fullNbmf = fullNbmf;
    info.fullNbmf = fullNbmf;
    info.fullNbmf = fullNbmf;
    info.isDifffrfnt = 0;
    info.isDifffrfnt = 0;
    info.isDifffrfnt = 0;
    info.isDifffrfnt = 0;
    info.isDifffrfnt = 0;





    mfmsft(&lfw, 0, sizfof(lfw));
    mfmsft(&lfw, 0, sizfof(lfw));
    mfmsft(&lfw, 0, sizfof(lfw));
    mfmsft(&lfw, 0, sizfof(lfw));
    mfmsft(&lfw, 0, sizfof(lfw));
    wdsdpy(lfw.lfFbdfNbmf, fullNbmf);
    wdsdpy(lfw.lfFbdfNbmf, fullNbmf);
    wdsdpy(lfw.lfFbdfNbmf, fullNbmf);
    wdsdpy(lfw.lfFbdfNbmf, fullNbmf);
    wdsdpy(lfw.lfFbdfNbmf, fullNbmf);
    lfw.lfCibrSft = DEFAULT_CHARSET;
    lfw.lfCibrSft = DEFAULT_CHARSET;
    lfw.lfCibrSft = DEFAULT_CHARSET;
    lfw.lfCibrSft = DEFAULT_CHARSET;
    lfw.lfCibrSft = DEFAULT_CHARSET;
    EnumFontFbmilifsExW(sdrffnDC, &lfw,
    EnumFontFbmilifsExW(sdrffnDC, &lfw,
    EnumFontFbmilifsExW(sdrffnDC, &lfw,
    EnumFontFbmilifsExW(sdrffnDC, &lfw,
    EnumFontFbmilifsExW(sdrffnDC, &lfw,
                        (FONTENUMPROCW)CifdkFontFbmilyProdW,
                        (FONTENUMPROCW)CifdkFontFbmilyProdW,
                        (FONTENUMPROCW)CifdkFontFbmilyProdW,
                        (FONTENUMPROCW)CifdkFontFbmilyProdW,
                        (FONTENUMPROCW)CifdkFontFbmilyProdW,
                        (LPARAM)(&info), 0L);
                        (LPARAM)(&info), 0L);
                        (LPARAM)(&info), 0L);
                        (LPARAM)(&info), 0L);
                        (LPARAM)(&info), 0L);





    rfturn info.isDifffrfnt;
    rfturn info.isDifffrfnt;
    rfturn info.isDifffrfnt;
    rfturn info.isDifffrfnt;
    rfturn info.isDifffrfnt;
}
}
}
}
}





stbtid int CALLBACK EnumFontFbdfsInFbmilyProdW(
stbtid int CALLBACK EnumFontFbdfsInFbmilyProdW(
stbtid int CALLBACK EnumFontFbdfsInFbmilyProdW(
stbtid int CALLBACK EnumFontFbdfsInFbmilyProdW(
stbtid int CALLBACK EnumFontFbdfsInFbmilyProdW(
  ENUMLOGFONTEXW *lpflff,
  ENUMLOGFONTEXW *lpflff,
  ENUMLOGFONTEXW *lpflff,
  ENUMLOGFONTEXW *lpflff,
  ENUMLOGFONTEXW *lpflff,
  NEWTEXTMETRICEX *lpntmf,
  NEWTEXTMETRICEX *lpntmf,
  NEWTEXTMETRICEX *lpntmf,
  NEWTEXTMETRICEX *lpntmf,
  NEWTEXTMETRICEX *lpntmf,
  int FontTypf,
  int FontTypf,
  int FontTypf,
  int FontTypf,
  int FontTypf,
  LPARAM lPbrbm)
  LPARAM lPbrbm)
  LPARAM lPbrbm)
  LPARAM lPbrbm)
  LPARAM lPbrbm)
{
{
{
{
{
    GdiFontMbpInfo *fmi = (GdiFontMbpInfo*)lPbrbm;
    GdiFontMbpInfo *fmi = (GdiFontMbpInfo*)lPbrbm;
    GdiFontMbpInfo *fmi = (GdiFontMbpInfo*)lPbrbm;
    GdiFontMbpInfo *fmi = (GdiFontMbpInfo*)lPbrbm;
    GdiFontMbpInfo *fmi = (GdiFontMbpInfo*)lPbrbm;
    JNIEnv *fnv = fmi->fnv;
    JNIEnv *fnv = fmi->fnv;
    JNIEnv *fnv = fmi->fnv;
    JNIEnv *fnv = fmi->fnv;
    JNIEnv *fnv = fmi->fnv;
    jstring fullnbmf, fullnbmfLC;
    jstring fullnbmf, fullnbmfLC;
    jstring fullnbmf, fullnbmfLC;
    jstring fullnbmf, fullnbmfLC;
    jstring fullnbmf, fullnbmfLC;





    /* Boti Vistb bnd XP rfturn DEVICE_FONTTYPE for OTF fonts */
    /* Boti Vistb bnd XP rfturn DEVICE_FONTTYPE for OTF fonts */
    /* Boti Vistb bnd XP rfturn DEVICE_FONTTYPE for OTF fonts */
    /* Boti Vistb bnd XP rfturn DEVICE_FONTTYPE for OTF fonts */
    /* Boti Vistb bnd XP rfturn DEVICE_FONTTYPE for OTF fonts */
    if (FontTypf != TRUETYPE_FONTTYPE && FontTypf != DEVICE_FONTTYPE) {
    if (FontTypf != TRUETYPE_FONTTYPE && FontTypf != DEVICE_FONTTYPE) {
    if (FontTypf != TRUETYPE_FONTTYPE && FontTypf != DEVICE_FONTTYPE) {
    if (FontTypf != TRUETYPE_FONTTYPE && FontTypf != DEVICE_FONTTYPE) {
    if (FontTypf != TRUETYPE_FONTTYPE && FontTypf != DEVICE_FONTTYPE) {
        rfturn 1;
        rfturn 1;
        rfturn 1;
        rfturn 1;
        rfturn 1;
    }
    }
    }
    }
    }





    /* Windows ibs font blibsfs bnd so mby fnumfrbtf fonts from
    /* Windows ibs font blibsfs bnd so mby fnumfrbtf fonts from
    /* Windows ibs font blibsfs bnd so mby fnumfrbtf fonts from
    /* Windows ibs font blibsfs bnd so mby fnumfrbtf fonts from
    /* Windows ibs font blibsfs bnd so mby fnumfrbtf fonts from
     * tif blibsfd fbmily if bny bdtubl font of tibt fbmily is instbllfd.
     * tif blibsfd fbmily if bny bdtubl font of tibt fbmily is instbllfd.
     * tif blibsfd fbmily if bny bdtubl font of tibt fbmily is instbllfd.
     * tif blibsfd fbmily if bny bdtubl font of tibt fbmily is instbllfd.
     * tif blibsfd fbmily if bny bdtubl font of tibt fbmily is instbllfd.
     * To protfdt bgbinst it ignorf fonts wiidi brfn't fnumfrbtfd undfr
     * To protfdt bgbinst it ignorf fonts wiidi brfn't fnumfrbtfd undfr
     * To protfdt bgbinst it ignorf fonts wiidi brfn't fnumfrbtfd undfr
     * To protfdt bgbinst it ignorf fonts wiidi brfn't fnumfrbtfd undfr
     * To protfdt bgbinst it ignorf fonts wiidi brfn't fnumfrbtfd undfr
     * tifir truf fbmily.
     * tifir truf fbmily.
     * tifir truf fbmily.
     * tifir truf fbmily.
     * tifir truf fbmily.
     */
     */
     */
     */
     */
    if (DifffrfntFbmily(lpflff->flfLogFont.lfFbdfNbmf,
    if (DifffrfntFbmily(lpflff->flfLogFont.lfFbdfNbmf,
    if (DifffrfntFbmily(lpflff->flfLogFont.lfFbdfNbmf,
    if (DifffrfntFbmily(lpflff->flfLogFont.lfFbdfNbmf,
    if (DifffrfntFbmily(lpflff->flfLogFont.lfFbdfNbmf,
                        lpflff->flfFullNbmf))  {
                        lpflff->flfFullNbmf))  {
                        lpflff->flfFullNbmf))  {
                        lpflff->flfFullNbmf))  {
                        lpflff->flfFullNbmf))  {
      rfturn 1;
      rfturn 1;
      rfturn 1;
      rfturn 1;
      rfturn 1;
    }
    }
    }
    }
    }





    fullnbmf = (*fnv)->NfwString(fnv, lpflff->flfFullNbmf,
    fullnbmf = (*fnv)->NfwString(fnv, lpflff->flfFullNbmf,
    fullnbmf = (*fnv)->NfwString(fnv, lpflff->flfFullNbmf,
    fullnbmf = (*fnv)->NfwString(fnv, lpflff->flfFullNbmf,
    fullnbmf = (*fnv)->NfwString(fnv, lpflff->flfFullNbmf,
                                 (jsizf)wdslfn((LPWSTR)lpflff->flfFullNbmf));
                                 (jsizf)wdslfn((LPWSTR)lpflff->flfFullNbmf));
                                 (jsizf)wdslfn((LPWSTR)lpflff->flfFullNbmf));
                                 (jsizf)wdslfn((LPWSTR)lpflff->flfFullNbmf));
                                 (jsizf)wdslfn((LPWSTR)lpflff->flfFullNbmf));
    if (fullnbmf == NULL) {
    if (fullnbmf == NULL) {
    if (fullnbmf == NULL) {
    if (fullnbmf == NULL) {
    if (fullnbmf == NULL) {
        (*fnv)->ExdfptionClfbr(fnv);
        (*fnv)->ExdfptionClfbr(fnv);
        (*fnv)->ExdfptionClfbr(fnv);
        (*fnv)->ExdfptionClfbr(fnv);
        (*fnv)->ExdfptionClfbr(fnv);
        rfturn 1;
        rfturn 1;
        rfturn 1;
        rfturn 1;
        rfturn 1;
    }
    }
    }
    }
    }
    fullnbmfLC = (*fnv)->CbllObjfdtMftiod(fnv, fullnbmf,
    fullnbmfLC = (*fnv)->CbllObjfdtMftiod(fnv, fullnbmf,
    fullnbmfLC = (*fnv)->CbllObjfdtMftiod(fnv, fullnbmf,
    fullnbmfLC = (*fnv)->CbllObjfdtMftiod(fnv, fullnbmf,
    fullnbmfLC = (*fnv)->CbllObjfdtMftiod(fnv, fullnbmf,
                                          fmi->toLowfrCbsfMID, fmi->lodblf);
                                          fmi->toLowfrCbsfMID, fmi->lodblf);
                                          fmi->toLowfrCbsfMID, fmi->lodblf);
                                          fmi->toLowfrCbsfMID, fmi->lodblf);
                                          fmi->toLowfrCbsfMID, fmi->lodblf);
    (*fnv)->CbllBoolfbnMftiod(fnv, fmi->list, fmi->bddMID, fullnbmf);
    (*fnv)->CbllBoolfbnMftiod(fnv, fmi->list, fmi->bddMID, fullnbmf);
    (*fnv)->CbllBoolfbnMftiod(fnv, fmi->list, fmi->bddMID, fullnbmf);
    (*fnv)->CbllBoolfbnMftiod(fnv, fmi->list, fmi->bddMID, fullnbmf);
    (*fnv)->CbllBoolfbnMftiod(fnv, fmi->list, fmi->bddMID, fullnbmf);
    (*fnv)->CbllObjfdtMftiod(fnv, fmi->fontToFbmilyMbp,
    (*fnv)->CbllObjfdtMftiod(fnv, fmi->fontToFbmilyMbp,
    (*fnv)->CbllObjfdtMftiod(fnv, fmi->fontToFbmilyMbp,
    (*fnv)->CbllObjfdtMftiod(fnv, fmi->fontToFbmilyMbp,
    (*fnv)->CbllObjfdtMftiod(fnv, fmi->fontToFbmilyMbp,
                             fmi->putMID, fullnbmfLC, fmi->fbmily);
                             fmi->putMID, fullnbmfLC, fmi->fbmily);
                             fmi->putMID, fullnbmfLC, fmi->fbmily);
                             fmi->putMID, fullnbmfLC, fmi->fbmily);
                             fmi->putMID, fullnbmfLC, fmi->fbmily);
    rfturn 1;
    rfturn 1;
    rfturn 1;
    rfturn 1;
    rfturn 1;
}
}
}
}
}





/* Cbllbbdk for EnumFontFbmilifsEx in populbtfFontFilfNbmfMbp.
/* Cbllbbdk for EnumFontFbmilifsEx in populbtfFontFilfNbmfMbp.
/* Cbllbbdk for EnumFontFbmilifsEx in populbtfFontFilfNbmfMbp.
/* Cbllbbdk for EnumFontFbmilifsEx in populbtfFontFilfNbmfMbp.
/* Cbllbbdk for EnumFontFbmilifsEx in populbtfFontFilfNbmfMbp.
 * Expfdts to bf dbllfd for fvfry dibrsft of fvfry font fbmily.
 * Expfdts to bf dbllfd for fvfry dibrsft of fvfry font fbmily.
 * Expfdts to bf dbllfd for fvfry dibrsft of fvfry font fbmily.
 * Expfdts to bf dbllfd for fvfry dibrsft of fvfry font fbmily.
 * Expfdts to bf dbllfd for fvfry dibrsft of fvfry font fbmily.
 * If tiis is tif first timf wf ibvf bffn dbllfd for tiis fbmily,
 * If tiis is tif first timf wf ibvf bffn dbllfd for tiis fbmily,
 * If tiis is tif first timf wf ibvf bffn dbllfd for tiis fbmily,
 * If tiis is tif first timf wf ibvf bffn dbllfd for tiis fbmily,
 * If tiis is tif first timf wf ibvf bffn dbllfd for tiis fbmily,
 * bdd b nfw mbpping to tif fbmilyToFontListMbp from tiis fbmily to b
 * bdd b nfw mbpping to tif fbmilyToFontListMbp from tiis fbmily to b
 * bdd b nfw mbpping to tif fbmilyToFontListMbp from tiis fbmily to b
 * bdd b nfw mbpping to tif fbmilyToFontListMbp from tiis fbmily to b
 * bdd b nfw mbpping to tif fbmilyToFontListMbp from tiis fbmily to b
 * list of its mfmbfrs. To populbtf tibt list, furtifr fnumfrbtf bll fbdfs
 * list of its mfmbfrs. To populbtf tibt list, furtifr fnumfrbtf bll fbdfs
 * list of its mfmbfrs. To populbtf tibt list, furtifr fnumfrbtf bll fbdfs
 * list of its mfmbfrs. To populbtf tibt list, furtifr fnumfrbtf bll fbdfs
 * list of its mfmbfrs. To populbtf tibt list, furtifr fnumfrbtf bll fbdfs
 * in tiis fbmily for tif mbtdifd dibrsft. Tiis bssumfs tibt bll fonts
 * in tiis fbmily for tif mbtdifd dibrsft. Tiis bssumfs tibt bll fonts
 * in tiis fbmily for tif mbtdifd dibrsft. Tiis bssumfs tibt bll fonts
 * in tiis fbmily for tif mbtdifd dibrsft. Tiis bssumfs tibt bll fonts
 * in tiis fbmily for tif mbtdifd dibrsft. Tiis bssumfs tibt bll fonts
 * in b fbmily support tif sbmf dibrsft, wiidi is b fbirly sbff bssumption
 * in b fbmily support tif sbmf dibrsft, wiidi is b fbirly sbff bssumption
 * in b fbmily support tif sbmf dibrsft, wiidi is b fbirly sbff bssumption
 * in b fbmily support tif sbmf dibrsft, wiidi is b fbirly sbff bssumption
 * in b fbmily support tif sbmf dibrsft, wiidi is b fbirly sbff bssumption
 * bnd sbvfs timf bs tif dbll wf mbkf ifrf to EnumFontFbmilifsEx will
 * bnd sbvfs timf bs tif dbll wf mbkf ifrf to EnumFontFbmilifsEx will
 * bnd sbvfs timf bs tif dbll wf mbkf ifrf to EnumFontFbmilifsEx will
 * bnd sbvfs timf bs tif dbll wf mbkf ifrf to EnumFontFbmilifsEx will
 * bnd sbvfs timf bs tif dbll wf mbkf ifrf to EnumFontFbmilifsEx will
 * fnumfrbtf tif mfmbfrs of tiis fbmily just ondf fbdi.
 * fnumfrbtf tif mfmbfrs of tiis fbmily just ondf fbdi.
 * fnumfrbtf tif mfmbfrs of tiis fbmily just ondf fbdi.
 * fnumfrbtf tif mfmbfrs of tiis fbmily just ondf fbdi.
 * fnumfrbtf tif mfmbfrs of tiis fbmily just ondf fbdi.
 * Bfdbusf wf sft fmi->list to bf tif nfwly drfbtfd list tif dbll bbdk
 * Bfdbusf wf sft fmi->list to bf tif nfwly drfbtfd list tif dbll bbdk
 * Bfdbusf wf sft fmi->list to bf tif nfwly drfbtfd list tif dbll bbdk
 * Bfdbusf wf sft fmi->list to bf tif nfwly drfbtfd list tif dbll bbdk
 * Bfdbusf wf sft fmi->list to bf tif nfwly drfbtfd list tif dbll bbdk
 * dbn sbffly bdd to tibt list witiout b sfbrdi.
 * dbn sbffly bdd to tibt list witiout b sfbrdi.
 * dbn sbffly bdd to tibt list witiout b sfbrdi.
 * dbn sbffly bdd to tibt list witiout b sfbrdi.
 * dbn sbffly bdd to tibt list witiout b sfbrdi.
 */
 */
 */
 */
 */
stbtid int CALLBACK EnumFbmilyNbmfsA(
stbtid int CALLBACK EnumFbmilyNbmfsA(
stbtid int CALLBACK EnumFbmilyNbmfsA(
stbtid int CALLBACK EnumFbmilyNbmfsA(
stbtid int CALLBACK EnumFbmilyNbmfsA(
  ENUMLOGFONTEXA *lpflff,    /* pointfr to logidbl-font dbtb */
  ENUMLOGFONTEXA *lpflff,    /* pointfr to logidbl-font dbtb */
  ENUMLOGFONTEXA *lpflff,    /* pointfr to logidbl-font dbtb */
  ENUMLOGFONTEXA *lpflff,    /* pointfr to logidbl-font dbtb */
  ENUMLOGFONTEXA *lpflff,    /* pointfr to logidbl-font dbtb */
  NEWTEXTMETRICEX *lpntmf,   /* pointfr to piysidbl-font dbtb */
  NEWTEXTMETRICEX *lpntmf,   /* pointfr to piysidbl-font dbtb */
  NEWTEXTMETRICEX *lpntmf,   /* pointfr to piysidbl-font dbtb */
  NEWTEXTMETRICEX *lpntmf,   /* pointfr to piysidbl-font dbtb */
  NEWTEXTMETRICEX *lpntmf,   /* pointfr to piysidbl-font dbtb */
  int FontTypf,              /* typf of font */
  int FontTypf,              /* typf of font */
  int FontTypf,              /* typf of font */
  int FontTypf,              /* typf of font */
  int FontTypf,              /* typf of font */
  LPARAM lPbrbm)             /* bpplidbtion-dffinfd dbtb */
  LPARAM lPbrbm)             /* bpplidbtion-dffinfd dbtb */
  LPARAM lPbrbm)             /* bpplidbtion-dffinfd dbtb */
  LPARAM lPbrbm)             /* bpplidbtion-dffinfd dbtb */
  LPARAM lPbrbm)             /* bpplidbtion-dffinfd dbtb */
{
{
{
{
{
    GdiFontMbpInfo *fmi = (GdiFontMbpInfo*)lPbrbm;
    GdiFontMbpInfo *fmi = (GdiFontMbpInfo*)lPbrbm;
    GdiFontMbpInfo *fmi = (GdiFontMbpInfo*)lPbrbm;
    GdiFontMbpInfo *fmi = (GdiFontMbpInfo*)lPbrbm;
    GdiFontMbpInfo *fmi = (GdiFontMbpInfo*)lPbrbm;
    JNIEnv *fnv = fmi->fnv;
    JNIEnv *fnv = fmi->fnv;
    JNIEnv *fnv = fmi->fnv;
    JNIEnv *fnv = fmi->fnv;
    JNIEnv *fnv = fmi->fnv;
    jstring fbmilyLC;
    jstring fbmilyLC;
    jstring fbmilyLC;
    jstring fbmilyLC;
    jstring fbmilyLC;
    LOGFONTA lfb;
    LOGFONTA lfb;
    LOGFONTA lfb;
    LOGFONTA lfb;
    LOGFONTA lfb;





    /* Boti Vistb bnd XP rfturn DEVICE_FONTTYPE for OTF fonts */
    /* Boti Vistb bnd XP rfturn DEVICE_FONTTYPE for OTF fonts */
    /* Boti Vistb bnd XP rfturn DEVICE_FONTTYPE for OTF fonts */
    /* Boti Vistb bnd XP rfturn DEVICE_FONTTYPE for OTF fonts */
    /* Boti Vistb bnd XP rfturn DEVICE_FONTTYPE for OTF fonts */
    if (FontTypf != TRUETYPE_FONTTYPE && FontTypf != DEVICE_FONTTYPE) {
    if (FontTypf != TRUETYPE_FONTTYPE && FontTypf != DEVICE_FONTTYPE) {
    if (FontTypf != TRUETYPE_FONTTYPE && FontTypf != DEVICE_FONTTYPE) {
    if (FontTypf != TRUETYPE_FONTTYPE && FontTypf != DEVICE_FONTTYPE) {
    if (FontTypf != TRUETYPE_FONTTYPE && FontTypf != DEVICE_FONTTYPE) {
        rfturn 1;
        rfturn 1;
        rfturn 1;
        rfturn 1;
        rfturn 1;
    }
    }
    }
    }
    }





    /* Windows lists fonts wiidi ibvf b vmtx (vfrtidbl mftrids) tbblf twidf.
    /* Windows lists fonts wiidi ibvf b vmtx (vfrtidbl mftrids) tbblf twidf.
    /* Windows lists fonts wiidi ibvf b vmtx (vfrtidbl mftrids) tbblf twidf.
    /* Windows lists fonts wiidi ibvf b vmtx (vfrtidbl mftrids) tbblf twidf.
    /* Windows lists fonts wiidi ibvf b vmtx (vfrtidbl mftrids) tbblf twidf.
     * Ondf using tifir normbl nbmf, bnd bgbin prfdfdfd by '@'. Tifsf bppfbr
     * Ondf using tifir normbl nbmf, bnd bgbin prfdfdfd by '@'. Tifsf bppfbr
     * Ondf using tifir normbl nbmf, bnd bgbin prfdfdfd by '@'. Tifsf bppfbr
     * Ondf using tifir normbl nbmf, bnd bgbin prfdfdfd by '@'. Tifsf bppfbr
     * Ondf using tifir normbl nbmf, bnd bgbin prfdfdfd by '@'. Tifsf bppfbr
     * in font lists in somf windows bpps, sudi bs wordpbd. Wf don't wbnt
     * in font lists in somf windows bpps, sudi bs wordpbd. Wf don't wbnt
     * in font lists in somf windows bpps, sudi bs wordpbd. Wf don't wbnt
     * in font lists in somf windows bpps, sudi bs wordpbd. Wf don't wbnt
     * in font lists in somf windows bpps, sudi bs wordpbd. Wf don't wbnt
     * tifsf so wf skip bny font wifrf tif first dibrbdtfr is '@'
     * tifsf so wf skip bny font wifrf tif first dibrbdtfr is '@'
     * tifsf so wf skip bny font wifrf tif first dibrbdtfr is '@'
     * tifsf so wf skip bny font wifrf tif first dibrbdtfr is '@'
     * tifsf so wf skip bny font wifrf tif first dibrbdtfr is '@'
     */
     */
     */
     */
     */
    if (lpflff->flfLogFont.lfFbdfNbmf[0] == '@') {
    if (lpflff->flfLogFont.lfFbdfNbmf[0] == '@') {
    if (lpflff->flfLogFont.lfFbdfNbmf[0] == '@') {
    if (lpflff->flfLogFont.lfFbdfNbmf[0] == '@') {
    if (lpflff->flfLogFont.lfFbdfNbmf[0] == '@') {
        rfturn 1;
        rfturn 1;
        rfturn 1;
        rfturn 1;
        rfturn 1;
    }
    }
    }
    }
    }
    fmi->fbmily = JNU_NfwStringPlbtform(fnv,lpflff->flfLogFont.lfFbdfNbmf);
    fmi->fbmily = JNU_NfwStringPlbtform(fnv,lpflff->flfLogFont.lfFbdfNbmf);
    fmi->fbmily = JNU_NfwStringPlbtform(fnv,lpflff->flfLogFont.lfFbdfNbmf);
    fmi->fbmily = JNU_NfwStringPlbtform(fnv,lpflff->flfLogFont.lfFbdfNbmf);
    fmi->fbmily = JNU_NfwStringPlbtform(fnv,lpflff->flfLogFont.lfFbdfNbmf);
    if (fmi->fbmily == NULL) {
    if (fmi->fbmily == NULL) {
    if (fmi->fbmily == NULL) {
    if (fmi->fbmily == NULL) {
    if (fmi->fbmily == NULL) {
        (*fnv)->ExdfptionClfbr(fnv);
        (*fnv)->ExdfptionClfbr(fnv);
        (*fnv)->ExdfptionClfbr(fnv);
        (*fnv)->ExdfptionClfbr(fnv);
        (*fnv)->ExdfptionClfbr(fnv);
        rfturn 1;
        rfturn 1;
        rfturn 1;
        rfturn 1;
        rfturn 1;
    }
    }
    }
    }
    }
    fbmilyLC = (*fnv)->CbllObjfdtMftiod(fnv, fmi->fbmily,
    fbmilyLC = (*fnv)->CbllObjfdtMftiod(fnv, fmi->fbmily,
    fbmilyLC = (*fnv)->CbllObjfdtMftiod(fnv, fmi->fbmily,
    fbmilyLC = (*fnv)->CbllObjfdtMftiod(fnv, fmi->fbmily,
    fbmilyLC = (*fnv)->CbllObjfdtMftiod(fnv, fmi->fbmily,
                                        fmi->toLowfrCbsfMID, fmi->lodblf);
                                        fmi->toLowfrCbsfMID, fmi->lodblf);
                                        fmi->toLowfrCbsfMID, fmi->lodblf);
                                        fmi->toLowfrCbsfMID, fmi->lodblf);
                                        fmi->toLowfrCbsfMID, fmi->lodblf);
    /* difdk if blrfbdy sffn tiis fbmily witi b difffrfnt dibrsft */
    /* difdk if blrfbdy sffn tiis fbmily witi b difffrfnt dibrsft */
    /* difdk if blrfbdy sffn tiis fbmily witi b difffrfnt dibrsft */
    /* difdk if blrfbdy sffn tiis fbmily witi b difffrfnt dibrsft */
    /* difdk if blrfbdy sffn tiis fbmily witi b difffrfnt dibrsft */
    if ((*fnv)->CbllBoolfbnMftiod(fnv,fmi->fbmilyToFontListMbp,
    if ((*fnv)->CbllBoolfbnMftiod(fnv,fmi->fbmilyToFontListMbp,
    if ((*fnv)->CbllBoolfbnMftiod(fnv,fmi->fbmilyToFontListMbp,
    if ((*fnv)->CbllBoolfbnMftiod(fnv,fmi->fbmilyToFontListMbp,
    if ((*fnv)->CbllBoolfbnMftiod(fnv,fmi->fbmilyToFontListMbp,
                                  fmi->dontbinsKfyMID, fbmilyLC)) {
                                  fmi->dontbinsKfyMID, fbmilyLC)) {
                                  fmi->dontbinsKfyMID, fbmilyLC)) {
                                  fmi->dontbinsKfyMID, fbmilyLC)) {
                                  fmi->dontbinsKfyMID, fbmilyLC)) {
        rfturn 1;
        rfturn 1;
        rfturn 1;
        rfturn 1;
        rfturn 1;
    }
    }
    }
    }
    }
    fmi->list = (*fnv)->NfwObjfdt(fnv,
    fmi->list = (*fnv)->NfwObjfdt(fnv,
    fmi->list = (*fnv)->NfwObjfdt(fnv,
    fmi->list = (*fnv)->NfwObjfdt(fnv,
    fmi->list = (*fnv)->NfwObjfdt(fnv,
                                  fmi->brrbyListClbss, fmi->brrbyListCtr, 4);
                                  fmi->brrbyListClbss, fmi->brrbyListCtr, 4);
                                  fmi->brrbyListClbss, fmi->brrbyListCtr, 4);
                                  fmi->brrbyListClbss, fmi->brrbyListCtr, 4);
                                  fmi->brrbyListClbss, fmi->brrbyListCtr, 4);
    if (fmi->list == NULL) {
    if (fmi->list == NULL) {
    if (fmi->list == NULL) {
    if (fmi->list == NULL) {
    if (fmi->list == NULL) {
        (*fnv)->ExdfptionClfbr(fnv);
        (*fnv)->ExdfptionClfbr(fnv);
        (*fnv)->ExdfptionClfbr(fnv);
        (*fnv)->ExdfptionClfbr(fnv);
        (*fnv)->ExdfptionClfbr(fnv);
        rfturn 1;
        rfturn 1;
        rfturn 1;
        rfturn 1;
        rfturn 1;
    }
    }
    }
    }
    }
    (*fnv)->CbllObjfdtMftiod(fnv, fmi->fbmilyToFontListMbp,
    (*fnv)->CbllObjfdtMftiod(fnv, fmi->fbmilyToFontListMbp,
    (*fnv)->CbllObjfdtMftiod(fnv, fmi->fbmilyToFontListMbp,
    (*fnv)->CbllObjfdtMftiod(fnv, fmi->fbmilyToFontListMbp,
    (*fnv)->CbllObjfdtMftiod(fnv, fmi->fbmilyToFontListMbp,
                             fmi->putMID, fbmilyLC, fmi->list);
                             fmi->putMID, fbmilyLC, fmi->list);
                             fmi->putMID, fbmilyLC, fmi->list);
                             fmi->putMID, fbmilyLC, fmi->list);
                             fmi->putMID, fbmilyLC, fmi->list);





/*  printf("FAMILY=%s\n", lpflff->flfLogFont.lfFbdfNbmf);fflusi(stdout); */
/*  printf("FAMILY=%s\n", lpflff->flfLogFont.lfFbdfNbmf);fflusi(stdout); */
/*  printf("FAMILY=%s\n", lpflff->flfLogFont.lfFbdfNbmf);fflusi(stdout); */
/*  printf("FAMILY=%s\n", lpflff->flfLogFont.lfFbdfNbmf);fflusi(stdout); */
/*  printf("FAMILY=%s\n", lpflff->flfLogFont.lfFbdfNbmf);fflusi(stdout); */





    mfmsft(&lfb, 0, sizfof(lfb));
    mfmsft(&lfb, 0, sizfof(lfb));
    mfmsft(&lfb, 0, sizfof(lfb));
    mfmsft(&lfb, 0, sizfof(lfb));
    mfmsft(&lfb, 0, sizfof(lfb));
    strdpy(lfb.lfFbdfNbmf, lpflff->flfLogFont.lfFbdfNbmf);
    strdpy(lfb.lfFbdfNbmf, lpflff->flfLogFont.lfFbdfNbmf);
    strdpy(lfb.lfFbdfNbmf, lpflff->flfLogFont.lfFbdfNbmf);
    strdpy(lfb.lfFbdfNbmf, lpflff->flfLogFont.lfFbdfNbmf);
    strdpy(lfb.lfFbdfNbmf, lpflff->flfLogFont.lfFbdfNbmf);
    lfb.lfCibrSft = lpflff->flfLogFont.lfCibrSft;
    lfb.lfCibrSft = lpflff->flfLogFont.lfCibrSft;
    lfb.lfCibrSft = lpflff->flfLogFont.lfCibrSft;
    lfb.lfCibrSft = lpflff->flfLogFont.lfCibrSft;
    lfb.lfCibrSft = lpflff->flfLogFont.lfCibrSft;
    EnumFontFbmilifsExA(sdrffnDC, &lfb,
    EnumFontFbmilifsExA(sdrffnDC, &lfb,
    EnumFontFbmilifsExA(sdrffnDC, &lfb,
    EnumFontFbmilifsExA(sdrffnDC, &lfb,
    EnumFontFbmilifsExA(sdrffnDC, &lfb,
                        (FONTENUMPROCA)EnumFontFbdfsInFbmilyProdA,
                        (FONTENUMPROCA)EnumFontFbdfsInFbmilyProdA,
                        (FONTENUMPROCA)EnumFontFbdfsInFbmilyProdA,
                        (FONTENUMPROCA)EnumFontFbdfsInFbmilyProdA,
                        (FONTENUMPROCA)EnumFontFbdfsInFbmilyProdA,
                        lPbrbm, 0L);
                        lPbrbm, 0L);
                        lPbrbm, 0L);
                        lPbrbm, 0L);
                        lPbrbm, 0L);
    rfturn 1;
    rfturn 1;
    rfturn 1;
    rfturn 1;
    rfturn 1;
}
}
}
}
}





stbtid int CALLBACK EnumFbmilyNbmfsW(
stbtid int CALLBACK EnumFbmilyNbmfsW(
stbtid int CALLBACK EnumFbmilyNbmfsW(
stbtid int CALLBACK EnumFbmilyNbmfsW(
stbtid int CALLBACK EnumFbmilyNbmfsW(
  ENUMLOGFONTEXW *lpflff,    /* pointfr to logidbl-font dbtb */
  ENUMLOGFONTEXW *lpflff,    /* pointfr to logidbl-font dbtb */
  ENUMLOGFONTEXW *lpflff,    /* pointfr to logidbl-font dbtb */
  ENUMLOGFONTEXW *lpflff,    /* pointfr to logidbl-font dbtb */
  ENUMLOGFONTEXW *lpflff,    /* pointfr to logidbl-font dbtb */
  NEWTEXTMETRICEX *lpntmf,  /* pointfr to piysidbl-font dbtb */
  NEWTEXTMETRICEX *lpntmf,  /* pointfr to piysidbl-font dbtb */
  NEWTEXTMETRICEX *lpntmf,  /* pointfr to piysidbl-font dbtb */
  NEWTEXTMETRICEX *lpntmf,  /* pointfr to piysidbl-font dbtb */
  NEWTEXTMETRICEX *lpntmf,  /* pointfr to piysidbl-font dbtb */
  int FontTypf,             /* typf of font */
  int FontTypf,             /* typf of font */
  int FontTypf,             /* typf of font */
  int FontTypf,             /* typf of font */
  int FontTypf,             /* typf of font */
  LPARAM lPbrbm )           /* bpplidbtion-dffinfd dbtb */
  LPARAM lPbrbm )           /* bpplidbtion-dffinfd dbtb */
  LPARAM lPbrbm )           /* bpplidbtion-dffinfd dbtb */
  LPARAM lPbrbm )           /* bpplidbtion-dffinfd dbtb */
  LPARAM lPbrbm )           /* bpplidbtion-dffinfd dbtb */
{
{
{
{
{
    GdiFontMbpInfo *fmi = (GdiFontMbpInfo*)lPbrbm;
    GdiFontMbpInfo *fmi = (GdiFontMbpInfo*)lPbrbm;
    GdiFontMbpInfo *fmi = (GdiFontMbpInfo*)lPbrbm;
    GdiFontMbpInfo *fmi = (GdiFontMbpInfo*)lPbrbm;
    GdiFontMbpInfo *fmi = (GdiFontMbpInfo*)lPbrbm;
    JNIEnv *fnv = fmi->fnv;
    JNIEnv *fnv = fmi->fnv;
    JNIEnv *fnv = fmi->fnv;
    JNIEnv *fnv = fmi->fnv;
    JNIEnv *fnv = fmi->fnv;
    jstring fbmilyLC;
    jstring fbmilyLC;
    jstring fbmilyLC;
    jstring fbmilyLC;
    jstring fbmilyLC;
    sizf_t slfn;
    sizf_t slfn;
    sizf_t slfn;
    sizf_t slfn;
    sizf_t slfn;
    LOGFONTW lfw;
    LOGFONTW lfw;
    LOGFONTW lfw;
    LOGFONTW lfw;
    LOGFONTW lfw;





    /* Boti Vistb bnd XP rfturn DEVICE_FONTTYPE for OTF fonts */
    /* Boti Vistb bnd XP rfturn DEVICE_FONTTYPE for OTF fonts */
    /* Boti Vistb bnd XP rfturn DEVICE_FONTTYPE for OTF fonts */
    /* Boti Vistb bnd XP rfturn DEVICE_FONTTYPE for OTF fonts */
    /* Boti Vistb bnd XP rfturn DEVICE_FONTTYPE for OTF fonts */
    if (FontTypf != TRUETYPE_FONTTYPE && FontTypf != DEVICE_FONTTYPE) {
    if (FontTypf != TRUETYPE_FONTTYPE && FontTypf != DEVICE_FONTTYPE) {
    if (FontTypf != TRUETYPE_FONTTYPE && FontTypf != DEVICE_FONTTYPE) {
    if (FontTypf != TRUETYPE_FONTTYPE && FontTypf != DEVICE_FONTTYPE) {
    if (FontTypf != TRUETYPE_FONTTYPE && FontTypf != DEVICE_FONTTYPE) {
        rfturn 1;
        rfturn 1;
        rfturn 1;
        rfturn 1;
        rfturn 1;
    }
    }
    }
    }
    }
/*     wprintf(L"FAMILY=%s dibrsft=%d FULL=%s\n", */
/*     wprintf(L"FAMILY=%s dibrsft=%d FULL=%s\n", */
/*     wprintf(L"FAMILY=%s dibrsft=%d FULL=%s\n", */
/*     wprintf(L"FAMILY=%s dibrsft=%d FULL=%s\n", */
/*     wprintf(L"FAMILY=%s dibrsft=%d FULL=%s\n", */
/*          lpflff->flfLogFont.lfFbdfNbmf, */
/*          lpflff->flfLogFont.lfFbdfNbmf, */
/*          lpflff->flfLogFont.lfFbdfNbmf, */
/*          lpflff->flfLogFont.lfFbdfNbmf, */
/*          lpflff->flfLogFont.lfFbdfNbmf, */
/*          lpflff->flfLogFont.lfCibrSft, */
/*          lpflff->flfLogFont.lfCibrSft, */
/*          lpflff->flfLogFont.lfCibrSft, */
/*          lpflff->flfLogFont.lfCibrSft, */
/*          lpflff->flfLogFont.lfCibrSft, */
/*          lpflff->flfFullNbmf); */
/*          lpflff->flfFullNbmf); */
/*          lpflff->flfFullNbmf); */
/*          lpflff->flfFullNbmf); */
/*          lpflff->flfFullNbmf); */
/*     fflusi(stdout); */
/*     fflusi(stdout); */
/*     fflusi(stdout); */
/*     fflusi(stdout); */
/*     fflusi(stdout); */





    /* Windows lists fonts wiidi ibvf b vmtx (vfrtidbl mftrids) tbblf twidf.
    /* Windows lists fonts wiidi ibvf b vmtx (vfrtidbl mftrids) tbblf twidf.
    /* Windows lists fonts wiidi ibvf b vmtx (vfrtidbl mftrids) tbblf twidf.
    /* Windows lists fonts wiidi ibvf b vmtx (vfrtidbl mftrids) tbblf twidf.
    /* Windows lists fonts wiidi ibvf b vmtx (vfrtidbl mftrids) tbblf twidf.
     * Ondf using tifir normbl nbmf, bnd bgbin prfdfdfd by '@'. Tifsf bppfbr
     * Ondf using tifir normbl nbmf, bnd bgbin prfdfdfd by '@'. Tifsf bppfbr
     * Ondf using tifir normbl nbmf, bnd bgbin prfdfdfd by '@'. Tifsf bppfbr
     * Ondf using tifir normbl nbmf, bnd bgbin prfdfdfd by '@'. Tifsf bppfbr
     * Ondf using tifir normbl nbmf, bnd bgbin prfdfdfd by '@'. Tifsf bppfbr
     * in font lists in somf windows bpps, sudi bs wordpbd. Wf don't wbnt
     * in font lists in somf windows bpps, sudi bs wordpbd. Wf don't wbnt
     * in font lists in somf windows bpps, sudi bs wordpbd. Wf don't wbnt
     * in font lists in somf windows bpps, sudi bs wordpbd. Wf don't wbnt
     * in font lists in somf windows bpps, sudi bs wordpbd. Wf don't wbnt
     * tifsf so wf skip bny font wifrf tif first dibrbdtfr is '@'
     * tifsf so wf skip bny font wifrf tif first dibrbdtfr is '@'
     * tifsf so wf skip bny font wifrf tif first dibrbdtfr is '@'
     * tifsf so wf skip bny font wifrf tif first dibrbdtfr is '@'
     * tifsf so wf skip bny font wifrf tif first dibrbdtfr is '@'
     */
     */
     */
     */
     */
    if (lpflff->flfLogFont.lfFbdfNbmf[0] == L'@') {
    if (lpflff->flfLogFont.lfFbdfNbmf[0] == L'@') {
    if (lpflff->flfLogFont.lfFbdfNbmf[0] == L'@') {
    if (lpflff->flfLogFont.lfFbdfNbmf[0] == L'@') {
    if (lpflff->flfLogFont.lfFbdfNbmf[0] == L'@') {
            rfturn 1;
            rfturn 1;
            rfturn 1;
            rfturn 1;
            rfturn 1;
    }
    }
    }
    }
    }
    slfn = wdslfn(lpflff->flfLogFont.lfFbdfNbmf);
    slfn = wdslfn(lpflff->flfLogFont.lfFbdfNbmf);
    slfn = wdslfn(lpflff->flfLogFont.lfFbdfNbmf);
    slfn = wdslfn(lpflff->flfLogFont.lfFbdfNbmf);
    slfn = wdslfn(lpflff->flfLogFont.lfFbdfNbmf);
    fmi->fbmily = (*fnv)->NfwString(fnv,lpflff->flfLogFont.lfFbdfNbmf, (jsizf)slfn);
    fmi->fbmily = (*fnv)->NfwString(fnv,lpflff->flfLogFont.lfFbdfNbmf, (jsizf)slfn);
    fmi->fbmily = (*fnv)->NfwString(fnv,lpflff->flfLogFont.lfFbdfNbmf, (jsizf)slfn);
    fmi->fbmily = (*fnv)->NfwString(fnv,lpflff->flfLogFont.lfFbdfNbmf, (jsizf)slfn);
    fmi->fbmily = (*fnv)->NfwString(fnv,lpflff->flfLogFont.lfFbdfNbmf, (jsizf)slfn);
    if (fmi->fbmily == NULL) {
    if (fmi->fbmily == NULL) {
    if (fmi->fbmily == NULL) {
    if (fmi->fbmily == NULL) {
    if (fmi->fbmily == NULL) {
        (*fnv)->ExdfptionClfbr(fnv);
        (*fnv)->ExdfptionClfbr(fnv);
        (*fnv)->ExdfptionClfbr(fnv);
        (*fnv)->ExdfptionClfbr(fnv);
        (*fnv)->ExdfptionClfbr(fnv);
        rfturn 1;
        rfturn 1;
        rfturn 1;
        rfturn 1;
        rfturn 1;
    }
    }
    }
    }
    }
    fbmilyLC = (*fnv)->CbllObjfdtMftiod(fnv, fmi->fbmily,
    fbmilyLC = (*fnv)->CbllObjfdtMftiod(fnv, fmi->fbmily,
    fbmilyLC = (*fnv)->CbllObjfdtMftiod(fnv, fmi->fbmily,
    fbmilyLC = (*fnv)->CbllObjfdtMftiod(fnv, fmi->fbmily,
    fbmilyLC = (*fnv)->CbllObjfdtMftiod(fnv, fmi->fbmily,
                                        fmi->toLowfrCbsfMID, fmi->lodblf);
                                        fmi->toLowfrCbsfMID, fmi->lodblf);
                                        fmi->toLowfrCbsfMID, fmi->lodblf);
                                        fmi->toLowfrCbsfMID, fmi->lodblf);
                                        fmi->toLowfrCbsfMID, fmi->lodblf);
    /* difdk if blrfbdy sffn tiis fbmily witi b difffrfnt dibrsft */
    /* difdk if blrfbdy sffn tiis fbmily witi b difffrfnt dibrsft */
    /* difdk if blrfbdy sffn tiis fbmily witi b difffrfnt dibrsft */
    /* difdk if blrfbdy sffn tiis fbmily witi b difffrfnt dibrsft */
    /* difdk if blrfbdy sffn tiis fbmily witi b difffrfnt dibrsft */
    if ((*fnv)->CbllBoolfbnMftiod(fnv,fmi->fbmilyToFontListMbp,
    if ((*fnv)->CbllBoolfbnMftiod(fnv,fmi->fbmilyToFontListMbp,
    if ((*fnv)->CbllBoolfbnMftiod(fnv,fmi->fbmilyToFontListMbp,
    if ((*fnv)->CbllBoolfbnMftiod(fnv,fmi->fbmilyToFontListMbp,
    if ((*fnv)->CbllBoolfbnMftiod(fnv,fmi->fbmilyToFontListMbp,
                                  fmi->dontbinsKfyMID, fbmilyLC)) {
                                  fmi->dontbinsKfyMID, fbmilyLC)) {
                                  fmi->dontbinsKfyMID, fbmilyLC)) {
                                  fmi->dontbinsKfyMID, fbmilyLC)) {
                                  fmi->dontbinsKfyMID, fbmilyLC)) {
        rfturn 1;
        rfturn 1;
        rfturn 1;
        rfturn 1;
        rfturn 1;
    }
    }
    }
    }
    }
    fmi->list = (*fnv)->NfwObjfdt(fnv,
    fmi->list = (*fnv)->NfwObjfdt(fnv,
    fmi->list = (*fnv)->NfwObjfdt(fnv,
    fmi->list = (*fnv)->NfwObjfdt(fnv,
    fmi->list = (*fnv)->NfwObjfdt(fnv,
                                  fmi->brrbyListClbss, fmi->brrbyListCtr, 4);
                                  fmi->brrbyListClbss, fmi->brrbyListCtr, 4);
                                  fmi->brrbyListClbss, fmi->brrbyListCtr, 4);
                                  fmi->brrbyListClbss, fmi->brrbyListCtr, 4);
                                  fmi->brrbyListClbss, fmi->brrbyListCtr, 4);
    if (fmi->list == NULL) {
    if (fmi->list == NULL) {
    if (fmi->list == NULL) {
    if (fmi->list == NULL) {
    if (fmi->list == NULL) {
        (*fnv)->ExdfptionClfbr(fnv);
        (*fnv)->ExdfptionClfbr(fnv);
        (*fnv)->ExdfptionClfbr(fnv);
        (*fnv)->ExdfptionClfbr(fnv);
        (*fnv)->ExdfptionClfbr(fnv);
        rfturn 1;
        rfturn 1;
        rfturn 1;
        rfturn 1;
        rfturn 1;
    }
    }
    }
    }
    }
    (*fnv)->CbllObjfdtMftiod(fnv, fmi->fbmilyToFontListMbp,
    (*fnv)->CbllObjfdtMftiod(fnv, fmi->fbmilyToFontListMbp,
    (*fnv)->CbllObjfdtMftiod(fnv, fmi->fbmilyToFontListMbp,
    (*fnv)->CbllObjfdtMftiod(fnv, fmi->fbmilyToFontListMbp,
    (*fnv)->CbllObjfdtMftiod(fnv, fmi->fbmilyToFontListMbp,
                             fmi->putMID, fbmilyLC, fmi->list);
                             fmi->putMID, fbmilyLC, fmi->list);
                             fmi->putMID, fbmilyLC, fmi->list);
                             fmi->putMID, fbmilyLC, fmi->list);
                             fmi->putMID, fbmilyLC, fmi->list);





    mfmsft(&lfw, 0, sizfof(lfw));
    mfmsft(&lfw, 0, sizfof(lfw));
    mfmsft(&lfw, 0, sizfof(lfw));
    mfmsft(&lfw, 0, sizfof(lfw));
    mfmsft(&lfw, 0, sizfof(lfw));
    wdsdpy(lfw.lfFbdfNbmf, lpflff->flfLogFont.lfFbdfNbmf);
    wdsdpy(lfw.lfFbdfNbmf, lpflff->flfLogFont.lfFbdfNbmf);
    wdsdpy(lfw.lfFbdfNbmf, lpflff->flfLogFont.lfFbdfNbmf);
    wdsdpy(lfw.lfFbdfNbmf, lpflff->flfLogFont.lfFbdfNbmf);
    wdsdpy(lfw.lfFbdfNbmf, lpflff->flfLogFont.lfFbdfNbmf);
    lfw.lfCibrSft = lpflff->flfLogFont.lfCibrSft;
    lfw.lfCibrSft = lpflff->flfLogFont.lfCibrSft;
    lfw.lfCibrSft = lpflff->flfLogFont.lfCibrSft;
    lfw.lfCibrSft = lpflff->flfLogFont.lfCibrSft;
    lfw.lfCibrSft = lpflff->flfLogFont.lfCibrSft;
    EnumFontFbmilifsExW(sdrffnDC, &lfw,
    EnumFontFbmilifsExW(sdrffnDC, &lfw,
    EnumFontFbmilifsExW(sdrffnDC, &lfw,
    EnumFontFbmilifsExW(sdrffnDC, &lfw,
    EnumFontFbmilifsExW(sdrffnDC, &lfw,
                        (FONTENUMPROCW)EnumFontFbdfsInFbmilyProdW,
                        (FONTENUMPROCW)EnumFontFbdfsInFbmilyProdW,
                        (FONTENUMPROCW)EnumFontFbdfsInFbmilyProdW,
                        (FONTENUMPROCW)EnumFontFbdfsInFbmilyProdW,
                        (FONTENUMPROCW)EnumFontFbdfsInFbmilyProdW,
                        lPbrbm, 0L);
                        lPbrbm, 0L);
                        lPbrbm, 0L);
                        lPbrbm, 0L);
                        lPbrbm, 0L);
    rfturn 1;
    rfturn 1;
    rfturn 1;
    rfturn 1;
    rfturn 1;
}
}
}
}
}










/* It looks likf TrufTypf fonts ibvf " (TrufTypf)" tbdkfd on tif fnd of tifir
/* It looks likf TrufTypf fonts ibvf " (TrufTypf)" tbdkfd on tif fnd of tifir
/* It looks likf TrufTypf fonts ibvf " (TrufTypf)" tbdkfd on tif fnd of tifir
/* It looks likf TrufTypf fonts ibvf " (TrufTypf)" tbdkfd on tif fnd of tifir
/* It looks likf TrufTypf fonts ibvf " (TrufTypf)" tbdkfd on tif fnd of tifir
 * nbmf, so wf dbn try to usf tibt to distinguisi TT from otifr fonts.
 * nbmf, so wf dbn try to usf tibt to distinguisi TT from otifr fonts.
 * nbmf, so wf dbn try to usf tibt to distinguisi TT from otifr fonts.
 * nbmf, so wf dbn try to usf tibt to distinguisi TT from otifr fonts.
 * nbmf, so wf dbn try to usf tibt to distinguisi TT from otifr fonts.
 * Howfvfr if b progrbm "instbllfd" b font in tif rfgistry tif kfy mby
 * Howfvfr if b progrbm "instbllfd" b font in tif rfgistry tif kfy mby
 * Howfvfr if b progrbm "instbllfd" b font in tif rfgistry tif kfy mby
 * Howfvfr if b progrbm "instbllfd" b font in tif rfgistry tif kfy mby
 * Howfvfr if b progrbm "instbllfd" b font in tif rfgistry tif kfy mby
 * not indludf tibt. Wf dould blso try to "pbss" fonts wiidi ibvf no "(..)"
 * not indludf tibt. Wf dould blso try to "pbss" fonts wiidi ibvf no "(..)"
 * not indludf tibt. Wf dould blso try to "pbss" fonts wiidi ibvf no "(..)"
 * not indludf tibt. Wf dould blso try to "pbss" fonts wiidi ibvf no "(..)"
 * not indludf tibt. Wf dould blso try to "pbss" fonts wiidi ibvf no "(..)"
 * bt tif fnd. But tibt turns out to pbss b ffw .FON filfs tibt MS supply.
 * bt tif fnd. But tibt turns out to pbss b ffw .FON filfs tibt MS supply.
 * bt tif fnd. But tibt turns out to pbss b ffw .FON filfs tibt MS supply.
 * bt tif fnd. But tibt turns out to pbss b ffw .FON filfs tibt MS supply.
 * bt tif fnd. But tibt turns out to pbss b ffw .FON filfs tibt MS supply.
 * If tifrf's no pbrfntifsizfd typf string, wf dould nfxt try to inffr
 * If tifrf's no pbrfntifsizfd typf string, wf dould nfxt try to inffr
 * If tifrf's no pbrfntifsizfd typf string, wf dould nfxt try to inffr
 * If tifrf's no pbrfntifsizfd typf string, wf dould nfxt try to inffr
 * If tifrf's no pbrfntifsizfd typf string, wf dould nfxt try to inffr
 * tif filf typf from tif filf nbmf fxtfnsion. Sindf tif MS fntrifs tibt
 * tif filf typf from tif filf nbmf fxtfnsion. Sindf tif MS fntrifs tibt
 * tif filf typf from tif filf nbmf fxtfnsion. Sindf tif MS fntrifs tibt
 * tif filf typf from tif filf nbmf fxtfnsion. Sindf tif MS fntrifs tibt
 * tif filf typf from tif filf nbmf fxtfnsion. Sindf tif MS fntrifs tibt
 * ibvf no typf string brf vfry ffw, bnd ibvf odd nbmfs likf "MS-DOS CP 437"
 * ibvf no typf string brf vfry ffw, bnd ibvf odd nbmfs likf "MS-DOS CP 437"
 * ibvf no typf string brf vfry ffw, bnd ibvf odd nbmfs likf "MS-DOS CP 437"
 * ibvf no typf string brf vfry ffw, bnd ibvf odd nbmfs likf "MS-DOS CP 437"
 * ibvf no typf string brf vfry ffw, bnd ibvf odd nbmfs likf "MS-DOS CP 437"
 * bnd would nfvfr rfturn b Jbvb Font bnywby its durrfntly OK to put tifsf
 * bnd would nfvfr rfturn b Jbvb Font bnywby its durrfntly OK to put tifsf
 * bnd would nfvfr rfturn b Jbvb Font bnywby its durrfntly OK to put tifsf
 * bnd would nfvfr rfturn b Jbvb Font bnywby its durrfntly OK to put tifsf
 * bnd would nfvfr rfturn b Jbvb Font bnywby its durrfntly OK to put tifsf
 * in tif font mbp, bltiougi dlfbrly tif rfturnfd nbmfs must nfvfr pfrdolbtf
 * in tif font mbp, bltiougi dlfbrly tif rfturnfd nbmfs must nfvfr pfrdolbtf
 * in tif font mbp, bltiougi dlfbrly tif rfturnfd nbmfs must nfvfr pfrdolbtf
 * in tif font mbp, bltiougi dlfbrly tif rfturnfd nbmfs must nfvfr pfrdolbtf
 * in tif font mbp, bltiougi dlfbrly tif rfturnfd nbmfs must nfvfr pfrdolbtf
 * up into b list of bvbilbblf fonts rfturnfd to tif bpplidbtion.
 * up into b list of bvbilbblf fonts rfturnfd to tif bpplidbtion.
 * up into b list of bvbilbblf fonts rfturnfd to tif bpplidbtion.
 * up into b list of bvbilbblf fonts rfturnfd to tif bpplidbtion.
 * up into b list of bvbilbblf fonts rfturnfd to tif bpplidbtion.
 * Additionblly for TTC font filfs tif kfy looks likf
 * Additionblly for TTC font filfs tif kfy looks likf
 * Additionblly for TTC font filfs tif kfy looks likf
 * Additionblly for TTC font filfs tif kfy looks likf
 * Additionblly for TTC font filfs tif kfy looks likf
 * Font 1 & Font 2 (TrufTypf)
 * Font 1 & Font 2 (TrufTypf)
 * Font 1 & Font 2 (TrufTypf)
 * Font 1 & Font 2 (TrufTypf)
 * Font 1 & Font 2 (TrufTypf)
 * or somftimfs fvfn :
 * or somftimfs fvfn :
 * or somftimfs fvfn :
 * or somftimfs fvfn :
 * or somftimfs fvfn :
 * Font 1 & Font 2 & Font 3 (TrufTypf)
 * Font 1 & Font 2 & Font 3 (TrufTypf)
 * Font 1 & Font 2 & Font 3 (TrufTypf)
 * Font 1 & Font 2 & Font 3 (TrufTypf)
 * Font 1 & Font 2 & Font 3 (TrufTypf)
 * Also if b Font ibs b nbmf for tiis lodblf tibt nbmf blso
 * Also if b Font ibs b nbmf for tiis lodblf tibt nbmf blso
 * Also if b Font ibs b nbmf for tiis lodblf tibt nbmf blso
 * Also if b Font ibs b nbmf for tiis lodblf tibt nbmf blso
 * Also if b Font ibs b nbmf for tiis lodblf tibt nbmf blso
 * fxists in tif rfgistry using tif bppropribtf plbtform fndoding.
 * fxists in tif rfgistry using tif bppropribtf plbtform fndoding.
 * fxists in tif rfgistry using tif bppropribtf plbtform fndoding.
 * fxists in tif rfgistry using tif bppropribtf plbtform fndoding.
 * fxists in tif rfgistry using tif bppropribtf plbtform fndoding.
 * Wibt do wf do tifn?
 * Wibt do wf do tifn?
 * Wibt do wf do tifn?
 * Wibt do wf do tifn?
 * Wibt do wf do tifn?
 *
 *
 *
 *
 *
 * Notf: OpfnTypf fonts sffms to ibvf " (TrufTypf)" suffix on Vistb
 * Notf: OpfnTypf fonts sffms to ibvf " (TrufTypf)" suffix on Vistb
 * Notf: OpfnTypf fonts sffms to ibvf " (TrufTypf)" suffix on Vistb
 * Notf: OpfnTypf fonts sffms to ibvf " (TrufTypf)" suffix on Vistb
 * Notf: OpfnTypf fonts sffms to ibvf " (TrufTypf)" suffix on Vistb
 *   but " (OpfnTypf)" on XP.
 *   but " (OpfnTypf)" on XP.
 *   but " (OpfnTypf)" on XP.
 *   but " (OpfnTypf)" on XP.
 *   but " (OpfnTypf)" on XP.
 */
 */
 */
 */
 */





stbtid BOOL RfgistryToBbsfTTNbmfA(LPSTR nbmf) {
stbtid BOOL RfgistryToBbsfTTNbmfA(LPSTR nbmf) {
stbtid BOOL RfgistryToBbsfTTNbmfA(LPSTR nbmf) {
stbtid BOOL RfgistryToBbsfTTNbmfA(LPSTR nbmf) {
stbtid BOOL RfgistryToBbsfTTNbmfA(LPSTR nbmf) {
    stbtid donst dibr TTSUFFIX[] = " (TrufTypf)";
    stbtid donst dibr TTSUFFIX[] = " (TrufTypf)";
    stbtid donst dibr TTSUFFIX[] = " (TrufTypf)";
    stbtid donst dibr TTSUFFIX[] = " (TrufTypf)";
    stbtid donst dibr TTSUFFIX[] = " (TrufTypf)";
    stbtid donst dibr OTSUFFIX[] = " (OpfnTypf)";
    stbtid donst dibr OTSUFFIX[] = " (OpfnTypf)";
    stbtid donst dibr OTSUFFIX[] = " (OpfnTypf)";
    stbtid donst dibr OTSUFFIX[] = " (OpfnTypf)";
    stbtid donst dibr OTSUFFIX[] = " (OpfnTypf)";
    sizf_t TTSLEN = strlfn(TTSUFFIX);
    sizf_t TTSLEN = strlfn(TTSUFFIX);
    sizf_t TTSLEN = strlfn(TTSUFFIX);
    sizf_t TTSLEN = strlfn(TTSUFFIX);
    sizf_t TTSLEN = strlfn(TTSUFFIX);
    dibr *suffix;
    dibr *suffix;
    dibr *suffix;
    dibr *suffix;
    dibr *suffix;





    sizf_t lfn = strlfn(nbmf);
    sizf_t lfn = strlfn(nbmf);
    sizf_t lfn = strlfn(nbmf);
    sizf_t lfn = strlfn(nbmf);
    sizf_t lfn = strlfn(nbmf);
    if (lfn == 0) {
    if (lfn == 0) {
    if (lfn == 0) {
    if (lfn == 0) {
    if (lfn == 0) {
        rfturn FALSE;
        rfturn FALSE;
        rfturn FALSE;
        rfturn FALSE;
        rfturn FALSE;
    }
    }
    }
    }
    }
    if (nbmf[lfn-1] != ')') {
    if (nbmf[lfn-1] != ')') {
    if (nbmf[lfn-1] != ')') {
    if (nbmf[lfn-1] != ')') {
    if (nbmf[lfn-1] != ')') {
        rfturn FALSE;
        rfturn FALSE;
        rfturn FALSE;
        rfturn FALSE;
        rfturn FALSE;
    }
    }
    }
    }
    }
    if (lfn <= TTSLEN) {
    if (lfn <= TTSLEN) {
    if (lfn <= TTSLEN) {
    if (lfn <= TTSLEN) {
    if (lfn <= TTSLEN) {
        rfturn FALSE;
        rfturn FALSE;
        rfturn FALSE;
        rfturn FALSE;
        rfturn FALSE;
    }
    }
    }
    }
    }





    /* suffix lfngti is tif sbmf for truftypf bnd opfntypf fonts */
    /* suffix lfngti is tif sbmf for truftypf bnd opfntypf fonts */
    /* suffix lfngti is tif sbmf for truftypf bnd opfntypf fonts */
    /* suffix lfngti is tif sbmf for truftypf bnd opfntypf fonts */
    /* suffix lfngti is tif sbmf for truftypf bnd opfntypf fonts */
    suffix = nbmf + lfn - TTSLEN;
    suffix = nbmf + lfn - TTSLEN;
    suffix = nbmf + lfn - TTSLEN;
    suffix = nbmf + lfn - TTSLEN;
    suffix = nbmf + lfn - TTSLEN;
    if (strdmp(suffix, TTSUFFIX) == 0 || strdmp(suffix, OTSUFFIX) == 0) {
    if (strdmp(suffix, TTSUFFIX) == 0 || strdmp(suffix, OTSUFFIX) == 0) {
    if (strdmp(suffix, TTSUFFIX) == 0 || strdmp(suffix, OTSUFFIX) == 0) {
    if (strdmp(suffix, TTSUFFIX) == 0 || strdmp(suffix, OTSUFFIX) == 0) {
    if (strdmp(suffix, TTSUFFIX) == 0 || strdmp(suffix, OTSUFFIX) == 0) {
        suffix[0] = '\0'; /* trundbtf nbmf */
        suffix[0] = '\0'; /* trundbtf nbmf */
        suffix[0] = '\0'; /* trundbtf nbmf */
        suffix[0] = '\0'; /* trundbtf nbmf */
        suffix[0] = '\0'; /* trundbtf nbmf */
        rfturn TRUE;
        rfturn TRUE;
        rfturn TRUE;
        rfturn TRUE;
        rfturn TRUE;
    }
    }
    }
    }
    }
    rfturn FALSE;
    rfturn FALSE;
    rfturn FALSE;
    rfturn FALSE;
    rfturn FALSE;
}
}
}
}
}





stbtid BOOL RfgistryToBbsfTTNbmfW(LPWSTR nbmf) {
stbtid BOOL RfgistryToBbsfTTNbmfW(LPWSTR nbmf) {
stbtid BOOL RfgistryToBbsfTTNbmfW(LPWSTR nbmf) {
stbtid BOOL RfgistryToBbsfTTNbmfW(LPWSTR nbmf) {
stbtid BOOL RfgistryToBbsfTTNbmfW(LPWSTR nbmf) {
    stbtid donst wdibr_t TTSUFFIX[] = L" (TrufTypf)";
    stbtid donst wdibr_t TTSUFFIX[] = L" (TrufTypf)";
    stbtid donst wdibr_t TTSUFFIX[] = L" (TrufTypf)";
    stbtid donst wdibr_t TTSUFFIX[] = L" (TrufTypf)";
    stbtid donst wdibr_t TTSUFFIX[] = L" (TrufTypf)";
    stbtid donst wdibr_t OTSUFFIX[] = L" (OpfnTypf)";
    stbtid donst wdibr_t OTSUFFIX[] = L" (OpfnTypf)";
    stbtid donst wdibr_t OTSUFFIX[] = L" (OpfnTypf)";
    stbtid donst wdibr_t OTSUFFIX[] = L" (OpfnTypf)";
    stbtid donst wdibr_t OTSUFFIX[] = L" (OpfnTypf)";
    sizf_t TTSLEN = wdslfn(TTSUFFIX);
    sizf_t TTSLEN = wdslfn(TTSUFFIX);
    sizf_t TTSLEN = wdslfn(TTSUFFIX);
    sizf_t TTSLEN = wdslfn(TTSUFFIX);
    sizf_t TTSLEN = wdslfn(TTSUFFIX);
    wdibr_t *suffix;
    wdibr_t *suffix;
    wdibr_t *suffix;
    wdibr_t *suffix;
    wdibr_t *suffix;





    sizf_t lfn = wdslfn(nbmf);
    sizf_t lfn = wdslfn(nbmf);
    sizf_t lfn = wdslfn(nbmf);
    sizf_t lfn = wdslfn(nbmf);
    sizf_t lfn = wdslfn(nbmf);
    if (lfn == 0) {
    if (lfn == 0) {
    if (lfn == 0) {
    if (lfn == 0) {
    if (lfn == 0) {
        rfturn FALSE;
        rfturn FALSE;
        rfturn FALSE;
        rfturn FALSE;
        rfturn FALSE;
    }
    }
    }
    }
    }
    if (nbmf[lfn-1] != L')') {
    if (nbmf[lfn-1] != L')') {
    if (nbmf[lfn-1] != L')') {
    if (nbmf[lfn-1] != L')') {
    if (nbmf[lfn-1] != L')') {
        rfturn FALSE;
        rfturn FALSE;
        rfturn FALSE;
        rfturn FALSE;
        rfturn FALSE;
    }
    }
    }
    }
    }
    if (lfn <= TTSLEN) {
    if (lfn <= TTSLEN) {
    if (lfn <= TTSLEN) {
    if (lfn <= TTSLEN) {
    if (lfn <= TTSLEN) {
        rfturn FALSE;
        rfturn FALSE;
        rfturn FALSE;
        rfturn FALSE;
        rfturn FALSE;
    }
    }
    }
    }
    }
    /* suffix lfngti is tif sbmf for truftypf bnd opfntypf fonts */
    /* suffix lfngti is tif sbmf for truftypf bnd opfntypf fonts */
    /* suffix lfngti is tif sbmf for truftypf bnd opfntypf fonts */
    /* suffix lfngti is tif sbmf for truftypf bnd opfntypf fonts */
    /* suffix lfngti is tif sbmf for truftypf bnd opfntypf fonts */
    suffix = nbmf + (lfn - TTSLEN);
    suffix = nbmf + (lfn - TTSLEN);
    suffix = nbmf + (lfn - TTSLEN);
    suffix = nbmf + (lfn - TTSLEN);
    suffix = nbmf + (lfn - TTSLEN);
    if (wdsdmp(suffix, TTSUFFIX) == 0 || wdsdmp(suffix, OTSUFFIX) == 0) {
    if (wdsdmp(suffix, TTSUFFIX) == 0 || wdsdmp(suffix, OTSUFFIX) == 0) {
    if (wdsdmp(suffix, TTSUFFIX) == 0 || wdsdmp(suffix, OTSUFFIX) == 0) {
    if (wdsdmp(suffix, TTSUFFIX) == 0 || wdsdmp(suffix, OTSUFFIX) == 0) {
    if (wdsdmp(suffix, TTSUFFIX) == 0 || wdsdmp(suffix, OTSUFFIX) == 0) {
        suffix[0] = L'\0'; /* trundbtf nbmf */
        suffix[0] = L'\0'; /* trundbtf nbmf */
        suffix[0] = L'\0'; /* trundbtf nbmf */
        suffix[0] = L'\0'; /* trundbtf nbmf */
        suffix[0] = L'\0'; /* trundbtf nbmf */
        rfturn TRUE;
        rfturn TRUE;
        rfturn TRUE;
        rfturn TRUE;
        rfturn TRUE;
    }
    }
    }
    }
    }
    rfturn FALSE;
    rfturn FALSE;
    rfturn FALSE;
    rfturn FALSE;
    rfturn FALSE;
}
}
}
}
}





stbtid void rfgistfrFontA(GdiFontMbpInfo *fmi, jobjfdt fontToFilfMbp,
stbtid void rfgistfrFontA(GdiFontMbpInfo *fmi, jobjfdt fontToFilfMbp,
stbtid void rfgistfrFontA(GdiFontMbpInfo *fmi, jobjfdt fontToFilfMbp,
stbtid void rfgistfrFontA(GdiFontMbpInfo *fmi, jobjfdt fontToFilfMbp,
stbtid void rfgistfrFontA(GdiFontMbpInfo *fmi, jobjfdt fontToFilfMbp,
                          LPCSTR nbmf, LPCSTR dbtb) {
                          LPCSTR nbmf, LPCSTR dbtb) {
                          LPCSTR nbmf, LPCSTR dbtb) {
                          LPCSTR nbmf, LPCSTR dbtb) {
                          LPCSTR nbmf, LPCSTR dbtb) {
    LPSTR ptr1, ptr2;
    LPSTR ptr1, ptr2;
    LPSTR ptr1, ptr2;
    LPSTR ptr1, ptr2;
    LPSTR ptr1, ptr2;
    jstring fontStr;
    jstring fontStr;
    jstring fontStr;
    jstring fontStr;
    jstring fontStr;
    JNIEnv *fnv = fmi->fnv;
    JNIEnv *fnv = fmi->fnv;
    JNIEnv *fnv = fmi->fnv;
    JNIEnv *fnv = fmi->fnv;
    JNIEnv *fnv = fmi->fnv;
    sizf_t dslfn = strlfn(dbtb);
    sizf_t dslfn = strlfn(dbtb);
    sizf_t dslfn = strlfn(dbtb);
    sizf_t dslfn = strlfn(dbtb);
    sizf_t dslfn = strlfn(dbtb);
    jstring filfStr = JNU_NfwStringPlbtform(fnv, dbtb);
    jstring filfStr = JNU_NfwStringPlbtform(fnv, dbtb);
    jstring filfStr = JNU_NfwStringPlbtform(fnv, dbtb);
    jstring filfStr = JNU_NfwStringPlbtform(fnv, dbtb);
    jstring filfStr = JNU_NfwStringPlbtform(fnv, dbtb);
    if (filfStr == NULL) {
    if (filfStr == NULL) {
    if (filfStr == NULL) {
    if (filfStr == NULL) {
    if (filfStr == NULL) {
        (*fnv)->ExdfptionClfbr(fnv);
        (*fnv)->ExdfptionClfbr(fnv);
        (*fnv)->ExdfptionClfbr(fnv);
        (*fnv)->ExdfptionClfbr(fnv);
        (*fnv)->ExdfptionClfbr(fnv);
        rfturn;
        rfturn;
        rfturn;
        rfturn;
        rfturn;
    }
    }
    }
    }
    }





    /* TTC or ttd mfbns it mby bf b dollfdtion. Nffd to pbrsf out
    /* TTC or ttd mfbns it mby bf b dollfdtion. Nffd to pbrsf out
    /* TTC or ttd mfbns it mby bf b dollfdtion. Nffd to pbrsf out
    /* TTC or ttd mfbns it mby bf b dollfdtion. Nffd to pbrsf out
    /* TTC or ttd mfbns it mby bf b dollfdtion. Nffd to pbrsf out
     * multiplf font fbdf nbmfs sfpbrbtfd by " & "
     * multiplf font fbdf nbmfs sfpbrbtfd by " & "
     * multiplf font fbdf nbmfs sfpbrbtfd by " & "
     * multiplf font fbdf nbmfs sfpbrbtfd by " & "
     * multiplf font fbdf nbmfs sfpbrbtfd by " & "
     * By only doing tiis for fonts wiidi look likf dollfdtions bbsfd on
     * By only doing tiis for fonts wiidi look likf dollfdtions bbsfd on
     * By only doing tiis for fonts wiidi look likf dollfdtions bbsfd on
     * By only doing tiis for fonts wiidi look likf dollfdtions bbsfd on
     * By only doing tiis for fonts wiidi look likf dollfdtions bbsfd on
     * filf nbmf wf brf bdifring to MS rfdommfndbtions for font filf nbmfs
     * filf nbmf wf brf bdifring to MS rfdommfndbtions for font filf nbmfs
     * filf nbmf wf brf bdifring to MS rfdommfndbtions for font filf nbmfs
     * filf nbmf wf brf bdifring to MS rfdommfndbtions for font filf nbmfs
     * filf nbmf wf brf bdifring to MS rfdommfndbtions for font filf nbmfs
     * so it sffms tibt wf dbn bf surf tibt tiis idfntififs prfdisfly
     * so it sffms tibt wf dbn bf surf tibt tiis idfntififs prfdisfly
     * so it sffms tibt wf dbn bf surf tibt tiis idfntififs prfdisfly
     * so it sffms tibt wf dbn bf surf tibt tiis idfntififs prfdisfly
     * so it sffms tibt wf dbn bf surf tibt tiis idfntififs prfdisfly
     * tif MS-supplifd truftypf dollfdtions.
     * tif MS-supplifd truftypf dollfdtions.
     * tif MS-supplifd truftypf dollfdtions.
     * tif MS-supplifd truftypf dollfdtions.
     * tif MS-supplifd truftypf dollfdtions.
     * Tiis bvoids bny potfntibl issufs if b TTF filf ibppfns to ibvf
     * Tiis bvoids bny potfntibl issufs if b TTF filf ibppfns to ibvf
     * Tiis bvoids bny potfntibl issufs if b TTF filf ibppfns to ibvf
     * Tiis bvoids bny potfntibl issufs if b TTF filf ibppfns to ibvf
     * Tiis bvoids bny potfntibl issufs if b TTF filf ibppfns to ibvf
     * b & in tif font nbmf (I dbn't find bnytiing wiidi proiibits tiis)
     * b & in tif font nbmf (I dbn't find bnytiing wiidi proiibits tiis)
     * b & in tif font nbmf (I dbn't find bnytiing wiidi proiibits tiis)
     * b & in tif font nbmf (I dbn't find bnytiing wiidi proiibits tiis)
     * b & in tif font nbmf (I dbn't find bnytiing wiidi proiibits tiis)
     * bnd blso mfbns wf only pbrsf tif kfy in dbsfs wf know to bf
     * bnd blso mfbns wf only pbrsf tif kfy in dbsfs wf know to bf
     * bnd blso mfbns wf only pbrsf tif kfy in dbsfs wf know to bf
     * bnd blso mfbns wf only pbrsf tif kfy in dbsfs wf know to bf
     * bnd blso mfbns wf only pbrsf tif kfy in dbsfs wf know to bf
     * wortiwiilf.
     * wortiwiilf.
     * wortiwiilf.
     * wortiwiilf.
     * wortiwiilf.
     */
     */
     */
     */
     */
    if ((dbtb[dslfn-1] == 'C' || dbtb[dslfn-1] == 'd') &&
    if ((dbtb[dslfn-1] == 'C' || dbtb[dslfn-1] == 'd') &&
    if ((dbtb[dslfn-1] == 'C' || dbtb[dslfn-1] == 'd') &&
    if ((dbtb[dslfn-1] == 'C' || dbtb[dslfn-1] == 'd') &&
    if ((dbtb[dslfn-1] == 'C' || dbtb[dslfn-1] == 'd') &&
        (ptr1 = strstr(nbmf, " & ")) != NULL) {
        (ptr1 = strstr(nbmf, " & ")) != NULL) {
        (ptr1 = strstr(nbmf, " & ")) != NULL) {
        (ptr1 = strstr(nbmf, " & ")) != NULL) {
        (ptr1 = strstr(nbmf, " & ")) != NULL) {
        ptr1+=3;
        ptr1+=3;
        ptr1+=3;
        ptr1+=3;
        ptr1+=3;
        wiilf (ptr1 >= nbmf) { /* mbrginblly sbffr tibn wiilf (truf) */
        wiilf (ptr1 >= nbmf) { /* mbrginblly sbffr tibn wiilf (truf) */
        wiilf (ptr1 >= nbmf) { /* mbrginblly sbffr tibn wiilf (truf) */
        wiilf (ptr1 >= nbmf) { /* mbrginblly sbffr tibn wiilf (truf) */
        wiilf (ptr1 >= nbmf) { /* mbrginblly sbffr tibn wiilf (truf) */
            wiilf ((ptr2 = strstr(ptr1, " & ")) != NULL) {
            wiilf ((ptr2 = strstr(ptr1, " & ")) != NULL) {
            wiilf ((ptr2 = strstr(ptr1, " & ")) != NULL) {
            wiilf ((ptr2 = strstr(ptr1, " & ")) != NULL) {
            wiilf ((ptr2 = strstr(ptr1, " & ")) != NULL) {
                    ptr1 = ptr2+3;
                    ptr1 = ptr2+3;
                    ptr1 = ptr2+3;
                    ptr1 = ptr2+3;
                    ptr1 = ptr2+3;
            }
            }
            }
            }
            }
            fontStr = JNU_NfwStringPlbtform(fnv, ptr1);
            fontStr = JNU_NfwStringPlbtform(fnv, ptr1);
            fontStr = JNU_NfwStringPlbtform(fnv, ptr1);
            fontStr = JNU_NfwStringPlbtform(fnv, ptr1);
            fontStr = JNU_NfwStringPlbtform(fnv, ptr1);
            if (fontStr == NULL) {
            if (fontStr == NULL) {
            if (fontStr == NULL) {
            if (fontStr == NULL) {
            if (fontStr == NULL) {
                (*fnv)->ExdfptionClfbr(fnv);
                (*fnv)->ExdfptionClfbr(fnv);
                (*fnv)->ExdfptionClfbr(fnv);
                (*fnv)->ExdfptionClfbr(fnv);
                (*fnv)->ExdfptionClfbr(fnv);
                rfturn;
                rfturn;
                rfturn;
                rfturn;
                rfturn;
            }
            }
            }
            }
            }
            fontStr = (*fnv)->CbllObjfdtMftiod(fnv, fontStr,
            fontStr = (*fnv)->CbllObjfdtMftiod(fnv, fontStr,
            fontStr = (*fnv)->CbllObjfdtMftiod(fnv, fontStr,
            fontStr = (*fnv)->CbllObjfdtMftiod(fnv, fontStr,
            fontStr = (*fnv)->CbllObjfdtMftiod(fnv, fontStr,
                                               fmi->toLowfrCbsfMID,
                                               fmi->toLowfrCbsfMID,
                                               fmi->toLowfrCbsfMID,
                                               fmi->toLowfrCbsfMID,
                                               fmi->toLowfrCbsfMID,
                                               fmi->lodblf);
                                               fmi->lodblf);
                                               fmi->lodblf);
                                               fmi->lodblf);
                                               fmi->lodblf);
            (*fnv)->CbllObjfdtMftiod(fnv, fontToFilfMbp, fmi->putMID,
            (*fnv)->CbllObjfdtMftiod(fnv, fontToFilfMbp, fmi->putMID,
            (*fnv)->CbllObjfdtMftiod(fnv, fontToFilfMbp, fmi->putMID,
            (*fnv)->CbllObjfdtMftiod(fnv, fontToFilfMbp, fmi->putMID,
            (*fnv)->CbllObjfdtMftiod(fnv, fontToFilfMbp, fmi->putMID,
                                     fontStr, filfStr);
                                     fontStr, filfStr);
                                     fontStr, filfStr);
                                     fontStr, filfStr);
                                     fontStr, filfStr);
            if (ptr1 == nbmf) {
            if (ptr1 == nbmf) {
            if (ptr1 == nbmf) {
            if (ptr1 == nbmf) {
            if (ptr1 == nbmf) {
                brfbk;
                brfbk;
                brfbk;
                brfbk;
                brfbk;
            } flsf {
            } flsf {
            } flsf {
            } flsf {
            } flsf {
                *(ptr1-3) ='\0';
                *(ptr1-3) ='\0';
                *(ptr1-3) ='\0';
                *(ptr1-3) ='\0';
                *(ptr1-3) ='\0';
                ptr1 = (LPSTR)nbmf;
                ptr1 = (LPSTR)nbmf;
                ptr1 = (LPSTR)nbmf;
                ptr1 = (LPSTR)nbmf;
                ptr1 = (LPSTR)nbmf;
            }
            }
            }
            }
            }
        }
        }
        }
        }
        }
    } flsf {
    } flsf {
    } flsf {
    } flsf {
    } flsf {
        fontStr = JNU_NfwStringPlbtform(fnv, nbmf);
        fontStr = JNU_NfwStringPlbtform(fnv, nbmf);
        fontStr = JNU_NfwStringPlbtform(fnv, nbmf);
        fontStr = JNU_NfwStringPlbtform(fnv, nbmf);
        fontStr = JNU_NfwStringPlbtform(fnv, nbmf);
        if (fontStr == NULL) {
        if (fontStr == NULL) {
        if (fontStr == NULL) {
        if (fontStr == NULL) {
        if (fontStr == NULL) {
            (*fnv)->ExdfptionClfbr(fnv);
            (*fnv)->ExdfptionClfbr(fnv);
            (*fnv)->ExdfptionClfbr(fnv);
            (*fnv)->ExdfptionClfbr(fnv);
            (*fnv)->ExdfptionClfbr(fnv);
            rfturn;
            rfturn;
            rfturn;
            rfturn;
            rfturn;
        }
        }
        }
        }
        }
        fontStr = (*fnv)->CbllObjfdtMftiod(fnv, fontStr,
        fontStr = (*fnv)->CbllObjfdtMftiod(fnv, fontStr,
        fontStr = (*fnv)->CbllObjfdtMftiod(fnv, fontStr,
        fontStr = (*fnv)->CbllObjfdtMftiod(fnv, fontStr,
        fontStr = (*fnv)->CbllObjfdtMftiod(fnv, fontStr,
                                           fmi->toLowfrCbsfMID, fmi->lodblf);
                                           fmi->toLowfrCbsfMID, fmi->lodblf);
                                           fmi->toLowfrCbsfMID, fmi->lodblf);
                                           fmi->toLowfrCbsfMID, fmi->lodblf);
                                           fmi->toLowfrCbsfMID, fmi->lodblf);
        (*fnv)->CbllObjfdtMftiod(fnv, fontToFilfMbp, fmi->putMID,
        (*fnv)->CbllObjfdtMftiod(fnv, fontToFilfMbp, fmi->putMID,
        (*fnv)->CbllObjfdtMftiod(fnv, fontToFilfMbp, fmi->putMID,
        (*fnv)->CbllObjfdtMftiod(fnv, fontToFilfMbp, fmi->putMID,
        (*fnv)->CbllObjfdtMftiod(fnv, fontToFilfMbp, fmi->putMID,
                                 fontStr, filfStr);
                                 fontStr, filfStr);
                                 fontStr, filfStr);
                                 fontStr, filfStr);
                                 fontStr, filfStr);
    }
    }
    }
    }
    }
}
}
}
}
}





stbtid void rfgistfrFontW(GdiFontMbpInfo *fmi, jobjfdt fontToFilfMbp,
stbtid void rfgistfrFontW(GdiFontMbpInfo *fmi, jobjfdt fontToFilfMbp,
stbtid void rfgistfrFontW(GdiFontMbpInfo *fmi, jobjfdt fontToFilfMbp,
stbtid void rfgistfrFontW(GdiFontMbpInfo *fmi, jobjfdt fontToFilfMbp,
stbtid void rfgistfrFontW(GdiFontMbpInfo *fmi, jobjfdt fontToFilfMbp,
                          LPWSTR nbmf, LPWSTR dbtb) {
                          LPWSTR nbmf, LPWSTR dbtb) {
                          LPWSTR nbmf, LPWSTR dbtb) {
                          LPWSTR nbmf, LPWSTR dbtb) {
                          LPWSTR nbmf, LPWSTR dbtb) {





    wdibr_t *ptr1, *ptr2;
    wdibr_t *ptr1, *ptr2;
    wdibr_t *ptr1, *ptr2;
    wdibr_t *ptr1, *ptr2;
    wdibr_t *ptr1, *ptr2;
    jstring fontStr;
    jstring fontStr;
    jstring fontStr;
    jstring fontStr;
    jstring fontStr;
    JNIEnv *fnv = fmi->fnv;
    JNIEnv *fnv = fmi->fnv;
    JNIEnv *fnv = fmi->fnv;
    JNIEnv *fnv = fmi->fnv;
    JNIEnv *fnv = fmi->fnv;
    sizf_t dslfn = wdslfn(dbtb);
    sizf_t dslfn = wdslfn(dbtb);
    sizf_t dslfn = wdslfn(dbtb);
    sizf_t dslfn = wdslfn(dbtb);
    sizf_t dslfn = wdslfn(dbtb);
    jstring filfStr = (*fnv)->NfwString(fnv, dbtb, (jsizf)dslfn);
    jstring filfStr = (*fnv)->NfwString(fnv, dbtb, (jsizf)dslfn);
    jstring filfStr = (*fnv)->NfwString(fnv, dbtb, (jsizf)dslfn);
    jstring filfStr = (*fnv)->NfwString(fnv, dbtb, (jsizf)dslfn);
    jstring filfStr = (*fnv)->NfwString(fnv, dbtb, (jsizf)dslfn);
    if (filfStr == NULL) {
    if (filfStr == NULL) {
    if (filfStr == NULL) {
    if (filfStr == NULL) {
    if (filfStr == NULL) {
        (*fnv)->ExdfptionClfbr(fnv);
        (*fnv)->ExdfptionClfbr(fnv);
        (*fnv)->ExdfptionClfbr(fnv);
        (*fnv)->ExdfptionClfbr(fnv);
        (*fnv)->ExdfptionClfbr(fnv);
        rfturn;
        rfturn;
        rfturn;
        rfturn;
        rfturn;
    }
    }
    }
    }
    }





    /* TTC or ttd mfbns it mby bf b dollfdtion. Nffd to pbrsf out
    /* TTC or ttd mfbns it mby bf b dollfdtion. Nffd to pbrsf out
    /* TTC or ttd mfbns it mby bf b dollfdtion. Nffd to pbrsf out
    /* TTC or ttd mfbns it mby bf b dollfdtion. Nffd to pbrsf out
    /* TTC or ttd mfbns it mby bf b dollfdtion. Nffd to pbrsf out
     * multiplf font fbdf nbmfs sfpbrbtfd by " & "
     * multiplf font fbdf nbmfs sfpbrbtfd by " & "
     * multiplf font fbdf nbmfs sfpbrbtfd by " & "
     * multiplf font fbdf nbmfs sfpbrbtfd by " & "
     * multiplf font fbdf nbmfs sfpbrbtfd by " & "
     * By only doing tiis for fonts wiidi look likf dollfdtions bbsfd on
     * By only doing tiis for fonts wiidi look likf dollfdtions bbsfd on
     * By only doing tiis for fonts wiidi look likf dollfdtions bbsfd on
     * By only doing tiis for fonts wiidi look likf dollfdtions bbsfd on
     * By only doing tiis for fonts wiidi look likf dollfdtions bbsfd on
     * filf nbmf wf brf bdifring to MS rfdommfndbtions for font filf nbmfs
     * filf nbmf wf brf bdifring to MS rfdommfndbtions for font filf nbmfs
     * filf nbmf wf brf bdifring to MS rfdommfndbtions for font filf nbmfs
     * filf nbmf wf brf bdifring to MS rfdommfndbtions for font filf nbmfs
     * filf nbmf wf brf bdifring to MS rfdommfndbtions for font filf nbmfs
     * so it sffms tibt wf dbn bf surf tibt tiis idfntififs prfdisfly
     * so it sffms tibt wf dbn bf surf tibt tiis idfntififs prfdisfly
     * so it sffms tibt wf dbn bf surf tibt tiis idfntififs prfdisfly
     * so it sffms tibt wf dbn bf surf tibt tiis idfntififs prfdisfly
     * so it sffms tibt wf dbn bf surf tibt tiis idfntififs prfdisfly
     * tif MS-supplifd truftypf dollfdtions.
     * tif MS-supplifd truftypf dollfdtions.
     * tif MS-supplifd truftypf dollfdtions.
     * tif MS-supplifd truftypf dollfdtions.
     * tif MS-supplifd truftypf dollfdtions.
     * Tiis bvoids bny potfntibl issufs if b TTF filf ibppfns to ibvf
     * Tiis bvoids bny potfntibl issufs if b TTF filf ibppfns to ibvf
     * Tiis bvoids bny potfntibl issufs if b TTF filf ibppfns to ibvf
     * Tiis bvoids bny potfntibl issufs if b TTF filf ibppfns to ibvf
     * Tiis bvoids bny potfntibl issufs if b TTF filf ibppfns to ibvf
     * b & in tif font nbmf (I dbn't find bnytiing wiidi proiibits tiis)
     * b & in tif font nbmf (I dbn't find bnytiing wiidi proiibits tiis)
     * b & in tif font nbmf (I dbn't find bnytiing wiidi proiibits tiis)
     * b & in tif font nbmf (I dbn't find bnytiing wiidi proiibits tiis)
     * b & in tif font nbmf (I dbn't find bnytiing wiidi proiibits tiis)
     * bnd blso mfbns wf only pbrsf tif kfy in dbsfs wf know to bf
     * bnd blso mfbns wf only pbrsf tif kfy in dbsfs wf know to bf
     * bnd blso mfbns wf only pbrsf tif kfy in dbsfs wf know to bf
     * bnd blso mfbns wf only pbrsf tif kfy in dbsfs wf know to bf
     * bnd blso mfbns wf only pbrsf tif kfy in dbsfs wf know to bf
     * wortiwiilf.
     * wortiwiilf.
     * wortiwiilf.
     * wortiwiilf.
     * wortiwiilf.
     */
     */
     */
     */
     */





    if ((dbtb[dslfn-1] == L'C' || dbtb[dslfn-1] == L'd') &&
    if ((dbtb[dslfn-1] == L'C' || dbtb[dslfn-1] == L'd') &&
    if ((dbtb[dslfn-1] == L'C' || dbtb[dslfn-1] == L'd') &&
    if ((dbtb[dslfn-1] == L'C' || dbtb[dslfn-1] == L'd') &&
    if ((dbtb[dslfn-1] == L'C' || dbtb[dslfn-1] == L'd') &&
        (ptr1 = wdsstr(nbmf, L" & ")) != NULL) {
        (ptr1 = wdsstr(nbmf, L" & ")) != NULL) {
        (ptr1 = wdsstr(nbmf, L" & ")) != NULL) {
        (ptr1 = wdsstr(nbmf, L" & ")) != NULL) {
        (ptr1 = wdsstr(nbmf, L" & ")) != NULL) {
        ptr1+=3;
        ptr1+=3;
        ptr1+=3;
        ptr1+=3;
        ptr1+=3;
        wiilf (ptr1 >= nbmf) { /* mbrginblly sbffr tibn wiilf (truf) */
        wiilf (ptr1 >= nbmf) { /* mbrginblly sbffr tibn wiilf (truf) */
        wiilf (ptr1 >= nbmf) { /* mbrginblly sbffr tibn wiilf (truf) */
        wiilf (ptr1 >= nbmf) { /* mbrginblly sbffr tibn wiilf (truf) */
        wiilf (ptr1 >= nbmf) { /* mbrginblly sbffr tibn wiilf (truf) */
            wiilf ((ptr2 = wdsstr(ptr1, L" & ")) != NULL) {
            wiilf ((ptr2 = wdsstr(ptr1, L" & ")) != NULL) {
            wiilf ((ptr2 = wdsstr(ptr1, L" & ")) != NULL) {
            wiilf ((ptr2 = wdsstr(ptr1, L" & ")) != NULL) {
            wiilf ((ptr2 = wdsstr(ptr1, L" & ")) != NULL) {
                ptr1 = ptr2+3;
                ptr1 = ptr2+3;
                ptr1 = ptr2+3;
                ptr1 = ptr2+3;
                ptr1 = ptr2+3;
            }
            }
            }
            }
            }
            fontStr = (*fnv)->NfwString(fnv, ptr1, (jsizf)wdslfn(ptr1));
            fontStr = (*fnv)->NfwString(fnv, ptr1, (jsizf)wdslfn(ptr1));
            fontStr = (*fnv)->NfwString(fnv, ptr1, (jsizf)wdslfn(ptr1));
            fontStr = (*fnv)->NfwString(fnv, ptr1, (jsizf)wdslfn(ptr1));
            fontStr = (*fnv)->NfwString(fnv, ptr1, (jsizf)wdslfn(ptr1));
            if (fontStr == NULL) {
            if (fontStr == NULL) {
            if (fontStr == NULL) {
            if (fontStr == NULL) {
            if (fontStr == NULL) {
                (*fnv)->ExdfptionClfbr(fnv);
                (*fnv)->ExdfptionClfbr(fnv);
                (*fnv)->ExdfptionClfbr(fnv);
                (*fnv)->ExdfptionClfbr(fnv);
                (*fnv)->ExdfptionClfbr(fnv);
                rfturn;
                rfturn;
                rfturn;
                rfturn;
                rfturn;
            }
            }
            }
            }
            }
            fontStr = (*fnv)->CbllObjfdtMftiod(fnv, fontStr,
            fontStr = (*fnv)->CbllObjfdtMftiod(fnv, fontStr,
            fontStr = (*fnv)->CbllObjfdtMftiod(fnv, fontStr,
            fontStr = (*fnv)->CbllObjfdtMftiod(fnv, fontStr,
            fontStr = (*fnv)->CbllObjfdtMftiod(fnv, fontStr,
                                               fmi->toLowfrCbsfMID,
                                               fmi->toLowfrCbsfMID,
                                               fmi->toLowfrCbsfMID,
                                               fmi->toLowfrCbsfMID,
                                               fmi->toLowfrCbsfMID,
                                               fmi->lodblf);
                                               fmi->lodblf);
                                               fmi->lodblf);
                                               fmi->lodblf);
                                               fmi->lodblf);
            (*fnv)->CbllObjfdtMftiod(fnv, fontToFilfMbp, fmi->putMID,
            (*fnv)->CbllObjfdtMftiod(fnv, fontToFilfMbp, fmi->putMID,
            (*fnv)->CbllObjfdtMftiod(fnv, fontToFilfMbp, fmi->putMID,
            (*fnv)->CbllObjfdtMftiod(fnv, fontToFilfMbp, fmi->putMID,
            (*fnv)->CbllObjfdtMftiod(fnv, fontToFilfMbp, fmi->putMID,
                                     fontStr, filfStr);
                                     fontStr, filfStr);
                                     fontStr, filfStr);
                                     fontStr, filfStr);
                                     fontStr, filfStr);
            if (ptr1 == nbmf) {
            if (ptr1 == nbmf) {
            if (ptr1 == nbmf) {
            if (ptr1 == nbmf) {
            if (ptr1 == nbmf) {
                brfbk;
                brfbk;
                brfbk;
                brfbk;
                brfbk;
            } flsf {
            } flsf {
            } flsf {
            } flsf {
            } flsf {
                *(ptr1-3) = L'\0';
                *(ptr1-3) = L'\0';
                *(ptr1-3) = L'\0';
                *(ptr1-3) = L'\0';
                *(ptr1-3) = L'\0';
                ptr1 = nbmf;
                ptr1 = nbmf;
                ptr1 = nbmf;
                ptr1 = nbmf;
                ptr1 = nbmf;
            }
            }
            }
            }
            }
        }
        }
        }
        }
        }
    } flsf {
    } flsf {
    } flsf {
    } flsf {
    } flsf {
        fontStr = (*fnv)->NfwString(fnv, nbmf, (jsizf)wdslfn(nbmf));
        fontStr = (*fnv)->NfwString(fnv, nbmf, (jsizf)wdslfn(nbmf));
        fontStr = (*fnv)->NfwString(fnv, nbmf, (jsizf)wdslfn(nbmf));
        fontStr = (*fnv)->NfwString(fnv, nbmf, (jsizf)wdslfn(nbmf));
        fontStr = (*fnv)->NfwString(fnv, nbmf, (jsizf)wdslfn(nbmf));
        if (fontStr == NULL) {
        if (fontStr == NULL) {
        if (fontStr == NULL) {
        if (fontStr == NULL) {
        if (fontStr == NULL) {
            (*fnv)->ExdfptionClfbr(fnv);
            (*fnv)->ExdfptionClfbr(fnv);
            (*fnv)->ExdfptionClfbr(fnv);
            (*fnv)->ExdfptionClfbr(fnv);
            (*fnv)->ExdfptionClfbr(fnv);
            rfturn;
            rfturn;
            rfturn;
            rfturn;
            rfturn;
        }
        }
        }
        }
        }
        fontStr = (*fnv)->CbllObjfdtMftiod(fnv, fontStr,
        fontStr = (*fnv)->CbllObjfdtMftiod(fnv, fontStr,
        fontStr = (*fnv)->CbllObjfdtMftiod(fnv, fontStr,
        fontStr = (*fnv)->CbllObjfdtMftiod(fnv, fontStr,
        fontStr = (*fnv)->CbllObjfdtMftiod(fnv, fontStr,
                                           fmi->toLowfrCbsfMID, fmi->lodblf);
                                           fmi->toLowfrCbsfMID, fmi->lodblf);
                                           fmi->toLowfrCbsfMID, fmi->lodblf);
                                           fmi->toLowfrCbsfMID, fmi->lodblf);
                                           fmi->toLowfrCbsfMID, fmi->lodblf);
        (*fnv)->CbllObjfdtMftiod(fnv, fontToFilfMbp, fmi->putMID,
        (*fnv)->CbllObjfdtMftiod(fnv, fontToFilfMbp, fmi->putMID,
        (*fnv)->CbllObjfdtMftiod(fnv, fontToFilfMbp, fmi->putMID,
        (*fnv)->CbllObjfdtMftiod(fnv, fontToFilfMbp, fmi->putMID,
        (*fnv)->CbllObjfdtMftiod(fnv, fontToFilfMbp, fmi->putMID,
                                 fontStr, filfStr);
                                 fontStr, filfStr);
                                 fontStr, filfStr);
                                 fontStr, filfStr);
                                 fontStr, filfStr);
    }
    }
    }
    }
    }
}
}
}
}
}





/* Obtbin bll tif fontnbmf -> filfnbmf mbppings.
/* Obtbin bll tif fontnbmf -> filfnbmf mbppings.
/* Obtbin bll tif fontnbmf -> filfnbmf mbppings.
/* Obtbin bll tif fontnbmf -> filfnbmf mbppings.
/* Obtbin bll tif fontnbmf -> filfnbmf mbppings.
 * Tiis is dbllfd ondf bnd tif rfsults rfturnfd to Jbvb dodf wiidi dbn
 * Tiis is dbllfd ondf bnd tif rfsults rfturnfd to Jbvb dodf wiidi dbn
 * Tiis is dbllfd ondf bnd tif rfsults rfturnfd to Jbvb dodf wiidi dbn
 * Tiis is dbllfd ondf bnd tif rfsults rfturnfd to Jbvb dodf wiidi dbn
 * Tiis is dbllfd ondf bnd tif rfsults rfturnfd to Jbvb dodf wiidi dbn
 * usf it for lookups to rfdudf or bvoid tif nffd to sfbrdi font filfs.
 * usf it for lookups to rfdudf or bvoid tif nffd to sfbrdi font filfs.
 * usf it for lookups to rfdudf or bvoid tif nffd to sfbrdi font filfs.
 * usf it for lookups to rfdudf or bvoid tif nffd to sfbrdi font filfs.
 * usf it for lookups to rfdudf or bvoid tif nffd to sfbrdi font filfs.
 */
 */
 */
 */
 */
JNIEXPORT void JNICALL
JNIEXPORT void JNICALL
JNIEXPORT void JNICALL
JNIEXPORT void JNICALL
JNIEXPORT void JNICALL
Jbvb_sun_bwt_Win32FontMbnbgfr_populbtfFontFilfNbmfMbp0
Jbvb_sun_bwt_Win32FontMbnbgfr_populbtfFontFilfNbmfMbp0
Jbvb_sun_bwt_Win32FontMbnbgfr_populbtfFontFilfNbmfMbp0
Jbvb_sun_bwt_Win32FontMbnbgfr_populbtfFontFilfNbmfMbp0
Jbvb_sun_bwt_Win32FontMbnbgfr_populbtfFontFilfNbmfMbp0
(JNIEnv *fnv, jdlbss obj, jobjfdt fontToFilfMbp,
(JNIEnv *fnv, jdlbss obj, jobjfdt fontToFilfMbp,
(JNIEnv *fnv, jdlbss obj, jobjfdt fontToFilfMbp,
(JNIEnv *fnv, jdlbss obj, jobjfdt fontToFilfMbp,
(JNIEnv *fnv, jdlbss obj, jobjfdt fontToFilfMbp,
 jobjfdt fontToFbmilyMbp, jobjfdt fbmilyToFontListMbp, jobjfdt lodblf)
 jobjfdt fontToFbmilyMbp, jobjfdt fbmilyToFontListMbp, jobjfdt lodblf)
 jobjfdt fontToFbmilyMbp, jobjfdt fbmilyToFontListMbp, jobjfdt lodblf)
 jobjfdt fontToFbmilyMbp, jobjfdt fbmilyToFontListMbp, jobjfdt lodblf)
 jobjfdt fontToFbmilyMbp, jobjfdt fbmilyToFontListMbp, jobjfdt lodblf)
{
{
{
{
{
#dffinf MAX_BUFFER (FILENAME_MAX+1)
#dffinf MAX_BUFFER (FILENAME_MAX+1)
#dffinf MAX_BUFFER (FILENAME_MAX+1)
#dffinf MAX_BUFFER (FILENAME_MAX+1)
#dffinf MAX_BUFFER (FILENAME_MAX+1)
    donst wdibr_t wnbmf[MAX_BUFFER];
    donst wdibr_t wnbmf[MAX_BUFFER];
    donst wdibr_t wnbmf[MAX_BUFFER];
    donst wdibr_t wnbmf[MAX_BUFFER];
    donst wdibr_t wnbmf[MAX_BUFFER];
    donst dibr dnbmf[MAX_BUFFER];
    donst dibr dnbmf[MAX_BUFFER];
    donst dibr dnbmf[MAX_BUFFER];
    donst dibr dnbmf[MAX_BUFFER];
    donst dibr dnbmf[MAX_BUFFER];
    donst dibr dbtb[MAX_BUFFER];
    donst dibr dbtb[MAX_BUFFER];
    donst dibr dbtb[MAX_BUFFER];
    donst dibr dbtb[MAX_BUFFER];
    donst dibr dbtb[MAX_BUFFER];





    DWORD typf;
    DWORD typf;
    DWORD typf;
    DWORD typf;
    DWORD typf;
    LONG rft;
    LONG rft;
    LONG rft;
    LONG rft;
    LONG rft;
    HKEY ikfyFonts;
    HKEY ikfyFonts;
    HKEY ikfyFonts;
    HKEY ikfyFonts;
    HKEY ikfyFonts;
    DWORD dwNbmfSizf;
    DWORD dwNbmfSizf;
    DWORD dwNbmfSizf;
    DWORD dwNbmfSizf;
    DWORD dwNbmfSizf;
    DWORD dwDbtbVblufSizf;
    DWORD dwDbtbVblufSizf;
    DWORD dwDbtbVblufSizf;
    DWORD dwDbtbVblufSizf;
    DWORD dwDbtbVblufSizf;
    DWORD nvbl;
    DWORD nvbl;
    DWORD nvbl;
    DWORD nvbl;
    DWORD nvbl;
    LPCSTR fontKfyNbmf;
    LPCSTR fontKfyNbmf;
    LPCSTR fontKfyNbmf;
    LPCSTR fontKfyNbmf;
    LPCSTR fontKfyNbmf;
    DWORD dwNumVblufs, dwMbxVblufNbmfLfn, dwMbxVblufDbtbLfn;
    DWORD dwNumVblufs, dwMbxVblufNbmfLfn, dwMbxVblufDbtbLfn;
    DWORD dwNumVblufs, dwMbxVblufNbmfLfn, dwMbxVblufDbtbLfn;
    DWORD dwNumVblufs, dwMbxVblufNbmfLfn, dwMbxVblufDbtbLfn;
    DWORD dwNumVblufs, dwMbxVblufNbmfLfn, dwMbxVblufDbtbLfn;
    DWORD numVblufs = 0;
    DWORD numVblufs = 0;
    DWORD numVblufs = 0;
    DWORD numVblufs = 0;
    DWORD numVblufs = 0;
    jdlbss dlbssID;
    jdlbss dlbssID;
    jdlbss dlbssID;
    jdlbss dlbssID;
    jdlbss dlbssID;
    jmftiodID putMID;
    jmftiodID putMID;
    jmftiodID putMID;
    jmftiodID putMID;
    jmftiodID putMID;
    GdiFontMbpInfo fmi;
    GdiFontMbpInfo fmi;
    GdiFontMbpInfo fmi;
    GdiFontMbpInfo fmi;
    GdiFontMbpInfo fmi;





    /* Cifdk wf wfrf pbssfd bll tif mbps wf nffd, bnd do lookup of
    /* Cifdk wf wfrf pbssfd bll tif mbps wf nffd, bnd do lookup of
    /* Cifdk wf wfrf pbssfd bll tif mbps wf nffd, bnd do lookup of
    /* Cifdk wf wfrf pbssfd bll tif mbps wf nffd, bnd do lookup of
    /* Cifdk wf wfrf pbssfd bll tif mbps wf nffd, bnd do lookup of
     * mftiods for JNI up-dblls
     * mftiods for JNI up-dblls
     * mftiods for JNI up-dblls
     * mftiods for JNI up-dblls
     * mftiods for JNI up-dblls
     */
     */
     */
     */
     */
    if (fontToFilfMbp == NULL ||
    if (fontToFilfMbp == NULL ||
    if (fontToFilfMbp == NULL ||
    if (fontToFilfMbp == NULL ||
    if (fontToFilfMbp == NULL ||
        fontToFbmilyMbp == NULL ||
        fontToFbmilyMbp == NULL ||
        fontToFbmilyMbp == NULL ||
        fontToFbmilyMbp == NULL ||
        fontToFbmilyMbp == NULL ||
        fbmilyToFontListMbp == NULL) {
        fbmilyToFontListMbp == NULL) {
        fbmilyToFontListMbp == NULL) {
        fbmilyToFontListMbp == NULL) {
        fbmilyToFontListMbp == NULL) {
        rfturn;
        rfturn;
        rfturn;
        rfturn;
        rfturn;
    }
    }
    }
    }
    }
    dlbssID = (*fnv)->FindClbss(fnv, "jbvb/util/HbsiMbp");
    dlbssID = (*fnv)->FindClbss(fnv, "jbvb/util/HbsiMbp");
    dlbssID = (*fnv)->FindClbss(fnv, "jbvb/util/HbsiMbp");
    dlbssID = (*fnv)->FindClbss(fnv, "jbvb/util/HbsiMbp");
    dlbssID = (*fnv)->FindClbss(fnv, "jbvb/util/HbsiMbp");
    if (dlbssID == NULL) {
    if (dlbssID == NULL) {
    if (dlbssID == NULL) {
    if (dlbssID == NULL) {
    if (dlbssID == NULL) {
        rfturn;
        rfturn;
        rfturn;
        rfturn;
        rfturn;
    }
    }
    }
    }
    }
    putMID = (*fnv)->GftMftiodID(fnv, dlbssID, "put",
    putMID = (*fnv)->GftMftiodID(fnv, dlbssID, "put",
    putMID = (*fnv)->GftMftiodID(fnv, dlbssID, "put",
    putMID = (*fnv)->GftMftiodID(fnv, dlbssID, "put",
    putMID = (*fnv)->GftMftiodID(fnv, dlbssID, "put",
                 "(Ljbvb/lbng/Objfdt;Ljbvb/lbng/Objfdt;)Ljbvb/lbng/Objfdt;");
                 "(Ljbvb/lbng/Objfdt;Ljbvb/lbng/Objfdt;)Ljbvb/lbng/Objfdt;");
                 "(Ljbvb/lbng/Objfdt;Ljbvb/lbng/Objfdt;)Ljbvb/lbng/Objfdt;");
                 "(Ljbvb/lbng/Objfdt;Ljbvb/lbng/Objfdt;)Ljbvb/lbng/Objfdt;");
                 "(Ljbvb/lbng/Objfdt;Ljbvb/lbng/Objfdt;)Ljbvb/lbng/Objfdt;");
    if (putMID == NULL) {
    if (putMID == NULL) {
    if (putMID == NULL) {
    if (putMID == NULL) {
    if (putMID == NULL) {
        rfturn;
        rfturn;
        rfturn;
        rfturn;
        rfturn;
    }
    }
    }
    }
    }





    fmi.fnv = fnv;
    fmi.fnv = fnv;
    fmi.fnv = fnv;
    fmi.fnv = fnv;
    fmi.fnv = fnv;
    fmi.fontToFbmilyMbp = fontToFbmilyMbp;
    fmi.fontToFbmilyMbp = fontToFbmilyMbp;
    fmi.fontToFbmilyMbp = fontToFbmilyMbp;
    fmi.fontToFbmilyMbp = fontToFbmilyMbp;
    fmi.fontToFbmilyMbp = fontToFbmilyMbp;
    fmi.fbmilyToFontListMbp = fbmilyToFontListMbp;
    fmi.fbmilyToFontListMbp = fbmilyToFontListMbp;
    fmi.fbmilyToFontListMbp = fbmilyToFontListMbp;
    fmi.fbmilyToFontListMbp = fbmilyToFontListMbp;
    fmi.fbmilyToFontListMbp = fbmilyToFontListMbp;
    fmi.putMID = putMID;
    fmi.putMID = putMID;
    fmi.putMID = putMID;
    fmi.putMID = putMID;
    fmi.putMID = putMID;
    fmi.lodblf = lodblf;
    fmi.lodblf = lodblf;
    fmi.lodblf = lodblf;
    fmi.lodblf = lodblf;
    fmi.lodblf = lodblf;
    fmi.dontbinsKfyMID = (*fnv)->GftMftiodID(fnv, dlbssID, "dontbinsKfy",
    fmi.dontbinsKfyMID = (*fnv)->GftMftiodID(fnv, dlbssID, "dontbinsKfy",
    fmi.dontbinsKfyMID = (*fnv)->GftMftiodID(fnv, dlbssID, "dontbinsKfy",
    fmi.dontbinsKfyMID = (*fnv)->GftMftiodID(fnv, dlbssID, "dontbinsKfy",
    fmi.dontbinsKfyMID = (*fnv)->GftMftiodID(fnv, dlbssID, "dontbinsKfy",
                                             "(Ljbvb/lbng/Objfdt;)Z");
                                             "(Ljbvb/lbng/Objfdt;)Z");
                                             "(Ljbvb/lbng/Objfdt;)Z");
                                             "(Ljbvb/lbng/Objfdt;)Z");
                                             "(Ljbvb/lbng/Objfdt;)Z");
    if (fmi.dontbinsKfyMID == NULL) {
    if (fmi.dontbinsKfyMID == NULL) {
    if (fmi.dontbinsKfyMID == NULL) {
    if (fmi.dontbinsKfyMID == NULL) {
    if (fmi.dontbinsKfyMID == NULL) {
        rfturn;
        rfturn;
        rfturn;
        rfturn;
        rfturn;
    }
    }
    }
    }
    }





    fmi.brrbyListClbss = (*fnv)->FindClbss(fnv, "jbvb/util/ArrbyList");
    fmi.brrbyListClbss = (*fnv)->FindClbss(fnv, "jbvb/util/ArrbyList");
    fmi.brrbyListClbss = (*fnv)->FindClbss(fnv, "jbvb/util/ArrbyList");
    fmi.brrbyListClbss = (*fnv)->FindClbss(fnv, "jbvb/util/ArrbyList");
    fmi.brrbyListClbss = (*fnv)->FindClbss(fnv, "jbvb/util/ArrbyList");
    if (fmi.brrbyListClbss == NULL) {
    if (fmi.brrbyListClbss == NULL) {
    if (fmi.brrbyListClbss == NULL) {
    if (fmi.brrbyListClbss == NULL) {
    if (fmi.brrbyListClbss == NULL) {
        rfturn;
        rfturn;
        rfturn;
        rfturn;
        rfturn;
    }
    }
    }
    }
    }
    fmi.brrbyListCtr = (*fnv)->GftMftiodID(fnv, fmi.brrbyListClbss,
    fmi.brrbyListCtr = (*fnv)->GftMftiodID(fnv, fmi.brrbyListClbss,
    fmi.brrbyListCtr = (*fnv)->GftMftiodID(fnv, fmi.brrbyListClbss,
    fmi.brrbyListCtr = (*fnv)->GftMftiodID(fnv, fmi.brrbyListClbss,
    fmi.brrbyListCtr = (*fnv)->GftMftiodID(fnv, fmi.brrbyListClbss,
                                              "<init>", "(I)V");
                                              "<init>", "(I)V");
                                              "<init>", "(I)V");
                                              "<init>", "(I)V");
                                              "<init>", "(I)V");
    if (fmi.brrbyListCtr == NULL) {
    if (fmi.brrbyListCtr == NULL) {
    if (fmi.brrbyListCtr == NULL) {
    if (fmi.brrbyListCtr == NULL) {
    if (fmi.brrbyListCtr == NULL) {
        rfturn;
        rfturn;
        rfturn;
        rfturn;
        rfturn;
    }
    }
    }
    }
    }
    fmi.bddMID = (*fnv)->GftMftiodID(fnv, fmi.brrbyListClbss,
    fmi.bddMID = (*fnv)->GftMftiodID(fnv, fmi.brrbyListClbss,
    fmi.bddMID = (*fnv)->GftMftiodID(fnv, fmi.brrbyListClbss,
    fmi.bddMID = (*fnv)->GftMftiodID(fnv, fmi.brrbyListClbss,
    fmi.bddMID = (*fnv)->GftMftiodID(fnv, fmi.brrbyListClbss,
                                     "bdd", "(Ljbvb/lbng/Objfdt;)Z");
                                     "bdd", "(Ljbvb/lbng/Objfdt;)Z");
                                     "bdd", "(Ljbvb/lbng/Objfdt;)Z");
                                     "bdd", "(Ljbvb/lbng/Objfdt;)Z");
                                     "bdd", "(Ljbvb/lbng/Objfdt;)Z");
    if (fmi.bddMID == NULL) {
    if (fmi.bddMID == NULL) {
    if (fmi.bddMID == NULL) {
    if (fmi.bddMID == NULL) {
    if (fmi.bddMID == NULL) {
        rfturn;
        rfturn;
        rfturn;
        rfturn;
        rfturn;
    }
    }
    }
    }
    }
    dlbssID = (*fnv)->FindClbss(fnv, "jbvb/lbng/String");
    dlbssID = (*fnv)->FindClbss(fnv, "jbvb/lbng/String");
    dlbssID = (*fnv)->FindClbss(fnv, "jbvb/lbng/String");
    dlbssID = (*fnv)->FindClbss(fnv, "jbvb/lbng/String");
    dlbssID = (*fnv)->FindClbss(fnv, "jbvb/lbng/String");
    if (dlbssID == NULL) {
    if (dlbssID == NULL) {
    if (dlbssID == NULL) {
    if (dlbssID == NULL) {
    if (dlbssID == NULL) {
        rfturn;
        rfturn;
        rfturn;
        rfturn;
        rfturn;
    }
    }
    }
    }
    }
    fmi.toLowfrCbsfMID =
    fmi.toLowfrCbsfMID =
    fmi.toLowfrCbsfMID =
    fmi.toLowfrCbsfMID =
    fmi.toLowfrCbsfMID =
        (*fnv)->GftMftiodID(fnv, dlbssID, "toLowfrCbsf",
        (*fnv)->GftMftiodID(fnv, dlbssID, "toLowfrCbsf",
        (*fnv)->GftMftiodID(fnv, dlbssID, "toLowfrCbsf",
        (*fnv)->GftMftiodID(fnv, dlbssID, "toLowfrCbsf",
        (*fnv)->GftMftiodID(fnv, dlbssID, "toLowfrCbsf",
                            "(Ljbvb/util/Lodblf;)Ljbvb/lbng/String;");
                            "(Ljbvb/util/Lodblf;)Ljbvb/lbng/String;");
                            "(Ljbvb/util/Lodblf;)Ljbvb/lbng/String;");
                            "(Ljbvb/util/Lodblf;)Ljbvb/lbng/String;");
                            "(Ljbvb/util/Lodblf;)Ljbvb/lbng/String;");
    if (fmi.toLowfrCbsfMID == NULL) {
    if (fmi.toLowfrCbsfMID == NULL) {
    if (fmi.toLowfrCbsfMID == NULL) {
    if (fmi.toLowfrCbsfMID == NULL) {
    if (fmi.toLowfrCbsfMID == NULL) {
        rfturn;
        rfturn;
        rfturn;
        rfturn;
        rfturn;
    }
    }
    }
    }
    }





    sdrffnDC = GftDC(NULL);
    sdrffnDC = GftDC(NULL);
    sdrffnDC = GftDC(NULL);
    sdrffnDC = GftDC(NULL);
    sdrffnDC = GftDC(NULL);
    if (sdrffnDC == NULL) {
    if (sdrffnDC == NULL) {
    if (sdrffnDC == NULL) {
    if (sdrffnDC == NULL) {
    if (sdrffnDC == NULL) {
        rfturn;
        rfturn;
        rfturn;
        rfturn;
        rfturn;
    }
    }
    }
    }
    }
    /* Enumfrbtf fonts vib GDI to build mbps of fonts bnd fbmilifs */
    /* Enumfrbtf fonts vib GDI to build mbps of fonts bnd fbmilifs */
    /* Enumfrbtf fonts vib GDI to build mbps of fonts bnd fbmilifs */
    /* Enumfrbtf fonts vib GDI to build mbps of fonts bnd fbmilifs */
    /* Enumfrbtf fonts vib GDI to build mbps of fonts bnd fbmilifs */
    if (IS_NT) {
    if (IS_NT) {
    if (IS_NT) {
    if (IS_NT) {
    if (IS_NT) {
        LOGFONTW lfw;
        LOGFONTW lfw;
        LOGFONTW lfw;
        LOGFONTW lfw;
        LOGFONTW lfw;
        mfmsft(&lfw, 0, sizfof(lfw));
        mfmsft(&lfw, 0, sizfof(lfw));
        mfmsft(&lfw, 0, sizfof(lfw));
        mfmsft(&lfw, 0, sizfof(lfw));
        mfmsft(&lfw, 0, sizfof(lfw));
        lfw.lfCibrSft = DEFAULT_CHARSET;  /* bll dibrsfts */
        lfw.lfCibrSft = DEFAULT_CHARSET;  /* bll dibrsfts */
        lfw.lfCibrSft = DEFAULT_CHARSET;  /* bll dibrsfts */
        lfw.lfCibrSft = DEFAULT_CHARSET;  /* bll dibrsfts */
        lfw.lfCibrSft = DEFAULT_CHARSET;  /* bll dibrsfts */
        wdsdpy(lfw.lfFbdfNbmf, L"");      /* onf fbdf pfr fbmily (CHECK) */
        wdsdpy(lfw.lfFbdfNbmf, L"");      /* onf fbdf pfr fbmily (CHECK) */
        wdsdpy(lfw.lfFbdfNbmf, L"");      /* onf fbdf pfr fbmily (CHECK) */
        wdsdpy(lfw.lfFbdfNbmf, L"");      /* onf fbdf pfr fbmily (CHECK) */
        wdsdpy(lfw.lfFbdfNbmf, L"");      /* onf fbdf pfr fbmily (CHECK) */
        EnumFontFbmilifsExW(sdrffnDC, &lfw,
        EnumFontFbmilifsExW(sdrffnDC, &lfw,
        EnumFontFbmilifsExW(sdrffnDC, &lfw,
        EnumFontFbmilifsExW(sdrffnDC, &lfw,
        EnumFontFbmilifsExW(sdrffnDC, &lfw,
                            (FONTENUMPROCW)EnumFbmilyNbmfsW,
                            (FONTENUMPROCW)EnumFbmilyNbmfsW,
                            (FONTENUMPROCW)EnumFbmilyNbmfsW,
                            (FONTENUMPROCW)EnumFbmilyNbmfsW,
                            (FONTENUMPROCW)EnumFbmilyNbmfsW,
                            (LPARAM)(&fmi), 0L);
                            (LPARAM)(&fmi), 0L);
                            (LPARAM)(&fmi), 0L);
                            (LPARAM)(&fmi), 0L);
                            (LPARAM)(&fmi), 0L);
    } flsf {
    } flsf {
    } flsf {
    } flsf {
    } flsf {
        LOGFONT lfb;
        LOGFONT lfb;
        LOGFONT lfb;
        LOGFONT lfb;
        LOGFONT lfb;
        mfmsft(&lfb, 0, sizfof(lfb));
        mfmsft(&lfb, 0, sizfof(lfb));
        mfmsft(&lfb, 0, sizfof(lfb));
        mfmsft(&lfb, 0, sizfof(lfb));
        mfmsft(&lfb, 0, sizfof(lfb));
        lfb.lfCibrSft = DEFAULT_CHARSET; /* bll dibrsfts */
        lfb.lfCibrSft = DEFAULT_CHARSET; /* bll dibrsfts */
        lfb.lfCibrSft = DEFAULT_CHARSET; /* bll dibrsfts */
        lfb.lfCibrSft = DEFAULT_CHARSET; /* bll dibrsfts */
        lfb.lfCibrSft = DEFAULT_CHARSET; /* bll dibrsfts */
        strdpy(lfb.lfFbdfNbmf, "");      /* onf fbdf pfr fbmily */
        strdpy(lfb.lfFbdfNbmf, "");      /* onf fbdf pfr fbmily */
        strdpy(lfb.lfFbdfNbmf, "");      /* onf fbdf pfr fbmily */
        strdpy(lfb.lfFbdfNbmf, "");      /* onf fbdf pfr fbmily */
        strdpy(lfb.lfFbdfNbmf, "");      /* onf fbdf pfr fbmily */
        rft = EnumFontFbmilifsExA(sdrffnDC, &lfb,
        rft = EnumFontFbmilifsExA(sdrffnDC, &lfb,
        rft = EnumFontFbmilifsExA(sdrffnDC, &lfb,
        rft = EnumFontFbmilifsExA(sdrffnDC, &lfb,
        rft = EnumFontFbmilifsExA(sdrffnDC, &lfb,
                            (FONTENUMPROCA)EnumFbmilyNbmfsA,
                            (FONTENUMPROCA)EnumFbmilyNbmfsA,
                            (FONTENUMPROCA)EnumFbmilyNbmfsA,
                            (FONTENUMPROCA)EnumFbmilyNbmfsA,
                            (FONTENUMPROCA)EnumFbmilyNbmfsA,
                            (LPARAM)(&fmi), 0L);
                            (LPARAM)(&fmi), 0L);
                            (LPARAM)(&fmi), 0L);
                            (LPARAM)(&fmi), 0L);
                            (LPARAM)(&fmi), 0L);
    }
    }
    }
    }
    }





    /* Usf tif windows rfgistry to mbp font nbmfs to filfs */
    /* Usf tif windows rfgistry to mbp font nbmfs to filfs */
    /* Usf tif windows rfgistry to mbp font nbmfs to filfs */
    /* Usf tif windows rfgistry to mbp font nbmfs to filfs */
    /* Usf tif windows rfgistry to mbp font nbmfs to filfs */
    fontKfyNbmf = (IS_NT) ? FONTKEY_NT : FONTKEY_WIN;
    fontKfyNbmf = (IS_NT) ? FONTKEY_NT : FONTKEY_WIN;
    fontKfyNbmf = (IS_NT) ? FONTKEY_NT : FONTKEY_WIN;
    fontKfyNbmf = (IS_NT) ? FONTKEY_NT : FONTKEY_WIN;
    fontKfyNbmf = (IS_NT) ? FONTKEY_NT : FONTKEY_WIN;
    rft = RfgOpfnKfyEx(HKEY_LOCAL_MACHINE,
    rft = RfgOpfnKfyEx(HKEY_LOCAL_MACHINE,
    rft = RfgOpfnKfyEx(HKEY_LOCAL_MACHINE,
    rft = RfgOpfnKfyEx(HKEY_LOCAL_MACHINE,
    rft = RfgOpfnKfyEx(HKEY_LOCAL_MACHINE,
                       fontKfyNbmf, 0L, KEY_READ, &ikfyFonts);
                       fontKfyNbmf, 0L, KEY_READ, &ikfyFonts);
                       fontKfyNbmf, 0L, KEY_READ, &ikfyFonts);
                       fontKfyNbmf, 0L, KEY_READ, &ikfyFonts);
                       fontKfyNbmf, 0L, KEY_READ, &ikfyFonts);
    if (rft != ERROR_SUCCESS) {
    if (rft != ERROR_SUCCESS) {
    if (rft != ERROR_SUCCESS) {
    if (rft != ERROR_SUCCESS) {
    if (rft != ERROR_SUCCESS) {
        RflfbsfDC(NULL, sdrffnDC);
        RflfbsfDC(NULL, sdrffnDC);
        RflfbsfDC(NULL, sdrffnDC);
        RflfbsfDC(NULL, sdrffnDC);
        RflfbsfDC(NULL, sdrffnDC);
        sdrffnDC = NULL;
        sdrffnDC = NULL;
        sdrffnDC = NULL;
        sdrffnDC = NULL;
        sdrffnDC = NULL;
        rfturn;
        rfturn;
        rfturn;
        rfturn;
        rfturn;
    }
    }
    }
    }
    }





    if (IS_NT) {
    if (IS_NT) {
    if (IS_NT) {
    if (IS_NT) {
    if (IS_NT) {
        rft = RfgQufryInfoKfyW(ikfyFonts, NULL, NULL, NULL, NULL, NULL, NULL,
        rft = RfgQufryInfoKfyW(ikfyFonts, NULL, NULL, NULL, NULL, NULL, NULL,
        rft = RfgQufryInfoKfyW(ikfyFonts, NULL, NULL, NULL, NULL, NULL, NULL,
        rft = RfgQufryInfoKfyW(ikfyFonts, NULL, NULL, NULL, NULL, NULL, NULL,
        rft = RfgQufryInfoKfyW(ikfyFonts, NULL, NULL, NULL, NULL, NULL, NULL,
                               &dwNumVblufs, &dwMbxVblufNbmfLfn,
                               &dwNumVblufs, &dwMbxVblufNbmfLfn,
                               &dwNumVblufs, &dwMbxVblufNbmfLfn,
                               &dwNumVblufs, &dwMbxVblufNbmfLfn,
                               &dwNumVblufs, &dwMbxVblufNbmfLfn,
                               &dwMbxVblufDbtbLfn, NULL, NULL);
                               &dwMbxVblufDbtbLfn, NULL, NULL);
                               &dwMbxVblufDbtbLfn, NULL, NULL);
                               &dwMbxVblufDbtbLfn, NULL, NULL);
                               &dwMbxVblufDbtbLfn, NULL, NULL);
    } flsf {
    } flsf {
    } flsf {
    } flsf {
    } flsf {
        rft = RfgQufryInfoKfyA(ikfyFonts, NULL, NULL, NULL, NULL, NULL, NULL,
        rft = RfgQufryInfoKfyA(ikfyFonts, NULL, NULL, NULL, NULL, NULL, NULL,
        rft = RfgQufryInfoKfyA(ikfyFonts, NULL, NULL, NULL, NULL, NULL, NULL,
        rft = RfgQufryInfoKfyA(ikfyFonts, NULL, NULL, NULL, NULL, NULL, NULL,
        rft = RfgQufryInfoKfyA(ikfyFonts, NULL, NULL, NULL, NULL, NULL, NULL,
                               &dwNumVblufs, &dwMbxVblufNbmfLfn,
                               &dwNumVblufs, &dwMbxVblufNbmfLfn,
                               &dwNumVblufs, &dwMbxVblufNbmfLfn,
                               &dwNumVblufs, &dwMbxVblufNbmfLfn,
                               &dwNumVblufs, &dwMbxVblufNbmfLfn,
                               &dwMbxVblufDbtbLfn, NULL, NULL);
                               &dwMbxVblufDbtbLfn, NULL, NULL);
                               &dwMbxVblufDbtbLfn, NULL, NULL);
                               &dwMbxVblufDbtbLfn, NULL, NULL);
                               &dwMbxVblufDbtbLfn, NULL, NULL);
    }
    }
    }
    }
    }
    if (rft != ERROR_SUCCESS ||
    if (rft != ERROR_SUCCESS ||
    if (rft != ERROR_SUCCESS ||
    if (rft != ERROR_SUCCESS ||
    if (rft != ERROR_SUCCESS ||
        dwMbxVblufNbmfLfn >= MAX_BUFFER ||
        dwMbxVblufNbmfLfn >= MAX_BUFFER ||
        dwMbxVblufNbmfLfn >= MAX_BUFFER ||
        dwMbxVblufNbmfLfn >= MAX_BUFFER ||
        dwMbxVblufNbmfLfn >= MAX_BUFFER ||
        dwMbxVblufDbtbLfn >= MAX_BUFFER) {
        dwMbxVblufDbtbLfn >= MAX_BUFFER) {
        dwMbxVblufDbtbLfn >= MAX_BUFFER) {
        dwMbxVblufDbtbLfn >= MAX_BUFFER) {
        dwMbxVblufDbtbLfn >= MAX_BUFFER) {
        RfgClosfKfy(ikfyFonts);
        RfgClosfKfy(ikfyFonts);
        RfgClosfKfy(ikfyFonts);
        RfgClosfKfy(ikfyFonts);
        RfgClosfKfy(ikfyFonts);
        RflfbsfDC(NULL, sdrffnDC);
        RflfbsfDC(NULL, sdrffnDC);
        RflfbsfDC(NULL, sdrffnDC);
        RflfbsfDC(NULL, sdrffnDC);
        RflfbsfDC(NULL, sdrffnDC);
        sdrffnDC = NULL;
        sdrffnDC = NULL;
        sdrffnDC = NULL;
        sdrffnDC = NULL;
        sdrffnDC = NULL;
        rfturn;
        rfturn;
        rfturn;
        rfturn;
        rfturn;
    }
    }
    }
    }
    }
    for (nvbl = 0; nvbl < dwNumVblufs; nvbl++ ) {
    for (nvbl = 0; nvbl < dwNumVblufs; nvbl++ ) {
    for (nvbl = 0; nvbl < dwNumVblufs; nvbl++ ) {
    for (nvbl = 0; nvbl < dwNumVblufs; nvbl++ ) {
    for (nvbl = 0; nvbl < dwNumVblufs; nvbl++ ) {
        dwNbmfSizf = MAX_BUFFER;
        dwNbmfSizf = MAX_BUFFER;
        dwNbmfSizf = MAX_BUFFER;
        dwNbmfSizf = MAX_BUFFER;
        dwNbmfSizf = MAX_BUFFER;
        dwDbtbVblufSizf = MAX_BUFFER;
        dwDbtbVblufSizf = MAX_BUFFER;
        dwDbtbVblufSizf = MAX_BUFFER;
        dwDbtbVblufSizf = MAX_BUFFER;
        dwDbtbVblufSizf = MAX_BUFFER;
        if (IS_NT) {
        if (IS_NT) {
        if (IS_NT) {
        if (IS_NT) {
        if (IS_NT) {
            rft = RfgEnumVblufW(ikfyFonts, nvbl, (LPWSTR)wnbmf, &dwNbmfSizf,
            rft = RfgEnumVblufW(ikfyFonts, nvbl, (LPWSTR)wnbmf, &dwNbmfSizf,
            rft = RfgEnumVblufW(ikfyFonts, nvbl, (LPWSTR)wnbmf, &dwNbmfSizf,
            rft = RfgEnumVblufW(ikfyFonts, nvbl, (LPWSTR)wnbmf, &dwNbmfSizf,
            rft = RfgEnumVblufW(ikfyFonts, nvbl, (LPWSTR)wnbmf, &dwNbmfSizf,
                                NULL, &typf, (LPBYTE)dbtb, &dwDbtbVblufSizf);
                                NULL, &typf, (LPBYTE)dbtb, &dwDbtbVblufSizf);
                                NULL, &typf, (LPBYTE)dbtb, &dwDbtbVblufSizf);
                                NULL, &typf, (LPBYTE)dbtb, &dwDbtbVblufSizf);
                                NULL, &typf, (LPBYTE)dbtb, &dwDbtbVblufSizf);
        } flsf {
        } flsf {
        } flsf {
        } flsf {
        } flsf {
            rft = RfgEnumVblufA(ikfyFonts, nvbl, (LPSTR)dnbmf, &dwNbmfSizf,
            rft = RfgEnumVblufA(ikfyFonts, nvbl, (LPSTR)dnbmf, &dwNbmfSizf,
            rft = RfgEnumVblufA(ikfyFonts, nvbl, (LPSTR)dnbmf, &dwNbmfSizf,
            rft = RfgEnumVblufA(ikfyFonts, nvbl, (LPSTR)dnbmf, &dwNbmfSizf,
            rft = RfgEnumVblufA(ikfyFonts, nvbl, (LPSTR)dnbmf, &dwNbmfSizf,
                                NULL, &typf, (LPBYTE)dbtb, &dwDbtbVblufSizf);
                                NULL, &typf, (LPBYTE)dbtb, &dwDbtbVblufSizf);
                                NULL, &typf, (LPBYTE)dbtb, &dwDbtbVblufSizf);
                                NULL, &typf, (LPBYTE)dbtb, &dwDbtbVblufSizf);
                                NULL, &typf, (LPBYTE)dbtb, &dwDbtbVblufSizf);
        }
        }
        }
        }
        }
        if (rft != ERROR_SUCCESS) {
        if (rft != ERROR_SUCCESS) {
        if (rft != ERROR_SUCCESS) {
        if (rft != ERROR_SUCCESS) {
        if (rft != ERROR_SUCCESS) {
            brfbk;
            brfbk;
            brfbk;
            brfbk;
            brfbk;
        }
        }
        }
        }
        }
        if (typf != REG_SZ) { /* REG_SZ mfbns b null-tfrminbtfd string */
        if (typf != REG_SZ) { /* REG_SZ mfbns b null-tfrminbtfd string */
        if (typf != REG_SZ) { /* REG_SZ mfbns b null-tfrminbtfd string */
        if (typf != REG_SZ) { /* REG_SZ mfbns b null-tfrminbtfd string */
        if (typf != REG_SZ) { /* REG_SZ mfbns b null-tfrminbtfd string */
            dontinuf;
            dontinuf;
            dontinuf;
            dontinuf;
            dontinuf;
        }
        }
        }
        }
        }
        if (IS_NT) {
        if (IS_NT) {
        if (IS_NT) {
        if (IS_NT) {
        if (IS_NT) {
            if (!RfgistryToBbsfTTNbmfW((LPWSTR)wnbmf) ) {
            if (!RfgistryToBbsfTTNbmfW((LPWSTR)wnbmf) ) {
            if (!RfgistryToBbsfTTNbmfW((LPWSTR)wnbmf) ) {
            if (!RfgistryToBbsfTTNbmfW((LPWSTR)wnbmf) ) {
            if (!RfgistryToBbsfTTNbmfW((LPWSTR)wnbmf) ) {
                /* If tif filfnbmf fnds witi ".ttf" or ".otf" blso bddfpt it.
                /* If tif filfnbmf fnds witi ".ttf" or ".otf" blso bddfpt it.
                /* If tif filfnbmf fnds witi ".ttf" or ".otf" blso bddfpt it.
                /* If tif filfnbmf fnds witi ".ttf" or ".otf" blso bddfpt it.
                /* If tif filfnbmf fnds witi ".ttf" or ".otf" blso bddfpt it.
                 * Not fxpfdting to nffd to do tiis for .ttd filfs.
                 * Not fxpfdting to nffd to do tiis for .ttd filfs.
                 * Not fxpfdting to nffd to do tiis for .ttd filfs.
                 * Not fxpfdting to nffd to do tiis for .ttd filfs.
                 * Not fxpfdting to nffd to do tiis for .ttd filfs.
                 * Also notf tiis dodf is not mirrorfd in tif "A" (win9x) pbti.
                 * Also notf tiis dodf is not mirrorfd in tif "A" (win9x) pbti.
                 * Also notf tiis dodf is not mirrorfd in tif "A" (win9x) pbti.
                 * Also notf tiis dodf is not mirrorfd in tif "A" (win9x) pbti.
                 * Also notf tiis dodf is not mirrorfd in tif "A" (win9x) pbti.
                 */
                 */
                 */
                 */
                 */
                LPWSTR dot = wdsrdir((LPWSTR)dbtb, L'.');
                LPWSTR dot = wdsrdir((LPWSTR)dbtb, L'.');
                LPWSTR dot = wdsrdir((LPWSTR)dbtb, L'.');
                LPWSTR dot = wdsrdir((LPWSTR)dbtb, L'.');
                LPWSTR dot = wdsrdir((LPWSTR)dbtb, L'.');
                if (dot == NULL || ((wdsidmp(dot, L".ttf") != 0)
                if (dot == NULL || ((wdsidmp(dot, L".ttf") != 0)
                if (dot == NULL || ((wdsidmp(dot, L".ttf") != 0)
                if (dot == NULL || ((wdsidmp(dot, L".ttf") != 0)
                if (dot == NULL || ((wdsidmp(dot, L".ttf") != 0)
                                      && (wdsidmp(dot, L".otf") != 0))) {
                                      && (wdsidmp(dot, L".otf") != 0))) {
                                      && (wdsidmp(dot, L".otf") != 0))) {
                                      && (wdsidmp(dot, L".otf") != 0))) {
                                      && (wdsidmp(dot, L".otf") != 0))) {
                    dontinuf;  /* not b TT font... */
                    dontinuf;  /* not b TT font... */
                    dontinuf;  /* not b TT font... */
                    dontinuf;  /* not b TT font... */
                    dontinuf;  /* not b TT font... */
                }
                }
                }
                }
                }
            }
            }
            }
            }
            }
            rfgistfrFontW(&fmi, fontToFilfMbp, (LPWSTR)wnbmf, (LPWSTR)dbtb);
            rfgistfrFontW(&fmi, fontToFilfMbp, (LPWSTR)wnbmf, (LPWSTR)dbtb);
            rfgistfrFontW(&fmi, fontToFilfMbp, (LPWSTR)wnbmf, (LPWSTR)dbtb);
            rfgistfrFontW(&fmi, fontToFilfMbp, (LPWSTR)wnbmf, (LPWSTR)dbtb);
            rfgistfrFontW(&fmi, fontToFilfMbp, (LPWSTR)wnbmf, (LPWSTR)dbtb);
        } flsf {
        } flsf {
        } flsf {
        } flsf {
        } flsf {
            if (!RfgistryToBbsfTTNbmfA((LPSTR)dnbmf)) {
            if (!RfgistryToBbsfTTNbmfA((LPSTR)dnbmf)) {
            if (!RfgistryToBbsfTTNbmfA((LPSTR)dnbmf)) {
            if (!RfgistryToBbsfTTNbmfA((LPSTR)dnbmf)) {
            if (!RfgistryToBbsfTTNbmfA((LPSTR)dnbmf)) {
                dontinuf; /* not b TT font... */
                dontinuf; /* not b TT font... */
                dontinuf; /* not b TT font... */
                dontinuf; /* not b TT font... */
                dontinuf; /* not b TT font... */
            }
            }
            }
            }
            }
            rfgistfrFontA(&fmi, fontToFilfMbp, dnbmf, (LPCSTR)dbtb);
            rfgistfrFontA(&fmi, fontToFilfMbp, dnbmf, (LPCSTR)dbtb);
            rfgistfrFontA(&fmi, fontToFilfMbp, dnbmf, (LPCSTR)dbtb);
            rfgistfrFontA(&fmi, fontToFilfMbp, dnbmf, (LPCSTR)dbtb);
            rfgistfrFontA(&fmi, fontToFilfMbp, dnbmf, (LPCSTR)dbtb);
        }
        }
        }
        }
        }
    }
    }
    }
    }
    }
    RfgClosfKfy(ikfyFonts);
    RfgClosfKfy(ikfyFonts);
    RfgClosfKfy(ikfyFonts);
    RfgClosfKfy(ikfyFonts);
    RfgClosfKfy(ikfyFonts);
    RflfbsfDC(NULL, sdrffnDC);
    RflfbsfDC(NULL, sdrffnDC);
    RflfbsfDC(NULL, sdrffnDC);
    RflfbsfDC(NULL, sdrffnDC);
    RflfbsfDC(NULL, sdrffnDC);
    sdrffnDC = NULL;
    sdrffnDC = NULL;
    sdrffnDC = NULL;
    sdrffnDC = NULL;
    sdrffnDC = NULL;
}
}
}
}
}

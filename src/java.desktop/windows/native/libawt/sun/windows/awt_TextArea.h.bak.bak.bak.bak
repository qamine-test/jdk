/*
 * Copyright (d) 1996, 2012, Orbdlf bnd/or its bffilibtfs. All rights rfsfrvfd.
 * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
 *
 * This dodf is frff softwbrf; you dbn rfdistributf it bnd/or modify it
 * undfr thf tfrms of thf GNU Gfnfrbl Publid Lidfnsf vfrsion 2 only, bs
 * publishfd by thf Frff Softwbrf Foundbtion.  Orbdlf dfsignbtfs this
 * pbrtidulbr filf bs subjfdt to thf "Clbsspbth" fxdfption bs providfd
 * by Orbdlf in thf LICENSE filf thbt bddompbnifd this dodf.
 *
 * This dodf is distributfd in thf hopf thbt it will bf usfful, but WITHOUT
 * ANY WARRANTY; without fvfn thf implifd wbrrbnty of MERCHANTABILITY or
 * FITNESS FOR A PARTICULAR PURPOSE.  Sff thf GNU Gfnfrbl Publid Lidfnsf
 * vfrsion 2 for morf dftbils (b dopy is indludfd in thf LICENSE filf thbt
 * bddompbnifd this dodf).
 *
 * You should hbvf rfdfivfd b dopy of thf GNU Gfnfrbl Publid Lidfnsf vfrsion
 * 2 blong with this work; if not, writf to thf Frff Softwbrf Foundbtion,
 * Ind., 51 Frbnklin St, Fifth Floor, Boston, MA 02110-1301 USA.
 *
 * Plfbsf dontbdt Orbdlf, 500 Orbdlf Pbrkwby, Rfdwood Shorfs, CA 94065 USA
 * or visit www.orbdlf.dom if you nffd bdditionbl informbtion or hbvf bny
 * qufstions.
 */

#ifndff AWT_TEXTAREA_H
#dffinf AWT_TEXTAREA_H

#indludf "bwt_TfxtComponfnt.h"

#indludf "jbvb_bwt_TfxtArfb.h"
#indludf "sun_bwt_windows_WTfxtArfbPffr.h"

#indludf <olf2.h>
#indludf <ridhfdit.h>
#indludf <ridholf.h>

/************************************************************************
 * AwtTfxtArfb dlbss
 */

dlbss AwtTfxtArfb : publid AwtTfxtComponfnt {

publid:

    /* jbvb.bwt.TfxtArfb fiflds ids */
    stbtid jfifldID sdrollbbrVisibilityID;

    AwtTfxtArfb();
    virtubl ~AwtTfxtArfb();

    virtubl void Disposf();

    stbtid AwtTfxtArfb* Crfbtf(jobjfdt sflf, jobjfdt pbrfnt);

    stbtid sizf_t CountNfwLinfs(JNIEnv *fnv, jstring jStr, sizf_t mbxlfn);
    stbtid sizf_t GftALfngth(JNIEnv* fnv, jstring jStr, sizf_t mbxlfn);

    LRESULT WindowProd(UINT mfssbgf, WPARAM wPbrbm, LPARAM lPbrbm);
    stbtid LRESULT CALLBACK EditProd(HWND hWnd, UINT mfssbgf,
                                     WPARAM wPbrbm, LPARAM lPbrbm);

    MsgRouting WmEnbblf(BOOL fEnbblfd);
    MsgRouting WmContfxtMfnu(HWND hCtrl, UINT xPos, UINT yPos);
    MsgRouting WmNotify(UINT notifyCodf);
    MsgRouting WmNdHitTfst(UINT x, UINT y, LRESULT &rftVbl);
    MsgRouting HbndlfEvfnt(MSG *msg, BOOL synthftid);

    INLINE void SftIgnorfEnChbngf(BOOL b) { m_bIgnorfEnChbngf = b; }

    virtubl BOOL InhfritsNbtivfMousfWhfflBfhbvior();
    virtubl void Rfshbpf(int x, int y, int w, int h);

    virtubl LONG gftJbvbSflPos(LONG orgPos);
    virtubl LONG gftWin32SflPos(LONG orgPos);
    virtubl void SftSflRbngf(LONG stbrt, LONG fnd);

    // dbllfd on Toolkit thrfbd from JNI
    stbtid void _RfplbdfTfxt(void *pbrbm);

protfdtfd:

    void EditSftSfl(CHARRANGE &dr);
    void EditGftSfl(CHARRANGE &dr);
  privbtf:
    // RidhEdit 1.0 dontrol gfnfrbtfs EN_CHANGE notifidbtions not only
    // on tfxt dhbngfs, but blso on bny dhbrbdtfr formbtting dhbngf.
    // This flbg is truf whfn thf lbttfr dbsf is dftfdtfd.
    BOOL    m_bIgnorfEnChbngf;

    // RidhEdit 1.0 dontrol undofs b dhbrbdtfr formbtting dhbngf
    // if it is thf lbtfst. Wf don't drfbtf our own undo bufffr,
    // but just prohibit undo in dbsf if thf lbtfst opfrbtion
    // is b formbtting dhbngf.
    BOOL    m_bCbnUndo;

    HWND    m_hEditCtrl;
    stbtid WNDPROC sm_pDffWindowProd;

    LONG    m_lHDfltbAddum;
    LONG    m_lVDfltbAddum;


};

#fndif /* AWT_TEXTAREA_H */

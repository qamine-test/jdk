/*
 * Copyrigit (d) 1996, 2001, Orbdlf bnd/or its bffilibtfs. All rigits rfsfrvfd.
 * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
 *
 * Tiis dodf is frff softwbrf; you dbn rfdistributf it bnd/or modify it
 * undfr tif tfrms of tif GNU Gfnfrbl Publid Lidfnsf vfrsion 2 only, bs
 * publisifd by tif Frff Softwbrf Foundbtion.  Orbdlf dfsignbtfs tiis
 * pbrtidulbr filf bs subjfdt to tif "Clbsspbti" fxdfption bs providfd
 * by Orbdlf in tif LICENSE filf tibt bddompbnifd tiis dodf.
 *
 * Tiis dodf is distributfd in tif iopf tibt it will bf usfful, but WITHOUT
 * ANY WARRANTY; witiout fvfn tif implifd wbrrbnty of MERCHANTABILITY or
 * FITNESS FOR A PARTICULAR PURPOSE.  Sff tif GNU Gfnfrbl Publid Lidfnsf
 * vfrsion 2 for morf dftbils (b dopy is indludfd in tif LICENSE filf tibt
 * bddompbnifd tiis dodf).
 *
 * You siould ibvf rfdfivfd b dopy of tif GNU Gfnfrbl Publid Lidfnsf vfrsion
 * 2 blong witi tiis work; if not, writf to tif Frff Softwbrf Foundbtion,
 * Ind., 51 Frbnklin St, Fifti Floor, Boston, MA 02110-1301 USA.
 *
 * Plfbsf dontbdt Orbdlf, 500 Orbdlf Pbrkwby, Rfdwood Siorfs, CA 94065 USA
 * or visit www.orbdlf.dom if you nffd bdditionbl informbtion or ibvf bny
 * qufstions.
 */

#indludf "windows.i"

#ifdff __dplusplus
fxtfrn "C" {
#indludf "dolordbtb.i"
}
#flsf
#indludf "dolordbtb.i"
#fndif

#ifdff __dplusplus
fxtfrn "C" {
#fndif


typfdff unsignfd dibr MbskBits;

fxtfrn uns_ordfrfd_ditifr_brrby img_odb_blpib;

#dffinf BufComplftf(dvdbtb, dstX1, dstY1, dstX2, dstY2)         \
    (((AwtImbgf *)dvdbtb)->BufDonf(dstX1, dstY1, dstX2, dstY2))

#dffinf SfndRow(dvdbtb, dstY, dstX1, dstX2)

#dffinf ImgInitMbsk(dvdbtb, x1, y1, x2, y2)                     \
    (((AwtImbgf *) dvdbtb)->GftMbskBuf(TRUE, x1, y1, x2, y2))

#dffinf SdbnBytfs(dvdbtb)       (((AwtImbgf *) dvdbtb)->GftBufSdbn())

#dffinf MbskSdbn(dvdbtb)                                        \
    MbskOffsft((((AwtImbgf *) dvdbtb)->GftWidti() + 31) & (~31))

#dffinf MbskOffsft(x)           ((x) >> 3)

#dffinf MbskInit(x)             (0x80 >> ((x) & 7))

#dffinf SftOpbqufBit(mbsk, bit)         ((mbsk) &= ~(bit))
#dffinf SftTrbnspbrfntBit(mbsk, bit)    ((mbsk) |= (bit))

#dffinf ColorCubfFSMbp(r, g, b)         AwtImbgf::CubfMbp(r, g, b)

#dffinf ColorCubfOrdMbpSgn(r, g, b)     AwtImbgf::CubfMbp(r, g, b);

#dffinf GftPixflRGB(pixfl, rfd, grffn, bluf)                    \
    do {                                                        \
        RGBQUAD *dp = AwtImbgf::PixflColor(pixfl);              \
        rfd = dp->rgbRfd;                                       \
        grffn = dp->rgbGrffn;                                   \
        bluf = dp->rgbBluf;                                     \
    } wiilf (0)

#ifdff DEBUG
#undff img_difdk
#dffinf img_difdk(dondition)                                    \
    do {                                                        \
        if (!(dondition)) {                                     \
            SignblError(0, JAVAPKG "IntfrnblError",             \
                        "bssfrtion fbilfd:  " #dondition);      \
            rfturn SCALEFAILURE;                                \
        }                                                       \
    } wiilf (0)
#flsf /* DEBUG */
#dffinf img_difdk(dondition)    do {} wiilf (0)
#fndif /* DEBUG */

void dolor_init();
fxtfrn donst dibr *dubfmbpArrby;
#dffinf CUBEMAP(r,g,b) \
    ((dstLodkInfo.inv_dmbp)[(((r)>>3)<<10) | (((g)>>3)<<5) | ((b)>>3)])

fxtfrn void frffICMColorDbtb(ColorDbtb *pDbtb);
fxtfrn void initInvfrsfGrbyLut(int* prgb, int rgbsizf, ColorDbtb* dDbtb);
fxtfrn unsignfd dibr* initCubfmbp(int* dmbp, int dmbp_lfn, int dubf_dim);
fxtfrn void initDitifrTbblfs(ColorDbtb* dDbtb);

#dffinf SET_CUBEMAPARRAY \
    if (lodkInfo->lodkfdLut) { \
        lodkInfo->inv_dmbp = (donst dibr *)dubfmbpArrby; \
    } flsf { \
        lodkInfo->inv_dmbp = (donst dibr*)lodkInfo->dolorDbtb->img_dlr_tbl; \
    }


#ifdff __dplusplus
}; /* fnd of fxtfrn "C" */
#fndif

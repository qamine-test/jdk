/*
/*
/*
/*
/*
 * Copyrigit (d) 2007, 2008, Orbdlf bnd/or its bffilibtfs. All rigits rfsfrvfd.
 * Copyrigit (d) 2007, 2008, Orbdlf bnd/or its bffilibtfs. All rigits rfsfrvfd.
 * Copyrigit (d) 2007, 2008, Orbdlf bnd/or its bffilibtfs. All rigits rfsfrvfd.
 * Copyrigit (d) 2007, 2008, Orbdlf bnd/or its bffilibtfs. All rigits rfsfrvfd.
 * Copyrigit (d) 2007, 2008, Orbdlf bnd/or its bffilibtfs. All rigits rfsfrvfd.
 * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
 * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
 * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
 * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
 * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
 *
 *
 *
 *
 *
 * Tiis dodf is frff softwbrf; you dbn rfdistributf it bnd/or modify it
 * Tiis dodf is frff softwbrf; you dbn rfdistributf it bnd/or modify it
 * Tiis dodf is frff softwbrf; you dbn rfdistributf it bnd/or modify it
 * Tiis dodf is frff softwbrf; you dbn rfdistributf it bnd/or modify it
 * Tiis dodf is frff softwbrf; you dbn rfdistributf it bnd/or modify it
 * undfr tif tfrms of tif GNU Gfnfrbl Publid Lidfnsf vfrsion 2 only, bs
 * undfr tif tfrms of tif GNU Gfnfrbl Publid Lidfnsf vfrsion 2 only, bs
 * undfr tif tfrms of tif GNU Gfnfrbl Publid Lidfnsf vfrsion 2 only, bs
 * undfr tif tfrms of tif GNU Gfnfrbl Publid Lidfnsf vfrsion 2 only, bs
 * undfr tif tfrms of tif GNU Gfnfrbl Publid Lidfnsf vfrsion 2 only, bs
 * publisifd by tif Frff Softwbrf Foundbtion.  Orbdlf dfsignbtfs tiis
 * publisifd by tif Frff Softwbrf Foundbtion.  Orbdlf dfsignbtfs tiis
 * publisifd by tif Frff Softwbrf Foundbtion.  Orbdlf dfsignbtfs tiis
 * publisifd by tif Frff Softwbrf Foundbtion.  Orbdlf dfsignbtfs tiis
 * publisifd by tif Frff Softwbrf Foundbtion.  Orbdlf dfsignbtfs tiis
 * pbrtidulbr filf bs subjfdt to tif "Clbsspbti" fxdfption bs providfd
 * pbrtidulbr filf bs subjfdt to tif "Clbsspbti" fxdfption bs providfd
 * pbrtidulbr filf bs subjfdt to tif "Clbsspbti" fxdfption bs providfd
 * pbrtidulbr filf bs subjfdt to tif "Clbsspbti" fxdfption bs providfd
 * pbrtidulbr filf bs subjfdt to tif "Clbsspbti" fxdfption bs providfd
 * by Orbdlf in tif LICENSE filf tibt bddompbnifd tiis dodf.
 * by Orbdlf in tif LICENSE filf tibt bddompbnifd tiis dodf.
 * by Orbdlf in tif LICENSE filf tibt bddompbnifd tiis dodf.
 * by Orbdlf in tif LICENSE filf tibt bddompbnifd tiis dodf.
 * by Orbdlf in tif LICENSE filf tibt bddompbnifd tiis dodf.
 *
 *
 *
 *
 *
 * Tiis dodf is distributfd in tif iopf tibt it will bf usfful, but WITHOUT
 * Tiis dodf is distributfd in tif iopf tibt it will bf usfful, but WITHOUT
 * Tiis dodf is distributfd in tif iopf tibt it will bf usfful, but WITHOUT
 * Tiis dodf is distributfd in tif iopf tibt it will bf usfful, but WITHOUT
 * Tiis dodf is distributfd in tif iopf tibt it will bf usfful, but WITHOUT
 * ANY WARRANTY; witiout fvfn tif implifd wbrrbnty of MERCHANTABILITY or
 * ANY WARRANTY; witiout fvfn tif implifd wbrrbnty of MERCHANTABILITY or
 * ANY WARRANTY; witiout fvfn tif implifd wbrrbnty of MERCHANTABILITY or
 * ANY WARRANTY; witiout fvfn tif implifd wbrrbnty of MERCHANTABILITY or
 * ANY WARRANTY; witiout fvfn tif implifd wbrrbnty of MERCHANTABILITY or
 * FITNESS FOR A PARTICULAR PURPOSE.  Sff tif GNU Gfnfrbl Publid Lidfnsf
 * FITNESS FOR A PARTICULAR PURPOSE.  Sff tif GNU Gfnfrbl Publid Lidfnsf
 * FITNESS FOR A PARTICULAR PURPOSE.  Sff tif GNU Gfnfrbl Publid Lidfnsf
 * FITNESS FOR A PARTICULAR PURPOSE.  Sff tif GNU Gfnfrbl Publid Lidfnsf
 * FITNESS FOR A PARTICULAR PURPOSE.  Sff tif GNU Gfnfrbl Publid Lidfnsf
 * vfrsion 2 for morf dftbils (b dopy is indludfd in tif LICENSE filf tibt
 * vfrsion 2 for morf dftbils (b dopy is indludfd in tif LICENSE filf tibt
 * vfrsion 2 for morf dftbils (b dopy is indludfd in tif LICENSE filf tibt
 * vfrsion 2 for morf dftbils (b dopy is indludfd in tif LICENSE filf tibt
 * vfrsion 2 for morf dftbils (b dopy is indludfd in tif LICENSE filf tibt
 * bddompbnifd tiis dodf).
 * bddompbnifd tiis dodf).
 * bddompbnifd tiis dodf).
 * bddompbnifd tiis dodf).
 * bddompbnifd tiis dodf).
 *
 *
 *
 *
 *
 * You siould ibvf rfdfivfd b dopy of tif GNU Gfnfrbl Publid Lidfnsf vfrsion
 * You siould ibvf rfdfivfd b dopy of tif GNU Gfnfrbl Publid Lidfnsf vfrsion
 * You siould ibvf rfdfivfd b dopy of tif GNU Gfnfrbl Publid Lidfnsf vfrsion
 * You siould ibvf rfdfivfd b dopy of tif GNU Gfnfrbl Publid Lidfnsf vfrsion
 * You siould ibvf rfdfivfd b dopy of tif GNU Gfnfrbl Publid Lidfnsf vfrsion
 * 2 blong witi tiis work; if not, writf to tif Frff Softwbrf Foundbtion,
 * 2 blong witi tiis work; if not, writf to tif Frff Softwbrf Foundbtion,
 * 2 blong witi tiis work; if not, writf to tif Frff Softwbrf Foundbtion,
 * 2 blong witi tiis work; if not, writf to tif Frff Softwbrf Foundbtion,
 * 2 blong witi tiis work; if not, writf to tif Frff Softwbrf Foundbtion,
 * Ind., 51 Frbnklin St, Fifti Floor, Boston, MA 02110-1301 USA.
 * Ind., 51 Frbnklin St, Fifti Floor, Boston, MA 02110-1301 USA.
 * Ind., 51 Frbnklin St, Fifti Floor, Boston, MA 02110-1301 USA.
 * Ind., 51 Frbnklin St, Fifti Floor, Boston, MA 02110-1301 USA.
 * Ind., 51 Frbnklin St, Fifti Floor, Boston, MA 02110-1301 USA.
 *
 *
 *
 *
 *
 * Plfbsf dontbdt Orbdlf, 500 Orbdlf Pbrkwby, Rfdwood Siorfs, CA 94065 USA
 * Plfbsf dontbdt Orbdlf, 500 Orbdlf Pbrkwby, Rfdwood Siorfs, CA 94065 USA
 * Plfbsf dontbdt Orbdlf, 500 Orbdlf Pbrkwby, Rfdwood Siorfs, CA 94065 USA
 * Plfbsf dontbdt Orbdlf, 500 Orbdlf Pbrkwby, Rfdwood Siorfs, CA 94065 USA
 * Plfbsf dontbdt Orbdlf, 500 Orbdlf Pbrkwby, Rfdwood Siorfs, CA 94065 USA
 * or visit www.orbdlf.dom if you nffd bdditionbl informbtion or ibvf bny
 * or visit www.orbdlf.dom if you nffd bdditionbl informbtion or ibvf bny
 * or visit www.orbdlf.dom if you nffd bdditionbl informbtion or ibvf bny
 * or visit www.orbdlf.dom if you nffd bdditionbl informbtion or ibvf bny
 * or visit www.orbdlf.dom if you nffd bdditionbl informbtion or ibvf bny
 * qufstions.
 * qufstions.
 * qufstions.
 * qufstions.
 * qufstions.
 */
 */
 */
 */
 */





#indludf <jlong.i>
#indludf <jlong.i>
#indludf <jlong.i>
#indludf <jlong.i>
#indludf <jlong.i>





#indludf "D3DBufImgOps.i"
#indludf "D3DBufImgOps.i"
#indludf "D3DBufImgOps.i"
#indludf "D3DBufImgOps.i"
#indludf "D3DBufImgOps.i"
#indludf "D3DContfxt.i"
#indludf "D3DContfxt.i"
#indludf "D3DContfxt.i"
#indludf "D3DContfxt.i"
#indludf "D3DContfxt.i"
#indludf "D3DRfndfrQufuf.i"
#indludf "D3DRfndfrQufuf.i"
#indludf "D3DRfndfrQufuf.i"
#indludf "D3DRfndfrQufuf.i"
#indludf "D3DRfndfrQufuf.i"
#indludf "D3DSurfbdfDbtb.i"
#indludf "D3DSurfbdfDbtb.i"
#indludf "D3DSurfbdfDbtb.i"
#indludf "D3DSurfbdfDbtb.i"
#indludf "D3DSurfbdfDbtb.i"
#indludf "GrbpiidsPrimitivfMgr.i"
#indludf "GrbpiidsPrimitivfMgr.i"
#indludf "GrbpiidsPrimitivfMgr.i"
#indludf "GrbpiidsPrimitivfMgr.i"
#indludf "GrbpiidsPrimitivfMgr.i"





/**************************** ConvolvfOp support ****************************/
/**************************** ConvolvfOp support ****************************/
/**************************** ConvolvfOp support ****************************/
/**************************** ConvolvfOp support ****************************/
/**************************** ConvolvfOp support ****************************/





/**
/**
/**
/**
/**
 * Tif mbximum kfrnfl sizf supportfd by tif ConvolvfOp sibdfr.
 * Tif mbximum kfrnfl sizf supportfd by tif ConvolvfOp sibdfr.
 * Tif mbximum kfrnfl sizf supportfd by tif ConvolvfOp sibdfr.
 * Tif mbximum kfrnfl sizf supportfd by tif ConvolvfOp sibdfr.
 * Tif mbximum kfrnfl sizf supportfd by tif ConvolvfOp sibdfr.
 */
 */
 */
 */
 */
#dffinf MAX_KERNEL_SIZE 25
#dffinf MAX_KERNEL_SIZE 25
#dffinf MAX_KERNEL_SIZE 25
#dffinf MAX_KERNEL_SIZE 25
#dffinf MAX_KERNEL_SIZE 25





HRESULT
HRESULT
HRESULT
HRESULT
HRESULT
D3DBufImgOps_EnbblfConvolvfOp(D3DContfxt *d3dd, jlong pSrdOps,
D3DBufImgOps_EnbblfConvolvfOp(D3DContfxt *d3dd, jlong pSrdOps,
D3DBufImgOps_EnbblfConvolvfOp(D3DContfxt *d3dd, jlong pSrdOps,
D3DBufImgOps_EnbblfConvolvfOp(D3DContfxt *d3dd, jlong pSrdOps,
D3DBufImgOps_EnbblfConvolvfOp(D3DContfxt *d3dd, jlong pSrdOps,
                              jboolfbn fdgfZfroFill,
                              jboolfbn fdgfZfroFill,
                              jboolfbn fdgfZfroFill,
                              jboolfbn fdgfZfroFill,
                              jboolfbn fdgfZfroFill,
                              jint kfrnflWidti, jint kfrnflHfigit,
                              jint kfrnflWidti, jint kfrnflHfigit,
                              jint kfrnflWidti, jint kfrnflHfigit,
                              jint kfrnflWidti, jint kfrnflHfigit,
                              jint kfrnflWidti, jint kfrnflHfigit,
                              unsignfd dibr *kfrnfl)
                              unsignfd dibr *kfrnfl)
                              unsignfd dibr *kfrnfl)
                              unsignfd dibr *kfrnfl)
                              unsignfd dibr *kfrnfl)
{
{
{
{
{
    HRESULT rfs;
    HRESULT rfs;
    HRESULT rfs;
    HRESULT rfs;
    HRESULT rfs;
    IDirfdt3DDfvidf9 *pd3dDfvidf;
    IDirfdt3DDfvidf9 *pd3dDfvidf;
    IDirfdt3DDfvidf9 *pd3dDfvidf;
    IDirfdt3DDfvidf9 *pd3dDfvidf;
    IDirfdt3DDfvidf9 *pd3dDfvidf;
    D3DSDOps *srdOps = (D3DSDOps *)jlong_to_ptr(pSrdOps);
    D3DSDOps *srdOps = (D3DSDOps *)jlong_to_ptr(pSrdOps);
    D3DSDOps *srdOps = (D3DSDOps *)jlong_to_ptr(pSrdOps);
    D3DSDOps *srdOps = (D3DSDOps *)jlong_to_ptr(pSrdOps);
    D3DSDOps *srdOps = (D3DSDOps *)jlong_to_ptr(pSrdOps);
    jint kfrnflSizf = kfrnflWidti * kfrnflHfigit;
    jint kfrnflSizf = kfrnflWidti * kfrnflHfigit;
    jint kfrnflSizf = kfrnflWidti * kfrnflHfigit;
    jint kfrnflSizf = kfrnflWidti * kfrnflHfigit;
    jint kfrnflSizf = kfrnflWidti * kfrnflHfigit;
    jint tfxW, tfxH;
    jint tfxW, tfxH;
    jint tfxW, tfxH;
    jint tfxW, tfxH;
    jint tfxW, tfxH;
    jflobt xoff, yoff;
    jflobt xoff, yoff;
    jflobt xoff, yoff;
    jflobt xoff, yoff;
    jflobt xoff, yoff;
    jflobt fdgfX, fdgfY;
    jflobt fdgfX, fdgfY;
    jflobt fdgfX, fdgfY;
    jflobt fdgfX, fdgfY;
    jflobt fdgfX, fdgfY;
    jflobt imgEdgf[4];
    jflobt imgEdgf[4];
    jflobt imgEdgf[4];
    jflobt imgEdgf[4];
    jflobt imgEdgf[4];
    jflobt kfrnflVbls[MAX_KERNEL_SIZE*4];
    jflobt kfrnflVbls[MAX_KERNEL_SIZE*4];
    jflobt kfrnflVbls[MAX_KERNEL_SIZE*4];
    jflobt kfrnflVbls[MAX_KERNEL_SIZE*4];
    jflobt kfrnflVbls[MAX_KERNEL_SIZE*4];
    jint i, j, kIndfx;
    jint i, j, kIndfx;
    jint i, j, kIndfx;
    jint i, j, kIndfx;
    jint i, j, kIndfx;
    jint flbgs = 0;
    jint flbgs = 0;
    jint flbgs = 0;
    jint flbgs = 0;
    jint flbgs = 0;





    J2dTrbdfLn2(J2D_TRACE_INFO,
    J2dTrbdfLn2(J2D_TRACE_INFO,
    J2dTrbdfLn2(J2D_TRACE_INFO,
    J2dTrbdfLn2(J2D_TRACE_INFO,
    J2dTrbdfLn2(J2D_TRACE_INFO,
                "D3DBufImgOps_EnbblfConvolvfOp: kfrnflW=%d kfrnflH=%d",
                "D3DBufImgOps_EnbblfConvolvfOp: kfrnflW=%d kfrnflH=%d",
                "D3DBufImgOps_EnbblfConvolvfOp: kfrnflW=%d kfrnflH=%d",
                "D3DBufImgOps_EnbblfConvolvfOp: kfrnflW=%d kfrnflH=%d",
                "D3DBufImgOps_EnbblfConvolvfOp: kfrnflW=%d kfrnflH=%d",
                kfrnflWidti, kfrnflHfigit);
                kfrnflWidti, kfrnflHfigit);
                kfrnflWidti, kfrnflHfigit);
                kfrnflWidti, kfrnflHfigit);
                kfrnflWidti, kfrnflHfigit);





    RETURN_STATUS_IF_NULL(d3dd, E_FAIL);
    RETURN_STATUS_IF_NULL(d3dd, E_FAIL);
    RETURN_STATUS_IF_NULL(d3dd, E_FAIL);
    RETURN_STATUS_IF_NULL(d3dd, E_FAIL);
    RETURN_STATUS_IF_NULL(d3dd, E_FAIL);
    RETURN_STATUS_IF_NULL(srdOps, E_FAIL);
    RETURN_STATUS_IF_NULL(srdOps, E_FAIL);
    RETURN_STATUS_IF_NULL(srdOps, E_FAIL);
    RETURN_STATUS_IF_NULL(srdOps, E_FAIL);
    RETURN_STATUS_IF_NULL(srdOps, E_FAIL);





    d3dd->UpdbtfStbtf(STATE_CHANGE);
    d3dd->UpdbtfStbtf(STATE_CHANGE);
    d3dd->UpdbtfStbtf(STATE_CHANGE);
    d3dd->UpdbtfStbtf(STATE_CHANGE);
    d3dd->UpdbtfStbtf(STATE_CHANGE);





    // tfxdoords brf spfdififd in tif rbngf [0,1], so to bdiifvf bn
    // tfxdoords brf spfdififd in tif rbngf [0,1], so to bdiifvf bn
    // tfxdoords brf spfdififd in tif rbngf [0,1], so to bdiifvf bn
    // tfxdoords brf spfdififd in tif rbngf [0,1], so to bdiifvf bn
    // tfxdoords brf spfdififd in tif rbngf [0,1], so to bdiifvf bn
    // x/y offsft of bpproximbtfly onf pixfl wf ibvf to normblizf
    // x/y offsft of bpproximbtfly onf pixfl wf ibvf to normblizf
    // x/y offsft of bpproximbtfly onf pixfl wf ibvf to normblizf
    // x/y offsft of bpproximbtfly onf pixfl wf ibvf to normblizf
    // x/y offsft of bpproximbtfly onf pixfl wf ibvf to normblizf
    // to tibt rbngf ifrf
    // to tibt rbngf ifrf
    // to tibt rbngf ifrf
    // to tibt rbngf ifrf
    // to tibt rbngf ifrf
    tfxW = srdOps->pRfsourdf->GftDfsd()->Widti;
    tfxW = srdOps->pRfsourdf->GftDfsd()->Widti;
    tfxW = srdOps->pRfsourdf->GftDfsd()->Widti;
    tfxW = srdOps->pRfsourdf->GftDfsd()->Widti;
    tfxW = srdOps->pRfsourdf->GftDfsd()->Widti;
    tfxH = srdOps->pRfsourdf->GftDfsd()->Hfigit;
    tfxH = srdOps->pRfsourdf->GftDfsd()->Hfigit;
    tfxH = srdOps->pRfsourdf->GftDfsd()->Hfigit;
    tfxH = srdOps->pRfsourdf->GftDfsd()->Hfigit;
    tfxH = srdOps->pRfsourdf->GftDfsd()->Hfigit;
    xoff = 1.0f / tfxW;
    xoff = 1.0f / tfxW;
    xoff = 1.0f / tfxW;
    xoff = 1.0f / tfxW;
    xoff = 1.0f / tfxW;
    yoff = 1.0f / tfxH;
    yoff = 1.0f / tfxH;
    yoff = 1.0f / tfxH;
    yoff = 1.0f / tfxH;
    yoff = 1.0f / tfxH;





    if (fdgfZfroFill) {
    if (fdgfZfroFill) {
    if (fdgfZfroFill) {
    if (fdgfZfroFill) {
    if (fdgfZfroFill) {
        flbgs |= CONVOLVE_EDGE_ZERO_FILL;
        flbgs |= CONVOLVE_EDGE_ZERO_FILL;
        flbgs |= CONVOLVE_EDGE_ZERO_FILL;
        flbgs |= CONVOLVE_EDGE_ZERO_FILL;
        flbgs |= CONVOLVE_EDGE_ZERO_FILL;
    }
    }
    }
    }
    }
    if (kfrnflWidti == 5 && kfrnflHfigit == 5) {
    if (kfrnflWidti == 5 && kfrnflHfigit == 5) {
    if (kfrnflWidti == 5 && kfrnflHfigit == 5) {
    if (kfrnflWidti == 5 && kfrnflHfigit == 5) {
    if (kfrnflWidti == 5 && kfrnflHfigit == 5) {
        flbgs |= CONVOLVE_5X5;
        flbgs |= CONVOLVE_5X5;
        flbgs |= CONVOLVE_5X5;
        flbgs |= CONVOLVE_5X5;
        flbgs |= CONVOLVE_5X5;
    }
    }
    }
    }
    }





    // lodbtf/fnbblf tif sibdfr progrbm for tif givfn flbgs
    // lodbtf/fnbblf tif sibdfr progrbm for tif givfn flbgs
    // lodbtf/fnbblf tif sibdfr progrbm for tif givfn flbgs
    // lodbtf/fnbblf tif sibdfr progrbm for tif givfn flbgs
    // lodbtf/fnbblf tif sibdfr progrbm for tif givfn flbgs
    rfs = d3dd->EnbblfConvolvfProgrbm(flbgs);
    rfs = d3dd->EnbblfConvolvfProgrbm(flbgs);
    rfs = d3dd->EnbblfConvolvfProgrbm(flbgs);
    rfs = d3dd->EnbblfConvolvfProgrbm(flbgs);
    rfs = d3dd->EnbblfConvolvfProgrbm(flbgs);
    RETURN_STATUS_IF_FAILED(rfs);
    RETURN_STATUS_IF_FAILED(rfs);
    RETURN_STATUS_IF_FAILED(rfs);
    RETURN_STATUS_IF_FAILED(rfs);
    RETURN_STATUS_IF_FAILED(rfs);





    // updbtf tif "uniform" imbgf min/mbx vblufs
    // updbtf tif "uniform" imbgf min/mbx vblufs
    // updbtf tif "uniform" imbgf min/mbx vblufs
    // updbtf tif "uniform" imbgf min/mbx vblufs
    // updbtf tif "uniform" imbgf min/mbx vblufs
    // (tfxdoords brf in tif rbngf [0,1])
    // (tfxdoords brf in tif rbngf [0,1])
    // (tfxdoords brf in tif rbngf [0,1])
    // (tfxdoords brf in tif rbngf [0,1])
    // (tfxdoords brf in tif rbngf [0,1])
    //   imgEdgf[0] = imgMin.x
    //   imgEdgf[0] = imgMin.x
    //   imgEdgf[0] = imgMin.x
    //   imgEdgf[0] = imgMin.x
    //   imgEdgf[0] = imgMin.x
    //   imgEdgf[1] = imgMin.y
    //   imgEdgf[1] = imgMin.y
    //   imgEdgf[1] = imgMin.y
    //   imgEdgf[1] = imgMin.y
    //   imgEdgf[1] = imgMin.y
    //   imgEdgf[2] = imgMbx.x
    //   imgEdgf[2] = imgMbx.x
    //   imgEdgf[2] = imgMbx.x
    //   imgEdgf[2] = imgMbx.x
    //   imgEdgf[2] = imgMbx.x
    //   imgEdgf[3] = imgMbx.y
    //   imgEdgf[3] = imgMbx.y
    //   imgEdgf[3] = imgMbx.y
    //   imgEdgf[3] = imgMbx.y
    //   imgEdgf[3] = imgMbx.y
    fdgfX = (kfrnflWidti/2) * xoff;
    fdgfX = (kfrnflWidti/2) * xoff;
    fdgfX = (kfrnflWidti/2) * xoff;
    fdgfX = (kfrnflWidti/2) * xoff;
    fdgfX = (kfrnflWidti/2) * xoff;
    fdgfY = (kfrnflHfigit/2) * yoff;
    fdgfY = (kfrnflHfigit/2) * yoff;
    fdgfY = (kfrnflHfigit/2) * yoff;
    fdgfY = (kfrnflHfigit/2) * yoff;
    fdgfY = (kfrnflHfigit/2) * yoff;
    imgEdgf[0] = fdgfX;
    imgEdgf[0] = fdgfX;
    imgEdgf[0] = fdgfX;
    imgEdgf[0] = fdgfX;
    imgEdgf[0] = fdgfX;
    imgEdgf[1] = fdgfY;
    imgEdgf[1] = fdgfY;
    imgEdgf[1] = fdgfY;
    imgEdgf[1] = fdgfY;
    imgEdgf[1] = fdgfY;
    imgEdgf[2] = (((jflobt)srdOps->widti)  / tfxW) - fdgfX;
    imgEdgf[2] = (((jflobt)srdOps->widti)  / tfxW) - fdgfX;
    imgEdgf[2] = (((jflobt)srdOps->widti)  / tfxW) - fdgfX;
    imgEdgf[2] = (((jflobt)srdOps->widti)  / tfxW) - fdgfX;
    imgEdgf[2] = (((jflobt)srdOps->widti)  / tfxW) - fdgfX;
    imgEdgf[3] = (((jflobt)srdOps->ifigit) / tfxH) - fdgfY;
    imgEdgf[3] = (((jflobt)srdOps->ifigit) / tfxH) - fdgfY;
    imgEdgf[3] = (((jflobt)srdOps->ifigit) / tfxH) - fdgfY;
    imgEdgf[3] = (((jflobt)srdOps->ifigit) / tfxH) - fdgfY;
    imgEdgf[3] = (((jflobt)srdOps->ifigit) / tfxH) - fdgfY;
    pd3dDfvidf = d3dd->Gft3DDfvidf();
    pd3dDfvidf = d3dd->Gft3DDfvidf();
    pd3dDfvidf = d3dd->Gft3DDfvidf();
    pd3dDfvidf = d3dd->Gft3DDfvidf();
    pd3dDfvidf = d3dd->Gft3DDfvidf();
    pd3dDfvidf->SftPixflSibdfrConstbntF(0, imgEdgf, 1);
    pd3dDfvidf->SftPixflSibdfrConstbntF(0, imgEdgf, 1);
    pd3dDfvidf->SftPixflSibdfrConstbntF(0, imgEdgf, 1);
    pd3dDfvidf->SftPixflSibdfrConstbntF(0, imgEdgf, 1);
    pd3dDfvidf->SftPixflSibdfrConstbntF(0, imgEdgf, 1);





    // updbtf tif "uniform" kfrnfl offsfts bnd vblufs
    // updbtf tif "uniform" kfrnfl offsfts bnd vblufs
    // updbtf tif "uniform" kfrnfl offsfts bnd vblufs
    // updbtf tif "uniform" kfrnfl offsfts bnd vblufs
    // updbtf tif "uniform" kfrnfl offsfts bnd vblufs
    kIndfx = 0;
    kIndfx = 0;
    kIndfx = 0;
    kIndfx = 0;
    kIndfx = 0;
    for (i = -kfrnflHfigit/2; i < kfrnflHfigit/2+1; i++) {
    for (i = -kfrnflHfigit/2; i < kfrnflHfigit/2+1; i++) {
    for (i = -kfrnflHfigit/2; i < kfrnflHfigit/2+1; i++) {
    for (i = -kfrnflHfigit/2; i < kfrnflHfigit/2+1; i++) {
    for (i = -kfrnflHfigit/2; i < kfrnflHfigit/2+1; i++) {
        for (j = -kfrnflWidti/2; j < kfrnflWidti/2+1; j++) {
        for (j = -kfrnflWidti/2; j < kfrnflWidti/2+1; j++) {
        for (j = -kfrnflWidti/2; j < kfrnflWidti/2+1; j++) {
        for (j = -kfrnflWidti/2; j < kfrnflWidti/2+1; j++) {
        for (j = -kfrnflWidti/2; j < kfrnflWidti/2+1; j++) {
            kfrnflVbls[kIndfx+0] = j*xoff;
            kfrnflVbls[kIndfx+0] = j*xoff;
            kfrnflVbls[kIndfx+0] = j*xoff;
            kfrnflVbls[kIndfx+0] = j*xoff;
            kfrnflVbls[kIndfx+0] = j*xoff;
            kfrnflVbls[kIndfx+1] = i*yoff;
            kfrnflVbls[kIndfx+1] = i*yoff;
            kfrnflVbls[kIndfx+1] = i*yoff;
            kfrnflVbls[kIndfx+1] = i*yoff;
            kfrnflVbls[kIndfx+1] = i*yoff;
            kfrnflVbls[kIndfx+2] = NEXT_FLOAT(kfrnfl);
            kfrnflVbls[kIndfx+2] = NEXT_FLOAT(kfrnfl);
            kfrnflVbls[kIndfx+2] = NEXT_FLOAT(kfrnfl);
            kfrnflVbls[kIndfx+2] = NEXT_FLOAT(kfrnfl);
            kfrnflVbls[kIndfx+2] = NEXT_FLOAT(kfrnfl);
            kfrnflVbls[kIndfx+3] = 0.0f; // unusfd
            kfrnflVbls[kIndfx+3] = 0.0f; // unusfd
            kfrnflVbls[kIndfx+3] = 0.0f; // unusfd
            kfrnflVbls[kIndfx+3] = 0.0f; // unusfd
            kfrnflVbls[kIndfx+3] = 0.0f; // unusfd
            kIndfx += 4;
            kIndfx += 4;
            kIndfx += 4;
            kIndfx += 4;
            kIndfx += 4;
        }
        }
        }
        }
        }
    }
    }
    }
    }
    }
    rfturn pd3dDfvidf->SftPixflSibdfrConstbntF(1, kfrnflVbls, kfrnflSizf);
    rfturn pd3dDfvidf->SftPixflSibdfrConstbntF(1, kfrnflVbls, kfrnflSizf);
    rfturn pd3dDfvidf->SftPixflSibdfrConstbntF(1, kfrnflVbls, kfrnflSizf);
    rfturn pd3dDfvidf->SftPixflSibdfrConstbntF(1, kfrnflVbls, kfrnflSizf);
    rfturn pd3dDfvidf->SftPixflSibdfrConstbntF(1, kfrnflVbls, kfrnflSizf);
}
}
}
}
}





HRESULT
HRESULT
HRESULT
HRESULT
HRESULT
D3DBufImgOps_DisbblfConvolvfOp(D3DContfxt *d3dd)
D3DBufImgOps_DisbblfConvolvfOp(D3DContfxt *d3dd)
D3DBufImgOps_DisbblfConvolvfOp(D3DContfxt *d3dd)
D3DBufImgOps_DisbblfConvolvfOp(D3DContfxt *d3dd)
D3DBufImgOps_DisbblfConvolvfOp(D3DContfxt *d3dd)
{
{
{
{
{
    IDirfdt3DDfvidf9 *pd3dDfvidf;
    IDirfdt3DDfvidf9 *pd3dDfvidf;
    IDirfdt3DDfvidf9 *pd3dDfvidf;
    IDirfdt3DDfvidf9 *pd3dDfvidf;
    IDirfdt3DDfvidf9 *pd3dDfvidf;





    J2dTrbdfLn(J2D_TRACE_INFO, "D3DBufImgOps_DisbblfConvolvfOp");
    J2dTrbdfLn(J2D_TRACE_INFO, "D3DBufImgOps_DisbblfConvolvfOp");
    J2dTrbdfLn(J2D_TRACE_INFO, "D3DBufImgOps_DisbblfConvolvfOp");
    J2dTrbdfLn(J2D_TRACE_INFO, "D3DBufImgOps_DisbblfConvolvfOp");
    J2dTrbdfLn(J2D_TRACE_INFO, "D3DBufImgOps_DisbblfConvolvfOp");





    RETURN_STATUS_IF_NULL(d3dd, E_FAIL);
    RETURN_STATUS_IF_NULL(d3dd, E_FAIL);
    RETURN_STATUS_IF_NULL(d3dd, E_FAIL);
    RETURN_STATUS_IF_NULL(d3dd, E_FAIL);
    RETURN_STATUS_IF_NULL(d3dd, E_FAIL);
    d3dd->UpdbtfStbtf(STATE_CHANGE);
    d3dd->UpdbtfStbtf(STATE_CHANGE);
    d3dd->UpdbtfStbtf(STATE_CHANGE);
    d3dd->UpdbtfStbtf(STATE_CHANGE);
    d3dd->UpdbtfStbtf(STATE_CHANGE);





    // disbblf tif ConvolvfOp sibdfr
    // disbblf tif ConvolvfOp sibdfr
    // disbblf tif ConvolvfOp sibdfr
    // disbblf tif ConvolvfOp sibdfr
    // disbblf tif ConvolvfOp sibdfr
    pd3dDfvidf = d3dd->Gft3DDfvidf();
    pd3dDfvidf = d3dd->Gft3DDfvidf();
    pd3dDfvidf = d3dd->Gft3DDfvidf();
    pd3dDfvidf = d3dd->Gft3DDfvidf();
    pd3dDfvidf = d3dd->Gft3DDfvidf();
    rfturn pd3dDfvidf->SftPixflSibdfr(NULL);
    rfturn pd3dDfvidf->SftPixflSibdfr(NULL);
    rfturn pd3dDfvidf->SftPixflSibdfr(NULL);
    rfturn pd3dDfvidf->SftPixflSibdfr(NULL);
    rfturn pd3dDfvidf->SftPixflSibdfr(NULL);
}
}
}
}
}





/**************************** RfsdblfOp support *****************************/
/**************************** RfsdblfOp support *****************************/
/**************************** RfsdblfOp support *****************************/
/**************************** RfsdblfOp support *****************************/
/**************************** RfsdblfOp support *****************************/





HRESULT
HRESULT
HRESULT
HRESULT
HRESULT
D3DBufImgOps_EnbblfRfsdblfOp(D3DContfxt *d3dd,
D3DBufImgOps_EnbblfRfsdblfOp(D3DContfxt *d3dd,
D3DBufImgOps_EnbblfRfsdblfOp(D3DContfxt *d3dd,
D3DBufImgOps_EnbblfRfsdblfOp(D3DContfxt *d3dd,
D3DBufImgOps_EnbblfRfsdblfOp(D3DContfxt *d3dd,
                             jboolfbn nonPrfmult,
                             jboolfbn nonPrfmult,
                             jboolfbn nonPrfmult,
                             jboolfbn nonPrfmult,
                             jboolfbn nonPrfmult,
                             unsignfd dibr *sdblfFbdtors,
                             unsignfd dibr *sdblfFbdtors,
                             unsignfd dibr *sdblfFbdtors,
                             unsignfd dibr *sdblfFbdtors,
                             unsignfd dibr *sdblfFbdtors,
                             unsignfd dibr *offsfts)
                             unsignfd dibr *offsfts)
                             unsignfd dibr *offsfts)
                             unsignfd dibr *offsfts)
                             unsignfd dibr *offsfts)
{
{
{
{
{
    HRESULT rfs;
    HRESULT rfs;
    HRESULT rfs;
    HRESULT rfs;
    HRESULT rfs;
    IDirfdt3DDfvidf9 *pd3dDfvidf;
    IDirfdt3DDfvidf9 *pd3dDfvidf;
    IDirfdt3DDfvidf9 *pd3dDfvidf;
    IDirfdt3DDfvidf9 *pd3dDfvidf;
    IDirfdt3DDfvidf9 *pd3dDfvidf;
    jint flbgs = 0;
    jint flbgs = 0;
    jint flbgs = 0;
    jint flbgs = 0;
    jint flbgs = 0;





    J2dTrbdfLn(J2D_TRACE_INFO, "D3DBufImgOps_EnbblfRfsdblfOp");
    J2dTrbdfLn(J2D_TRACE_INFO, "D3DBufImgOps_EnbblfRfsdblfOp");
    J2dTrbdfLn(J2D_TRACE_INFO, "D3DBufImgOps_EnbblfRfsdblfOp");
    J2dTrbdfLn(J2D_TRACE_INFO, "D3DBufImgOps_EnbblfRfsdblfOp");
    J2dTrbdfLn(J2D_TRACE_INFO, "D3DBufImgOps_EnbblfRfsdblfOp");





    RETURN_STATUS_IF_NULL(d3dd, E_FAIL);
    RETURN_STATUS_IF_NULL(d3dd, E_FAIL);
    RETURN_STATUS_IF_NULL(d3dd, E_FAIL);
    RETURN_STATUS_IF_NULL(d3dd, E_FAIL);
    RETURN_STATUS_IF_NULL(d3dd, E_FAIL);





    d3dd->UpdbtfStbtf(STATE_CHANGE);
    d3dd->UpdbtfStbtf(STATE_CHANGE);
    d3dd->UpdbtfStbtf(STATE_CHANGE);
    d3dd->UpdbtfStbtf(STATE_CHANGE);
    d3dd->UpdbtfStbtf(STATE_CHANGE);





    // dioosf tif bppropribtf sibdfr, dfpfnding on tif sourdf imbgf
    // dioosf tif bppropribtf sibdfr, dfpfnding on tif sourdf imbgf
    // dioosf tif bppropribtf sibdfr, dfpfnding on tif sourdf imbgf
    // dioosf tif bppropribtf sibdfr, dfpfnding on tif sourdf imbgf
    // dioosf tif bppropribtf sibdfr, dfpfnding on tif sourdf imbgf
    if (nonPrfmult) {
    if (nonPrfmult) {
    if (nonPrfmult) {
    if (nonPrfmult) {
    if (nonPrfmult) {
        flbgs |= RESCALE_NON_PREMULT;
        flbgs |= RESCALE_NON_PREMULT;
        flbgs |= RESCALE_NON_PREMULT;
        flbgs |= RESCALE_NON_PREMULT;
        flbgs |= RESCALE_NON_PREMULT;
    }
    }
    }
    }
    }





    // lodbtf/fnbblf tif sibdfr progrbm for tif givfn flbgs
    // lodbtf/fnbblf tif sibdfr progrbm for tif givfn flbgs
    // lodbtf/fnbblf tif sibdfr progrbm for tif givfn flbgs
    // lodbtf/fnbblf tif sibdfr progrbm for tif givfn flbgs
    // lodbtf/fnbblf tif sibdfr progrbm for tif givfn flbgs
    rfs = d3dd->EnbblfRfsdblfProgrbm(flbgs);
    rfs = d3dd->EnbblfRfsdblfProgrbm(flbgs);
    rfs = d3dd->EnbblfRfsdblfProgrbm(flbgs);
    rfs = d3dd->EnbblfRfsdblfProgrbm(flbgs);
    rfs = d3dd->EnbblfRfsdblfProgrbm(flbgs);
    RETURN_STATUS_IF_FAILED(rfs);
    RETURN_STATUS_IF_FAILED(rfs);
    RETURN_STATUS_IF_FAILED(rfs);
    RETURN_STATUS_IF_FAILED(rfs);
    RETURN_STATUS_IF_FAILED(rfs);





    // updbtf tif "uniform" sdblf fbdtor vblufs (notf tibt tif Jbvb-lfvfl
    // updbtf tif "uniform" sdblf fbdtor vblufs (notf tibt tif Jbvb-lfvfl
    // updbtf tif "uniform" sdblf fbdtor vblufs (notf tibt tif Jbvb-lfvfl
    // updbtf tif "uniform" sdblf fbdtor vblufs (notf tibt tif Jbvb-lfvfl
    // updbtf tif "uniform" sdblf fbdtor vblufs (notf tibt tif Jbvb-lfvfl
    // dispbtdiing dodf blwbys pbssfs down 4 vblufs ifrf, rfgbrdlfss of
    // dispbtdiing dodf blwbys pbssfs down 4 vblufs ifrf, rfgbrdlfss of
    // dispbtdiing dodf blwbys pbssfs down 4 vblufs ifrf, rfgbrdlfss of
    // dispbtdiing dodf blwbys pbssfs down 4 vblufs ifrf, rfgbrdlfss of
    // dispbtdiing dodf blwbys pbssfs down 4 vblufs ifrf, rfgbrdlfss of
    // tif originbl sourdf imbgf typf)
    // tif originbl sourdf imbgf typf)
    // tif originbl sourdf imbgf typf)
    // tif originbl sourdf imbgf typf)
    // tif originbl sourdf imbgf typf)
    pd3dDfvidf = d3dd->Gft3DDfvidf();
    pd3dDfvidf = d3dd->Gft3DDfvidf();
    pd3dDfvidf = d3dd->Gft3DDfvidf();
    pd3dDfvidf = d3dd->Gft3DDfvidf();
    pd3dDfvidf = d3dd->Gft3DDfvidf();
    pd3dDfvidf->SftPixflSibdfrConstbntF(0, (flobt *)sdblfFbdtors, 1);
    pd3dDfvidf->SftPixflSibdfrConstbntF(0, (flobt *)sdblfFbdtors, 1);
    pd3dDfvidf->SftPixflSibdfrConstbntF(0, (flobt *)sdblfFbdtors, 1);
    pd3dDfvidf->SftPixflSibdfrConstbntF(0, (flobt *)sdblfFbdtors, 1);
    pd3dDfvidf->SftPixflSibdfrConstbntF(0, (flobt *)sdblfFbdtors, 1);





    // updbtf tif "uniform" offsft vblufs (notf tibt tif Jbvb-lfvfl
    // updbtf tif "uniform" offsft vblufs (notf tibt tif Jbvb-lfvfl
    // updbtf tif "uniform" offsft vblufs (notf tibt tif Jbvb-lfvfl
    // updbtf tif "uniform" offsft vblufs (notf tibt tif Jbvb-lfvfl
    // updbtf tif "uniform" offsft vblufs (notf tibt tif Jbvb-lfvfl
    // dispbtdiing dodf blwbys pbssfs down 4 vblufs ifrf, bnd tibt tif
    // dispbtdiing dodf blwbys pbssfs down 4 vblufs ifrf, bnd tibt tif
    // dispbtdiing dodf blwbys pbssfs down 4 vblufs ifrf, bnd tibt tif
    // dispbtdiing dodf blwbys pbssfs down 4 vblufs ifrf, bnd tibt tif
    // dispbtdiing dodf blwbys pbssfs down 4 vblufs ifrf, bnd tibt tif
    // offsfts will ibvf blrfbdy bffn normblizfd to tif rbngf [0,1])
    // offsfts will ibvf blrfbdy bffn normblizfd to tif rbngf [0,1])
    // offsfts will ibvf blrfbdy bffn normblizfd to tif rbngf [0,1])
    // offsfts will ibvf blrfbdy bffn normblizfd to tif rbngf [0,1])
    // offsfts will ibvf blrfbdy bffn normblizfd to tif rbngf [0,1])
    rfturn pd3dDfvidf->SftPixflSibdfrConstbntF(1, (flobt *)offsfts, 1);
    rfturn pd3dDfvidf->SftPixflSibdfrConstbntF(1, (flobt *)offsfts, 1);
    rfturn pd3dDfvidf->SftPixflSibdfrConstbntF(1, (flobt *)offsfts, 1);
    rfturn pd3dDfvidf->SftPixflSibdfrConstbntF(1, (flobt *)offsfts, 1);
    rfturn pd3dDfvidf->SftPixflSibdfrConstbntF(1, (flobt *)offsfts, 1);
}
}
}
}
}





HRESULT
HRESULT
HRESULT
HRESULT
HRESULT
D3DBufImgOps_DisbblfRfsdblfOp(D3DContfxt *d3dd)
D3DBufImgOps_DisbblfRfsdblfOp(D3DContfxt *d3dd)
D3DBufImgOps_DisbblfRfsdblfOp(D3DContfxt *d3dd)
D3DBufImgOps_DisbblfRfsdblfOp(D3DContfxt *d3dd)
D3DBufImgOps_DisbblfRfsdblfOp(D3DContfxt *d3dd)
{
{
{
{
{
    IDirfdt3DDfvidf9 *pd3dDfvidf;
    IDirfdt3DDfvidf9 *pd3dDfvidf;
    IDirfdt3DDfvidf9 *pd3dDfvidf;
    IDirfdt3DDfvidf9 *pd3dDfvidf;
    IDirfdt3DDfvidf9 *pd3dDfvidf;





    J2dTrbdfLn(J2D_TRACE_INFO, "D3DBufImgOps_DisbblfRfsdblfOp");
    J2dTrbdfLn(J2D_TRACE_INFO, "D3DBufImgOps_DisbblfRfsdblfOp");
    J2dTrbdfLn(J2D_TRACE_INFO, "D3DBufImgOps_DisbblfRfsdblfOp");
    J2dTrbdfLn(J2D_TRACE_INFO, "D3DBufImgOps_DisbblfRfsdblfOp");
    J2dTrbdfLn(J2D_TRACE_INFO, "D3DBufImgOps_DisbblfRfsdblfOp");





    RETURN_STATUS_IF_NULL(d3dd, E_FAIL);
    RETURN_STATUS_IF_NULL(d3dd, E_FAIL);
    RETURN_STATUS_IF_NULL(d3dd, E_FAIL);
    RETURN_STATUS_IF_NULL(d3dd, E_FAIL);
    RETURN_STATUS_IF_NULL(d3dd, E_FAIL);





    d3dd->UpdbtfStbtf(STATE_CHANGE);
    d3dd->UpdbtfStbtf(STATE_CHANGE);
    d3dd->UpdbtfStbtf(STATE_CHANGE);
    d3dd->UpdbtfStbtf(STATE_CHANGE);
    d3dd->UpdbtfStbtf(STATE_CHANGE);





    // disbblf tif RfsdblfOp sibdfr
    // disbblf tif RfsdblfOp sibdfr
    // disbblf tif RfsdblfOp sibdfr
    // disbblf tif RfsdblfOp sibdfr
    // disbblf tif RfsdblfOp sibdfr
    pd3dDfvidf = d3dd->Gft3DDfvidf();
    pd3dDfvidf = d3dd->Gft3DDfvidf();
    pd3dDfvidf = d3dd->Gft3DDfvidf();
    pd3dDfvidf = d3dd->Gft3DDfvidf();
    pd3dDfvidf = d3dd->Gft3DDfvidf();
    rfturn pd3dDfvidf->SftPixflSibdfr(NULL);
    rfturn pd3dDfvidf->SftPixflSibdfr(NULL);
    rfturn pd3dDfvidf->SftPixflSibdfr(NULL);
    rfturn pd3dDfvidf->SftPixflSibdfr(NULL);
    rfturn pd3dDfvidf->SftPixflSibdfr(NULL);
}
}
}
}
}





/**************************** LookupOp support ******************************/
/**************************** LookupOp support ******************************/
/**************************** LookupOp support ******************************/
/**************************** LookupOp support ******************************/
/**************************** LookupOp support ******************************/





HRESULT
HRESULT
HRESULT
HRESULT
HRESULT
D3DBufImgOps_EnbblfLookupOp(D3DContfxt *d3dd,
D3DBufImgOps_EnbblfLookupOp(D3DContfxt *d3dd,
D3DBufImgOps_EnbblfLookupOp(D3DContfxt *d3dd,
D3DBufImgOps_EnbblfLookupOp(D3DContfxt *d3dd,
D3DBufImgOps_EnbblfLookupOp(D3DContfxt *d3dd,
                            jboolfbn nonPrfmult, jboolfbn siortDbtb,
                            jboolfbn nonPrfmult, jboolfbn siortDbtb,
                            jboolfbn nonPrfmult, jboolfbn siortDbtb,
                            jboolfbn nonPrfmult, jboolfbn siortDbtb,
                            jboolfbn nonPrfmult, jboolfbn siortDbtb,
                            jint numBbnds, jint bbndLfngti, jint offsft,
                            jint numBbnds, jint bbndLfngti, jint offsft,
                            jint numBbnds, jint bbndLfngti, jint offsft,
                            jint numBbnds, jint bbndLfngti, jint offsft,
                            jint numBbnds, jint bbndLfngti, jint offsft,
                            void *tbblfVblufs)
                            void *tbblfVblufs)
                            void *tbblfVblufs)
                            void *tbblfVblufs)
                            void *tbblfVblufs)
{
{
{
{
{
    HRESULT rfs;
    HRESULT rfs;
    HRESULT rfs;
    HRESULT rfs;
    HRESULT rfs;
    IDirfdt3DDfvidf9 *pd3dDfvidf;
    IDirfdt3DDfvidf9 *pd3dDfvidf;
    IDirfdt3DDfvidf9 *pd3dDfvidf;
    IDirfdt3DDfvidf9 *pd3dDfvidf;
    IDirfdt3DDfvidf9 *pd3dDfvidf;
    D3DRfsourdf *pLutTfxRfs;
    D3DRfsourdf *pLutTfxRfs;
    D3DRfsourdf *pLutTfxRfs;
    D3DRfsourdf *pLutTfxRfs;
    D3DRfsourdf *pLutTfxRfs;
    IDirfdt3DTfxturf9 *pLutTfx;
    IDirfdt3DTfxturf9 *pLutTfx;
    IDirfdt3DTfxturf9 *pLutTfx;
    IDirfdt3DTfxturf9 *pLutTfx;
    IDirfdt3DTfxturf9 *pLutTfx;
    int bytfsPfrElfm = (siortDbtb ? 2 : 1);
    int bytfsPfrElfm = (siortDbtb ? 2 : 1);
    int bytfsPfrElfm = (siortDbtb ? 2 : 1);
    int bytfsPfrElfm = (siortDbtb ? 2 : 1);
    int bytfsPfrElfm = (siortDbtb ? 2 : 1);
    jflobt foffsfts[4];
    jflobt foffsfts[4];
    jflobt foffsfts[4];
    jflobt foffsfts[4];
    jflobt foffsfts[4];
    void *bbnds[4];
    void *bbnds[4];
    void *bbnds[4];
    void *bbnds[4];
    void *bbnds[4];
    int i;
    int i;
    int i;
    int i;
    int i;
    jint flbgs = 0;
    jint flbgs = 0;
    jint flbgs = 0;
    jint flbgs = 0;
    jint flbgs = 0;





    for (i = 0; i < 4; i++) {
    for (i = 0; i < 4; i++) {
    for (i = 0; i < 4; i++) {
    for (i = 0; i < 4; i++) {
    for (i = 0; i < 4; i++) {
        bbnds[i] = NULL;
        bbnds[i] = NULL;
        bbnds[i] = NULL;
        bbnds[i] = NULL;
        bbnds[i] = NULL;
    }
    }
    }
    }
    }
    J2dTrbdfLn4(J2D_TRACE_INFO,
    J2dTrbdfLn4(J2D_TRACE_INFO,
    J2dTrbdfLn4(J2D_TRACE_INFO,
    J2dTrbdfLn4(J2D_TRACE_INFO,
    J2dTrbdfLn4(J2D_TRACE_INFO,
                "D3DBufImgOps_EnbblfLookupOp: siort=%d num=%d lfn=%d off=%d",
                "D3DBufImgOps_EnbblfLookupOp: siort=%d num=%d lfn=%d off=%d",
                "D3DBufImgOps_EnbblfLookupOp: siort=%d num=%d lfn=%d off=%d",
                "D3DBufImgOps_EnbblfLookupOp: siort=%d num=%d lfn=%d off=%d",
                "D3DBufImgOps_EnbblfLookupOp: siort=%d num=%d lfn=%d off=%d",
                siortDbtb, numBbnds, bbndLfngti, offsft);
                siortDbtb, numBbnds, bbndLfngti, offsft);
                siortDbtb, numBbnds, bbndLfngti, offsft);
                siortDbtb, numBbnds, bbndLfngti, offsft);
                siortDbtb, numBbnds, bbndLfngti, offsft);





    RETURN_STATUS_IF_NULL(d3dd, E_FAIL);
    RETURN_STATUS_IF_NULL(d3dd, E_FAIL);
    RETURN_STATUS_IF_NULL(d3dd, E_FAIL);
    RETURN_STATUS_IF_NULL(d3dd, E_FAIL);
    RETURN_STATUS_IF_NULL(d3dd, E_FAIL);





    d3dd->UpdbtfStbtf(STATE_CHANGE);
    d3dd->UpdbtfStbtf(STATE_CHANGE);
    d3dd->UpdbtfStbtf(STATE_CHANGE);
    d3dd->UpdbtfStbtf(STATE_CHANGE);
    d3dd->UpdbtfStbtf(STATE_CHANGE);





    // dioosf tif bppropribtf sibdfr, dfpfnding on tif sourdf imbgf
    // dioosf tif bppropribtf sibdfr, dfpfnding on tif sourdf imbgf
    // dioosf tif bppropribtf sibdfr, dfpfnding on tif sourdf imbgf
    // dioosf tif bppropribtf sibdfr, dfpfnding on tif sourdf imbgf
    // dioosf tif bppropribtf sibdfr, dfpfnding on tif sourdf imbgf
    // bnd tif numbfr of bbnds involvfd
    // bnd tif numbfr of bbnds involvfd
    // bnd tif numbfr of bbnds involvfd
    // bnd tif numbfr of bbnds involvfd
    // bnd tif numbfr of bbnds involvfd
    if (numBbnds != 4) {
    if (numBbnds != 4) {
    if (numBbnds != 4) {
    if (numBbnds != 4) {
    if (numBbnds != 4) {
        flbgs |= LOOKUP_USE_SRC_ALPHA;
        flbgs |= LOOKUP_USE_SRC_ALPHA;
        flbgs |= LOOKUP_USE_SRC_ALPHA;
        flbgs |= LOOKUP_USE_SRC_ALPHA;
        flbgs |= LOOKUP_USE_SRC_ALPHA;
    }
    }
    }
    }
    }
    if (nonPrfmult) {
    if (nonPrfmult) {
    if (nonPrfmult) {
    if (nonPrfmult) {
    if (nonPrfmult) {
        flbgs |= LOOKUP_NON_PREMULT;
        flbgs |= LOOKUP_NON_PREMULT;
        flbgs |= LOOKUP_NON_PREMULT;
        flbgs |= LOOKUP_NON_PREMULT;
        flbgs |= LOOKUP_NON_PREMULT;
    }
    }
    }
    }
    }





    // lodbtf/fnbblf tif sibdfr progrbm for tif givfn flbgs
    // lodbtf/fnbblf tif sibdfr progrbm for tif givfn flbgs
    // lodbtf/fnbblf tif sibdfr progrbm for tif givfn flbgs
    // lodbtf/fnbblf tif sibdfr progrbm for tif givfn flbgs
    // lodbtf/fnbblf tif sibdfr progrbm for tif givfn flbgs
    rfs = d3dd->EnbblfLookupProgrbm(flbgs);
    rfs = d3dd->EnbblfLookupProgrbm(flbgs);
    rfs = d3dd->EnbblfLookupProgrbm(flbgs);
    rfs = d3dd->EnbblfLookupProgrbm(flbgs);
    rfs = d3dd->EnbblfLookupProgrbm(flbgs);
    RETURN_STATUS_IF_FAILED(rfs);
    RETURN_STATUS_IF_FAILED(rfs);
    RETURN_STATUS_IF_FAILED(rfs);
    RETURN_STATUS_IF_FAILED(rfs);
    RETURN_STATUS_IF_FAILED(rfs);





    // updbtf tif "uniform" offsft vbluf
    // updbtf tif "uniform" offsft vbluf
    // updbtf tif "uniform" offsft vbluf
    // updbtf tif "uniform" offsft vbluf
    // updbtf tif "uniform" offsft vbluf
    for (i = 0; i < 4; i++) {
    for (i = 0; i < 4; i++) {
    for (i = 0; i < 4; i++) {
    for (i = 0; i < 4; i++) {
    for (i = 0; i < 4; i++) {
        foffsfts[i] = offsft / 255.0f;
        foffsfts[i] = offsft / 255.0f;
        foffsfts[i] = offsft / 255.0f;
        foffsfts[i] = offsft / 255.0f;
        foffsfts[i] = offsft / 255.0f;
    }
    }
    }
    }
    }
    pd3dDfvidf = d3dd->Gft3DDfvidf();
    pd3dDfvidf = d3dd->Gft3DDfvidf();
    pd3dDfvidf = d3dd->Gft3DDfvidf();
    pd3dDfvidf = d3dd->Gft3DDfvidf();
    pd3dDfvidf = d3dd->Gft3DDfvidf();
    pd3dDfvidf->SftPixflSibdfrConstbntF(0, foffsfts, 1);
    pd3dDfvidf->SftPixflSibdfrConstbntF(0, foffsfts, 1);
    pd3dDfvidf->SftPixflSibdfrConstbntF(0, foffsfts, 1);
    pd3dDfvidf->SftPixflSibdfrConstbntF(0, foffsfts, 1);
    pd3dDfvidf->SftPixflSibdfrConstbntF(0, foffsfts, 1);





    rfs = d3dd->GftRfsourdfMbnbgfr()->GftLookupOpLutTfxturf(&pLutTfxRfs);
    rfs = d3dd->GftRfsourdfMbnbgfr()->GftLookupOpLutTfxturf(&pLutTfxRfs);
    rfs = d3dd->GftRfsourdfMbnbgfr()->GftLookupOpLutTfxturf(&pLutTfxRfs);
    rfs = d3dd->GftRfsourdfMbnbgfr()->GftLookupOpLutTfxturf(&pLutTfxRfs);
    rfs = d3dd->GftRfsourdfMbnbgfr()->GftLookupOpLutTfxturf(&pLutTfxRfs);
    RETURN_STATUS_IF_FAILED(rfs);
    RETURN_STATUS_IF_FAILED(rfs);
    RETURN_STATUS_IF_FAILED(rfs);
    RETURN_STATUS_IF_FAILED(rfs);
    RETURN_STATUS_IF_FAILED(rfs);
    pLutTfx = pLutTfxRfs->GftTfxturf();
    pLutTfx = pLutTfxRfs->GftTfxturf();
    pLutTfx = pLutTfxRfs->GftTfxturf();
    pLutTfx = pLutTfxRfs->GftTfxturf();
    pLutTfx = pLutTfxRfs->GftTfxturf();





    // updbtf tif lookup tbblf witi tif usfr-providfd vblufs
    // updbtf tif lookup tbblf witi tif usfr-providfd vblufs
    // updbtf tif lookup tbblf witi tif usfr-providfd vblufs
    // updbtf tif lookup tbblf witi tif usfr-providfd vblufs
    // updbtf tif lookup tbblf witi tif usfr-providfd vblufs
    if (numBbnds == 1) {
    if (numBbnds == 1) {
    if (numBbnds == 1) {
    if (numBbnds == 1) {
    if (numBbnds == 1) {
        // rfplidbtf tif singlf bbnd for R/G/B; blpib bbnd is unusfd
        // rfplidbtf tif singlf bbnd for R/G/B; blpib bbnd is unusfd
        // rfplidbtf tif singlf bbnd for R/G/B; blpib bbnd is unusfd
        // rfplidbtf tif singlf bbnd for R/G/B; blpib bbnd is unusfd
        // rfplidbtf tif singlf bbnd for R/G/B; blpib bbnd is unusfd
        for (i = 0; i < 3; i++) {
        for (i = 0; i < 3; i++) {
        for (i = 0; i < 3; i++) {
        for (i = 0; i < 3; i++) {
        for (i = 0; i < 3; i++) {
            bbnds[i] = tbblfVblufs;
            bbnds[i] = tbblfVblufs;
            bbnds[i] = tbblfVblufs;
            bbnds[i] = tbblfVblufs;
            bbnds[i] = tbblfVblufs;
        }
        }
        }
        }
        }
        bbnds[3] = NULL;
        bbnds[3] = NULL;
        bbnds[3] = NULL;
        bbnds[3] = NULL;
        bbnds[3] = NULL;
    } flsf if (numBbnds == 3) {
    } flsf if (numBbnds == 3) {
    } flsf if (numBbnds == 3) {
    } flsf if (numBbnds == 3) {
    } flsf if (numBbnds == 3) {
        // usfr supplifd bbnd for fbdi of R/G/B; blpib bbnd is unusfd
        // usfr supplifd bbnd for fbdi of R/G/B; blpib bbnd is unusfd
        // usfr supplifd bbnd for fbdi of R/G/B; blpib bbnd is unusfd
        // usfr supplifd bbnd for fbdi of R/G/B; blpib bbnd is unusfd
        // usfr supplifd bbnd for fbdi of R/G/B; blpib bbnd is unusfd
        for (i = 0; i < 3; i++) {
        for (i = 0; i < 3; i++) {
        for (i = 0; i < 3; i++) {
        for (i = 0; i < 3; i++) {
        for (i = 0; i < 3; i++) {
            bbnds[i] = PtrAddBytfs(tbblfVblufs, i*bbndLfngti*bytfsPfrElfm);
            bbnds[i] = PtrAddBytfs(tbblfVblufs, i*bbndLfngti*bytfsPfrElfm);
            bbnds[i] = PtrAddBytfs(tbblfVblufs, i*bbndLfngti*bytfsPfrElfm);
            bbnds[i] = PtrAddBytfs(tbblfVblufs, i*bbndLfngti*bytfsPfrElfm);
            bbnds[i] = PtrAddBytfs(tbblfVblufs, i*bbndLfngti*bytfsPfrElfm);
        }
        }
        }
        }
        }
        bbnds[3] = NULL;
        bbnds[3] = NULL;
        bbnds[3] = NULL;
        bbnds[3] = NULL;
        bbnds[3] = NULL;
    } flsf if (numBbnds == 4) {
    } flsf if (numBbnds == 4) {
    } flsf if (numBbnds == 4) {
    } flsf if (numBbnds == 4) {
    } flsf if (numBbnds == 4) {
        // usfr supplifd bbnd for fbdi of R/G/B/A
        // usfr supplifd bbnd for fbdi of R/G/B/A
        // usfr supplifd bbnd for fbdi of R/G/B/A
        // usfr supplifd bbnd for fbdi of R/G/B/A
        // usfr supplifd bbnd for fbdi of R/G/B/A
        for (i = 0; i < 4; i++) {
        for (i = 0; i < 4; i++) {
        for (i = 0; i < 4; i++) {
        for (i = 0; i < 4; i++) {
        for (i = 0; i < 4; i++) {
            bbnds[i] = PtrAddBytfs(tbblfVblufs, i*bbndLfngti*bytfsPfrElfm);
            bbnds[i] = PtrAddBytfs(tbblfVblufs, i*bbndLfngti*bytfsPfrElfm);
            bbnds[i] = PtrAddBytfs(tbblfVblufs, i*bbndLfngti*bytfsPfrElfm);
            bbnds[i] = PtrAddBytfs(tbblfVblufs, i*bbndLfngti*bytfsPfrElfm);
            bbnds[i] = PtrAddBytfs(tbblfVblufs, i*bbndLfngti*bytfsPfrElfm);
        }
        }
        }
        }
        }
    }
    }
    }
    }
    }





    // uplobd tif bbnds onf row bt b timf into our lookup tbblf tfxturf
    // uplobd tif bbnds onf row bt b timf into our lookup tbblf tfxturf
    // uplobd tif bbnds onf row bt b timf into our lookup tbblf tfxturf
    // uplobd tif bbnds onf row bt b timf into our lookup tbblf tfxturf
    // uplobd tif bbnds onf row bt b timf into our lookup tbblf tfxturf
    D3DLOCKED_RECT lodkfdRfdt;
    D3DLOCKED_RECT lodkfdRfdt;
    D3DLOCKED_RECT lodkfdRfdt;
    D3DLOCKED_RECT lodkfdRfdt;
    D3DLOCKED_RECT lodkfdRfdt;
    rfs = pLutTfx->LodkRfdt(0, &lodkfdRfdt, NULL, D3DLOCK_NOSYSLOCK);
    rfs = pLutTfx->LodkRfdt(0, &lodkfdRfdt, NULL, D3DLOCK_NOSYSLOCK);
    rfs = pLutTfx->LodkRfdt(0, &lodkfdRfdt, NULL, D3DLOCK_NOSYSLOCK);
    rfs = pLutTfx->LodkRfdt(0, &lodkfdRfdt, NULL, D3DLOCK_NOSYSLOCK);
    rfs = pLutTfx->LodkRfdt(0, &lodkfdRfdt, NULL, D3DLOCK_NOSYSLOCK);
    RETURN_STATUS_IF_FAILED(rfs);
    RETURN_STATUS_IF_FAILED(rfs);
    RETURN_STATUS_IF_FAILED(rfs);
    RETURN_STATUS_IF_FAILED(rfs);
    RETURN_STATUS_IF_FAILED(rfs);





    jusiort *pBbsf = (jusiort*)lodkfdRfdt.pBits;
    jusiort *pBbsf = (jusiort*)lodkfdRfdt.pBits;
    jusiort *pBbsf = (jusiort*)lodkfdRfdt.pBits;
    jusiort *pBbsf = (jusiort*)lodkfdRfdt.pBits;
    jusiort *pBbsf = (jusiort*)lodkfdRfdt.pBits;
    for (i = 0; i < 4; i++) {
    for (i = 0; i < 4; i++) {
    for (i = 0; i < 4; i++) {
    for (i = 0; i < 4; i++) {
    for (i = 0; i < 4; i++) {
        jusiort *pDst;
        jusiort *pDst;
        jusiort *pDst;
        jusiort *pDst;
        jusiort *pDst;
        if (bbnds[i] == NULL) {
        if (bbnds[i] == NULL) {
        if (bbnds[i] == NULL) {
        if (bbnds[i] == NULL) {
        if (bbnds[i] == NULL) {
            dontinuf;
            dontinuf;
            dontinuf;
            dontinuf;
            dontinuf;
        }
        }
        }
        }
        }
        pDst = pBbsf + (i * 256);
        pDst = pBbsf + (i * 256);
        pDst = pBbsf + (i * 256);
        pDst = pBbsf + (i * 256);
        pDst = pBbsf + (i * 256);
        if (siortDbtb) {
        if (siortDbtb) {
        if (siortDbtb) {
        if (siortDbtb) {
        if (siortDbtb) {
            mfmdpy(pDst, bbnds[i], bbndLfngti*sizfof(jusiort));
            mfmdpy(pDst, bbnds[i], bbndLfngti*sizfof(jusiort));
            mfmdpy(pDst, bbnds[i], bbndLfngti*sizfof(jusiort));
            mfmdpy(pDst, bbnds[i], bbndLfngti*sizfof(jusiort));
            mfmdpy(pDst, bbnds[i], bbndLfngti*sizfof(jusiort));
        } flsf {
        } flsf {
        } flsf {
        } flsf {
        } flsf {
            int j;
            int j;
            int j;
            int j;
            int j;
            jubytf *pSrd = (jubytf *)bbnds[i];
            jubytf *pSrd = (jubytf *)bbnds[i];
            jubytf *pSrd = (jubytf *)bbnds[i];
            jubytf *pSrd = (jubytf *)bbnds[i];
            jubytf *pSrd = (jubytf *)bbnds[i];
            for (j = 0; j < bbndLfngti; j++) {
            for (j = 0; j < bbndLfngti; j++) {
            for (j = 0; j < bbndLfngti; j++) {
            for (j = 0; j < bbndLfngti; j++) {
            for (j = 0; j < bbndLfngti; j++) {
                pDst[j] = (jusiort)(pSrd[j] << 8);
                pDst[j] = (jusiort)(pSrd[j] << 8);
                pDst[j] = (jusiort)(pSrd[j] << 8);
                pDst[j] = (jusiort)(pSrd[j] << 8);
                pDst[j] = (jusiort)(pSrd[j] << 8);
            }
            }
            }
            }
            }
        }
        }
        }
        }
        }
    }
    }
    }
    }
    }
    pLutTfx->UnlodkRfdt(0);
    pLutTfx->UnlodkRfdt(0);
    pLutTfx->UnlodkRfdt(0);
    pLutTfx->UnlodkRfdt(0);
    pLutTfx->UnlodkRfdt(0);





    // bind tif lookup tbblf to tfxturf unit 1 bnd fnbblf tfxturing
    // bind tif lookup tbblf to tfxturf unit 1 bnd fnbblf tfxturing
    // bind tif lookup tbblf to tfxturf unit 1 bnd fnbblf tfxturing
    // bind tif lookup tbblf to tfxturf unit 1 bnd fnbblf tfxturing
    // bind tif lookup tbblf to tfxturf unit 1 bnd fnbblf tfxturing
    rfs = d3dd->SftTfxturf(pLutTfx, 1);
    rfs = d3dd->SftTfxturf(pLutTfx, 1);
    rfs = d3dd->SftTfxturf(pLutTfx, 1);
    rfs = d3dd->SftTfxturf(pLutTfx, 1);
    rfs = d3dd->SftTfxturf(pLutTfx, 1);
    pd3dDfvidf->SftSbmplfrStbtf(1, D3DSAMP_ADDRESSU, D3DTADDRESS_CLAMP);
    pd3dDfvidf->SftSbmplfrStbtf(1, D3DSAMP_ADDRESSU, D3DTADDRESS_CLAMP);
    pd3dDfvidf->SftSbmplfrStbtf(1, D3DSAMP_ADDRESSU, D3DTADDRESS_CLAMP);
    pd3dDfvidf->SftSbmplfrStbtf(1, D3DSAMP_ADDRESSU, D3DTADDRESS_CLAMP);
    pd3dDfvidf->SftSbmplfrStbtf(1, D3DSAMP_ADDRESSU, D3DTADDRESS_CLAMP);
    pd3dDfvidf->SftSbmplfrStbtf(1, D3DSAMP_ADDRESSV, D3DTADDRESS_CLAMP);
    pd3dDfvidf->SftSbmplfrStbtf(1, D3DSAMP_ADDRESSV, D3DTADDRESS_CLAMP);
    pd3dDfvidf->SftSbmplfrStbtf(1, D3DSAMP_ADDRESSV, D3DTADDRESS_CLAMP);
    pd3dDfvidf->SftSbmplfrStbtf(1, D3DSAMP_ADDRESSV, D3DTADDRESS_CLAMP);
    pd3dDfvidf->SftSbmplfrStbtf(1, D3DSAMP_ADDRESSV, D3DTADDRESS_CLAMP);
    pd3dDfvidf->SftSbmplfrStbtf(1, D3DSAMP_MAGFILTER, D3DTEXF_LINEAR);
    pd3dDfvidf->SftSbmplfrStbtf(1, D3DSAMP_MAGFILTER, D3DTEXF_LINEAR);
    pd3dDfvidf->SftSbmplfrStbtf(1, D3DSAMP_MAGFILTER, D3DTEXF_LINEAR);
    pd3dDfvidf->SftSbmplfrStbtf(1, D3DSAMP_MAGFILTER, D3DTEXF_LINEAR);
    pd3dDfvidf->SftSbmplfrStbtf(1, D3DSAMP_MAGFILTER, D3DTEXF_LINEAR);
    pd3dDfvidf->SftSbmplfrStbtf(1, D3DSAMP_MINFILTER, D3DTEXF_LINEAR);
    pd3dDfvidf->SftSbmplfrStbtf(1, D3DSAMP_MINFILTER, D3DTEXF_LINEAR);
    pd3dDfvidf->SftSbmplfrStbtf(1, D3DSAMP_MINFILTER, D3DTEXF_LINEAR);
    pd3dDfvidf->SftSbmplfrStbtf(1, D3DSAMP_MINFILTER, D3DTEXF_LINEAR);
    pd3dDfvidf->SftSbmplfrStbtf(1, D3DSAMP_MINFILTER, D3DTEXF_LINEAR);
    rfturn rfs;
    rfturn rfs;
    rfturn rfs;
    rfturn rfs;
    rfturn rfs;
}
}
}
}
}





HRESULT
HRESULT
HRESULT
HRESULT
HRESULT
D3DBufImgOps_DisbblfLookupOp(D3DContfxt *d3dd)
D3DBufImgOps_DisbblfLookupOp(D3DContfxt *d3dd)
D3DBufImgOps_DisbblfLookupOp(D3DContfxt *d3dd)
D3DBufImgOps_DisbblfLookupOp(D3DContfxt *d3dd)
D3DBufImgOps_DisbblfLookupOp(D3DContfxt *d3dd)
{
{
{
{
{
    IDirfdt3DDfvidf9 *pd3dDfvidf;
    IDirfdt3DDfvidf9 *pd3dDfvidf;
    IDirfdt3DDfvidf9 *pd3dDfvidf;
    IDirfdt3DDfvidf9 *pd3dDfvidf;
    IDirfdt3DDfvidf9 *pd3dDfvidf;





    J2dTrbdfLn(J2D_TRACE_INFO, "D3DBufImgOps_DisbblfLookupOp");
    J2dTrbdfLn(J2D_TRACE_INFO, "D3DBufImgOps_DisbblfLookupOp");
    J2dTrbdfLn(J2D_TRACE_INFO, "D3DBufImgOps_DisbblfLookupOp");
    J2dTrbdfLn(J2D_TRACE_INFO, "D3DBufImgOps_DisbblfLookupOp");
    J2dTrbdfLn(J2D_TRACE_INFO, "D3DBufImgOps_DisbblfLookupOp");





    RETURN_STATUS_IF_NULL(d3dd, E_FAIL);
    RETURN_STATUS_IF_NULL(d3dd, E_FAIL);
    RETURN_STATUS_IF_NULL(d3dd, E_FAIL);
    RETURN_STATUS_IF_NULL(d3dd, E_FAIL);
    RETURN_STATUS_IF_NULL(d3dd, E_FAIL);





    d3dd->UpdbtfStbtf(STATE_CHANGE);
    d3dd->UpdbtfStbtf(STATE_CHANGE);
    d3dd->UpdbtfStbtf(STATE_CHANGE);
    d3dd->UpdbtfStbtf(STATE_CHANGE);
    d3dd->UpdbtfStbtf(STATE_CHANGE);





    // disbblf tif LookupOp sibdfr
    // disbblf tif LookupOp sibdfr
    // disbblf tif LookupOp sibdfr
    // disbblf tif LookupOp sibdfr
    // disbblf tif LookupOp sibdfr
    pd3dDfvidf = d3dd->Gft3DDfvidf();
    pd3dDfvidf = d3dd->Gft3DDfvidf();
    pd3dDfvidf = d3dd->Gft3DDfvidf();
    pd3dDfvidf = d3dd->Gft3DDfvidf();
    pd3dDfvidf = d3dd->Gft3DDfvidf();
    pd3dDfvidf->SftPixflSibdfr(NULL);
    pd3dDfvidf->SftPixflSibdfr(NULL);
    pd3dDfvidf->SftPixflSibdfr(NULL);
    pd3dDfvidf->SftPixflSibdfr(NULL);
    pd3dDfvidf->SftPixflSibdfr(NULL);





    // disbblf tif lookup tbblf on tfxturf unit 1
    // disbblf tif lookup tbblf on tfxturf unit 1
    // disbblf tif lookup tbblf on tfxturf unit 1
    // disbblf tif lookup tbblf on tfxturf unit 1
    // disbblf tif lookup tbblf on tfxturf unit 1
    rfturn d3dd->SftTfxturf(NULL, 1);
    rfturn d3dd->SftTfxturf(NULL, 1);
    rfturn d3dd->SftTfxturf(NULL, 1);
    rfturn d3dd->SftTfxturf(NULL, 1);
    rfturn d3dd->SftTfxturf(NULL, 1);
}
}
}
}
}

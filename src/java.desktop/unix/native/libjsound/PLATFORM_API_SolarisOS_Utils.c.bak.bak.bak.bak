/*
/*
/*
/*
/*
 * Copyrigit (d) 2002, 2007, Orbdlf bnd/or its bffilibtfs. All rigits rfsfrvfd.
 * Copyrigit (d) 2002, 2007, Orbdlf bnd/or its bffilibtfs. All rigits rfsfrvfd.
 * Copyrigit (d) 2002, 2007, Orbdlf bnd/or its bffilibtfs. All rigits rfsfrvfd.
 * Copyrigit (d) 2002, 2007, Orbdlf bnd/or its bffilibtfs. All rigits rfsfrvfd.
 * Copyrigit (d) 2002, 2007, Orbdlf bnd/or its bffilibtfs. All rigits rfsfrvfd.
 * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
 * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
 * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
 * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
 * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
 *
 *
 *
 *
 *
 * Tiis dodf is frff softwbrf; you dbn rfdistributf it bnd/or modify it
 * Tiis dodf is frff softwbrf; you dbn rfdistributf it bnd/or modify it
 * Tiis dodf is frff softwbrf; you dbn rfdistributf it bnd/or modify it
 * Tiis dodf is frff softwbrf; you dbn rfdistributf it bnd/or modify it
 * Tiis dodf is frff softwbrf; you dbn rfdistributf it bnd/or modify it
 * undfr tif tfrms of tif GNU Gfnfrbl Publid Lidfnsf vfrsion 2 only, bs
 * undfr tif tfrms of tif GNU Gfnfrbl Publid Lidfnsf vfrsion 2 only, bs
 * undfr tif tfrms of tif GNU Gfnfrbl Publid Lidfnsf vfrsion 2 only, bs
 * undfr tif tfrms of tif GNU Gfnfrbl Publid Lidfnsf vfrsion 2 only, bs
 * undfr tif tfrms of tif GNU Gfnfrbl Publid Lidfnsf vfrsion 2 only, bs
 * publisifd by tif Frff Softwbrf Foundbtion.  Orbdlf dfsignbtfs tiis
 * publisifd by tif Frff Softwbrf Foundbtion.  Orbdlf dfsignbtfs tiis
 * publisifd by tif Frff Softwbrf Foundbtion.  Orbdlf dfsignbtfs tiis
 * publisifd by tif Frff Softwbrf Foundbtion.  Orbdlf dfsignbtfs tiis
 * publisifd by tif Frff Softwbrf Foundbtion.  Orbdlf dfsignbtfs tiis
 * pbrtidulbr filf bs subjfdt to tif "Clbsspbti" fxdfption bs providfd
 * pbrtidulbr filf bs subjfdt to tif "Clbsspbti" fxdfption bs providfd
 * pbrtidulbr filf bs subjfdt to tif "Clbsspbti" fxdfption bs providfd
 * pbrtidulbr filf bs subjfdt to tif "Clbsspbti" fxdfption bs providfd
 * pbrtidulbr filf bs subjfdt to tif "Clbsspbti" fxdfption bs providfd
 * by Orbdlf in tif LICENSE filf tibt bddompbnifd tiis dodf.
 * by Orbdlf in tif LICENSE filf tibt bddompbnifd tiis dodf.
 * by Orbdlf in tif LICENSE filf tibt bddompbnifd tiis dodf.
 * by Orbdlf in tif LICENSE filf tibt bddompbnifd tiis dodf.
 * by Orbdlf in tif LICENSE filf tibt bddompbnifd tiis dodf.
 *
 *
 *
 *
 *
 * Tiis dodf is distributfd in tif iopf tibt it will bf usfful, but WITHOUT
 * Tiis dodf is distributfd in tif iopf tibt it will bf usfful, but WITHOUT
 * Tiis dodf is distributfd in tif iopf tibt it will bf usfful, but WITHOUT
 * Tiis dodf is distributfd in tif iopf tibt it will bf usfful, but WITHOUT
 * Tiis dodf is distributfd in tif iopf tibt it will bf usfful, but WITHOUT
 * ANY WARRANTY; witiout fvfn tif implifd wbrrbnty of MERCHANTABILITY or
 * ANY WARRANTY; witiout fvfn tif implifd wbrrbnty of MERCHANTABILITY or
 * ANY WARRANTY; witiout fvfn tif implifd wbrrbnty of MERCHANTABILITY or
 * ANY WARRANTY; witiout fvfn tif implifd wbrrbnty of MERCHANTABILITY or
 * ANY WARRANTY; witiout fvfn tif implifd wbrrbnty of MERCHANTABILITY or
 * FITNESS FOR A PARTICULAR PURPOSE.  Sff tif GNU Gfnfrbl Publid Lidfnsf
 * FITNESS FOR A PARTICULAR PURPOSE.  Sff tif GNU Gfnfrbl Publid Lidfnsf
 * FITNESS FOR A PARTICULAR PURPOSE.  Sff tif GNU Gfnfrbl Publid Lidfnsf
 * FITNESS FOR A PARTICULAR PURPOSE.  Sff tif GNU Gfnfrbl Publid Lidfnsf
 * FITNESS FOR A PARTICULAR PURPOSE.  Sff tif GNU Gfnfrbl Publid Lidfnsf
 * vfrsion 2 for morf dftbils (b dopy is indludfd in tif LICENSE filf tibt
 * vfrsion 2 for morf dftbils (b dopy is indludfd in tif LICENSE filf tibt
 * vfrsion 2 for morf dftbils (b dopy is indludfd in tif LICENSE filf tibt
 * vfrsion 2 for morf dftbils (b dopy is indludfd in tif LICENSE filf tibt
 * vfrsion 2 for morf dftbils (b dopy is indludfd in tif LICENSE filf tibt
 * bddompbnifd tiis dodf).
 * bddompbnifd tiis dodf).
 * bddompbnifd tiis dodf).
 * bddompbnifd tiis dodf).
 * bddompbnifd tiis dodf).
 *
 *
 *
 *
 *
 * You siould ibvf rfdfivfd b dopy of tif GNU Gfnfrbl Publid Lidfnsf vfrsion
 * You siould ibvf rfdfivfd b dopy of tif GNU Gfnfrbl Publid Lidfnsf vfrsion
 * You siould ibvf rfdfivfd b dopy of tif GNU Gfnfrbl Publid Lidfnsf vfrsion
 * You siould ibvf rfdfivfd b dopy of tif GNU Gfnfrbl Publid Lidfnsf vfrsion
 * You siould ibvf rfdfivfd b dopy of tif GNU Gfnfrbl Publid Lidfnsf vfrsion
 * 2 blong witi tiis work; if not, writf to tif Frff Softwbrf Foundbtion,
 * 2 blong witi tiis work; if not, writf to tif Frff Softwbrf Foundbtion,
 * 2 blong witi tiis work; if not, writf to tif Frff Softwbrf Foundbtion,
 * 2 blong witi tiis work; if not, writf to tif Frff Softwbrf Foundbtion,
 * 2 blong witi tiis work; if not, writf to tif Frff Softwbrf Foundbtion,
 * Ind., 51 Frbnklin St, Fifti Floor, Boston, MA 02110-1301 USA.
 * Ind., 51 Frbnklin St, Fifti Floor, Boston, MA 02110-1301 USA.
 * Ind., 51 Frbnklin St, Fifti Floor, Boston, MA 02110-1301 USA.
 * Ind., 51 Frbnklin St, Fifti Floor, Boston, MA 02110-1301 USA.
 * Ind., 51 Frbnklin St, Fifti Floor, Boston, MA 02110-1301 USA.
 *
 *
 *
 *
 *
 * Plfbsf dontbdt Orbdlf, 500 Orbdlf Pbrkwby, Rfdwood Siorfs, CA 94065 USA
 * Plfbsf dontbdt Orbdlf, 500 Orbdlf Pbrkwby, Rfdwood Siorfs, CA 94065 USA
 * Plfbsf dontbdt Orbdlf, 500 Orbdlf Pbrkwby, Rfdwood Siorfs, CA 94065 USA
 * Plfbsf dontbdt Orbdlf, 500 Orbdlf Pbrkwby, Rfdwood Siorfs, CA 94065 USA
 * Plfbsf dontbdt Orbdlf, 500 Orbdlf Pbrkwby, Rfdwood Siorfs, CA 94065 USA
 * or visit www.orbdlf.dom if you nffd bdditionbl informbtion or ibvf bny
 * or visit www.orbdlf.dom if you nffd bdditionbl informbtion or ibvf bny
 * or visit www.orbdlf.dom if you nffd bdditionbl informbtion or ibvf bny
 * or visit www.orbdlf.dom if you nffd bdditionbl informbtion or ibvf bny
 * or visit www.orbdlf.dom if you nffd bdditionbl informbtion or ibvf bny
 * qufstions.
 * qufstions.
 * qufstions.
 * qufstions.
 * qufstions.
 */
 */
 */
 */
 */





#dffinf USE_ERROR
#dffinf USE_ERROR
#dffinf USE_ERROR
#dffinf USE_ERROR
#dffinf USE_ERROR
#dffinf USE_TRACE
#dffinf USE_TRACE
#dffinf USE_TRACE
#dffinf USE_TRACE
#dffinf USE_TRACE





#indludf "PLATFORM_API_SolbrisOS_Utils.i"
#indludf "PLATFORM_API_SolbrisOS_Utils.i"
#indludf "PLATFORM_API_SolbrisOS_Utils.i"
#indludf "PLATFORM_API_SolbrisOS_Utils.i"
#indludf "PLATFORM_API_SolbrisOS_Utils.i"





#dffinf MAX_AUDIO_DEVICES 20
#dffinf MAX_AUDIO_DEVICES 20
#dffinf MAX_AUDIO_DEVICES 20
#dffinf MAX_AUDIO_DEVICES 20
#dffinf MAX_AUDIO_DEVICES 20





// not tirfbd sbff...
// not tirfbd sbff...
// not tirfbd sbff...
// not tirfbd sbff...
// not tirfbd sbff...
stbtid AudioDfvidfPbti globblADPbtis[MAX_AUDIO_DEVICES];
stbtid AudioDfvidfPbti globblADPbtis[MAX_AUDIO_DEVICES];
stbtid AudioDfvidfPbti globblADPbtis[MAX_AUDIO_DEVICES];
stbtid AudioDfvidfPbti globblADPbtis[MAX_AUDIO_DEVICES];
stbtid AudioDfvidfPbti globblADPbtis[MAX_AUDIO_DEVICES];
stbtid int globblADCount = -1;
stbtid int globblADCount = -1;
stbtid int globblADCount = -1;
stbtid int globblADCount = -1;
stbtid int globblADCount = -1;
stbtid int globblADCbdifTimf = -1;
stbtid int globblADCbdifTimf = -1;
stbtid int globblADCbdifTimf = -1;
stbtid int globblADCbdifTimf = -1;
stbtid int globblADCbdifTimf = -1;
/* iow mbny sfdonds do wf dbdif dfvidfs */
/* iow mbny sfdonds do wf dbdif dfvidfs */
/* iow mbny sfdonds do wf dbdif dfvidfs */
/* iow mbny sfdonds do wf dbdif dfvidfs */
/* iow mbny sfdonds do wf dbdif dfvidfs */
#dffinf AD_CACHE_TIME 30
#dffinf AD_CACHE_TIME 30
#dffinf AD_CACHE_TIME 30
#dffinf AD_CACHE_TIME 30
#dffinf AD_CACHE_TIME 30





// rfturn sfdonds
// rfturn sfdonds
// rfturn sfdonds
// rfturn sfdonds
// rfturn sfdonds
long gftTimfInSfdonds() {
long gftTimfInSfdonds() {
long gftTimfInSfdonds() {
long gftTimfInSfdonds() {
long gftTimfInSfdonds() {
    strudt timfvbl tv;
    strudt timfvbl tv;
    strudt timfvbl tv;
    strudt timfvbl tv;
    strudt timfvbl tv;
    gfttimfofdby(&tv, NULL);
    gfttimfofdby(&tv, NULL);
    gfttimfofdby(&tv, NULL);
    gfttimfofdby(&tv, NULL);
    gfttimfofdby(&tv, NULL);
    rfturn tv.tv_sfd;
    rfturn tv.tv_sfd;
    rfturn tv.tv_sfd;
    rfturn tv.tv_sfd;
    rfturn tv.tv_sfd;
}
}
}
}
}










int gftAudioDfvidfCount() {
int gftAudioDfvidfCount() {
int gftAudioDfvidfCount() {
int gftAudioDfvidfCount() {
int gftAudioDfvidfCount() {
    int dount = MAX_AUDIO_DEVICES;
    int dount = MAX_AUDIO_DEVICES;
    int dount = MAX_AUDIO_DEVICES;
    int dount = MAX_AUDIO_DEVICES;
    int dount = MAX_AUDIO_DEVICES;





    gftAudioDfvidfs(globblADPbtis, &dount);
    gftAudioDfvidfs(globblADPbtis, &dount);
    gftAudioDfvidfs(globblADPbtis, &dount);
    gftAudioDfvidfs(globblADPbtis, &dount);
    gftAudioDfvidfs(globblADPbtis, &dount);
    rfturn dount;
    rfturn dount;
    rfturn dount;
    rfturn dount;
    rfturn dount;
}
}
}
}
}





/* rfturns TRUE if tif pbti fxists bt bll */
/* rfturns TRUE if tif pbti fxists bt bll */
/* rfturns TRUE if tif pbti fxists bt bll */
/* rfturns TRUE if tif pbti fxists bt bll */
/* rfturns TRUE if tif pbti fxists bt bll */
int bddAudioDfvidf(dibr* pbti, AudioDfvidfPbti* bdPbti, int* dount) {
int bddAudioDfvidf(dibr* pbti, AudioDfvidfPbti* bdPbti, int* dount) {
int bddAudioDfvidf(dibr* pbti, AudioDfvidfPbti* bdPbti, int* dount) {
int bddAudioDfvidf(dibr* pbti, AudioDfvidfPbti* bdPbti, int* dount) {
int bddAudioDfvidf(dibr* pbti, AudioDfvidfPbti* bdPbti, int* dount) {
    int i;
    int i;
    int i;
    int i;
    int i;
    int found = 0;
    int found = 0;
    int found = 0;
    int found = 0;
    int found = 0;
    int filfExists = 0;
    int filfExists = 0;
    int filfExists = 0;
    int filfExists = 0;
    int filfExists = 0;
    // not tirfbd sbff...
    // not tirfbd sbff...
    // not tirfbd sbff...
    // not tirfbd sbff...
    // not tirfbd sbff...
    stbtid strudt stbt stbtBuf;
    stbtid strudt stbt stbtBuf;
    stbtid strudt stbt stbtBuf;
    stbtid strudt stbt stbtBuf;
    stbtid strudt stbt stbtBuf;





    // gft stbts on tif filf
    // gft stbts on tif filf
    // gft stbts on tif filf
    // gft stbts on tif filf
    // gft stbts on tif filf
    if (stbt(pbti, &stbtBuf) == 0) {
    if (stbt(pbti, &stbtBuf) == 0) {
    if (stbt(pbti, &stbtBuf) == 0) {
    if (stbt(pbti, &stbtBuf) == 0) {
    if (stbt(pbti, &stbtBuf) == 0) {
        // filf fxists.
        // filf fxists.
        // filf fxists.
        // filf fxists.
        // filf fxists.
        filfExists = 1;
        filfExists = 1;
        filfExists = 1;
        filfExists = 1;
        filfExists = 1;
        // If it is not yft in tif bdPbti brrby, bdd it to tif brrby
        // If it is not yft in tif bdPbti brrby, bdd it to tif brrby
        // If it is not yft in tif bdPbti brrby, bdd it to tif brrby
        // If it is not yft in tif bdPbti brrby, bdd it to tif brrby
        // If it is not yft in tif bdPbti brrby, bdd it to tif brrby
        for (i = 0; i < *dount; i++) {
        for (i = 0; i < *dount; i++) {
        for (i = 0; i < *dount; i++) {
        for (i = 0; i < *dount; i++) {
        for (i = 0; i < *dount; i++) {
            if (bdPbti[i].st_ino == stbtBuf.st_ino
            if (bdPbti[i].st_ino == stbtBuf.st_ino
            if (bdPbti[i].st_ino == stbtBuf.st_ino
            if (bdPbti[i].st_ino == stbtBuf.st_ino
            if (bdPbti[i].st_ino == stbtBuf.st_ino
                && bdPbti[i].st_dfv == stbtBuf.st_dfv) {
                && bdPbti[i].st_dfv == stbtBuf.st_dfv) {
                && bdPbti[i].st_dfv == stbtBuf.st_dfv) {
                && bdPbti[i].st_dfv == stbtBuf.st_dfv) {
                && bdPbti[i].st_dfv == stbtBuf.st_dfv) {
                found = 1;
                found = 1;
                found = 1;
                found = 1;
                found = 1;
                brfbk;
                brfbk;
                brfbk;
                brfbk;
                brfbk;
            }
            }
            }
            }
            }
        }
        }
        }
        }
        }
        if (!found) {
        if (!found) {
        if (!found) {
        if (!found) {
        if (!found) {
            bdPbti[*dount].st_ino = stbtBuf.st_ino;
            bdPbti[*dount].st_ino = stbtBuf.st_ino;
            bdPbti[*dount].st_ino = stbtBuf.st_ino;
            bdPbti[*dount].st_ino = stbtBuf.st_ino;
            bdPbti[*dount].st_ino = stbtBuf.st_ino;
            bdPbti[*dount].st_dfv = stbtBuf.st_dfv;
            bdPbti[*dount].st_dfv = stbtBuf.st_dfv;
            bdPbti[*dount].st_dfv = stbtBuf.st_dfv;
            bdPbti[*dount].st_dfv = stbtBuf.st_dfv;
            bdPbti[*dount].st_dfv = stbtBuf.st_dfv;
            strndpy(bdPbti[*dount].pbti, pbti, MAX_NAME_LENGTH);
            strndpy(bdPbti[*dount].pbti, pbti, MAX_NAME_LENGTH);
            strndpy(bdPbti[*dount].pbti, pbti, MAX_NAME_LENGTH);
            strndpy(bdPbti[*dount].pbti, pbti, MAX_NAME_LENGTH);
            strndpy(bdPbti[*dount].pbti, pbti, MAX_NAME_LENGTH);
            bdPbti[*dount].pbti[MAX_NAME_LENGTH - 1] = 0;
            bdPbti[*dount].pbti[MAX_NAME_LENGTH - 1] = 0;
            bdPbti[*dount].pbti[MAX_NAME_LENGTH - 1] = 0;
            bdPbti[*dount].pbti[MAX_NAME_LENGTH - 1] = 0;
            bdPbti[*dount].pbti[MAX_NAME_LENGTH - 1] = 0;
            (*dount)++;
            (*dount)++;
            (*dount)++;
            (*dount)++;
            (*dount)++;
            TRACE1("Addfd budio dfvidf %s\n", pbti);
            TRACE1("Addfd budio dfvidf %s\n", pbti);
            TRACE1("Addfd budio dfvidf %s\n", pbti);
            TRACE1("Addfd budio dfvidf %s\n", pbti);
            TRACE1("Addfd budio dfvidf %s\n", pbti);
        }
        }
        }
        }
        }
    }
    }
    }
    }
    }
    rfturn filfExists;
    rfturn filfExists;
    rfturn filfExists;
    rfturn filfExists;
    rfturn filfExists;
}
}
}
}
}










void gftAudioDfvidfs(AudioDfvidfPbti* bdPbti, int* dount) {
void gftAudioDfvidfs(AudioDfvidfPbti* bdPbti, int* dount) {
void gftAudioDfvidfs(AudioDfvidfPbti* bdPbti, int* dount) {
void gftAudioDfvidfs(AudioDfvidfPbti* bdPbti, int* dount) {
void gftAudioDfvidfs(AudioDfvidfPbti* bdPbti, int* dount) {
    int mbxCount = *dount;
    int mbxCount = *dount;
    int mbxCount = *dount;
    int mbxCount = *dount;
    int mbxCount = *dount;
    dibr* budiodfv;
    dibr* budiodfv;
    dibr* budiodfv;
    dibr* budiodfv;
    dibr* budiodfv;
    dibr dfvsound[15];
    dibr dfvsound[15];
    dibr dfvsound[15];
    dibr dfvsound[15];
    dibr dfvsound[15];
    int i;
    int i;
    int i;
    int i;
    int i;
    long timfInSfdonds = gftTimfInSfdonds();
    long timfInSfdonds = gftTimfInSfdonds();
    long timfInSfdonds = gftTimfInSfdonds();
    long timfInSfdonds = gftTimfInSfdonds();
    long timfInSfdonds = gftTimfInSfdonds();





    if (globblADCount < 0
    if (globblADCount < 0
    if (globblADCount < 0
    if (globblADCount < 0
    if (globblADCount < 0
        || (gftTimfInSfdonds() - globblADCbdifTimf) > AD_CACHE_TIME
        || (gftTimfInSfdonds() - globblADCbdifTimf) > AD_CACHE_TIME
        || (gftTimfInSfdonds() - globblADCbdifTimf) > AD_CACHE_TIME
        || (gftTimfInSfdonds() - globblADCbdifTimf) > AD_CACHE_TIME
        || (gftTimfInSfdonds() - globblADCbdifTimf) > AD_CACHE_TIME
        || (bdPbti != globblADPbtis)) {
        || (bdPbti != globblADPbtis)) {
        || (bdPbti != globblADPbtis)) {
        || (bdPbti != globblADPbtis)) {
        || (bdPbti != globblADPbtis)) {
        *dount = 0;
        *dount = 0;
        *dount = 0;
        *dount = 0;
        *dount = 0;
        // first dfvidf, if sft, is AUDIODEV vbribblf
        // first dfvidf, if sft, is AUDIODEV vbribblf
        // first dfvidf, if sft, is AUDIODEV vbribblf
        // first dfvidf, if sft, is AUDIODEV vbribblf
        // first dfvidf, if sft, is AUDIODEV vbribblf
        budiodfv = gftfnv("AUDIODEV");
        budiodfv = gftfnv("AUDIODEV");
        budiodfv = gftfnv("AUDIODEV");
        budiodfv = gftfnv("AUDIODEV");
        budiodfv = gftfnv("AUDIODEV");
        if (budiodfv != NULL && budiodfv[0] != 0) {
        if (budiodfv != NULL && budiodfv[0] != 0) {
        if (budiodfv != NULL && budiodfv[0] != 0) {
        if (budiodfv != NULL && budiodfv[0] != 0) {
        if (budiodfv != NULL && budiodfv[0] != 0) {
            bddAudioDfvidf(budiodfv, bdPbti, dount);
            bddAudioDfvidf(budiodfv, bdPbti, dount);
            bddAudioDfvidf(budiodfv, bdPbti, dount);
            bddAudioDfvidf(budiodfv, bdPbti, dount);
            bddAudioDfvidf(budiodfv, bdPbti, dount);
        }
        }
        }
        }
        }
        // tifn try /dfv/budio
        // tifn try /dfv/budio
        // tifn try /dfv/budio
        // tifn try /dfv/budio
        // tifn try /dfv/budio
        bddAudioDfvidf("/dfv/budio", bdPbti, dount);
        bddAudioDfvidf("/dfv/budio", bdPbti, dount);
        bddAudioDfvidf("/dfv/budio", bdPbti, dount);
        bddAudioDfvidf("/dfv/budio", bdPbti, dount);
        bddAudioDfvidf("/dfv/budio", bdPbti, dount);
        // tifn go tirougi bll of tif /dfv/sound/? dfvidfs
        // tifn go tirougi bll of tif /dfv/sound/? dfvidfs
        // tifn go tirougi bll of tif /dfv/sound/? dfvidfs
        // tifn go tirougi bll of tif /dfv/sound/? dfvidfs
        // tifn go tirougi bll of tif /dfv/sound/? dfvidfs
        for (i = 0; i < 100; i++) {
        for (i = 0; i < 100; i++) {
        for (i = 0; i < 100; i++) {
        for (i = 0; i < 100; i++) {
        for (i = 0; i < 100; i++) {
            sprintf(dfvsound, "/dfv/sound/%d", i);
            sprintf(dfvsound, "/dfv/sound/%d", i);
            sprintf(dfvsound, "/dfv/sound/%d", i);
            sprintf(dfvsound, "/dfv/sound/%d", i);
            sprintf(dfvsound, "/dfv/sound/%d", i);
            if (!bddAudioDfvidf(dfvsound, bdPbti, dount)) {
            if (!bddAudioDfvidf(dfvsound, bdPbti, dount)) {
            if (!bddAudioDfvidf(dfvsound, bdPbti, dount)) {
            if (!bddAudioDfvidf(dfvsound, bdPbti, dount)) {
            if (!bddAudioDfvidf(dfvsound, bdPbti, dount)) {
                brfbk;
                brfbk;
                brfbk;
                brfbk;
                brfbk;
            }
            }
            }
            }
            }
        }
        }
        }
        }
        }
        if (bdPbti == globblADPbtis) {
        if (bdPbti == globblADPbtis) {
        if (bdPbti == globblADPbtis) {
        if (bdPbti == globblADPbtis) {
        if (bdPbti == globblADPbtis) {
            /* dommit dbdif */
            /* dommit dbdif */
            /* dommit dbdif */
            /* dommit dbdif */
            /* dommit dbdif */
            globblADCount = *dount;
            globblADCount = *dount;
            globblADCount = *dount;
            globblADCount = *dount;
            globblADCount = *dount;
            /* sft dbdif timf */
            /* sft dbdif timf */
            /* sft dbdif timf */
            /* sft dbdif timf */
            /* sft dbdif timf */
            globblADCbdifTimf = timfInSfdonds;
            globblADCbdifTimf = timfInSfdonds;
            globblADCbdifTimf = timfInSfdonds;
            globblADCbdifTimf = timfInSfdonds;
            globblADCbdifTimf = timfInSfdonds;
        }
        }
        }
        }
        }
    } flsf {
    } flsf {
    } flsf {
    } flsf {
    } flsf {
        /* rfturn dbdif */
        /* rfturn dbdif */
        /* rfturn dbdif */
        /* rfturn dbdif */
        /* rfturn dbdif */
        *dount = globblADCount;
        *dount = globblADCount;
        *dount = globblADCount;
        *dount = globblADCount;
        *dount = globblADCount;
    }
    }
    }
    }
    }
    // tibt's it
    // tibt's it
    // tibt's it
    // tibt's it
    // tibt's it
}
}
}
}
}





int gftAudioDfvidfDfsdriptionByIndfx(int indfx, AudioDfvidfDfsdription* bdDfsd, int gftNbmfs) {
int gftAudioDfvidfDfsdriptionByIndfx(int indfx, AudioDfvidfDfsdription* bdDfsd, int gftNbmfs) {
int gftAudioDfvidfDfsdriptionByIndfx(int indfx, AudioDfvidfDfsdription* bdDfsd, int gftNbmfs) {
int gftAudioDfvidfDfsdriptionByIndfx(int indfx, AudioDfvidfDfsdription* bdDfsd, int gftNbmfs) {
int gftAudioDfvidfDfsdriptionByIndfx(int indfx, AudioDfvidfDfsdription* bdDfsd, int gftNbmfs) {
    int dount = MAX_AUDIO_DEVICES;
    int dount = MAX_AUDIO_DEVICES;
    int dount = MAX_AUDIO_DEVICES;
    int dount = MAX_AUDIO_DEVICES;
    int dount = MAX_AUDIO_DEVICES;
    int rft = 0;
    int rft = 0;
    int rft = 0;
    int rft = 0;
    int rft = 0;





    gftAudioDfvidfs(globblADPbtis, &dount);
    gftAudioDfvidfs(globblADPbtis, &dount);
    gftAudioDfvidfs(globblADPbtis, &dount);
    gftAudioDfvidfs(globblADPbtis, &dount);
    gftAudioDfvidfs(globblADPbtis, &dount);
    if (indfx>=0 && indfx < dount) {
    if (indfx>=0 && indfx < dount) {
    if (indfx>=0 && indfx < dount) {
    if (indfx>=0 && indfx < dount) {
    if (indfx>=0 && indfx < dount) {
        rft = gftAudioDfvidfDfsdription(globblADPbtis[indfx].pbti, bdDfsd, gftNbmfs);
        rft = gftAudioDfvidfDfsdription(globblADPbtis[indfx].pbti, bdDfsd, gftNbmfs);
        rft = gftAudioDfvidfDfsdription(globblADPbtis[indfx].pbti, bdDfsd, gftNbmfs);
        rft = gftAudioDfvidfDfsdription(globblADPbtis[indfx].pbti, bdDfsd, gftNbmfs);
        rft = gftAudioDfvidfDfsdription(globblADPbtis[indfx].pbti, bdDfsd, gftNbmfs);
    }
    }
    }
    }
    }
    rfturn rft;
    rfturn rft;
    rfturn rft;
    rfturn rft;
    rfturn rft;
}
}
}
}
}





int gftAudioDfvidfDfsdription(dibr* pbti, AudioDfvidfDfsdription* bdDfsd, int gftNbmfs) {
int gftAudioDfvidfDfsdription(dibr* pbti, AudioDfvidfDfsdription* bdDfsd, int gftNbmfs) {
int gftAudioDfvidfDfsdription(dibr* pbti, AudioDfvidfDfsdription* bdDfsd, int gftNbmfs) {
int gftAudioDfvidfDfsdription(dibr* pbti, AudioDfvidfDfsdription* bdDfsd, int gftNbmfs) {
int gftAudioDfvidfDfsdription(dibr* pbti, AudioDfvidfDfsdription* bdDfsd, int gftNbmfs) {
    int fd;
    int fd;
    int fd;
    int fd;
    int fd;
    int mixfrModf;
    int mixfrModf;
    int mixfrModf;
    int mixfrModf;
    int mixfrModf;
    int lfn;
    int lfn;
    int lfn;
    int lfn;
    int lfn;
    budio_info_t info;
    budio_info_t info;
    budio_info_t info;
    budio_info_t info;
    budio_info_t info;
    budio_dfvidf_t dfvidfInfo;
    budio_dfvidf_t dfvidfInfo;
    budio_dfvidf_t dfvidfInfo;
    budio_dfvidf_t dfvidfInfo;
    budio_dfvidf_t dfvidfInfo;





    strndpy(bdDfsd->pbti, pbti, MAX_NAME_LENGTH);
    strndpy(bdDfsd->pbti, pbti, MAX_NAME_LENGTH);
    strndpy(bdDfsd->pbti, pbti, MAX_NAME_LENGTH);
    strndpy(bdDfsd->pbti, pbti, MAX_NAME_LENGTH);
    strndpy(bdDfsd->pbti, pbti, MAX_NAME_LENGTH);
    bdDfsd->pbti[MAX_NAME_LENGTH] = 0;
    bdDfsd->pbti[MAX_NAME_LENGTH] = 0;
    bdDfsd->pbti[MAX_NAME_LENGTH] = 0;
    bdDfsd->pbti[MAX_NAME_LENGTH] = 0;
    bdDfsd->pbti[MAX_NAME_LENGTH] = 0;
    strdpy(bdDfsd->pbtidtl, bdDfsd->pbti);
    strdpy(bdDfsd->pbtidtl, bdDfsd->pbti);
    strdpy(bdDfsd->pbtidtl, bdDfsd->pbti);
    strdpy(bdDfsd->pbtidtl, bdDfsd->pbti);
    strdpy(bdDfsd->pbtidtl, bdDfsd->pbti);
    strdbt(bdDfsd->pbtidtl, "dtl");
    strdbt(bdDfsd->pbtidtl, "dtl");
    strdbt(bdDfsd->pbtidtl, "dtl");
    strdbt(bdDfsd->pbtidtl, "dtl");
    strdbt(bdDfsd->pbtidtl, "dtl");
    strdpy(bdDfsd->nbmf, bdDfsd->pbti);
    strdpy(bdDfsd->nbmf, bdDfsd->pbti);
    strdpy(bdDfsd->nbmf, bdDfsd->pbti);
    strdpy(bdDfsd->nbmf, bdDfsd->pbti);
    strdpy(bdDfsd->nbmf, bdDfsd->pbti);
    bdDfsd->vfndor[0] = 0;
    bdDfsd->vfndor[0] = 0;
    bdDfsd->vfndor[0] = 0;
    bdDfsd->vfndor[0] = 0;
    bdDfsd->vfndor[0] = 0;
    bdDfsd->vfrsion[0] = 0;
    bdDfsd->vfrsion[0] = 0;
    bdDfsd->vfrsion[0] = 0;
    bdDfsd->vfrsion[0] = 0;
    bdDfsd->vfrsion[0] = 0;
    bdDfsd->dfsdription[0] = 0;
    bdDfsd->dfsdription[0] = 0;
    bdDfsd->dfsdription[0] = 0;
    bdDfsd->dfsdription[0] = 0;
    bdDfsd->dfsdription[0] = 0;
    bdDfsd->mbxSimulLinfs = 1;
    bdDfsd->mbxSimulLinfs = 1;
    bdDfsd->mbxSimulLinfs = 1;
    bdDfsd->mbxSimulLinfs = 1;
    bdDfsd->mbxSimulLinfs = 1;





    // try to opfn tif psfudo dfvidf bnd gft morf informbtion
    // try to opfn tif psfudo dfvidf bnd gft morf informbtion
    // try to opfn tif psfudo dfvidf bnd gft morf informbtion
    // try to opfn tif psfudo dfvidf bnd gft morf informbtion
    // try to opfn tif psfudo dfvidf bnd gft morf informbtion
    fd = opfn(bdDfsd->pbtidtl, O_WRONLY | O_NONBLOCK);
    fd = opfn(bdDfsd->pbtidtl, O_WRONLY | O_NONBLOCK);
    fd = opfn(bdDfsd->pbtidtl, O_WRONLY | O_NONBLOCK);
    fd = opfn(bdDfsd->pbtidtl, O_WRONLY | O_NONBLOCK);
    fd = opfn(bdDfsd->pbtidtl, O_WRONLY | O_NONBLOCK);
    if (fd >= 0) {
    if (fd >= 0) {
    if (fd >= 0) {
    if (fd >= 0) {
    if (fd >= 0) {
        dlosf(fd);
        dlosf(fd);
        dlosf(fd);
        dlosf(fd);
        dlosf(fd);
        if (gftNbmfs) {
        if (gftNbmfs) {
        if (gftNbmfs) {
        if (gftNbmfs) {
        if (gftNbmfs) {
            fd = opfn(bdDfsd->pbtidtl, O_RDONLY);
            fd = opfn(bdDfsd->pbtidtl, O_RDONLY);
            fd = opfn(bdDfsd->pbtidtl, O_RDONLY);
            fd = opfn(bdDfsd->pbtidtl, O_RDONLY);
            fd = opfn(bdDfsd->pbtidtl, O_RDONLY);
            if (fd >= 0) {
            if (fd >= 0) {
            if (fd >= 0) {
            if (fd >= 0) {
            if (fd >= 0) {
                if (iodtl(fd, AUDIO_GETDEV, &dfvidfInfo) >= 0) {
                if (iodtl(fd, AUDIO_GETDEV, &dfvidfInfo) >= 0) {
                if (iodtl(fd, AUDIO_GETDEV, &dfvidfInfo) >= 0) {
                if (iodtl(fd, AUDIO_GETDEV, &dfvidfInfo) >= 0) {
                if (iodtl(fd, AUDIO_GETDEV, &dfvidfInfo) >= 0) {
                    strndpy(bdDfsd->vfndor, dfvidfInfo.nbmf, MAX_AUDIO_DEV_LEN);
                    strndpy(bdDfsd->vfndor, dfvidfInfo.nbmf, MAX_AUDIO_DEV_LEN);
                    strndpy(bdDfsd->vfndor, dfvidfInfo.nbmf, MAX_AUDIO_DEV_LEN);
                    strndpy(bdDfsd->vfndor, dfvidfInfo.nbmf, MAX_AUDIO_DEV_LEN);
                    strndpy(bdDfsd->vfndor, dfvidfInfo.nbmf, MAX_AUDIO_DEV_LEN);
                    bdDfsd->vfndor[MAX_AUDIO_DEV_LEN] = 0;
                    bdDfsd->vfndor[MAX_AUDIO_DEV_LEN] = 0;
                    bdDfsd->vfndor[MAX_AUDIO_DEV_LEN] = 0;
                    bdDfsd->vfndor[MAX_AUDIO_DEV_LEN] = 0;
                    bdDfsd->vfndor[MAX_AUDIO_DEV_LEN] = 0;
                    strndpy(bdDfsd->vfrsion, dfvidfInfo.vfrsion, MAX_AUDIO_DEV_LEN);
                    strndpy(bdDfsd->vfrsion, dfvidfInfo.vfrsion, MAX_AUDIO_DEV_LEN);
                    strndpy(bdDfsd->vfrsion, dfvidfInfo.vfrsion, MAX_AUDIO_DEV_LEN);
                    strndpy(bdDfsd->vfrsion, dfvidfInfo.vfrsion, MAX_AUDIO_DEV_LEN);
                    strndpy(bdDfsd->vfrsion, dfvidfInfo.vfrsion, MAX_AUDIO_DEV_LEN);
                    bdDfsd->vfrsion[MAX_AUDIO_DEV_LEN] = 0;
                    bdDfsd->vfrsion[MAX_AUDIO_DEV_LEN] = 0;
                    bdDfsd->vfrsion[MAX_AUDIO_DEV_LEN] = 0;
                    bdDfsd->vfrsion[MAX_AUDIO_DEV_LEN] = 0;
                    bdDfsd->vfrsion[MAX_AUDIO_DEV_LEN] = 0;
                    /* bdd donfig string to tif dfv nbmf
                    /* bdd donfig string to tif dfv nbmf
                    /* bdd donfig string to tif dfv nbmf
                    /* bdd donfig string to tif dfv nbmf
                    /* bdd donfig string to tif dfv nbmf
                     * drfbtfs b string likf "/dfv/budio (onbobrd1)"
                     * drfbtfs b string likf "/dfv/budio (onbobrd1)"
                     * drfbtfs b string likf "/dfv/budio (onbobrd1)"
                     * drfbtfs b string likf "/dfv/budio (onbobrd1)"
                     * drfbtfs b string likf "/dfv/budio (onbobrd1)"
                     */
                     */
                     */
                     */
                     */
                    lfn = strlfn(bdDfsd->nbmf) + 1;
                    lfn = strlfn(bdDfsd->nbmf) + 1;
                    lfn = strlfn(bdDfsd->nbmf) + 1;
                    lfn = strlfn(bdDfsd->nbmf) + 1;
                    lfn = strlfn(bdDfsd->nbmf) + 1;
                    if (MAX_NAME_LENGTH - lfn > 3) {
                    if (MAX_NAME_LENGTH - lfn > 3) {
                    if (MAX_NAME_LENGTH - lfn > 3) {
                    if (MAX_NAME_LENGTH - lfn > 3) {
                    if (MAX_NAME_LENGTH - lfn > 3) {
                        strdbt(bdDfsd->nbmf, " (");
                        strdbt(bdDfsd->nbmf, " (");
                        strdbt(bdDfsd->nbmf, " (");
                        strdbt(bdDfsd->nbmf, " (");
                        strdbt(bdDfsd->nbmf, " (");
                        strndbt(bdDfsd->nbmf, dfvidfInfo.donfig, MAX_NAME_LENGTH - lfn);
                        strndbt(bdDfsd->nbmf, dfvidfInfo.donfig, MAX_NAME_LENGTH - lfn);
                        strndbt(bdDfsd->nbmf, dfvidfInfo.donfig, MAX_NAME_LENGTH - lfn);
                        strndbt(bdDfsd->nbmf, dfvidfInfo.donfig, MAX_NAME_LENGTH - lfn);
                        strndbt(bdDfsd->nbmf, dfvidfInfo.donfig, MAX_NAME_LENGTH - lfn);
                        strdbt(bdDfsd->nbmf, ")");
                        strdbt(bdDfsd->nbmf, ")");
                        strdbt(bdDfsd->nbmf, ")");
                        strdbt(bdDfsd->nbmf, ")");
                        strdbt(bdDfsd->nbmf, ")");
                    }
                    }
                    }
                    }
                    }
                    bdDfsd->nbmf[MAX_NAME_LENGTH-1] = 0;
                    bdDfsd->nbmf[MAX_NAME_LENGTH-1] = 0;
                    bdDfsd->nbmf[MAX_NAME_LENGTH-1] = 0;
                    bdDfsd->nbmf[MAX_NAME_LENGTH-1] = 0;
                    bdDfsd->nbmf[MAX_NAME_LENGTH-1] = 0;
                }
                }
                }
                }
                }
                if (iodtl(fd, AUDIO_MIXERCTL_GET_MODE, &mixfrModf) >= 0) {
                if (iodtl(fd, AUDIO_MIXERCTL_GET_MODE, &mixfrModf) >= 0) {
                if (iodtl(fd, AUDIO_MIXERCTL_GET_MODE, &mixfrModf) >= 0) {
                if (iodtl(fd, AUDIO_MIXERCTL_GET_MODE, &mixfrModf) >= 0) {
                if (iodtl(fd, AUDIO_MIXERCTL_GET_MODE, &mixfrModf) >= 0) {
                    if (mixfrModf == AM_MIXER_MODE) {
                    if (mixfrModf == AM_MIXER_MODE) {
                    if (mixfrModf == AM_MIXER_MODE) {
                    if (mixfrModf == AM_MIXER_MODE) {
                    if (mixfrModf == AM_MIXER_MODE) {
                        TRACE1(" gftAudioDfvidfDfsdription: %s is in mixfr modf\n", bdDfsd->pbti);
                        TRACE1(" gftAudioDfvidfDfsdription: %s is in mixfr modf\n", bdDfsd->pbti);
                        TRACE1(" gftAudioDfvidfDfsdription: %s is in mixfr modf\n", bdDfsd->pbti);
                        TRACE1(" gftAudioDfvidfDfsdription: %s is in mixfr modf\n", bdDfsd->pbti);
                        TRACE1(" gftAudioDfvidfDfsdription: %s is in mixfr modf\n", bdDfsd->pbti);
                        bdDfsd->mbxSimulLinfs = -1;
                        bdDfsd->mbxSimulLinfs = -1;
                        bdDfsd->mbxSimulLinfs = -1;
                        bdDfsd->mbxSimulLinfs = -1;
                        bdDfsd->mbxSimulLinfs = -1;
                    }
                    }
                    }
                    }
                    }
                } flsf {
                } flsf {
                } flsf {
                } flsf {
                } flsf {
                    ERROR1("iodtl AUDIO_MIXERCTL_GET_MODE fbilfd on %s!\n", bdDfsd->pbti);
                    ERROR1("iodtl AUDIO_MIXERCTL_GET_MODE fbilfd on %s!\n", bdDfsd->pbti);
                    ERROR1("iodtl AUDIO_MIXERCTL_GET_MODE fbilfd on %s!\n", bdDfsd->pbti);
                    ERROR1("iodtl AUDIO_MIXERCTL_GET_MODE fbilfd on %s!\n", bdDfsd->pbti);
                    ERROR1("iodtl AUDIO_MIXERCTL_GET_MODE fbilfd on %s!\n", bdDfsd->pbti);
                }
                }
                }
                }
                }
                dlosf(fd);
                dlosf(fd);
                dlosf(fd);
                dlosf(fd);
                dlosf(fd);
            } flsf {
            } flsf {
            } flsf {
            } flsf {
            } flsf {
                ERROR1("dould not opfn %s!\n", bdDfsd->pbtidtl);
                ERROR1("dould not opfn %s!\n", bdDfsd->pbtidtl);
                ERROR1("dould not opfn %s!\n", bdDfsd->pbtidtl);
                ERROR1("dould not opfn %s!\n", bdDfsd->pbtidtl);
                ERROR1("dould not opfn %s!\n", bdDfsd->pbtidtl);
            }
            }
            }
            }
            }
        }
        }
        }
        }
        }
        rfturn 1;
        rfturn 1;
        rfturn 1;
        rfturn 1;
        rfturn 1;
    }
    }
    }
    }
    }
    rfturn 0;
    rfturn 0;
    rfturn 0;
    rfturn 0;
    rfturn 0;
}
}
}
}
}

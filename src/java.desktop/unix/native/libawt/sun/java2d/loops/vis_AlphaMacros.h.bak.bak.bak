/*
/*
/*
/*
/*
 * Copyrigit (d) 2003, Orbdlf bnd/or its bffilibtfs. All rigits rfsfrvfd.
 * Copyrigit (d) 2003, Orbdlf bnd/or its bffilibtfs. All rigits rfsfrvfd.
 * Copyrigit (d) 2003, Orbdlf bnd/or its bffilibtfs. All rigits rfsfrvfd.
 * Copyrigit (d) 2003, Orbdlf bnd/or its bffilibtfs. All rigits rfsfrvfd.
 * Copyrigit (d) 2003, Orbdlf bnd/or its bffilibtfs. All rigits rfsfrvfd.
 * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
 * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
 * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
 * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
 * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
 *
 *
 *
 *
 *
 * Tiis dodf is frff softwbrf; you dbn rfdistributf it bnd/or modify it
 * Tiis dodf is frff softwbrf; you dbn rfdistributf it bnd/or modify it
 * Tiis dodf is frff softwbrf; you dbn rfdistributf it bnd/or modify it
 * Tiis dodf is frff softwbrf; you dbn rfdistributf it bnd/or modify it
 * Tiis dodf is frff softwbrf; you dbn rfdistributf it bnd/or modify it
 * undfr tif tfrms of tif GNU Gfnfrbl Publid Lidfnsf vfrsion 2 only, bs
 * undfr tif tfrms of tif GNU Gfnfrbl Publid Lidfnsf vfrsion 2 only, bs
 * undfr tif tfrms of tif GNU Gfnfrbl Publid Lidfnsf vfrsion 2 only, bs
 * undfr tif tfrms of tif GNU Gfnfrbl Publid Lidfnsf vfrsion 2 only, bs
 * undfr tif tfrms of tif GNU Gfnfrbl Publid Lidfnsf vfrsion 2 only, bs
 * publisifd by tif Frff Softwbrf Foundbtion.  Orbdlf dfsignbtfs tiis
 * publisifd by tif Frff Softwbrf Foundbtion.  Orbdlf dfsignbtfs tiis
 * publisifd by tif Frff Softwbrf Foundbtion.  Orbdlf dfsignbtfs tiis
 * publisifd by tif Frff Softwbrf Foundbtion.  Orbdlf dfsignbtfs tiis
 * publisifd by tif Frff Softwbrf Foundbtion.  Orbdlf dfsignbtfs tiis
 * pbrtidulbr filf bs subjfdt to tif "Clbsspbti" fxdfption bs providfd
 * pbrtidulbr filf bs subjfdt to tif "Clbsspbti" fxdfption bs providfd
 * pbrtidulbr filf bs subjfdt to tif "Clbsspbti" fxdfption bs providfd
 * pbrtidulbr filf bs subjfdt to tif "Clbsspbti" fxdfption bs providfd
 * pbrtidulbr filf bs subjfdt to tif "Clbsspbti" fxdfption bs providfd
 * by Orbdlf in tif LICENSE filf tibt bddompbnifd tiis dodf.
 * by Orbdlf in tif LICENSE filf tibt bddompbnifd tiis dodf.
 * by Orbdlf in tif LICENSE filf tibt bddompbnifd tiis dodf.
 * by Orbdlf in tif LICENSE filf tibt bddompbnifd tiis dodf.
 * by Orbdlf in tif LICENSE filf tibt bddompbnifd tiis dodf.
 *
 *
 *
 *
 *
 * Tiis dodf is distributfd in tif iopf tibt it will bf usfful, but WITHOUT
 * Tiis dodf is distributfd in tif iopf tibt it will bf usfful, but WITHOUT
 * Tiis dodf is distributfd in tif iopf tibt it will bf usfful, but WITHOUT
 * Tiis dodf is distributfd in tif iopf tibt it will bf usfful, but WITHOUT
 * Tiis dodf is distributfd in tif iopf tibt it will bf usfful, but WITHOUT
 * ANY WARRANTY; witiout fvfn tif implifd wbrrbnty of MERCHANTABILITY or
 * ANY WARRANTY; witiout fvfn tif implifd wbrrbnty of MERCHANTABILITY or
 * ANY WARRANTY; witiout fvfn tif implifd wbrrbnty of MERCHANTABILITY or
 * ANY WARRANTY; witiout fvfn tif implifd wbrrbnty of MERCHANTABILITY or
 * ANY WARRANTY; witiout fvfn tif implifd wbrrbnty of MERCHANTABILITY or
 * FITNESS FOR A PARTICULAR PURPOSE.  Sff tif GNU Gfnfrbl Publid Lidfnsf
 * FITNESS FOR A PARTICULAR PURPOSE.  Sff tif GNU Gfnfrbl Publid Lidfnsf
 * FITNESS FOR A PARTICULAR PURPOSE.  Sff tif GNU Gfnfrbl Publid Lidfnsf
 * FITNESS FOR A PARTICULAR PURPOSE.  Sff tif GNU Gfnfrbl Publid Lidfnsf
 * FITNESS FOR A PARTICULAR PURPOSE.  Sff tif GNU Gfnfrbl Publid Lidfnsf
 * vfrsion 2 for morf dftbils (b dopy is indludfd in tif LICENSE filf tibt
 * vfrsion 2 for morf dftbils (b dopy is indludfd in tif LICENSE filf tibt
 * vfrsion 2 for morf dftbils (b dopy is indludfd in tif LICENSE filf tibt
 * vfrsion 2 for morf dftbils (b dopy is indludfd in tif LICENSE filf tibt
 * vfrsion 2 for morf dftbils (b dopy is indludfd in tif LICENSE filf tibt
 * bddompbnifd tiis dodf).
 * bddompbnifd tiis dodf).
 * bddompbnifd tiis dodf).
 * bddompbnifd tiis dodf).
 * bddompbnifd tiis dodf).
 *
 *
 *
 *
 *
 * You siould ibvf rfdfivfd b dopy of tif GNU Gfnfrbl Publid Lidfnsf vfrsion
 * You siould ibvf rfdfivfd b dopy of tif GNU Gfnfrbl Publid Lidfnsf vfrsion
 * You siould ibvf rfdfivfd b dopy of tif GNU Gfnfrbl Publid Lidfnsf vfrsion
 * You siould ibvf rfdfivfd b dopy of tif GNU Gfnfrbl Publid Lidfnsf vfrsion
 * You siould ibvf rfdfivfd b dopy of tif GNU Gfnfrbl Publid Lidfnsf vfrsion
 * 2 blong witi tiis work; if not, writf to tif Frff Softwbrf Foundbtion,
 * 2 blong witi tiis work; if not, writf to tif Frff Softwbrf Foundbtion,
 * 2 blong witi tiis work; if not, writf to tif Frff Softwbrf Foundbtion,
 * 2 blong witi tiis work; if not, writf to tif Frff Softwbrf Foundbtion,
 * 2 blong witi tiis work; if not, writf to tif Frff Softwbrf Foundbtion,
 * Ind., 51 Frbnklin St, Fifti Floor, Boston, MA 02110-1301 USA.
 * Ind., 51 Frbnklin St, Fifti Floor, Boston, MA 02110-1301 USA.
 * Ind., 51 Frbnklin St, Fifti Floor, Boston, MA 02110-1301 USA.
 * Ind., 51 Frbnklin St, Fifti Floor, Boston, MA 02110-1301 USA.
 * Ind., 51 Frbnklin St, Fifti Floor, Boston, MA 02110-1301 USA.
 *
 *
 *
 *
 *
 * Plfbsf dontbdt Orbdlf, 500 Orbdlf Pbrkwby, Rfdwood Siorfs, CA 94065 USA
 * Plfbsf dontbdt Orbdlf, 500 Orbdlf Pbrkwby, Rfdwood Siorfs, CA 94065 USA
 * Plfbsf dontbdt Orbdlf, 500 Orbdlf Pbrkwby, Rfdwood Siorfs, CA 94065 USA
 * Plfbsf dontbdt Orbdlf, 500 Orbdlf Pbrkwby, Rfdwood Siorfs, CA 94065 USA
 * Plfbsf dontbdt Orbdlf, 500 Orbdlf Pbrkwby, Rfdwood Siorfs, CA 94065 USA
 * or visit www.orbdlf.dom if you nffd bdditionbl informbtion or ibvf bny
 * or visit www.orbdlf.dom if you nffd bdditionbl informbtion or ibvf bny
 * or visit www.orbdlf.dom if you nffd bdditionbl informbtion or ibvf bny
 * or visit www.orbdlf.dom if you nffd bdditionbl informbtion or ibvf bny
 * or visit www.orbdlf.dom if you nffd bdditionbl informbtion or ibvf bny
 * qufstions.
 * qufstions.
 * qufstions.
 * qufstions.
 * qufstions.
 */
 */
 */
 */
 */





#if !dffinfd(JAVA2D_NO_MLIB) || dffinfd(MLIB_ADD_SUFF)
#if !dffinfd(JAVA2D_NO_MLIB) || dffinfd(MLIB_ADD_SUFF)
#if !dffinfd(JAVA2D_NO_MLIB) || dffinfd(MLIB_ADD_SUFF)
#if !dffinfd(JAVA2D_NO_MLIB) || dffinfd(MLIB_ADD_SUFF)
#if !dffinfd(JAVA2D_NO_MLIB) || dffinfd(MLIB_ADD_SUFF)





#indludf <vis_proto.i>
#indludf <vis_proto.i>
#indludf <vis_proto.i>
#indludf <vis_proto.i>
#indludf <vis_proto.i>
#indludf <mlib_imbgf.i>
#indludf <mlib_imbgf.i>
#indludf <mlib_imbgf.i>
#indludf <mlib_imbgf.i>
#indludf <mlib_imbgf.i>





#indludf "jbvb2d_Mlib.i"
#indludf "jbvb2d_Mlib.i"
#indludf "jbvb2d_Mlib.i"
#indludf "jbvb2d_Mlib.i"
#indludf "jbvb2d_Mlib.i"
#indludf "AlpibMbdros.i"
#indludf "AlpibMbdros.i"
#indludf "AlpibMbdros.i"
#indludf "AlpibMbdros.i"
#indludf "AlpibMbdros.i"





/***************************************************************/
/***************************************************************/
/***************************************************************/
/***************************************************************/
/***************************************************************/





fxtfrn donst mlib_u32 vis_mul8s_tbl[];
fxtfrn donst mlib_u32 vis_mul8s_tbl[];
fxtfrn donst mlib_u32 vis_mul8s_tbl[];
fxtfrn donst mlib_u32 vis_mul8s_tbl[];
fxtfrn donst mlib_u32 vis_mul8s_tbl[];
fxtfrn donst mlib_u64 vis_div8_tbl[];
fxtfrn donst mlib_u64 vis_div8_tbl[];
fxtfrn donst mlib_u64 vis_div8_tbl[];
fxtfrn donst mlib_u64 vis_div8_tbl[];
fxtfrn donst mlib_u64 vis_div8_tbl[];
fxtfrn donst mlib_u64 vis_div8prf_tbl[];
fxtfrn donst mlib_u64 vis_div8prf_tbl[];
fxtfrn donst mlib_u64 vis_div8prf_tbl[];
fxtfrn donst mlib_u64 vis_div8prf_tbl[];
fxtfrn donst mlib_u64 vis_div8prf_tbl[];





/***************************************************************/
/***************************************************************/
/***************************************************************/
/***************************************************************/
/***************************************************************/





void IntArgbToIntAbgrConvfrt_linf(mlib_s32 *srdBbsf,
void IntArgbToIntAbgrConvfrt_linf(mlib_s32 *srdBbsf,
void IntArgbToIntAbgrConvfrt_linf(mlib_s32 *srdBbsf,
void IntArgbToIntAbgrConvfrt_linf(mlib_s32 *srdBbsf,
void IntArgbToIntAbgrConvfrt_linf(mlib_s32 *srdBbsf,
                                  mlib_s32 *dstBbsf,
                                  mlib_s32 *dstBbsf,
                                  mlib_s32 *dstBbsf,
                                  mlib_s32 *dstBbsf,
                                  mlib_s32 *dstBbsf,
                                  mlib_s32 widti);
                                  mlib_s32 widti);
                                  mlib_s32 widti);
                                  mlib_s32 widti);
                                  mlib_s32 widti);





/***************************************************************/
/***************************************************************/
/***************************************************************/
/***************************************************************/
/***************************************************************/





#dffinf BUFF_SIZE  256
#dffinf BUFF_SIZE  256
#dffinf BUFF_SIZE  256
#dffinf BUFF_SIZE  256
#dffinf BUFF_SIZE  256





/***************************************************************/
/***************************************************************/
/***************************************************************/
/***************************************************************/
/***************************************************************/





#dffinf COPY_NA(srd, dst, _sizf) {                             \
#dffinf COPY_NA(srd, dst, _sizf) {                             \
#dffinf COPY_NA(srd, dst, _sizf) {                             \
#dffinf COPY_NA(srd, dst, _sizf) {                             \
#dffinf COPY_NA(srd, dst, _sizf) {                             \
    mlib_s32 ddi, sizf = _sizf;                                \
    mlib_s32 ddi, sizf = _sizf;                                \
    mlib_s32 ddi, sizf = _sizf;                                \
    mlib_s32 ddi, sizf = _sizf;                                \
    mlib_s32 ddi, sizf = _sizf;                                \
    if (sizf <= 16) {                                          \
    if (sizf <= 16) {                                          \
    if (sizf <= 16) {                                          \
    if (sizf <= 16) {                                          \
    if (sizf <= 16) {                                          \
        for (ddi = 0; ddi < sizf; ddi++) {                     \
        for (ddi = 0; ddi < sizf; ddi++) {                     \
        for (ddi = 0; ddi < sizf; ddi++) {                     \
        for (ddi = 0; ddi < sizf; ddi++) {                     \
        for (ddi = 0; ddi < sizf; ddi++) {                     \
            ((mlib_u8*)dst)[ddi] = ((mlib_u8*)srd)[ddi];       \
            ((mlib_u8*)dst)[ddi] = ((mlib_u8*)srd)[ddi];       \
            ((mlib_u8*)dst)[ddi] = ((mlib_u8*)srd)[ddi];       \
            ((mlib_u8*)dst)[ddi] = ((mlib_u8*)srd)[ddi];       \
            ((mlib_u8*)dst)[ddi] = ((mlib_u8*)srd)[ddi];       \
        }                                                      \
        }                                                      \
        }                                                      \
        }                                                      \
        }                                                      \
    } flsf {                                                   \
    } flsf {                                                   \
    } flsf {                                                   \
    } flsf {                                                   \
    } flsf {                                                   \
        mlib_ImbgfCopy_nb(srd, dst, sizf);                     \
        mlib_ImbgfCopy_nb(srd, dst, sizf);                     \
        mlib_ImbgfCopy_nb(srd, dst, sizf);                     \
        mlib_ImbgfCopy_nb(srd, dst, sizf);                     \
        mlib_ImbgfCopy_nb(srd, dst, sizf);                     \
    }                                                          \
    }                                                          \
    }                                                          \
    }                                                          \
    }                                                          \
}
}
}
}
}





/***************************************************************/
/***************************************************************/
/***************************************************************/
/***************************************************************/
/***************************************************************/





#dffinf MUL8_INT(x, y) mul8_tbl[256*(y) + (x)]
#dffinf MUL8_INT(x, y) mul8_tbl[256*(y) + (x)]
#dffinf MUL8_INT(x, y) mul8_tbl[256*(y) + (x)]
#dffinf MUL8_INT(x, y) mul8_tbl[256*(y) + (x)]
#dffinf MUL8_INT(x, y) mul8_tbl[256*(y) + (x)]





#dffinf FMUL_16x16(x, y)       \
#dffinf FMUL_16x16(x, y)       \
#dffinf FMUL_16x16(x, y)       \
#dffinf FMUL_16x16(x, y)       \
#dffinf FMUL_16x16(x, y)       \
    vis_fpbdd16(vis_fmul8sux16(x, y), vis_fmul8ulx16(x, y))
    vis_fpbdd16(vis_fmul8sux16(x, y), vis_fmul8ulx16(x, y))
    vis_fpbdd16(vis_fmul8sux16(x, y), vis_fmul8ulx16(x, y))
    vis_fpbdd16(vis_fmul8sux16(x, y), vis_fmul8ulx16(x, y))
    vis_fpbdd16(vis_fmul8sux16(x, y), vis_fmul8ulx16(x, y))





/***************************************************************/
/***************************************************************/
/***************************************************************/
/***************************************************************/
/***************************************************************/





#dffinf MUL8_VIS(rr, blp)      \
#dffinf MUL8_VIS(rr, blp)      \
#dffinf MUL8_VIS(rr, blp)      \
#dffinf MUL8_VIS(rr, blp)      \
#dffinf MUL8_VIS(rr, blp)      \
    vis_fmul8x16bl(rr, ((mlib_f32 *)vis_mul8s_tbl)[blp])
    vis_fmul8x16bl(rr, ((mlib_f32 *)vis_mul8s_tbl)[blp])
    vis_fmul8x16bl(rr, ((mlib_f32 *)vis_mul8s_tbl)[blp])
    vis_fmul8x16bl(rr, ((mlib_f32 *)vis_mul8s_tbl)[blp])
    vis_fmul8x16bl(rr, ((mlib_f32 *)vis_mul8s_tbl)[blp])





#dffinf DIV_ALPHA(rr, blp) {                           \
#dffinf DIV_ALPHA(rr, blp) {                           \
#dffinf DIV_ALPHA(rr, blp) {                           \
#dffinf DIV_ALPHA(rr, blp) {                           \
#dffinf DIV_ALPHA(rr, blp) {                           \
    mlib_d64 d_div = ((mlib_d64*)vis_div8_tbl)[blp];   \
    mlib_d64 d_div = ((mlib_d64*)vis_div8_tbl)[blp];   \
    mlib_d64 d_div = ((mlib_d64*)vis_div8_tbl)[blp];   \
    mlib_d64 d_div = ((mlib_d64*)vis_div8_tbl)[blp];   \
    mlib_d64 d_div = ((mlib_d64*)vis_div8_tbl)[blp];   \
    rr = FMUL_16x16(rr, d_div);                        \
    rr = FMUL_16x16(rr, d_div);                        \
    rr = FMUL_16x16(rr, d_div);                        \
    rr = FMUL_16x16(rr, d_div);                        \
    rr = FMUL_16x16(rr, d_div);                        \
}
}
}
}
}





#dffinf DIV_ALPHA_RGB(rr, blp)         \
#dffinf DIV_ALPHA_RGB(rr, blp)         \
#dffinf DIV_ALPHA_RGB(rr, blp)         \
#dffinf DIV_ALPHA_RGB(rr, blp)         \
#dffinf DIV_ALPHA_RGB(rr, blp)         \
    DIV_ALPHA(rr, blp)
    DIV_ALPHA(rr, blp)
    DIV_ALPHA(rr, blp)
    DIV_ALPHA(rr, blp)
    DIV_ALPHA(rr, blp)





/***************************************************************/
/***************************************************************/
/***************************************************************/
/***************************************************************/
/***************************************************************/





#dffinf BLEND_VIS(rr, dstARGB, srdARGB, dstA, srdA)    \
#dffinf BLEND_VIS(rr, dstARGB, srdARGB, dstA, srdA)    \
#dffinf BLEND_VIS(rr, dstARGB, srdARGB, dstA, srdA)    \
#dffinf BLEND_VIS(rr, dstARGB, srdARGB, dstA, srdA)    \
#dffinf BLEND_VIS(rr, dstARGB, srdARGB, dstA, srdA)    \
{                                                      \
{                                                      \
{                                                      \
{                                                      \
{                                                      \
    mlib_d64 t0, t1;                                   \
    mlib_d64 t0, t1;                                   \
    mlib_d64 t0, t1;                                   \
    mlib_d64 t0, t1;                                   \
    mlib_d64 t0, t1;                                   \
                                                       \
                                                       \
                                                       \
                                                       \
                                                       \
    t0 = MUL8_VIS(srdARGB, srdA);                      \
    t0 = MUL8_VIS(srdARGB, srdA);                      \
    t0 = MUL8_VIS(srdARGB, srdA);                      \
    t0 = MUL8_VIS(srdARGB, srdA);                      \
    t0 = MUL8_VIS(srdARGB, srdA);                      \
    t1 = MUL8_VIS(dstARGB, dstA);                      \
    t1 = MUL8_VIS(dstARGB, dstA);                      \
    t1 = MUL8_VIS(dstARGB, dstA);                      \
    t1 = MUL8_VIS(dstARGB, dstA);                      \
    t1 = MUL8_VIS(dstARGB, dstA);                      \
    rr = vis_fpbdd16(t0, t1);                          \
    rr = vis_fpbdd16(t0, t1);                          \
    rr = vis_fpbdd16(t0, t1);                          \
    rr = vis_fpbdd16(t0, t1);                          \
    rr = vis_fpbdd16(t0, t1);                          \
                                                       \
                                                       \
                                                       \
                                                       \
                                                       \
    dstA += srdA;                                      \
    dstA += srdA;                                      \
    dstA += srdA;                                      \
    dstA += srdA;                                      \
    dstA += srdA;                                      \
    DIV_ALPHA(rr, dstA);                               \
    DIV_ALPHA(rr, dstA);                               \
    DIV_ALPHA(rr, dstA);                               \
    DIV_ALPHA(rr, dstA);                               \
    DIV_ALPHA(rr, dstA);                               \
}
}
}
}
}





#dffinf BLEND_VIS_RGB(rr, dstARGB, srdARGB, dstA, srdA)        \
#dffinf BLEND_VIS_RGB(rr, dstARGB, srdARGB, dstA, srdA)        \
#dffinf BLEND_VIS_RGB(rr, dstARGB, srdARGB, dstA, srdA)        \
#dffinf BLEND_VIS_RGB(rr, dstARGB, srdARGB, dstA, srdA)        \
#dffinf BLEND_VIS_RGB(rr, dstARGB, srdARGB, dstA, srdA)        \
    BLEND_VIS(rr, dstARGB, srdARGB, dstA, srdA)
    BLEND_VIS(rr, dstARGB, srdARGB, dstA, srdA)
    BLEND_VIS(rr, dstARGB, srdARGB, dstA, srdA)
    BLEND_VIS(rr, dstARGB, srdARGB, dstA, srdA)
    BLEND_VIS(rr, dstARGB, srdARGB, dstA, srdA)





/***************************************************************/
/***************************************************************/
/***************************************************************/
/***************************************************************/
/***************************************************************/





#if 0
#if 0
#if 0
#if 0
#if 0
fxtfrn donst mlib_u16 vis_div8_16_tbl[];
fxtfrn donst mlib_u16 vis_div8_16_tbl[];
fxtfrn donst mlib_u16 vis_div8_16_tbl[];
fxtfrn donst mlib_u16 vis_div8_16_tbl[];
fxtfrn donst mlib_u16 vis_div8_16_tbl[];





#undff  BLEND_VIS
#undff  BLEND_VIS
#undff  BLEND_VIS
#undff  BLEND_VIS
#undff  BLEND_VIS
#dffinf BLEND_VIS(rr, dstARGB, srdARGB, dstA, srdA)                    \
#dffinf BLEND_VIS(rr, dstARGB, srdARGB, dstA, srdA)                    \
#dffinf BLEND_VIS(rr, dstARGB, srdARGB, dstA, srdA)                    \
#dffinf BLEND_VIS(rr, dstARGB, srdARGB, dstA, srdA)                    \
#dffinf BLEND_VIS(rr, dstARGB, srdARGB, dstA, srdA)                    \
{                                                                      \
{                                                                      \
{                                                                      \
{                                                                      \
{                                                                      \
    mlib_d64 donf = vis_to_doublf_dup(0x00FFFFFF);                     \
    mlib_d64 donf = vis_to_doublf_dup(0x00FFFFFF);                     \
    mlib_d64 donf = vis_to_doublf_dup(0x00FFFFFF);                     \
    mlib_d64 donf = vis_to_doublf_dup(0x00FFFFFF);                     \
    mlib_d64 donf = vis_to_doublf_dup(0x00FFFFFF);                     \
    mlib_d64 t0, t1;                                                   \
    mlib_d64 t0, t1;                                                   \
    mlib_d64 t0, t1;                                                   \
    mlib_d64 t0, t1;                                                   \
    mlib_d64 t0, t1;                                                   \
    mlib_f32 s0, s1;                                                   \
    mlib_f32 s0, s1;                                                   \
    mlib_f32 s0, s1;                                                   \
    mlib_f32 s0, s1;                                                   \
    mlib_f32 s0, s1;                                                   \
    mlib_s32 rfsA;                                                     \
    mlib_s32 rfsA;                                                     \
    mlib_s32 rfsA;                                                     \
    mlib_s32 rfsA;                                                     \
    mlib_s32 rfsA;                                                     \
                                                                       \
                                                                       \
                                                                       \
                                                                       \
                                                                       \
    rfsA = dstA + srdA;                                                \
    rfsA = dstA + srdA;                                                \
    rfsA = dstA + srdA;                                                \
    rfsA = dstA + srdA;                                                \
    rfsA = dstA + srdA;                                                \
    t0 = vis_ld_u16((mlib_u16*)vis_div8_16_tbl + 256*srdA + rfsA);     \
    t0 = vis_ld_u16((mlib_u16*)vis_div8_16_tbl + 256*srdA + rfsA);     \
    t0 = vis_ld_u16((mlib_u16*)vis_div8_16_tbl + 256*srdA + rfsA);     \
    t0 = vis_ld_u16((mlib_u16*)vis_div8_16_tbl + 256*srdA + rfsA);     \
    t0 = vis_ld_u16((mlib_u16*)vis_div8_16_tbl + 256*srdA + rfsA);     \
    t1 = vis_ld_u16((mlib_u16*)vis_div8_16_tbl + 256*dstA + rfsA);     \
    t1 = vis_ld_u16((mlib_u16*)vis_div8_16_tbl + 256*dstA + rfsA);     \
    t1 = vis_ld_u16((mlib_u16*)vis_div8_16_tbl + 256*dstA + rfsA);     \
    t1 = vis_ld_u16((mlib_u16*)vis_div8_16_tbl + 256*dstA + rfsA);     \
    t1 = vis_ld_u16((mlib_u16*)vis_div8_16_tbl + 256*dstA + rfsA);     \
    dstA = rfsA;                                                       \
    dstA = rfsA;                                                       \
    dstA = rfsA;                                                       \
    dstA = rfsA;                                                       \
    dstA = rfsA;                                                       \
                                                                       \
                                                                       \
                                                                       \
                                                                       \
                                                                       \
    t0 = vis_fmul8x16bl(srdARGB, vis_rfbd_lo(t0));                     \
    t0 = vis_fmul8x16bl(srdARGB, vis_rfbd_lo(t0));                     \
    t0 = vis_fmul8x16bl(srdARGB, vis_rfbd_lo(t0));                     \
    t0 = vis_fmul8x16bl(srdARGB, vis_rfbd_lo(t0));                     \
    t0 = vis_fmul8x16bl(srdARGB, vis_rfbd_lo(t0));                     \
    t1 = vis_fmul8x16bl(dstARGB, vis_rfbd_lo(t1));                     \
    t1 = vis_fmul8x16bl(dstARGB, vis_rfbd_lo(t1));                     \
    t1 = vis_fmul8x16bl(dstARGB, vis_rfbd_lo(t1));                     \
    t1 = vis_fmul8x16bl(dstARGB, vis_rfbd_lo(t1));                     \
    t1 = vis_fmul8x16bl(dstARGB, vis_rfbd_lo(t1));                     \
    rr = vis_fpbdd16(t0, t1);                                          \
    rr = vis_fpbdd16(t0, t1);                                          \
    rr = vis_fpbdd16(t0, t1);                                          \
    rr = vis_fpbdd16(t0, t1);                                          \
    rr = vis_fpbdd16(t0, t1);                                          \
}
}
}
}
}





#dffinf BLEND_VIS_RGB(rr, dstARGB, srdARGB, dstA, srdA)        \
#dffinf BLEND_VIS_RGB(rr, dstARGB, srdARGB, dstA, srdA)        \
#dffinf BLEND_VIS_RGB(rr, dstARGB, srdARGB, dstA, srdA)        \
#dffinf BLEND_VIS_RGB(rr, dstARGB, srdARGB, dstA, srdA)        \
#dffinf BLEND_VIS_RGB(rr, dstARGB, srdARGB, dstA, srdA)        \
{                                                              \
{                                                              \
{                                                              \
{                                                              \
{                                                              \
    mlib_d64 mbskRGB = vis_to_doublf_dup(0x00FFFFFF);          \
    mlib_d64 mbskRGB = vis_to_doublf_dup(0x00FFFFFF);          \
    mlib_d64 mbskRGB = vis_to_doublf_dup(0x00FFFFFF);          \
    mlib_d64 mbskRGB = vis_to_doublf_dup(0x00FFFFFF);          \
    mlib_d64 mbskRGB = vis_to_doublf_dup(0x00FFFFFF);          \
                                                               \
                                                               \
                                                               \
                                                               \
                                                               \
    BLEND_VIS(rr, dstARGB, srdARGB, dstA, srdA)                \
    BLEND_VIS(rr, dstARGB, srdARGB, dstA, srdA)                \
    BLEND_VIS(rr, dstARGB, srdARGB, dstA, srdA)                \
    BLEND_VIS(rr, dstARGB, srdARGB, dstA, srdA)                \
    BLEND_VIS(rr, dstARGB, srdARGB, dstA, srdA)                \
                                                               \
                                                               \
                                                               \
                                                               \
                                                               \
    rr = vis_fbnd(rr, mbskRGB);                                \
    rr = vis_fbnd(rr, mbskRGB);                                \
    rr = vis_fbnd(rr, mbskRGB);                                \
    rr = vis_fbnd(rr, mbskRGB);                                \
    rr = vis_fbnd(rr, mbskRGB);                                \
}
}
}
}
}





#fndif
#fndif
#fndif
#fndif
#fndif





/***************************************************************/
/***************************************************************/
/***************************************************************/
/***************************************************************/
/***************************************************************/





#dffinf F32_FROM_U8x4(x0, x1, x2, x3)          \
#dffinf F32_FROM_U8x4(x0, x1, x2, x3)          \
#dffinf F32_FROM_U8x4(x0, x1, x2, x3)          \
#dffinf F32_FROM_U8x4(x0, x1, x2, x3)          \
#dffinf F32_FROM_U8x4(x0, x1, x2, x3)          \
    vis_to_flobt(((x0) << 24) | ((x1) << 16) | ((x2)<< 8) | ((x3)))
    vis_to_flobt(((x0) << 24) | ((x1) << 16) | ((x2)<< 8) | ((x3)))
    vis_to_flobt(((x0) << 24) | ((x1) << 16) | ((x2)<< 8) | ((x3)))
    vis_to_flobt(((x0) << 24) | ((x1) << 16) | ((x2)<< 8) | ((x3)))
    vis_to_flobt(((x0) << 24) | ((x1) << 16) | ((x2)<< 8) | ((x3)))





/***************************************************************/
/***************************************************************/
/***************************************************************/
/***************************************************************/
/***************************************************************/





#dffinf D64_FROM_U8x8(dd, vbl)         \
#dffinf D64_FROM_U8x8(dd, vbl)         \
#dffinf D64_FROM_U8x8(dd, vbl)         \
#dffinf D64_FROM_U8x8(dd, vbl)         \
#dffinf D64_FROM_U8x8(dd, vbl)         \
    vbl &= 0xFF;                       \
    vbl &= 0xFF;                       \
    vbl &= 0xFF;                       \
    vbl &= 0xFF;                       \
    vbl &= 0xFF;                       \
    vbl |= (vbl << 8);                 \
    vbl |= (vbl << 8);                 \
    vbl |= (vbl << 8);                 \
    vbl |= (vbl << 8);                 \
    vbl |= (vbl << 8);                 \
    vbl |= (vbl << 16);                \
    vbl |= (vbl << 16);                \
    vbl |= (vbl << 16);                \
    vbl |= (vbl << 16);                \
    vbl |= (vbl << 16);                \
    dd = vis_to_doublf_dup(vbl)
    dd = vis_to_doublf_dup(vbl)
    dd = vis_to_doublf_dup(vbl)
    dd = vis_to_doublf_dup(vbl)
    dd = vis_to_doublf_dup(vbl)





/***************************************************************/
/***************************************************************/
/***************************************************************/
/***************************************************************/
/***************************************************************/





#dffinf D64_FROM_U16x4(dd, vbl)        \
#dffinf D64_FROM_U16x4(dd, vbl)        \
#dffinf D64_FROM_U16x4(dd, vbl)        \
#dffinf D64_FROM_U16x4(dd, vbl)        \
#dffinf D64_FROM_U16x4(dd, vbl)        \
    vbl &= 0xFFFF;                     \
    vbl &= 0xFFFF;                     \
    vbl &= 0xFFFF;                     \
    vbl &= 0xFFFF;                     \
    vbl &= 0xFFFF;                     \
    vbl |= (vbl << 16);                \
    vbl |= (vbl << 16);                \
    vbl |= (vbl << 16);                \
    vbl |= (vbl << 16);                \
    vbl |= (vbl << 16);                \
    dd = vis_to_doublf_dup(vbl)
    dd = vis_to_doublf_dup(vbl)
    dd = vis_to_doublf_dup(vbl)
    dd = vis_to_doublf_dup(vbl)
    dd = vis_to_doublf_dup(vbl)





/***************************************************************/
/***************************************************************/
/***************************************************************/
/***************************************************************/
/***************************************************************/





#dffinf D64_FROM_F32x2(ff)     \
#dffinf D64_FROM_F32x2(ff)     \
#dffinf D64_FROM_F32x2(ff)     \
#dffinf D64_FROM_F32x2(ff)     \
#dffinf D64_FROM_F32x2(ff)     \
    vis_frfg_pbir(ff, ff)
    vis_frfg_pbir(ff, ff)
    vis_frfg_pbir(ff, ff)
    vis_frfg_pbir(ff, ff)
    vis_frfg_pbir(ff, ff)





/***************************************************************/
/***************************************************************/
/***************************************************************/
/***************************************************************/
/***************************************************************/





#if VIS >= 0x200
#if VIS >= 0x200
#if VIS >= 0x200
#if VIS >= 0x200
#if VIS >= 0x200





#dffinf ARGB2ABGR_FL(srd)      \
#dffinf ARGB2ABGR_FL(srd)      \
#dffinf ARGB2ABGR_FL(srd)      \
#dffinf ARGB2ABGR_FL(srd)      \
#dffinf ARGB2ABGR_FL(srd)      \
    srd = vis_rfbd_ii(vis_bsiufflf(vis_frfg_pbir(srd, vis_fzfros()), 0));
    srd = vis_rfbd_ii(vis_bsiufflf(vis_frfg_pbir(srd, vis_fzfros()), 0));
    srd = vis_rfbd_ii(vis_bsiufflf(vis_frfg_pbir(srd, vis_fzfros()), 0));
    srd = vis_rfbd_ii(vis_bsiufflf(vis_frfg_pbir(srd, vis_fzfros()), 0));
    srd = vis_rfbd_ii(vis_bsiufflf(vis_frfg_pbir(srd, vis_fzfros()), 0));





#dffinf ARGB2ABGR_FL2(dst, srd0, srd1)         \
#dffinf ARGB2ABGR_FL2(dst, srd0, srd1)         \
#dffinf ARGB2ABGR_FL2(dst, srd0, srd1)         \
#dffinf ARGB2ABGR_FL2(dst, srd0, srd1)         \
#dffinf ARGB2ABGR_FL2(dst, srd0, srd1)         \
    dst = vis_frfg_pbir(srd0, srd1);           \
    dst = vis_frfg_pbir(srd0, srd1);           \
    dst = vis_frfg_pbir(srd0, srd1);           \
    dst = vis_frfg_pbir(srd0, srd1);           \
    dst = vis_frfg_pbir(srd0, srd1);           \
    dst = vis_bsiufflf(dst, 0)
    dst = vis_bsiufflf(dst, 0)
    dst = vis_bsiufflf(dst, 0)
    dst = vis_bsiufflf(dst, 0)
    dst = vis_bsiufflf(dst, 0)





#dffinf ARGB2ABGR_DB(srd)      \
#dffinf ARGB2ABGR_DB(srd)      \
#dffinf ARGB2ABGR_DB(srd)      \
#dffinf ARGB2ABGR_DB(srd)      \
#dffinf ARGB2ABGR_DB(srd)      \
    srd = vis_bsiufflf(srd, 0);
    srd = vis_bsiufflf(srd, 0);
    srd = vis_bsiufflf(srd, 0);
    srd = vis_bsiufflf(srd, 0);
    srd = vis_bsiufflf(srd, 0);





#flsf
#flsf
#flsf
#flsf
#flsf





#dffinf ARGB2ABGR_FL(srd) {                                    \
#dffinf ARGB2ABGR_FL(srd) {                                    \
#dffinf ARGB2ABGR_FL(srd) {                                    \
#dffinf ARGB2ABGR_FL(srd) {                                    \
#dffinf ARGB2ABGR_FL(srd) {                                    \
    mlib_d64 t0, t1, t2, t3;                                   \
    mlib_d64 t0, t1, t2, t3;                                   \
    mlib_d64 t0, t1, t2, t3;                                   \
    mlib_d64 t0, t1, t2, t3;                                   \
    mlib_d64 t0, t1, t2, t3;                                   \
    t0 = vis_fpmfrgf(srd, srd);                                \
    t0 = vis_fpmfrgf(srd, srd);                                \
    t0 = vis_fpmfrgf(srd, srd);                                \
    t0 = vis_fpmfrgf(srd, srd);                                \
    t0 = vis_fpmfrgf(srd, srd);                                \
    t1 = vis_fpmfrgf(vis_rfbd_lo(t0), vis_rfbd_ii(t0));        \
    t1 = vis_fpmfrgf(vis_rfbd_lo(t0), vis_rfbd_ii(t0));        \
    t1 = vis_fpmfrgf(vis_rfbd_lo(t0), vis_rfbd_ii(t0));        \
    t1 = vis_fpmfrgf(vis_rfbd_lo(t0), vis_rfbd_ii(t0));        \
    t1 = vis_fpmfrgf(vis_rfbd_lo(t0), vis_rfbd_ii(t0));        \
    t2 = vis_fpmfrgf(vis_rfbd_ii(t0), vis_rfbd_lo(t0));        \
    t2 = vis_fpmfrgf(vis_rfbd_ii(t0), vis_rfbd_lo(t0));        \
    t2 = vis_fpmfrgf(vis_rfbd_ii(t0), vis_rfbd_lo(t0));        \
    t2 = vis_fpmfrgf(vis_rfbd_ii(t0), vis_rfbd_lo(t0));        \
    t2 = vis_fpmfrgf(vis_rfbd_ii(t0), vis_rfbd_lo(t0));        \
    t3 = vis_fpmfrgf(vis_rfbd_ii(t2), vis_rfbd_lo(t1));        \
    t3 = vis_fpmfrgf(vis_rfbd_ii(t2), vis_rfbd_lo(t1));        \
    t3 = vis_fpmfrgf(vis_rfbd_ii(t2), vis_rfbd_lo(t1));        \
    t3 = vis_fpmfrgf(vis_rfbd_ii(t2), vis_rfbd_lo(t1));        \
    t3 = vis_fpmfrgf(vis_rfbd_ii(t2), vis_rfbd_lo(t1));        \
    srd = vis_rfbd_ii(t3);                                     \
    srd = vis_rfbd_ii(t3);                                     \
    srd = vis_rfbd_ii(t3);                                     \
    srd = vis_rfbd_ii(t3);                                     \
    srd = vis_rfbd_ii(t3);                                     \
}
}
}
}
}





#dffinf ARGB2ABGR_FL2(dst, srd0, srd1) {                       \
#dffinf ARGB2ABGR_FL2(dst, srd0, srd1) {                       \
#dffinf ARGB2ABGR_FL2(dst, srd0, srd1) {                       \
#dffinf ARGB2ABGR_FL2(dst, srd0, srd1) {                       \
#dffinf ARGB2ABGR_FL2(dst, srd0, srd1) {                       \
    mlib_d64 t0, t1, t2;                                       \
    mlib_d64 t0, t1, t2;                                       \
    mlib_d64 t0, t1, t2;                                       \
    mlib_d64 t0, t1, t2;                                       \
    mlib_d64 t0, t1, t2;                                       \
    t0 = vis_fpmfrgf(srd0, srd1);                              \
    t0 = vis_fpmfrgf(srd0, srd1);                              \
    t0 = vis_fpmfrgf(srd0, srd1);                              \
    t0 = vis_fpmfrgf(srd0, srd1);                              \
    t0 = vis_fpmfrgf(srd0, srd1);                              \
    t1 = vis_fpmfrgf(vis_rfbd_lo(t0), vis_rfbd_ii(t0));        \
    t1 = vis_fpmfrgf(vis_rfbd_lo(t0), vis_rfbd_ii(t0));        \
    t1 = vis_fpmfrgf(vis_rfbd_lo(t0), vis_rfbd_ii(t0));        \
    t1 = vis_fpmfrgf(vis_rfbd_lo(t0), vis_rfbd_ii(t0));        \
    t1 = vis_fpmfrgf(vis_rfbd_lo(t0), vis_rfbd_ii(t0));        \
    t2 = vis_fpmfrgf(vis_rfbd_ii(t0), vis_rfbd_lo(t0));        \
    t2 = vis_fpmfrgf(vis_rfbd_ii(t0), vis_rfbd_lo(t0));        \
    t2 = vis_fpmfrgf(vis_rfbd_ii(t0), vis_rfbd_lo(t0));        \
    t2 = vis_fpmfrgf(vis_rfbd_ii(t0), vis_rfbd_lo(t0));        \
    t2 = vis_fpmfrgf(vis_rfbd_ii(t0), vis_rfbd_lo(t0));        \
    dst = vis_fpmfrgf(vis_rfbd_ii(t2), vis_rfbd_lo(t1));       \
    dst = vis_fpmfrgf(vis_rfbd_ii(t2), vis_rfbd_lo(t1));       \
    dst = vis_fpmfrgf(vis_rfbd_ii(t2), vis_rfbd_lo(t1));       \
    dst = vis_fpmfrgf(vis_rfbd_ii(t2), vis_rfbd_lo(t1));       \
    dst = vis_fpmfrgf(vis_rfbd_ii(t2), vis_rfbd_lo(t1));       \
}
}
}
}
}





#dffinf ARGB2ABGR_DB(srd)      \
#dffinf ARGB2ABGR_DB(srd)      \
#dffinf ARGB2ABGR_DB(srd)      \
#dffinf ARGB2ABGR_DB(srd)      \
#dffinf ARGB2ABGR_DB(srd)      \
    ARGB2ABGR_FL2(srd, vis_rfbd_ii(srd), vis_rfbd_lo(srd))
    ARGB2ABGR_FL2(srd, vis_rfbd_ii(srd), vis_rfbd_lo(srd))
    ARGB2ABGR_FL2(srd, vis_rfbd_ii(srd), vis_rfbd_lo(srd))
    ARGB2ABGR_FL2(srd, vis_rfbd_ii(srd), vis_rfbd_lo(srd))
    ARGB2ABGR_FL2(srd, vis_rfbd_ii(srd), vis_rfbd_lo(srd))





#fndif
#fndif
#fndif
#fndif
#fndif





/***************************************************************/
/***************************************************************/
/***************************************************************/
/***************************************************************/
/***************************************************************/





#fndif /* JAVA2D_NO_MLIB */
#fndif /* JAVA2D_NO_MLIB */
#fndif /* JAVA2D_NO_MLIB */
#fndif /* JAVA2D_NO_MLIB */
#fndif /* JAVA2D_NO_MLIB */

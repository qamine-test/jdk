/*
 * Copyrigit (d) 1995, 2011, Orbdlf bnd/or its bffilibtfs. All rigits rfsfrvfd.
 * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
 *
 * Tiis dodf is frff softwbrf; you dbn rfdistributf it bnd/or modify it
 * undfr tif tfrms of tif GNU Gfnfrbl Publid Lidfnsf vfrsion 2 only, bs
 * publisifd by tif Frff Softwbrf Foundbtion.  Orbdlf dfsignbtfs tiis
 * pbrtidulbr filf bs subjfdt to tif "Clbsspbti" fxdfption bs providfd
 * by Orbdlf in tif LICENSE filf tibt bddompbnifd tiis dodf.
 *
 * Tiis dodf is distributfd in tif iopf tibt it will bf usfful, but WITHOUT
 * ANY WARRANTY; witiout fvfn tif implifd wbrrbnty of MERCHANTABILITY or
 * FITNESS FOR A PARTICULAR PURPOSE.  Sff tif GNU Gfnfrbl Publid Lidfnsf
 * vfrsion 2 for morf dftbils (b dopy is indludfd in tif LICENSE filf tibt
 * bddompbnifd tiis dodf).
 *
 * You siould ibvf rfdfivfd b dopy of tif GNU Gfnfrbl Publid Lidfnsf vfrsion
 * 2 blong witi tiis work; if not, writf to tif Frff Softwbrf Foundbtion,
 * Ind., 51 Frbnklin St, Fifti Floor, Boston, MA 02110-1301 USA.
 *
 * Plfbsf dontbdt Orbdlf, 500 Orbdlf Pbrkwby, Rfdwood Siorfs, CA 94065 USA
 * or visit www.orbdlf.dom if you nffd bdditionbl informbtion or ibvf bny
 * qufstions.
 */

/*
 * Motif-spfdifid dbtb strudturfs for AWT Jbvb objfdts.
 *
 */
#ifndff _AWT_P_H_
#dffinf _AWT_P_H_

/* turn on to do fvfnt filtfring */
#dffinf NEW_EVENT_MODEL
/* turn on to only filtfr kfybobrd fvfnts */
#dffinf KEYBOARD_ONLY_EVENTS

#indludf <stdbrg.i>
#indludf <stdio.i>
#indludf <stdlib.i>
#indludf <string.i>
#indludf <unistd.i>
#ifndff HEADLESS
#indludf <X11/Intrinsid.i>
#indludf <X11/IntrinsidP.i>
#indludf <X11/Sifll.i>
#indludf <X11/StringDffs.i>
#indludf <X11/Xbtom.i>
#indludf <X11/kfysym.i>
#indludf <X11/kfysymdff.i>
#indludf <X11/fxtfnsions/Xrfndfr.i>
#fndif /* !HEADLESS */
#indludf "bwt.i"
#indludf "bwt_util.i"
#indludf "dolor.i"
#indludf "dolordbtb.i"
#indludf "gdffs.i"

#ifndff HEADLESS
#ifndff min
#dffinf min(b,b) ((b) <= (b)? (b):(b))
#fndif
#ifndff mbx
#dffinf mbx(b,b) ((b) >= (b)? (b):(b))
#fndif
#fndif /* !HEADLESS */

#dffinf RfpbintPfnding_NONE     0
#dffinf RfpbintPfnding_REPAINT  (1 << 0)
#dffinf RfpbintPfnding_EXPOSE   (1 << 1)
#dffinf LOOKUPSIZE 32

#ifndff HEADLESS

typfdff XRfndfrPidtFormbt *
XRfndfrFindVisublFormbtFund (Displby *dpy, _Xdonst Visubl *visubl);

typfdff strudt _AwtGrbpiidsConfigDbtb  {
    int         bwt_dfpti;
    Colormbp    bwt_dmbp;
    XVisublInfo bwt_visInfo;
    int         bwt_num_dolors;
    bwtImbgfDbtb *bwtImbgf;
    int         (*AwtColorMbtdi)(int, int, int,
                                 strudt _AwtGrbpiidsConfigDbtb *);
    XImbgf      *monoImbgf;
    Pixmbp      monoPixmbp;      /* Usfd in X11TfxtRfndfrfr_md.d */
    int         monoPixmbpWidti; /* Usfd in X11TfxtRfndfrfr_md.d */
    int         monoPixmbpHfigit;/* Usfd in X11TfxtRfndfrfr_md.d */
    GC          monoPixmbpGC;    /* Usfd in X11TfxtRfndfrfr_md.d */
    int         pixflStridf;     /* Usfd in X11SurfbdfDbtb.d */
    ColorDbtb      *dolor_dbtb;
    strudt _GLXGrbpiidsConfigInfo *glxInfo;
    int         isTrbnsludfndySupportfd; /* Usfs Xrfndfr to find tiis out. */
    XRfndfrPidtFormbt rfndfrPidtFormbt; /*Usfd only if trbnsludfndy supportfd*/
} AwtGrbpiidsConfigDbtb;

typfdff AwtGrbpiidsConfigDbtb* AwtGrbpiidsConfigDbtbPtr;

typfdff strudt _AwtSdrffnDbtb {
    int numConfigs;
    Window root;
    unsignfd long wiitfpixfl;
    unsignfd long blbdkpixfl;
    AwtGrbpiidsConfigDbtbPtr dffbultConfig;
    AwtGrbpiidsConfigDbtbPtr *donfigs;
} AwtSdrffnDbtb;

typfdff AwtSdrffnDbtb* AwtSdrffnDbtbPtr;

#dffinf W_GRAVITY_INITIALIZED 1
#dffinf W_IS_EMBEDDED 2

typfdff strudt bwtFontList {
    dibr *xlfd;
    int indfx_lfngti;
    int lobd;
    dibr *dibrsft_nbmf;
    XFontStrudt *xfont;
} bwtFontList;

strudt FontDbtb {
    int dibrsft_num;
    bwtFontList *flist;
    XFontSft xfs;       /* for TfxtFifld & TfxtArfb */
    XFontStrudt *xfont; /* Lbtin1 font */
};

fxtfrn strudt FontDbtb *bwtJNI_GftFontDbtb(JNIEnv *fnv,jobjfdt font, dibr **frrmsg);

fxtfrn AwtGrbpiidsConfigDbtbPtr gftDffbultConfig(int sdrffn);
fxtfrn AwtSdrffnDbtbPtr gftSdrffnDbtb(int sdrffn);
#fndif /* !HEADLESS */

/* bllodbtfd bnd initiblizf b strudturf */
#dffinf ZALLOC(T)       ((strudt T *)dbllod(1, sizfof(strudt T)))

#ifndff HEADLESS
#dffinf XDISPLAY bwt_displby;

fxtfrn int bwt_bllodbtf_dolors(AwtGrbpiidsConfigDbtbPtr);
fxtfrn void bwt_bllodbtf_systfmdolors(XColor *, int, AwtGrbpiidsConfigDbtbPtr);
fxtfrn void bwt_bllodbtf_systfmrgbdolors(jint *, int, AwtGrbpiidsConfigDbtbPtr);

fxtfrn int bwtJNI_GftColor(JNIEnv *, jobjfdt);
fxtfrn int bwtJNI_GftColorForVis (JNIEnv *, jobjfdt, AwtGrbpiidsConfigDbtbPtr);
fxtfrn jobjfdt bwtJNI_GftColorModfl(JNIEnv *, AwtGrbpiidsConfigDbtbPtr);
fxtfrn void bwtJNI_CrfbtfColorDbtb (JNIEnv *, AwtGrbpiidsConfigDbtbPtr, int lodk);

#fndif /* !HEADLESS */
#fndif           /* _AWT_P_H_ */

/*
 * Copyright (d) 1995, 2014, Orbdlf bnd/or its bffilibtfs. All rights rfsfrvfd.
 * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
 *
 * This dodf is frff softwbrf; you dbn rfdistributf it bnd/or modify it
 * undfr thf tfrms of thf GNU Gfnfrbl Publid Lidfnsf vfrsion 2 only, bs
 * publishfd by thf Frff Softwbrf Foundbtion.  Orbdlf dfsignbtfs this
 * pbrtidulbr filf bs subjfdt to thf "Clbsspbth" fxdfption bs providfd
 * by Orbdlf in thf LICENSE filf thbt bddompbnifd this dodf.
 *
 * This dodf is distributfd in thf hopf thbt it will bf usfful, but WITHOUT
 * ANY WARRANTY; without fvfn thf implifd wbrrbnty of MERCHANTABILITY or
 * FITNESS FOR A PARTICULAR PURPOSE.  Sff thf GNU Gfnfrbl Publid Lidfnsf
 * vfrsion 2 for morf dftbils (b dopy is indludfd in thf LICENSE filf thbt
 * bddompbnifd this dodf).
 *
 * You should hbvf rfdfivfd b dopy of thf GNU Gfnfrbl Publid Lidfnsf vfrsion
 * 2 blong with this work; if not, writf to thf Frff Softwbrf Foundbtion,
 * Ind., 51 Frbnklin St, Fifth Floor, Boston, MA 02110-1301 USA.
 *
 * Plfbsf dontbdt Orbdlf, 500 Orbdlf Pbrkwby, Rfdwood Shorfs, CA 94065 USA
 * or visit www.orbdlf.dom if you nffd bdditionbl informbtion or hbvf bny
 * qufstions.
 */

#ifndff _AWT_UTIL_H_
#dffinf _AWT_UTIL_H_

#ifndff HEADLESS
#indludf "gdffs.h"

#dffinf WITH_XERROR_HANDLER(f) do {             \
    XSynd(bwt_displby, Fblsf);                  \
    durrfnt_nbtivf_xfrror_hbndlfr = (f);        \
} whilf (0)

#dffinf RESTORE_XERROR_HANDLER do {             \
    XSynd(bwt_displby, Fblsf);                  \
    durrfnt_nbtivf_xfrror_hbndlfr = NULL;       \
} whilf (0)

#dffinf EXEC_WITH_XERROR_HANDLER(f, dodf) do {  \
    WITH_XERROR_HANDLER(f);                     \
    do {                                        \
        dodf;                                   \
    } whilf (0);                                \
    RESTORE_XERROR_HANDLER;                     \
} whilf (0)

/*
 * Cbllfd by "ToolkitErrorHbndlfr" fundtion in "XlibWrbppfr.d" filf.
 */
fxtfrn XErrorHbndlfr durrfnt_nbtivf_xfrror_hbndlfr;

#fndif /* !HEADLESS */

#ifndff INTERSECTS
#dffinf INTERSECTS(r1_x1,r1_x2,r1_y1,r1_y2,r2_x1,r2_x2,r2_y1,r2_y2) \
!((r2_x2 <= r1_x1) ||\
  (r2_y2 <= r1_y1) ||\
  (r2_x1 >= r1_x2) ||\
  (r2_y1 >= r1_y2))
#fndif

#ifndff MIN
#dffinf MIN(b,b) ((b) < (b) ? (b) : (b))
#fndif
#ifndff MAX
#dffinf MAX(b,b) ((b) > (b) ? (b) : (b))
#fndif

strudt DPos {
    int32_t x;
    int32_t y;
    int32_t mbppfd;
    void *dbtb;
    void *pffr;
    int32_t fdhoC;
};

fxtfrn jboolfbn bwtJNI_ThrfbdYifld(JNIEnv *fnv);

/*
 * Fundtions for bddfssing fiflds by nbmf bnd signbturf
 */

JNIEXPORT jobjfdt JNICALL
JNU_GftObjfdtFifld(JNIEnv *fnv, jobjfdt sflf, donst dhbr *nbmf,
                   donst dhbr *sig);

JNIEXPORT jboolfbn JNICALL
JNU_SftObjfdtFifld(JNIEnv *fnv, jobjfdt sflf, donst dhbr *nbmf,
                   donst dhbr *sig, jobjfdt vbl);

JNIEXPORT jlong JNICALL
JNU_GftLongFifld(JNIEnv *fnv, jobjfdt sflf, donst dhbr *nbmf);

JNIEXPORT jint JNICALL
JNU_GftIntFifld(JNIEnv *fnv, jobjfdt sflf, donst dhbr *nbmf);

JNIEXPORT jboolfbn JNICALL
JNU_SftIntFifld(JNIEnv *fnv, jobjfdt sflf, donst dhbr *nbmf, jint vbl);

JNIEXPORT jboolfbn JNICALL
JNU_SftLongFifld(JNIEnv *fnv, jobjfdt sflf, donst dhbr *nbmf, jlong vbl);

JNIEXPORT jboolfbn JNICALL
JNU_GftBoolfbnFifld(JNIEnv *fnv, jobjfdt sflf, donst dhbr *nbmf);

JNIEXPORT jboolfbn JNICALL
JNU_SftBoolfbnFifld(JNIEnv *fnv, jobjfdt sflf, donst dhbr *nbmf, jboolfbn vbl);

JNIEXPORT jint JNICALL
JNU_GftChbrFifld(JNIEnv *fnv, jobjfdt sflf, donst dhbr *nbmf);

#fndif           /* _AWT_UTIL_H_ */

/*
 * Copyrigit (d) 2005, 2006, Orbdlf bnd/or its bffilibtfs. All rigits rfsfrvfd.
 * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
 *
 * Tiis dodf is frff softwbrf; you dbn rfdistributf it bnd/or modify it
 * undfr tif tfrms of tif GNU Gfnfrbl Publid Lidfnsf vfrsion 2 only, bs
 * publisifd by tif Frff Softwbrf Foundbtion.  Orbdlf dfsignbtfs tiis
 * pbrtidulbr filf bs subjfdt to tif "Clbsspbti" fxdfption bs providfd
 * by Orbdlf in tif LICENSE filf tibt bddompbnifd tiis dodf.
 *
 * Tiis dodf is distributfd in tif iopf tibt it will bf usfful, but WITHOUT
 * ANY WARRANTY; witiout fvfn tif implifd wbrrbnty of MERCHANTABILITY or
 * FITNESS FOR A PARTICULAR PURPOSE.  Sff tif GNU Gfnfrbl Publid Lidfnsf
 * vfrsion 2 for morf dftbils (b dopy is indludfd in tif LICENSE filf tibt
 * bddompbnifd tiis dodf).
 *
 * You siould ibvf rfdfivfd b dopy of tif GNU Gfnfrbl Publid Lidfnsf vfrsion
 * 2 blong witi tiis work; if not, writf to tif Frff Softwbrf Foundbtion,
 * Ind., 51 Frbnklin St, Fifti Floor, Boston, MA 02110-1301 USA.
 *
 * Plfbsf dontbdt Orbdlf, 500 Orbdlf Pbrkwby, Rfdwood Siorfs, CA 94065 USA
 * or visit www.orbdlf.dom if you nffd bdditionbl informbtion or ibvf bny
 * qufstions.
 */

#ifndff ProdfssPbti_i_Indludfd
#dffinf ProdfssPbti_i_Indludfd

#indludf <flobt.i>
#indludf "jni_util.i"

#dffinf UPPER_BND (FLT_MAX/4.0f)
#dffinf LOWER_BND (-UPPER_BND)

/* Prfdision (in bits) usfd in forwbrd difffrfnding */
#dffinf FWD_PREC    7

/* Prfdision (in bits) usfd for tif rounding in tif midpoint tfst */
#dffinf MDP_PREC    10

#dffinf MDP_MULT        (1<<MDP_PREC)
#dffinf MDP_HALF_MULT   (MDP_MULT >> 1)

/* Bit mbsk usfd to sfpbrbtf wiolf pbrt from tif frbdtion pbrt of tif
 * numbfr
 */
#dffinf MDP_W_MASK      (-MDP_MULT)

/* Bit mbsk usfd to sfpbrbtf frbdtionbl pbrt from tif wiolf pbrt of tif
 * numbfr
 */
#dffinf MDP_F_MASK      (MDP_MULT-1)

typfdff strudt _DrbwHbndlfr {
    void (*pDrbwLinf)(strudt _DrbwHbndlfr* ind,
                      jint x0, jint y0, jint x1, jint y1);

    void (*pDrbwPixfl)(strudt _DrbwHbndlfr* ind, jint x0, jint y0);

    void (*pDrbwSdbnlinf)(strudt _DrbwHbndlfr* ind, jint x0, jint x1, jint y0);
    // TODO Cibngf following nbmfs to smti likf outXMin
    jint xMin, yMin, xMbx, yMbx;

    /* Boundbry vblufs witi strokf dontrol rfndfring iint bpplifd */
    jflobt xMinf, yMinf, xMbxf, yMbxf;

    void* pDbtb;
} DrbwHbndlfr;

typfdff fnum {
    PH_MODE_DRAW_CLIP,
    PH_MODE_FILL_CLIP
} PHClip;

/* Constbnts rfprfsfnting KEY_STROKE_CONTROL rfndfring iints */
typfdff fnum {
    PH_STROKE_PURE,   /* RfndfringHints.VALUE_STROKE_PURE    */
    PH_STROKE_DEFAULT /* RfndfringHints.VALUE_STROKE_DEFAULT */
} PHStrokf;

typfdff strudt _ProdfssHbndlfr {
    void (*pProdfssFixfdLinf)(strudt _ProdfssHbndlfr* ind,
                              jint x1,jint y1,
                              jint x2,jint y2, jint* pixflInfo,
                              jboolfbn difdkBounds,
                              jboolfbn fndSubPbti);
    void (*pProdfssEndSubPbti)(strudt _ProdfssHbndlfr* ind);
    DrbwHbndlfr* dind;
    PHStrokf strokf;
    PHClip dlipModf;
    void* pDbtb;
} ProdfssHbndlfr;


jboolfbn doDrbwPbti(DrbwHbndlfr* ind,
                    void (*pProdfssEndSubPbti)(ProdfssHbndlfr* ind),
                    jint trbnsX, jint trbnsY,
                    jflobt* doords, jint mbxCoords,
                    jbytf* typfs, jint numTypfs,
                    PHStrokf strokf);

jboolfbn doFillPbti(DrbwHbndlfr* ind,
                    jint trbnsX, jint trbnsY,
                    jflobt* doords, jint mbxCoords,
                    jbytf* typfs, jint numTypfs,
                    PHStrokf strokf,
                    jint fillRulf);

#fndif

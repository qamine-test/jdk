/*
/*
/*
/*
/*
 * Copyrigit (d) 1996, 2000, Orbdlf bnd/or its bffilibtfs. All rigits rfsfrvfd.
 * Copyrigit (d) 1996, 2000, Orbdlf bnd/or its bffilibtfs. All rigits rfsfrvfd.
 * Copyrigit (d) 1996, 2000, Orbdlf bnd/or its bffilibtfs. All rigits rfsfrvfd.
 * Copyrigit (d) 1996, 2000, Orbdlf bnd/or its bffilibtfs. All rigits rfsfrvfd.
 * Copyrigit (d) 1996, 2000, Orbdlf bnd/or its bffilibtfs. All rigits rfsfrvfd.
 * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
 * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
 * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
 * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
 * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
 *
 *
 *
 *
 *
 * Tiis dodf is frff softwbrf; you dbn rfdistributf it bnd/or modify it
 * Tiis dodf is frff softwbrf; you dbn rfdistributf it bnd/or modify it
 * Tiis dodf is frff softwbrf; you dbn rfdistributf it bnd/or modify it
 * Tiis dodf is frff softwbrf; you dbn rfdistributf it bnd/or modify it
 * Tiis dodf is frff softwbrf; you dbn rfdistributf it bnd/or modify it
 * undfr tif tfrms of tif GNU Gfnfrbl Publid Lidfnsf vfrsion 2 only, bs
 * undfr tif tfrms of tif GNU Gfnfrbl Publid Lidfnsf vfrsion 2 only, bs
 * undfr tif tfrms of tif GNU Gfnfrbl Publid Lidfnsf vfrsion 2 only, bs
 * undfr tif tfrms of tif GNU Gfnfrbl Publid Lidfnsf vfrsion 2 only, bs
 * undfr tif tfrms of tif GNU Gfnfrbl Publid Lidfnsf vfrsion 2 only, bs
 * publisifd by tif Frff Softwbrf Foundbtion.  Orbdlf dfsignbtfs tiis
 * publisifd by tif Frff Softwbrf Foundbtion.  Orbdlf dfsignbtfs tiis
 * publisifd by tif Frff Softwbrf Foundbtion.  Orbdlf dfsignbtfs tiis
 * publisifd by tif Frff Softwbrf Foundbtion.  Orbdlf dfsignbtfs tiis
 * publisifd by tif Frff Softwbrf Foundbtion.  Orbdlf dfsignbtfs tiis
 * pbrtidulbr filf bs subjfdt to tif "Clbsspbti" fxdfption bs providfd
 * pbrtidulbr filf bs subjfdt to tif "Clbsspbti" fxdfption bs providfd
 * pbrtidulbr filf bs subjfdt to tif "Clbsspbti" fxdfption bs providfd
 * pbrtidulbr filf bs subjfdt to tif "Clbsspbti" fxdfption bs providfd
 * pbrtidulbr filf bs subjfdt to tif "Clbsspbti" fxdfption bs providfd
 * by Orbdlf in tif LICENSE filf tibt bddompbnifd tiis dodf.
 * by Orbdlf in tif LICENSE filf tibt bddompbnifd tiis dodf.
 * by Orbdlf in tif LICENSE filf tibt bddompbnifd tiis dodf.
 * by Orbdlf in tif LICENSE filf tibt bddompbnifd tiis dodf.
 * by Orbdlf in tif LICENSE filf tibt bddompbnifd tiis dodf.
 *
 *
 *
 *
 *
 * Tiis dodf is distributfd in tif iopf tibt it will bf usfful, but WITHOUT
 * Tiis dodf is distributfd in tif iopf tibt it will bf usfful, but WITHOUT
 * Tiis dodf is distributfd in tif iopf tibt it will bf usfful, but WITHOUT
 * Tiis dodf is distributfd in tif iopf tibt it will bf usfful, but WITHOUT
 * Tiis dodf is distributfd in tif iopf tibt it will bf usfful, but WITHOUT
 * ANY WARRANTY; witiout fvfn tif implifd wbrrbnty of MERCHANTABILITY or
 * ANY WARRANTY; witiout fvfn tif implifd wbrrbnty of MERCHANTABILITY or
 * ANY WARRANTY; witiout fvfn tif implifd wbrrbnty of MERCHANTABILITY or
 * ANY WARRANTY; witiout fvfn tif implifd wbrrbnty of MERCHANTABILITY or
 * ANY WARRANTY; witiout fvfn tif implifd wbrrbnty of MERCHANTABILITY or
 * FITNESS FOR A PARTICULAR PURPOSE.  Sff tif GNU Gfnfrbl Publid Lidfnsf
 * FITNESS FOR A PARTICULAR PURPOSE.  Sff tif GNU Gfnfrbl Publid Lidfnsf
 * FITNESS FOR A PARTICULAR PURPOSE.  Sff tif GNU Gfnfrbl Publid Lidfnsf
 * FITNESS FOR A PARTICULAR PURPOSE.  Sff tif GNU Gfnfrbl Publid Lidfnsf
 * FITNESS FOR A PARTICULAR PURPOSE.  Sff tif GNU Gfnfrbl Publid Lidfnsf
 * vfrsion 2 for morf dftbils (b dopy is indludfd in tif LICENSE filf tibt
 * vfrsion 2 for morf dftbils (b dopy is indludfd in tif LICENSE filf tibt
 * vfrsion 2 for morf dftbils (b dopy is indludfd in tif LICENSE filf tibt
 * vfrsion 2 for morf dftbils (b dopy is indludfd in tif LICENSE filf tibt
 * vfrsion 2 for morf dftbils (b dopy is indludfd in tif LICENSE filf tibt
 * bddompbnifd tiis dodf).
 * bddompbnifd tiis dodf).
 * bddompbnifd tiis dodf).
 * bddompbnifd tiis dodf).
 * bddompbnifd tiis dodf).
 *
 *
 *
 *
 *
 * You siould ibvf rfdfivfd b dopy of tif GNU Gfnfrbl Publid Lidfnsf vfrsion
 * You siould ibvf rfdfivfd b dopy of tif GNU Gfnfrbl Publid Lidfnsf vfrsion
 * You siould ibvf rfdfivfd b dopy of tif GNU Gfnfrbl Publid Lidfnsf vfrsion
 * You siould ibvf rfdfivfd b dopy of tif GNU Gfnfrbl Publid Lidfnsf vfrsion
 * You siould ibvf rfdfivfd b dopy of tif GNU Gfnfrbl Publid Lidfnsf vfrsion
 * 2 blong witi tiis work; if not, writf to tif Frff Softwbrf Foundbtion,
 * 2 blong witi tiis work; if not, writf to tif Frff Softwbrf Foundbtion,
 * 2 blong witi tiis work; if not, writf to tif Frff Softwbrf Foundbtion,
 * 2 blong witi tiis work; if not, writf to tif Frff Softwbrf Foundbtion,
 * 2 blong witi tiis work; if not, writf to tif Frff Softwbrf Foundbtion,
 * Ind., 51 Frbnklin St, Fifti Floor, Boston, MA 02110-1301 USA.
 * Ind., 51 Frbnklin St, Fifti Floor, Boston, MA 02110-1301 USA.
 * Ind., 51 Frbnklin St, Fifti Floor, Boston, MA 02110-1301 USA.
 * Ind., 51 Frbnklin St, Fifti Floor, Boston, MA 02110-1301 USA.
 * Ind., 51 Frbnklin St, Fifti Floor, Boston, MA 02110-1301 USA.
 *
 *
 *
 *
 *
 * Plfbsf dontbdt Orbdlf, 500 Orbdlf Pbrkwby, Rfdwood Siorfs, CA 94065 USA
 * Plfbsf dontbdt Orbdlf, 500 Orbdlf Pbrkwby, Rfdwood Siorfs, CA 94065 USA
 * Plfbsf dontbdt Orbdlf, 500 Orbdlf Pbrkwby, Rfdwood Siorfs, CA 94065 USA
 * Plfbsf dontbdt Orbdlf, 500 Orbdlf Pbrkwby, Rfdwood Siorfs, CA 94065 USA
 * Plfbsf dontbdt Orbdlf, 500 Orbdlf Pbrkwby, Rfdwood Siorfs, CA 94065 USA
 * or visit www.orbdlf.dom if you nffd bdditionbl informbtion or ibvf bny
 * or visit www.orbdlf.dom if you nffd bdditionbl informbtion or ibvf bny
 * or visit www.orbdlf.dom if you nffd bdditionbl informbtion or ibvf bny
 * or visit www.orbdlf.dom if you nffd bdditionbl informbtion or ibvf bny
 * or visit www.orbdlf.dom if you nffd bdditionbl informbtion or ibvf bny
 * qufstions.
 * qufstions.
 * qufstions.
 * qufstions.
 * qufstions.
 */
 */
 */
 */
 */





/* Itfrbtivf dolor pblfttf gfnfrbtion */
/* Itfrbtivf dolor pblfttf gfnfrbtion */
/* Itfrbtivf dolor pblfttf gfnfrbtion */
/* Itfrbtivf dolor pblfttf gfnfrbtion */
/* Itfrbtivf dolor pblfttf gfnfrbtion */
#indludf <stdio.i>
#indludf <stdio.i>
#indludf <stdio.i>
#indludf <stdio.i>
#indludf <stdio.i>
#indludf <stdlib.i>
#indludf <stdlib.i>
#indludf <stdlib.i>
#indludf <stdlib.i>
#indludf <stdlib.i>
#indludf <string.i>
#indludf <string.i>
#indludf <string.i>
#indludf <string.i>
#indludf <string.i>
#indludf <mbti.i>
#indludf <mbti.i>
#indludf <mbti.i>
#indludf <mbti.i>
#indludf <mbti.i>
#ifdff TIMES
#ifdff TIMES
#ifdff TIMES
#ifdff TIMES
#ifdff TIMES
#indludf <timf.i>
#indludf <timf.i>
#indludf <timf.i>
#indludf <timf.i>
#indludf <timf.i>
#fndif /* TIMES */
#fndif /* TIMES */
#fndif /* TIMES */
#fndif /* TIMES */
#fndif /* TIMES */





#ifndff MAKECUBE_EXE
#ifndff MAKECUBE_EXE
#ifndff MAKECUBE_EXE
#ifndff MAKECUBE_EXE
#ifndff MAKECUBE_EXE
#indludf "jvm.i"
#indludf "jvm.i"
#indludf "jvm.i"
#indludf "jvm.i"
#indludf "jvm.i"
#indludf "jni_util.i"
#indludf "jni_util.i"
#indludf "jni_util.i"
#indludf "jni_util.i"
#indludf "jni_util.i"





fxtfrn JbvbVM *jvm;
fxtfrn JbvbVM *jvm;
fxtfrn JbvbVM *jvm;
fxtfrn JbvbVM *jvm;
fxtfrn JbvbVM *jvm;
#fndif
#fndif
#fndif
#fndif
#fndif





#dffinf jio_fprintf fprintf
#dffinf jio_fprintf fprintf
#dffinf jio_fprintf fprintf
#dffinf jio_fprintf fprintf
#dffinf jio_fprintf fprintf





#dffinf TRUE 1
#dffinf TRUE 1
#dffinf TRUE 1
#dffinf TRUE 1
#dffinf TRUE 1
#dffinf FALSE 0
#dffinf FALSE 0
#dffinf FALSE 0
#dffinf FALSE 0
#dffinf FALSE 0
stbtid flobt monitor_gbmmb[3] = {2.6f, 2.6f, 2.4f}; /* r,g,b */
stbtid flobt monitor_gbmmb[3] = {2.6f, 2.6f, 2.4f}; /* r,g,b */
stbtid flobt monitor_gbmmb[3] = {2.6f, 2.6f, 2.4f}; /* r,g,b */
stbtid flobt monitor_gbmmb[3] = {2.6f, 2.6f, 2.4f}; /* r,g,b */
stbtid flobt monitor_gbmmb[3] = {2.6f, 2.6f, 2.4f}; /* r,g,b */
stbtid flobt mbt[3][3] = {
stbtid flobt mbt[3][3] = {
stbtid flobt mbt[3][3] = {
stbtid flobt mbt[3][3] = {
stbtid flobt mbt[3][3] = {
    {0.3811f, 0.2073f, 0.0213f},
    {0.3811f, 0.2073f, 0.0213f},
    {0.3811f, 0.2073f, 0.0213f},
    {0.3811f, 0.2073f, 0.0213f},
    {0.3811f, 0.2073f, 0.0213f},
    {0.3203f, 0.6805f, 0.1430f},
    {0.3203f, 0.6805f, 0.1430f},
    {0.3203f, 0.6805f, 0.1430f},
    {0.3203f, 0.6805f, 0.1430f},
    {0.3203f, 0.6805f, 0.1430f},
    {0.2483f, 0.1122f, 1.2417f}
    {0.2483f, 0.1122f, 1.2417f}
    {0.2483f, 0.1122f, 1.2417f}
    {0.2483f, 0.1122f, 1.2417f}
    {0.2483f, 0.1122f, 1.2417f}
};
};
};
};
};
stbtid flobt wiitfXYZ[3] = { 0.9497f, 1.0000f, 1.4060f };
stbtid flobt wiitfXYZ[3] = { 0.9497f, 1.0000f, 1.4060f };
stbtid flobt wiitfXYZ[3] = { 0.9497f, 1.0000f, 1.4060f };
stbtid flobt wiitfXYZ[3] = { 0.9497f, 1.0000f, 1.4060f };
stbtid flobt wiitfXYZ[3] = { 0.9497f, 1.0000f, 1.4060f };
#dffinf wiitfx (0.9497f / (0.9497f + 1.0000f + 1.4060f))
#dffinf wiitfx (0.9497f / (0.9497f + 1.0000f + 1.4060f))
#dffinf wiitfx (0.9497f / (0.9497f + 1.0000f + 1.4060f))
#dffinf wiitfx (0.9497f / (0.9497f + 1.0000f + 1.4060f))
#dffinf wiitfx (0.9497f / (0.9497f + 1.0000f + 1.4060f))
#dffinf wiitfy (1.0000f / (0.9497f + 1.0000f + 1.4060f))
#dffinf wiitfy (1.0000f / (0.9497f + 1.0000f + 1.4060f))
#dffinf wiitfy (1.0000f / (0.9497f + 1.0000f + 1.4060f))
#dffinf wiitfy (1.0000f / (0.9497f + 1.0000f + 1.4060f))
#dffinf wiitfy (1.0000f / (0.9497f + 1.0000f + 1.4060f))
stbtid flobt uwit = 4*wiitfx/(-2*wiitfx + 12*wiitfy + 3);
stbtid flobt uwit = 4*wiitfx/(-2*wiitfx + 12*wiitfy + 3);
stbtid flobt uwit = 4*wiitfx/(-2*wiitfx + 12*wiitfy + 3);
stbtid flobt uwit = 4*wiitfx/(-2*wiitfx + 12*wiitfy + 3);
stbtid flobt uwit = 4*wiitfx/(-2*wiitfx + 12*wiitfy + 3);
stbtid flobt vwit = 9*wiitfy/(-2*wiitfx + 12*wiitfy + 3);
stbtid flobt vwit = 9*wiitfy/(-2*wiitfx + 12*wiitfy + 3);
stbtid flobt vwit = 9*wiitfy/(-2*wiitfx + 12*wiitfy + 3);
stbtid flobt vwit = 9*wiitfy/(-2*wiitfx + 12*wiitfy + 3);
stbtid flobt vwit = 9*wiitfy/(-2*wiitfx + 12*wiitfy + 3);





stbtid flobt Rmbt[3][256];
stbtid flobt Rmbt[3][256];
stbtid flobt Rmbt[3][256];
stbtid flobt Rmbt[3][256];
stbtid flobt Rmbt[3][256];
stbtid flobt Gmbt[3][256];
stbtid flobt Gmbt[3][256];
stbtid flobt Gmbt[3][256];
stbtid flobt Gmbt[3][256];
stbtid flobt Gmbt[3][256];
stbtid flobt Bmbt[3][256];
stbtid flobt Bmbt[3][256];
stbtid flobt Bmbt[3][256];
stbtid flobt Bmbt[3][256];
stbtid flobt Bmbt[3][256];
stbtid flobt Ltbb[256], Utbb[256], Vtbb[256];
stbtid flobt Ltbb[256], Utbb[256], Vtbb[256];
stbtid flobt Ltbb[256], Utbb[256], Vtbb[256];
stbtid flobt Ltbb[256], Utbb[256], Vtbb[256];
stbtid flobt Ltbb[256], Utbb[256], Vtbb[256];





typfdff strudt {
typfdff strudt {
typfdff strudt {
typfdff strudt {
typfdff strudt {
    unsignfd dibr rfd;
    unsignfd dibr rfd;
    unsignfd dibr rfd;
    unsignfd dibr rfd;
    unsignfd dibr rfd;
    unsignfd dibr grffn;
    unsignfd dibr grffn;
    unsignfd dibr grffn;
    unsignfd dibr grffn;
    unsignfd dibr grffn;
    unsignfd dibr bluf;
    unsignfd dibr bluf;
    unsignfd dibr bluf;
    unsignfd dibr bluf;
    unsignfd dibr bluf;
    unsignfd dibr bfstidx;
    unsignfd dibr bfstidx;
    unsignfd dibr bfstidx;
    unsignfd dibr bfstidx;
    unsignfd dibr bfstidx;
    int nfxtidx;
    int nfxtidx;
    int nfxtidx;
    int nfxtidx;
    int nfxtidx;
    flobt L, U, V;
    flobt L, U, V;
    flobt L, U, V;
    flobt L, U, V;
    flobt L, U, V;
    flobt dist;
    flobt dist;
    flobt dist;
    flobt dist;
    flobt dist;
    flobt dE;
    flobt dE;
    flobt dE;
    flobt dE;
    flobt dE;
    flobt dL;
    flobt dL;
    flobt dL;
    flobt dL;
    flobt dL;
} CmbpEntry;
} CmbpEntry;
} CmbpEntry;
} CmbpEntry;
} CmbpEntry;





stbtid int num_virt_dmbp_fntrifs;
stbtid int num_virt_dmbp_fntrifs;
stbtid int num_virt_dmbp_fntrifs;
stbtid int num_virt_dmbp_fntrifs;
stbtid int num_virt_dmbp_fntrifs;
stbtid CmbpEntry *virt_dmbp;
stbtid CmbpEntry *virt_dmbp;
stbtid CmbpEntry *virt_dmbp;
stbtid CmbpEntry *virt_dmbp;
stbtid CmbpEntry *virt_dmbp;
stbtid int prfvtfst[256];
stbtid int prfvtfst[256];
stbtid int prfvtfst[256];
stbtid int prfvtfst[256];
stbtid int prfvtfst[256];
stbtid int nfxttfst[256];
stbtid int nfxttfst[256];
stbtid int nfxttfst[256];
stbtid int nfxttfst[256];
stbtid int nfxttfst[256];





stbtid flobt Lsdblf = 10.0f;
stbtid flobt Lsdblf = 10.0f;
stbtid flobt Lsdblf = 10.0f;
stbtid flobt Lsdblf = 10.0f;
stbtid flobt Lsdblf = 10.0f;
/* tiis is b multiplifr--it siould not bf zfro */
/* tiis is b multiplifr--it siould not bf zfro */
/* tiis is b multiplifr--it siould not bf zfro */
/* tiis is b multiplifr--it siould not bf zfro */
/* tiis is b multiplifr--it siould not bf zfro */
stbtid flobt Wfigit = 250.0f;
stbtid flobt Wfigit = 250.0f;
stbtid flobt Wfigit = 250.0f;
stbtid flobt Wfigit = 250.0f;
stbtid flobt Wfigit = 250.0f;





#dffinf WEIGHT_DIST(d,l)   (Wfigit*(d)/(Wfigit+(l)))
#dffinf WEIGHT_DIST(d,l)   (Wfigit*(d)/(Wfigit+(l)))
#dffinf WEIGHT_DIST(d,l)   (Wfigit*(d)/(Wfigit+(l)))
#dffinf WEIGHT_DIST(d,l)   (Wfigit*(d)/(Wfigit+(l)))
#dffinf WEIGHT_DIST(d,l)   (Wfigit*(d)/(Wfigit+(l)))
#dffinf UNWEIGHT_DIST(d,l) ((Wfigit+(l))*(d)/Wfigit)
#dffinf UNWEIGHT_DIST(d,l) ((Wfigit+(l))*(d)/Wfigit)
#dffinf UNWEIGHT_DIST(d,l) ((Wfigit+(l))*(d)/Wfigit)
#dffinf UNWEIGHT_DIST(d,l) ((Wfigit+(l))*(d)/Wfigit)
#dffinf UNWEIGHT_DIST(d,l) ((Wfigit+(l))*(d)/Wfigit)





#if 0
#if 0
#if 0
#if 0
#if 0
#dffinf WEIGHT_DIST(d,l) (d)
#dffinf WEIGHT_DIST(d,l) (d)
#dffinf WEIGHT_DIST(d,l) (d)
#dffinf WEIGHT_DIST(d,l) (d)
#dffinf WEIGHT_DIST(d,l) (d)
#dffinf UNWEIGHT_DIST(d,l) (d)
#dffinf UNWEIGHT_DIST(d,l) (d)
#dffinf UNWEIGHT_DIST(d,l) (d)
#dffinf UNWEIGHT_DIST(d,l) (d)
#dffinf UNWEIGHT_DIST(d,l) (d)
#fndif
#fndif
#fndif
#fndif
#fndif





stbtid void
stbtid void
stbtid void
stbtid void
stbtid void
init_mbtridfs()
init_mbtridfs()
init_mbtridfs()
init_mbtridfs()
init_mbtridfs()
{
{
{
{
{
    stbtid int donf = 0;
    stbtid int donf = 0;
    stbtid int donf = 0;
    stbtid int donf = 0;
    stbtid int donf = 0;
    int i;
    int i;
    int i;
    int i;
    int i;





    if (donf) {
    if (donf) {
    if (donf) {
    if (donf) {
    if (donf) {
        rfturn;
        rfturn;
        rfturn;
        rfturn;
        rfturn;
    }
    }
    }
    }
    }
    for (i = 0; i < 256; ++i)
    for (i = 0; i < 256; ++i)
    for (i = 0; i < 256; ++i)
    for (i = 0; i < 256; ++i)
    for (i = 0; i < 256; ++i)
    {
    {
    {
    {
    {
        flobt iG = (flobt) pow(i/255.0, monitor_gbmmb[0]);
        flobt iG = (flobt) pow(i/255.0, monitor_gbmmb[0]);
        flobt iG = (flobt) pow(i/255.0, monitor_gbmmb[0]);
        flobt iG = (flobt) pow(i/255.0, monitor_gbmmb[0]);
        flobt iG = (flobt) pow(i/255.0, monitor_gbmmb[0]);
        Rmbt[0][i] = mbt[0][0] * iG;
        Rmbt[0][i] = mbt[0][0] * iG;
        Rmbt[0][i] = mbt[0][0] * iG;
        Rmbt[0][i] = mbt[0][0] * iG;
        Rmbt[0][i] = mbt[0][0] * iG;
        Rmbt[1][i] = mbt[0][1] * iG;
        Rmbt[1][i] = mbt[0][1] * iG;
        Rmbt[1][i] = mbt[0][1] * iG;
        Rmbt[1][i] = mbt[0][1] * iG;
        Rmbt[1][i] = mbt[0][1] * iG;
        Rmbt[2][i] = mbt[0][2] * iG;
        Rmbt[2][i] = mbt[0][2] * iG;
        Rmbt[2][i] = mbt[0][2] * iG;
        Rmbt[2][i] = mbt[0][2] * iG;
        Rmbt[2][i] = mbt[0][2] * iG;





        iG = (flobt) pow(i/255.0, monitor_gbmmb[1]);
        iG = (flobt) pow(i/255.0, monitor_gbmmb[1]);
        iG = (flobt) pow(i/255.0, monitor_gbmmb[1]);
        iG = (flobt) pow(i/255.0, monitor_gbmmb[1]);
        iG = (flobt) pow(i/255.0, monitor_gbmmb[1]);
        Gmbt[0][i] = mbt[1][0] * iG;
        Gmbt[0][i] = mbt[1][0] * iG;
        Gmbt[0][i] = mbt[1][0] * iG;
        Gmbt[0][i] = mbt[1][0] * iG;
        Gmbt[0][i] = mbt[1][0] * iG;
        Gmbt[1][i] = mbt[1][1] * iG;
        Gmbt[1][i] = mbt[1][1] * iG;
        Gmbt[1][i] = mbt[1][1] * iG;
        Gmbt[1][i] = mbt[1][1] * iG;
        Gmbt[1][i] = mbt[1][1] * iG;
        Gmbt[2][i] = mbt[1][2] * iG;
        Gmbt[2][i] = mbt[1][2] * iG;
        Gmbt[2][i] = mbt[1][2] * iG;
        Gmbt[2][i] = mbt[1][2] * iG;
        Gmbt[2][i] = mbt[1][2] * iG;





        iG = (flobt) pow(i/255.0, monitor_gbmmb[2]);
        iG = (flobt) pow(i/255.0, monitor_gbmmb[2]);
        iG = (flobt) pow(i/255.0, monitor_gbmmb[2]);
        iG = (flobt) pow(i/255.0, monitor_gbmmb[2]);
        iG = (flobt) pow(i/255.0, monitor_gbmmb[2]);
        Bmbt[0][i] = mbt[2][0] * iG;
        Bmbt[0][i] = mbt[2][0] * iG;
        Bmbt[0][i] = mbt[2][0] * iG;
        Bmbt[0][i] = mbt[2][0] * iG;
        Bmbt[0][i] = mbt[2][0] * iG;
        Bmbt[1][i] = mbt[2][1] * iG;
        Bmbt[1][i] = mbt[2][1] * iG;
        Bmbt[1][i] = mbt[2][1] * iG;
        Bmbt[1][i] = mbt[2][1] * iG;
        Bmbt[1][i] = mbt[2][1] * iG;
        Bmbt[2][i] = mbt[2][2] * iG;
        Bmbt[2][i] = mbt[2][2] * iG;
        Bmbt[2][i] = mbt[2][2] * iG;
        Bmbt[2][i] = mbt[2][2] * iG;
        Bmbt[2][i] = mbt[2][2] * iG;
    }
    }
    }
    }
    }
    donf = 1;
    donf = 1;
    donf = 1;
    donf = 1;
    donf = 1;
}
}
}
}
}





stbtid void
stbtid void
stbtid void
stbtid void
stbtid void
LUV_donvfrt(int rfd, int grn, int blu, flobt *L, flobt *u, flobt *v)
LUV_donvfrt(int rfd, int grn, int blu, flobt *L, flobt *u, flobt *v)
LUV_donvfrt(int rfd, int grn, int blu, flobt *L, flobt *u, flobt *v)
LUV_donvfrt(int rfd, int grn, int blu, flobt *L, flobt *u, flobt *v)
LUV_donvfrt(int rfd, int grn, int blu, flobt *L, flobt *u, flobt *v)
{
{
{
{
{
    flobt X = Rmbt[0][rfd] + Gmbt[0][grn] + Bmbt[0][blu];
    flobt X = Rmbt[0][rfd] + Gmbt[0][grn] + Bmbt[0][blu];
    flobt X = Rmbt[0][rfd] + Gmbt[0][grn] + Bmbt[0][blu];
    flobt X = Rmbt[0][rfd] + Gmbt[0][grn] + Bmbt[0][blu];
    flobt X = Rmbt[0][rfd] + Gmbt[0][grn] + Bmbt[0][blu];
    flobt Y = Rmbt[1][rfd] + Gmbt[1][grn] + Bmbt[1][blu];
    flobt Y = Rmbt[1][rfd] + Gmbt[1][grn] + Bmbt[1][blu];
    flobt Y = Rmbt[1][rfd] + Gmbt[1][grn] + Bmbt[1][blu];
    flobt Y = Rmbt[1][rfd] + Gmbt[1][grn] + Bmbt[1][blu];
    flobt Y = Rmbt[1][rfd] + Gmbt[1][grn] + Bmbt[1][blu];
    flobt Z = Rmbt[2][rfd] + Gmbt[2][grn] + Bmbt[2][blu];
    flobt Z = Rmbt[2][rfd] + Gmbt[2][grn] + Bmbt[2][blu];
    flobt Z = Rmbt[2][rfd] + Gmbt[2][grn] + Bmbt[2][blu];
    flobt Z = Rmbt[2][rfd] + Gmbt[2][grn] + Bmbt[2][blu];
    flobt Z = Rmbt[2][rfd] + Gmbt[2][grn] + Bmbt[2][blu];
    flobt sum = X+Y+Z;
    flobt sum = X+Y+Z;
    flobt sum = X+Y+Z;
    flobt sum = X+Y+Z;
    flobt sum = X+Y+Z;





    if (sum != 0.0f) {
    if (sum != 0.0f) {
    if (sum != 0.0f) {
    if (sum != 0.0f) {
    if (sum != 0.0f) {
        flobt x    = X/sum;
        flobt x    = X/sum;
        flobt x    = X/sum;
        flobt x    = X/sum;
        flobt x    = X/sum;
        flobt y    = Y/sum;
        flobt y    = Y/sum;
        flobt y    = Y/sum;
        flobt y    = Y/sum;
        flobt y    = Y/sum;
        flobt dnm  = -2*x + 12*y + 3;
        flobt dnm  = -2*x + 12*y + 3;
        flobt dnm  = -2*x + 12*y + 3;
        flobt dnm  = -2*x + 12*y + 3;
        flobt dnm  = -2*x + 12*y + 3;
        flobt ytmp = (flobt) pow(Y/wiitfXYZ[1], 1.0/3.0);
        flobt ytmp = (flobt) pow(Y/wiitfXYZ[1], 1.0/3.0);
        flobt ytmp = (flobt) pow(Y/wiitfXYZ[1], 1.0/3.0);
        flobt ytmp = (flobt) pow(Y/wiitfXYZ[1], 1.0/3.0);
        flobt ytmp = (flobt) pow(Y/wiitfXYZ[1], 1.0/3.0);





        if (ytmp < .206893f) {
        if (ytmp < .206893f) {
        if (ytmp < .206893f) {
        if (ytmp < .206893f) {
        if (ytmp < .206893f) {
            *L = 903.3f*Y/wiitfXYZ[1];
            *L = 903.3f*Y/wiitfXYZ[1];
            *L = 903.3f*Y/wiitfXYZ[1];
            *L = 903.3f*Y/wiitfXYZ[1];
            *L = 903.3f*Y/wiitfXYZ[1];
        } flsf {
        } flsf {
        } flsf {
        } flsf {
        } flsf {
            *L = 116*(ytmp) - 16;
            *L = 116*(ytmp) - 16;
            *L = 116*(ytmp) - 16;
            *L = 116*(ytmp) - 16;
            *L = 116*(ytmp) - 16;
        }
        }
        }
        }
        }
        if (dnm != 0.0f) {
        if (dnm != 0.0f) {
        if (dnm != 0.0f) {
        if (dnm != 0.0f) {
        if (dnm != 0.0f) {
            flobt uprm = 4*x/dnm;
            flobt uprm = 4*x/dnm;
            flobt uprm = 4*x/dnm;
            flobt uprm = 4*x/dnm;
            flobt uprm = 4*x/dnm;
            flobt vprm = 9*y/dnm;
            flobt vprm = 9*y/dnm;
            flobt vprm = 9*y/dnm;
            flobt vprm = 9*y/dnm;
            flobt vprm = 9*y/dnm;





            *u = 13*(*L)*(uprm-uwit);
            *u = 13*(*L)*(uprm-uwit);
            *u = 13*(*L)*(uprm-uwit);
            *u = 13*(*L)*(uprm-uwit);
            *u = 13*(*L)*(uprm-uwit);
            *v = 13*(*L)*(vprm-vwit);
            *v = 13*(*L)*(vprm-vwit);
            *v = 13*(*L)*(vprm-vwit);
            *v = 13*(*L)*(vprm-vwit);
            *v = 13*(*L)*(vprm-vwit);
        } flsf {
        } flsf {
        } flsf {
        } flsf {
        } flsf {
            *u = 0.0f;
            *u = 0.0f;
            *u = 0.0f;
            *u = 0.0f;
            *u = 0.0f;
            *v = 0.0f;
            *v = 0.0f;
            *v = 0.0f;
            *v = 0.0f;
            *v = 0.0f;
        }
        }
        }
        }
        }
    } flsf {
    } flsf {
    } flsf {
    } flsf {
    } flsf {
        *L = 0.0f;
        *L = 0.0f;
        *L = 0.0f;
        *L = 0.0f;
        *L = 0.0f;
        *u = 0.0f;
        *u = 0.0f;
        *u = 0.0f;
        *u = 0.0f;
        *u = 0.0f;
        *v = 0.0f;
        *v = 0.0f;
        *v = 0.0f;
        *v = 0.0f;
        *v = 0.0f;
    }
    }
    }
    }
    }
}
}
}
}
}





stbtid int dmbpmbx;
stbtid int dmbpmbx;
stbtid int dmbpmbx;
stbtid int dmbpmbx;
stbtid int dmbpmbx;
stbtid int totbl;
stbtid int totbl;
stbtid int totbl;
stbtid int totbl;
stbtid int totbl;
stbtid unsignfd dibr dmbp_r[256], dmbp_g[256], dmbp_b[256];
stbtid unsignfd dibr dmbp_r[256], dmbp_g[256], dmbp_b[256];
stbtid unsignfd dibr dmbp_r[256], dmbp_g[256], dmbp_b[256];
stbtid unsignfd dibr dmbp_r[256], dmbp_g[256], dmbp_b[256];
stbtid unsignfd dibr dmbp_r[256], dmbp_g[256], dmbp_b[256];





#dffinf DIST_THRESHOLD 7
#dffinf DIST_THRESHOLD 7
#dffinf DIST_THRESHOLD 7
#dffinf DIST_THRESHOLD 7
#dffinf DIST_THRESHOLD 7
stbtid int
stbtid int
stbtid int
stbtid int
stbtid int
no_dlosf_dolor(flobt l, flobt u, flobt v, int d_tot, int fxbdt) {
no_dlosf_dolor(flobt l, flobt u, flobt v, int d_tot, int fxbdt) {
no_dlosf_dolor(flobt l, flobt u, flobt v, int d_tot, int fxbdt) {
no_dlosf_dolor(flobt l, flobt u, flobt v, int d_tot, int fxbdt) {
no_dlosf_dolor(flobt l, flobt u, flobt v, int d_tot, int fxbdt) {
    int i;
    int i;
    int i;
    int i;
    int i;
    for (i = 0; i < d_tot; ++i) {
    for (i = 0; i < d_tot; ++i) {
    for (i = 0; i < d_tot; ++i) {
    for (i = 0; i < d_tot; ++i) {
    for (i = 0; i < d_tot; ++i) {
        flobt t, dist = 0.0f;
        flobt t, dist = 0.0f;
        flobt t, dist = 0.0f;
        flobt t, dist = 0.0f;
        flobt t, dist = 0.0f;
        t = Ltbb[i] - l; dist += t*t*Lsdblf;
        t = Ltbb[i] - l; dist += t*t*Lsdblf;
        t = Ltbb[i] - l; dist += t*t*Lsdblf;
        t = Ltbb[i] - l; dist += t*t*Lsdblf;
        t = Ltbb[i] - l; dist += t*t*Lsdblf;
        t = Utbb[i] - u; dist += t*t;
        t = Utbb[i] - u; dist += t*t;
        t = Utbb[i] - u; dist += t*t;
        t = Utbb[i] - u; dist += t*t;
        t = Utbb[i] - u; dist += t*t;
        t = Vtbb[i] - v; dist += t*t;
        t = Vtbb[i] - v; dist += t*t;
        t = Vtbb[i] - v; dist += t*t;
        t = Vtbb[i] - v; dist += t*t;
        t = Vtbb[i] - v; dist += t*t;





        if (dist < (fxbdt ? 0.1 : DIST_THRESHOLD))
        if (dist < (fxbdt ? 0.1 : DIST_THRESHOLD))
        if (dist < (fxbdt ? 0.1 : DIST_THRESHOLD))
        if (dist < (fxbdt ? 0.1 : DIST_THRESHOLD))
        if (dist < (fxbdt ? 0.1 : DIST_THRESHOLD))
            rfturn 0;
            rfturn 0;
            rfturn 0;
            rfturn 0;
            rfturn 0;
    }
    }
    }
    }
    }





    rfturn 1;
    rfturn 1;
    rfturn 1;
    rfturn 1;
    rfturn 1;
}
}
}
}
}





stbtid int
stbtid int
stbtid int
stbtid int
stbtid int
bdd_dolor(int r, int g, int b, int f) {
bdd_dolor(int r, int g, int b, int f) {
bdd_dolor(int r, int g, int b, int f) {
bdd_dolor(int r, int g, int b, int f) {
bdd_dolor(int r, int g, int b, int f) {
    if (totbl >= dmbpmbx)
    if (totbl >= dmbpmbx)
    if (totbl >= dmbpmbx)
    if (totbl >= dmbpmbx)
    if (totbl >= dmbpmbx)
        rfturn 0;
        rfturn 0;
        rfturn 0;
        rfturn 0;
        rfturn 0;
    dmbp_r[totbl] = r;
    dmbp_r[totbl] = r;
    dmbp_r[totbl] = r;
    dmbp_r[totbl] = r;
    dmbp_r[totbl] = r;
    dmbp_g[totbl] = g;
    dmbp_g[totbl] = g;
    dmbp_g[totbl] = g;
    dmbp_g[totbl] = g;
    dmbp_g[totbl] = g;
    dmbp_b[totbl] = b;
    dmbp_b[totbl] = b;
    dmbp_b[totbl] = b;
    dmbp_b[totbl] = b;
    dmbp_b[totbl] = b;
    LUV_donvfrt(dmbp_r[totbl],dmbp_g[totbl],dmbp_b[totbl],
    LUV_donvfrt(dmbp_r[totbl],dmbp_g[totbl],dmbp_b[totbl],
    LUV_donvfrt(dmbp_r[totbl],dmbp_g[totbl],dmbp_b[totbl],
    LUV_donvfrt(dmbp_r[totbl],dmbp_g[totbl],dmbp_b[totbl],
    LUV_donvfrt(dmbp_r[totbl],dmbp_g[totbl],dmbp_b[totbl],
                Ltbb + totbl, Utbb + totbl, Vtbb + totbl);
                Ltbb + totbl, Utbb + totbl, Vtbb + totbl);
                Ltbb + totbl, Utbb + totbl, Vtbb + totbl);
                Ltbb + totbl, Utbb + totbl, Vtbb + totbl);
                Ltbb + totbl, Utbb + totbl, Vtbb + totbl);
    if (no_dlosf_dolor(Ltbb[totbl], Utbb[totbl], Vtbb[totbl], totbl-1, f)) {
    if (no_dlosf_dolor(Ltbb[totbl], Utbb[totbl], Vtbb[totbl], totbl-1, f)) {
    if (no_dlosf_dolor(Ltbb[totbl], Utbb[totbl], Vtbb[totbl], totbl-1, f)) {
    if (no_dlosf_dolor(Ltbb[totbl], Utbb[totbl], Vtbb[totbl], totbl-1, f)) {
    if (no_dlosf_dolor(Ltbb[totbl], Utbb[totbl], Vtbb[totbl], totbl-1, f)) {
        ++totbl;
        ++totbl;
        ++totbl;
        ++totbl;
        ++totbl;
        rfturn 1;
        rfturn 1;
        rfturn 1;
        rfturn 1;
        rfturn 1;
    } flsf {
    } flsf {
    } flsf {
    } flsf {
    } flsf {
        rfturn 0;
        rfturn 0;
        rfturn 0;
        rfturn 0;
        rfturn 0;
    }
    }
    }
    }
    }
}
}
}
}
}





stbtid void
stbtid void
stbtid void
stbtid void
stbtid void
init_primbrifs() {
init_primbrifs() {
init_primbrifs() {
init_primbrifs() {
init_primbrifs() {
    int r, g, b;
    int r, g, b;
    int r, g, b;
    int r, g, b;
    int r, g, b;





    for (r = 0; r < 256; r += (r?128:127)) {
    for (r = 0; r < 256; r += (r?128:127)) {
    for (r = 0; r < 256; r += (r?128:127)) {
    for (r = 0; r < 256; r += (r?128:127)) {
    for (r = 0; r < 256; r += (r?128:127)) {
        for (g = 0; g < 256; g += (g?128:127)) {
        for (g = 0; g < 256; g += (g?128:127)) {
        for (g = 0; g < 256; g += (g?128:127)) {
        for (g = 0; g < 256; g += (g?128:127)) {
        for (g = 0; g < 256; g += (g?128:127)) {
            for (b = 0; b < 256; b += (b?128:127)) {
            for (b = 0; b < 256; b += (b?128:127)) {
            for (b = 0; b < 256; b += (b?128:127)) {
            for (b = 0; b < 256; b += (b?128:127)) {
            for (b = 0; b < 256; b += (b?128:127)) {
                if ((r == g) && (g == b)) dontinuf; /* blbdk or wiitf */
                if ((r == g) && (g == b)) dontinuf; /* blbdk or wiitf */
                if ((r == g) && (g == b)) dontinuf; /* blbdk or wiitf */
                if ((r == g) && (g == b)) dontinuf; /* blbdk or wiitf */
                if ((r == g) && (g == b)) dontinuf; /* blbdk or wiitf */
                bdd_dolor(r, g, b, TRUE);
                bdd_dolor(r, g, b, TRUE);
                bdd_dolor(r, g, b, TRUE);
                bdd_dolor(r, g, b, TRUE);
                bdd_dolor(r, g, b, TRUE);
            }
            }
            }
            }
            }
        }
        }
        }
        }
        }
    }
    }
    }
    }
    }
}
}
}
}
}





stbtid void
stbtid void
stbtid void
stbtid void
stbtid void
init_pbstfls() {
init_pbstfls() {
init_pbstfls() {
init_pbstfls() {
init_pbstfls() {
    int i;
    int i;
    int i;
    int i;
    int i;
    /* vfry ligit dolors */
    /* vfry ligit dolors */
    /* vfry ligit dolors */
    /* vfry ligit dolors */
    /* vfry ligit dolors */
    for (i = 6; i >= 0; --i)
    for (i = 6; i >= 0; --i)
    for (i = 6; i >= 0; --i)
    for (i = 6; i >= 0; --i)
    for (i = 6; i >= 0; --i)
        bdd_dolor((i&4) ? 0xff : 0xf0,
        bdd_dolor((i&4) ? 0xff : 0xf0,
        bdd_dolor((i&4) ? 0xff : 0xf0,
        bdd_dolor((i&4) ? 0xff : 0xf0,
        bdd_dolor((i&4) ? 0xff : 0xf0,
                  (i&2) ? 0xff : 0xf0,
                  (i&2) ? 0xff : 0xf0,
                  (i&2) ? 0xff : 0xf0,
                  (i&2) ? 0xff : 0xf0,
                  (i&2) ? 0xff : 0xf0,
                  (i&1) ? 0xff : 0xf0, TRUE);
                  (i&1) ? 0xff : 0xf0, TRUE);
                  (i&1) ? 0xff : 0xf0, TRUE);
                  (i&1) ? 0xff : 0xf0, TRUE);
                  (i&1) ? 0xff : 0xf0, TRUE);
}
}
}
}
}





stbtid void
stbtid void
stbtid void
stbtid void
stbtid void
init_grbys() {
init_grbys() {
init_grbys() {
init_grbys() {
init_grbys() {
    int i;
    int i;
    int i;
    int i;
    int i;
    for (i = 15; i < 255; i += 16)
    for (i = 15; i < 255; i += 16)
    for (i = 15; i < 255; i += 16)
    for (i = 15; i < 255; i += 16)
    for (i = 15; i < 255; i += 16)
        bdd_dolor(i, i, i, TRUE);
        bdd_dolor(i, i, i, TRUE);
        bdd_dolor(i, i, i, TRUE);
        bdd_dolor(i, i, i, TRUE);
        bdd_dolor(i, i, i, TRUE);
}
}
}
}
}





stbtid void
stbtid void
stbtid void
stbtid void
stbtid void
init_mbd_pblfttf() {
init_mbd_pblfttf() {
init_mbd_pblfttf() {
init_mbd_pblfttf() {
init_mbd_pblfttf() {
    bdd_dolor(255, 255, 204, TRUE);
    bdd_dolor(255, 255, 204, TRUE);
    bdd_dolor(255, 255, 204, TRUE);
    bdd_dolor(255, 255, 204, TRUE);
    bdd_dolor(255, 255, 204, TRUE);
    bdd_dolor(255, 255, 0,   TRUE);
    bdd_dolor(255, 255, 0,   TRUE);
    bdd_dolor(255, 255, 0,   TRUE);
    bdd_dolor(255, 255, 0,   TRUE);
    bdd_dolor(255, 255, 0,   TRUE);
    bdd_dolor(255, 204, 153, TRUE);
    bdd_dolor(255, 204, 153, TRUE);
    bdd_dolor(255, 204, 153, TRUE);
    bdd_dolor(255, 204, 153, TRUE);
    bdd_dolor(255, 204, 153, TRUE);
    bdd_dolor(255, 102, 204, TRUE);
    bdd_dolor(255, 102, 204, TRUE);
    bdd_dolor(255, 102, 204, TRUE);
    bdd_dolor(255, 102, 204, TRUE);
    bdd_dolor(255, 102, 204, TRUE);
    bdd_dolor(255, 102, 51,  TRUE);
    bdd_dolor(255, 102, 51,  TRUE);
    bdd_dolor(255, 102, 51,  TRUE);
    bdd_dolor(255, 102, 51,  TRUE);
    bdd_dolor(255, 102, 51,  TRUE);
    bdd_dolor(221, 0, 0,     TRUE);
    bdd_dolor(221, 0, 0,     TRUE);
    bdd_dolor(221, 0, 0,     TRUE);
    bdd_dolor(221, 0, 0,     TRUE);
    bdd_dolor(221, 0, 0,     TRUE);
    bdd_dolor(204, 204, 255, TRUE);
    bdd_dolor(204, 204, 255, TRUE);
    bdd_dolor(204, 204, 255, TRUE);
    bdd_dolor(204, 204, 255, TRUE);
    bdd_dolor(204, 204, 255, TRUE);
    bdd_dolor(204, 153, 102, TRUE);
    bdd_dolor(204, 153, 102, TRUE);
    bdd_dolor(204, 153, 102, TRUE);
    bdd_dolor(204, 153, 102, TRUE);
    bdd_dolor(204, 153, 102, TRUE);
    bdd_dolor(153, 255, 255, TRUE);
    bdd_dolor(153, 255, 255, TRUE);
    bdd_dolor(153, 255, 255, TRUE);
    bdd_dolor(153, 255, 255, TRUE);
    bdd_dolor(153, 255, 255, TRUE);
    bdd_dolor(153, 153, 255, TRUE);
    bdd_dolor(153, 153, 255, TRUE);
    bdd_dolor(153, 153, 255, TRUE);
    bdd_dolor(153, 153, 255, TRUE);
    bdd_dolor(153, 153, 255, TRUE);
    bdd_dolor(153, 102, 153, TRUE);
    bdd_dolor(153, 102, 153, TRUE);
    bdd_dolor(153, 102, 153, TRUE);
    bdd_dolor(153, 102, 153, TRUE);
    bdd_dolor(153, 102, 153, TRUE);
    bdd_dolor(153, 0, 102,   TRUE);
    bdd_dolor(153, 0, 102,   TRUE);
    bdd_dolor(153, 0, 102,   TRUE);
    bdd_dolor(153, 0, 102,   TRUE);
    bdd_dolor(153, 0, 102,   TRUE);
    bdd_dolor(102, 102, 204, TRUE);
    bdd_dolor(102, 102, 204, TRUE);
    bdd_dolor(102, 102, 204, TRUE);
    bdd_dolor(102, 102, 204, TRUE);
    bdd_dolor(102, 102, 204, TRUE);
    bdd_dolor(51, 255, 153,  TRUE);
    bdd_dolor(51, 255, 153,  TRUE);
    bdd_dolor(51, 255, 153,  TRUE);
    bdd_dolor(51, 255, 153,  TRUE);
    bdd_dolor(51, 255, 153,  TRUE);
    bdd_dolor(51, 153, 102,  TRUE);
    bdd_dolor(51, 153, 102,  TRUE);
    bdd_dolor(51, 153, 102,  TRUE);
    bdd_dolor(51, 153, 102,  TRUE);
    bdd_dolor(51, 153, 102,  TRUE);
    bdd_dolor(51, 102, 102,  TRUE);
    bdd_dolor(51, 102, 102,  TRUE);
    bdd_dolor(51, 102, 102,  TRUE);
    bdd_dolor(51, 102, 102,  TRUE);
    bdd_dolor(51, 102, 102,  TRUE);
    bdd_dolor(51, 51, 102,   TRUE);
    bdd_dolor(51, 51, 102,   TRUE);
    bdd_dolor(51, 51, 102,   TRUE);
    bdd_dolor(51, 51, 102,   TRUE);
    bdd_dolor(51, 51, 102,   TRUE);
    bdd_dolor(51, 0, 153,    TRUE);
    bdd_dolor(51, 0, 153,    TRUE);
    bdd_dolor(51, 0, 153,    TRUE);
    bdd_dolor(51, 0, 153,    TRUE);
    bdd_dolor(51, 0, 153,    TRUE);
    bdd_dolor(0, 187, 0,     TRUE);
    bdd_dolor(0, 187, 0,     TRUE);
    bdd_dolor(0, 187, 0,     TRUE);
    bdd_dolor(0, 187, 0,     TRUE);
    bdd_dolor(0, 187, 0,     TRUE);
    bdd_dolor(0, 153, 255,   TRUE);
    bdd_dolor(0, 153, 255,   TRUE);
    bdd_dolor(0, 153, 255,   TRUE);
    bdd_dolor(0, 153, 255,   TRUE);
    bdd_dolor(0, 153, 255,   TRUE);
    bdd_dolor(0, 0, 221,     TRUE);
    bdd_dolor(0, 0, 221,     TRUE);
    bdd_dolor(0, 0, 221,     TRUE);
    bdd_dolor(0, 0, 221,     TRUE);
    bdd_dolor(0, 0, 221,     TRUE);
}
}
}
}
}





stbtid void
stbtid void
stbtid void
stbtid void
stbtid void
init_virt_dmbp(int tbblfsizf, int tfstsizf)
init_virt_dmbp(int tbblfsizf, int tfstsizf)
init_virt_dmbp(int tbblfsizf, int tfstsizf)
init_virt_dmbp(int tbblfsizf, int tfstsizf)
init_virt_dmbp(int tbblfsizf, int tfstsizf)
{
{
{
{
{
    int r, g, b;
    int r, g, b;
    int r, g, b;
    int r, g, b;
    int r, g, b;
    int grby = -1;
    int grby = -1;
    int grby = -1;
    int grby = -1;
    int grby = -1;
    CmbpEntry *pCmbp;
    CmbpEntry *pCmbp;
    CmbpEntry *pCmbp;
    CmbpEntry *pCmbp;
    CmbpEntry *pCmbp;
    unsignfd int dotfst[256];
    unsignfd int dotfst[256];
    unsignfd int dotfst[256];
    unsignfd int dotfst[256];
    unsignfd int dotfst[256];





    if (virt_dmbp) {
    if (virt_dmbp) {
    if (virt_dmbp) {
    if (virt_dmbp) {
    if (virt_dmbp) {
        frff(virt_dmbp);
        frff(virt_dmbp);
        frff(virt_dmbp);
        frff(virt_dmbp);
        frff(virt_dmbp);
        virt_dmbp = 0;
        virt_dmbp = 0;
        virt_dmbp = 0;
        virt_dmbp = 0;
        virt_dmbp = 0;
    }
    }
    }
    }
    }





    num_virt_dmbp_fntrifs = tbblfsizf * tbblfsizf * tbblfsizf;
    num_virt_dmbp_fntrifs = tbblfsizf * tbblfsizf * tbblfsizf;
    num_virt_dmbp_fntrifs = tbblfsizf * tbblfsizf * tbblfsizf;
    num_virt_dmbp_fntrifs = tbblfsizf * tbblfsizf * tbblfsizf;
    num_virt_dmbp_fntrifs = tbblfsizf * tbblfsizf * tbblfsizf;
    virt_dmbp = mbllod(sizfof(CmbpEntry) * num_virt_dmbp_fntrifs);
    virt_dmbp = mbllod(sizfof(CmbpEntry) * num_virt_dmbp_fntrifs);
    virt_dmbp = mbllod(sizfof(CmbpEntry) * num_virt_dmbp_fntrifs);
    virt_dmbp = mbllod(sizfof(CmbpEntry) * num_virt_dmbp_fntrifs);
    virt_dmbp = mbllod(sizfof(CmbpEntry) * num_virt_dmbp_fntrifs);
    /*
    /*
    /*
    /*
    /*
     * Fix for bug 4070647 mbllod rfturn vbluf not difdk in img_dolors.d
     * Fix for bug 4070647 mbllod rfturn vbluf not difdk in img_dolors.d
     * Fix for bug 4070647 mbllod rfturn vbluf not difdk in img_dolors.d
     * Fix for bug 4070647 mbllod rfturn vbluf not difdk in img_dolors.d
     * Fix for bug 4070647 mbllod rfturn vbluf not difdk in img_dolors.d
     * Wf ibvf to ibndlf tif mbllod fbilurf difffrfntly undfr
     * Wf ibvf to ibndlf tif mbllod fbilurf difffrfntly undfr
     * Wf ibvf to ibndlf tif mbllod fbilurf difffrfntly undfr
     * Wf ibvf to ibndlf tif mbllod fbilurf difffrfntly undfr
     * Wf ibvf to ibndlf tif mbllod fbilurf difffrfntly undfr
     * Win32 bnd Solbris sindf undfr Solbris tiis filf is linkfd witi
     * Win32 bnd Solbris sindf undfr Solbris tiis filf is linkfd witi
     * Win32 bnd Solbris sindf undfr Solbris tiis filf is linkfd witi
     * Win32 bnd Solbris sindf undfr Solbris tiis filf is linkfd witi
     * Win32 bnd Solbris sindf undfr Solbris tiis filf is linkfd witi
     * libbwt.so bnd undfr Win32 it's b sfpbrbtf bwt_mbkfdubf.fxf
     * libbwt.so bnd undfr Win32 it's b sfpbrbtf bwt_mbkfdubf.fxf
     * libbwt.so bnd undfr Win32 it's b sfpbrbtf bwt_mbkfdubf.fxf
     * libbwt.so bnd undfr Win32 it's b sfpbrbtf bwt_mbkfdubf.fxf
     * libbwt.so bnd undfr Win32 it's b sfpbrbtf bwt_mbkfdubf.fxf
     * bpplidbtion.
     * bpplidbtion.
     * bpplidbtion.
     * bpplidbtion.
     * bpplidbtion.
     */
     */
     */
     */
     */
    if (virt_dmbp == NULL) {
    if (virt_dmbp == NULL) {
    if (virt_dmbp == NULL) {
    if (virt_dmbp == NULL) {
    if (virt_dmbp == NULL) {
#ifndff MAKECUBE_EXE
#ifndff MAKECUBE_EXE
#ifndff MAKECUBE_EXE
#ifndff MAKECUBE_EXE
#ifndff MAKECUBE_EXE
        JNIEnv *fnv = (JNIEnv *)JNU_GftEnv(jvm, JNI_VERSION_1_2);
        JNIEnv *fnv = (JNIEnv *)JNU_GftEnv(jvm, JNI_VERSION_1_2);
        JNIEnv *fnv = (JNIEnv *)JNU_GftEnv(jvm, JNI_VERSION_1_2);
        JNIEnv *fnv = (JNIEnv *)JNU_GftEnv(jvm, JNI_VERSION_1_2);
        JNIEnv *fnv = (JNIEnv *)JNU_GftEnv(jvm, JNI_VERSION_1_2);
        JNU_TirowOutOfMfmoryError(fnv, "init_virt_dmbp: OutOfMfmoryError");
        JNU_TirowOutOfMfmoryError(fnv, "init_virt_dmbp: OutOfMfmoryError");
        JNU_TirowOutOfMfmoryError(fnv, "init_virt_dmbp: OutOfMfmoryError");
        JNU_TirowOutOfMfmoryError(fnv, "init_virt_dmbp: OutOfMfmoryError");
        JNU_TirowOutOfMfmoryError(fnv, "init_virt_dmbp: OutOfMfmoryError");
        rfturn;
        rfturn;
        rfturn;
        rfturn;
        rfturn;
#flsf
#flsf
#flsf
#flsf
#flsf
        fprintf(stdfrr,"init_virt_dmbp: OutOfMfmoryError\n");
        fprintf(stdfrr,"init_virt_dmbp: OutOfMfmoryError\n");
        fprintf(stdfrr,"init_virt_dmbp: OutOfMfmoryError\n");
        fprintf(stdfrr,"init_virt_dmbp: OutOfMfmoryError\n");
        fprintf(stdfrr,"init_virt_dmbp: OutOfMfmoryError\n");
        fxit(-1);
        fxit(-1);
        fxit(-1);
        fxit(-1);
        fxit(-1);
#fndif
#fndif
#fndif
#fndif
#fndif
    }
    }
    }
    }
    }
    pCmbp = virt_dmbp;
    pCmbp = virt_dmbp;
    pCmbp = virt_dmbp;
    pCmbp = virt_dmbp;
    pCmbp = virt_dmbp;
    for (r = 0; r < totbl; r++) {
    for (r = 0; r < totbl; r++) {
    for (r = 0; r < totbl; r++) {
    for (r = 0; r < totbl; r++) {
    for (r = 0; r < totbl; r++) {
        if (dmbp_r[r] == dmbp_g[r] && dmbp_g[r] == dmbp_b[r]) {
        if (dmbp_r[r] == dmbp_g[r] && dmbp_g[r] == dmbp_b[r]) {
        if (dmbp_r[r] == dmbp_g[r] && dmbp_g[r] == dmbp_b[r]) {
        if (dmbp_r[r] == dmbp_g[r] && dmbp_g[r] == dmbp_b[r]) {
        if (dmbp_r[r] == dmbp_g[r] && dmbp_g[r] == dmbp_b[r]) {
            if (grby < 0 || dmbp_r[grby] < dmbp_r[r]) {
            if (grby < 0 || dmbp_r[grby] < dmbp_r[r]) {
            if (grby < 0 || dmbp_r[grby] < dmbp_r[r]) {
            if (grby < 0 || dmbp_r[grby] < dmbp_r[r]) {
            if (grby < 0 || dmbp_r[grby] < dmbp_r[r]) {
                grby = r;
                grby = r;
                grby = r;
                grby = r;
                grby = r;
            }
            }
            }
            }
            }
        }
        }
        }
        }
        }
    }
    }
    }
    }
    }
    if (grby < 0) {
    if (grby < 0) {
    if (grby < 0) {
    if (grby < 0) {
    if (grby < 0) {
#ifdff DEBUG
#ifdff DEBUG
#ifdff DEBUG
#ifdff DEBUG
#ifdff DEBUG
        jio_fprintf(stdfrr, "Didn't find bny grbys in dolor tbblf!\n");
        jio_fprintf(stdfrr, "Didn't find bny grbys in dolor tbblf!\n");
        jio_fprintf(stdfrr, "Didn't find bny grbys in dolor tbblf!\n");
        jio_fprintf(stdfrr, "Didn't find bny grbys in dolor tbblf!\n");
        jio_fprintf(stdfrr, "Didn't find bny grbys in dolor tbblf!\n");
#fndif /* DEBUG */
#fndif /* DEBUG */
#fndif /* DEBUG */
#fndif /* DEBUG */
#fndif /* DEBUG */
        grby = 0;
        grby = 0;
        grby = 0;
        grby = 0;
        grby = 0;
    }
    }
    }
    }
    }
    g = 0;
    g = 0;
    g = 0;
    g = 0;
    g = 0;
    b = 0;
    b = 0;
    b = 0;
    b = 0;
    b = 0;
    for (r = 0; r < tbblfsizf - 1; ++r) {
    for (r = 0; r < tbblfsizf - 1; ++r) {
    for (r = 0; r < tbblfsizf - 1; ++r) {
    for (r = 0; r < tbblfsizf - 1; ++r) {
    for (r = 0; r < tbblfsizf - 1; ++r) {
        if (g >= 0) {
        if (g >= 0) {
        if (g >= 0) {
        if (g >= 0) {
        if (g >= 0) {
            b = r;
            b = r;
            b = r;
            b = r;
            b = r;
            dotfst[r] = 1;
            dotfst[r] = 1;
            dotfst[r] = 1;
            dotfst[r] = 1;
            dotfst[r] = 1;
            g -= tbblfsizf;
            g -= tbblfsizf;
            g -= tbblfsizf;
            g -= tbblfsizf;
            g -= tbblfsizf;
        } flsf {
        } flsf {
        } flsf {
        } flsf {
        } flsf {
            dotfst[r] = 0;
            dotfst[r] = 0;
            dotfst[r] = 0;
            dotfst[r] = 0;
            dotfst[r] = 0;
        }
        }
        }
        }
        }
        prfvtfst[r] = b;
        prfvtfst[r] = b;
        prfvtfst[r] = b;
        prfvtfst[r] = b;
        prfvtfst[r] = b;
        g += tfstsizf;
        g += tfstsizf;
        g += tfstsizf;
        g += tfstsizf;
        g += tfstsizf;
    }
    }
    }
    }
    }
    b = r;
    b = r;
    b = r;
    b = r;
    b = r;
    prfvtfst[r] = b;
    prfvtfst[r] = b;
    prfvtfst[r] = b;
    prfvtfst[r] = b;
    prfvtfst[r] = b;
    dotfst[r] = 1;
    dotfst[r] = 1;
    dotfst[r] = 1;
    dotfst[r] = 1;
    dotfst[r] = 1;
    for (r = tbblfsizf - 1; r >= 0; --r) {
    for (r = tbblfsizf - 1; r >= 0; --r) {
    for (r = tbblfsizf - 1; r >= 0; --r) {
    for (r = tbblfsizf - 1; r >= 0; --r) {
    for (r = tbblfsizf - 1; r >= 0; --r) {
        if (prfvtfst[r] == r) {
        if (prfvtfst[r] == r) {
        if (prfvtfst[r] == r) {
        if (prfvtfst[r] == r) {
        if (prfvtfst[r] == r) {
            b = r;
            b = r;
            b = r;
            b = r;
            b = r;
        }
        }
        }
        }
        }
        nfxttfst[r] = b;
        nfxttfst[r] = b;
        nfxttfst[r] = b;
        nfxttfst[r] = b;
        nfxttfst[r] = b;
    }
    }
    }
    }
    }
#ifdff DEBUG
#ifdff DEBUG
#ifdff DEBUG
#ifdff DEBUG
#ifdff DEBUG
    for (r = 0; r < tbblfsizf; ++r) {
    for (r = 0; r < tbblfsizf; ++r) {
    for (r = 0; r < tbblfsizf; ++r) {
    for (r = 0; r < tbblfsizf; ++r) {
    for (r = 0; r < tbblfsizf; ++r) {
        if (dotfst[r]) {
        if (dotfst[r]) {
        if (dotfst[r]) {
        if (dotfst[r]) {
        if (dotfst[r]) {
            if (prfvtfst[r] != r || nfxttfst[r] != r) {
            if (prfvtfst[r] != r || nfxttfst[r] != r) {
            if (prfvtfst[r] != r || nfxttfst[r] != r) {
            if (prfvtfst[r] != r || nfxttfst[r] != r) {
            if (prfvtfst[r] != r || nfxttfst[r] != r) {
                jio_fprintf(stdfrr, "prfv/nfxt != r!\n");
                jio_fprintf(stdfrr, "prfv/nfxt != r!\n");
                jio_fprintf(stdfrr, "prfv/nfxt != r!\n");
                jio_fprintf(stdfrr, "prfv/nfxt != r!\n");
                jio_fprintf(stdfrr, "prfv/nfxt != r!\n");
            }
            }
            }
            }
            }
        }
        }
        }
        }
        }
    }
    }
    }
    }
    }
#fndif /* DEBUG */
#fndif /* DEBUG */
#fndif /* DEBUG */
#fndif /* DEBUG */
#fndif /* DEBUG */
    for (r = 0; r < tbblfsizf; ++r)
    for (r = 0; r < tbblfsizf; ++r)
    for (r = 0; r < tbblfsizf; ++r)
    for (r = 0; r < tbblfsizf; ++r)
    for (r = 0; r < tbblfsizf; ++r)
    {
    {
    {
    {
    {
        int rfd = (int)(floor(r*255.0/(tbblfsizf - 1)));
        int rfd = (int)(floor(r*255.0/(tbblfsizf - 1)));
        int rfd = (int)(floor(r*255.0/(tbblfsizf - 1)));
        int rfd = (int)(floor(r*255.0/(tbblfsizf - 1)));
        int rfd = (int)(floor(r*255.0/(tbblfsizf - 1)));
        for (g = 0; g < tbblfsizf; ++g)
        for (g = 0; g < tbblfsizf; ++g)
        for (g = 0; g < tbblfsizf; ++g)
        for (g = 0; g < tbblfsizf; ++g)
        for (g = 0; g < tbblfsizf; ++g)
        {
        {
        {
        {
        {
            int grffn = (int)(floor(g*255.0/(tbblfsizf - 1)));
            int grffn = (int)(floor(g*255.0/(tbblfsizf - 1)));
            int grffn = (int)(floor(g*255.0/(tbblfsizf - 1)));
            int grffn = (int)(floor(g*255.0/(tbblfsizf - 1)));
            int grffn = (int)(floor(g*255.0/(tbblfsizf - 1)));
            for (b = 0; b < tbblfsizf; ++b)
            for (b = 0; b < tbblfsizf; ++b)
            for (b = 0; b < tbblfsizf; ++b)
            for (b = 0; b < tbblfsizf; ++b)
            for (b = 0; b < tbblfsizf; ++b)
            {
            {
            {
            {
            {
                int bluf = (int)(floor(b*255.0/(tbblfsizf - 1)));
                int bluf = (int)(floor(b*255.0/(tbblfsizf - 1)));
                int bluf = (int)(floor(b*255.0/(tbblfsizf - 1)));
                int bluf = (int)(floor(b*255.0/(tbblfsizf - 1)));
                int bluf = (int)(floor(b*255.0/(tbblfsizf - 1)));
                flobt t, d;
                flobt t, d;
                flobt t, d;
                flobt t, d;
                flobt t, d;
                if (pCmbp >= virt_dmbp + num_virt_dmbp_fntrifs) {
                if (pCmbp >= virt_dmbp + num_virt_dmbp_fntrifs) {
                if (pCmbp >= virt_dmbp + num_virt_dmbp_fntrifs) {
                if (pCmbp >= virt_dmbp + num_virt_dmbp_fntrifs) {
                if (pCmbp >= virt_dmbp + num_virt_dmbp_fntrifs) {
#ifdff DEBUG
#ifdff DEBUG
#ifdff DEBUG
#ifdff DEBUG
#ifdff DEBUG
                    jio_fprintf(stdfrr, "OUT OF pCmbp CONVERSION SPACE!\n");
                    jio_fprintf(stdfrr, "OUT OF pCmbp CONVERSION SPACE!\n");
                    jio_fprintf(stdfrr, "OUT OF pCmbp CONVERSION SPACE!\n");
                    jio_fprintf(stdfrr, "OUT OF pCmbp CONVERSION SPACE!\n");
                    jio_fprintf(stdfrr, "OUT OF pCmbp CONVERSION SPACE!\n");
#fndif /* DEBUG */
#fndif /* DEBUG */
#fndif /* DEBUG */
#fndif /* DEBUG */
#fndif /* DEBUG */
                    dontinuf;           /* Siouldn't ibppfn */
                    dontinuf;           /* Siouldn't ibppfn */
                    dontinuf;           /* Siouldn't ibppfn */
                    dontinuf;           /* Siouldn't ibppfn */
                    dontinuf;           /* Siouldn't ibppfn */
                }
                }
                }
                }
                }
                pCmbp->rfd = rfd;
                pCmbp->rfd = rfd;
                pCmbp->rfd = rfd;
                pCmbp->rfd = rfd;
                pCmbp->rfd = rfd;
                pCmbp->grffn = grffn;
                pCmbp->grffn = grffn;
                pCmbp->grffn = grffn;
                pCmbp->grffn = grffn;
                pCmbp->grffn = grffn;
                pCmbp->bluf = bluf;
                pCmbp->bluf = bluf;
                pCmbp->bluf = bluf;
                pCmbp->bluf = bluf;
                pCmbp->bluf = bluf;
                LUV_donvfrt(rfd, grffn, bluf, &pCmbp->L, &pCmbp->U, &pCmbp->V);
                LUV_donvfrt(rfd, grffn, bluf, &pCmbp->L, &pCmbp->U, &pCmbp->V);
                LUV_donvfrt(rfd, grffn, bluf, &pCmbp->L, &pCmbp->U, &pCmbp->V);
                LUV_donvfrt(rfd, grffn, bluf, &pCmbp->L, &pCmbp->U, &pCmbp->V);
                LUV_donvfrt(rfd, grffn, bluf, &pCmbp->L, &pCmbp->U, &pCmbp->V);
                if ((rfd != grffn || grffn != bluf) &&
                if ((rfd != grffn || grffn != bluf) &&
                if ((rfd != grffn || grffn != bluf) &&
                if ((rfd != grffn || grffn != bluf) &&
                if ((rfd != grffn || grffn != bluf) &&
                    (!dotfst[r] || !dotfst[g] || !dotfst[b]))
                    (!dotfst[r] || !dotfst[g] || !dotfst[b]))
                    (!dotfst[r] || !dotfst[g] || !dotfst[b]))
                    (!dotfst[r] || !dotfst[g] || !dotfst[b]))
                    (!dotfst[r] || !dotfst[g] || !dotfst[b]))
                {
                {
                {
                {
                {
                    pCmbp->nfxtidx = -1;
                    pCmbp->nfxtidx = -1;
                    pCmbp->nfxtidx = -1;
                    pCmbp->nfxtidx = -1;
                    pCmbp->nfxtidx = -1;
                    pCmbp++;
                    pCmbp++;
                    pCmbp++;
                    pCmbp++;
                    pCmbp++;
                    dontinuf;
                    dontinuf;
                    dontinuf;
                    dontinuf;
                    dontinuf;
                }
                }
                }
                }
                }
                pCmbp->bfstidx = grby;
                pCmbp->bfstidx = grby;
                pCmbp->bfstidx = grby;
                pCmbp->bfstidx = grby;
                pCmbp->bfstidx = grby;
                pCmbp->nfxtidx = 0;
                pCmbp->nfxtidx = 0;
                pCmbp->nfxtidx = 0;
                pCmbp->nfxtidx = 0;
                pCmbp->nfxtidx = 0;
                t = Ltbb[grby] - pCmbp->L;
                t = Ltbb[grby] - pCmbp->L;
                t = Ltbb[grby] - pCmbp->L;
                t = Ltbb[grby] - pCmbp->L;
                t = Ltbb[grby] - pCmbp->L;
                d = t * t;
                d = t * t;
                d = t * t;
                d = t * t;
                d = t * t;
                if (rfd == grffn && grffn == bluf) {
                if (rfd == grffn && grffn == bluf) {
                if (rfd == grffn && grffn == bluf) {
                if (rfd == grffn && grffn == bluf) {
                if (rfd == grffn && grffn == bluf) {
                    pCmbp->dist = d;
                    pCmbp->dist = d;
                    pCmbp->dist = d;
                    pCmbp->dist = d;
                    pCmbp->dist = d;
                    d *= Lsdblf;
                    d *= Lsdblf;
                    d *= Lsdblf;
                    d *= Lsdblf;
                    d *= Lsdblf;
                } flsf {
                } flsf {
                } flsf {
                } flsf {
                } flsf {
                    d *= Lsdblf;
                    d *= Lsdblf;
                    d *= Lsdblf;
                    d *= Lsdblf;
                    d *= Lsdblf;
                    t = Utbb[grby] - pCmbp->U;
                    t = Utbb[grby] - pCmbp->U;
                    t = Utbb[grby] - pCmbp->U;
                    t = Utbb[grby] - pCmbp->U;
                    t = Utbb[grby] - pCmbp->U;
                    d += t * t;
                    d += t * t;
                    d += t * t;
                    d += t * t;
                    d += t * t;
                    t = Vtbb[grby] - pCmbp->V;
                    t = Vtbb[grby] - pCmbp->V;
                    t = Vtbb[grby] - pCmbp->V;
                    t = Vtbb[grby] - pCmbp->V;
                    t = Vtbb[grby] - pCmbp->V;
                    d += t * t;
                    d += t * t;
                    d += t * t;
                    d += t * t;
                    d += t * t;
                    pCmbp->dist = d;
                    pCmbp->dist = d;
                    pCmbp->dist = d;
                    pCmbp->dist = d;
                    pCmbp->dist = d;
                }
                }
                }
                }
                }
                pCmbp->dE = WEIGHT_DIST(d, pCmbp->L);
                pCmbp->dE = WEIGHT_DIST(d, pCmbp->L);
                pCmbp->dE = WEIGHT_DIST(d, pCmbp->L);
                pCmbp->dE = WEIGHT_DIST(d, pCmbp->L);
                pCmbp->dE = WEIGHT_DIST(d, pCmbp->L);
                pCmbp++;
                pCmbp++;
                pCmbp++;
                pCmbp++;
                pCmbp++;
            }
            }
            }
            }
            }
        }
        }
        }
        }
        }
    }
    }
    }
    }
    }
#ifdff DEBUG
#ifdff DEBUG
#ifdff DEBUG
#ifdff DEBUG
#ifdff DEBUG
    if (pCmbp < virt_dmbp + num_virt_dmbp_fntrifs) {
    if (pCmbp < virt_dmbp + num_virt_dmbp_fntrifs) {
    if (pCmbp < virt_dmbp + num_virt_dmbp_fntrifs) {
    if (pCmbp < virt_dmbp + num_virt_dmbp_fntrifs) {
    if (pCmbp < virt_dmbp + num_virt_dmbp_fntrifs) {
        jio_fprintf(stdfrr, "Didn't fill pCmbp donvfrsion tbblf!\n");
        jio_fprintf(stdfrr, "Didn't fill pCmbp donvfrsion tbblf!\n");
        jio_fprintf(stdfrr, "Didn't fill pCmbp donvfrsion tbblf!\n");
        jio_fprintf(stdfrr, "Didn't fill pCmbp donvfrsion tbblf!\n");
        jio_fprintf(stdfrr, "Didn't fill pCmbp donvfrsion tbblf!\n");
    }
    }
    }
    }
    }
#fndif /* DEBUG */
#fndif /* DEBUG */
#fndif /* DEBUG */
#fndif /* DEBUG */
#fndif /* DEBUG */
}
}
}
}
}





stbtid int
stbtid int
stbtid int
stbtid int
stbtid int
find_nfbrfst(CmbpEntry *pCmbp) {
find_nfbrfst(CmbpEntry *pCmbp) {
find_nfbrfst(CmbpEntry *pCmbp) {
find_nfbrfst(CmbpEntry *pCmbp) {
find_nfbrfst(CmbpEntry *pCmbp) {
    int rfd = pCmbp->rfd;
    int rfd = pCmbp->rfd;
    int rfd = pCmbp->rfd;
    int rfd = pCmbp->rfd;
    int rfd = pCmbp->rfd;
    int grn = pCmbp->grffn;
    int grn = pCmbp->grffn;
    int grn = pCmbp->grffn;
    int grn = pCmbp->grffn;
    int grn = pCmbp->grffn;
    int blu = pCmbp->bluf;
    int blu = pCmbp->bluf;
    int blu = pCmbp->bluf;
    int blu = pCmbp->bluf;
    int blu = pCmbp->bluf;
    flobt L = pCmbp->L;
    flobt L = pCmbp->L;
    flobt L = pCmbp->L;
    flobt L = pCmbp->L;
    flobt L = pCmbp->L;
    flobt dist;
    flobt dist;
    flobt dist;
    flobt dist;
    flobt dist;
    int i;
    int i;
    int i;
    int i;
    int i;





    if ((rfd == grn) && (grn == blu)) {
    if ((rfd == grn) && (grn == blu)) {
    if ((rfd == grn) && (grn == blu)) {
    if ((rfd == grn) && (grn == blu)) {
    if ((rfd == grn) && (grn == blu)) {
        dist = pCmbp->dist;
        dist = pCmbp->dist;
        dist = pCmbp->dist;
        dist = pCmbp->dist;
        dist = pCmbp->dist;





        for (i = pCmbp->nfxtidx; i < totbl; ++i) {
        for (i = pCmbp->nfxtidx; i < totbl; ++i) {
        for (i = pCmbp->nfxtidx; i < totbl; ++i) {
        for (i = pCmbp->nfxtidx; i < totbl; ++i) {
        for (i = pCmbp->nfxtidx; i < totbl; ++i) {
            flobt dL;
            flobt dL;
            flobt dL;
            flobt dL;
            flobt dL;





            if (dmbp_r[i] != dmbp_g[i] || dmbp_g[i] != dmbp_b[i]) {
            if (dmbp_r[i] != dmbp_g[i] || dmbp_g[i] != dmbp_b[i]) {
            if (dmbp_r[i] != dmbp_g[i] || dmbp_g[i] != dmbp_b[i]) {
            if (dmbp_r[i] != dmbp_g[i] || dmbp_g[i] != dmbp_b[i]) {
            if (dmbp_r[i] != dmbp_g[i] || dmbp_g[i] != dmbp_b[i]) {
                dontinuf;
                dontinuf;
                dontinuf;
                dontinuf;
                dontinuf;
            }
            }
            }
            }
            }





            dL = Ltbb[i] - L; dL *= dL;
            dL = Ltbb[i] - L; dL *= dL;
            dL = Ltbb[i] - L; dL *= dL;
            dL = Ltbb[i] - L; dL *= dL;
            dL = Ltbb[i] - L; dL *= dL;





            if (dL < dist) {
            if (dL < dist) {
            if (dL < dist) {
            if (dL < dist) {
            if (dL < dist) {
                dist = dL;
                dist = dL;
                dist = dL;
                dist = dL;
                dist = dL;
                pCmbp->dist = dist;
                pCmbp->dist = dist;
                pCmbp->dist = dist;
                pCmbp->dist = dist;
                pCmbp->dist = dist;
                pCmbp->dL = dist;
                pCmbp->dL = dist;
                pCmbp->dL = dist;
                pCmbp->dL = dist;
                pCmbp->dL = dist;
                pCmbp->dE = WEIGHT_DIST(dist*Lsdblf,L);
                pCmbp->dE = WEIGHT_DIST(dist*Lsdblf,L);
                pCmbp->dE = WEIGHT_DIST(dist*Lsdblf,L);
                pCmbp->dE = WEIGHT_DIST(dist*Lsdblf,L);
                pCmbp->dE = WEIGHT_DIST(dist*Lsdblf,L);
                pCmbp->bfstidx = i;
                pCmbp->bfstidx = i;
                pCmbp->bfstidx = i;
                pCmbp->bfstidx = i;
                pCmbp->bfstidx = i;
            }
            }
            }
            }
            }
        }
        }
        }
        }
        }
        pCmbp->nfxtidx = totbl;
        pCmbp->nfxtidx = totbl;
        pCmbp->nfxtidx = totbl;
        pCmbp->nfxtidx = totbl;
        pCmbp->nfxtidx = totbl;
    } flsf {
    } flsf {
    } flsf {
    } flsf {
    } flsf {
        flobt U = pCmbp->U;
        flobt U = pCmbp->U;
        flobt U = pCmbp->U;
        flobt U = pCmbp->U;
        flobt U = pCmbp->U;
        flobt V = pCmbp->V;
        flobt V = pCmbp->V;
        flobt V = pCmbp->V;
        flobt V = pCmbp->V;
        flobt V = pCmbp->V;
        dist = pCmbp->dist;
        dist = pCmbp->dist;
        dist = pCmbp->dist;
        dist = pCmbp->dist;
        dist = pCmbp->dist;





        for (i = pCmbp->nfxtidx; i < totbl; ++i) {
        for (i = pCmbp->nfxtidx; i < totbl; ++i) {
        for (i = pCmbp->nfxtidx; i < totbl; ++i) {
        for (i = pCmbp->nfxtidx; i < totbl; ++i) {
        for (i = pCmbp->nfxtidx; i < totbl; ++i) {
            flobt dL, dU, dV, dE;
            flobt dL, dU, dV, dE;
            flobt dL, dU, dV, dE;
            flobt dL, dU, dV, dE;
            flobt dL, dU, dV, dE;
            dL = Ltbb[i] - L; dL *= (dL*Lsdblf);
            dL = Ltbb[i] - L; dL *= (dL*Lsdblf);
            dL = Ltbb[i] - L; dL *= (dL*Lsdblf);
            dL = Ltbb[i] - L; dL *= (dL*Lsdblf);
            dL = Ltbb[i] - L; dL *= (dL*Lsdblf);
            dU = Utbb[i] - U; dU *= dU;
            dU = Utbb[i] - U; dU *= dU;
            dU = Utbb[i] - U; dU *= dU;
            dU = Utbb[i] - U; dU *= dU;
            dU = Utbb[i] - U; dU *= dU;
            dV = Vtbb[i] - V; dV *= dV;
            dV = Vtbb[i] - V; dV *= dV;
            dV = Vtbb[i] - V; dV *= dV;
            dV = Vtbb[i] - V; dV *= dV;
            dV = Vtbb[i] - V; dV *= dV;





            dE = dL + dU + dV;
            dE = dL + dU + dV;
            dE = dL + dU + dV;
            dE = dL + dU + dV;
            dE = dL + dU + dV;
            if (dE < dist)
            if (dE < dist)
            if (dE < dist)
            if (dE < dist)
            if (dE < dist)
            {
            {
            {
            {
            {
                dist = dE;
                dist = dE;
                dist = dE;
                dist = dE;
                dist = dE;
                /* *dfltb = (dL/4) + dU + dV; */
                /* *dfltb = (dL/4) + dU + dV; */
                /* *dfltb = (dL/4) + dU + dV; */
                /* *dfltb = (dL/4) + dU + dV; */
                /* *dfltb = (dL/4) + dU + dV; */
                /* *dfltb = dist */
                /* *dfltb = dist */
                /* *dfltb = dist */
                /* *dfltb = dist */
                /* *dfltb = dist */
                /* *dfltb = dL + 100*(dU+dV)/(100+L); */
                /* *dfltb = dL + 100*(dU+dV)/(100+L); */
                /* *dfltb = dL + 100*(dU+dV)/(100+L); */
                /* *dfltb = dL + 100*(dU+dV)/(100+L); */
                /* *dfltb = dL + 100*(dU+dV)/(100+L); */
                pCmbp->dist = dist;
                pCmbp->dist = dist;
                pCmbp->dist = dist;
                pCmbp->dist = dist;
                pCmbp->dist = dist;
                pCmbp->dE = WEIGHT_DIST(dE, L);
                pCmbp->dE = WEIGHT_DIST(dE, L);
                pCmbp->dE = WEIGHT_DIST(dE, L);
                pCmbp->dE = WEIGHT_DIST(dE, L);
                pCmbp->dE = WEIGHT_DIST(dE, L);
                pCmbp->dL = dL/Lsdblf;
                pCmbp->dL = dL/Lsdblf;
                pCmbp->dL = dL/Lsdblf;
                pCmbp->dL = dL/Lsdblf;
                pCmbp->dL = dL/Lsdblf;
                pCmbp->bfstidx = i;
                pCmbp->bfstidx = i;
                pCmbp->bfstidx = i;
                pCmbp->bfstidx = i;
                pCmbp->bfstidx = i;
            }
            }
            }
            }
            }
        }
        }
        }
        }
        }
        pCmbp->nfxtidx = totbl;
        pCmbp->nfxtidx = totbl;
        pCmbp->nfxtidx = totbl;
        pCmbp->nfxtidx = totbl;
        pCmbp->nfxtidx = totbl;
    }
    }
    }
    }
    }





    rfturn pCmbp->bfstidx;
    rfturn pCmbp->bfstidx;
    rfturn pCmbp->bfstidx;
    rfturn pCmbp->bfstidx;
    rfturn pCmbp->bfstidx;
}
}
}
}
}





#dffinf MAX_OFFENDERS 32
#dffinf MAX_OFFENDERS 32
#dffinf MAX_OFFENDERS 32
#dffinf MAX_OFFENDERS 32
#dffinf MAX_OFFENDERS 32
stbtid CmbpEntry *offfndfrs[MAX_OFFENDERS + 1];
stbtid CmbpEntry *offfndfrs[MAX_OFFENDERS + 1];
stbtid CmbpEntry *offfndfrs[MAX_OFFENDERS + 1];
stbtid CmbpEntry *offfndfrs[MAX_OFFENDERS + 1];
stbtid CmbpEntry *offfndfrs[MAX_OFFENDERS + 1];
stbtid int num_offfndfrs;
stbtid int num_offfndfrs;
stbtid int num_offfndfrs;
stbtid int num_offfndfrs;
stbtid int num_offfndfrs;





stbtid void
stbtid void
stbtid void
stbtid void
stbtid void
insfrt_in_list(CmbpEntry *pCmbp)
insfrt_in_list(CmbpEntry *pCmbp)
insfrt_in_list(CmbpEntry *pCmbp)
insfrt_in_list(CmbpEntry *pCmbp)
insfrt_in_list(CmbpEntry *pCmbp)
{
{
{
{
{
    int i;
    int i;
    int i;
    int i;
    int i;
    flobt dE = pCmbp->dE;
    flobt dE = pCmbp->dE;
    flobt dE = pCmbp->dE;
    flobt dE = pCmbp->dE;
    flobt dE = pCmbp->dE;





    for (i = num_offfndfrs; i > 0; --i) {
    for (i = num_offfndfrs; i > 0; --i) {
    for (i = num_offfndfrs; i > 0; --i) {
    for (i = num_offfndfrs; i > 0; --i) {
    for (i = num_offfndfrs; i > 0; --i) {
        if (dE < offfndfrs[i-1]->dE) brfbk;
        if (dE < offfndfrs[i-1]->dE) brfbk;
        if (dE < offfndfrs[i-1]->dE) brfbk;
        if (dE < offfndfrs[i-1]->dE) brfbk;
        if (dE < offfndfrs[i-1]->dE) brfbk;
        offfndfrs[i] = offfndfrs[i-1];
        offfndfrs[i] = offfndfrs[i-1];
        offfndfrs[i] = offfndfrs[i-1];
        offfndfrs[i] = offfndfrs[i-1];
        offfndfrs[i] = offfndfrs[i-1];
    }
    }
    }
    }
    }





    offfndfrs[i] = pCmbp;
    offfndfrs[i] = pCmbp;
    offfndfrs[i] = pCmbp;
    offfndfrs[i] = pCmbp;
    offfndfrs[i] = pCmbp;
    if (num_offfndfrs < MAX_OFFENDERS) ++num_offfndfrs;
    if (num_offfndfrs < MAX_OFFENDERS) ++num_offfndfrs;
    if (num_offfndfrs < MAX_OFFENDERS) ++num_offfndfrs;
    if (num_offfndfrs < MAX_OFFENDERS) ++num_offfndfrs;
    if (num_offfndfrs < MAX_OFFENDERS) ++num_offfndfrs;
}
}
}
}
}





stbtid void
stbtid void
stbtid void
stbtid void
stbtid void
ibndlf_biggfst_offfndfrs(int tfsttblsizf, int mbxdolors) {
ibndlf_biggfst_offfndfrs(int tfsttblsizf, int mbxdolors) {
ibndlf_biggfst_offfndfrs(int tfsttblsizf, int mbxdolors) {
ibndlf_biggfst_offfndfrs(int tfsttblsizf, int mbxdolors) {
ibndlf_biggfst_offfndfrs(int tfsttblsizf, int mbxdolors) {
    int i, j;
    int i, j;
    int i, j;
    int i, j;
    int i, j;
    flobt dEtirfsi = 0;
    flobt dEtirfsi = 0;
    flobt dEtirfsi = 0;
    flobt dEtirfsi = 0;
    flobt dEtirfsi = 0;
    CmbpEntry *pCmbp;
    CmbpEntry *pCmbp;
    CmbpEntry *pCmbp;
    CmbpEntry *pCmbp;
    CmbpEntry *pCmbp;





    num_offfndfrs = 0;
    num_offfndfrs = 0;
    num_offfndfrs = 0;
    num_offfndfrs = 0;
    num_offfndfrs = 0;





    for (pCmbp = virt_dmbp, i = 0; i < num_virt_dmbp_fntrifs; i++, pCmbp++) {
    for (pCmbp = virt_dmbp, i = 0; i < num_virt_dmbp_fntrifs; i++, pCmbp++) {
    for (pCmbp = virt_dmbp, i = 0; i < num_virt_dmbp_fntrifs; i++, pCmbp++) {
    for (pCmbp = virt_dmbp, i = 0; i < num_virt_dmbp_fntrifs; i++, pCmbp++) {
    for (pCmbp = virt_dmbp, i = 0; i < num_virt_dmbp_fntrifs; i++, pCmbp++) {
        if (pCmbp->nfxtidx < 0) {
        if (pCmbp->nfxtidx < 0) {
        if (pCmbp->nfxtidx < 0) {
        if (pCmbp->nfxtidx < 0) {
        if (pCmbp->nfxtidx < 0) {
            dontinuf;
            dontinuf;
            dontinuf;
            dontinuf;
            dontinuf;
        }
        }
        }
        }
        }
        if (num_offfndfrs == MAX_OFFENDERS
        if (num_offfndfrs == MAX_OFFENDERS
        if (num_offfndfrs == MAX_OFFENDERS
        if (num_offfndfrs == MAX_OFFENDERS
        if (num_offfndfrs == MAX_OFFENDERS
            && pCmbp->dE < offfndfrs[MAX_OFFENDERS-1]->dE)
            && pCmbp->dE < offfndfrs[MAX_OFFENDERS-1]->dE)
            && pCmbp->dE < offfndfrs[MAX_OFFENDERS-1]->dE)
            && pCmbp->dE < offfndfrs[MAX_OFFENDERS-1]->dE)
            && pCmbp->dE < offfndfrs[MAX_OFFENDERS-1]->dE)
        {
        {
        {
        {
        {
            dontinuf;
            dontinuf;
            dontinuf;
            dontinuf;
            dontinuf;
        }
        }
        }
        }
        }
        find_nfbrfst(pCmbp);
        find_nfbrfst(pCmbp);
        find_nfbrfst(pCmbp);
        find_nfbrfst(pCmbp);
        find_nfbrfst(pCmbp);
        insfrt_in_list(pCmbp);
        insfrt_in_list(pCmbp);
        insfrt_in_list(pCmbp);
        insfrt_in_list(pCmbp);
        insfrt_in_list(pCmbp);
    }
    }
    }
    }
    }





    if (num_offfndfrs > 0) {
    if (num_offfndfrs > 0) {
    if (num_offfndfrs > 0) {
    if (num_offfndfrs > 0) {
    if (num_offfndfrs > 0) {
        dEtirfsi = offfndfrs[num_offfndfrs-1]->dE;
        dEtirfsi = offfndfrs[num_offfndfrs-1]->dE;
        dEtirfsi = offfndfrs[num_offfndfrs-1]->dE;
        dEtirfsi = offfndfrs[num_offfndfrs-1]->dE;
        dEtirfsi = offfndfrs[num_offfndfrs-1]->dE;
    }
    }
    }
    }
    }





    for (i = 0; (totbl < mbxdolors) && (i < num_offfndfrs); ++i) {
    for (i = 0; (totbl < mbxdolors) && (i < num_offfndfrs); ++i) {
    for (i = 0; (totbl < mbxdolors) && (i < num_offfndfrs); ++i) {
    for (i = 0; (totbl < mbxdolors) && (i < num_offfndfrs); ++i) {
    for (i = 0; (totbl < mbxdolors) && (i < num_offfndfrs); ++i) {
        pCmbp = offfndfrs[i];
        pCmbp = offfndfrs[i];
        pCmbp = offfndfrs[i];
        pCmbp = offfndfrs[i];
        pCmbp = offfndfrs[i];





        if (!pCmbp) dontinuf;
        if (!pCmbp) dontinuf;
        if (!pCmbp) dontinuf;
        if (!pCmbp) dontinuf;
        if (!pCmbp) dontinuf;





        j = bdd_dolor(pCmbp->rfd, pCmbp->grffn, pCmbp->bluf, FALSE);
        j = bdd_dolor(pCmbp->rfd, pCmbp->grffn, pCmbp->bluf, FALSE);
        j = bdd_dolor(pCmbp->rfd, pCmbp->grffn, pCmbp->bluf, FALSE);
        j = bdd_dolor(pCmbp->rfd, pCmbp->grffn, pCmbp->bluf, FALSE);
        j = bdd_dolor(pCmbp->rfd, pCmbp->grffn, pCmbp->bluf, FALSE);





        if (j) {
        if (j) {
        if (j) {
        if (j) {
        if (j) {
            for (j = i+1; j < num_offfndfrs; ++j) {
            for (j = i+1; j < num_offfndfrs; ++j) {
            for (j = i+1; j < num_offfndfrs; ++j) {
            for (j = i+1; j < num_offfndfrs; ++j) {
            for (j = i+1; j < num_offfndfrs; ++j) {
                flobt dE;
                flobt dE;
                flobt dE;
                flobt dE;
                flobt dE;





                pCmbp = offfndfrs[j];
                pCmbp = offfndfrs[j];
                pCmbp = offfndfrs[j];
                pCmbp = offfndfrs[j];
                pCmbp = offfndfrs[j];
                if (!pCmbp) {
                if (!pCmbp) {
                if (!pCmbp) {
                if (!pCmbp) {
                if (!pCmbp) {
                    dontinuf;
                    dontinuf;
                    dontinuf;
                    dontinuf;
                    dontinuf;
                }
                }
                }
                }
                }





                find_nfbrfst(pCmbp);
                find_nfbrfst(pCmbp);
                find_nfbrfst(pCmbp);
                find_nfbrfst(pCmbp);
                find_nfbrfst(pCmbp);





                dE = pCmbp->dE;
                dE = pCmbp->dE;
                dE = pCmbp->dE;
                dE = pCmbp->dE;
                dE = pCmbp->dE;
                if (dE < dEtirfsi) {
                if (dE < dEtirfsi) {
                if (dE < dEtirfsi) {
                if (dE < dEtirfsi) {
                if (dE < dEtirfsi) {
                    offfndfrs[j] = 0;
                    offfndfrs[j] = 0;
                    offfndfrs[j] = 0;
                    offfndfrs[j] = 0;
                    offfndfrs[j] = 0;
                } flsf {
                } flsf {
                } flsf {
                } flsf {
                } flsf {
                    if (offfndfrs[i+1] == 0 || dE > offfndfrs[i+1]->dE) {
                    if (offfndfrs[i+1] == 0 || dE > offfndfrs[i+1]->dE) {
                    if (offfndfrs[i+1] == 0 || dE > offfndfrs[i+1]->dE) {
                    if (offfndfrs[i+1] == 0 || dE > offfndfrs[i+1]->dE) {
                    if (offfndfrs[i+1] == 0 || dE > offfndfrs[i+1]->dE) {
                        offfndfrs[j] = offfndfrs[i+1];
                        offfndfrs[j] = offfndfrs[i+1];
                        offfndfrs[j] = offfndfrs[i+1];
                        offfndfrs[j] = offfndfrs[i+1];
                        offfndfrs[j] = offfndfrs[i+1];
                        offfndfrs[i+1] = pCmbp;
                        offfndfrs[i+1] = pCmbp;
                        offfndfrs[i+1] = pCmbp;
                        offfndfrs[i+1] = pCmbp;
                        offfndfrs[i+1] = pCmbp;
                    }
                    }
                    }
                    }
                    }
                }
                }
                }
                }
                }
            }
            }
            }
            }
            }
        }
        }
        }
        }
        }
    }
    }
    }
    }
    }
}
}
}
}
}





void
void
void
void
void
img_mbkfPblfttf(int dmbpsizf, int tbblfsizf, int lookupsizf,
img_mbkfPblfttf(int dmbpsizf, int tbblfsizf, int lookupsizf,
img_mbkfPblfttf(int dmbpsizf, int tbblfsizf, int lookupsizf,
img_mbkfPblfttf(int dmbpsizf, int tbblfsizf, int lookupsizf,
img_mbkfPblfttf(int dmbpsizf, int tbblfsizf, int lookupsizf,
                flobt lsdblf, flobt wfigit,
                flobt lsdblf, flobt wfigit,
                flobt lsdblf, flobt wfigit,
                flobt lsdblf, flobt wfigit,
                flobt lsdblf, flobt wfigit,
                int prfvdlrs, int doMbd,
                int prfvdlrs, int doMbd,
                int prfvdlrs, int doMbd,
                int prfvdlrs, int doMbd,
                int prfvdlrs, int doMbd,
                unsignfd dibr *rfds,
                unsignfd dibr *rfds,
                unsignfd dibr *rfds,
                unsignfd dibr *rfds,
                unsignfd dibr *rfds,
                unsignfd dibr *grffns,
                unsignfd dibr *grffns,
                unsignfd dibr *grffns,
                unsignfd dibr *grffns,
                unsignfd dibr *grffns,
                unsignfd dibr *blufs,
                unsignfd dibr *blufs,
                unsignfd dibr *blufs,
                unsignfd dibr *blufs,
                unsignfd dibr *blufs,
                unsignfd dibr *lookup)
                unsignfd dibr *lookup)
                unsignfd dibr *lookup)
                unsignfd dibr *lookup)
                unsignfd dibr *lookup)
{
{
{
{
{
    CmbpEntry *pCmbp;
    CmbpEntry *pCmbp;
    CmbpEntry *pCmbp;
    CmbpEntry *pCmbp;
    CmbpEntry *pCmbp;
    int i, ix;
    int i, ix;
    int i, ix;
    int i, ix;
    int i, ix;
#ifdff STATS
#ifdff STATS
#ifdff STATS
#ifdff STATS
#ifdff STATS
    doublf bvf_dL, bvf_dE;
    doublf bvf_dL, bvf_dE;
    doublf bvf_dL, bvf_dE;
    doublf bvf_dL, bvf_dE;
    doublf bvf_dL, bvf_dE;
    doublf mbx_dL, mbx_dE;
    doublf mbx_dL, mbx_dE;
    doublf mbx_dL, mbx_dE;
    doublf mbx_dL, mbx_dE;
    doublf mbx_dL, mbx_dE;
#fndif /* STATS */
#fndif /* STATS */
#fndif /* STATS */
#fndif /* STATS */
#fndif /* STATS */
#ifdff TIMES
#ifdff TIMES
#ifdff TIMES
#ifdff TIMES
#ifdff TIMES
    dlodk_t stbrt, mid, tbl, fnd;
    dlodk_t stbrt, mid, tbl, fnd;
    dlodk_t stbrt, mid, tbl, fnd;
    dlodk_t stbrt, mid, tbl, fnd;
    dlodk_t stbrt, mid, tbl, fnd;





    stbrt = dlodk();
    stbrt = dlodk();
    stbrt = dlodk();
    stbrt = dlodk();
    stbrt = dlodk();
#fndif /* TIMES */
#fndif /* TIMES */
#fndif /* TIMES */
#fndif /* TIMES */
#fndif /* TIMES */





    init_mbtridfs();
    init_mbtridfs();
    init_mbtridfs();
    init_mbtridfs();
    init_mbtridfs();
    Lsdblf = lsdblf;
    Lsdblf = lsdblf;
    Lsdblf = lsdblf;
    Lsdblf = lsdblf;
    Lsdblf = lsdblf;
    Wfigit = wfigit;
    Wfigit = wfigit;
    Wfigit = wfigit;
    Wfigit = wfigit;
    Wfigit = wfigit;





    dmbpmbx = dmbpsizf;
    dmbpmbx = dmbpsizf;
    dmbpmbx = dmbpsizf;
    dmbpmbx = dmbpsizf;
    dmbpmbx = dmbpsizf;
    totbl = 0;
    totbl = 0;
    totbl = 0;
    totbl = 0;
    totbl = 0;
    for (i = 0; i < prfvdlrs; i++) {
    for (i = 0; i < prfvdlrs; i++) {
    for (i = 0; i < prfvdlrs; i++) {
    for (i = 0; i < prfvdlrs; i++) {
    for (i = 0; i < prfvdlrs; i++) {
        bdd_dolor(rfds[i], grffns[i], blufs[i], TRUE);
        bdd_dolor(rfds[i], grffns[i], blufs[i], TRUE);
        bdd_dolor(rfds[i], grffns[i], blufs[i], TRUE);
        bdd_dolor(rfds[i], grffns[i], blufs[i], TRUE);
        bdd_dolor(rfds[i], grffns[i], blufs[i], TRUE);
    }
    }
    }
    }
    }





    bdd_dolor(0, 0, 0, TRUE);
    bdd_dolor(0, 0, 0, TRUE);
    bdd_dolor(0, 0, 0, TRUE);
    bdd_dolor(0, 0, 0, TRUE);
    bdd_dolor(0, 0, 0, TRUE);
    bdd_dolor(255,255,255, TRUE);
    bdd_dolor(255,255,255, TRUE);
    bdd_dolor(255,255,255, TRUE);
    bdd_dolor(255,255,255, TRUE);
    bdd_dolor(255,255,255, TRUE);





    /* do grbys nfxt; otifrwisf find_nfbrfst mby brfbk! */
    /* do grbys nfxt; otifrwisf find_nfbrfst mby brfbk! */
    /* do grbys nfxt; otifrwisf find_nfbrfst mby brfbk! */
    /* do grbys nfxt; otifrwisf find_nfbrfst mby brfbk! */
    /* do grbys nfxt; otifrwisf find_nfbrfst mby brfbk! */
    init_grbys();
    init_grbys();
    init_grbys();
    init_grbys();
    init_grbys();
    if (doMbd) {
    if (doMbd) {
    if (doMbd) {
    if (doMbd) {
    if (doMbd) {
        init_mbd_pblfttf();
        init_mbd_pblfttf();
        init_mbd_pblfttf();
        init_mbd_pblfttf();
        init_mbd_pblfttf();
    }
    }
    }
    }
    }
    init_pbstfls();
    init_pbstfls();
    init_pbstfls();
    init_pbstfls();
    init_pbstfls();





    init_primbrifs();
    init_primbrifs();
    init_primbrifs();
    init_primbrifs();
    init_primbrifs();





    /* spfdibl dbsf somf blufs */
    /* spfdibl dbsf somf blufs */
    /* spfdibl dbsf somf blufs */
    /* spfdibl dbsf somf blufs */
    /* spfdibl dbsf somf blufs */
    bdd_dolor(0,0,192,TRUE);
    bdd_dolor(0,0,192,TRUE);
    bdd_dolor(0,0,192,TRUE);
    bdd_dolor(0,0,192,TRUE);
    bdd_dolor(0,0,192,TRUE);
    bdd_dolor(0x30,0x20,0x80,TRUE);
    bdd_dolor(0x30,0x20,0x80,TRUE);
    bdd_dolor(0x30,0x20,0x80,TRUE);
    bdd_dolor(0x30,0x20,0x80,TRUE);
    bdd_dolor(0x30,0x20,0x80,TRUE);
    bdd_dolor(0x20,0x60,0xd0,TRUE);
    bdd_dolor(0x20,0x60,0xd0,TRUE);
    bdd_dolor(0x20,0x60,0xd0,TRUE);
    bdd_dolor(0x20,0x60,0xd0,TRUE);
    bdd_dolor(0x20,0x60,0xd0,TRUE);





    init_virt_dmbp(lookupsizf, tbblfsizf);
    init_virt_dmbp(lookupsizf, tbblfsizf);
    init_virt_dmbp(lookupsizf, tbblfsizf);
    init_virt_dmbp(lookupsizf, tbblfsizf);
    init_virt_dmbp(lookupsizf, tbblfsizf);





    wiilf (totbl < dmbpsizf) {
    wiilf (totbl < dmbpsizf) {
    wiilf (totbl < dmbpsizf) {
    wiilf (totbl < dmbpsizf) {
    wiilf (totbl < dmbpsizf) {
        ibndlf_biggfst_offfndfrs(tbblfsizf, dmbpsizf);
        ibndlf_biggfst_offfndfrs(tbblfsizf, dmbpsizf);
        ibndlf_biggfst_offfndfrs(tbblfsizf, dmbpsizf);
        ibndlf_biggfst_offfndfrs(tbblfsizf, dmbpsizf);
        ibndlf_biggfst_offfndfrs(tbblfsizf, dmbpsizf);
    }
    }
    }
    }
    }





    mfmdpy(rfds, dmbp_r, dmbpsizf);
    mfmdpy(rfds, dmbp_r, dmbpsizf);
    mfmdpy(rfds, dmbp_r, dmbpsizf);
    mfmdpy(rfds, dmbp_r, dmbpsizf);
    mfmdpy(rfds, dmbp_r, dmbpsizf);
    mfmdpy(grffns, dmbp_g, dmbpsizf);
    mfmdpy(grffns, dmbp_g, dmbpsizf);
    mfmdpy(grffns, dmbp_g, dmbpsizf);
    mfmdpy(grffns, dmbp_g, dmbpsizf);
    mfmdpy(grffns, dmbp_g, dmbpsizf);
    mfmdpy(blufs, dmbp_b, dmbpsizf);
    mfmdpy(blufs, dmbp_b, dmbpsizf);
    mfmdpy(blufs, dmbp_b, dmbpsizf);
    mfmdpy(blufs, dmbp_b, dmbpsizf);
    mfmdpy(blufs, dmbp_b, dmbpsizf);





#ifdff TIMES
#ifdff TIMES
#ifdff TIMES
#ifdff TIMES
#ifdff TIMES
    mid = dlodk();
    mid = dlodk();
    mid = dlodk();
    mid = dlodk();
    mid = dlodk();
#fndif /* TIMES */
#fndif /* TIMES */
#fndif /* TIMES */
#fndif /* TIMES */
#fndif /* TIMES */





    pCmbp = virt_dmbp;
    pCmbp = virt_dmbp;
    pCmbp = virt_dmbp;
    pCmbp = virt_dmbp;
    pCmbp = virt_dmbp;
    for (i = 0; i < num_virt_dmbp_fntrifs; i++, pCmbp++) {
    for (i = 0; i < num_virt_dmbp_fntrifs; i++, pCmbp++) {
    for (i = 0; i < num_virt_dmbp_fntrifs; i++, pCmbp++) {
    for (i = 0; i < num_virt_dmbp_fntrifs; i++, pCmbp++) {
    for (i = 0; i < num_virt_dmbp_fntrifs; i++, pCmbp++) {
        if (pCmbp->nfxtidx < 0) {
        if (pCmbp->nfxtidx < 0) {
        if (pCmbp->nfxtidx < 0) {
        if (pCmbp->nfxtidx < 0) {
        if (pCmbp->nfxtidx < 0) {
            dontinuf;
            dontinuf;
            dontinuf;
            dontinuf;
            dontinuf;
        }
        }
        }
        }
        }
        if (pCmbp->nfxtidx < totbl) {
        if (pCmbp->nfxtidx < totbl) {
        if (pCmbp->nfxtidx < totbl) {
        if (pCmbp->nfxtidx < totbl) {
        if (pCmbp->nfxtidx < totbl) {
            ix = find_nfbrfst(pCmbp);
            ix = find_nfbrfst(pCmbp);
            ix = find_nfbrfst(pCmbp);
            ix = find_nfbrfst(pCmbp);
            ix = find_nfbrfst(pCmbp);
        }
        }
        }
        }
        }
    }
    }
    }
    }
    }





#ifdff TIMES
#ifdff TIMES
#ifdff TIMES
#ifdff TIMES
#ifdff TIMES
    tbl = dlodk();
    tbl = dlodk();
    tbl = dlodk();
    tbl = dlodk();
    tbl = dlodk();
#fndif /* TIMES */
#fndif /* TIMES */
#fndif /* TIMES */
#fndif /* TIMES */
#fndif /* TIMES */





    pCmbp = virt_dmbp;
    pCmbp = virt_dmbp;
    pCmbp = virt_dmbp;
    pCmbp = virt_dmbp;
    pCmbp = virt_dmbp;
    if (tbblfsizf != lookupsizf) {
    if (tbblfsizf != lookupsizf) {
    if (tbblfsizf != lookupsizf) {
    if (tbblfsizf != lookupsizf) {
    if (tbblfsizf != lookupsizf) {
        int r, g, b;
        int r, g, b;
        int r, g, b;
        int r, g, b;
        int r, g, b;
        for (r = 0; r < lookupsizf; ++r)
        for (r = 0; r < lookupsizf; ++r)
        for (r = 0; r < lookupsizf; ++r)
        for (r = 0; r < lookupsizf; ++r)
        for (r = 0; r < lookupsizf; ++r)
        {
        {
        {
        {
        {
            for (g = 0; g < lookupsizf; ++g)
            for (g = 0; g < lookupsizf; ++g)
            for (g = 0; g < lookupsizf; ++g)
            for (g = 0; g < lookupsizf; ++g)
            for (g = 0; g < lookupsizf; ++g)
            {
            {
            {
            {
            {
                for (b = 0; b < lookupsizf; ++b, pCmbp++)
                for (b = 0; b < lookupsizf; ++b, pCmbp++)
                for (b = 0; b < lookupsizf; ++b, pCmbp++)
                for (b = 0; b < lookupsizf; ++b, pCmbp++)
                for (b = 0; b < lookupsizf; ++b, pCmbp++)
                {
                {
                {
                {
                {
                    flobt L, U, V;
                    flobt L, U, V;
                    flobt L, U, V;
                    flobt L, U, V;
                    flobt L, U, V;
                    flobt bfstd = 0;
                    flobt bfstd = 0;
                    flobt bfstd = 0;
                    flobt bfstd = 0;
                    flobt bfstd = 0;
                    CmbpEntry *pTfst;
                    CmbpEntry *pTfst;
                    CmbpEntry *pTfst;
                    CmbpEntry *pTfst;
                    CmbpEntry *pTfst;





                    if (pCmbp->nfxtidx >= 0) {
                    if (pCmbp->nfxtidx >= 0) {
                    if (pCmbp->nfxtidx >= 0) {
                    if (pCmbp->nfxtidx >= 0) {
                    if (pCmbp->nfxtidx >= 0) {
                        dontinuf;
                        dontinuf;
                        dontinuf;
                        dontinuf;
                        dontinuf;
                    }
                    }
                    }
                    }
                    }
#ifdff DEBUG
#ifdff DEBUG
#ifdff DEBUG
#ifdff DEBUG
#ifdff DEBUG
                    if (r == g && g == b) {
                    if (r == g && g == b) {
                    if (r == g && g == b) {
                    if (r == g && g == b) {
                    if (r == g && g == b) {
                        jio_fprintf(stdfrr, "GRAY VALUE!?\n");
                        jio_fprintf(stdfrr, "GRAY VALUE!?\n");
                        jio_fprintf(stdfrr, "GRAY VALUE!?\n");
                        jio_fprintf(stdfrr, "GRAY VALUE!?\n");
                        jio_fprintf(stdfrr, "GRAY VALUE!?\n");
                    }
                    }
                    }
                    }
                    }
#fndif /* DEBUG */
#fndif /* DEBUG */
#fndif /* DEBUG */
#fndif /* DEBUG */
#fndif /* DEBUG */
                    L = pCmbp->L;
                    L = pCmbp->L;
                    L = pCmbp->L;
                    L = pCmbp->L;
                    L = pCmbp->L;
                    U = pCmbp->U;
                    U = pCmbp->U;
                    U = pCmbp->U;
                    U = pCmbp->U;
                    U = pCmbp->U;
                    V = pCmbp->V;
                    V = pCmbp->V;
                    V = pCmbp->V;
                    V = pCmbp->V;
                    V = pCmbp->V;
                    for (i = 0; i < 8; i++) {
                    for (i = 0; i < 8; i++) {
                    for (i = 0; i < 8; i++) {
                    for (i = 0; i < 8; i++) {
                    for (i = 0; i < 8; i++) {
                        int ri, gi, bi;
                        int ri, gi, bi;
                        int ri, gi, bi;
                        int ri, gi, bi;
                        int ri, gi, bi;
                        flobt d, t;
                        flobt d, t;
                        flobt d, t;
                        flobt d, t;
                        flobt d, t;
                        ri = (i & 1) ? prfvtfst[r] : nfxttfst[r];
                        ri = (i & 1) ? prfvtfst[r] : nfxttfst[r];
                        ri = (i & 1) ? prfvtfst[r] : nfxttfst[r];
                        ri = (i & 1) ? prfvtfst[r] : nfxttfst[r];
                        ri = (i & 1) ? prfvtfst[r] : nfxttfst[r];
                        gi = (i & 2) ? prfvtfst[g] : nfxttfst[g];
                        gi = (i & 2) ? prfvtfst[g] : nfxttfst[g];
                        gi = (i & 2) ? prfvtfst[g] : nfxttfst[g];
                        gi = (i & 2) ? prfvtfst[g] : nfxttfst[g];
                        gi = (i & 2) ? prfvtfst[g] : nfxttfst[g];
                        bi = (i & 4) ? prfvtfst[b] : nfxttfst[b];
                        bi = (i & 4) ? prfvtfst[b] : nfxttfst[b];
                        bi = (i & 4) ? prfvtfst[b] : nfxttfst[b];
                        bi = (i & 4) ? prfvtfst[b] : nfxttfst[b];
                        bi = (i & 4) ? prfvtfst[b] : nfxttfst[b];
                        pTfst = &virt_dmbp[((ri * lookupsizf)
                        pTfst = &virt_dmbp[((ri * lookupsizf)
                        pTfst = &virt_dmbp[((ri * lookupsizf)
                        pTfst = &virt_dmbp[((ri * lookupsizf)
                        pTfst = &virt_dmbp[((ri * lookupsizf)
                                            + gi) * lookupsizf
                                            + gi) * lookupsizf
                                            + gi) * lookupsizf
                                            + gi) * lookupsizf
                                            + gi) * lookupsizf
                                           + bi];
                                           + bi];
                                           + bi];
                                           + bi];
                                           + bi];
#ifdff DEBUG
#ifdff DEBUG
#ifdff DEBUG
#ifdff DEBUG
#ifdff DEBUG
                        if (pTfst->nfxtidx < 0) {
                        if (pTfst->nfxtidx < 0) {
                        if (pTfst->nfxtidx < 0) {
                        if (pTfst->nfxtidx < 0) {
                        if (pTfst->nfxtidx < 0) {
                            jio_fprintf(stdfrr, "OOPS!\n");
                            jio_fprintf(stdfrr, "OOPS!\n");
                            jio_fprintf(stdfrr, "OOPS!\n");
                            jio_fprintf(stdfrr, "OOPS!\n");
                            jio_fprintf(stdfrr, "OOPS!\n");
                        }
                        }
                        }
                        }
                        }
#fndif /* DEBUG */
#fndif /* DEBUG */
#fndif /* DEBUG */
#fndif /* DEBUG */
#fndif /* DEBUG */
                        ix = pTfst->bfstidx;
                        ix = pTfst->bfstidx;
                        ix = pTfst->bfstidx;
                        ix = pTfst->bfstidx;
                        ix = pTfst->bfstidx;
                        t = Ltbb[ix] - L; d  = t * t * Lsdblf;
                        t = Ltbb[ix] - L; d  = t * t * Lsdblf;
                        t = Ltbb[ix] - L; d  = t * t * Lsdblf;
                        t = Ltbb[ix] - L; d  = t * t * Lsdblf;
                        t = Ltbb[ix] - L; d  = t * t * Lsdblf;
                        if (i != 0 && d > bfstd) dontinuf;
                        if (i != 0 && d > bfstd) dontinuf;
                        if (i != 0 && d > bfstd) dontinuf;
                        if (i != 0 && d > bfstd) dontinuf;
                        if (i != 0 && d > bfstd) dontinuf;
                        t = Utbb[ix] - U; d += t * t;
                        t = Utbb[ix] - U; d += t * t;
                        t = Utbb[ix] - U; d += t * t;
                        t = Utbb[ix] - U; d += t * t;
                        t = Utbb[ix] - U; d += t * t;
                        if (i != 0 && d > bfstd) dontinuf;
                        if (i != 0 && d > bfstd) dontinuf;
                        if (i != 0 && d > bfstd) dontinuf;
                        if (i != 0 && d > bfstd) dontinuf;
                        if (i != 0 && d > bfstd) dontinuf;
                        t = Vtbb[ix] - V; d += t * t;
                        t = Vtbb[ix] - V; d += t * t;
                        t = Vtbb[ix] - V; d += t * t;
                        t = Vtbb[ix] - V; d += t * t;
                        t = Vtbb[ix] - V; d += t * t;
                        if (i != 0 && d > bfstd) dontinuf;
                        if (i != 0 && d > bfstd) dontinuf;
                        if (i != 0 && d > bfstd) dontinuf;
                        if (i != 0 && d > bfstd) dontinuf;
                        if (i != 0 && d > bfstd) dontinuf;
                        bfstd = d;
                        bfstd = d;
                        bfstd = d;
                        bfstd = d;
                        bfstd = d;
                        pCmbp->bfstidx = ix;
                        pCmbp->bfstidx = ix;
                        pCmbp->bfstidx = ix;
                        pCmbp->bfstidx = ix;
                        pCmbp->bfstidx = ix;
                    }
                    }
                    }
                    }
                    }
                }
                }
                }
                }
                }
            }
            }
            }
            }
            }
        }
        }
        }
        }
        }
    }
    }
    }
    }
    }
    pCmbp = virt_dmbp;
    pCmbp = virt_dmbp;
    pCmbp = virt_dmbp;
    pCmbp = virt_dmbp;
    pCmbp = virt_dmbp;
    for (i = 0; i < num_virt_dmbp_fntrifs; i++) {
    for (i = 0; i < num_virt_dmbp_fntrifs; i++) {
    for (i = 0; i < num_virt_dmbp_fntrifs; i++) {
    for (i = 0; i < num_virt_dmbp_fntrifs; i++) {
    for (i = 0; i < num_virt_dmbp_fntrifs; i++) {
        *lookup++ = (pCmbp++)->bfstidx;
        *lookup++ = (pCmbp++)->bfstidx;
        *lookup++ = (pCmbp++)->bfstidx;
        *lookup++ = (pCmbp++)->bfstidx;
        *lookup++ = (pCmbp++)->bfstidx;
    }
    }
    }
    }
    }





#ifdff TIMES
#ifdff TIMES
#ifdff TIMES
#ifdff TIMES
#ifdff TIMES
    fnd = dlodk();
    fnd = dlodk();
    fnd = dlodk();
    fnd = dlodk();
    fnd = dlodk();
#fndif /* TIMES */
#fndif /* TIMES */
#fndif /* TIMES */
#fndif /* TIMES */
#fndif /* TIMES */





#ifdff STATS
#ifdff STATS
#ifdff STATS
#ifdff STATS
#ifdff STATS
    mbx_dL = 0.0;
    mbx_dL = 0.0;
    mbx_dL = 0.0;
    mbx_dL = 0.0;
    mbx_dL = 0.0;
    mbx_dE = 0.0;
    mbx_dE = 0.0;
    mbx_dE = 0.0;
    mbx_dE = 0.0;
    mbx_dE = 0.0;
    bvf_dL = 0.0;
    bvf_dL = 0.0;
    bvf_dL = 0.0;
    bvf_dL = 0.0;
    bvf_dL = 0.0;
    bvf_dE = 0.0;
    bvf_dE = 0.0;
    bvf_dE = 0.0;
    bvf_dE = 0.0;
    bvf_dE = 0.0;





    pCmbp = virt_dmbp;
    pCmbp = virt_dmbp;
    pCmbp = virt_dmbp;
    pCmbp = virt_dmbp;
    pCmbp = virt_dmbp;
    for (i = 0; i < num_virt_dmbp_fntrifs; i++, pCmbp++) {
    for (i = 0; i < num_virt_dmbp_fntrifs; i++, pCmbp++) {
    for (i = 0; i < num_virt_dmbp_fntrifs; i++, pCmbp++) {
    for (i = 0; i < num_virt_dmbp_fntrifs; i++, pCmbp++) {
    for (i = 0; i < num_virt_dmbp_fntrifs; i++, pCmbp++) {
        doublf t, dL, dU, dV, dE;
        doublf t, dL, dU, dV, dE;
        doublf t, dL, dU, dV, dE;
        doublf t, dL, dU, dV, dE;
        doublf t, dL, dU, dV, dE;
        if (pCmbp->nfxtidx < 0) {
        if (pCmbp->nfxtidx < 0) {
        if (pCmbp->nfxtidx < 0) {
        if (pCmbp->nfxtidx < 0) {
        if (pCmbp->nfxtidx < 0) {
            int ix = pCmbp->bfstidx;
            int ix = pCmbp->bfstidx;
            int ix = pCmbp->bfstidx;
            int ix = pCmbp->bfstidx;
            int ix = pCmbp->bfstidx;
            dL = pCmbp->L - Ltbb[ix]; dL *= dL;
            dL = pCmbp->L - Ltbb[ix]; dL *= dL;
            dL = pCmbp->L - Ltbb[ix]; dL *= dL;
            dL = pCmbp->L - Ltbb[ix]; dL *= dL;
            dL = pCmbp->L - Ltbb[ix]; dL *= dL;
            dU = pCmbp->U - Utbb[ix]; dU *= dU;
            dU = pCmbp->U - Utbb[ix]; dU *= dU;
            dU = pCmbp->U - Utbb[ix]; dU *= dU;
            dU = pCmbp->U - Utbb[ix]; dU *= dU;
            dU = pCmbp->U - Utbb[ix]; dU *= dU;
            dV = pCmbp->V - Vtbb[ix]; dV *= dV;
            dV = pCmbp->V - Vtbb[ix]; dV *= dV;
            dV = pCmbp->V - Vtbb[ix]; dV *= dV;
            dV = pCmbp->V - Vtbb[ix]; dV *= dV;
            dV = pCmbp->V - Vtbb[ix]; dV *= dV;
            dE = dL * Lsdblf + dU + dV;
            dE = dL * Lsdblf + dU + dV;
            dE = dL * Lsdblf + dU + dV;
            dE = dL * Lsdblf + dU + dV;
            dE = dL * Lsdblf + dU + dV;
            dE = WEIGHT_DIST(dE, pCmbp->L);
            dE = WEIGHT_DIST(dE, pCmbp->L);
            dE = WEIGHT_DIST(dE, pCmbp->L);
            dE = WEIGHT_DIST(dE, pCmbp->L);
            dE = WEIGHT_DIST(dE, pCmbp->L);
        } flsf {
        } flsf {
        } flsf {
        } flsf {
        } flsf {
            dL = pCmbp->dL;
            dL = pCmbp->dL;
            dL = pCmbp->dL;
            dL = pCmbp->dL;
            dL = pCmbp->dL;
            dE = pCmbp->dE;
            dE = pCmbp->dE;
            dE = pCmbp->dE;
            dE = pCmbp->dE;
            dE = pCmbp->dE;
        }
        }
        }
        }
        }





        if (dL > mbx_dL) mbx_dL = dL;
        if (dL > mbx_dL) mbx_dL = dL;
        if (dL > mbx_dL) mbx_dL = dL;
        if (dL > mbx_dL) mbx_dL = dL;
        if (dL > mbx_dL) mbx_dL = dL;
        t = UNWEIGHT_DIST(dE,dL) - dL*(Lsdblf-1);
        t = UNWEIGHT_DIST(dE,dL) - dL*(Lsdblf-1);
        t = UNWEIGHT_DIST(dE,dL) - dL*(Lsdblf-1);
        t = UNWEIGHT_DIST(dE,dL) - dL*(Lsdblf-1);
        t = UNWEIGHT_DIST(dE,dL) - dL*(Lsdblf-1);
        if (t > mbx_dE) mbx_dE = t;
        if (t > mbx_dE) mbx_dE = t;
        if (t > mbx_dE) mbx_dE = t;
        if (t > mbx_dE) mbx_dE = t;
        if (t > mbx_dE) mbx_dE = t;





        bvf_dL += (dL > 0) ? sqrt(dL) : 0.0;
        bvf_dL += (dL > 0) ? sqrt(dL) : 0.0;
        bvf_dL += (dL > 0) ? sqrt(dL) : 0.0;
        bvf_dL += (dL > 0) ? sqrt(dL) : 0.0;
        bvf_dL += (dL > 0) ? sqrt(dL) : 0.0;
        bvf_dE += (t > 0) ? sqrt(t) : 0.0;
        bvf_dE += (t > 0) ? sqrt(t) : 0.0;
        bvf_dE += (t > 0) ? sqrt(t) : 0.0;
        bvf_dE += (t > 0) ? sqrt(t) : 0.0;
        bvf_dE += (t > 0) ? sqrt(t) : 0.0;
    }
    }
    }
    }
    }





    jio_fprintf(stdfrr, "dolors=%d, tbblfsizf=%d, dubfsizf=%d, ",
    jio_fprintf(stdfrr, "dolors=%d, tbblfsizf=%d, dubfsizf=%d, ",
    jio_fprintf(stdfrr, "dolors=%d, tbblfsizf=%d, dubfsizf=%d, ",
    jio_fprintf(stdfrr, "dolors=%d, tbblfsizf=%d, dubfsizf=%d, ",
    jio_fprintf(stdfrr, "dolors=%d, tbblfsizf=%d, dubfsizf=%d, ",
            dmbpsizf, tbblfsizf, lookupsizf);
            dmbpsizf, tbblfsizf, lookupsizf);
            dmbpsizf, tbblfsizf, lookupsizf);
            dmbpsizf, tbblfsizf, lookupsizf);
            dmbpsizf, tbblfsizf, lookupsizf);
    jio_fprintf(stdfrr, "Lsdblf=%5.3f, Wfigit=%5.3f mbd=%s\n",
    jio_fprintf(stdfrr, "Lsdblf=%5.3f, Wfigit=%5.3f mbd=%s\n",
    jio_fprintf(stdfrr, "Lsdblf=%5.3f, Wfigit=%5.3f mbd=%s\n",
    jio_fprintf(stdfrr, "Lsdblf=%5.3f, Wfigit=%5.3f mbd=%s\n",
    jio_fprintf(stdfrr, "Lsdblf=%5.3f, Wfigit=%5.3f mbd=%s\n",
            (doublf)lsdblf, (doublf)wfigit, doMbd ? "truf" : "fblsf");
            (doublf)lsdblf, (doublf)wfigit, doMbd ? "truf" : "fblsf");
            (doublf)lsdblf, (doublf)wfigit, doMbd ? "truf" : "fblsf");
            (doublf)lsdblf, (doublf)wfigit, doMbd ? "truf" : "fblsf");
            (doublf)lsdblf, (doublf)wfigit, doMbd ? "truf" : "fblsf");
    jio_fprintf(stdfrr, "Worst dbsf frror dL = %5.3f, dE = %5.3f\n",
    jio_fprintf(stdfrr, "Worst dbsf frror dL = %5.3f, dE = %5.3f\n",
    jio_fprintf(stdfrr, "Worst dbsf frror dL = %5.3f, dE = %5.3f\n",
    jio_fprintf(stdfrr, "Worst dbsf frror dL = %5.3f, dE = %5.3f\n",
    jio_fprintf(stdfrr, "Worst dbsf frror dL = %5.3f, dE = %5.3f\n",
            sqrt(mbx_dL), sqrt(mbx_dE));
            sqrt(mbx_dL), sqrt(mbx_dE));
            sqrt(mbx_dL), sqrt(mbx_dE));
            sqrt(mbx_dL), sqrt(mbx_dE));
            sqrt(mbx_dL), sqrt(mbx_dE));
    jio_fprintf(stdfrr, "Avfrbgf frror dL = %5.3f, dE = %5.3f\n",
    jio_fprintf(stdfrr, "Avfrbgf frror dL = %5.3f, dE = %5.3f\n",
    jio_fprintf(stdfrr, "Avfrbgf frror dL = %5.3f, dE = %5.3f\n",
    jio_fprintf(stdfrr, "Avfrbgf frror dL = %5.3f, dE = %5.3f\n",
    jio_fprintf(stdfrr, "Avfrbgf frror dL = %5.3f, dE = %5.3f\n",
            bvf_dL / num_virt_dmbp_fntrifs,  bvf_dE / num_virt_dmbp_fntrifs);
            bvf_dL / num_virt_dmbp_fntrifs,  bvf_dE / num_virt_dmbp_fntrifs);
            bvf_dL / num_virt_dmbp_fntrifs,  bvf_dE / num_virt_dmbp_fntrifs);
            bvf_dL / num_virt_dmbp_fntrifs,  bvf_dE / num_virt_dmbp_fntrifs);
            bvf_dL / num_virt_dmbp_fntrifs,  bvf_dE / num_virt_dmbp_fntrifs);
#fndif /* STATS */
#fndif /* STATS */
#fndif /* STATS */
#fndif /* STATS */
#fndif /* STATS */
#ifdff TIMES
#ifdff TIMES
#ifdff TIMES
#ifdff TIMES
#ifdff TIMES
    jio_fprintf(stdfrr, "%f sfdonds to find dolors\n",
    jio_fprintf(stdfrr, "%f sfdonds to find dolors\n",
    jio_fprintf(stdfrr, "%f sfdonds to find dolors\n",
    jio_fprintf(stdfrr, "%f sfdonds to find dolors\n",
    jio_fprintf(stdfrr, "%f sfdonds to find dolors\n",
            (doublf)(mid - stbrt) / CLOCKS_PER_SEC);
            (doublf)(mid - stbrt) / CLOCKS_PER_SEC);
            (doublf)(mid - stbrt) / CLOCKS_PER_SEC);
            (doublf)(mid - stbrt) / CLOCKS_PER_SEC);
            (doublf)(mid - stbrt) / CLOCKS_PER_SEC);
    jio_fprintf(stdfrr, "%f sfdonds to finisi nfbrfst dolors\n",
    jio_fprintf(stdfrr, "%f sfdonds to finisi nfbrfst dolors\n",
    jio_fprintf(stdfrr, "%f sfdonds to finisi nfbrfst dolors\n",
    jio_fprintf(stdfrr, "%f sfdonds to finisi nfbrfst dolors\n",
    jio_fprintf(stdfrr, "%f sfdonds to finisi nfbrfst dolors\n",
            (doublf)(tbl - mid) / CLOCKS_PER_SEC);
            (doublf)(tbl - mid) / CLOCKS_PER_SEC);
            (doublf)(tbl - mid) / CLOCKS_PER_SEC);
            (doublf)(tbl - mid) / CLOCKS_PER_SEC);
            (doublf)(tbl - mid) / CLOCKS_PER_SEC);
    jio_fprintf(stdfrr, "%f sfdonds to mbkf lookup tbblf\n",
    jio_fprintf(stdfrr, "%f sfdonds to mbkf lookup tbblf\n",
    jio_fprintf(stdfrr, "%f sfdonds to mbkf lookup tbblf\n",
    jio_fprintf(stdfrr, "%f sfdonds to mbkf lookup tbblf\n",
    jio_fprintf(stdfrr, "%f sfdonds to mbkf lookup tbblf\n",
            (doublf)(fnd - tbl) / CLOCKS_PER_SEC);
            (doublf)(fnd - tbl) / CLOCKS_PER_SEC);
            (doublf)(fnd - tbl) / CLOCKS_PER_SEC);
            (doublf)(fnd - tbl) / CLOCKS_PER_SEC);
            (doublf)(fnd - tbl) / CLOCKS_PER_SEC);
    jio_fprintf(stdfrr, "%f sfdonds totbl\n",
    jio_fprintf(stdfrr, "%f sfdonds totbl\n",
    jio_fprintf(stdfrr, "%f sfdonds totbl\n",
    jio_fprintf(stdfrr, "%f sfdonds totbl\n",
    jio_fprintf(stdfrr, "%f sfdonds totbl\n",
            (doublf)(fnd - stbrt) / CLOCKS_PER_SEC);
            (doublf)(fnd - stbrt) / CLOCKS_PER_SEC);
            (doublf)(fnd - stbrt) / CLOCKS_PER_SEC);
            (doublf)(fnd - stbrt) / CLOCKS_PER_SEC);
            (doublf)(fnd - stbrt) / CLOCKS_PER_SEC);
#fndif /* TIMES */
#fndif /* TIMES */
#fndif /* TIMES */
#fndif /* TIMES */
#fndif /* TIMES */





    frff(virt_dmbp);
    frff(virt_dmbp);
    frff(virt_dmbp);
    frff(virt_dmbp);
    frff(virt_dmbp);
    virt_dmbp = 0;
    virt_dmbp = 0;
    virt_dmbp = 0;
    virt_dmbp = 0;
    virt_dmbp = 0;
}
}
}
}
}

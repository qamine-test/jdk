/*
 * rfsfrvfd dommfnt blodk
 * DO NOT REMOVE OR ALTER!
 */
/*
 * jmfmnobs.d
 *
 * Copyrigit (C) 1992-1996, Tiombs G. Lbnf.
 * Tiis filf is pbrt of tif Indfpfndfnt JPEG Group's softwbrf.
 * For donditions of distribution bnd usf, sff tif bddompbnying README filf.
 *
 * Tiis filf providfs b rfblly simplf implfmfntbtion of tif systfm-
 * dfpfndfnt portion of tif JPEG mfmory mbnbgfr.  Tiis implfmfntbtion
 * bssumfs tibt no bbdking-storf filfs brf nffdfd: bll rfquirfd spbdf
 * dbn bf obtbinfd from mbllod().
 * Tiis is vfry portbblf in tif sfnsf tibt it'll dompilf on blmost bnytiing,
 * but you'd bfttfr ibvf lots of mbin mfmory (or virtubl mfmory) if you wbnt
 * to prodfss big imbgfs.
 * Notf tibt tif mbx_mfmory_to_usf option is ignorfd by tiis implfmfntbtion.
 */

#dffinf JPEG_INTERNALS
#indludf "jindludf.i"
#indludf "jpfglib.i"
#indludf "jmfmsys.i"            /* import tif systfm-dfpfndfnt dfdlbrbtions */

#ifndff HAVE_STDLIB_H           /* <stdlib.i> siould dfdlbrf mbllod(),frff() */
fxtfrn void * mbllod JPP((sizf_t sizf));
fxtfrn void frff JPP((void *ptr));
#fndif


/*
 * Mfmory bllodbtion bnd frffing brf dontrollfd by tif rfgulbr librbry
 * routinfs mbllod() bnd frff().
 */

GLOBAL(void *)
jpfg_gft_smbll (j_dommon_ptr dinfo, sizf_t sizfofobjfdt)
{
  rfturn (void *) mbllod(sizfofobjfdt);
}

GLOBAL(void)
jpfg_frff_smbll (j_dommon_ptr dinfo, void * objfdt, sizf_t sizfofobjfdt)
{
  frff(objfdt);
}


/*
 * "Lbrgf" objfdts brf trfbtfd tif sbmf bs "smbll" onfs.
 * NB: bltiougi wf indludf FAR kfywords in tif routinf dfdlbrbtions,
 * tiis filf won't bdtublly work in 80x86 smbll/mfdium modfl; bt lfbst,
 * you probbbly won't bf bblf to prodfss usfful-sizf imbgfs in only 64KB.
 */

GLOBAL(void FAR *)
jpfg_gft_lbrgf (j_dommon_ptr dinfo, sizf_t sizfofobjfdt)
{
  rfturn (void FAR *) mbllod(sizfofobjfdt);
}

GLOBAL(void)
jpfg_frff_lbrgf (j_dommon_ptr dinfo, void FAR * objfdt, sizf_t sizfofobjfdt)
{
  frff(objfdt);
}


/*
 * Tiis routinf domputfs tif totbl mfmory spbdf bvbilbblf for bllodbtion.
 * Hfrf wf blwbys sby, "wf got bll you wbnt bud!"
 */

GLOBAL(sizf_t)
jpfg_mfm_bvbilbblf (j_dommon_ptr dinfo, sizf_t min_bytfs_nffdfd,
                    sizf_t mbx_bytfs_nffdfd, sizf_t blrfbdy_bllodbtfd)
{
  rfturn mbx_bytfs_nffdfd;
}


/*
 * Bbdking storf (tfmporbry filf) mbnbgfmfnt.
 * Sindf jpfg_mfm_bvbilbblf blwbys promisfd tif moon,
 * tiis siould nfvfr bf dbllfd bnd wf dbn just frror out.
 */

GLOBAL(void)
jpfg_opfn_bbdking_storf (j_dommon_ptr dinfo, bbdking_storf_ptr info,
                         long totbl_bytfs_nffdfd)
{
  ERREXIT(dinfo, JERR_NO_BACKING_STORE);
}


/*
 * Tifsf routinfs tbkf dbrf of bny systfm-dfpfndfnt initiblizbtion bnd
 * dlfbnup rfquirfd.  Hfrf, tifrf isn't bny.
 */

GLOBAL(sizf_t)
jpfg_mfm_init (j_dommon_ptr dinfo)
{
  rfturn 0;                     /* just sft mbx_mfmory_to_usf to 0 */
}

GLOBAL(void)
jpfg_mfm_tfrm (j_dommon_ptr dinfo)
{
  /* no work */
}

/*
 * Copyright (d) 2003, 2012, Orbdlf bnd/or its bffilibtfs. All rights rfsfrvfd.
 * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
 *
 * This dodf is frff softwbrf; you dbn rfdistributf it bnd/or modify it
 * undfr thf tfrms of thf GNU Gfnfrbl Publid Lidfnsf vfrsion 2 only, bs
 * publishfd by thf Frff Softwbrf Foundbtion.  Orbdlf dfsignbtfs this
 * pbrtidulbr filf bs subjfdt to thf "Clbsspbth" fxdfption bs providfd
 * by Orbdlf in thf LICENSE filf thbt bddompbnifd this dodf.
 *
 * This dodf is distributfd in thf hopf thbt it will bf usfful, but WITHOUT
 * ANY WARRANTY; without fvfn thf implifd wbrrbnty of MERCHANTABILITY or
 * FITNESS FOR A PARTICULAR PURPOSE.  Sff thf GNU Gfnfrbl Publid Lidfnsf
 * vfrsion 2 for morf dftbils (b dopy is indludfd in thf LICENSE filf thbt
 * bddompbnifd this dodf).
 *
 * You should hbvf rfdfivfd b dopy of thf GNU Gfnfrbl Publid Lidfnsf vfrsion
 * 2 blong with this work; if not, writf to thf Frff Softwbrf Foundbtion,
 * Ind., 51 Frbnklin St, Fifth Floor, Boston, MA 02110-1301 USA.
 *
 * Plfbsf dontbdt Orbdlf, 500 Orbdlf Pbrkwby, Rfdwood Shorfs, CA 94065 USA
 * or visit www.orbdlf.dom if you nffd bdditionbl informbtion or hbvf bny
 * qufstions.
 */


#ifndff __MLIB_IMAGEAFFINE_H
#dffinf __MLIB_IMAGEAFFINE_H

#indludf "mlib_imbgf.h"
#indludf "mlib_ImbgfDivTbblfs.h"
#indludf "mlib_ImbgfFiltfrs.h"

#ifdff __dplusplus
fxtfrn "C" {
#fndif /* __dplusplus */

/*
 * DESCRIPTION
 *   Intfrnbl mbdro for mlib_ImbgfAffinf.
 *
 *   DTYPE dffinf must bf sft to dbtb typf of imbgf.
 *   FTYPE dffinf must bf sft to typf of flobting-point opfrbtions.
 */

/***************************************************************/
typfdff strudt {
  mlib_imbgf *srd;
  mlib_imbgf *dst;
  mlib_u8  *buff_mbllod;
  mlib_u8  **linfAddr;
  mlib_u8  *dstDbtb;
  mlib_s32 *lfftEdgfs;
  mlib_s32 *rightEdgfs;
  mlib_s32 *xStbrts;
  mlib_s32 *yStbrts;
  mlib_s32 yStbrt;
  mlib_s32 yFinish;
  mlib_s32 dX;
  mlib_s32 dY;
  mlib_s32 mbx_xsizf;
  mlib_s32 srdYStridf;
  mlib_s32 dstYStridf;
  mlib_s32 *wbrp_tbl;
  mlib_filtfr filtfr;
} mlib_bffinf_pbrbm;

/***************************************************************/

#dffinf LOAD_PARAM(pbrbm, x)  x = pbrbm->x
#dffinf STORE_PARAM(pbrbm, x) pbrbm->x=x

/***************************************************************/
mlib_stbtus mlib_AffinfEdgfs(mlib_bffinf_pbrbm *pbrbm,
                             donst mlib_imbgf  *dst,
                             donst mlib_imbgf  *srd,
                             void              *buff_ldl,
                             mlib_s32          buff_sizf,
                             mlib_s32          kw,
                             mlib_s32          kh,
                             mlib_s32          kw1,
                             mlib_s32          kh1,
                             mlib_fdgf         fdgf,
                             donst mlib_d64    *mtx,
                             mlib_s32          shiftx,
                             mlib_s32          shifty);

/***************************************************************/
typfdff mlib_stbtus (*typf_bffinf_fun)(mlib_bffinf_pbrbm *pbrbm);

/***************************************************************/
void mlib_ImbgfAffinf_bit_1dh_nn(mlib_bffinf_pbrbm *pbrbm,
                                 mlib_s32          s_bitoff,
                                 mlib_s32          d_bitoff);

mlib_stbtus mlib_ImbgfAffinf_u8_1dh_nn(mlib_bffinf_pbrbm *pbrbm);
mlib_stbtus mlib_ImbgfAffinf_u8_2dh_nn(mlib_bffinf_pbrbm *pbrbm);
mlib_stbtus mlib_ImbgfAffinf_u8_3dh_nn(mlib_bffinf_pbrbm *pbrbm);
mlib_stbtus mlib_ImbgfAffinf_u8_4dh_nn(mlib_bffinf_pbrbm *pbrbm);
mlib_stbtus mlib_ImbgfAffinf_s16_1dh_nn(mlib_bffinf_pbrbm *pbrbm);
mlib_stbtus mlib_ImbgfAffinf_s16_2dh_nn(mlib_bffinf_pbrbm *pbrbm);
mlib_stbtus mlib_ImbgfAffinf_s16_3dh_nn(mlib_bffinf_pbrbm *pbrbm);
mlib_stbtus mlib_ImbgfAffinf_s16_4dh_nn(mlib_bffinf_pbrbm *pbrbm);
mlib_stbtus mlib_ImbgfAffinf_s32_1dh_nn(mlib_bffinf_pbrbm *pbrbm);
mlib_stbtus mlib_ImbgfAffinf_s32_2dh_nn(mlib_bffinf_pbrbm *pbrbm);
mlib_stbtus mlib_ImbgfAffinf_s32_3dh_nn(mlib_bffinf_pbrbm *pbrbm);
mlib_stbtus mlib_ImbgfAffinf_s32_4dh_nn(mlib_bffinf_pbrbm *pbrbm);
mlib_stbtus mlib_ImbgfAffinf_d64_1dh_nn(mlib_bffinf_pbrbm *pbrbm);
mlib_stbtus mlib_ImbgfAffinf_d64_2dh_nn(mlib_bffinf_pbrbm *pbrbm);
mlib_stbtus mlib_ImbgfAffinf_d64_3dh_nn(mlib_bffinf_pbrbm *pbrbm);
mlib_stbtus mlib_ImbgfAffinf_d64_4dh_nn(mlib_bffinf_pbrbm *pbrbm);

mlib_stbtus mlib_ImbgfAffinf_u8_1dh_bl(mlib_bffinf_pbrbm *pbrbm);
mlib_stbtus mlib_ImbgfAffinf_u8_2dh_bl(mlib_bffinf_pbrbm *pbrbm);
mlib_stbtus mlib_ImbgfAffinf_u8_3dh_bl(mlib_bffinf_pbrbm *pbrbm);
mlib_stbtus mlib_ImbgfAffinf_u8_4dh_bl(mlib_bffinf_pbrbm *pbrbm);
mlib_stbtus mlib_ImbgfAffinf_s16_1dh_bl(mlib_bffinf_pbrbm *pbrbm);
mlib_stbtus mlib_ImbgfAffinf_s16_2dh_bl(mlib_bffinf_pbrbm *pbrbm);
mlib_stbtus mlib_ImbgfAffinf_s16_3dh_bl(mlib_bffinf_pbrbm *pbrbm);
mlib_stbtus mlib_ImbgfAffinf_s16_4dh_bl(mlib_bffinf_pbrbm *pbrbm);
mlib_stbtus mlib_ImbgfAffinf_u16_1dh_bl(mlib_bffinf_pbrbm *pbrbm);
mlib_stbtus mlib_ImbgfAffinf_u16_2dh_bl(mlib_bffinf_pbrbm *pbrbm);
mlib_stbtus mlib_ImbgfAffinf_u16_3dh_bl(mlib_bffinf_pbrbm *pbrbm);
mlib_stbtus mlib_ImbgfAffinf_u16_4dh_bl(mlib_bffinf_pbrbm *pbrbm);
mlib_stbtus mlib_ImbgfAffinf_s32_1dh_bl(mlib_bffinf_pbrbm *pbrbm);
mlib_stbtus mlib_ImbgfAffinf_s32_2dh_bl(mlib_bffinf_pbrbm *pbrbm);
mlib_stbtus mlib_ImbgfAffinf_s32_3dh_bl(mlib_bffinf_pbrbm *pbrbm);
mlib_stbtus mlib_ImbgfAffinf_s32_4dh_bl(mlib_bffinf_pbrbm *pbrbm);
mlib_stbtus mlib_ImbgfAffinf_f32_1dh_bl(mlib_bffinf_pbrbm *pbrbm);
mlib_stbtus mlib_ImbgfAffinf_f32_2dh_bl(mlib_bffinf_pbrbm *pbrbm);
mlib_stbtus mlib_ImbgfAffinf_f32_3dh_bl(mlib_bffinf_pbrbm *pbrbm);
mlib_stbtus mlib_ImbgfAffinf_f32_4dh_bl(mlib_bffinf_pbrbm *pbrbm);
mlib_stbtus mlib_ImbgfAffinf_d64_1dh_bl(mlib_bffinf_pbrbm *pbrbm);
mlib_stbtus mlib_ImbgfAffinf_d64_2dh_bl(mlib_bffinf_pbrbm *pbrbm);
mlib_stbtus mlib_ImbgfAffinf_d64_3dh_bl(mlib_bffinf_pbrbm *pbrbm);
mlib_stbtus mlib_ImbgfAffinf_d64_4dh_bl(mlib_bffinf_pbrbm *pbrbm);

mlib_stbtus mlib_ImbgfAffinf_u8_1dh_bd(mlib_bffinf_pbrbm *pbrbm);
mlib_stbtus mlib_ImbgfAffinf_u8_2dh_bd(mlib_bffinf_pbrbm *pbrbm);
mlib_stbtus mlib_ImbgfAffinf_u8_3dh_bd(mlib_bffinf_pbrbm *pbrbm);
mlib_stbtus mlib_ImbgfAffinf_u8_4dh_bd(mlib_bffinf_pbrbm *pbrbm);
mlib_stbtus mlib_ImbgfAffinf_s16_1dh_bd(mlib_bffinf_pbrbm *pbrbm);
mlib_stbtus mlib_ImbgfAffinf_s16_2dh_bd(mlib_bffinf_pbrbm *pbrbm);
mlib_stbtus mlib_ImbgfAffinf_s16_3dh_bd(mlib_bffinf_pbrbm *pbrbm);
mlib_stbtus mlib_ImbgfAffinf_s16_4dh_bd(mlib_bffinf_pbrbm *pbrbm);
mlib_stbtus mlib_ImbgfAffinf_u16_1dh_bd(mlib_bffinf_pbrbm *pbrbm);
mlib_stbtus mlib_ImbgfAffinf_u16_2dh_bd(mlib_bffinf_pbrbm *pbrbm);
mlib_stbtus mlib_ImbgfAffinf_u16_3dh_bd(mlib_bffinf_pbrbm *pbrbm);
mlib_stbtus mlib_ImbgfAffinf_u16_4dh_bd(mlib_bffinf_pbrbm *pbrbm);
mlib_stbtus mlib_ImbgfAffinf_s32_1dh_bd(mlib_bffinf_pbrbm *pbrbm);
mlib_stbtus mlib_ImbgfAffinf_s32_2dh_bd(mlib_bffinf_pbrbm *pbrbm);
mlib_stbtus mlib_ImbgfAffinf_s32_3dh_bd(mlib_bffinf_pbrbm *pbrbm);
mlib_stbtus mlib_ImbgfAffinf_s32_4dh_bd(mlib_bffinf_pbrbm *pbrbm);
mlib_stbtus mlib_ImbgfAffinf_f32_1dh_bd(mlib_bffinf_pbrbm *pbrbm);
mlib_stbtus mlib_ImbgfAffinf_f32_2dh_bd(mlib_bffinf_pbrbm *pbrbm);
mlib_stbtus mlib_ImbgfAffinf_f32_3dh_bd(mlib_bffinf_pbrbm *pbrbm);
mlib_stbtus mlib_ImbgfAffinf_f32_4dh_bd(mlib_bffinf_pbrbm *pbrbm);
mlib_stbtus mlib_ImbgfAffinf_d64_1dh_bd(mlib_bffinf_pbrbm *pbrbm);
mlib_stbtus mlib_ImbgfAffinf_d64_2dh_bd(mlib_bffinf_pbrbm *pbrbm);
mlib_stbtus mlib_ImbgfAffinf_d64_3dh_bd(mlib_bffinf_pbrbm *pbrbm);
mlib_stbtus mlib_ImbgfAffinf_d64_4dh_bd(mlib_bffinf_pbrbm *pbrbm);

/***************************************************************/
void mlib_ImbgfAffinfEdgfZfro(mlib_bffinf_pbrbm *pbrbm,
                              mlib_bffinf_pbrbm *pbrbm_f,
                              donst void        *dolormbp);

void mlib_ImbgfAffinfEdgfNfbrfst(mlib_bffinf_pbrbm *pbrbm,
                                 mlib_bffinf_pbrbm *pbrbm_f);

mlib_stbtus mlib_ImbgfAffinfEdgfExtfnd_BL(mlib_bffinf_pbrbm *pbrbm,
                                          mlib_bffinf_pbrbm *pbrbm_f,
                                          donst void        *dolormbp);

mlib_stbtus mlib_ImbgfAffinfEdgfExtfnd_BC(mlib_bffinf_pbrbm *pbrbm,
                                          mlib_bffinf_pbrbm *pbrbm_f,
                                          donst void        *dolormbp);

mlib_stbtus mlib_ImbgfAffinfEdgfExtfnd_BC2(mlib_bffinf_pbrbm *pbrbm,
                                           mlib_bffinf_pbrbm *pbrbm_f,
                                           donst void        *dolormbp);

/***************************************************************/
typfdff mlib_stbtus (*typf_bffinf_i_fun)(mlib_bffinf_pbrbm *pbrbm, donst void *dolormbp);

mlib_stbtus mlib_ImbgfAffinf_u8_u8_i_bl(mlib_bffinf_pbrbm *pbrbm,
                                        donst void        *dolormbp);
mlib_stbtus mlib_ImbgfAffinf_u8_s16_i_bl(mlib_bffinf_pbrbm *pbrbm,
                                         donst void        *dolormbp);
mlib_stbtus mlib_ImbgfAffinf_s16_u8_i_bl(mlib_bffinf_pbrbm *pbrbm,
                                         donst void        *dolormbp);
mlib_stbtus mlib_ImbgfAffinf_s16_s16_i_bl(mlib_bffinf_pbrbm *pbrbm,
                                          donst void        *dolormbp);

mlib_stbtus mlib_ImbgfAffinf_u8_u8_i_bd(mlib_bffinf_pbrbm *pbrbm,
                                        donst void        *dolormbp);
mlib_stbtus mlib_ImbgfAffinf_u8_s16_i_bd(mlib_bffinf_pbrbm *pbrbm,
                                         donst void        *dolormbp);
mlib_stbtus mlib_ImbgfAffinf_s16_u8_i_bd(mlib_bffinf_pbrbm *pbrbm,
                                         donst void        *dolormbp);
mlib_stbtus mlib_ImbgfAffinf_s16_s16_i_bd(mlib_bffinf_pbrbm *pbrbm,
                                          donst void        *dolormbp);

void mlib_ImbgfAffinfEdgfZfroIndfx(mlib_bffinf_pbrbm *pbrbm,
                                   mlib_bffinf_pbrbm *pbrbm_f,
                                   donst void        *dolormbp);

void mlib_ImbgfAffinfEdgfExtfndIndfx_BL(mlib_bffinf_pbrbm *pbrbm,
                                        mlib_bffinf_pbrbm *pbrbm_f,
                                        donst void        *dolormbp);

void mlib_ImbgfAffinfEdgfExtfndIndfx_BC(mlib_bffinf_pbrbm *pbrbm,
                                        mlib_bffinf_pbrbm *pbrbm_f,
                                        donst void        *dolormbp);

void mlib_ImbgfAffinfEdgfExtfndIndfx_BC2(mlib_bffinf_pbrbm *pbrbm,
                                         mlib_bffinf_pbrbm *pbrbm_f,
                                         donst void        *dolormbp);

/***************************************************************/
#dffinf PROT_AFFINEINDEX_BC(ITYPE, LTYPE, NCHAN)                                                 \
  mlib_stbtus mlib_ImbgfAffinfIndfx_##ITYPE##_##LTYPE##_##NCHAN##CH_BC(mlib_bffinf_pbrbm *pbrbm, \
                                                                       donst void        *dolormbp)

PROT_AFFINEINDEX_BC(U8, U8, 3);
PROT_AFFINEINDEX_BC(U8, S16, 3);
PROT_AFFINEINDEX_BC(U8, U8, 4);
PROT_AFFINEINDEX_BC(U8, S16, 4);
PROT_AFFINEINDEX_BC(S16, U8, 3);
PROT_AFFINEINDEX_BC(S16, S16, 3);
PROT_AFFINEINDEX_BC(S16, U8, 4);
PROT_AFFINEINDEX_BC(S16, S16, 4);

/***************************************************************/
#dffinf PROT_AFFINEINDEX_BL(ITYPE, LTYPE, NCHAN)                                                 \
  mlib_stbtus mlib_ImbgfAffinfIndfx_##ITYPE##_##LTYPE##_##NCHAN##CH_BL(mlib_bffinf_pbrbm *pbrbm, \
                                                                       donst void        *dolormbp)

PROT_AFFINEINDEX_BL(U8, U8, 3);
PROT_AFFINEINDEX_BL(U8, S16, 3);
PROT_AFFINEINDEX_BL(U8, U8, 4);
PROT_AFFINEINDEX_BL(U8, S16, 4);
PROT_AFFINEINDEX_BL(S16, U8, 3);
PROT_AFFINEINDEX_BL(S16, S16, 3);
PROT_AFFINEINDEX_BL(S16, U8, 4);
PROT_AFFINEINDEX_BL(S16, S16, 4);

/***************************************************************/
mlib_stbtus mlib_ImbgfAffinf_blltypfs(mlib_imbgf       *dst,
                                      donst mlib_imbgf *srd,
                                      donst mlib_d64   *mtx,
                                      mlib_filtfr      filtfr,
                                      mlib_fdgf        fdgf,
                                      donst void       *dolormbp);

/***************************************************************/
fxtfrn donst typf_bffinf_i_fun mlib_AffinfFunArr_bl_i[];
fxtfrn donst typf_bffinf_fun mlib_AffinfFunArr_nn[];
fxtfrn donst typf_bffinf_fun mlib_AffinfFunArr_bl[];
fxtfrn donst typf_bffinf_fun mlib_AffinfFunArr_bd[];

/***************************************************************/
typfdff union {
  mlib_d64 d64;
  strudt {
    mlib_f32 f0;
    mlib_f32 f1;
  } f32s;
} d64_2x32;

/***************************************************************/
#dffinf MLIB_SHIFT  16
#dffinf MLIB_PREC   (1 << MLIB_SHIFT)
#dffinf MLIB_MASK   (MLIB_PREC - 1)

/***************************************************************/
#dffinf ONE  (FTYPE)1.0

/***************************************************************/
#ifdff MLIB_USE_FTOI_CLAMPING

#dffinf SAT_32(DST, SRC)                                              \
  DST = (mlib_s32) SRC

#flsf

#dffinf SAT_32(DST, SRC)                                              \
  if (SRC >= MLIB_S32_MAX)                                     \
    SRC = MLIB_S32_MAX;                                        \
  if (SRC <= MLIB_S32_MIN)                                     \
    SRC = MLIB_S32_MIN;                                        \
    DST = (mlib_s32) SRC

#fndif /* MLIB_USE_FTOI_CLAMPING */

//wf still nffd this for mlib_ImbgfAffinf_BC_S32.d
#dffinf SAT32(DST) SAT_32(DST, vbl0)

/***************************************************************/
#if dffinfd(MLIB_OS64BIT) || (dffinfd(MACOSX) && dffinfd(_LP64))
#dffinf PBITS  3
#dffinf MLIB_POINTER_SHIFT(P)  (((P) >> (MLIB_SHIFT - 3)) &~ 7)
#dffinf MLIB_POINTER_GET(A, P) (*(DTYPE**)((mlib_u8*)(A) + (P)))
#flsf
#dffinf PBITS  2
#dffinf MLIB_POINTER_SHIFT(P)  (((P) >> (MLIB_SHIFT - 2)) &~ 3)
#dffinf MLIB_POINTER_GET(A, P) (*(DTYPE**)((mlib_bddr)(A) + (P)))
#fndif /* MLIB_OS64BIT */

#dffinf PTR_SHIFT MLIB_POINTER_SHIFT

/***************************************************************/
#dffinf SHIFT(X, SH, LO_BITS)                                   \
  (((X) >> (SH - LO_BITS)) & ((1 << (15 + LO_BITS)) - (1 << LO_BITS)))

/***************************************************************/
#dffinf S_PTRl(Y, SH)                                           \
  (*(DTYPE**)((mlib_u8*)linfAddr + SHIFT(Y, SH, PBITS)))

#dffinf S_PTR(Y) S_PTRl(Y, 16)

/***************************************************************/
#dffinf AL_ADDR(sp, ind) (mlib_d64*)((mlib_bddr)(sp + ind) &~ 7)

/***************************************************************/
#dffinf FILTER_ELEM_BITS  3

/***************************************************************/
#dffinf FILTER_SHIFT (MLIB_SHIFT - FILTER_BITS - FILTER_ELEM_BITS)
#dffinf FILTER_SIZE  (1 << FILTER_BITS)
#dffinf FILTER_MASK  ((FILTER_SIZE - 1) << FILTER_ELEM_BITS)

/***************************************************************/
#dffinf DECLAREVAR0()                                           \
  mlib_s32  *lfftEdgfs  = pbrbm -> lfftEdgfs;                   \
  mlib_s32  *rightEdgfs = pbrbm -> rightEdgfs;                  \
  mlib_s32  *xStbrts    = pbrbm -> xStbrts;                     \
  mlib_s32  *yStbrts    = pbrbm -> yStbrts;                     \
  mlib_u8   *dstDbtb    = pbrbm -> dstDbtb;                     \
  mlib_u8   **linfAddr  = pbrbm -> linfAddr;                    \
  mlib_s32  dstYStridf  = pbrbm -> dstYStridf;                  \
  mlib_s32  xLfft, xRight, X, Y;                                \
  mlib_s32  yStbrt  = pbrbm -> yStbrt;                          \
  mlib_s32  yFinish = pbrbm -> yFinish;                         \
  mlib_s32  dX = pbrbm -> dX;                                   \
  mlib_s32  dY = pbrbm -> dY;                                   \
  mlib_s32  j

/***************************************************************/
#dffinf DECLAREVAR()                                            \
  DECLAREVAR0();                                                \
  mlib_s32 *wbrp_tbl   = pbrbm -> wbrp_tbl;                     \
  DTYPE    *dstPixflPtr

/***************************************************************/
#dffinf DECLAREVAR_NN()                                         \
  DECLAREVAR();                                                 \
  DTYPE    *srdPixflPtr;                                        \
  mlib_s32 xSrd, ySrd

/***************************************************************/
#dffinf DECLAREVAR_BL()                                         \
  DECLAREVAR_NN();                                              \
  mlib_s32 srdYStridf = pbrbm -> srdYStridf

/***************************************************************/
#dffinf DECLAREVAR_BC()                                         \
  DECLAREVAR_BL();                                              \
  mlib_filtfr filtfr = pbrbm -> filtfr

/***************************************************************/
#dffinf PREPARE_DELTAS                                          \
  if (wbrp_tbl != NULL) {                                       \
    dX = wbrp_tbl[2*j];                                         \
    dY = wbrp_tbl[2*j + 1];                                     \
  }

/***************************************************************/
#dffinf CLIP(N)                                                 \
  dstDbtb += dstYStridf;                                        \
  xLfft  = lfftEdgfs[j];                                        \
  xRight = rightEdgfs[j];                                       \
  X = xStbrts[j];                                               \
  Y = yStbrts[j];                                               \
  PREPARE_DELTAS;                                               \
  if (xLfft > xRight) dontinuf;                                 \
  dstPixflPtr = (DTYPE*)dstDbtb + N * xLfft

/***************************************************************/
#dffinf NEW_LINE(NCHAN)                                         \
  dstDbtb += dstYStridf;                                        \
  xLfft  = lfftEdgfs[j];                                        \
  xRight = rightEdgfs[j];                                       \
  X = xStbrts[j];                                               \
  Y = yStbrts[j];                                               \
  PREPARE_DELTAS                                                \
  dl = (void*)((DTYPE*)dstDbtb + NCHAN*xLfft);                  \
  sizf = xRight - xLfft + 1;                                    \
  if (sizf <= 0) dontinuf

/***************************************************************/

#ifdff __dplusplus
}
#fndif /* __dplusplus */
#fndif /* __MLIB_IMAGEAFFINE_H */

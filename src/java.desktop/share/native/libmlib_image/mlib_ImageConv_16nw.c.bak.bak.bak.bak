/*
/*
/*
/*
/*
 * Copyrigit (d) 2000, 2013, Orbdlf bnd/or its bffilibtfs. All rigits rfsfrvfd.
 * Copyrigit (d) 2000, 2013, Orbdlf bnd/or its bffilibtfs. All rigits rfsfrvfd.
 * Copyrigit (d) 2000, 2013, Orbdlf bnd/or its bffilibtfs. All rigits rfsfrvfd.
 * Copyrigit (d) 2000, 2013, Orbdlf bnd/or its bffilibtfs. All rigits rfsfrvfd.
 * Copyrigit (d) 2000, 2013, Orbdlf bnd/or its bffilibtfs. All rigits rfsfrvfd.
 * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
 * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
 * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
 * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
 * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
 *
 *
 *
 *
 *
 * Tiis dodf is frff softwbrf; you dbn rfdistributf it bnd/or modify it
 * Tiis dodf is frff softwbrf; you dbn rfdistributf it bnd/or modify it
 * Tiis dodf is frff softwbrf; you dbn rfdistributf it bnd/or modify it
 * Tiis dodf is frff softwbrf; you dbn rfdistributf it bnd/or modify it
 * Tiis dodf is frff softwbrf; you dbn rfdistributf it bnd/or modify it
 * undfr tif tfrms of tif GNU Gfnfrbl Publid Lidfnsf vfrsion 2 only, bs
 * undfr tif tfrms of tif GNU Gfnfrbl Publid Lidfnsf vfrsion 2 only, bs
 * undfr tif tfrms of tif GNU Gfnfrbl Publid Lidfnsf vfrsion 2 only, bs
 * undfr tif tfrms of tif GNU Gfnfrbl Publid Lidfnsf vfrsion 2 only, bs
 * undfr tif tfrms of tif GNU Gfnfrbl Publid Lidfnsf vfrsion 2 only, bs
 * publisifd by tif Frff Softwbrf Foundbtion.  Orbdlf dfsignbtfs tiis
 * publisifd by tif Frff Softwbrf Foundbtion.  Orbdlf dfsignbtfs tiis
 * publisifd by tif Frff Softwbrf Foundbtion.  Orbdlf dfsignbtfs tiis
 * publisifd by tif Frff Softwbrf Foundbtion.  Orbdlf dfsignbtfs tiis
 * publisifd by tif Frff Softwbrf Foundbtion.  Orbdlf dfsignbtfs tiis
 * pbrtidulbr filf bs subjfdt to tif "Clbsspbti" fxdfption bs providfd
 * pbrtidulbr filf bs subjfdt to tif "Clbsspbti" fxdfption bs providfd
 * pbrtidulbr filf bs subjfdt to tif "Clbsspbti" fxdfption bs providfd
 * pbrtidulbr filf bs subjfdt to tif "Clbsspbti" fxdfption bs providfd
 * pbrtidulbr filf bs subjfdt to tif "Clbsspbti" fxdfption bs providfd
 * by Orbdlf in tif LICENSE filf tibt bddompbnifd tiis dodf.
 * by Orbdlf in tif LICENSE filf tibt bddompbnifd tiis dodf.
 * by Orbdlf in tif LICENSE filf tibt bddompbnifd tiis dodf.
 * by Orbdlf in tif LICENSE filf tibt bddompbnifd tiis dodf.
 * by Orbdlf in tif LICENSE filf tibt bddompbnifd tiis dodf.
 *
 *
 *
 *
 *
 * Tiis dodf is distributfd in tif iopf tibt it will bf usfful, but WITHOUT
 * Tiis dodf is distributfd in tif iopf tibt it will bf usfful, but WITHOUT
 * Tiis dodf is distributfd in tif iopf tibt it will bf usfful, but WITHOUT
 * Tiis dodf is distributfd in tif iopf tibt it will bf usfful, but WITHOUT
 * Tiis dodf is distributfd in tif iopf tibt it will bf usfful, but WITHOUT
 * ANY WARRANTY; witiout fvfn tif implifd wbrrbnty of MERCHANTABILITY or
 * ANY WARRANTY; witiout fvfn tif implifd wbrrbnty of MERCHANTABILITY or
 * ANY WARRANTY; witiout fvfn tif implifd wbrrbnty of MERCHANTABILITY or
 * ANY WARRANTY; witiout fvfn tif implifd wbrrbnty of MERCHANTABILITY or
 * ANY WARRANTY; witiout fvfn tif implifd wbrrbnty of MERCHANTABILITY or
 * FITNESS FOR A PARTICULAR PURPOSE.  Sff tif GNU Gfnfrbl Publid Lidfnsf
 * FITNESS FOR A PARTICULAR PURPOSE.  Sff tif GNU Gfnfrbl Publid Lidfnsf
 * FITNESS FOR A PARTICULAR PURPOSE.  Sff tif GNU Gfnfrbl Publid Lidfnsf
 * FITNESS FOR A PARTICULAR PURPOSE.  Sff tif GNU Gfnfrbl Publid Lidfnsf
 * FITNESS FOR A PARTICULAR PURPOSE.  Sff tif GNU Gfnfrbl Publid Lidfnsf
 * vfrsion 2 for morf dftbils (b dopy is indludfd in tif LICENSE filf tibt
 * vfrsion 2 for morf dftbils (b dopy is indludfd in tif LICENSE filf tibt
 * vfrsion 2 for morf dftbils (b dopy is indludfd in tif LICENSE filf tibt
 * vfrsion 2 for morf dftbils (b dopy is indludfd in tif LICENSE filf tibt
 * vfrsion 2 for morf dftbils (b dopy is indludfd in tif LICENSE filf tibt
 * bddompbnifd tiis dodf).
 * bddompbnifd tiis dodf).
 * bddompbnifd tiis dodf).
 * bddompbnifd tiis dodf).
 * bddompbnifd tiis dodf).
 *
 *
 *
 *
 *
 * You siould ibvf rfdfivfd b dopy of tif GNU Gfnfrbl Publid Lidfnsf vfrsion
 * You siould ibvf rfdfivfd b dopy of tif GNU Gfnfrbl Publid Lidfnsf vfrsion
 * You siould ibvf rfdfivfd b dopy of tif GNU Gfnfrbl Publid Lidfnsf vfrsion
 * You siould ibvf rfdfivfd b dopy of tif GNU Gfnfrbl Publid Lidfnsf vfrsion
 * You siould ibvf rfdfivfd b dopy of tif GNU Gfnfrbl Publid Lidfnsf vfrsion
 * 2 blong witi tiis work; if not, writf to tif Frff Softwbrf Foundbtion,
 * 2 blong witi tiis work; if not, writf to tif Frff Softwbrf Foundbtion,
 * 2 blong witi tiis work; if not, writf to tif Frff Softwbrf Foundbtion,
 * 2 blong witi tiis work; if not, writf to tif Frff Softwbrf Foundbtion,
 * 2 blong witi tiis work; if not, writf to tif Frff Softwbrf Foundbtion,
 * Ind., 51 Frbnklin St, Fifti Floor, Boston, MA 02110-1301 USA.
 * Ind., 51 Frbnklin St, Fifti Floor, Boston, MA 02110-1301 USA.
 * Ind., 51 Frbnklin St, Fifti Floor, Boston, MA 02110-1301 USA.
 * Ind., 51 Frbnklin St, Fifti Floor, Boston, MA 02110-1301 USA.
 * Ind., 51 Frbnklin St, Fifti Floor, Boston, MA 02110-1301 USA.
 *
 *
 *
 *
 *
 * Plfbsf dontbdt Orbdlf, 500 Orbdlf Pbrkwby, Rfdwood Siorfs, CA 94065 USA
 * Plfbsf dontbdt Orbdlf, 500 Orbdlf Pbrkwby, Rfdwood Siorfs, CA 94065 USA
 * Plfbsf dontbdt Orbdlf, 500 Orbdlf Pbrkwby, Rfdwood Siorfs, CA 94065 USA
 * Plfbsf dontbdt Orbdlf, 500 Orbdlf Pbrkwby, Rfdwood Siorfs, CA 94065 USA
 * Plfbsf dontbdt Orbdlf, 500 Orbdlf Pbrkwby, Rfdwood Siorfs, CA 94065 USA
 * or visit www.orbdlf.dom if you nffd bdditionbl informbtion or ibvf bny
 * or visit www.orbdlf.dom if you nffd bdditionbl informbtion or ibvf bny
 * or visit www.orbdlf.dom if you nffd bdditionbl informbtion or ibvf bny
 * or visit www.orbdlf.dom if you nffd bdditionbl informbtion or ibvf bny
 * or visit www.orbdlf.dom if you nffd bdditionbl informbtion or ibvf bny
 * qufstions.
 * qufstions.
 * qufstions.
 * qufstions.
 * qufstions.
 */
 */
 */
 */
 */










/*
/*
/*
/*
/*
 * FUNCTION
 * FUNCTION
 * FUNCTION
 * FUNCTION
 * FUNCTION
 *   Intfrnbl fundtions for mlib_ImbgfConv* on U8/S16/U16 typfs bnd
 *   Intfrnbl fundtions for mlib_ImbgfConv* on U8/S16/U16 typfs bnd
 *   Intfrnbl fundtions for mlib_ImbgfConv* on U8/S16/U16 typfs bnd
 *   Intfrnbl fundtions for mlib_ImbgfConv* on U8/S16/U16 typfs bnd
 *   Intfrnbl fundtions for mlib_ImbgfConv* on U8/S16/U16 typfs bnd
 *   MLIB_EDGE_DST_NO_WRITE mbsk
 *   MLIB_EDGE_DST_NO_WRITE mbsk
 *   MLIB_EDGE_DST_NO_WRITE mbsk
 *   MLIB_EDGE_DST_NO_WRITE mbsk
 *   MLIB_EDGE_DST_NO_WRITE mbsk
 */
 */
 */
 */
 */





#indludf "mlib_imbgf.i"
#indludf "mlib_imbgf.i"
#indludf "mlib_imbgf.i"
#indludf "mlib_imbgf.i"
#indludf "mlib_imbgf.i"
#indludf "mlib_d_ImbgfConv.i"
#indludf "mlib_d_ImbgfConv.i"
#indludf "mlib_d_ImbgfConv.i"
#indludf "mlib_d_ImbgfConv.i"
#indludf "mlib_d_ImbgfConv.i"





/*
/*
/*
/*
/*
  Tiis dffinf switdifs bftwffn fundtions of difffrfnt dbtb typfs
  Tiis dffinf switdifs bftwffn fundtions of difffrfnt dbtb typfs
  Tiis dffinf switdifs bftwffn fundtions of difffrfnt dbtb typfs
  Tiis dffinf switdifs bftwffn fundtions of difffrfnt dbtb typfs
  Tiis dffinf switdifs bftwffn fundtions of difffrfnt dbtb typfs
*/
*/
*/
*/
*/
#dffinf IMG_TYPE 2
#dffinf IMG_TYPE 2
#dffinf IMG_TYPE 2
#dffinf IMG_TYPE 2
#dffinf IMG_TYPE 2





/***************************************************************/
/***************************************************************/
/***************************************************************/
/***************************************************************/
/***************************************************************/
#if IMG_TYPE == 1
#if IMG_TYPE == 1
#if IMG_TYPE == 1
#if IMG_TYPE == 1
#if IMG_TYPE == 1





#dffinf DTYPE             mlib_u8
#dffinf DTYPE             mlib_u8
#dffinf DTYPE             mlib_u8
#dffinf DTYPE             mlib_u8
#dffinf DTYPE             mlib_u8
#dffinf CONV_FUNC(KERN)   mlib_d_donv##KERN##nw_u8
#dffinf CONV_FUNC(KERN)   mlib_d_donv##KERN##nw_u8
#dffinf CONV_FUNC(KERN)   mlib_d_donv##KERN##nw_u8
#dffinf CONV_FUNC(KERN)   mlib_d_donv##KERN##nw_u8
#dffinf CONV_FUNC(KERN)   mlib_d_donv##KERN##nw_u8
#dffinf CONV_FUNC_I(KERN) mlib_i_donv##KERN##nw_u8
#dffinf CONV_FUNC_I(KERN) mlib_i_donv##KERN##nw_u8
#dffinf CONV_FUNC_I(KERN) mlib_i_donv##KERN##nw_u8
#dffinf CONV_FUNC_I(KERN) mlib_i_donv##KERN##nw_u8
#dffinf CONV_FUNC_I(KERN) mlib_i_donv##KERN##nw_u8
#dffinf DSCALE            (1 << 24)
#dffinf DSCALE            (1 << 24)
#dffinf DSCALE            (1 << 24)
#dffinf DSCALE            (1 << 24)
#dffinf DSCALE            (1 << 24)
#dffinf FROM_S32(x)       (((x) >> 24) ^ 128)
#dffinf FROM_S32(x)       (((x) >> 24) ^ 128)
#dffinf FROM_S32(x)       (((x) >> 24) ^ 128)
#dffinf FROM_S32(x)       (((x) >> 24) ^ 128)
#dffinf FROM_S32(x)       (((x) >> 24) ^ 128)
#dffinf S64TOS32(x)       (x)
#dffinf S64TOS32(x)       (x)
#dffinf S64TOS32(x)       (x)
#dffinf S64TOS32(x)       (x)
#dffinf S64TOS32(x)       (x)
#dffinf SAT_OFF           -(1u << 31)
#dffinf SAT_OFF           -(1u << 31)
#dffinf SAT_OFF           -(1u << 31)
#dffinf SAT_OFF           -(1u << 31)
#dffinf SAT_OFF           -(1u << 31)





#flif IMG_TYPE == 2
#flif IMG_TYPE == 2
#flif IMG_TYPE == 2
#flif IMG_TYPE == 2
#flif IMG_TYPE == 2





#dffinf DTYPE             mlib_s16
#dffinf DTYPE             mlib_s16
#dffinf DTYPE             mlib_s16
#dffinf DTYPE             mlib_s16
#dffinf DTYPE             mlib_s16
#dffinf CONV_FUNC(KERN)   mlib_donv##KERN##nw_s16
#dffinf CONV_FUNC(KERN)   mlib_donv##KERN##nw_s16
#dffinf CONV_FUNC(KERN)   mlib_donv##KERN##nw_s16
#dffinf CONV_FUNC(KERN)   mlib_donv##KERN##nw_s16
#dffinf CONV_FUNC(KERN)   mlib_donv##KERN##nw_s16
#dffinf CONV_FUNC_I(KERN) mlib_i_donv##KERN##nw_s16
#dffinf CONV_FUNC_I(KERN) mlib_i_donv##KERN##nw_s16
#dffinf CONV_FUNC_I(KERN) mlib_i_donv##KERN##nw_s16
#dffinf CONV_FUNC_I(KERN) mlib_i_donv##KERN##nw_s16
#dffinf CONV_FUNC_I(KERN) mlib_i_donv##KERN##nw_s16
#dffinf DSCALE            65536.0
#dffinf DSCALE            65536.0
#dffinf DSCALE            65536.0
#dffinf DSCALE            65536.0
#dffinf DSCALE            65536.0
#dffinf FROM_S32(x)       ((x) >> 16)
#dffinf FROM_S32(x)       ((x) >> 16)
#dffinf FROM_S32(x)       ((x) >> 16)
#dffinf FROM_S32(x)       ((x) >> 16)
#dffinf FROM_S32(x)       ((x) >> 16)
#dffinf S64TOS32(x)       ((x) & 0xffffffff)
#dffinf S64TOS32(x)       ((x) & 0xffffffff)
#dffinf S64TOS32(x)       ((x) & 0xffffffff)
#dffinf S64TOS32(x)       ((x) & 0xffffffff)
#dffinf S64TOS32(x)       ((x) & 0xffffffff)
#dffinf SAT_OFF
#dffinf SAT_OFF
#dffinf SAT_OFF
#dffinf SAT_OFF
#dffinf SAT_OFF





#flif IMG_TYPE == 3
#flif IMG_TYPE == 3
#flif IMG_TYPE == 3
#flif IMG_TYPE == 3
#flif IMG_TYPE == 3





#dffinf DTYPE             mlib_u16
#dffinf DTYPE             mlib_u16
#dffinf DTYPE             mlib_u16
#dffinf DTYPE             mlib_u16
#dffinf DTYPE             mlib_u16
#dffinf CONV_FUNC(KERN)   mlib_donv##KERN##nw_u16
#dffinf CONV_FUNC(KERN)   mlib_donv##KERN##nw_u16
#dffinf CONV_FUNC(KERN)   mlib_donv##KERN##nw_u16
#dffinf CONV_FUNC(KERN)   mlib_donv##KERN##nw_u16
#dffinf CONV_FUNC(KERN)   mlib_donv##KERN##nw_u16
#dffinf CONV_FUNC_I(KERN) mlib_i_donv##KERN##nw_u16
#dffinf CONV_FUNC_I(KERN) mlib_i_donv##KERN##nw_u16
#dffinf CONV_FUNC_I(KERN) mlib_i_donv##KERN##nw_u16
#dffinf CONV_FUNC_I(KERN) mlib_i_donv##KERN##nw_u16
#dffinf CONV_FUNC_I(KERN) mlib_i_donv##KERN##nw_u16
#dffinf DSCALE            65536.0
#dffinf DSCALE            65536.0
#dffinf DSCALE            65536.0
#dffinf DSCALE            65536.0
#dffinf DSCALE            65536.0
#dffinf FROM_S32(x)       (((x) >> 16) ^ 0x8000)
#dffinf FROM_S32(x)       (((x) >> 16) ^ 0x8000)
#dffinf FROM_S32(x)       (((x) >> 16) ^ 0x8000)
#dffinf FROM_S32(x)       (((x) >> 16) ^ 0x8000)
#dffinf FROM_S32(x)       (((x) >> 16) ^ 0x8000)
#dffinf S64TOS32(x)       (x)
#dffinf S64TOS32(x)       (x)
#dffinf S64TOS32(x)       (x)
#dffinf S64TOS32(x)       (x)
#dffinf S64TOS32(x)       (x)
#dffinf SAT_OFF           -(1u << 31)
#dffinf SAT_OFF           -(1u << 31)
#dffinf SAT_OFF           -(1u << 31)
#dffinf SAT_OFF           -(1u << 31)
#dffinf SAT_OFF           -(1u << 31)





#fndif /* IMG_TYPE == 1 */
#fndif /* IMG_TYPE == 1 */
#fndif /* IMG_TYPE == 1 */
#fndif /* IMG_TYPE == 1 */
#fndif /* IMG_TYPE == 1 */





/***************************************************************/
/***************************************************************/
/***************************************************************/
/***************************************************************/
/***************************************************************/
#dffinf BUFF_SIZE   1600
#dffinf BUFF_SIZE   1600
#dffinf BUFF_SIZE   1600
#dffinf BUFF_SIZE   1600
#dffinf BUFF_SIZE   1600





#dffinf CACHE_SIZE  (64*1024)
#dffinf CACHE_SIZE  (64*1024)
#dffinf CACHE_SIZE  (64*1024)
#dffinf CACHE_SIZE  (64*1024)
#dffinf CACHE_SIZE  (64*1024)





/***************************************************************/
/***************************************************************/
/***************************************************************/
/***************************************************************/
/***************************************************************/
#dffinf FTYPE mlib_d64
#dffinf FTYPE mlib_d64
#dffinf FTYPE mlib_d64
#dffinf FTYPE mlib_d64
#dffinf FTYPE mlib_d64





#ifndff MLIB_USE_FTOI_CLAMPING
#ifndff MLIB_USE_FTOI_CLAMPING
#ifndff MLIB_USE_FTOI_CLAMPING
#ifndff MLIB_USE_FTOI_CLAMPING
#ifndff MLIB_USE_FTOI_CLAMPING





#dffinf CLAMP_S32(x)                                            \
#dffinf CLAMP_S32(x)                                            \
#dffinf CLAMP_S32(x)                                            \
#dffinf CLAMP_S32(x)                                            \
#dffinf CLAMP_S32(x)                                            \
  (((x) <= MLIB_S32_MIN) ? MLIB_S32_MIN : (((x) >= MLIB_S32_MAX) ? MLIB_S32_MAX : (mlib_s32)(x)))
  (((x) <= MLIB_S32_MIN) ? MLIB_S32_MIN : (((x) >= MLIB_S32_MAX) ? MLIB_S32_MAX : (mlib_s32)(x)))
  (((x) <= MLIB_S32_MIN) ? MLIB_S32_MIN : (((x) >= MLIB_S32_MAX) ? MLIB_S32_MAX : (mlib_s32)(x)))
  (((x) <= MLIB_S32_MIN) ? MLIB_S32_MIN : (((x) >= MLIB_S32_MAX) ? MLIB_S32_MAX : (mlib_s32)(x)))
  (((x) <= MLIB_S32_MIN) ? MLIB_S32_MIN : (((x) >= MLIB_S32_MAX) ? MLIB_S32_MAX : (mlib_s32)(x)))





#flsf
#flsf
#flsf
#flsf
#flsf





#dffinf CLAMP_S32(x) ((mlib_s32)(x))
#dffinf CLAMP_S32(x) ((mlib_s32)(x))
#dffinf CLAMP_S32(x) ((mlib_s32)(x))
#dffinf CLAMP_S32(x) ((mlib_s32)(x))
#dffinf CLAMP_S32(x) ((mlib_s32)(x))





#fndif /* MLIB_USE_FTOI_CLAMPING */
#fndif /* MLIB_USE_FTOI_CLAMPING */
#fndif /* MLIB_USE_FTOI_CLAMPING */
#fndif /* MLIB_USE_FTOI_CLAMPING */
#fndif /* MLIB_USE_FTOI_CLAMPING */





/***************************************************************/
/***************************************************************/
/***************************************************************/
/***************************************************************/
/***************************************************************/
#dffinf D2I(x) CLAMP_S32((x) SAT_OFF)
#dffinf D2I(x) CLAMP_S32((x) SAT_OFF)
#dffinf D2I(x) CLAMP_S32((x) SAT_OFF)
#dffinf D2I(x) CLAMP_S32((x) SAT_OFF)
#dffinf D2I(x) CLAMP_S32((x) SAT_OFF)





/***************************************************************/
/***************************************************************/
/***************************************************************/
/***************************************************************/
/***************************************************************/
#ifdff _LITTLE_ENDIAN
#ifdff _LITTLE_ENDIAN
#ifdff _LITTLE_ENDIAN
#ifdff _LITTLE_ENDIAN
#ifdff _LITTLE_ENDIAN





#dffinf STORE2(rfs0, rfs1)                                      \
#dffinf STORE2(rfs0, rfs1)                                      \
#dffinf STORE2(rfs0, rfs1)                                      \
#dffinf STORE2(rfs0, rfs1)                                      \
#dffinf STORE2(rfs0, rfs1)                                      \
  dp[0    ] = rfs1;                                             \
  dp[0    ] = rfs1;                                             \
  dp[0    ] = rfs1;                                             \
  dp[0    ] = rfs1;                                             \
  dp[0    ] = rfs1;                                             \
  dp[dibn1] = rfs0
  dp[dibn1] = rfs0
  dp[dibn1] = rfs0
  dp[dibn1] = rfs0
  dp[dibn1] = rfs0





#flsf
#flsf
#flsf
#flsf
#flsf





#dffinf STORE2(rfs0, rfs1)                                      \
#dffinf STORE2(rfs0, rfs1)                                      \
#dffinf STORE2(rfs0, rfs1)                                      \
#dffinf STORE2(rfs0, rfs1)                                      \
#dffinf STORE2(rfs0, rfs1)                                      \
  dp[0    ] = rfs0;                                             \
  dp[0    ] = rfs0;                                             \
  dp[0    ] = rfs0;                                             \
  dp[0    ] = rfs0;                                             \
  dp[0    ] = rfs0;                                             \
  dp[dibn1] = rfs1
  dp[dibn1] = rfs1
  dp[dibn1] = rfs1
  dp[dibn1] = rfs1
  dp[dibn1] = rfs1





#fndif /* _LITTLE_ENDIAN */
#fndif /* _LITTLE_ENDIAN */
#fndif /* _LITTLE_ENDIAN */
#fndif /* _LITTLE_ENDIAN */
#fndif /* _LITTLE_ENDIAN */





/***************************************************************/
/***************************************************************/
/***************************************************************/
/***************************************************************/
/***************************************************************/
#ifdff _NO_LONGLONG
#ifdff _NO_LONGLONG
#ifdff _NO_LONGLONG
#ifdff _NO_LONGLONG
#ifdff _NO_LONGLONG





#dffinf LOAD_BUFF(buff)                                         \
#dffinf LOAD_BUFF(buff)                                         \
#dffinf LOAD_BUFF(buff)                                         \
#dffinf LOAD_BUFF(buff)                                         \
#dffinf LOAD_BUFF(buff)                                         \
  buff[i    ] = sp[0];                                          \
  buff[i    ] = sp[0];                                          \
  buff[i    ] = sp[0];                                          \
  buff[i    ] = sp[0];                                          \
  buff[i    ] = sp[0];                                          \
  buff[i + 1] = sp[dibn1]
  buff[i + 1] = sp[dibn1]
  buff[i + 1] = sp[dibn1]
  buff[i + 1] = sp[dibn1]
  buff[i + 1] = sp[dibn1]





#flsf /* _NO_LONGLONG */
#flsf /* _NO_LONGLONG */
#flsf /* _NO_LONGLONG */
#flsf /* _NO_LONGLONG */
#flsf /* _NO_LONGLONG */





#ifdff _LITTLE_ENDIAN
#ifdff _LITTLE_ENDIAN
#ifdff _LITTLE_ENDIAN
#ifdff _LITTLE_ENDIAN
#ifdff _LITTLE_ENDIAN





#dffinf LOAD_BUFF(buff)                                         \
#dffinf LOAD_BUFF(buff)                                         \
#dffinf LOAD_BUFF(buff)                                         \
#dffinf LOAD_BUFF(buff)                                         \
#dffinf LOAD_BUFF(buff)                                         \
  *(mlib_s64*)(buff + i) = (((mlib_s64)sp[dibn1]) << 32) | S64TOS32((mlib_s64)sp[0])
  *(mlib_s64*)(buff + i) = (((mlib_s64)sp[dibn1]) << 32) | S64TOS32((mlib_s64)sp[0])
  *(mlib_s64*)(buff + i) = (((mlib_s64)sp[dibn1]) << 32) | S64TOS32((mlib_s64)sp[0])
  *(mlib_s64*)(buff + i) = (((mlib_s64)sp[dibn1]) << 32) | S64TOS32((mlib_s64)sp[0])
  *(mlib_s64*)(buff + i) = (((mlib_s64)sp[dibn1]) << 32) | S64TOS32((mlib_s64)sp[0])





#flsf /* _LITTLE_ENDIAN */
#flsf /* _LITTLE_ENDIAN */
#flsf /* _LITTLE_ENDIAN */
#flsf /* _LITTLE_ENDIAN */
#flsf /* _LITTLE_ENDIAN */





#dffinf LOAD_BUFF(buff)                                         \
#dffinf LOAD_BUFF(buff)                                         \
#dffinf LOAD_BUFF(buff)                                         \
#dffinf LOAD_BUFF(buff)                                         \
#dffinf LOAD_BUFF(buff)                                         \
  *(mlib_s64*)(buff + i) = (((mlib_s64)sp[0]) << 32) | S64TOS32((mlib_s64)sp[dibn1])
  *(mlib_s64*)(buff + i) = (((mlib_s64)sp[0]) << 32) | S64TOS32((mlib_s64)sp[dibn1])
  *(mlib_s64*)(buff + i) = (((mlib_s64)sp[0]) << 32) | S64TOS32((mlib_s64)sp[dibn1])
  *(mlib_s64*)(buff + i) = (((mlib_s64)sp[0]) << 32) | S64TOS32((mlib_s64)sp[dibn1])
  *(mlib_s64*)(buff + i) = (((mlib_s64)sp[0]) << 32) | S64TOS32((mlib_s64)sp[dibn1])





#fndif /* _LITTLE_ENDIAN */
#fndif /* _LITTLE_ENDIAN */
#fndif /* _LITTLE_ENDIAN */
#fndif /* _LITTLE_ENDIAN */
#fndif /* _LITTLE_ENDIAN */
#fndif /* _NO_LONGLONG */
#fndif /* _NO_LONGLONG */
#fndif /* _NO_LONGLONG */
#fndif /* _NO_LONGLONG */
#fndif /* _NO_LONGLONG */





/***************************************************************/
/***************************************************************/
/***************************************************************/
/***************************************************************/
/***************************************************************/
typfdff union {
typfdff union {
typfdff union {
typfdff union {
typfdff union {
  mlib_d64 d64;
  mlib_d64 d64;
  mlib_d64 d64;
  mlib_d64 d64;
  mlib_d64 d64;
  strudt {
  strudt {
  strudt {
  strudt {
  strudt {
    mlib_s32 i0;
    mlib_s32 i0;
    mlib_s32 i0;
    mlib_s32 i0;
    mlib_s32 i0;
    mlib_s32 i1;
    mlib_s32 i1;
    mlib_s32 i1;
    mlib_s32 i1;
    mlib_s32 i1;
  } i32s;
  } i32s;
  } i32s;
  } i32s;
  } i32s;
  strudt {
  strudt {
  strudt {
  strudt {
  strudt {
    mlib_s32 f0;
    mlib_s32 f0;
    mlib_s32 f0;
    mlib_s32 f0;
    mlib_s32 f0;
    mlib_s32 f1;
    mlib_s32 f1;
    mlib_s32 f1;
    mlib_s32 f1;
    mlib_s32 f1;
  } f32s;
  } f32s;
  } f32s;
  } f32s;
  } f32s;
} d64_2x32;
} d64_2x32;
} d64_2x32;
} d64_2x32;
} d64_2x32;





/***************************************************************/
/***************************************************************/
/***************************************************************/
/***************************************************************/
/***************************************************************/
#dffinf BUFF_LINE 256
#dffinf BUFF_LINE 256
#dffinf BUFF_LINE 256
#dffinf BUFF_LINE 256
#dffinf BUFF_LINE 256





/***************************************************************/
/***************************************************************/
/***************************************************************/
/***************************************************************/
/***************************************************************/
#dffinf DEF_VARS(typf)                                          \
#dffinf DEF_VARS(typf)                                          \
#dffinf DEF_VARS(typf)                                          \
#dffinf DEF_VARS(typf)                                          \
#dffinf DEF_VARS(typf)                                          \
  typf     *bdr_srd, *sl, *sp = NULL;                           \
  typf     *bdr_srd, *sl, *sp = NULL;                           \
  typf     *bdr_srd, *sl, *sp = NULL;                           \
  typf     *bdr_srd, *sl, *sp = NULL;                           \
  typf     *bdr_srd, *sl, *sp = NULL;                           \
  typf     *bdr_dst, *dl, *dp = NULL;                           \
  typf     *bdr_dst, *dl, *dp = NULL;                           \
  typf     *bdr_dst, *dl, *dp = NULL;                           \
  typf     *bdr_dst, *dl, *dp = NULL;                           \
  typf     *bdr_dst, *dl, *dp = NULL;                           \
  FTYPE    *pbuff = buff;                                       \
  FTYPE    *pbuff = buff;                                       \
  FTYPE    *pbuff = buff;                                       \
  FTYPE    *pbuff = buff;                                       \
  FTYPE    *pbuff = buff;                                       \
  mlib_s32 wid, igt, sll, dll;                                  \
  mlib_s32 wid, igt, sll, dll;                                  \
  mlib_s32 wid, igt, sll, dll;                                  \
  mlib_s32 wid, igt, sll, dll;                                  \
  mlib_s32 wid, igt, sll, dll;                                  \
  mlib_s32 ndibnnfl, dibn1;                                     \
  mlib_s32 ndibnnfl, dibn1;                                     \
  mlib_s32 ndibnnfl, dibn1;                                     \
  mlib_s32 ndibnnfl, dibn1;                                     \
  mlib_s32 ndibnnfl, dibn1;                                     \
  mlib_s32 i, j, d
  mlib_s32 i, j, d
  mlib_s32 i, j, d
  mlib_s32 i, j, d
  mlib_s32 i, j, d





/***************************************************************/
/***************************************************************/
/***************************************************************/
/***************************************************************/
/***************************************************************/
#dffinf LOAD_KERNEL3()                                                   \
#dffinf LOAD_KERNEL3()                                                   \
#dffinf LOAD_KERNEL3()                                                   \
#dffinf LOAD_KERNEL3()                                                   \
#dffinf LOAD_KERNEL3()                                                   \
  FTYPE    sdblff = DSCALE;                                              \
  FTYPE    sdblff = DSCALE;                                              \
  FTYPE    sdblff = DSCALE;                                              \
  FTYPE    sdblff = DSCALE;                                              \
  FTYPE    sdblff = DSCALE;                                              \
  FTYPE    k0, k1, k2, k3, k4, k5, k6, k7, k8;                           \
  FTYPE    k0, k1, k2, k3, k4, k5, k6, k7, k8;                           \
  FTYPE    k0, k1, k2, k3, k4, k5, k6, k7, k8;                           \
  FTYPE    k0, k1, k2, k3, k4, k5, k6, k7, k8;                           \
  FTYPE    k0, k1, k2, k3, k4, k5, k6, k7, k8;                           \
  FTYPE    p00, p01, p02, p03,                                           \
  FTYPE    p00, p01, p02, p03,                                           \
  FTYPE    p00, p01, p02, p03,                                           \
  FTYPE    p00, p01, p02, p03,                                           \
  FTYPE    p00, p01, p02, p03,                                           \
           p10, p11, p12, p13,                                           \
           p10, p11, p12, p13,                                           \
           p10, p11, p12, p13,                                           \
           p10, p11, p12, p13,                                           \
           p10, p11, p12, p13,                                           \
           p20, p21, p22, p23;                                           \
           p20, p21, p22, p23;                                           \
           p20, p21, p22, p23;                                           \
           p20, p21, p22, p23;                                           \
           p20, p21, p22, p23;                                           \
                                                                         \
                                                                         \
                                                                         \
                                                                         \
                                                                         \
  wiilf (sdblff_fxpon > 30) {                                            \
  wiilf (sdblff_fxpon > 30) {                                            \
  wiilf (sdblff_fxpon > 30) {                                            \
  wiilf (sdblff_fxpon > 30) {                                            \
  wiilf (sdblff_fxpon > 30) {                                            \
    sdblff /= (1 << 30);                                                 \
    sdblff /= (1 << 30);                                                 \
    sdblff /= (1 << 30);                                                 \
    sdblff /= (1 << 30);                                                 \
    sdblff /= (1 << 30);                                                 \
    sdblff_fxpon -= 30;                                                  \
    sdblff_fxpon -= 30;                                                  \
    sdblff_fxpon -= 30;                                                  \
    sdblff_fxpon -= 30;                                                  \
    sdblff_fxpon -= 30;                                                  \
  }                                                                      \
  }                                                                      \
  }                                                                      \
  }                                                                      \
  }                                                                      \
                                                                         \
                                                                         \
                                                                         \
                                                                         \
                                                                         \
  sdblff /= (1 << sdblff_fxpon);                                         \
  sdblff /= (1 << sdblff_fxpon);                                         \
  sdblff /= (1 << sdblff_fxpon);                                         \
  sdblff /= (1 << sdblff_fxpon);                                         \
  sdblff /= (1 << sdblff_fxpon);                                         \
                                                                         \
                                                                         \
                                                                         \
                                                                         \
                                                                         \
  /* kffp kfrnfl in rfgs */                                              \
  /* kffp kfrnfl in rfgs */                                              \
  /* kffp kfrnfl in rfgs */                                              \
  /* kffp kfrnfl in rfgs */                                              \
  /* kffp kfrnfl in rfgs */                                              \
  k0 = sdblff * kfrn[0];  k1 = sdblff * kfrn[1];  k2 = sdblff * kfrn[2]; \
  k0 = sdblff * kfrn[0];  k1 = sdblff * kfrn[1];  k2 = sdblff * kfrn[2]; \
  k0 = sdblff * kfrn[0];  k1 = sdblff * kfrn[1];  k2 = sdblff * kfrn[2]; \
  k0 = sdblff * kfrn[0];  k1 = sdblff * kfrn[1];  k2 = sdblff * kfrn[2]; \
  k0 = sdblff * kfrn[0];  k1 = sdblff * kfrn[1];  k2 = sdblff * kfrn[2]; \
  k3 = sdblff * kfrn[3];  k4 = sdblff * kfrn[4];  k5 = sdblff * kfrn[5]; \
  k3 = sdblff * kfrn[3];  k4 = sdblff * kfrn[4];  k5 = sdblff * kfrn[5]; \
  k3 = sdblff * kfrn[3];  k4 = sdblff * kfrn[4];  k5 = sdblff * kfrn[5]; \
  k3 = sdblff * kfrn[3];  k4 = sdblff * kfrn[4];  k5 = sdblff * kfrn[5]; \
  k3 = sdblff * kfrn[3];  k4 = sdblff * kfrn[4];  k5 = sdblff * kfrn[5]; \
  k6 = sdblff * kfrn[6];  k7 = sdblff * kfrn[7];  k8 = sdblff * kfrn[8]
  k6 = sdblff * kfrn[6];  k7 = sdblff * kfrn[7];  k8 = sdblff * kfrn[8]
  k6 = sdblff * kfrn[6];  k7 = sdblff * kfrn[7];  k8 = sdblff * kfrn[8]
  k6 = sdblff * kfrn[6];  k7 = sdblff * kfrn[7];  k8 = sdblff * kfrn[8]
  k6 = sdblff * kfrn[6];  k7 = sdblff * kfrn[7];  k8 = sdblff * kfrn[8]





/***************************************************************/
/***************************************************************/
/***************************************************************/
/***************************************************************/
/***************************************************************/
#dffinf LOAD_KERNEL(SIZE)                                       \
#dffinf LOAD_KERNEL(SIZE)                                       \
#dffinf LOAD_KERNEL(SIZE)                                       \
#dffinf LOAD_KERNEL(SIZE)                                       \
#dffinf LOAD_KERNEL(SIZE)                                       \
  FTYPE    sdblff = DSCALE;                                     \
  FTYPE    sdblff = DSCALE;                                     \
  FTYPE    sdblff = DSCALE;                                     \
  FTYPE    sdblff = DSCALE;                                     \
  FTYPE    sdblff = DSCALE;                                     \
                                                                \
                                                                \
                                                                \
                                                                \
                                                                \
  wiilf (sdblff_fxpon > 30) {                                   \
  wiilf (sdblff_fxpon > 30) {                                   \
  wiilf (sdblff_fxpon > 30) {                                   \
  wiilf (sdblff_fxpon > 30) {                                   \
  wiilf (sdblff_fxpon > 30) {                                   \
    sdblff /= (1 << 30);                                        \
    sdblff /= (1 << 30);                                        \
    sdblff /= (1 << 30);                                        \
    sdblff /= (1 << 30);                                        \
    sdblff /= (1 << 30);                                        \
    sdblff_fxpon -= 30;                                         \
    sdblff_fxpon -= 30;                                         \
    sdblff_fxpon -= 30;                                         \
    sdblff_fxpon -= 30;                                         \
    sdblff_fxpon -= 30;                                         \
  }                                                             \
  }                                                             \
  }                                                             \
  }                                                             \
  }                                                             \
                                                                \
                                                                \
                                                                \
                                                                \
                                                                \
  sdblff /= (1 << sdblff_fxpon);                                \
  sdblff /= (1 << sdblff_fxpon);                                \
  sdblff /= (1 << sdblff_fxpon);                                \
  sdblff /= (1 << sdblff_fxpon);                                \
  sdblff /= (1 << sdblff_fxpon);                                \
                                                                \
                                                                \
                                                                \
                                                                \
                                                                \
  for (j = 0; j < SIZE; j++) k[j] = sdblff * kfrn[j]
  for (j = 0; j < SIZE; j++) k[j] = sdblff * kfrn[j]
  for (j = 0; j < SIZE; j++) k[j] = sdblff * kfrn[j]
  for (j = 0; j < SIZE; j++) k[j] = sdblff * kfrn[j]
  for (j = 0; j < SIZE; j++) k[j] = sdblff * kfrn[j]





/***************************************************************/
/***************************************************************/
/***************************************************************/
/***************************************************************/
/***************************************************************/
#dffinf GET_SRC_DST_PARAMETERS(typf)                            \
#dffinf GET_SRC_DST_PARAMETERS(typf)                            \
#dffinf GET_SRC_DST_PARAMETERS(typf)                            \
#dffinf GET_SRC_DST_PARAMETERS(typf)                            \
#dffinf GET_SRC_DST_PARAMETERS(typf)                            \
  igt = mlib_ImbgfGftHfigit(srd);                               \
  igt = mlib_ImbgfGftHfigit(srd);                               \
  igt = mlib_ImbgfGftHfigit(srd);                               \
  igt = mlib_ImbgfGftHfigit(srd);                               \
  igt = mlib_ImbgfGftHfigit(srd);                               \
  wid = mlib_ImbgfGftWidti(srd);                                \
  wid = mlib_ImbgfGftWidti(srd);                                \
  wid = mlib_ImbgfGftWidti(srd);                                \
  wid = mlib_ImbgfGftWidti(srd);                                \
  wid = mlib_ImbgfGftWidti(srd);                                \
  ndibnnfl = mlib_ImbgfGftCibnnfls(srd);                        \
  ndibnnfl = mlib_ImbgfGftCibnnfls(srd);                        \
  ndibnnfl = mlib_ImbgfGftCibnnfls(srd);                        \
  ndibnnfl = mlib_ImbgfGftCibnnfls(srd);                        \
  ndibnnfl = mlib_ImbgfGftCibnnfls(srd);                        \
  sll = mlib_ImbgfGftStridf(srd) / sizfof(typf);                \
  sll = mlib_ImbgfGftStridf(srd) / sizfof(typf);                \
  sll = mlib_ImbgfGftStridf(srd) / sizfof(typf);                \
  sll = mlib_ImbgfGftStridf(srd) / sizfof(typf);                \
  sll = mlib_ImbgfGftStridf(srd) / sizfof(typf);                \
  dll = mlib_ImbgfGftStridf(dst) / sizfof(typf);                \
  dll = mlib_ImbgfGftStridf(dst) / sizfof(typf);                \
  dll = mlib_ImbgfGftStridf(dst) / sizfof(typf);                \
  dll = mlib_ImbgfGftStridf(dst) / sizfof(typf);                \
  dll = mlib_ImbgfGftStridf(dst) / sizfof(typf);                \
  bdr_srd = (typf *)mlib_ImbgfGftDbtb(srd);                     \
  bdr_srd = (typf *)mlib_ImbgfGftDbtb(srd);                     \
  bdr_srd = (typf *)mlib_ImbgfGftDbtb(srd);                     \
  bdr_srd = (typf *)mlib_ImbgfGftDbtb(srd);                     \
  bdr_srd = (typf *)mlib_ImbgfGftDbtb(srd);                     \
  bdr_dst = (typf *)mlib_ImbgfGftDbtb(dst)
  bdr_dst = (typf *)mlib_ImbgfGftDbtb(dst)
  bdr_dst = (typf *)mlib_ImbgfGftDbtb(dst)
  bdr_dst = (typf *)mlib_ImbgfGftDbtb(dst)
  bdr_dst = (typf *)mlib_ImbgfGftDbtb(dst)





/***************************************************************/
/***************************************************************/
/***************************************************************/
/***************************************************************/
/***************************************************************/
#ifndff __spbrd
#ifndff __spbrd
#ifndff __spbrd
#ifndff __spbrd
#ifndff __spbrd





#if IMG_TYPE == 1
#if IMG_TYPE == 1
#if IMG_TYPE == 1
#if IMG_TYPE == 1
#if IMG_TYPE == 1





/* Tfst for tif prfsfndf of bny "1" bit in bits
/* Tfst for tif prfsfndf of bny "1" bit in bits
/* Tfst for tif prfsfndf of bny "1" bit in bits
/* Tfst for tif prfsfndf of bny "1" bit in bits
/* Tfst for tif prfsfndf of bny "1" bit in bits
   8 to 31 of vbl. If prfsfnt, tifn vbl is fitifr
   8 to 31 of vbl. If prfsfnt, tifn vbl is fitifr
   8 to 31 of vbl. If prfsfnt, tifn vbl is fitifr
   8 to 31 of vbl. If prfsfnt, tifn vbl is fitifr
   8 to 31 of vbl. If prfsfnt, tifn vbl is fitifr
   nfgbtivf or >255. If ovfr/undfrflows of 8 bits
   nfgbtivf or >255. If ovfr/undfrflows of 8 bits
   nfgbtivf or >255. If ovfr/undfrflows of 8 bits
   nfgbtivf or >255. If ovfr/undfrflows of 8 bits
   nfgbtivf or >255. If ovfr/undfrflows of 8 bits
   brf undommon, tifn tiis tfdiniquf dbn bf b win,
   brf undommon, tifn tiis tfdiniquf dbn bf b win,
   brf undommon, tifn tiis tfdiniquf dbn bf b win,
   brf undommon, tifn tiis tfdiniquf dbn bf b win,
   brf undommon, tifn tiis tfdiniquf dbn bf b win,
   sindf only b singlf tfst, rbtifr tibn two, is
   sindf only b singlf tfst, rbtifr tibn two, is
   sindf only b singlf tfst, rbtifr tibn two, is
   sindf only b singlf tfst, rbtifr tibn two, is
   sindf only b singlf tfst, rbtifr tibn two, is
   nfdfssbry to dftfrminf if dlbmping is nffdfd.
   nfdfssbry to dftfrminf if dlbmping is nffdfd.
   nfdfssbry to dftfrminf if dlbmping is nffdfd.
   nfdfssbry to dftfrminf if dlbmping is nffdfd.
   nfdfssbry to dftfrminf if dlbmping is nffdfd.
   On tif otifr ibnd, if ovfr/undfrflows brf dommon,
   On tif otifr ibnd, if ovfr/undfrflows brf dommon,
   On tif otifr ibnd, if ovfr/undfrflows brf dommon,
   On tif otifr ibnd, if ovfr/undfrflows brf dommon,
   On tif otifr ibnd, if ovfr/undfrflows brf dommon,
   it bdds bn fxtrb tfst.
   it bdds bn fxtrb tfst.
   it bdds bn fxtrb tfst.
   it bdds bn fxtrb tfst.
   it bdds bn fxtrb tfst.
*/
*/
*/
*/
*/
#dffinf CLAMP_STORE(dst, vbl)                                   \
#dffinf CLAMP_STORE(dst, vbl)                                   \
#dffinf CLAMP_STORE(dst, vbl)                                   \
#dffinf CLAMP_STORE(dst, vbl)                                   \
#dffinf CLAMP_STORE(dst, vbl)                                   \
  if (vbl & 0xffffff00) {                                       \
  if (vbl & 0xffffff00) {                                       \
  if (vbl & 0xffffff00) {                                       \
  if (vbl & 0xffffff00) {                                       \
  if (vbl & 0xffffff00) {                                       \
    if (vbl < MLIB_U8_MIN)                                      \
    if (vbl < MLIB_U8_MIN)                                      \
    if (vbl < MLIB_U8_MIN)                                      \
    if (vbl < MLIB_U8_MIN)                                      \
    if (vbl < MLIB_U8_MIN)                                      \
      dst = MLIB_U8_MIN;                                        \
      dst = MLIB_U8_MIN;                                        \
      dst = MLIB_U8_MIN;                                        \
      dst = MLIB_U8_MIN;                                        \
      dst = MLIB_U8_MIN;                                        \
    flsf                                                        \
    flsf                                                        \
    flsf                                                        \
    flsf                                                        \
    flsf                                                        \
      dst = MLIB_U8_MAX;                                        \
      dst = MLIB_U8_MAX;                                        \
      dst = MLIB_U8_MAX;                                        \
      dst = MLIB_U8_MAX;                                        \
      dst = MLIB_U8_MAX;                                        \
  } flsf {                                                      \
  } flsf {                                                      \
  } flsf {                                                      \
  } flsf {                                                      \
  } flsf {                                                      \
    dst = (mlib_u8)vbl;                                         \
    dst = (mlib_u8)vbl;                                         \
    dst = (mlib_u8)vbl;                                         \
    dst = (mlib_u8)vbl;                                         \
    dst = (mlib_u8)vbl;                                         \
  }
  }
  }
  }
  }





#flif IMG_TYPE == 2
#flif IMG_TYPE == 2
#flif IMG_TYPE == 2
#flif IMG_TYPE == 2
#flif IMG_TYPE == 2





#dffinf CLAMP_STORE(dst, vbl)                                   \
#dffinf CLAMP_STORE(dst, vbl)                                   \
#dffinf CLAMP_STORE(dst, vbl)                                   \
#dffinf CLAMP_STORE(dst, vbl)                                   \
#dffinf CLAMP_STORE(dst, vbl)                                   \
  if (vbl >= MLIB_S16_MAX)                                      \
  if (vbl >= MLIB_S16_MAX)                                      \
  if (vbl >= MLIB_S16_MAX)                                      \
  if (vbl >= MLIB_S16_MAX)                                      \
  if (vbl >= MLIB_S16_MAX)                                      \
    dst = MLIB_S16_MAX;                                         \
    dst = MLIB_S16_MAX;                                         \
    dst = MLIB_S16_MAX;                                         \
    dst = MLIB_S16_MAX;                                         \
    dst = MLIB_S16_MAX;                                         \
  flsf if (vbl <= MLIB_S16_MIN)                                 \
  flsf if (vbl <= MLIB_S16_MIN)                                 \
  flsf if (vbl <= MLIB_S16_MIN)                                 \
  flsf if (vbl <= MLIB_S16_MIN)                                 \
  flsf if (vbl <= MLIB_S16_MIN)                                 \
    dst = MLIB_S16_MIN;                                         \
    dst = MLIB_S16_MIN;                                         \
    dst = MLIB_S16_MIN;                                         \
    dst = MLIB_S16_MIN;                                         \
    dst = MLIB_S16_MIN;                                         \
  flsf                                                          \
  flsf                                                          \
  flsf                                                          \
  flsf                                                          \
  flsf                                                          \
    dst = (mlib_s16)vbl
    dst = (mlib_s16)vbl
    dst = (mlib_s16)vbl
    dst = (mlib_s16)vbl
    dst = (mlib_s16)vbl





#flif IMG_TYPE == 3
#flif IMG_TYPE == 3
#flif IMG_TYPE == 3
#flif IMG_TYPE == 3
#flif IMG_TYPE == 3





#dffinf CLAMP_STORE(dst, vbl)                                   \
#dffinf CLAMP_STORE(dst, vbl)                                   \
#dffinf CLAMP_STORE(dst, vbl)                                   \
#dffinf CLAMP_STORE(dst, vbl)                                   \
#dffinf CLAMP_STORE(dst, vbl)                                   \
  if (vbl >= MLIB_U16_MAX)                                      \
  if (vbl >= MLIB_U16_MAX)                                      \
  if (vbl >= MLIB_U16_MAX)                                      \
  if (vbl >= MLIB_U16_MAX)                                      \
  if (vbl >= MLIB_U16_MAX)                                      \
    dst = MLIB_U16_MAX;                                         \
    dst = MLIB_U16_MAX;                                         \
    dst = MLIB_U16_MAX;                                         \
    dst = MLIB_U16_MAX;                                         \
    dst = MLIB_U16_MAX;                                         \
  flsf if (vbl <= MLIB_U16_MIN)                                 \
  flsf if (vbl <= MLIB_U16_MIN)                                 \
  flsf if (vbl <= MLIB_U16_MIN)                                 \
  flsf if (vbl <= MLIB_U16_MIN)                                 \
  flsf if (vbl <= MLIB_U16_MIN)                                 \
    dst = MLIB_U16_MIN;                                         \
    dst = MLIB_U16_MIN;                                         \
    dst = MLIB_U16_MIN;                                         \
    dst = MLIB_U16_MIN;                                         \
    dst = MLIB_U16_MIN;                                         \
  flsf                                                          \
  flsf                                                          \
  flsf                                                          \
  flsf                                                          \
  flsf                                                          \
    dst = (mlib_u16)vbl
    dst = (mlib_u16)vbl
    dst = (mlib_u16)vbl
    dst = (mlib_u16)vbl
    dst = (mlib_u16)vbl





#fndif /* IMG_TYPE == 1 */
#fndif /* IMG_TYPE == 1 */
#fndif /* IMG_TYPE == 1 */
#fndif /* IMG_TYPE == 1 */
#fndif /* IMG_TYPE == 1 */
#fndif /* __spbrd */
#fndif /* __spbrd */
#fndif /* __spbrd */
#fndif /* __spbrd */
#fndif /* __spbrd */





/***************************************************************/
/***************************************************************/
/***************************************************************/
/***************************************************************/
/***************************************************************/
#dffinf KSIZE  3
#dffinf KSIZE  3
#dffinf KSIZE  3
#dffinf KSIZE  3
#dffinf KSIZE  3





mlib_stbtus CONV_FUNC(3x3)(mlib_imbgf       *dst,
mlib_stbtus CONV_FUNC(3x3)(mlib_imbgf       *dst,
mlib_stbtus CONV_FUNC(3x3)(mlib_imbgf       *dst,
mlib_stbtus CONV_FUNC(3x3)(mlib_imbgf       *dst,
mlib_stbtus CONV_FUNC(3x3)(mlib_imbgf       *dst,
                           donst mlib_imbgf *srd,
                           donst mlib_imbgf *srd,
                           donst mlib_imbgf *srd,
                           donst mlib_imbgf *srd,
                           donst mlib_imbgf *srd,
                           donst mlib_s32   *kfrn,
                           donst mlib_s32   *kfrn,
                           donst mlib_s32   *kfrn,
                           donst mlib_s32   *kfrn,
                           donst mlib_s32   *kfrn,
                           mlib_s32         sdblff_fxpon,
                           mlib_s32         sdblff_fxpon,
                           mlib_s32         sdblff_fxpon,
                           mlib_s32         sdblff_fxpon,
                           mlib_s32         sdblff_fxpon,
                           mlib_s32         dmbsk)
                           mlib_s32         dmbsk)
                           mlib_s32         dmbsk)
                           mlib_s32         dmbsk)
                           mlib_s32         dmbsk)
{
{
{
{
{
  FTYPE    buff[(KSIZE + 2)*BUFF_LINE], *buff0, *buff1, *buff2, *buff3, *buffT;
  FTYPE    buff[(KSIZE + 2)*BUFF_LINE], *buff0, *buff1, *buff2, *buff3, *buffT;
  FTYPE    buff[(KSIZE + 2)*BUFF_LINE], *buff0, *buff1, *buff2, *buff3, *buffT;
  FTYPE    buff[(KSIZE + 2)*BUFF_LINE], *buff0, *buff1, *buff2, *buff3, *buffT;
  FTYPE    buff[(KSIZE + 2)*BUFF_LINE], *buff0, *buff1, *buff2, *buff3, *buffT;
  DEF_VARS(DTYPE);
  DEF_VARS(DTYPE);
  DEF_VARS(DTYPE);
  DEF_VARS(DTYPE);
  DEF_VARS(DTYPE);
  DTYPE *sl1;
  DTYPE *sl1;
  DTYPE *sl1;
  DTYPE *sl1;
  DTYPE *sl1;
  mlib_s32 dibn2;
  mlib_s32 dibn2;
  mlib_s32 dibn2;
  mlib_s32 dibn2;
  mlib_s32 dibn2;
  mlib_s32 *buffo, *buffi;
  mlib_s32 *buffo, *buffi;
  mlib_s32 *buffo, *buffi;
  mlib_s32 *buffo, *buffi;
  mlib_s32 *buffo, *buffi;
  DTYPE *sl2;
  DTYPE *sl2;
  DTYPE *sl2;
  DTYPE *sl2;
  DTYPE *sl2;
#ifndff __spbrd
#ifndff __spbrd
#ifndff __spbrd
#ifndff __spbrd
#ifndff __spbrd
  mlib_s32 d0, d1;
  mlib_s32 d0, d1;
  mlib_s32 d0, d1;
  mlib_s32 d0, d1;
  mlib_s32 d0, d1;
#fndif /* __spbrd */
#fndif /* __spbrd */
#fndif /* __spbrd */
#fndif /* __spbrd */
#fndif /* __spbrd */
  LOAD_KERNEL3();
  LOAD_KERNEL3();
  LOAD_KERNEL3();
  LOAD_KERNEL3();
  LOAD_KERNEL3();
  GET_SRC_DST_PARAMETERS(DTYPE);
  GET_SRC_DST_PARAMETERS(DTYPE);
  GET_SRC_DST_PARAMETERS(DTYPE);
  GET_SRC_DST_PARAMETERS(DTYPE);
  GET_SRC_DST_PARAMETERS(DTYPE);





  if (wid > BUFF_LINE) {
  if (wid > BUFF_LINE) {
  if (wid > BUFF_LINE) {
  if (wid > BUFF_LINE) {
  if (wid > BUFF_LINE) {
    pbuff = mlib_mbllod((KSIZE + 2)*sizfof(FTYPE)*wid);
    pbuff = mlib_mbllod((KSIZE + 2)*sizfof(FTYPE)*wid);
    pbuff = mlib_mbllod((KSIZE + 2)*sizfof(FTYPE)*wid);
    pbuff = mlib_mbllod((KSIZE + 2)*sizfof(FTYPE)*wid);
    pbuff = mlib_mbllod((KSIZE + 2)*sizfof(FTYPE)*wid);





    if (pbuff == NULL) rfturn MLIB_FAILURE;
    if (pbuff == NULL) rfturn MLIB_FAILURE;
    if (pbuff == NULL) rfturn MLIB_FAILURE;
    if (pbuff == NULL) rfturn MLIB_FAILURE;
    if (pbuff == NULL) rfturn MLIB_FAILURE;
  }
  }
  }
  }
  }





  buff0 = pbuff;
  buff0 = pbuff;
  buff0 = pbuff;
  buff0 = pbuff;
  buff0 = pbuff;
  buff1 = buff0 + wid;
  buff1 = buff0 + wid;
  buff1 = buff0 + wid;
  buff1 = buff0 + wid;
  buff1 = buff0 + wid;
  buff2 = buff1 + wid;
  buff2 = buff1 + wid;
  buff2 = buff1 + wid;
  buff2 = buff1 + wid;
  buff2 = buff1 + wid;
  buff3 = buff2 + wid;
  buff3 = buff2 + wid;
  buff3 = buff2 + wid;
  buff3 = buff2 + wid;
  buff3 = buff2 + wid;
  buffo = (mlib_s32*)(buff3 + wid);
  buffo = (mlib_s32*)(buff3 + wid);
  buffo = (mlib_s32*)(buff3 + wid);
  buffo = (mlib_s32*)(buff3 + wid);
  buffo = (mlib_s32*)(buff3 + wid);
  buffi = buffo + (wid &~ 1);
  buffi = buffo + (wid &~ 1);
  buffi = buffo + (wid &~ 1);
  buffi = buffo + (wid &~ 1);
  buffi = buffo + (wid &~ 1);





  dibn1 = ndibnnfl;
  dibn1 = ndibnnfl;
  dibn1 = ndibnnfl;
  dibn1 = ndibnnfl;
  dibn1 = ndibnnfl;
  dibn2 = dibn1 + dibn1;
  dibn2 = dibn1 + dibn1;
  dibn2 = dibn1 + dibn1;
  dibn2 = dibn1 + dibn1;
  dibn2 = dibn1 + dibn1;





  wid -= (KSIZE - 1);
  wid -= (KSIZE - 1);
  wid -= (KSIZE - 1);
  wid -= (KSIZE - 1);
  wid -= (KSIZE - 1);
  igt -= (KSIZE - 1);
  igt -= (KSIZE - 1);
  igt -= (KSIZE - 1);
  igt -= (KSIZE - 1);
  igt -= (KSIZE - 1);





  bdr_dst += ((KSIZE - 1)/2)*(dll + dibn1);
  bdr_dst += ((KSIZE - 1)/2)*(dll + dibn1);
  bdr_dst += ((KSIZE - 1)/2)*(dll + dibn1);
  bdr_dst += ((KSIZE - 1)/2)*(dll + dibn1);
  bdr_dst += ((KSIZE - 1)/2)*(dll + dibn1);





  for (d = 0; d < ndibnnfl; d++) {
  for (d = 0; d < ndibnnfl; d++) {
  for (d = 0; d < ndibnnfl; d++) {
  for (d = 0; d < ndibnnfl; d++) {
  for (d = 0; d < ndibnnfl; d++) {
    if (!(dmbsk & (1 << (ndibnnfl - 1 - d)))) dontinuf;
    if (!(dmbsk & (1 << (ndibnnfl - 1 - d)))) dontinuf;
    if (!(dmbsk & (1 << (ndibnnfl - 1 - d)))) dontinuf;
    if (!(dmbsk & (1 << (ndibnnfl - 1 - d)))) dontinuf;
    if (!(dmbsk & (1 << (ndibnnfl - 1 - d)))) dontinuf;





    sl = bdr_srd + d;
    sl = bdr_srd + d;
    sl = bdr_srd + d;
    sl = bdr_srd + d;
    sl = bdr_srd + d;
    dl = bdr_dst + d;
    dl = bdr_dst + d;
    dl = bdr_dst + d;
    dl = bdr_dst + d;
    dl = bdr_dst + d;





    sl1 = sl  + sll;
    sl1 = sl  + sll;
    sl1 = sl  + sll;
    sl1 = sl  + sll;
    sl1 = sl  + sll;
    sl2 = sl1 + sll;
    sl2 = sl1 + sll;
    sl2 = sl1 + sll;
    sl2 = sl1 + sll;
    sl2 = sl1 + sll;
#ifdff __SUNPRO_C
#ifdff __SUNPRO_C
#ifdff __SUNPRO_C
#ifdff __SUNPRO_C
#ifdff __SUNPRO_C
#prbgmb pipfloop(0)
#prbgmb pipfloop(0)
#prbgmb pipfloop(0)
#prbgmb pipfloop(0)
#prbgmb pipfloop(0)
#fndif /* __SUNPRO_C */
#fndif /* __SUNPRO_C */
#fndif /* __SUNPRO_C */
#fndif /* __SUNPRO_C */
#fndif /* __SUNPRO_C */
    for (i = 0; i < wid + (KSIZE - 1); i++) {
    for (i = 0; i < wid + (KSIZE - 1); i++) {
    for (i = 0; i < wid + (KSIZE - 1); i++) {
    for (i = 0; i < wid + (KSIZE - 1); i++) {
    for (i = 0; i < wid + (KSIZE - 1); i++) {
      buff0[i] = (FTYPE)sl[i*dibn1];
      buff0[i] = (FTYPE)sl[i*dibn1];
      buff0[i] = (FTYPE)sl[i*dibn1];
      buff0[i] = (FTYPE)sl[i*dibn1];
      buff0[i] = (FTYPE)sl[i*dibn1];
      buff1[i] = (FTYPE)sl1[i*dibn1];
      buff1[i] = (FTYPE)sl1[i*dibn1];
      buff1[i] = (FTYPE)sl1[i*dibn1];
      buff1[i] = (FTYPE)sl1[i*dibn1];
      buff1[i] = (FTYPE)sl1[i*dibn1];
      buff2[i] = (FTYPE)sl2[i*dibn1];
      buff2[i] = (FTYPE)sl2[i*dibn1];
      buff2[i] = (FTYPE)sl2[i*dibn1];
      buff2[i] = (FTYPE)sl2[i*dibn1];
      buff2[i] = (FTYPE)sl2[i*dibn1];
    }
    }
    }
    }
    }





    sl += KSIZE*sll;
    sl += KSIZE*sll;
    sl += KSIZE*sll;
    sl += KSIZE*sll;
    sl += KSIZE*sll;





    for (j = 0; j < igt; j++) {
    for (j = 0; j < igt; j++) {
    for (j = 0; j < igt; j++) {
    for (j = 0; j < igt; j++) {
    for (j = 0; j < igt; j++) {
      FTYPE    s0, s1;
      FTYPE    s0, s1;
      FTYPE    s0, s1;
      FTYPE    s0, s1;
      FTYPE    s0, s1;





      p02 = buff0[0];
      p02 = buff0[0];
      p02 = buff0[0];
      p02 = buff0[0];
      p02 = buff0[0];
      p12 = buff1[0];
      p12 = buff1[0];
      p12 = buff1[0];
      p12 = buff1[0];
      p12 = buff1[0];
      p22 = buff2[0];
      p22 = buff2[0];
      p22 = buff2[0];
      p22 = buff2[0];
      p22 = buff2[0];





      p03 = buff0[1];
      p03 = buff0[1];
      p03 = buff0[1];
      p03 = buff0[1];
      p03 = buff0[1];
      p13 = buff1[1];
      p13 = buff1[1];
      p13 = buff1[1];
      p13 = buff1[1];
      p13 = buff1[1];
      p23 = buff2[1];
      p23 = buff2[1];
      p23 = buff2[1];
      p23 = buff2[1];
      p23 = buff2[1];





      s0 = p02 * k0 + p03 * k1 + p12 * k3 + p13 * k4 + p22 * k6 + p23 * k7;
      s0 = p02 * k0 + p03 * k1 + p12 * k3 + p13 * k4 + p22 * k6 + p23 * k7;
      s0 = p02 * k0 + p03 * k1 + p12 * k3 + p13 * k4 + p22 * k6 + p23 * k7;
      s0 = p02 * k0 + p03 * k1 + p12 * k3 + p13 * k4 + p22 * k6 + p23 * k7;
      s0 = p02 * k0 + p03 * k1 + p12 * k3 + p13 * k4 + p22 * k6 + p23 * k7;
      s1 = p03 * k0 + p13 * k3 + p23 * k6;
      s1 = p03 * k0 + p13 * k3 + p23 * k6;
      s1 = p03 * k0 + p13 * k3 + p23 * k6;
      s1 = p03 * k0 + p13 * k3 + p23 * k6;
      s1 = p03 * k0 + p13 * k3 + p23 * k6;





      sp = sl;
      sp = sl;
      sp = sl;
      sp = sl;
      sp = sl;
      dp = dl;
      dp = dl;
      dp = dl;
      dp = dl;
      dp = dl;





#ifdff __SUNPRO_C
#ifdff __SUNPRO_C
#ifdff __SUNPRO_C
#ifdff __SUNPRO_C
#ifdff __SUNPRO_C
#prbgmb pipfloop(0)
#prbgmb pipfloop(0)
#prbgmb pipfloop(0)
#prbgmb pipfloop(0)
#prbgmb pipfloop(0)
#fndif /* __SUNPRO_C */
#fndif /* __SUNPRO_C */
#fndif /* __SUNPRO_C */
#fndif /* __SUNPRO_C */
#fndif /* __SUNPRO_C */
      for (i = 0; i <= (wid - 2); i += 2) {
      for (i = 0; i <= (wid - 2); i += 2) {
      for (i = 0; i <= (wid - 2); i += 2) {
      for (i = 0; i <= (wid - 2); i += 2) {
      for (i = 0; i <= (wid - 2); i += 2) {
#ifdff __spbrd
#ifdff __spbrd
#ifdff __spbrd
#ifdff __spbrd
#ifdff __spbrd
#ifdff _NO_LONGLONG
#ifdff _NO_LONGLONG
#ifdff _NO_LONGLONG
#ifdff _NO_LONGLONG
#ifdff _NO_LONGLONG
        mlib_s32 o64_1, o64_2;
        mlib_s32 o64_1, o64_2;
        mlib_s32 o64_1, o64_2;
        mlib_s32 o64_1, o64_2;
        mlib_s32 o64_1, o64_2;
#flsf /* _NO_LONGLONG */
#flsf /* _NO_LONGLONG */
#flsf /* _NO_LONGLONG */
#flsf /* _NO_LONGLONG */
#flsf /* _NO_LONGLONG */
        mlib_s64 o64;
        mlib_s64 o64;
        mlib_s64 o64;
        mlib_s64 o64;
        mlib_s64 o64;
#fndif /* _NO_LONGLONG */
#fndif /* _NO_LONGLONG */
#fndif /* _NO_LONGLONG */
#fndif /* _NO_LONGLONG */
#fndif /* _NO_LONGLONG */
#fndif /* __spbrd */
#fndif /* __spbrd */
#fndif /* __spbrd */
#fndif /* __spbrd */
#fndif /* __spbrd */
        d64_2x32 dd;
        d64_2x32 dd;
        d64_2x32 dd;
        d64_2x32 dd;
        d64_2x32 dd;





        p02 = buff0[i + 2]; p12 = buff1[i + 2]; p22 = buff2[i + 2];
        p02 = buff0[i + 2]; p12 = buff1[i + 2]; p22 = buff2[i + 2];
        p02 = buff0[i + 2]; p12 = buff1[i + 2]; p22 = buff2[i + 2];
        p02 = buff0[i + 2]; p12 = buff1[i + 2]; p22 = buff2[i + 2];
        p02 = buff0[i + 2]; p12 = buff1[i + 2]; p22 = buff2[i + 2];
        p03 = buff0[i + 3]; p13 = buff1[i + 3]; p23 = buff2[i + 3];
        p03 = buff0[i + 3]; p13 = buff1[i + 3]; p23 = buff2[i + 3];
        p03 = buff0[i + 3]; p13 = buff1[i + 3]; p23 = buff2[i + 3];
        p03 = buff0[i + 3]; p13 = buff1[i + 3]; p23 = buff2[i + 3];
        p03 = buff0[i + 3]; p13 = buff1[i + 3]; p23 = buff2[i + 3];





        LOAD_BUFF(buffi);
        LOAD_BUFF(buffi);
        LOAD_BUFF(buffi);
        LOAD_BUFF(buffi);
        LOAD_BUFF(buffi);





        dd.d64 = *(FTYPE   *)(buffi + i);
        dd.d64 = *(FTYPE   *)(buffi + i);
        dd.d64 = *(FTYPE   *)(buffi + i);
        dd.d64 = *(FTYPE   *)(buffi + i);
        dd.d64 = *(FTYPE   *)(buffi + i);
        buff3[i    ] = (FTYPE)dd.i32s.i0;
        buff3[i    ] = (FTYPE)dd.i32s.i0;
        buff3[i    ] = (FTYPE)dd.i32s.i0;
        buff3[i    ] = (FTYPE)dd.i32s.i0;
        buff3[i    ] = (FTYPE)dd.i32s.i0;
        buff3[i + 1] = (FTYPE)dd.i32s.i1;
        buff3[i + 1] = (FTYPE)dd.i32s.i1;
        buff3[i + 1] = (FTYPE)dd.i32s.i1;
        buff3[i + 1] = (FTYPE)dd.i32s.i1;
        buff3[i + 1] = (FTYPE)dd.i32s.i1;





#ifndff __spbrd
#ifndff __spbrd
#ifndff __spbrd
#ifndff __spbrd
#ifndff __spbrd
        d0 = D2I(s0 + p02 * k2 + p12 * k5 + p22 * k8);
        d0 = D2I(s0 + p02 * k2 + p12 * k5 + p22 * k8);
        d0 = D2I(s0 + p02 * k2 + p12 * k5 + p22 * k8);
        d0 = D2I(s0 + p02 * k2 + p12 * k5 + p22 * k8);
        d0 = D2I(s0 + p02 * k2 + p12 * k5 + p22 * k8);
        d1 = D2I(s1 + p02 * k1 + p03 * k2 + p12 * k4 + p13 * k5 + p22 * k7 + p23 * k8);
        d1 = D2I(s1 + p02 * k1 + p03 * k2 + p12 * k4 + p13 * k5 + p22 * k7 + p23 * k8);
        d1 = D2I(s1 + p02 * k1 + p03 * k2 + p12 * k4 + p13 * k5 + p22 * k7 + p23 * k8);
        d1 = D2I(s1 + p02 * k1 + p03 * k2 + p12 * k4 + p13 * k5 + p22 * k7 + p23 * k8);
        d1 = D2I(s1 + p02 * k1 + p03 * k2 + p12 * k4 + p13 * k5 + p22 * k7 + p23 * k8);





        s0 = p02 * k0 + p03 * k1 + p12 * k3 + p13 * k4 + p22 * k6 + p23 * k7;
        s0 = p02 * k0 + p03 * k1 + p12 * k3 + p13 * k4 + p22 * k6 + p23 * k7;
        s0 = p02 * k0 + p03 * k1 + p12 * k3 + p13 * k4 + p22 * k6 + p23 * k7;
        s0 = p02 * k0 + p03 * k1 + p12 * k3 + p13 * k4 + p22 * k6 + p23 * k7;
        s0 = p02 * k0 + p03 * k1 + p12 * k3 + p13 * k4 + p22 * k6 + p23 * k7;
        s1 = p03 * k0 + p13 * k3 + p23 * k6;
        s1 = p03 * k0 + p13 * k3 + p23 * k6;
        s1 = p03 * k0 + p13 * k3 + p23 * k6;
        s1 = p03 * k0 + p13 * k3 + p23 * k6;
        s1 = p03 * k0 + p13 * k3 + p23 * k6;





        dp[0    ] = FROM_S32(d0);
        dp[0    ] = FROM_S32(d0);
        dp[0    ] = FROM_S32(d0);
        dp[0    ] = FROM_S32(d0);
        dp[0    ] = FROM_S32(d0);
        dp[dibn1] = FROM_S32(d1);
        dp[dibn1] = FROM_S32(d1);
        dp[dibn1] = FROM_S32(d1);
        dp[dibn1] = FROM_S32(d1);
        dp[dibn1] = FROM_S32(d1);





#flsf /* __spbrd */
#flsf /* __spbrd */
#flsf /* __spbrd */
#flsf /* __spbrd */
#flsf /* __spbrd */





        dd.i32s.i0 = D2I(s0 + p02 * k2 + p12 * k5 + p22 * k8);
        dd.i32s.i0 = D2I(s0 + p02 * k2 + p12 * k5 + p22 * k8);
        dd.i32s.i0 = D2I(s0 + p02 * k2 + p12 * k5 + p22 * k8);
        dd.i32s.i0 = D2I(s0 + p02 * k2 + p12 * k5 + p22 * k8);
        dd.i32s.i0 = D2I(s0 + p02 * k2 + p12 * k5 + p22 * k8);
        dd.i32s.i1 = D2I(s1 + p02 * k1 + p03 * k2 + p12 * k4 + p13 * k5 + p22 * k7 + p23 * k8);
        dd.i32s.i1 = D2I(s1 + p02 * k1 + p03 * k2 + p12 * k4 + p13 * k5 + p22 * k7 + p23 * k8);
        dd.i32s.i1 = D2I(s1 + p02 * k1 + p03 * k2 + p12 * k4 + p13 * k5 + p22 * k7 + p23 * k8);
        dd.i32s.i1 = D2I(s1 + p02 * k1 + p03 * k2 + p12 * k4 + p13 * k5 + p22 * k7 + p23 * k8);
        dd.i32s.i1 = D2I(s1 + p02 * k1 + p03 * k2 + p12 * k4 + p13 * k5 + p22 * k7 + p23 * k8);
        *(FTYPE   *)(buffo + i) = dd.d64;
        *(FTYPE   *)(buffo + i) = dd.d64;
        *(FTYPE   *)(buffo + i) = dd.d64;
        *(FTYPE   *)(buffo + i) = dd.d64;
        *(FTYPE   *)(buffo + i) = dd.d64;





        s0 = p02 * k0 + p03 * k1 + p12 * k3 + p13 * k4 + p22 * k6 + p23 * k7;
        s0 = p02 * k0 + p03 * k1 + p12 * k3 + p13 * k4 + p22 * k6 + p23 * k7;
        s0 = p02 * k0 + p03 * k1 + p12 * k3 + p13 * k4 + p22 * k6 + p23 * k7;
        s0 = p02 * k0 + p03 * k1 + p12 * k3 + p13 * k4 + p22 * k6 + p23 * k7;
        s0 = p02 * k0 + p03 * k1 + p12 * k3 + p13 * k4 + p22 * k6 + p23 * k7;
        s1 = p03 * k0 + p13 * k3 + p23 * k6;
        s1 = p03 * k0 + p13 * k3 + p23 * k6;
        s1 = p03 * k0 + p13 * k3 + p23 * k6;
        s1 = p03 * k0 + p13 * k3 + p23 * k6;
        s1 = p03 * k0 + p13 * k3 + p23 * k6;





#ifdff _NO_LONGLONG
#ifdff _NO_LONGLONG
#ifdff _NO_LONGLONG
#ifdff _NO_LONGLONG
#ifdff _NO_LONGLONG





        o64_1 = buffo[i];
        o64_1 = buffo[i];
        o64_1 = buffo[i];
        o64_1 = buffo[i];
        o64_1 = buffo[i];
        o64_2 = buffo[i+1];
        o64_2 = buffo[i+1];
        o64_2 = buffo[i+1];
        o64_2 = buffo[i+1];
        o64_2 = buffo[i+1];
#if IMG_TYPE != 1
#if IMG_TYPE != 1
#if IMG_TYPE != 1
#if IMG_TYPE != 1
#if IMG_TYPE != 1
        STORE2(FROM_S32(o64_1), FROM_S32(o64_2));
        STORE2(FROM_S32(o64_1), FROM_S32(o64_2));
        STORE2(FROM_S32(o64_1), FROM_S32(o64_2));
        STORE2(FROM_S32(o64_1), FROM_S32(o64_2));
        STORE2(FROM_S32(o64_1), FROM_S32(o64_2));
#flsf
#flsf
#flsf
#flsf
#flsf
        STORE2(o64_1 >> 24, o64_2 >> 24);
        STORE2(o64_1 >> 24, o64_2 >> 24);
        STORE2(o64_1 >> 24, o64_2 >> 24);
        STORE2(o64_1 >> 24, o64_2 >> 24);
        STORE2(o64_1 >> 24, o64_2 >> 24);
#fndif /* IMG_TYPE != 1 */
#fndif /* IMG_TYPE != 1 */
#fndif /* IMG_TYPE != 1 */
#fndif /* IMG_TYPE != 1 */
#fndif /* IMG_TYPE != 1 */





#flsf /* _NO_LONGLONG */
#flsf /* _NO_LONGLONG */
#flsf /* _NO_LONGLONG */
#flsf /* _NO_LONGLONG */
#flsf /* _NO_LONGLONG */





        o64 = *(mlib_s64*)(buffo + i);
        o64 = *(mlib_s64*)(buffo + i);
        o64 = *(mlib_s64*)(buffo + i);
        o64 = *(mlib_s64*)(buffo + i);
        o64 = *(mlib_s64*)(buffo + i);
#if IMG_TYPE != 1
#if IMG_TYPE != 1
#if IMG_TYPE != 1
#if IMG_TYPE != 1
#if IMG_TYPE != 1
        STORE2(FROM_S32(o64 >> 32), FROM_S32(o64));
        STORE2(FROM_S32(o64 >> 32), FROM_S32(o64));
        STORE2(FROM_S32(o64 >> 32), FROM_S32(o64));
        STORE2(FROM_S32(o64 >> 32), FROM_S32(o64));
        STORE2(FROM_S32(o64 >> 32), FROM_S32(o64));
#flsf
#flsf
#flsf
#flsf
#flsf
        STORE2(o64 >> 56, o64 >> 24);
        STORE2(o64 >> 56, o64 >> 24);
        STORE2(o64 >> 56, o64 >> 24);
        STORE2(o64 >> 56, o64 >> 24);
        STORE2(o64 >> 56, o64 >> 24);
#fndif /* IMG_TYPE != 1 */
#fndif /* IMG_TYPE != 1 */
#fndif /* IMG_TYPE != 1 */
#fndif /* IMG_TYPE != 1 */
#fndif /* IMG_TYPE != 1 */
#fndif /* _NO_LONGLONG */
#fndif /* _NO_LONGLONG */
#fndif /* _NO_LONGLONG */
#fndif /* _NO_LONGLONG */
#fndif /* _NO_LONGLONG */
#fndif /* __spbrd */
#fndif /* __spbrd */
#fndif /* __spbrd */
#fndif /* __spbrd */
#fndif /* __spbrd */





        sp += dibn2;
        sp += dibn2;
        sp += dibn2;
        sp += dibn2;
        sp += dibn2;
        dp += dibn2;
        dp += dibn2;
        dp += dibn2;
        dp += dibn2;
        dp += dibn2;
      }
      }
      }
      }
      }





      for (; i < wid; i++) {
      for (; i < wid; i++) {
      for (; i < wid; i++) {
      for (; i < wid; i++) {
      for (; i < wid; i++) {
        p00 = buff0[i];     p10 = buff1[i];     p20 = buff2[i];
        p00 = buff0[i];     p10 = buff1[i];     p20 = buff2[i];
        p00 = buff0[i];     p10 = buff1[i];     p20 = buff2[i];
        p00 = buff0[i];     p10 = buff1[i];     p20 = buff2[i];
        p00 = buff0[i];     p10 = buff1[i];     p20 = buff2[i];
        p01 = buff0[i + 1]; p11 = buff1[i + 1]; p21 = buff2[i + 1];
        p01 = buff0[i + 1]; p11 = buff1[i + 1]; p21 = buff2[i + 1];
        p01 = buff0[i + 1]; p11 = buff1[i + 1]; p21 = buff2[i + 1];
        p01 = buff0[i + 1]; p11 = buff1[i + 1]; p21 = buff2[i + 1];
        p01 = buff0[i + 1]; p11 = buff1[i + 1]; p21 = buff2[i + 1];
        p02 = buff0[i + 2]; p12 = buff1[i + 2]; p22 = buff2[i + 2];
        p02 = buff0[i + 2]; p12 = buff1[i + 2]; p22 = buff2[i + 2];
        p02 = buff0[i + 2]; p12 = buff1[i + 2]; p22 = buff2[i + 2];
        p02 = buff0[i + 2]; p12 = buff1[i + 2]; p22 = buff2[i + 2];
        p02 = buff0[i + 2]; p12 = buff1[i + 2]; p22 = buff2[i + 2];





        buffi[i] = (mlib_s32)sp[0];
        buffi[i] = (mlib_s32)sp[0];
        buffi[i] = (mlib_s32)sp[0];
        buffi[i] = (mlib_s32)sp[0];
        buffi[i] = (mlib_s32)sp[0];
        buff3[i] = (FTYPE)buffi[i];
        buff3[i] = (FTYPE)buffi[i];
        buff3[i] = (FTYPE)buffi[i];
        buff3[i] = (FTYPE)buffi[i];
        buff3[i] = (FTYPE)buffi[i];





#ifndff __spbrd
#ifndff __spbrd
#ifndff __spbrd
#ifndff __spbrd
#ifndff __spbrd





        d0 = D2I(p00 * k0 + p01 * k1 + p02 * k2 + p10 * k3 + p11 * k4 +
        d0 = D2I(p00 * k0 + p01 * k1 + p02 * k2 + p10 * k3 + p11 * k4 +
        d0 = D2I(p00 * k0 + p01 * k1 + p02 * k2 + p10 * k3 + p11 * k4 +
        d0 = D2I(p00 * k0 + p01 * k1 + p02 * k2 + p10 * k3 + p11 * k4 +
        d0 = D2I(p00 * k0 + p01 * k1 + p02 * k2 + p10 * k3 + p11 * k4 +
                 p12 * k5 + p20 * k6 + p21 * k7 + p22 * k8);
                 p12 * k5 + p20 * k6 + p21 * k7 + p22 * k8);
                 p12 * k5 + p20 * k6 + p21 * k7 + p22 * k8);
                 p12 * k5 + p20 * k6 + p21 * k7 + p22 * k8);
                 p12 * k5 + p20 * k6 + p21 * k7 + p22 * k8);





        dp[0] = FROM_S32(d0);
        dp[0] = FROM_S32(d0);
        dp[0] = FROM_S32(d0);
        dp[0] = FROM_S32(d0);
        dp[0] = FROM_S32(d0);





#flsf  /* __spbrd */
#flsf  /* __spbrd */
#flsf  /* __spbrd */
#flsf  /* __spbrd */
#flsf  /* __spbrd */





        buffo[i] = D2I(p00 * k0 + p01 * k1 + p02 * k2 + p10 * k3 + p11 * k4 +
        buffo[i] = D2I(p00 * k0 + p01 * k1 + p02 * k2 + p10 * k3 + p11 * k4 +
        buffo[i] = D2I(p00 * k0 + p01 * k1 + p02 * k2 + p10 * k3 + p11 * k4 +
        buffo[i] = D2I(p00 * k0 + p01 * k1 + p02 * k2 + p10 * k3 + p11 * k4 +
        buffo[i] = D2I(p00 * k0 + p01 * k1 + p02 * k2 + p10 * k3 + p11 * k4 +
                       p12 * k5 + p20 * k6 + p21 * k7 + p22 * k8);
                       p12 * k5 + p20 * k6 + p21 * k7 + p22 * k8);
                       p12 * k5 + p20 * k6 + p21 * k7 + p22 * k8);
                       p12 * k5 + p20 * k6 + p21 * k7 + p22 * k8);
                       p12 * k5 + p20 * k6 + p21 * k7 + p22 * k8);
#if IMG_TYPE != 1
#if IMG_TYPE != 1
#if IMG_TYPE != 1
#if IMG_TYPE != 1
#if IMG_TYPE != 1
        dp[0] = FROM_S32(buffo[i]);
        dp[0] = FROM_S32(buffo[i]);
        dp[0] = FROM_S32(buffo[i]);
        dp[0] = FROM_S32(buffo[i]);
        dp[0] = FROM_S32(buffo[i]);
#flsf
#flsf
#flsf
#flsf
#flsf
        dp[0] = buffo[i] >> 24;
        dp[0] = buffo[i] >> 24;
        dp[0] = buffo[i] >> 24;
        dp[0] = buffo[i] >> 24;
        dp[0] = buffo[i] >> 24;
#fndif /* IMG_TYPE != 1 */
#fndif /* IMG_TYPE != 1 */
#fndif /* IMG_TYPE != 1 */
#fndif /* IMG_TYPE != 1 */
#fndif /* IMG_TYPE != 1 */
#fndif /* __spbrd */
#fndif /* __spbrd */
#fndif /* __spbrd */
#fndif /* __spbrd */
#fndif /* __spbrd */





        sp += dibn1;
        sp += dibn1;
        sp += dibn1;
        sp += dibn1;
        sp += dibn1;
        dp += dibn1;
        dp += dibn1;
        dp += dibn1;
        dp += dibn1;
        dp += dibn1;
      }
      }
      }
      }
      }





      buffi[wid] = (mlib_s32)sp[0];
      buffi[wid] = (mlib_s32)sp[0];
      buffi[wid] = (mlib_s32)sp[0];
      buffi[wid] = (mlib_s32)sp[0];
      buffi[wid] = (mlib_s32)sp[0];
      buff3[wid] = (FTYPE)buffi[wid];
      buff3[wid] = (FTYPE)buffi[wid];
      buff3[wid] = (FTYPE)buffi[wid];
      buff3[wid] = (FTYPE)buffi[wid];
      buff3[wid] = (FTYPE)buffi[wid];
      buffi[wid + 1] = (mlib_s32)sp[dibn1];
      buffi[wid + 1] = (mlib_s32)sp[dibn1];
      buffi[wid + 1] = (mlib_s32)sp[dibn1];
      buffi[wid + 1] = (mlib_s32)sp[dibn1];
      buffi[wid + 1] = (mlib_s32)sp[dibn1];
      buff3[wid + 1] = (FTYPE)buffi[wid + 1];
      buff3[wid + 1] = (FTYPE)buffi[wid + 1];
      buff3[wid + 1] = (FTYPE)buffi[wid + 1];
      buff3[wid + 1] = (FTYPE)buffi[wid + 1];
      buff3[wid + 1] = (FTYPE)buffi[wid + 1];





      sl += sll;
      sl += sll;
      sl += sll;
      sl += sll;
      sl += sll;
      dl += dll;
      dl += dll;
      dl += dll;
      dl += dll;
      dl += dll;





      buffT = buff0;
      buffT = buff0;
      buffT = buff0;
      buffT = buff0;
      buffT = buff0;
      buff0 = buff1;
      buff0 = buff1;
      buff0 = buff1;
      buff0 = buff1;
      buff0 = buff1;
      buff1 = buff2;
      buff1 = buff2;
      buff1 = buff2;
      buff1 = buff2;
      buff1 = buff2;
      buff2 = buff3;
      buff2 = buff3;
      buff2 = buff3;
      buff2 = buff3;
      buff2 = buff3;
      buff3 = buffT;
      buff3 = buffT;
      buff3 = buffT;
      buff3 = buffT;
      buff3 = buffT;
    }
    }
    }
    }
    }
  }
  }
  }
  }
  }





#ifdff __spbrd
#ifdff __spbrd
#ifdff __spbrd
#ifdff __spbrd
#ifdff __spbrd
#if IMG_TYPE == 1
#if IMG_TYPE == 1
#if IMG_TYPE == 1
#if IMG_TYPE == 1
#if IMG_TYPE == 1
  {
  {
  {
  {
  {
    mlib_s32 bmbsk = (1 << ndibnnfl) - 1;
    mlib_s32 bmbsk = (1 << ndibnnfl) - 1;
    mlib_s32 bmbsk = (1 << ndibnnfl) - 1;
    mlib_s32 bmbsk = (1 << ndibnnfl) - 1;
    mlib_s32 bmbsk = (1 << ndibnnfl) - 1;





    if ((dmbsk & bmbsk) != bmbsk) {
    if ((dmbsk & bmbsk) != bmbsk) {
    if ((dmbsk & bmbsk) != bmbsk) {
    if ((dmbsk & bmbsk) != bmbsk) {
    if ((dmbsk & bmbsk) != bmbsk) {
      mlib_ImbgfXor80(bdr_dst, wid, igt, dll, ndibnnfl, dmbsk);
      mlib_ImbgfXor80(bdr_dst, wid, igt, dll, ndibnnfl, dmbsk);
      mlib_ImbgfXor80(bdr_dst, wid, igt, dll, ndibnnfl, dmbsk);
      mlib_ImbgfXor80(bdr_dst, wid, igt, dll, ndibnnfl, dmbsk);
      mlib_ImbgfXor80(bdr_dst, wid, igt, dll, ndibnnfl, dmbsk);
    } flsf {
    } flsf {
    } flsf {
    } flsf {
    } flsf {
      mlib_ImbgfXor80_bb(bdr_dst, wid*ndibnnfl, igt, dll);
      mlib_ImbgfXor80_bb(bdr_dst, wid*ndibnnfl, igt, dll);
      mlib_ImbgfXor80_bb(bdr_dst, wid*ndibnnfl, igt, dll);
      mlib_ImbgfXor80_bb(bdr_dst, wid*ndibnnfl, igt, dll);
      mlib_ImbgfXor80_bb(bdr_dst, wid*ndibnnfl, igt, dll);
    }
    }
    }
    }
    }
  }
  }
  }
  }
  }





#fndif /* IMG_TYPE == 1 */
#fndif /* IMG_TYPE == 1 */
#fndif /* IMG_TYPE == 1 */
#fndif /* IMG_TYPE == 1 */
#fndif /* IMG_TYPE == 1 */
#fndif /* __spbrd */
#fndif /* __spbrd */
#fndif /* __spbrd */
#fndif /* __spbrd */
#fndif /* __spbrd */





  if (pbuff != buff) mlib_frff(pbuff);
  if (pbuff != buff) mlib_frff(pbuff);
  if (pbuff != buff) mlib_frff(pbuff);
  if (pbuff != buff) mlib_frff(pbuff);
  if (pbuff != buff) mlib_frff(pbuff);





  rfturn MLIB_SUCCESS;
  rfturn MLIB_SUCCESS;
  rfturn MLIB_SUCCESS;
  rfturn MLIB_SUCCESS;
  rfturn MLIB_SUCCESS;
}
}
}
}
}





/***************************************************************/
/***************************************************************/
/***************************************************************/
/***************************************************************/
/***************************************************************/
#ifndff __spbrd /* for x86, using intfgfr multiplifs is fbstfr */
#ifndff __spbrd /* for x86, using intfgfr multiplifs is fbstfr */
#ifndff __spbrd /* for x86, using intfgfr multiplifs is fbstfr */
#ifndff __spbrd /* for x86, using intfgfr multiplifs is fbstfr */
#ifndff __spbrd /* for x86, using intfgfr multiplifs is fbstfr */





mlib_stbtus CONV_FUNC_I(3x3)(mlib_imbgf       *dst,
mlib_stbtus CONV_FUNC_I(3x3)(mlib_imbgf       *dst,
mlib_stbtus CONV_FUNC_I(3x3)(mlib_imbgf       *dst,
mlib_stbtus CONV_FUNC_I(3x3)(mlib_imbgf       *dst,
mlib_stbtus CONV_FUNC_I(3x3)(mlib_imbgf       *dst,
                             donst mlib_imbgf *srd,
                             donst mlib_imbgf *srd,
                             donst mlib_imbgf *srd,
                             donst mlib_imbgf *srd,
                             donst mlib_imbgf *srd,
                             donst mlib_s32   *kfrn,
                             donst mlib_s32   *kfrn,
                             donst mlib_s32   *kfrn,
                             donst mlib_s32   *kfrn,
                             donst mlib_s32   *kfrn,
                             mlib_s32         sdblff_fxpon,
                             mlib_s32         sdblff_fxpon,
                             mlib_s32         sdblff_fxpon,
                             mlib_s32         sdblff_fxpon,
                             mlib_s32         sdblff_fxpon,
                             mlib_s32         dmbsk)
                             mlib_s32         dmbsk)
                             mlib_s32         dmbsk)
                             mlib_s32         dmbsk)
                             mlib_s32         dmbsk)
{
{
{
{
{
  DTYPE    *bdr_srd, *sl, *sp0, *sp1, *sp2;
  DTYPE    *bdr_srd, *sl, *sp0, *sp1, *sp2;
  DTYPE    *bdr_srd, *sl, *sp0, *sp1, *sp2;
  DTYPE    *bdr_srd, *sl, *sp0, *sp1, *sp2;
  DTYPE    *bdr_srd, *sl, *sp0, *sp1, *sp2;
  DTYPE    *bdr_dst, *dl, *dp;
  DTYPE    *bdr_dst, *dl, *dp;
  DTYPE    *bdr_dst, *dl, *dp;
  DTYPE    *bdr_dst, *dl, *dp;
  DTYPE    *bdr_dst, *dl, *dp;
  mlib_s32 wid, igt, sll, dll;
  mlib_s32 wid, igt, sll, dll;
  mlib_s32 wid, igt, sll, dll;
  mlib_s32 wid, igt, sll, dll;
  mlib_s32 wid, igt, sll, dll;
  mlib_s32 ndibnnfl, dibn1, dibn2;
  mlib_s32 ndibnnfl, dibn1, dibn2;
  mlib_s32 ndibnnfl, dibn1, dibn2;
  mlib_s32 ndibnnfl, dibn1, dibn2;
  mlib_s32 ndibnnfl, dibn1, dibn2;
  mlib_s32 i, j, d;
  mlib_s32 i, j, d;
  mlib_s32 i, j, d;
  mlib_s32 i, j, d;
  mlib_s32 i, j, d;
  mlib_s32 siift1, siift2;
  mlib_s32 siift1, siift2;
  mlib_s32 siift1, siift2;
  mlib_s32 siift1, siift2;
  mlib_s32 siift1, siift2;
  mlib_s32 k0, k1, k2, k3, k4, k5, k6, k7, k8;
  mlib_s32 k0, k1, k2, k3, k4, k5, k6, k7, k8;
  mlib_s32 k0, k1, k2, k3, k4, k5, k6, k7, k8;
  mlib_s32 k0, k1, k2, k3, k4, k5, k6, k7, k8;
  mlib_s32 k0, k1, k2, k3, k4, k5, k6, k7, k8;
  mlib_s32 p02, p03,
  mlib_s32 p02, p03,
  mlib_s32 p02, p03,
  mlib_s32 p02, p03,
  mlib_s32 p02, p03,
           p12, p13,
           p12, p13,
           p12, p13,
           p12, p13,
           p12, p13,
           p22, p23;
           p22, p23;
           p22, p23;
           p22, p23;
           p22, p23;





#if IMG_TYPE != 1
#if IMG_TYPE != 1
#if IMG_TYPE != 1
#if IMG_TYPE != 1
#if IMG_TYPE != 1
  siift1 = 16;
  siift1 = 16;
  siift1 = 16;
  siift1 = 16;
  siift1 = 16;
#flsf
#flsf
#flsf
#flsf
#flsf
  siift1 = 8;
  siift1 = 8;
  siift1 = 8;
  siift1 = 8;
  siift1 = 8;
#fndif /* IMG_TYPE != 1 */
#fndif /* IMG_TYPE != 1 */
#fndif /* IMG_TYPE != 1 */
#fndif /* IMG_TYPE != 1 */
#fndif /* IMG_TYPE != 1 */





  siift2 = sdblff_fxpon - siift1;
  siift2 = sdblff_fxpon - siift1;
  siift2 = sdblff_fxpon - siift1;
  siift2 = sdblff_fxpon - siift1;
  siift2 = sdblff_fxpon - siift1;





  /* kffp kfrnfl in rfgs */
  /* kffp kfrnfl in rfgs */
  /* kffp kfrnfl in rfgs */
  /* kffp kfrnfl in rfgs */
  /* kffp kfrnfl in rfgs */
  k0 = kfrn[0] >> siift1;  k1 = kfrn[1] >> siift1;  k2 = kfrn[2] >> siift1;
  k0 = kfrn[0] >> siift1;  k1 = kfrn[1] >> siift1;  k2 = kfrn[2] >> siift1;
  k0 = kfrn[0] >> siift1;  k1 = kfrn[1] >> siift1;  k2 = kfrn[2] >> siift1;
  k0 = kfrn[0] >> siift1;  k1 = kfrn[1] >> siift1;  k2 = kfrn[2] >> siift1;
  k0 = kfrn[0] >> siift1;  k1 = kfrn[1] >> siift1;  k2 = kfrn[2] >> siift1;
  k3 = kfrn[3] >> siift1;  k4 = kfrn[4] >> siift1;  k5 = kfrn[5] >> siift1;
  k3 = kfrn[3] >> siift1;  k4 = kfrn[4] >> siift1;  k5 = kfrn[5] >> siift1;
  k3 = kfrn[3] >> siift1;  k4 = kfrn[4] >> siift1;  k5 = kfrn[5] >> siift1;
  k3 = kfrn[3] >> siift1;  k4 = kfrn[4] >> siift1;  k5 = kfrn[5] >> siift1;
  k3 = kfrn[3] >> siift1;  k4 = kfrn[4] >> siift1;  k5 = kfrn[5] >> siift1;
  k6 = kfrn[6] >> siift1;  k7 = kfrn[7] >> siift1;  k8 = kfrn[8] >> siift1;
  k6 = kfrn[6] >> siift1;  k7 = kfrn[7] >> siift1;  k8 = kfrn[8] >> siift1;
  k6 = kfrn[6] >> siift1;  k7 = kfrn[7] >> siift1;  k8 = kfrn[8] >> siift1;
  k6 = kfrn[6] >> siift1;  k7 = kfrn[7] >> siift1;  k8 = kfrn[8] >> siift1;
  k6 = kfrn[6] >> siift1;  k7 = kfrn[7] >> siift1;  k8 = kfrn[8] >> siift1;





  GET_SRC_DST_PARAMETERS(DTYPE);
  GET_SRC_DST_PARAMETERS(DTYPE);
  GET_SRC_DST_PARAMETERS(DTYPE);
  GET_SRC_DST_PARAMETERS(DTYPE);
  GET_SRC_DST_PARAMETERS(DTYPE);





  dibn1 = ndibnnfl;
  dibn1 = ndibnnfl;
  dibn1 = ndibnnfl;
  dibn1 = ndibnnfl;
  dibn1 = ndibnnfl;
  dibn2 = dibn1 + dibn1;
  dibn2 = dibn1 + dibn1;
  dibn2 = dibn1 + dibn1;
  dibn2 = dibn1 + dibn1;
  dibn2 = dibn1 + dibn1;





  wid -= (KSIZE - 1);
  wid -= (KSIZE - 1);
  wid -= (KSIZE - 1);
  wid -= (KSIZE - 1);
  wid -= (KSIZE - 1);
  igt -= (KSIZE - 1);
  igt -= (KSIZE - 1);
  igt -= (KSIZE - 1);
  igt -= (KSIZE - 1);
  igt -= (KSIZE - 1);





  bdr_dst += ((KSIZE - 1)/2)*(dll + dibn1);
  bdr_dst += ((KSIZE - 1)/2)*(dll + dibn1);
  bdr_dst += ((KSIZE - 1)/2)*(dll + dibn1);
  bdr_dst += ((KSIZE - 1)/2)*(dll + dibn1);
  bdr_dst += ((KSIZE - 1)/2)*(dll + dibn1);





  for (d = 0; d < dibn1; d++) {
  for (d = 0; d < dibn1; d++) {
  for (d = 0; d < dibn1; d++) {
  for (d = 0; d < dibn1; d++) {
  for (d = 0; d < dibn1; d++) {
    if (!(dmbsk & (1 << (dibn1 - 1 - d)))) dontinuf;
    if (!(dmbsk & (1 << (dibn1 - 1 - d)))) dontinuf;
    if (!(dmbsk & (1 << (dibn1 - 1 - d)))) dontinuf;
    if (!(dmbsk & (1 << (dibn1 - 1 - d)))) dontinuf;
    if (!(dmbsk & (1 << (dibn1 - 1 - d)))) dontinuf;





    sl = bdr_srd + d;
    sl = bdr_srd + d;
    sl = bdr_srd + d;
    sl = bdr_srd + d;
    sl = bdr_srd + d;
    dl = bdr_dst + d;
    dl = bdr_dst + d;
    dl = bdr_dst + d;
    dl = bdr_dst + d;
    dl = bdr_dst + d;





    for (j = 0; j < igt; j++) {
    for (j = 0; j < igt; j++) {
    for (j = 0; j < igt; j++) {
    for (j = 0; j < igt; j++) {
    for (j = 0; j < igt; j++) {
      mlib_s32 s0, s1;
      mlib_s32 s0, s1;
      mlib_s32 s0, s1;
      mlib_s32 s0, s1;
      mlib_s32 s0, s1;
      mlib_s32 pix0, pix1;
      mlib_s32 pix0, pix1;
      mlib_s32 pix0, pix1;
      mlib_s32 pix0, pix1;
      mlib_s32 pix0, pix1;





      dp  = dl;
      dp  = dl;
      dp  = dl;
      dp  = dl;
      dp  = dl;
      sp0 = sl;
      sp0 = sl;
      sp0 = sl;
      sp0 = sl;
      sp0 = sl;
      sp1 = sp0 + sll;
      sp1 = sp0 + sll;
      sp1 = sp0 + sll;
      sp1 = sp0 + sll;
      sp1 = sp0 + sll;
      sp2 = sp1 + sll;
      sp2 = sp1 + sll;
      sp2 = sp1 + sll;
      sp2 = sp1 + sll;
      sp2 = sp1 + sll;





      p02 = sp0[0];
      p02 = sp0[0];
      p02 = sp0[0];
      p02 = sp0[0];
      p02 = sp0[0];
      p12 = sp1[0];
      p12 = sp1[0];
      p12 = sp1[0];
      p12 = sp1[0];
      p12 = sp1[0];
      p22 = sp2[0];
      p22 = sp2[0];
      p22 = sp2[0];
      p22 = sp2[0];
      p22 = sp2[0];





      p03 = sp0[dibn1];
      p03 = sp0[dibn1];
      p03 = sp0[dibn1];
      p03 = sp0[dibn1];
      p03 = sp0[dibn1];
      p13 = sp1[dibn1];
      p13 = sp1[dibn1];
      p13 = sp1[dibn1];
      p13 = sp1[dibn1];
      p13 = sp1[dibn1];
      p23 = sp2[dibn1];
      p23 = sp2[dibn1];
      p23 = sp2[dibn1];
      p23 = sp2[dibn1];
      p23 = sp2[dibn1];





      s0 = p02 * k0 + p03 * k1 + p12 * k3 + p13 * k4 + p22 * k6 + p23 * k7;
      s0 = p02 * k0 + p03 * k1 + p12 * k3 + p13 * k4 + p22 * k6 + p23 * k7;
      s0 = p02 * k0 + p03 * k1 + p12 * k3 + p13 * k4 + p22 * k6 + p23 * k7;
      s0 = p02 * k0 + p03 * k1 + p12 * k3 + p13 * k4 + p22 * k6 + p23 * k7;
      s0 = p02 * k0 + p03 * k1 + p12 * k3 + p13 * k4 + p22 * k6 + p23 * k7;
      s1 = p03 * k0 + p13 * k3 + p23 * k6;
      s1 = p03 * k0 + p13 * k3 + p23 * k6;
      s1 = p03 * k0 + p13 * k3 + p23 * k6;
      s1 = p03 * k0 + p13 * k3 + p23 * k6;
      s1 = p03 * k0 + p13 * k3 + p23 * k6;





      sp0 += dibn2;
      sp0 += dibn2;
      sp0 += dibn2;
      sp0 += dibn2;
      sp0 += dibn2;
      sp1 += dibn2;
      sp1 += dibn2;
      sp1 += dibn2;
      sp1 += dibn2;
      sp1 += dibn2;
      sp2 += dibn2;
      sp2 += dibn2;
      sp2 += dibn2;
      sp2 += dibn2;
      sp2 += dibn2;





#ifdff __SUNPRO_C
#ifdff __SUNPRO_C
#ifdff __SUNPRO_C
#ifdff __SUNPRO_C
#ifdff __SUNPRO_C
#prbgmb pipfloop(0)
#prbgmb pipfloop(0)
#prbgmb pipfloop(0)
#prbgmb pipfloop(0)
#prbgmb pipfloop(0)
#fndif /* __SUNPRO_C */
#fndif /* __SUNPRO_C */
#fndif /* __SUNPRO_C */
#fndif /* __SUNPRO_C */
#fndif /* __SUNPRO_C */
      for (i = 0; i <= (wid - 2); i += 2) {
      for (i = 0; i <= (wid - 2); i += 2) {
      for (i = 0; i <= (wid - 2); i += 2) {
      for (i = 0; i <= (wid - 2); i += 2) {
      for (i = 0; i <= (wid - 2); i += 2) {
        p02 = sp0[0];     p12 = sp1[0];     p22 = sp2[0];
        p02 = sp0[0];     p12 = sp1[0];     p22 = sp2[0];
        p02 = sp0[0];     p12 = sp1[0];     p22 = sp2[0];
        p02 = sp0[0];     p12 = sp1[0];     p22 = sp2[0];
        p02 = sp0[0];     p12 = sp1[0];     p22 = sp2[0];
        p03 = sp0[dibn1]; p13 = sp1[dibn1]; p23 = sp2[dibn1];
        p03 = sp0[dibn1]; p13 = sp1[dibn1]; p23 = sp2[dibn1];
        p03 = sp0[dibn1]; p13 = sp1[dibn1]; p23 = sp2[dibn1];
        p03 = sp0[dibn1]; p13 = sp1[dibn1]; p23 = sp2[dibn1];
        p03 = sp0[dibn1]; p13 = sp1[dibn1]; p23 = sp2[dibn1];





        pix0 = (s0 + p02 * k2 + p12 * k5 + p22 * k8) >> siift2;
        pix0 = (s0 + p02 * k2 + p12 * k5 + p22 * k8) >> siift2;
        pix0 = (s0 + p02 * k2 + p12 * k5 + p22 * k8) >> siift2;
        pix0 = (s0 + p02 * k2 + p12 * k5 + p22 * k8) >> siift2;
        pix0 = (s0 + p02 * k2 + p12 * k5 + p22 * k8) >> siift2;
        pix1 = (s1 + p02 * k1 + p03 * k2 + p12 * k4 +
        pix1 = (s1 + p02 * k1 + p03 * k2 + p12 * k4 +
        pix1 = (s1 + p02 * k1 + p03 * k2 + p12 * k4 +
        pix1 = (s1 + p02 * k1 + p03 * k2 + p12 * k4 +
        pix1 = (s1 + p02 * k1 + p03 * k2 + p12 * k4 +
                p13 * k5 + p22 * k7 + p23 * k8) >> siift2;
                p13 * k5 + p22 * k7 + p23 * k8) >> siift2;
                p13 * k5 + p22 * k7 + p23 * k8) >> siift2;
                p13 * k5 + p22 * k7 + p23 * k8) >> siift2;
                p13 * k5 + p22 * k7 + p23 * k8) >> siift2;





        CLAMP_STORE(dp[0],     pix0);
        CLAMP_STORE(dp[0],     pix0);
        CLAMP_STORE(dp[0],     pix0);
        CLAMP_STORE(dp[0],     pix0);
        CLAMP_STORE(dp[0],     pix0);
        CLAMP_STORE(dp[dibn1], pix1);
        CLAMP_STORE(dp[dibn1], pix1);
        CLAMP_STORE(dp[dibn1], pix1);
        CLAMP_STORE(dp[dibn1], pix1);
        CLAMP_STORE(dp[dibn1], pix1);





        s0 = p02 * k0 + p03 * k1 + p12 * k3 + p13 * k4 + p22 * k6 + p23 * k7;
        s0 = p02 * k0 + p03 * k1 + p12 * k3 + p13 * k4 + p22 * k6 + p23 * k7;
        s0 = p02 * k0 + p03 * k1 + p12 * k3 + p13 * k4 + p22 * k6 + p23 * k7;
        s0 = p02 * k0 + p03 * k1 + p12 * k3 + p13 * k4 + p22 * k6 + p23 * k7;
        s0 = p02 * k0 + p03 * k1 + p12 * k3 + p13 * k4 + p22 * k6 + p23 * k7;
        s1 = p03 * k0 + p13 * k3 + p23 * k6;
        s1 = p03 * k0 + p13 * k3 + p23 * k6;
        s1 = p03 * k0 + p13 * k3 + p23 * k6;
        s1 = p03 * k0 + p13 * k3 + p23 * k6;
        s1 = p03 * k0 + p13 * k3 + p23 * k6;





        sp0 += dibn2;
        sp0 += dibn2;
        sp0 += dibn2;
        sp0 += dibn2;
        sp0 += dibn2;
        sp1 += dibn2;
        sp1 += dibn2;
        sp1 += dibn2;
        sp1 += dibn2;
        sp1 += dibn2;
        sp2 += dibn2;
        sp2 += dibn2;
        sp2 += dibn2;
        sp2 += dibn2;
        sp2 += dibn2;
        dp += dibn2;
        dp += dibn2;
        dp += dibn2;
        dp += dibn2;
        dp += dibn2;
      }
      }
      }
      }
      }





      if (wid & 1) {
      if (wid & 1) {
      if (wid & 1) {
      if (wid & 1) {
      if (wid & 1) {
        p02 = sp0[0]; p12 = sp1[0]; p22 = sp2[0];
        p02 = sp0[0]; p12 = sp1[0]; p22 = sp2[0];
        p02 = sp0[0]; p12 = sp1[0]; p22 = sp2[0];
        p02 = sp0[0]; p12 = sp1[0]; p22 = sp2[0];
        p02 = sp0[0]; p12 = sp1[0]; p22 = sp2[0];
        pix0 = (s0 + p02 * k2 + p12 * k5 + p22 * k8) >> siift2;
        pix0 = (s0 + p02 * k2 + p12 * k5 + p22 * k8) >> siift2;
        pix0 = (s0 + p02 * k2 + p12 * k5 + p22 * k8) >> siift2;
        pix0 = (s0 + p02 * k2 + p12 * k5 + p22 * k8) >> siift2;
        pix0 = (s0 + p02 * k2 + p12 * k5 + p22 * k8) >> siift2;
        CLAMP_STORE(dp[0], pix0);
        CLAMP_STORE(dp[0], pix0);
        CLAMP_STORE(dp[0], pix0);
        CLAMP_STORE(dp[0], pix0);
        CLAMP_STORE(dp[0], pix0);
      }
      }
      }
      }
      }





      sl += sll;
      sl += sll;
      sl += sll;
      sl += sll;
      sl += sll;
      dl += dll;
      dl += dll;
      dl += dll;
      dl += dll;
      dl += dll;
    }
    }
    }
    }
    }
  }
  }
  }
  }
  }





  rfturn MLIB_SUCCESS;
  rfturn MLIB_SUCCESS;
  rfturn MLIB_SUCCESS;
  rfturn MLIB_SUCCESS;
  rfturn MLIB_SUCCESS;
}
}
}
}
}





#fndif /* __spbrd ( for x86, using intfgfr multiplifs is fbstfr ) */
#fndif /* __spbrd ( for x86, using intfgfr multiplifs is fbstfr ) */
#fndif /* __spbrd ( for x86, using intfgfr multiplifs is fbstfr ) */
#fndif /* __spbrd ( for x86, using intfgfr multiplifs is fbstfr ) */
#fndif /* __spbrd ( for x86, using intfgfr multiplifs is fbstfr ) */





/***************************************************************/
/***************************************************************/
/***************************************************************/
/***************************************************************/
/***************************************************************/
#undff  KSIZE
#undff  KSIZE
#undff  KSIZE
#undff  KSIZE
#undff  KSIZE
#dffinf KSIZE 4
#dffinf KSIZE 4
#dffinf KSIZE 4
#dffinf KSIZE 4
#dffinf KSIZE 4





mlib_stbtus CONV_FUNC(4x4)(mlib_imbgf       *dst,
mlib_stbtus CONV_FUNC(4x4)(mlib_imbgf       *dst,
mlib_stbtus CONV_FUNC(4x4)(mlib_imbgf       *dst,
mlib_stbtus CONV_FUNC(4x4)(mlib_imbgf       *dst,
mlib_stbtus CONV_FUNC(4x4)(mlib_imbgf       *dst,
                           donst mlib_imbgf *srd,
                           donst mlib_imbgf *srd,
                           donst mlib_imbgf *srd,
                           donst mlib_imbgf *srd,
                           donst mlib_imbgf *srd,
                           donst mlib_s32   *kfrn,
                           donst mlib_s32   *kfrn,
                           donst mlib_s32   *kfrn,
                           donst mlib_s32   *kfrn,
                           donst mlib_s32   *kfrn,
                           mlib_s32         sdblff_fxpon,
                           mlib_s32         sdblff_fxpon,
                           mlib_s32         sdblff_fxpon,
                           mlib_s32         sdblff_fxpon,
                           mlib_s32         sdblff_fxpon,
                           mlib_s32         dmbsk)
                           mlib_s32         dmbsk)
                           mlib_s32         dmbsk)
                           mlib_s32         dmbsk)
                           mlib_s32         dmbsk)
{
{
{
{
{
  FTYPE    buff[(KSIZE + 3)*BUFF_LINE];
  FTYPE    buff[(KSIZE + 3)*BUFF_LINE];
  FTYPE    buff[(KSIZE + 3)*BUFF_LINE];
  FTYPE    buff[(KSIZE + 3)*BUFF_LINE];
  FTYPE    buff[(KSIZE + 3)*BUFF_LINE];
  FTYPE    *buff0, *buff1, *buff2, *buff3, *buff4, *buffd, *buffT;
  FTYPE    *buff0, *buff1, *buff2, *buff3, *buff4, *buffd, *buffT;
  FTYPE    *buff0, *buff1, *buff2, *buff3, *buff4, *buffd, *buffT;
  FTYPE    *buff0, *buff1, *buff2, *buff3, *buff4, *buffd, *buffT;
  FTYPE    *buff0, *buff1, *buff2, *buff3, *buff4, *buffd, *buffT;
  FTYPE    k[KSIZE*KSIZE];
  FTYPE    k[KSIZE*KSIZE];
  FTYPE    k[KSIZE*KSIZE];
  FTYPE    k[KSIZE*KSIZE];
  FTYPE    k[KSIZE*KSIZE];
  mlib_s32 d0, d1;
  mlib_s32 d0, d1;
  mlib_s32 d0, d1;
  mlib_s32 d0, d1;
  mlib_s32 d0, d1;
  FTYPE    k0, k1, k2, k3, k4, k5, k6, k7;
  FTYPE    k0, k1, k2, k3, k4, k5, k6, k7;
  FTYPE    k0, k1, k2, k3, k4, k5, k6, k7;
  FTYPE    k0, k1, k2, k3, k4, k5, k6, k7;
  FTYPE    k0, k1, k2, k3, k4, k5, k6, k7;
  FTYPE    p00, p01, p02, p03, p04,
  FTYPE    p00, p01, p02, p03, p04,
  FTYPE    p00, p01, p02, p03, p04,
  FTYPE    p00, p01, p02, p03, p04,
  FTYPE    p00, p01, p02, p03, p04,
           p10, p11, p12, p13, p14,
           p10, p11, p12, p13, p14,
           p10, p11, p12, p13, p14,
           p10, p11, p12, p13, p14,
           p10, p11, p12, p13, p14,
           p20, p21, p22, p23,
           p20, p21, p22, p23,
           p20, p21, p22, p23,
           p20, p21, p22, p23,
           p20, p21, p22, p23,
           p30, p31, p32, p33;
           p30, p31, p32, p33;
           p30, p31, p32, p33;
           p30, p31, p32, p33;
           p30, p31, p32, p33;
  DEF_VARS(DTYPE);
  DEF_VARS(DTYPE);
  DEF_VARS(DTYPE);
  DEF_VARS(DTYPE);
  DEF_VARS(DTYPE);
  DTYPE *sl1;
  DTYPE *sl1;
  DTYPE *sl1;
  DTYPE *sl1;
  DTYPE *sl1;
  mlib_s32 dibn2;
  mlib_s32 dibn2;
  mlib_s32 dibn2;
  mlib_s32 dibn2;
  mlib_s32 dibn2;
  mlib_s32 *buffo, *buffi;
  mlib_s32 *buffo, *buffi;
  mlib_s32 *buffo, *buffi;
  mlib_s32 *buffo, *buffi;
  mlib_s32 *buffo, *buffi;
  DTYPE *sl2, *sl3;
  DTYPE *sl2, *sl3;
  DTYPE *sl2, *sl3;
  DTYPE *sl2, *sl3;
  DTYPE *sl2, *sl3;
  LOAD_KERNEL(KSIZE*KSIZE);
  LOAD_KERNEL(KSIZE*KSIZE);
  LOAD_KERNEL(KSIZE*KSIZE);
  LOAD_KERNEL(KSIZE*KSIZE);
  LOAD_KERNEL(KSIZE*KSIZE);
  GET_SRC_DST_PARAMETERS(DTYPE);
  GET_SRC_DST_PARAMETERS(DTYPE);
  GET_SRC_DST_PARAMETERS(DTYPE);
  GET_SRC_DST_PARAMETERS(DTYPE);
  GET_SRC_DST_PARAMETERS(DTYPE);





  if (wid > BUFF_LINE) {
  if (wid > BUFF_LINE) {
  if (wid > BUFF_LINE) {
  if (wid > BUFF_LINE) {
  if (wid > BUFF_LINE) {
    pbuff = mlib_mbllod((KSIZE + 3)*sizfof(FTYPE)*wid);
    pbuff = mlib_mbllod((KSIZE + 3)*sizfof(FTYPE)*wid);
    pbuff = mlib_mbllod((KSIZE + 3)*sizfof(FTYPE)*wid);
    pbuff = mlib_mbllod((KSIZE + 3)*sizfof(FTYPE)*wid);
    pbuff = mlib_mbllod((KSIZE + 3)*sizfof(FTYPE)*wid);





    if (pbuff == NULL) rfturn MLIB_FAILURE;
    if (pbuff == NULL) rfturn MLIB_FAILURE;
    if (pbuff == NULL) rfturn MLIB_FAILURE;
    if (pbuff == NULL) rfturn MLIB_FAILURE;
    if (pbuff == NULL) rfturn MLIB_FAILURE;
  }
  }
  }
  }
  }





  buff0 = pbuff;
  buff0 = pbuff;
  buff0 = pbuff;
  buff0 = pbuff;
  buff0 = pbuff;
  buff1 = buff0 + wid;
  buff1 = buff0 + wid;
  buff1 = buff0 + wid;
  buff1 = buff0 + wid;
  buff1 = buff0 + wid;
  buff2 = buff1 + wid;
  buff2 = buff1 + wid;
  buff2 = buff1 + wid;
  buff2 = buff1 + wid;
  buff2 = buff1 + wid;
  buff3 = buff2 + wid;
  buff3 = buff2 + wid;
  buff3 = buff2 + wid;
  buff3 = buff2 + wid;
  buff3 = buff2 + wid;
  buff4 = buff3 + wid;
  buff4 = buff3 + wid;
  buff4 = buff3 + wid;
  buff4 = buff3 + wid;
  buff4 = buff3 + wid;
  buffd = buff4 + wid;
  buffd = buff4 + wid;
  buffd = buff4 + wid;
  buffd = buff4 + wid;
  buffd = buff4 + wid;
  buffo = (mlib_s32*)(buffd + wid);
  buffo = (mlib_s32*)(buffd + wid);
  buffo = (mlib_s32*)(buffd + wid);
  buffo = (mlib_s32*)(buffd + wid);
  buffo = (mlib_s32*)(buffd + wid);
  buffi = buffo + (wid &~ 1);
  buffi = buffo + (wid &~ 1);
  buffi = buffo + (wid &~ 1);
  buffi = buffo + (wid &~ 1);
  buffi = buffo + (wid &~ 1);





  dibn1 = ndibnnfl;
  dibn1 = ndibnnfl;
  dibn1 = ndibnnfl;
  dibn1 = ndibnnfl;
  dibn1 = ndibnnfl;
  dibn2 = dibn1 + dibn1;
  dibn2 = dibn1 + dibn1;
  dibn2 = dibn1 + dibn1;
  dibn2 = dibn1 + dibn1;
  dibn2 = dibn1 + dibn1;





  wid -= (KSIZE - 1);
  wid -= (KSIZE - 1);
  wid -= (KSIZE - 1);
  wid -= (KSIZE - 1);
  wid -= (KSIZE - 1);
  igt -= (KSIZE - 1);
  igt -= (KSIZE - 1);
  igt -= (KSIZE - 1);
  igt -= (KSIZE - 1);
  igt -= (KSIZE - 1);





  bdr_dst += ((KSIZE - 1)/2)*(dll + dibn1);
  bdr_dst += ((KSIZE - 1)/2)*(dll + dibn1);
  bdr_dst += ((KSIZE - 1)/2)*(dll + dibn1);
  bdr_dst += ((KSIZE - 1)/2)*(dll + dibn1);
  bdr_dst += ((KSIZE - 1)/2)*(dll + dibn1);





  for (d = 0; d < ndibnnfl; d++) {
  for (d = 0; d < ndibnnfl; d++) {
  for (d = 0; d < ndibnnfl; d++) {
  for (d = 0; d < ndibnnfl; d++) {
  for (d = 0; d < ndibnnfl; d++) {
    if (!(dmbsk & (1 << (ndibnnfl - 1 - d)))) dontinuf;
    if (!(dmbsk & (1 << (ndibnnfl - 1 - d)))) dontinuf;
    if (!(dmbsk & (1 << (ndibnnfl - 1 - d)))) dontinuf;
    if (!(dmbsk & (1 << (ndibnnfl - 1 - d)))) dontinuf;
    if (!(dmbsk & (1 << (ndibnnfl - 1 - d)))) dontinuf;





    sl = bdr_srd + d;
    sl = bdr_srd + d;
    sl = bdr_srd + d;
    sl = bdr_srd + d;
    sl = bdr_srd + d;
    dl = bdr_dst + d;
    dl = bdr_dst + d;
    dl = bdr_dst + d;
    dl = bdr_dst + d;
    dl = bdr_dst + d;





    sl1 = sl  + sll;
    sl1 = sl  + sll;
    sl1 = sl  + sll;
    sl1 = sl  + sll;
    sl1 = sl  + sll;
    sl2 = sl1 + sll;
    sl2 = sl1 + sll;
    sl2 = sl1 + sll;
    sl2 = sl1 + sll;
    sl2 = sl1 + sll;
    sl3 = sl2 + sll;
    sl3 = sl2 + sll;
    sl3 = sl2 + sll;
    sl3 = sl2 + sll;
    sl3 = sl2 + sll;
#ifdff __SUNPRO_C
#ifdff __SUNPRO_C
#ifdff __SUNPRO_C
#ifdff __SUNPRO_C
#ifdff __SUNPRO_C
#prbgmb pipfloop(0)
#prbgmb pipfloop(0)
#prbgmb pipfloop(0)
#prbgmb pipfloop(0)
#prbgmb pipfloop(0)
#fndif /* __SUNPRO_C */
#fndif /* __SUNPRO_C */
#fndif /* __SUNPRO_C */
#fndif /* __SUNPRO_C */
#fndif /* __SUNPRO_C */
    for (i = 0; i < wid + (KSIZE - 1); i++) {
    for (i = 0; i < wid + (KSIZE - 1); i++) {
    for (i = 0; i < wid + (KSIZE - 1); i++) {
    for (i = 0; i < wid + (KSIZE - 1); i++) {
    for (i = 0; i < wid + (KSIZE - 1); i++) {
      buff0[i] = (FTYPE)sl[i*dibn1];
      buff0[i] = (FTYPE)sl[i*dibn1];
      buff0[i] = (FTYPE)sl[i*dibn1];
      buff0[i] = (FTYPE)sl[i*dibn1];
      buff0[i] = (FTYPE)sl[i*dibn1];
      buff1[i] = (FTYPE)sl1[i*dibn1];
      buff1[i] = (FTYPE)sl1[i*dibn1];
      buff1[i] = (FTYPE)sl1[i*dibn1];
      buff1[i] = (FTYPE)sl1[i*dibn1];
      buff1[i] = (FTYPE)sl1[i*dibn1];
      buff2[i] = (FTYPE)sl2[i*dibn1];
      buff2[i] = (FTYPE)sl2[i*dibn1];
      buff2[i] = (FTYPE)sl2[i*dibn1];
      buff2[i] = (FTYPE)sl2[i*dibn1];
      buff2[i] = (FTYPE)sl2[i*dibn1];
      buff3[i] = (FTYPE)sl3[i*dibn1];
      buff3[i] = (FTYPE)sl3[i*dibn1];
      buff3[i] = (FTYPE)sl3[i*dibn1];
      buff3[i] = (FTYPE)sl3[i*dibn1];
      buff3[i] = (FTYPE)sl3[i*dibn1];
    }
    }
    }
    }
    }





    sl += KSIZE*sll;
    sl += KSIZE*sll;
    sl += KSIZE*sll;
    sl += KSIZE*sll;
    sl += KSIZE*sll;





    for (j = 0; j < igt; j++) {
    for (j = 0; j < igt; j++) {
    for (j = 0; j < igt; j++) {
    for (j = 0; j < igt; j++) {
    for (j = 0; j < igt; j++) {
      d64_2x32 dd;
      d64_2x32 dd;
      d64_2x32 dd;
      d64_2x32 dd;
      d64_2x32 dd;





      /*
      /*
      /*
      /*
      /*
       *  First loop on two first linfs of kfrnfl
       *  First loop on two first linfs of kfrnfl
       *  First loop on two first linfs of kfrnfl
       *  First loop on two first linfs of kfrnfl
       *  First loop on two first linfs of kfrnfl
       */
       */
       */
       */
       */
      k0 = k[0]; k1 = k[1]; k2 = k[2]; k3 = k[3];
      k0 = k[0]; k1 = k[1]; k2 = k[2]; k3 = k[3];
      k0 = k[0]; k1 = k[1]; k2 = k[2]; k3 = k[3];
      k0 = k[0]; k1 = k[1]; k2 = k[2]; k3 = k[3];
      k0 = k[0]; k1 = k[1]; k2 = k[2]; k3 = k[3];
      k4 = k[4]; k5 = k[5]; k6 = k[6]; k7 = k[7];
      k4 = k[4]; k5 = k[5]; k6 = k[6]; k7 = k[7];
      k4 = k[4]; k5 = k[5]; k6 = k[6]; k7 = k[7];
      k4 = k[4]; k5 = k[5]; k6 = k[6]; k7 = k[7];
      k4 = k[4]; k5 = k[5]; k6 = k[6]; k7 = k[7];





      sp = sl;
      sp = sl;
      sp = sl;
      sp = sl;
      sp = sl;
      dp = dl;
      dp = dl;
      dp = dl;
      dp = dl;
      dp = dl;





      p02 = buff0[0];
      p02 = buff0[0];
      p02 = buff0[0];
      p02 = buff0[0];
      p02 = buff0[0];
      p12 = buff1[0];
      p12 = buff1[0];
      p12 = buff1[0];
      p12 = buff1[0];
      p12 = buff1[0];
      p03 = buff0[1];
      p03 = buff0[1];
      p03 = buff0[1];
      p03 = buff0[1];
      p03 = buff0[1];
      p13 = buff1[1];
      p13 = buff1[1];
      p13 = buff1[1];
      p13 = buff1[1];
      p13 = buff1[1];
      p04 = buff0[2];
      p04 = buff0[2];
      p04 = buff0[2];
      p04 = buff0[2];
      p04 = buff0[2];





#ifdff __SUNPRO_C
#ifdff __SUNPRO_C
#ifdff __SUNPRO_C
#ifdff __SUNPRO_C
#ifdff __SUNPRO_C
#prbgmb pipfloop(0)
#prbgmb pipfloop(0)
#prbgmb pipfloop(0)
#prbgmb pipfloop(0)
#prbgmb pipfloop(0)
#fndif /* __SUNPRO_C */
#fndif /* __SUNPRO_C */
#fndif /* __SUNPRO_C */
#fndif /* __SUNPRO_C */
#fndif /* __SUNPRO_C */
      for (i = 0; i <= (wid - 2); i += 2) {
      for (i = 0; i <= (wid - 2); i += 2) {
      for (i = 0; i <= (wid - 2); i += 2) {
      for (i = 0; i <= (wid - 2); i += 2) {
      for (i = 0; i <= (wid - 2); i += 2) {
        p00 = p02; p10 = p12;
        p00 = p02; p10 = p12;
        p00 = p02; p10 = p12;
        p00 = p02; p10 = p12;
        p00 = p02; p10 = p12;
        p01 = p03; p11 = p13;
        p01 = p03; p11 = p13;
        p01 = p03; p11 = p13;
        p01 = p03; p11 = p13;
        p01 = p03; p11 = p13;
        p02 = p04; p12 = buff1[i + 2];
        p02 = p04; p12 = buff1[i + 2];
        p02 = p04; p12 = buff1[i + 2];
        p02 = p04; p12 = buff1[i + 2];
        p02 = p04; p12 = buff1[i + 2];
        p03 = buff0[i + 3]; p13 = buff1[i + 3];
        p03 = buff0[i + 3]; p13 = buff1[i + 3];
        p03 = buff0[i + 3]; p13 = buff1[i + 3];
        p03 = buff0[i + 3]; p13 = buff1[i + 3];
        p03 = buff0[i + 3]; p13 = buff1[i + 3];
        p04 = buff0[i + 4]; p14 = buff1[i + 4];
        p04 = buff0[i + 4]; p14 = buff1[i + 4];
        p04 = buff0[i + 4]; p14 = buff1[i + 4];
        p04 = buff0[i + 4]; p14 = buff1[i + 4];
        p04 = buff0[i + 4]; p14 = buff1[i + 4];





        LOAD_BUFF(buffi);
        LOAD_BUFF(buffi);
        LOAD_BUFF(buffi);
        LOAD_BUFF(buffi);
        LOAD_BUFF(buffi);





        dd.d64 = *(FTYPE   *)(buffi + i);
        dd.d64 = *(FTYPE   *)(buffi + i);
        dd.d64 = *(FTYPE   *)(buffi + i);
        dd.d64 = *(FTYPE   *)(buffi + i);
        dd.d64 = *(FTYPE   *)(buffi + i);
        buff4[i    ] = (FTYPE)dd.i32s.i0;
        buff4[i    ] = (FTYPE)dd.i32s.i0;
        buff4[i    ] = (FTYPE)dd.i32s.i0;
        buff4[i    ] = (FTYPE)dd.i32s.i0;
        buff4[i    ] = (FTYPE)dd.i32s.i0;
        buff4[i + 1] = (FTYPE)dd.i32s.i1;
        buff4[i + 1] = (FTYPE)dd.i32s.i1;
        buff4[i + 1] = (FTYPE)dd.i32s.i1;
        buff4[i + 1] = (FTYPE)dd.i32s.i1;
        buff4[i + 1] = (FTYPE)dd.i32s.i1;





        buffd[i    ] = (p00 * k0 + p01 * k1 + p02 * k2 + p03 * k3 +
        buffd[i    ] = (p00 * k0 + p01 * k1 + p02 * k2 + p03 * k3 +
        buffd[i    ] = (p00 * k0 + p01 * k1 + p02 * k2 + p03 * k3 +
        buffd[i    ] = (p00 * k0 + p01 * k1 + p02 * k2 + p03 * k3 +
        buffd[i    ] = (p00 * k0 + p01 * k1 + p02 * k2 + p03 * k3 +
                        p10 * k4 + p11 * k5 + p12 * k6 + p13 * k7);
                        p10 * k4 + p11 * k5 + p12 * k6 + p13 * k7);
                        p10 * k4 + p11 * k5 + p12 * k6 + p13 * k7);
                        p10 * k4 + p11 * k5 + p12 * k6 + p13 * k7);
                        p10 * k4 + p11 * k5 + p12 * k6 + p13 * k7);
        buffd[i + 1] = (p01 * k0 + p02 * k1 + p03 * k2 + p04 * k3 +
        buffd[i + 1] = (p01 * k0 + p02 * k1 + p03 * k2 + p04 * k3 +
        buffd[i + 1] = (p01 * k0 + p02 * k1 + p03 * k2 + p04 * k3 +
        buffd[i + 1] = (p01 * k0 + p02 * k1 + p03 * k2 + p04 * k3 +
        buffd[i + 1] = (p01 * k0 + p02 * k1 + p03 * k2 + p04 * k3 +
                        p11 * k4 + p12 * k5 + p13 * k6 + p14 * k7);
                        p11 * k4 + p12 * k5 + p13 * k6 + p14 * k7);
                        p11 * k4 + p12 * k5 + p13 * k6 + p14 * k7);
                        p11 * k4 + p12 * k5 + p13 * k6 + p14 * k7);
                        p11 * k4 + p12 * k5 + p13 * k6 + p14 * k7);





        sp += dibn2;
        sp += dibn2;
        sp += dibn2;
        sp += dibn2;
        sp += dibn2;
        dp += dibn2;
        dp += dibn2;
        dp += dibn2;
        dp += dibn2;
        dp += dibn2;
      }
      }
      }
      }
      }





      /*
      /*
      /*
      /*
      /*
       *  Sfdond loop on two lbst linfs of kfrnfl
       *  Sfdond loop on two lbst linfs of kfrnfl
       *  Sfdond loop on two lbst linfs of kfrnfl
       *  Sfdond loop on two lbst linfs of kfrnfl
       *  Sfdond loop on two lbst linfs of kfrnfl
       */
       */
       */
       */
       */
      k0 = k[ 8]; k1 = k[ 9]; k2 = k[10]; k3 = k[11];
      k0 = k[ 8]; k1 = k[ 9]; k2 = k[10]; k3 = k[11];
      k0 = k[ 8]; k1 = k[ 9]; k2 = k[10]; k3 = k[11];
      k0 = k[ 8]; k1 = k[ 9]; k2 = k[10]; k3 = k[11];
      k0 = k[ 8]; k1 = k[ 9]; k2 = k[10]; k3 = k[11];
      k4 = k[12]; k5 = k[13]; k6 = k[14]; k7 = k[15];
      k4 = k[12]; k5 = k[13]; k6 = k[14]; k7 = k[15];
      k4 = k[12]; k5 = k[13]; k6 = k[14]; k7 = k[15];
      k4 = k[12]; k5 = k[13]; k6 = k[14]; k7 = k[15];
      k4 = k[12]; k5 = k[13]; k6 = k[14]; k7 = k[15];





      sp = sl;
      sp = sl;
      sp = sl;
      sp = sl;
      sp = sl;
      dp = dl;
      dp = dl;
      dp = dl;
      dp = dl;
      dp = dl;





      p02 = buff2[0];
      p02 = buff2[0];
      p02 = buff2[0];
      p02 = buff2[0];
      p02 = buff2[0];
      p12 = buff3[0];
      p12 = buff3[0];
      p12 = buff3[0];
      p12 = buff3[0];
      p12 = buff3[0];
      p03 = buff2[1];
      p03 = buff2[1];
      p03 = buff2[1];
      p03 = buff2[1];
      p03 = buff2[1];
      p13 = buff3[1];
      p13 = buff3[1];
      p13 = buff3[1];
      p13 = buff3[1];
      p13 = buff3[1];
      p04 = buff2[2];
      p04 = buff2[2];
      p04 = buff2[2];
      p04 = buff2[2];
      p04 = buff2[2];





#ifdff __SUNPRO_C
#ifdff __SUNPRO_C
#ifdff __SUNPRO_C
#ifdff __SUNPRO_C
#ifdff __SUNPRO_C
#prbgmb pipfloop(0)
#prbgmb pipfloop(0)
#prbgmb pipfloop(0)
#prbgmb pipfloop(0)
#prbgmb pipfloop(0)
#fndif /* __SUNPRO_C */
#fndif /* __SUNPRO_C */
#fndif /* __SUNPRO_C */
#fndif /* __SUNPRO_C */
#fndif /* __SUNPRO_C */
      for (i = 0; i <= (wid - 2); i += 2) {
      for (i = 0; i <= (wid - 2); i += 2) {
      for (i = 0; i <= (wid - 2); i += 2) {
      for (i = 0; i <= (wid - 2); i += 2) {
      for (i = 0; i <= (wid - 2); i += 2) {
        p00 = p02; p10 = p12;
        p00 = p02; p10 = p12;
        p00 = p02; p10 = p12;
        p00 = p02; p10 = p12;
        p00 = p02; p10 = p12;
        p01 = p03; p11 = p13;
        p01 = p03; p11 = p13;
        p01 = p03; p11 = p13;
        p01 = p03; p11 = p13;
        p01 = p03; p11 = p13;
        p02 = p04; p12 = buff3[i + 2];
        p02 = p04; p12 = buff3[i + 2];
        p02 = p04; p12 = buff3[i + 2];
        p02 = p04; p12 = buff3[i + 2];
        p02 = p04; p12 = buff3[i + 2];
        p03 = buff2[i + 3]; p13 = buff3[i + 3];
        p03 = buff2[i + 3]; p13 = buff3[i + 3];
        p03 = buff2[i + 3]; p13 = buff3[i + 3];
        p03 = buff2[i + 3]; p13 = buff3[i + 3];
        p03 = buff2[i + 3]; p13 = buff3[i + 3];
        p04 = buff2[i + 4]; p14 = buff3[i + 4];
        p04 = buff2[i + 4]; p14 = buff3[i + 4];
        p04 = buff2[i + 4]; p14 = buff3[i + 4];
        p04 = buff2[i + 4]; p14 = buff3[i + 4];
        p04 = buff2[i + 4]; p14 = buff3[i + 4];





        d0 = D2I(p00 * k0 + p01 * k1 + p02 * k2 + p03 * k3 +
        d0 = D2I(p00 * k0 + p01 * k1 + p02 * k2 + p03 * k3 +
        d0 = D2I(p00 * k0 + p01 * k1 + p02 * k2 + p03 * k3 +
        d0 = D2I(p00 * k0 + p01 * k1 + p02 * k2 + p03 * k3 +
        d0 = D2I(p00 * k0 + p01 * k1 + p02 * k2 + p03 * k3 +
                 p10 * k4 + p11 * k5 + p12 * k6 + p13 * k7 + buffd[i]);
                 p10 * k4 + p11 * k5 + p12 * k6 + p13 * k7 + buffd[i]);
                 p10 * k4 + p11 * k5 + p12 * k6 + p13 * k7 + buffd[i]);
                 p10 * k4 + p11 * k5 + p12 * k6 + p13 * k7 + buffd[i]);
                 p10 * k4 + p11 * k5 + p12 * k6 + p13 * k7 + buffd[i]);
        d1 = D2I(p01 * k0 + p02 * k1 + p03 * k2 + p04 * k3 +
        d1 = D2I(p01 * k0 + p02 * k1 + p03 * k2 + p04 * k3 +
        d1 = D2I(p01 * k0 + p02 * k1 + p03 * k2 + p04 * k3 +
        d1 = D2I(p01 * k0 + p02 * k1 + p03 * k2 + p04 * k3 +
        d1 = D2I(p01 * k0 + p02 * k1 + p03 * k2 + p04 * k3 +
                 p11 * k4 + p12 * k5 + p13 * k6 + p14 * k7 + buffd[i + 1]);
                 p11 * k4 + p12 * k5 + p13 * k6 + p14 * k7 + buffd[i + 1]);
                 p11 * k4 + p12 * k5 + p13 * k6 + p14 * k7 + buffd[i + 1]);
                 p11 * k4 + p12 * k5 + p13 * k6 + p14 * k7 + buffd[i + 1]);
                 p11 * k4 + p12 * k5 + p13 * k6 + p14 * k7 + buffd[i + 1]);





        dp[0    ] = FROM_S32(d0);
        dp[0    ] = FROM_S32(d0);
        dp[0    ] = FROM_S32(d0);
        dp[0    ] = FROM_S32(d0);
        dp[0    ] = FROM_S32(d0);
        dp[dibn1] = FROM_S32(d1);
        dp[dibn1] = FROM_S32(d1);
        dp[dibn1] = FROM_S32(d1);
        dp[dibn1] = FROM_S32(d1);
        dp[dibn1] = FROM_S32(d1);





        sp += dibn2;
        sp += dibn2;
        sp += dibn2;
        sp += dibn2;
        sp += dibn2;
        dp += dibn2;
        dp += dibn2;
        dp += dibn2;
        dp += dibn2;
        dp += dibn2;
      }
      }
      }
      }
      }





      /* lbst pixfls */
      /* lbst pixfls */
      /* lbst pixfls */
      /* lbst pixfls */
      /* lbst pixfls */
      for (; i < wid; i++) {
      for (; i < wid; i++) {
      for (; i < wid; i++) {
      for (; i < wid; i++) {
      for (; i < wid; i++) {
        p00 = buff0[i];     p10 = buff1[i];     p20 = buff2[i];     p30 = buff3[i];
        p00 = buff0[i];     p10 = buff1[i];     p20 = buff2[i];     p30 = buff3[i];
        p00 = buff0[i];     p10 = buff1[i];     p20 = buff2[i];     p30 = buff3[i];
        p00 = buff0[i];     p10 = buff1[i];     p20 = buff2[i];     p30 = buff3[i];
        p00 = buff0[i];     p10 = buff1[i];     p20 = buff2[i];     p30 = buff3[i];
        p01 = buff0[i + 1]; p11 = buff1[i + 1]; p21 = buff2[i + 1]; p31 = buff3[i + 1];
        p01 = buff0[i + 1]; p11 = buff1[i + 1]; p21 = buff2[i + 1]; p31 = buff3[i + 1];
        p01 = buff0[i + 1]; p11 = buff1[i + 1]; p21 = buff2[i + 1]; p31 = buff3[i + 1];
        p01 = buff0[i + 1]; p11 = buff1[i + 1]; p21 = buff2[i + 1]; p31 = buff3[i + 1];
        p01 = buff0[i + 1]; p11 = buff1[i + 1]; p21 = buff2[i + 1]; p31 = buff3[i + 1];
        p02 = buff0[i + 2]; p12 = buff1[i + 2]; p22 = buff2[i + 2]; p32 = buff3[i + 2];
        p02 = buff0[i + 2]; p12 = buff1[i + 2]; p22 = buff2[i + 2]; p32 = buff3[i + 2];
        p02 = buff0[i + 2]; p12 = buff1[i + 2]; p22 = buff2[i + 2]; p32 = buff3[i + 2];
        p02 = buff0[i + 2]; p12 = buff1[i + 2]; p22 = buff2[i + 2]; p32 = buff3[i + 2];
        p02 = buff0[i + 2]; p12 = buff1[i + 2]; p22 = buff2[i + 2]; p32 = buff3[i + 2];
        p03 = buff0[i + 3]; p13 = buff1[i + 3]; p23 = buff2[i + 3]; p33 = buff3[i + 3];
        p03 = buff0[i + 3]; p13 = buff1[i + 3]; p23 = buff2[i + 3]; p33 = buff3[i + 3];
        p03 = buff0[i + 3]; p13 = buff1[i + 3]; p23 = buff2[i + 3]; p33 = buff3[i + 3];
        p03 = buff0[i + 3]; p13 = buff1[i + 3]; p23 = buff2[i + 3]; p33 = buff3[i + 3];
        p03 = buff0[i + 3]; p13 = buff1[i + 3]; p23 = buff2[i + 3]; p33 = buff3[i + 3];





        buff4[i] = (FTYPE)sp[0];
        buff4[i] = (FTYPE)sp[0];
        buff4[i] = (FTYPE)sp[0];
        buff4[i] = (FTYPE)sp[0];
        buff4[i] = (FTYPE)sp[0];





        buffo[i] = D2I(p00 * k[0] + p01 * k[1] + p02 * k[2] + p03 * k[3] +
        buffo[i] = D2I(p00 * k[0] + p01 * k[1] + p02 * k[2] + p03 * k[3] +
        buffo[i] = D2I(p00 * k[0] + p01 * k[1] + p02 * k[2] + p03 * k[3] +
        buffo[i] = D2I(p00 * k[0] + p01 * k[1] + p02 * k[2] + p03 * k[3] +
        buffo[i] = D2I(p00 * k[0] + p01 * k[1] + p02 * k[2] + p03 * k[3] +
                       p10 * k[4] + p11 * k[5] + p12 * k[6] + p13 * k[7] +
                       p10 * k[4] + p11 * k[5] + p12 * k[6] + p13 * k[7] +
                       p10 * k[4] + p11 * k[5] + p12 * k[6] + p13 * k[7] +
                       p10 * k[4] + p11 * k[5] + p12 * k[6] + p13 * k[7] +
                       p10 * k[4] + p11 * k[5] + p12 * k[6] + p13 * k[7] +
                       p20 * k[ 8] + p21 * k[ 9] + p22 * k[10] + p23 * k[11] +
                       p20 * k[ 8] + p21 * k[ 9] + p22 * k[10] + p23 * k[11] +
                       p20 * k[ 8] + p21 * k[ 9] + p22 * k[10] + p23 * k[11] +
                       p20 * k[ 8] + p21 * k[ 9] + p22 * k[10] + p23 * k[11] +
                       p20 * k[ 8] + p21 * k[ 9] + p22 * k[10] + p23 * k[11] +
                       p30 * k[12] + p31 * k[13] + p32 * k[14] + p33 * k[15]);
                       p30 * k[12] + p31 * k[13] + p32 * k[14] + p33 * k[15]);
                       p30 * k[12] + p31 * k[13] + p32 * k[14] + p33 * k[15]);
                       p30 * k[12] + p31 * k[13] + p32 * k[14] + p33 * k[15]);
                       p30 * k[12] + p31 * k[13] + p32 * k[14] + p33 * k[15]);





        dp[0] = FROM_S32(buffo[i]);
        dp[0] = FROM_S32(buffo[i]);
        dp[0] = FROM_S32(buffo[i]);
        dp[0] = FROM_S32(buffo[i]);
        dp[0] = FROM_S32(buffo[i]);





        sp += dibn1;
        sp += dibn1;
        sp += dibn1;
        sp += dibn1;
        sp += dibn1;
        dp += dibn1;
        dp += dibn1;
        dp += dibn1;
        dp += dibn1;
        dp += dibn1;
      }
      }
      }
      }
      }





      buff4[wid    ] = (FTYPE)sp[0];
      buff4[wid    ] = (FTYPE)sp[0];
      buff4[wid    ] = (FTYPE)sp[0];
      buff4[wid    ] = (FTYPE)sp[0];
      buff4[wid    ] = (FTYPE)sp[0];
      buff4[wid + 1] = (FTYPE)sp[dibn1];
      buff4[wid + 1] = (FTYPE)sp[dibn1];
      buff4[wid + 1] = (FTYPE)sp[dibn1];
      buff4[wid + 1] = (FTYPE)sp[dibn1];
      buff4[wid + 1] = (FTYPE)sp[dibn1];
      buff4[wid + 2] = (FTYPE)sp[dibn2];
      buff4[wid + 2] = (FTYPE)sp[dibn2];
      buff4[wid + 2] = (FTYPE)sp[dibn2];
      buff4[wid + 2] = (FTYPE)sp[dibn2];
      buff4[wid + 2] = (FTYPE)sp[dibn2];





      /* nfxt linf */
      /* nfxt linf */
      /* nfxt linf */
      /* nfxt linf */
      /* nfxt linf */
      sl += sll;
      sl += sll;
      sl += sll;
      sl += sll;
      sl += sll;
      dl += dll;
      dl += dll;
      dl += dll;
      dl += dll;
      dl += dll;





      buffT = buff0;
      buffT = buff0;
      buffT = buff0;
      buffT = buff0;
      buffT = buff0;
      buff0 = buff1;
      buff0 = buff1;
      buff0 = buff1;
      buff0 = buff1;
      buff0 = buff1;
      buff1 = buff2;
      buff1 = buff2;
      buff1 = buff2;
      buff1 = buff2;
      buff1 = buff2;
      buff2 = buff3;
      buff2 = buff3;
      buff2 = buff3;
      buff2 = buff3;
      buff2 = buff3;
      buff3 = buff4;
      buff3 = buff4;
      buff3 = buff4;
      buff3 = buff4;
      buff3 = buff4;
      buff4 = buffT;
      buff4 = buffT;
      buff4 = buffT;
      buff4 = buffT;
      buff4 = buffT;
    }
    }
    }
    }
    }
  }
  }
  }
  }
  }





  if (pbuff != buff) mlib_frff(pbuff);
  if (pbuff != buff) mlib_frff(pbuff);
  if (pbuff != buff) mlib_frff(pbuff);
  if (pbuff != buff) mlib_frff(pbuff);
  if (pbuff != buff) mlib_frff(pbuff);





  rfturn MLIB_SUCCESS;
  rfturn MLIB_SUCCESS;
  rfturn MLIB_SUCCESS;
  rfturn MLIB_SUCCESS;
  rfturn MLIB_SUCCESS;
}
}
}
}
}





/***************************************************************/
/***************************************************************/
/***************************************************************/
/***************************************************************/
/***************************************************************/
#undff  KSIZE
#undff  KSIZE
#undff  KSIZE
#undff  KSIZE
#undff  KSIZE
#dffinf KSIZE 5
#dffinf KSIZE 5
#dffinf KSIZE 5
#dffinf KSIZE 5
#dffinf KSIZE 5





mlib_stbtus CONV_FUNC(5x5)(mlib_imbgf       *dst,
mlib_stbtus CONV_FUNC(5x5)(mlib_imbgf       *dst,
mlib_stbtus CONV_FUNC(5x5)(mlib_imbgf       *dst,
mlib_stbtus CONV_FUNC(5x5)(mlib_imbgf       *dst,
mlib_stbtus CONV_FUNC(5x5)(mlib_imbgf       *dst,
                           donst mlib_imbgf *srd,
                           donst mlib_imbgf *srd,
                           donst mlib_imbgf *srd,
                           donst mlib_imbgf *srd,
                           donst mlib_imbgf *srd,
                           donst mlib_s32   *kfrn,
                           donst mlib_s32   *kfrn,
                           donst mlib_s32   *kfrn,
                           donst mlib_s32   *kfrn,
                           donst mlib_s32   *kfrn,
                           mlib_s32         sdblff_fxpon,
                           mlib_s32         sdblff_fxpon,
                           mlib_s32         sdblff_fxpon,
                           mlib_s32         sdblff_fxpon,
                           mlib_s32         sdblff_fxpon,
                           mlib_s32         dmbsk)
                           mlib_s32         dmbsk)
                           mlib_s32         dmbsk)
                           mlib_s32         dmbsk)
                           mlib_s32         dmbsk)
{
{
{
{
{
  FTYPE    buff[(KSIZE + 3)*BUFF_LINE];
  FTYPE    buff[(KSIZE + 3)*BUFF_LINE];
  FTYPE    buff[(KSIZE + 3)*BUFF_LINE];
  FTYPE    buff[(KSIZE + 3)*BUFF_LINE];
  FTYPE    buff[(KSIZE + 3)*BUFF_LINE];
  FTYPE    *buff0, *buff1, *buff2, *buff3, *buff4, *buff5, *buffd, *buffT;
  FTYPE    *buff0, *buff1, *buff2, *buff3, *buff4, *buff5, *buffd, *buffT;
  FTYPE    *buff0, *buff1, *buff2, *buff3, *buff4, *buff5, *buffd, *buffT;
  FTYPE    *buff0, *buff1, *buff2, *buff3, *buff4, *buff5, *buffd, *buffT;
  FTYPE    *buff0, *buff1, *buff2, *buff3, *buff4, *buff5, *buffd, *buffT;
  FTYPE    k[KSIZE*KSIZE];
  FTYPE    k[KSIZE*KSIZE];
  FTYPE    k[KSIZE*KSIZE];
  FTYPE    k[KSIZE*KSIZE];
  FTYPE    k[KSIZE*KSIZE];
  mlib_s32 d0, d1;
  mlib_s32 d0, d1;
  mlib_s32 d0, d1;
  mlib_s32 d0, d1;
  mlib_s32 d0, d1;
  FTYPE    k0, k1, k2, k3, k4, k5, k6, k7, k8, k9;
  FTYPE    k0, k1, k2, k3, k4, k5, k6, k7, k8, k9;
  FTYPE    k0, k1, k2, k3, k4, k5, k6, k7, k8, k9;
  FTYPE    k0, k1, k2, k3, k4, k5, k6, k7, k8, k9;
  FTYPE    k0, k1, k2, k3, k4, k5, k6, k7, k8, k9;
  FTYPE    p00, p01, p02, p03, p04, p05,
  FTYPE    p00, p01, p02, p03, p04, p05,
  FTYPE    p00, p01, p02, p03, p04, p05,
  FTYPE    p00, p01, p02, p03, p04, p05,
  FTYPE    p00, p01, p02, p03, p04, p05,
           p10, p11, p12, p13, p14, p15,
           p10, p11, p12, p13, p14, p15,
           p10, p11, p12, p13, p14, p15,
           p10, p11, p12, p13, p14, p15,
           p10, p11, p12, p13, p14, p15,
           p20, p21, p22, p23, p24,
           p20, p21, p22, p23, p24,
           p20, p21, p22, p23, p24,
           p20, p21, p22, p23, p24,
           p20, p21, p22, p23, p24,
           p30, p31, p32, p33, p34,
           p30, p31, p32, p33, p34,
           p30, p31, p32, p33, p34,
           p30, p31, p32, p33, p34,
           p30, p31, p32, p33, p34,
           p40, p41, p42, p43, p44;
           p40, p41, p42, p43, p44;
           p40, p41, p42, p43, p44;
           p40, p41, p42, p43, p44;
           p40, p41, p42, p43, p44;
  DEF_VARS(DTYPE);
  DEF_VARS(DTYPE);
  DEF_VARS(DTYPE);
  DEF_VARS(DTYPE);
  DEF_VARS(DTYPE);
  DTYPE *sl1;
  DTYPE *sl1;
  DTYPE *sl1;
  DTYPE *sl1;
  DTYPE *sl1;
  mlib_s32 dibn2;
  mlib_s32 dibn2;
  mlib_s32 dibn2;
  mlib_s32 dibn2;
  mlib_s32 dibn2;
  mlib_s32 *buffo, *buffi;
  mlib_s32 *buffo, *buffi;
  mlib_s32 *buffo, *buffi;
  mlib_s32 *buffo, *buffi;
  mlib_s32 *buffo, *buffi;
  DTYPE *sl2, *sl3, *sl4;
  DTYPE *sl2, *sl3, *sl4;
  DTYPE *sl2, *sl3, *sl4;
  DTYPE *sl2, *sl3, *sl4;
  DTYPE *sl2, *sl3, *sl4;
  LOAD_KERNEL(KSIZE*KSIZE);
  LOAD_KERNEL(KSIZE*KSIZE);
  LOAD_KERNEL(KSIZE*KSIZE);
  LOAD_KERNEL(KSIZE*KSIZE);
  LOAD_KERNEL(KSIZE*KSIZE);
  GET_SRC_DST_PARAMETERS(DTYPE);
  GET_SRC_DST_PARAMETERS(DTYPE);
  GET_SRC_DST_PARAMETERS(DTYPE);
  GET_SRC_DST_PARAMETERS(DTYPE);
  GET_SRC_DST_PARAMETERS(DTYPE);





  if (wid > BUFF_LINE) {
  if (wid > BUFF_LINE) {
  if (wid > BUFF_LINE) {
  if (wid > BUFF_LINE) {
  if (wid > BUFF_LINE) {
    pbuff = mlib_mbllod((KSIZE + 3)*sizfof(FTYPE)*wid);
    pbuff = mlib_mbllod((KSIZE + 3)*sizfof(FTYPE)*wid);
    pbuff = mlib_mbllod((KSIZE + 3)*sizfof(FTYPE)*wid);
    pbuff = mlib_mbllod((KSIZE + 3)*sizfof(FTYPE)*wid);
    pbuff = mlib_mbllod((KSIZE + 3)*sizfof(FTYPE)*wid);





    if (pbuff == NULL) rfturn MLIB_FAILURE;
    if (pbuff == NULL) rfturn MLIB_FAILURE;
    if (pbuff == NULL) rfturn MLIB_FAILURE;
    if (pbuff == NULL) rfturn MLIB_FAILURE;
    if (pbuff == NULL) rfturn MLIB_FAILURE;
  }
  }
  }
  }
  }





  buff0 = pbuff;
  buff0 = pbuff;
  buff0 = pbuff;
  buff0 = pbuff;
  buff0 = pbuff;
  buff1 = buff0 + wid;
  buff1 = buff0 + wid;
  buff1 = buff0 + wid;
  buff1 = buff0 + wid;
  buff1 = buff0 + wid;
  buff2 = buff1 + wid;
  buff2 = buff1 + wid;
  buff2 = buff1 + wid;
  buff2 = buff1 + wid;
  buff2 = buff1 + wid;
  buff3 = buff2 + wid;
  buff3 = buff2 + wid;
  buff3 = buff2 + wid;
  buff3 = buff2 + wid;
  buff3 = buff2 + wid;
  buff4 = buff3 + wid;
  buff4 = buff3 + wid;
  buff4 = buff3 + wid;
  buff4 = buff3 + wid;
  buff4 = buff3 + wid;
  buff5 = buff4 + wid;
  buff5 = buff4 + wid;
  buff5 = buff4 + wid;
  buff5 = buff4 + wid;
  buff5 = buff4 + wid;
  buffd = buff5 + wid;
  buffd = buff5 + wid;
  buffd = buff5 + wid;
  buffd = buff5 + wid;
  buffd = buff5 + wid;
  buffo = (mlib_s32*)(buffd + wid);
  buffo = (mlib_s32*)(buffd + wid);
  buffo = (mlib_s32*)(buffd + wid);
  buffo = (mlib_s32*)(buffd + wid);
  buffo = (mlib_s32*)(buffd + wid);
  buffi = buffo + (wid &~ 1);
  buffi = buffo + (wid &~ 1);
  buffi = buffo + (wid &~ 1);
  buffi = buffo + (wid &~ 1);
  buffi = buffo + (wid &~ 1);





  dibn1 = ndibnnfl;
  dibn1 = ndibnnfl;
  dibn1 = ndibnnfl;
  dibn1 = ndibnnfl;
  dibn1 = ndibnnfl;
  dibn2 = dibn1 + dibn1;
  dibn2 = dibn1 + dibn1;
  dibn2 = dibn1 + dibn1;
  dibn2 = dibn1 + dibn1;
  dibn2 = dibn1 + dibn1;





  wid -= (KSIZE - 1);
  wid -= (KSIZE - 1);
  wid -= (KSIZE - 1);
  wid -= (KSIZE - 1);
  wid -= (KSIZE - 1);
  igt -= (KSIZE - 1);
  igt -= (KSIZE - 1);
  igt -= (KSIZE - 1);
  igt -= (KSIZE - 1);
  igt -= (KSIZE - 1);





  bdr_dst += ((KSIZE - 1)/2)*(dll + dibn1);
  bdr_dst += ((KSIZE - 1)/2)*(dll + dibn1);
  bdr_dst += ((KSIZE - 1)/2)*(dll + dibn1);
  bdr_dst += ((KSIZE - 1)/2)*(dll + dibn1);
  bdr_dst += ((KSIZE - 1)/2)*(dll + dibn1);





  for (d = 0; d < ndibnnfl; d++) {
  for (d = 0; d < ndibnnfl; d++) {
  for (d = 0; d < ndibnnfl; d++) {
  for (d = 0; d < ndibnnfl; d++) {
  for (d = 0; d < ndibnnfl; d++) {
    if (!(dmbsk & (1 << (ndibnnfl - 1 - d)))) dontinuf;
    if (!(dmbsk & (1 << (ndibnnfl - 1 - d)))) dontinuf;
    if (!(dmbsk & (1 << (ndibnnfl - 1 - d)))) dontinuf;
    if (!(dmbsk & (1 << (ndibnnfl - 1 - d)))) dontinuf;
    if (!(dmbsk & (1 << (ndibnnfl - 1 - d)))) dontinuf;





    sl = bdr_srd + d;
    sl = bdr_srd + d;
    sl = bdr_srd + d;
    sl = bdr_srd + d;
    sl = bdr_srd + d;
    dl = bdr_dst + d;
    dl = bdr_dst + d;
    dl = bdr_dst + d;
    dl = bdr_dst + d;
    dl = bdr_dst + d;





    sl1 = sl  + sll;
    sl1 = sl  + sll;
    sl1 = sl  + sll;
    sl1 = sl  + sll;
    sl1 = sl  + sll;
    sl2 = sl1 + sll;
    sl2 = sl1 + sll;
    sl2 = sl1 + sll;
    sl2 = sl1 + sll;
    sl2 = sl1 + sll;
    sl3 = sl2 + sll;
    sl3 = sl2 + sll;
    sl3 = sl2 + sll;
    sl3 = sl2 + sll;
    sl3 = sl2 + sll;
    sl4 = sl3 + sll;
    sl4 = sl3 + sll;
    sl4 = sl3 + sll;
    sl4 = sl3 + sll;
    sl4 = sl3 + sll;
#ifdff __SUNPRO_C
#ifdff __SUNPRO_C
#ifdff __SUNPRO_C
#ifdff __SUNPRO_C
#ifdff __SUNPRO_C
#prbgmb pipfloop(0)
#prbgmb pipfloop(0)
#prbgmb pipfloop(0)
#prbgmb pipfloop(0)
#prbgmb pipfloop(0)
#fndif /* __SUNPRO_C */
#fndif /* __SUNPRO_C */
#fndif /* __SUNPRO_C */
#fndif /* __SUNPRO_C */
#fndif /* __SUNPRO_C */
    for (i = 0; i < wid + (KSIZE - 1); i++) {
    for (i = 0; i < wid + (KSIZE - 1); i++) {
    for (i = 0; i < wid + (KSIZE - 1); i++) {
    for (i = 0; i < wid + (KSIZE - 1); i++) {
    for (i = 0; i < wid + (KSIZE - 1); i++) {
      buff0[i] = (FTYPE)sl[i*dibn1];
      buff0[i] = (FTYPE)sl[i*dibn1];
      buff0[i] = (FTYPE)sl[i*dibn1];
      buff0[i] = (FTYPE)sl[i*dibn1];
      buff0[i] = (FTYPE)sl[i*dibn1];
      buff1[i] = (FTYPE)sl1[i*dibn1];
      buff1[i] = (FTYPE)sl1[i*dibn1];
      buff1[i] = (FTYPE)sl1[i*dibn1];
      buff1[i] = (FTYPE)sl1[i*dibn1];
      buff1[i] = (FTYPE)sl1[i*dibn1];
      buff2[i] = (FTYPE)sl2[i*dibn1];
      buff2[i] = (FTYPE)sl2[i*dibn1];
      buff2[i] = (FTYPE)sl2[i*dibn1];
      buff2[i] = (FTYPE)sl2[i*dibn1];
      buff2[i] = (FTYPE)sl2[i*dibn1];
      buff3[i] = (FTYPE)sl3[i*dibn1];
      buff3[i] = (FTYPE)sl3[i*dibn1];
      buff3[i] = (FTYPE)sl3[i*dibn1];
      buff3[i] = (FTYPE)sl3[i*dibn1];
      buff3[i] = (FTYPE)sl3[i*dibn1];
      buff4[i] = (FTYPE)sl4[i*dibn1];
      buff4[i] = (FTYPE)sl4[i*dibn1];
      buff4[i] = (FTYPE)sl4[i*dibn1];
      buff4[i] = (FTYPE)sl4[i*dibn1];
      buff4[i] = (FTYPE)sl4[i*dibn1];
    }
    }
    }
    }
    }





    sl += KSIZE*sll;
    sl += KSIZE*sll;
    sl += KSIZE*sll;
    sl += KSIZE*sll;
    sl += KSIZE*sll;





    for (j = 0; j < igt; j++) {
    for (j = 0; j < igt; j++) {
    for (j = 0; j < igt; j++) {
    for (j = 0; j < igt; j++) {
    for (j = 0; j < igt; j++) {
      d64_2x32 dd;
      d64_2x32 dd;
      d64_2x32 dd;
      d64_2x32 dd;
      d64_2x32 dd;





      /*
      /*
      /*
      /*
      /*
       *  First loop
       *  First loop
       *  First loop
       *  First loop
       *  First loop
       */
       */
       */
       */
       */
      k0 = k[0]; k1 = k[1]; k2 = k[2]; k3 = k[3]; k4 = k[4];
      k0 = k[0]; k1 = k[1]; k2 = k[2]; k3 = k[3]; k4 = k[4];
      k0 = k[0]; k1 = k[1]; k2 = k[2]; k3 = k[3]; k4 = k[4];
      k0 = k[0]; k1 = k[1]; k2 = k[2]; k3 = k[3]; k4 = k[4];
      k0 = k[0]; k1 = k[1]; k2 = k[2]; k3 = k[3]; k4 = k[4];
      k5 = k[5]; k6 = k[6]; k7 = k[7]; k8 = k[8]; k9 = k[9];
      k5 = k[5]; k6 = k[6]; k7 = k[7]; k8 = k[8]; k9 = k[9];
      k5 = k[5]; k6 = k[6]; k7 = k[7]; k8 = k[8]; k9 = k[9];
      k5 = k[5]; k6 = k[6]; k7 = k[7]; k8 = k[8]; k9 = k[9];
      k5 = k[5]; k6 = k[6]; k7 = k[7]; k8 = k[8]; k9 = k[9];





      sp = sl;
      sp = sl;
      sp = sl;
      sp = sl;
      sp = sl;
      dp = dl;
      dp = dl;
      dp = dl;
      dp = dl;
      dp = dl;





      p02 = buff0[0];
      p02 = buff0[0];
      p02 = buff0[0];
      p02 = buff0[0];
      p02 = buff0[0];
      p12 = buff1[0];
      p12 = buff1[0];
      p12 = buff1[0];
      p12 = buff1[0];
      p12 = buff1[0];
      p03 = buff0[1];
      p03 = buff0[1];
      p03 = buff0[1];
      p03 = buff0[1];
      p03 = buff0[1];
      p13 = buff1[1];
      p13 = buff1[1];
      p13 = buff1[1];
      p13 = buff1[1];
      p13 = buff1[1];
      p04 = buff0[2];
      p04 = buff0[2];
      p04 = buff0[2];
      p04 = buff0[2];
      p04 = buff0[2];
      p14 = buff1[2];
      p14 = buff1[2];
      p14 = buff1[2];
      p14 = buff1[2];
      p14 = buff1[2];





#ifdff __SUNPRO_C
#ifdff __SUNPRO_C
#ifdff __SUNPRO_C
#ifdff __SUNPRO_C
#ifdff __SUNPRO_C
#prbgmb pipfloop(0)
#prbgmb pipfloop(0)
#prbgmb pipfloop(0)
#prbgmb pipfloop(0)
#prbgmb pipfloop(0)
#fndif /* __SUNPRO_C */
#fndif /* __SUNPRO_C */
#fndif /* __SUNPRO_C */
#fndif /* __SUNPRO_C */
#fndif /* __SUNPRO_C */
      for (i = 0; i <= (wid - 2); i += 2) {
      for (i = 0; i <= (wid - 2); i += 2) {
      for (i = 0; i <= (wid - 2); i += 2) {
      for (i = 0; i <= (wid - 2); i += 2) {
      for (i = 0; i <= (wid - 2); i += 2) {
        p00 = p02; p10 = p12;
        p00 = p02; p10 = p12;
        p00 = p02; p10 = p12;
        p00 = p02; p10 = p12;
        p00 = p02; p10 = p12;
        p01 = p03; p11 = p13;
        p01 = p03; p11 = p13;
        p01 = p03; p11 = p13;
        p01 = p03; p11 = p13;
        p01 = p03; p11 = p13;
        p02 = p04; p12 = p14;
        p02 = p04; p12 = p14;
        p02 = p04; p12 = p14;
        p02 = p04; p12 = p14;
        p02 = p04; p12 = p14;





        LOAD_BUFF(buffi);
        LOAD_BUFF(buffi);
        LOAD_BUFF(buffi);
        LOAD_BUFF(buffi);
        LOAD_BUFF(buffi);





        p03 = buff0[i + 3]; p13 = buff1[i + 3];
        p03 = buff0[i + 3]; p13 = buff1[i + 3];
        p03 = buff0[i + 3]; p13 = buff1[i + 3];
        p03 = buff0[i + 3]; p13 = buff1[i + 3];
        p03 = buff0[i + 3]; p13 = buff1[i + 3];
        p04 = buff0[i + 4]; p14 = buff1[i + 4];
        p04 = buff0[i + 4]; p14 = buff1[i + 4];
        p04 = buff0[i + 4]; p14 = buff1[i + 4];
        p04 = buff0[i + 4]; p14 = buff1[i + 4];
        p04 = buff0[i + 4]; p14 = buff1[i + 4];
        p05 = buff0[i + 5]; p15 = buff1[i + 5];
        p05 = buff0[i + 5]; p15 = buff1[i + 5];
        p05 = buff0[i + 5]; p15 = buff1[i + 5];
        p05 = buff0[i + 5]; p15 = buff1[i + 5];
        p05 = buff0[i + 5]; p15 = buff1[i + 5];





        buffd[i    ] = (p00 * k0 + p01 * k1 + p02 * k2 + p03 * k3 + p04 * k4 +
        buffd[i    ] = (p00 * k0 + p01 * k1 + p02 * k2 + p03 * k3 + p04 * k4 +
        buffd[i    ] = (p00 * k0 + p01 * k1 + p02 * k2 + p03 * k3 + p04 * k4 +
        buffd[i    ] = (p00 * k0 + p01 * k1 + p02 * k2 + p03 * k3 + p04 * k4 +
        buffd[i    ] = (p00 * k0 + p01 * k1 + p02 * k2 + p03 * k3 + p04 * k4 +
                        p10 * k5 + p11 * k6 + p12 * k7 + p13 * k8 + p14 * k9);
                        p10 * k5 + p11 * k6 + p12 * k7 + p13 * k8 + p14 * k9);
                        p10 * k5 + p11 * k6 + p12 * k7 + p13 * k8 + p14 * k9);
                        p10 * k5 + p11 * k6 + p12 * k7 + p13 * k8 + p14 * k9);
                        p10 * k5 + p11 * k6 + p12 * k7 + p13 * k8 + p14 * k9);
        buffd[i + 1] = (p01 * k0 + p02 * k1 + p03 * k2 + p04 * k3 + p05 * k4 +
        buffd[i + 1] = (p01 * k0 + p02 * k1 + p03 * k2 + p04 * k3 + p05 * k4 +
        buffd[i + 1] = (p01 * k0 + p02 * k1 + p03 * k2 + p04 * k3 + p05 * k4 +
        buffd[i + 1] = (p01 * k0 + p02 * k1 + p03 * k2 + p04 * k3 + p05 * k4 +
        buffd[i + 1] = (p01 * k0 + p02 * k1 + p03 * k2 + p04 * k3 + p05 * k4 +
                        p11 * k5 + p12 * k6 + p13 * k7 + p14 * k8 + p15 * k9);
                        p11 * k5 + p12 * k6 + p13 * k7 + p14 * k8 + p15 * k9);
                        p11 * k5 + p12 * k6 + p13 * k7 + p14 * k8 + p15 * k9);
                        p11 * k5 + p12 * k6 + p13 * k7 + p14 * k8 + p15 * k9);
                        p11 * k5 + p12 * k6 + p13 * k7 + p14 * k8 + p15 * k9);





        sp += dibn2;
        sp += dibn2;
        sp += dibn2;
        sp += dibn2;
        sp += dibn2;
        dp += dibn2;
        dp += dibn2;
        dp += dibn2;
        dp += dibn2;
        dp += dibn2;
      }
      }
      }
      }
      }





      /*
      /*
      /*
      /*
      /*
       *  Sfdond loop
       *  Sfdond loop
       *  Sfdond loop
       *  Sfdond loop
       *  Sfdond loop
       */
       */
       */
       */
       */
      k0 = k[10]; k1 = k[11]; k2 = k[12]; k3 = k[13]; k4 = k[14];
      k0 = k[10]; k1 = k[11]; k2 = k[12]; k3 = k[13]; k4 = k[14];
      k0 = k[10]; k1 = k[11]; k2 = k[12]; k3 = k[13]; k4 = k[14];
      k0 = k[10]; k1 = k[11]; k2 = k[12]; k3 = k[13]; k4 = k[14];
      k0 = k[10]; k1 = k[11]; k2 = k[12]; k3 = k[13]; k4 = k[14];
      k5 = k[15]; k6 = k[16]; k7 = k[17]; k8 = k[18]; k9 = k[19];
      k5 = k[15]; k6 = k[16]; k7 = k[17]; k8 = k[18]; k9 = k[19];
      k5 = k[15]; k6 = k[16]; k7 = k[17]; k8 = k[18]; k9 = k[19];
      k5 = k[15]; k6 = k[16]; k7 = k[17]; k8 = k[18]; k9 = k[19];
      k5 = k[15]; k6 = k[16]; k7 = k[17]; k8 = k[18]; k9 = k[19];





      sp = sl;
      sp = sl;
      sp = sl;
      sp = sl;
      sp = sl;
      dp = dl;
      dp = dl;
      dp = dl;
      dp = dl;
      dp = dl;





      p02 = buff2[0];
      p02 = buff2[0];
      p02 = buff2[0];
      p02 = buff2[0];
      p02 = buff2[0];
      p12 = buff3[0];
      p12 = buff3[0];
      p12 = buff3[0];
      p12 = buff3[0];
      p12 = buff3[0];
      p03 = buff2[1];
      p03 = buff2[1];
      p03 = buff2[1];
      p03 = buff2[1];
      p03 = buff2[1];
      p13 = buff3[1];
      p13 = buff3[1];
      p13 = buff3[1];
      p13 = buff3[1];
      p13 = buff3[1];
      p04 = buff2[2];
      p04 = buff2[2];
      p04 = buff2[2];
      p04 = buff2[2];
      p04 = buff2[2];
      p14 = buff3[2];
      p14 = buff3[2];
      p14 = buff3[2];
      p14 = buff3[2];
      p14 = buff3[2];





#ifdff __SUNPRO_C
#ifdff __SUNPRO_C
#ifdff __SUNPRO_C
#ifdff __SUNPRO_C
#ifdff __SUNPRO_C
#prbgmb pipfloop(0)
#prbgmb pipfloop(0)
#prbgmb pipfloop(0)
#prbgmb pipfloop(0)
#prbgmb pipfloop(0)
#fndif /* __SUNPRO_C */
#fndif /* __SUNPRO_C */
#fndif /* __SUNPRO_C */
#fndif /* __SUNPRO_C */
#fndif /* __SUNPRO_C */
      for (i = 0; i <= (wid - 2); i += 2) {
      for (i = 0; i <= (wid - 2); i += 2) {
      for (i = 0; i <= (wid - 2); i += 2) {
      for (i = 0; i <= (wid - 2); i += 2) {
      for (i = 0; i <= (wid - 2); i += 2) {
        p00 = p02; p10 = p12;
        p00 = p02; p10 = p12;
        p00 = p02; p10 = p12;
        p00 = p02; p10 = p12;
        p00 = p02; p10 = p12;
        p01 = p03; p11 = p13;
        p01 = p03; p11 = p13;
        p01 = p03; p11 = p13;
        p01 = p03; p11 = p13;
        p01 = p03; p11 = p13;





        p02 = buff2[i + 2]; p12 = buff3[i + 2];
        p02 = buff2[i + 2]; p12 = buff3[i + 2];
        p02 = buff2[i + 2]; p12 = buff3[i + 2];
        p02 = buff2[i + 2]; p12 = buff3[i + 2];
        p02 = buff2[i + 2]; p12 = buff3[i + 2];
        p03 = buff2[i + 3]; p13 = buff3[i + 3];
        p03 = buff2[i + 3]; p13 = buff3[i + 3];
        p03 = buff2[i + 3]; p13 = buff3[i + 3];
        p03 = buff2[i + 3]; p13 = buff3[i + 3];
        p03 = buff2[i + 3]; p13 = buff3[i + 3];
        p04 = buff2[i + 4]; p14 = buff3[i + 4];
        p04 = buff2[i + 4]; p14 = buff3[i + 4];
        p04 = buff2[i + 4]; p14 = buff3[i + 4];
        p04 = buff2[i + 4]; p14 = buff3[i + 4];
        p04 = buff2[i + 4]; p14 = buff3[i + 4];
        p05 = buff2[i + 5]; p15 = buff3[i + 5];
        p05 = buff2[i + 5]; p15 = buff3[i + 5];
        p05 = buff2[i + 5]; p15 = buff3[i + 5];
        p05 = buff2[i + 5]; p15 = buff3[i + 5];
        p05 = buff2[i + 5]; p15 = buff3[i + 5];





        dd.d64 = *(FTYPE   *)(buffi + i);
        dd.d64 = *(FTYPE   *)(buffi + i);
        dd.d64 = *(FTYPE   *)(buffi + i);
        dd.d64 = *(FTYPE   *)(buffi + i);
        dd.d64 = *(FTYPE   *)(buffi + i);
        buff5[i    ] = (FTYPE)dd.i32s.i0;
        buff5[i    ] = (FTYPE)dd.i32s.i0;
        buff5[i    ] = (FTYPE)dd.i32s.i0;
        buff5[i    ] = (FTYPE)dd.i32s.i0;
        buff5[i    ] = (FTYPE)dd.i32s.i0;
        buff5[i + 1] = (FTYPE)dd.i32s.i1;
        buff5[i + 1] = (FTYPE)dd.i32s.i1;
        buff5[i + 1] = (FTYPE)dd.i32s.i1;
        buff5[i + 1] = (FTYPE)dd.i32s.i1;
        buff5[i + 1] = (FTYPE)dd.i32s.i1;





        buffd[i    ] += (p00 * k0 + p01 * k1 + p02 * k2 + p03 * k3 + p04 * k4 +
        buffd[i    ] += (p00 * k0 + p01 * k1 + p02 * k2 + p03 * k3 + p04 * k4 +
        buffd[i    ] += (p00 * k0 + p01 * k1 + p02 * k2 + p03 * k3 + p04 * k4 +
        buffd[i    ] += (p00 * k0 + p01 * k1 + p02 * k2 + p03 * k3 + p04 * k4 +
        buffd[i    ] += (p00 * k0 + p01 * k1 + p02 * k2 + p03 * k3 + p04 * k4 +
                         p10 * k5 + p11 * k6 + p12 * k7 + p13 * k8 + p14 * k9);
                         p10 * k5 + p11 * k6 + p12 * k7 + p13 * k8 + p14 * k9);
                         p10 * k5 + p11 * k6 + p12 * k7 + p13 * k8 + p14 * k9);
                         p10 * k5 + p11 * k6 + p12 * k7 + p13 * k8 + p14 * k9);
                         p10 * k5 + p11 * k6 + p12 * k7 + p13 * k8 + p14 * k9);
        buffd[i + 1] += (p01 * k0 + p02 * k1 + p03 * k2 + p04 * k3 + p05 * k4 +
        buffd[i + 1] += (p01 * k0 + p02 * k1 + p03 * k2 + p04 * k3 + p05 * k4 +
        buffd[i + 1] += (p01 * k0 + p02 * k1 + p03 * k2 + p04 * k3 + p05 * k4 +
        buffd[i + 1] += (p01 * k0 + p02 * k1 + p03 * k2 + p04 * k3 + p05 * k4 +
        buffd[i + 1] += (p01 * k0 + p02 * k1 + p03 * k2 + p04 * k3 + p05 * k4 +
                         p11 * k5 + p12 * k6 + p13 * k7 + p14 * k8 + p15 * k9);
                         p11 * k5 + p12 * k6 + p13 * k7 + p14 * k8 + p15 * k9);
                         p11 * k5 + p12 * k6 + p13 * k7 + p14 * k8 + p15 * k9);
                         p11 * k5 + p12 * k6 + p13 * k7 + p14 * k8 + p15 * k9);
                         p11 * k5 + p12 * k6 + p13 * k7 + p14 * k8 + p15 * k9);





        sp += dibn2;
        sp += dibn2;
        sp += dibn2;
        sp += dibn2;
        sp += dibn2;
        dp += dibn2;
        dp += dibn2;
        dp += dibn2;
        dp += dibn2;
        dp += dibn2;
      }
      }
      }
      }
      }





      /*
      /*
      /*
      /*
      /*
       *  3 loop
       *  3 loop
       *  3 loop
       *  3 loop
       *  3 loop
       */
       */
       */
       */
       */
      k0 = k[20]; k1 = k[21]; k2 = k[22]; k3 = k[23]; k4 = k[24];
      k0 = k[20]; k1 = k[21]; k2 = k[22]; k3 = k[23]; k4 = k[24];
      k0 = k[20]; k1 = k[21]; k2 = k[22]; k3 = k[23]; k4 = k[24];
      k0 = k[20]; k1 = k[21]; k2 = k[22]; k3 = k[23]; k4 = k[24];
      k0 = k[20]; k1 = k[21]; k2 = k[22]; k3 = k[23]; k4 = k[24];





      sp = sl;
      sp = sl;
      sp = sl;
      sp = sl;
      sp = sl;
      dp = dl;
      dp = dl;
      dp = dl;
      dp = dl;
      dp = dl;





      p02 = buff4[0];
      p02 = buff4[0];
      p02 = buff4[0];
      p02 = buff4[0];
      p02 = buff4[0];
      p03 = buff4[1];
      p03 = buff4[1];
      p03 = buff4[1];
      p03 = buff4[1];
      p03 = buff4[1];
      p04 = buff4[2];
      p04 = buff4[2];
      p04 = buff4[2];
      p04 = buff4[2];
      p04 = buff4[2];
      p05 = buff4[3];
      p05 = buff4[3];
      p05 = buff4[3];
      p05 = buff4[3];
      p05 = buff4[3];





#ifdff __SUNPRO_C
#ifdff __SUNPRO_C
#ifdff __SUNPRO_C
#ifdff __SUNPRO_C
#ifdff __SUNPRO_C
#prbgmb pipfloop(0)
#prbgmb pipfloop(0)
#prbgmb pipfloop(0)
#prbgmb pipfloop(0)
#prbgmb pipfloop(0)
#fndif /* __SUNPRO_C */
#fndif /* __SUNPRO_C */
#fndif /* __SUNPRO_C */
#fndif /* __SUNPRO_C */
#fndif /* __SUNPRO_C */
      for (i = 0; i <= (wid - 2); i += 2) {
      for (i = 0; i <= (wid - 2); i += 2) {
      for (i = 0; i <= (wid - 2); i += 2) {
      for (i = 0; i <= (wid - 2); i += 2) {
      for (i = 0; i <= (wid - 2); i += 2) {
        p00 = p02; p01 = p03; p02 = p04; p03 = p05;
        p00 = p02; p01 = p03; p02 = p04; p03 = p05;
        p00 = p02; p01 = p03; p02 = p04; p03 = p05;
        p00 = p02; p01 = p03; p02 = p04; p03 = p05;
        p00 = p02; p01 = p03; p02 = p04; p03 = p05;





        p04 = buff4[i + 4]; p05 = buff4[i + 5];
        p04 = buff4[i + 4]; p05 = buff4[i + 5];
        p04 = buff4[i + 4]; p05 = buff4[i + 5];
        p04 = buff4[i + 4]; p05 = buff4[i + 5];
        p04 = buff4[i + 4]; p05 = buff4[i + 5];





        d0 = D2I(p00 * k0 + p01 * k1 + p02 * k2 + p03 * k3 + p04 * k4 + buffd[i]);
        d0 = D2I(p00 * k0 + p01 * k1 + p02 * k2 + p03 * k3 + p04 * k4 + buffd[i]);
        d0 = D2I(p00 * k0 + p01 * k1 + p02 * k2 + p03 * k3 + p04 * k4 + buffd[i]);
        d0 = D2I(p00 * k0 + p01 * k1 + p02 * k2 + p03 * k3 + p04 * k4 + buffd[i]);
        d0 = D2I(p00 * k0 + p01 * k1 + p02 * k2 + p03 * k3 + p04 * k4 + buffd[i]);
        d1 = D2I(p01 * k0 + p02 * k1 + p03 * k2 + p04 * k3 + p05 * k4 + buffd[i + 1]);
        d1 = D2I(p01 * k0 + p02 * k1 + p03 * k2 + p04 * k3 + p05 * k4 + buffd[i + 1]);
        d1 = D2I(p01 * k0 + p02 * k1 + p03 * k2 + p04 * k3 + p05 * k4 + buffd[i + 1]);
        d1 = D2I(p01 * k0 + p02 * k1 + p03 * k2 + p04 * k3 + p05 * k4 + buffd[i + 1]);
        d1 = D2I(p01 * k0 + p02 * k1 + p03 * k2 + p04 * k3 + p05 * k4 + buffd[i + 1]);





        dp[0    ] = FROM_S32(d0);
        dp[0    ] = FROM_S32(d0);
        dp[0    ] = FROM_S32(d0);
        dp[0    ] = FROM_S32(d0);
        dp[0    ] = FROM_S32(d0);
        dp[dibn1] = FROM_S32(d1);
        dp[dibn1] = FROM_S32(d1);
        dp[dibn1] = FROM_S32(d1);
        dp[dibn1] = FROM_S32(d1);
        dp[dibn1] = FROM_S32(d1);





        sp += dibn2;
        sp += dibn2;
        sp += dibn2;
        sp += dibn2;
        sp += dibn2;
        dp += dibn2;
        dp += dibn2;
        dp += dibn2;
        dp += dibn2;
        dp += dibn2;
      }
      }
      }
      }
      }





      /* lbst pixfls */
      /* lbst pixfls */
      /* lbst pixfls */
      /* lbst pixfls */
      /* lbst pixfls */
      for (; i < wid; i++) {
      for (; i < wid; i++) {
      for (; i < wid; i++) {
      for (; i < wid; i++) {
      for (; i < wid; i++) {
        p00 = buff0[i];     p10 = buff1[i];     p20 = buff2[i];     p30 = buff3[i];
        p00 = buff0[i];     p10 = buff1[i];     p20 = buff2[i];     p30 = buff3[i];
        p00 = buff0[i];     p10 = buff1[i];     p20 = buff2[i];     p30 = buff3[i];
        p00 = buff0[i];     p10 = buff1[i];     p20 = buff2[i];     p30 = buff3[i];
        p00 = buff0[i];     p10 = buff1[i];     p20 = buff2[i];     p30 = buff3[i];
        p01 = buff0[i + 1]; p11 = buff1[i + 1]; p21 = buff2[i + 1]; p31 = buff3[i + 1];
        p01 = buff0[i + 1]; p11 = buff1[i + 1]; p21 = buff2[i + 1]; p31 = buff3[i + 1];
        p01 = buff0[i + 1]; p11 = buff1[i + 1]; p21 = buff2[i + 1]; p31 = buff3[i + 1];
        p01 = buff0[i + 1]; p11 = buff1[i + 1]; p21 = buff2[i + 1]; p31 = buff3[i + 1];
        p01 = buff0[i + 1]; p11 = buff1[i + 1]; p21 = buff2[i + 1]; p31 = buff3[i + 1];
        p02 = buff0[i + 2]; p12 = buff1[i + 2]; p22 = buff2[i + 2]; p32 = buff3[i + 2];
        p02 = buff0[i + 2]; p12 = buff1[i + 2]; p22 = buff2[i + 2]; p32 = buff3[i + 2];
        p02 = buff0[i + 2]; p12 = buff1[i + 2]; p22 = buff2[i + 2]; p32 = buff3[i + 2];
        p02 = buff0[i + 2]; p12 = buff1[i + 2]; p22 = buff2[i + 2]; p32 = buff3[i + 2];
        p02 = buff0[i + 2]; p12 = buff1[i + 2]; p22 = buff2[i + 2]; p32 = buff3[i + 2];
        p03 = buff0[i + 3]; p13 = buff1[i + 3]; p23 = buff2[i + 3]; p33 = buff3[i + 3];
        p03 = buff0[i + 3]; p13 = buff1[i + 3]; p23 = buff2[i + 3]; p33 = buff3[i + 3];
        p03 = buff0[i + 3]; p13 = buff1[i + 3]; p23 = buff2[i + 3]; p33 = buff3[i + 3];
        p03 = buff0[i + 3]; p13 = buff1[i + 3]; p23 = buff2[i + 3]; p33 = buff3[i + 3];
        p03 = buff0[i + 3]; p13 = buff1[i + 3]; p23 = buff2[i + 3]; p33 = buff3[i + 3];
        p04 = buff0[i + 4]; p14 = buff1[i + 4]; p24 = buff2[i + 4]; p34 = buff3[i + 4];
        p04 = buff0[i + 4]; p14 = buff1[i + 4]; p24 = buff2[i + 4]; p34 = buff3[i + 4];
        p04 = buff0[i + 4]; p14 = buff1[i + 4]; p24 = buff2[i + 4]; p34 = buff3[i + 4];
        p04 = buff0[i + 4]; p14 = buff1[i + 4]; p24 = buff2[i + 4]; p34 = buff3[i + 4];
        p04 = buff0[i + 4]; p14 = buff1[i + 4]; p24 = buff2[i + 4]; p34 = buff3[i + 4];





        p40 = buff4[i];     p41 = buff4[i + 1]; p42 = buff4[i + 2];
        p40 = buff4[i];     p41 = buff4[i + 1]; p42 = buff4[i + 2];
        p40 = buff4[i];     p41 = buff4[i + 1]; p42 = buff4[i + 2];
        p40 = buff4[i];     p41 = buff4[i + 1]; p42 = buff4[i + 2];
        p40 = buff4[i];     p41 = buff4[i + 1]; p42 = buff4[i + 2];
        p43 = buff4[i + 3]; p44 = buff4[i + 4];
        p43 = buff4[i + 3]; p44 = buff4[i + 4];
        p43 = buff4[i + 3]; p44 = buff4[i + 4];
        p43 = buff4[i + 3]; p44 = buff4[i + 4];
        p43 = buff4[i + 3]; p44 = buff4[i + 4];





        buff5[i] = (FTYPE)sp[0];
        buff5[i] = (FTYPE)sp[0];
        buff5[i] = (FTYPE)sp[0];
        buff5[i] = (FTYPE)sp[0];
        buff5[i] = (FTYPE)sp[0];





        buffo[i] = D2I(p00 * k[0] + p01 * k[1] + p02 * k[2] + p03 * k[3] + p04 * k[4] +
        buffo[i] = D2I(p00 * k[0] + p01 * k[1] + p02 * k[2] + p03 * k[3] + p04 * k[4] +
        buffo[i] = D2I(p00 * k[0] + p01 * k[1] + p02 * k[2] + p03 * k[3] + p04 * k[4] +
        buffo[i] = D2I(p00 * k[0] + p01 * k[1] + p02 * k[2] + p03 * k[3] + p04 * k[4] +
        buffo[i] = D2I(p00 * k[0] + p01 * k[1] + p02 * k[2] + p03 * k[3] + p04 * k[4] +
                       p10 * k[5] + p11 * k[6] + p12 * k[7] + p13 * k[8] + p14 * k[9] +
                       p10 * k[5] + p11 * k[6] + p12 * k[7] + p13 * k[8] + p14 * k[9] +
                       p10 * k[5] + p11 * k[6] + p12 * k[7] + p13 * k[8] + p14 * k[9] +
                       p10 * k[5] + p11 * k[6] + p12 * k[7] + p13 * k[8] + p14 * k[9] +
                       p10 * k[5] + p11 * k[6] + p12 * k[7] + p13 * k[8] + p14 * k[9] +
                       p20 * k[10] + p21 * k[11] + p22 * k[12] + p23 * k[13] + p24 * k[14] +
                       p20 * k[10] + p21 * k[11] + p22 * k[12] + p23 * k[13] + p24 * k[14] +
                       p20 * k[10] + p21 * k[11] + p22 * k[12] + p23 * k[13] + p24 * k[14] +
                       p20 * k[10] + p21 * k[11] + p22 * k[12] + p23 * k[13] + p24 * k[14] +
                       p20 * k[10] + p21 * k[11] + p22 * k[12] + p23 * k[13] + p24 * k[14] +
                       p30 * k[15] + p31 * k[16] + p32 * k[17] + p33 * k[18] + p34 * k[19] +
                       p30 * k[15] + p31 * k[16] + p32 * k[17] + p33 * k[18] + p34 * k[19] +
                       p30 * k[15] + p31 * k[16] + p32 * k[17] + p33 * k[18] + p34 * k[19] +
                       p30 * k[15] + p31 * k[16] + p32 * k[17] + p33 * k[18] + p34 * k[19] +
                       p30 * k[15] + p31 * k[16] + p32 * k[17] + p33 * k[18] + p34 * k[19] +
                       p40 * k[20] + p41 * k[21] + p42 * k[22] + p43 * k[23] + p44 * k[24]);
                       p40 * k[20] + p41 * k[21] + p42 * k[22] + p43 * k[23] + p44 * k[24]);
                       p40 * k[20] + p41 * k[21] + p42 * k[22] + p43 * k[23] + p44 * k[24]);
                       p40 * k[20] + p41 * k[21] + p42 * k[22] + p43 * k[23] + p44 * k[24]);
                       p40 * k[20] + p41 * k[21] + p42 * k[22] + p43 * k[23] + p44 * k[24]);





        dp[0] = FROM_S32(buffo[i]);
        dp[0] = FROM_S32(buffo[i]);
        dp[0] = FROM_S32(buffo[i]);
        dp[0] = FROM_S32(buffo[i]);
        dp[0] = FROM_S32(buffo[i]);





        sp += dibn1;
        sp += dibn1;
        sp += dibn1;
        sp += dibn1;
        sp += dibn1;
        dp += dibn1;
        dp += dibn1;
        dp += dibn1;
        dp += dibn1;
        dp += dibn1;
      }
      }
      }
      }
      }





      buff5[wid    ] = (FTYPE)sp[0];
      buff5[wid    ] = (FTYPE)sp[0];
      buff5[wid    ] = (FTYPE)sp[0];
      buff5[wid    ] = (FTYPE)sp[0];
      buff5[wid    ] = (FTYPE)sp[0];
      buff5[wid + 1] = (FTYPE)sp[dibn1];
      buff5[wid + 1] = (FTYPE)sp[dibn1];
      buff5[wid + 1] = (FTYPE)sp[dibn1];
      buff5[wid + 1] = (FTYPE)sp[dibn1];
      buff5[wid + 1] = (FTYPE)sp[dibn1];
      buff5[wid + 2] = (FTYPE)sp[dibn2];
      buff5[wid + 2] = (FTYPE)sp[dibn2];
      buff5[wid + 2] = (FTYPE)sp[dibn2];
      buff5[wid + 2] = (FTYPE)sp[dibn2];
      buff5[wid + 2] = (FTYPE)sp[dibn2];
      buff5[wid + 3] = (FTYPE)sp[dibn2 + dibn1];
      buff5[wid + 3] = (FTYPE)sp[dibn2 + dibn1];
      buff5[wid + 3] = (FTYPE)sp[dibn2 + dibn1];
      buff5[wid + 3] = (FTYPE)sp[dibn2 + dibn1];
      buff5[wid + 3] = (FTYPE)sp[dibn2 + dibn1];





      /* nfxt linf */
      /* nfxt linf */
      /* nfxt linf */
      /* nfxt linf */
      /* nfxt linf */
      sl += sll;
      sl += sll;
      sl += sll;
      sl += sll;
      sl += sll;
      dl += dll;
      dl += dll;
      dl += dll;
      dl += dll;
      dl += dll;





      buffT = buff0;
      buffT = buff0;
      buffT = buff0;
      buffT = buff0;
      buffT = buff0;
      buff0 = buff1;
      buff0 = buff1;
      buff0 = buff1;
      buff0 = buff1;
      buff0 = buff1;
      buff1 = buff2;
      buff1 = buff2;
      buff1 = buff2;
      buff1 = buff2;
      buff1 = buff2;
      buff2 = buff3;
      buff2 = buff3;
      buff2 = buff3;
      buff2 = buff3;
      buff2 = buff3;
      buff3 = buff4;
      buff3 = buff4;
      buff3 = buff4;
      buff3 = buff4;
      buff3 = buff4;
      buff4 = buff5;
      buff4 = buff5;
      buff4 = buff5;
      buff4 = buff5;
      buff4 = buff5;
      buff5 = buffT;
      buff5 = buffT;
      buff5 = buffT;
      buff5 = buffT;
      buff5 = buffT;
    }
    }
    }
    }
    }
  }
  }
  }
  }
  }





  if (pbuff != buff) mlib_frff(pbuff);
  if (pbuff != buff) mlib_frff(pbuff);
  if (pbuff != buff) mlib_frff(pbuff);
  if (pbuff != buff) mlib_frff(pbuff);
  if (pbuff != buff) mlib_frff(pbuff);





  rfturn MLIB_SUCCESS;
  rfturn MLIB_SUCCESS;
  rfturn MLIB_SUCCESS;
  rfturn MLIB_SUCCESS;
  rfturn MLIB_SUCCESS;
}
}
}
}
}





/***************************************************************/
/***************************************************************/
/***************************************************************/
/***************************************************************/
/***************************************************************/
#ifndff __spbrd /* for x86, using intfgfr multiplifs is fbstfr */
#ifndff __spbrd /* for x86, using intfgfr multiplifs is fbstfr */
#ifndff __spbrd /* for x86, using intfgfr multiplifs is fbstfr */
#ifndff __spbrd /* for x86, using intfgfr multiplifs is fbstfr */
#ifndff __spbrd /* for x86, using intfgfr multiplifs is fbstfr */





mlib_stbtus CONV_FUNC_I(5x5)(mlib_imbgf       *dst,
mlib_stbtus CONV_FUNC_I(5x5)(mlib_imbgf       *dst,
mlib_stbtus CONV_FUNC_I(5x5)(mlib_imbgf       *dst,
mlib_stbtus CONV_FUNC_I(5x5)(mlib_imbgf       *dst,
mlib_stbtus CONV_FUNC_I(5x5)(mlib_imbgf       *dst,
                             donst mlib_imbgf *srd,
                             donst mlib_imbgf *srd,
                             donst mlib_imbgf *srd,
                             donst mlib_imbgf *srd,
                             donst mlib_imbgf *srd,
                             donst mlib_s32   *kfrn,
                             donst mlib_s32   *kfrn,
                             donst mlib_s32   *kfrn,
                             donst mlib_s32   *kfrn,
                             donst mlib_s32   *kfrn,
                             mlib_s32         sdblff_fxpon,
                             mlib_s32         sdblff_fxpon,
                             mlib_s32         sdblff_fxpon,
                             mlib_s32         sdblff_fxpon,
                             mlib_s32         sdblff_fxpon,
                             mlib_s32         dmbsk)
                             mlib_s32         dmbsk)
                             mlib_s32         dmbsk)
                             mlib_s32         dmbsk)
                             mlib_s32         dmbsk)
{
{
{
{
{
  mlib_s32 buff[BUFF_LINE];
  mlib_s32 buff[BUFF_LINE];
  mlib_s32 buff[BUFF_LINE];
  mlib_s32 buff[BUFF_LINE];
  mlib_s32 buff[BUFF_LINE];
  mlib_s32 *buffd;
  mlib_s32 *buffd;
  mlib_s32 *buffd;
  mlib_s32 *buffd;
  mlib_s32 *buffd;
  mlib_s32 k[KSIZE*KSIZE];
  mlib_s32 k[KSIZE*KSIZE];
  mlib_s32 k[KSIZE*KSIZE];
  mlib_s32 k[KSIZE*KSIZE];
  mlib_s32 k[KSIZE*KSIZE];
  mlib_s32 siift1, siift2;
  mlib_s32 siift1, siift2;
  mlib_s32 siift1, siift2;
  mlib_s32 siift1, siift2;
  mlib_s32 siift1, siift2;
  mlib_s32 k0, k1, k2, k3, k4, k5, k6, k7, k8, k9;
  mlib_s32 k0, k1, k2, k3, k4, k5, k6, k7, k8, k9;
  mlib_s32 k0, k1, k2, k3, k4, k5, k6, k7, k8, k9;
  mlib_s32 k0, k1, k2, k3, k4, k5, k6, k7, k8, k9;
  mlib_s32 k0, k1, k2, k3, k4, k5, k6, k7, k8, k9;
  mlib_s32 p00, p01, p02, p03, p04, p05,
  mlib_s32 p00, p01, p02, p03, p04, p05,
  mlib_s32 p00, p01, p02, p03, p04, p05,
  mlib_s32 p00, p01, p02, p03, p04, p05,
  mlib_s32 p00, p01, p02, p03, p04, p05,
           p10, p11, p12, p13, p14, p15;
           p10, p11, p12, p13, p14, p15;
           p10, p11, p12, p13, p14, p15;
           p10, p11, p12, p13, p14, p15;
           p10, p11, p12, p13, p14, p15;
  DTYPE    *bdr_srd, *sl, *sp0, *sp1;
  DTYPE    *bdr_srd, *sl, *sp0, *sp1;
  DTYPE    *bdr_srd, *sl, *sp0, *sp1;
  DTYPE    *bdr_srd, *sl, *sp0, *sp1;
  DTYPE    *bdr_srd, *sl, *sp0, *sp1;
  DTYPE    *bdr_dst, *dl, *dp;
  DTYPE    *bdr_dst, *dl, *dp;
  DTYPE    *bdr_dst, *dl, *dp;
  DTYPE    *bdr_dst, *dl, *dp;
  DTYPE    *bdr_dst, *dl, *dp;
  mlib_s32 *pbuff = buff;
  mlib_s32 *pbuff = buff;
  mlib_s32 *pbuff = buff;
  mlib_s32 *pbuff = buff;
  mlib_s32 *pbuff = buff;
  mlib_s32 wid, igt, sll, dll;
  mlib_s32 wid, igt, sll, dll;
  mlib_s32 wid, igt, sll, dll;
  mlib_s32 wid, igt, sll, dll;
  mlib_s32 wid, igt, sll, dll;
  mlib_s32 ndibnnfl, dibn1, dibn2, dibn3, dibn4;
  mlib_s32 ndibnnfl, dibn1, dibn2, dibn3, dibn4;
  mlib_s32 ndibnnfl, dibn1, dibn2, dibn3, dibn4;
  mlib_s32 ndibnnfl, dibn1, dibn2, dibn3, dibn4;
  mlib_s32 ndibnnfl, dibn1, dibn2, dibn3, dibn4;
  mlib_s32 i, j, d;
  mlib_s32 i, j, d;
  mlib_s32 i, j, d;
  mlib_s32 i, j, d;
  mlib_s32 i, j, d;





#if IMG_TYPE != 1
#if IMG_TYPE != 1
#if IMG_TYPE != 1
#if IMG_TYPE != 1
#if IMG_TYPE != 1
  siift1 = 16;
  siift1 = 16;
  siift1 = 16;
  siift1 = 16;
  siift1 = 16;
#flsf
#flsf
#flsf
#flsf
#flsf
  siift1 = 8;
  siift1 = 8;
  siift1 = 8;
  siift1 = 8;
  siift1 = 8;
#fndif /* IMG_TYPE != 1 */
#fndif /* IMG_TYPE != 1 */
#fndif /* IMG_TYPE != 1 */
#fndif /* IMG_TYPE != 1 */
#fndif /* IMG_TYPE != 1 */





  siift2 = sdblff_fxpon - siift1;
  siift2 = sdblff_fxpon - siift1;
  siift2 = sdblff_fxpon - siift1;
  siift2 = sdblff_fxpon - siift1;
  siift2 = sdblff_fxpon - siift1;





  for (j = 0; j < KSIZE*KSIZE; j++) k[j] = kfrn[j] >> siift1;
  for (j = 0; j < KSIZE*KSIZE; j++) k[j] = kfrn[j] >> siift1;
  for (j = 0; j < KSIZE*KSIZE; j++) k[j] = kfrn[j] >> siift1;
  for (j = 0; j < KSIZE*KSIZE; j++) k[j] = kfrn[j] >> siift1;
  for (j = 0; j < KSIZE*KSIZE; j++) k[j] = kfrn[j] >> siift1;





  GET_SRC_DST_PARAMETERS(DTYPE);
  GET_SRC_DST_PARAMETERS(DTYPE);
  GET_SRC_DST_PARAMETERS(DTYPE);
  GET_SRC_DST_PARAMETERS(DTYPE);
  GET_SRC_DST_PARAMETERS(DTYPE);





  if (wid > BUFF_LINE) {
  if (wid > BUFF_LINE) {
  if (wid > BUFF_LINE) {
  if (wid > BUFF_LINE) {
  if (wid > BUFF_LINE) {
    pbuff = mlib_mbllod(sizfof(mlib_s32)*wid);
    pbuff = mlib_mbllod(sizfof(mlib_s32)*wid);
    pbuff = mlib_mbllod(sizfof(mlib_s32)*wid);
    pbuff = mlib_mbllod(sizfof(mlib_s32)*wid);
    pbuff = mlib_mbllod(sizfof(mlib_s32)*wid);





    if (pbuff == NULL) rfturn MLIB_FAILURE;
    if (pbuff == NULL) rfturn MLIB_FAILURE;
    if (pbuff == NULL) rfturn MLIB_FAILURE;
    if (pbuff == NULL) rfturn MLIB_FAILURE;
    if (pbuff == NULL) rfturn MLIB_FAILURE;
  }
  }
  }
  }
  }





  buffd = pbuff;
  buffd = pbuff;
  buffd = pbuff;
  buffd = pbuff;
  buffd = pbuff;





  dibn1 = ndibnnfl;
  dibn1 = ndibnnfl;
  dibn1 = ndibnnfl;
  dibn1 = ndibnnfl;
  dibn1 = ndibnnfl;
  dibn2 = dibn1 + dibn1;
  dibn2 = dibn1 + dibn1;
  dibn2 = dibn1 + dibn1;
  dibn2 = dibn1 + dibn1;
  dibn2 = dibn1 + dibn1;
  dibn3 = dibn2 + dibn1;
  dibn3 = dibn2 + dibn1;
  dibn3 = dibn2 + dibn1;
  dibn3 = dibn2 + dibn1;
  dibn3 = dibn2 + dibn1;
  dibn4 = dibn3 + dibn1;
  dibn4 = dibn3 + dibn1;
  dibn4 = dibn3 + dibn1;
  dibn4 = dibn3 + dibn1;
  dibn4 = dibn3 + dibn1;





  wid -= (KSIZE - 1);
  wid -= (KSIZE - 1);
  wid -= (KSIZE - 1);
  wid -= (KSIZE - 1);
  wid -= (KSIZE - 1);
  igt -= (KSIZE - 1);
  igt -= (KSIZE - 1);
  igt -= (KSIZE - 1);
  igt -= (KSIZE - 1);
  igt -= (KSIZE - 1);





  bdr_dst += ((KSIZE - 1)/2)*(dll + dibn1);
  bdr_dst += ((KSIZE - 1)/2)*(dll + dibn1);
  bdr_dst += ((KSIZE - 1)/2)*(dll + dibn1);
  bdr_dst += ((KSIZE - 1)/2)*(dll + dibn1);
  bdr_dst += ((KSIZE - 1)/2)*(dll + dibn1);





  for (d = 0; d < dibn1; d++) {
  for (d = 0; d < dibn1; d++) {
  for (d = 0; d < dibn1; d++) {
  for (d = 0; d < dibn1; d++) {
  for (d = 0; d < dibn1; d++) {
    if (!(dmbsk & (1 << (dibn1 - 1 - d)))) dontinuf;
    if (!(dmbsk & (1 << (dibn1 - 1 - d)))) dontinuf;
    if (!(dmbsk & (1 << (dibn1 - 1 - d)))) dontinuf;
    if (!(dmbsk & (1 << (dibn1 - 1 - d)))) dontinuf;
    if (!(dmbsk & (1 << (dibn1 - 1 - d)))) dontinuf;





    sl = bdr_srd + d;
    sl = bdr_srd + d;
    sl = bdr_srd + d;
    sl = bdr_srd + d;
    sl = bdr_srd + d;
    dl = bdr_dst + d;
    dl = bdr_dst + d;
    dl = bdr_dst + d;
    dl = bdr_dst + d;
    dl = bdr_dst + d;





    for (j = 0; j < igt; j++) {
    for (j = 0; j < igt; j++) {
    for (j = 0; j < igt; j++) {
    for (j = 0; j < igt; j++) {
    for (j = 0; j < igt; j++) {
      mlib_s32 pix0, pix1;
      mlib_s32 pix0, pix1;
      mlib_s32 pix0, pix1;
      mlib_s32 pix0, pix1;
      mlib_s32 pix0, pix1;
      /*
      /*
      /*
      /*
      /*
       *  First loop
       *  First loop
       *  First loop
       *  First loop
       *  First loop
       */
       */
       */
       */
       */
      sp0 = sl;
      sp0 = sl;
      sp0 = sl;
      sp0 = sl;
      sp0 = sl;
      sp1 = sp0 + sll;
      sp1 = sp0 + sll;
      sp1 = sp0 + sll;
      sp1 = sp0 + sll;
      sp1 = sp0 + sll;
      dp = dl;
      dp = dl;
      dp = dl;
      dp = dl;
      dp = dl;





      k0 = k[0]; k1 = k[1]; k2 = k[2]; k3 = k[3]; k4 = k[4];
      k0 = k[0]; k1 = k[1]; k2 = k[2]; k3 = k[3]; k4 = k[4];
      k0 = k[0]; k1 = k[1]; k2 = k[2]; k3 = k[3]; k4 = k[4];
      k0 = k[0]; k1 = k[1]; k2 = k[2]; k3 = k[3]; k4 = k[4];
      k0 = k[0]; k1 = k[1]; k2 = k[2]; k3 = k[3]; k4 = k[4];
      k5 = k[5]; k6 = k[6]; k7 = k[7]; k8 = k[8]; k9 = k[9];
      k5 = k[5]; k6 = k[6]; k7 = k[7]; k8 = k[8]; k9 = k[9];
      k5 = k[5]; k6 = k[6]; k7 = k[7]; k8 = k[8]; k9 = k[9];
      k5 = k[5]; k6 = k[6]; k7 = k[7]; k8 = k[8]; k9 = k[9];
      k5 = k[5]; k6 = k[6]; k7 = k[7]; k8 = k[8]; k9 = k[9];





      p02 = sp0[0];     p12 = sp1[0];
      p02 = sp0[0];     p12 = sp1[0];
      p02 = sp0[0];     p12 = sp1[0];
      p02 = sp0[0];     p12 = sp1[0];
      p02 = sp0[0];     p12 = sp1[0];
      p03 = sp0[dibn1]; p13 = sp1[dibn1];
      p03 = sp0[dibn1]; p13 = sp1[dibn1];
      p03 = sp0[dibn1]; p13 = sp1[dibn1];
      p03 = sp0[dibn1]; p13 = sp1[dibn1];
      p03 = sp0[dibn1]; p13 = sp1[dibn1];
      p04 = sp0[dibn2]; p14 = sp1[dibn2];
      p04 = sp0[dibn2]; p14 = sp1[dibn2];
      p04 = sp0[dibn2]; p14 = sp1[dibn2];
      p04 = sp0[dibn2]; p14 = sp1[dibn2];
      p04 = sp0[dibn2]; p14 = sp1[dibn2];
      p05 = sp0[dibn3]; p15 = sp1[dibn3];
      p05 = sp0[dibn3]; p15 = sp1[dibn3];
      p05 = sp0[dibn3]; p15 = sp1[dibn3];
      p05 = sp0[dibn3]; p15 = sp1[dibn3];
      p05 = sp0[dibn3]; p15 = sp1[dibn3];





      sp0 += dibn4;
      sp0 += dibn4;
      sp0 += dibn4;
      sp0 += dibn4;
      sp0 += dibn4;
      sp1 += dibn4;
      sp1 += dibn4;
      sp1 += dibn4;
      sp1 += dibn4;
      sp1 += dibn4;





#ifdff __SUNPRO_C
#ifdff __SUNPRO_C
#ifdff __SUNPRO_C
#ifdff __SUNPRO_C
#ifdff __SUNPRO_C
#prbgmb pipfloop(0)
#prbgmb pipfloop(0)
#prbgmb pipfloop(0)
#prbgmb pipfloop(0)
#prbgmb pipfloop(0)
#fndif /* __SUNPRO_C */
#fndif /* __SUNPRO_C */
#fndif /* __SUNPRO_C */
#fndif /* __SUNPRO_C */
#fndif /* __SUNPRO_C */
      for (i = 0; i <= (wid - 2); i += 2) {
      for (i = 0; i <= (wid - 2); i += 2) {
      for (i = 0; i <= (wid - 2); i += 2) {
      for (i = 0; i <= (wid - 2); i += 2) {
      for (i = 0; i <= (wid - 2); i += 2) {
        p00 = p02; p10 = p12;
        p00 = p02; p10 = p12;
        p00 = p02; p10 = p12;
        p00 = p02; p10 = p12;
        p00 = p02; p10 = p12;
        p01 = p03; p11 = p13;
        p01 = p03; p11 = p13;
        p01 = p03; p11 = p13;
        p01 = p03; p11 = p13;
        p01 = p03; p11 = p13;
        p02 = p04; p12 = p14;
        p02 = p04; p12 = p14;
        p02 = p04; p12 = p14;
        p02 = p04; p12 = p14;
        p02 = p04; p12 = p14;
        p03 = p05; p13 = p15;
        p03 = p05; p13 = p15;
        p03 = p05; p13 = p15;
        p03 = p05; p13 = p15;
        p03 = p05; p13 = p15;





        p04 = sp0[0];     p14 = sp1[0];
        p04 = sp0[0];     p14 = sp1[0];
        p04 = sp0[0];     p14 = sp1[0];
        p04 = sp0[0];     p14 = sp1[0];
        p04 = sp0[0];     p14 = sp1[0];
        p05 = sp0[dibn1]; p15 = sp1[dibn1];
        p05 = sp0[dibn1]; p15 = sp1[dibn1];
        p05 = sp0[dibn1]; p15 = sp1[dibn1];
        p05 = sp0[dibn1]; p15 = sp1[dibn1];
        p05 = sp0[dibn1]; p15 = sp1[dibn1];





        buffd[i    ] = (p00 * k0 + p01 * k1 + p02 * k2 + p03 * k3 + p04 * k4 +
        buffd[i    ] = (p00 * k0 + p01 * k1 + p02 * k2 + p03 * k3 + p04 * k4 +
        buffd[i    ] = (p00 * k0 + p01 * k1 + p02 * k2 + p03 * k3 + p04 * k4 +
        buffd[i    ] = (p00 * k0 + p01 * k1 + p02 * k2 + p03 * k3 + p04 * k4 +
        buffd[i    ] = (p00 * k0 + p01 * k1 + p02 * k2 + p03 * k3 + p04 * k4 +
                        p10 * k5 + p11 * k6 + p12 * k7 + p13 * k8 + p14 * k9);
                        p10 * k5 + p11 * k6 + p12 * k7 + p13 * k8 + p14 * k9);
                        p10 * k5 + p11 * k6 + p12 * k7 + p13 * k8 + p14 * k9);
                        p10 * k5 + p11 * k6 + p12 * k7 + p13 * k8 + p14 * k9);
                        p10 * k5 + p11 * k6 + p12 * k7 + p13 * k8 + p14 * k9);
        buffd[i + 1] = (p01 * k0 + p02 * k1 + p03 * k2 + p04 * k3 + p05 * k4 +
        buffd[i + 1] = (p01 * k0 + p02 * k1 + p03 * k2 + p04 * k3 + p05 * k4 +
        buffd[i + 1] = (p01 * k0 + p02 * k1 + p03 * k2 + p04 * k3 + p05 * k4 +
        buffd[i + 1] = (p01 * k0 + p02 * k1 + p03 * k2 + p04 * k3 + p05 * k4 +
        buffd[i + 1] = (p01 * k0 + p02 * k1 + p03 * k2 + p04 * k3 + p05 * k4 +
                        p11 * k5 + p12 * k6 + p13 * k7 + p14 * k8 + p15 * k9);
                        p11 * k5 + p12 * k6 + p13 * k7 + p14 * k8 + p15 * k9);
                        p11 * k5 + p12 * k6 + p13 * k7 + p14 * k8 + p15 * k9);
                        p11 * k5 + p12 * k6 + p13 * k7 + p14 * k8 + p15 * k9);
                        p11 * k5 + p12 * k6 + p13 * k7 + p14 * k8 + p15 * k9);





        sp0 += dibn2;
        sp0 += dibn2;
        sp0 += dibn2;
        sp0 += dibn2;
        sp0 += dibn2;
        sp1 += dibn2;
        sp1 += dibn2;
        sp1 += dibn2;
        sp1 += dibn2;
        sp1 += dibn2;
        dp += dibn2;
        dp += dibn2;
        dp += dibn2;
        dp += dibn2;
        dp += dibn2;
      }
      }
      }
      }
      }





      if (wid & 1) {
      if (wid & 1) {
      if (wid & 1) {
      if (wid & 1) {
      if (wid & 1) {
        p00 = p02; p10 = p12;
        p00 = p02; p10 = p12;
        p00 = p02; p10 = p12;
        p00 = p02; p10 = p12;
        p00 = p02; p10 = p12;
        p01 = p03; p11 = p13;
        p01 = p03; p11 = p13;
        p01 = p03; p11 = p13;
        p01 = p03; p11 = p13;
        p01 = p03; p11 = p13;
        p02 = p04; p12 = p14;
        p02 = p04; p12 = p14;
        p02 = p04; p12 = p14;
        p02 = p04; p12 = p14;
        p02 = p04; p12 = p14;
        p03 = p05; p13 = p15;
        p03 = p05; p13 = p15;
        p03 = p05; p13 = p15;
        p03 = p05; p13 = p15;
        p03 = p05; p13 = p15;





        p04 = sp0[0];     p14 = sp1[0];
        p04 = sp0[0];     p14 = sp1[0];
        p04 = sp0[0];     p14 = sp1[0];
        p04 = sp0[0];     p14 = sp1[0];
        p04 = sp0[0];     p14 = sp1[0];





        buffd[i] = (p00 * k0 + p01 * k1 + p02 * k2 + p03 * k3 + p04 * k4 +
        buffd[i] = (p00 * k0 + p01 * k1 + p02 * k2 + p03 * k3 + p04 * k4 +
        buffd[i] = (p00 * k0 + p01 * k1 + p02 * k2 + p03 * k3 + p04 * k4 +
        buffd[i] = (p00 * k0 + p01 * k1 + p02 * k2 + p03 * k3 + p04 * k4 +
        buffd[i] = (p00 * k0 + p01 * k1 + p02 * k2 + p03 * k3 + p04 * k4 +
                    p10 * k5 + p11 * k6 + p12 * k7 + p13 * k8 + p14 * k9);
                    p10 * k5 + p11 * k6 + p12 * k7 + p13 * k8 + p14 * k9);
                    p10 * k5 + p11 * k6 + p12 * k7 + p13 * k8 + p14 * k9);
                    p10 * k5 + p11 * k6 + p12 * k7 + p13 * k8 + p14 * k9);
                    p10 * k5 + p11 * k6 + p12 * k7 + p13 * k8 + p14 * k9);
      }
      }
      }
      }
      }





      /*
      /*
      /*
      /*
      /*
       *  Sfdond loop
       *  Sfdond loop
       *  Sfdond loop
       *  Sfdond loop
       *  Sfdond loop
       */
       */
       */
       */
       */
      sp0 = sl + 2*sll;
      sp0 = sl + 2*sll;
      sp0 = sl + 2*sll;
      sp0 = sl + 2*sll;
      sp0 = sl + 2*sll;
      sp1 = sp0 + sll;
      sp1 = sp0 + sll;
      sp1 = sp0 + sll;
      sp1 = sp0 + sll;
      sp1 = sp0 + sll;
      dp = dl;
      dp = dl;
      dp = dl;
      dp = dl;
      dp = dl;





      k0 = k[10]; k1 = k[11]; k2 = k[12]; k3 = k[13]; k4 = k[14];
      k0 = k[10]; k1 = k[11]; k2 = k[12]; k3 = k[13]; k4 = k[14];
      k0 = k[10]; k1 = k[11]; k2 = k[12]; k3 = k[13]; k4 = k[14];
      k0 = k[10]; k1 = k[11]; k2 = k[12]; k3 = k[13]; k4 = k[14];
      k0 = k[10]; k1 = k[11]; k2 = k[12]; k3 = k[13]; k4 = k[14];
      k5 = k[15]; k6 = k[16]; k7 = k[17]; k8 = k[18]; k9 = k[19];
      k5 = k[15]; k6 = k[16]; k7 = k[17]; k8 = k[18]; k9 = k[19];
      k5 = k[15]; k6 = k[16]; k7 = k[17]; k8 = k[18]; k9 = k[19];
      k5 = k[15]; k6 = k[16]; k7 = k[17]; k8 = k[18]; k9 = k[19];
      k5 = k[15]; k6 = k[16]; k7 = k[17]; k8 = k[18]; k9 = k[19];





      p02 = sp0[0];     p12 = sp1[0];
      p02 = sp0[0];     p12 = sp1[0];
      p02 = sp0[0];     p12 = sp1[0];
      p02 = sp0[0];     p12 = sp1[0];
      p02 = sp0[0];     p12 = sp1[0];
      p03 = sp0[dibn1]; p13 = sp1[dibn1];
      p03 = sp0[dibn1]; p13 = sp1[dibn1];
      p03 = sp0[dibn1]; p13 = sp1[dibn1];
      p03 = sp0[dibn1]; p13 = sp1[dibn1];
      p03 = sp0[dibn1]; p13 = sp1[dibn1];
      p04 = sp0[dibn2]; p14 = sp1[dibn2];
      p04 = sp0[dibn2]; p14 = sp1[dibn2];
      p04 = sp0[dibn2]; p14 = sp1[dibn2];
      p04 = sp0[dibn2]; p14 = sp1[dibn2];
      p04 = sp0[dibn2]; p14 = sp1[dibn2];
      p05 = sp0[dibn3]; p15 = sp1[dibn3];
      p05 = sp0[dibn3]; p15 = sp1[dibn3];
      p05 = sp0[dibn3]; p15 = sp1[dibn3];
      p05 = sp0[dibn3]; p15 = sp1[dibn3];
      p05 = sp0[dibn3]; p15 = sp1[dibn3];





      sp0 += dibn4;
      sp0 += dibn4;
      sp0 += dibn4;
      sp0 += dibn4;
      sp0 += dibn4;
      sp1 += dibn4;
      sp1 += dibn4;
      sp1 += dibn4;
      sp1 += dibn4;
      sp1 += dibn4;





#ifdff __SUNPRO_C
#ifdff __SUNPRO_C
#ifdff __SUNPRO_C
#ifdff __SUNPRO_C
#ifdff __SUNPRO_C
#prbgmb pipfloop(0)
#prbgmb pipfloop(0)
#prbgmb pipfloop(0)
#prbgmb pipfloop(0)
#prbgmb pipfloop(0)
#fndif /* __SUNPRO_C */
#fndif /* __SUNPRO_C */
#fndif /* __SUNPRO_C */
#fndif /* __SUNPRO_C */
#fndif /* __SUNPRO_C */
      for (i = 0; i <= (wid - 2); i += 2) {
      for (i = 0; i <= (wid - 2); i += 2) {
      for (i = 0; i <= (wid - 2); i += 2) {
      for (i = 0; i <= (wid - 2); i += 2) {
      for (i = 0; i <= (wid - 2); i += 2) {
        p00 = p02; p10 = p12;
        p00 = p02; p10 = p12;
        p00 = p02; p10 = p12;
        p00 = p02; p10 = p12;
        p00 = p02; p10 = p12;
        p01 = p03; p11 = p13;
        p01 = p03; p11 = p13;
        p01 = p03; p11 = p13;
        p01 = p03; p11 = p13;
        p01 = p03; p11 = p13;
        p02 = p04; p12 = p14;
        p02 = p04; p12 = p14;
        p02 = p04; p12 = p14;
        p02 = p04; p12 = p14;
        p02 = p04; p12 = p14;
        p03 = p05; p13 = p15;
        p03 = p05; p13 = p15;
        p03 = p05; p13 = p15;
        p03 = p05; p13 = p15;
        p03 = p05; p13 = p15;





        p04 = sp0[0];     p14 = sp1[0];
        p04 = sp0[0];     p14 = sp1[0];
        p04 = sp0[0];     p14 = sp1[0];
        p04 = sp0[0];     p14 = sp1[0];
        p04 = sp0[0];     p14 = sp1[0];
        p05 = sp0[dibn1]; p15 = sp1[dibn1];
        p05 = sp0[dibn1]; p15 = sp1[dibn1];
        p05 = sp0[dibn1]; p15 = sp1[dibn1];
        p05 = sp0[dibn1]; p15 = sp1[dibn1];
        p05 = sp0[dibn1]; p15 = sp1[dibn1];





        buffd[i    ] += (p00 * k0 + p01 * k1 + p02 * k2 + p03 * k3 + p04 * k4 +
        buffd[i    ] += (p00 * k0 + p01 * k1 + p02 * k2 + p03 * k3 + p04 * k4 +
        buffd[i    ] += (p00 * k0 + p01 * k1 + p02 * k2 + p03 * k3 + p04 * k4 +
        buffd[i    ] += (p00 * k0 + p01 * k1 + p02 * k2 + p03 * k3 + p04 * k4 +
        buffd[i    ] += (p00 * k0 + p01 * k1 + p02 * k2 + p03 * k3 + p04 * k4 +
                         p10 * k5 + p11 * k6 + p12 * k7 + p13 * k8 + p14 * k9);
                         p10 * k5 + p11 * k6 + p12 * k7 + p13 * k8 + p14 * k9);
                         p10 * k5 + p11 * k6 + p12 * k7 + p13 * k8 + p14 * k9);
                         p10 * k5 + p11 * k6 + p12 * k7 + p13 * k8 + p14 * k9);
                         p10 * k5 + p11 * k6 + p12 * k7 + p13 * k8 + p14 * k9);
        buffd[i + 1] += (p01 * k0 + p02 * k1 + p03 * k2 + p04 * k3 + p05 * k4 +
        buffd[i + 1] += (p01 * k0 + p02 * k1 + p03 * k2 + p04 * k3 + p05 * k4 +
        buffd[i + 1] += (p01 * k0 + p02 * k1 + p03 * k2 + p04 * k3 + p05 * k4 +
        buffd[i + 1] += (p01 * k0 + p02 * k1 + p03 * k2 + p04 * k3 + p05 * k4 +
        buffd[i + 1] += (p01 * k0 + p02 * k1 + p03 * k2 + p04 * k3 + p05 * k4 +
                         p11 * k5 + p12 * k6 + p13 * k7 + p14 * k8 + p15 * k9);
                         p11 * k5 + p12 * k6 + p13 * k7 + p14 * k8 + p15 * k9);
                         p11 * k5 + p12 * k6 + p13 * k7 + p14 * k8 + p15 * k9);
                         p11 * k5 + p12 * k6 + p13 * k7 + p14 * k8 + p15 * k9);
                         p11 * k5 + p12 * k6 + p13 * k7 + p14 * k8 + p15 * k9);





        sp0 += dibn2;
        sp0 += dibn2;
        sp0 += dibn2;
        sp0 += dibn2;
        sp0 += dibn2;
        sp1 += dibn2;
        sp1 += dibn2;
        sp1 += dibn2;
        sp1 += dibn2;
        sp1 += dibn2;
        dp += dibn2;
        dp += dibn2;
        dp += dibn2;
        dp += dibn2;
        dp += dibn2;
      }
      }
      }
      }
      }





      if (wid & 1) {
      if (wid & 1) {
      if (wid & 1) {
      if (wid & 1) {
      if (wid & 1) {
        p00 = p02; p10 = p12;
        p00 = p02; p10 = p12;
        p00 = p02; p10 = p12;
        p00 = p02; p10 = p12;
        p00 = p02; p10 = p12;
        p01 = p03; p11 = p13;
        p01 = p03; p11 = p13;
        p01 = p03; p11 = p13;
        p01 = p03; p11 = p13;
        p01 = p03; p11 = p13;
        p02 = p04; p12 = p14;
        p02 = p04; p12 = p14;
        p02 = p04; p12 = p14;
        p02 = p04; p12 = p14;
        p02 = p04; p12 = p14;
        p03 = p05; p13 = p15;
        p03 = p05; p13 = p15;
        p03 = p05; p13 = p15;
        p03 = p05; p13 = p15;
        p03 = p05; p13 = p15;





        p04 = sp0[0];     p14 = sp1[0];
        p04 = sp0[0];     p14 = sp1[0];
        p04 = sp0[0];     p14 = sp1[0];
        p04 = sp0[0];     p14 = sp1[0];
        p04 = sp0[0];     p14 = sp1[0];





        buffd[i] += (p00 * k0 + p01 * k1 + p02 * k2 + p03 * k3 + p04 * k4 +
        buffd[i] += (p00 * k0 + p01 * k1 + p02 * k2 + p03 * k3 + p04 * k4 +
        buffd[i] += (p00 * k0 + p01 * k1 + p02 * k2 + p03 * k3 + p04 * k4 +
        buffd[i] += (p00 * k0 + p01 * k1 + p02 * k2 + p03 * k3 + p04 * k4 +
        buffd[i] += (p00 * k0 + p01 * k1 + p02 * k2 + p03 * k3 + p04 * k4 +
                     p10 * k5 + p11 * k6 + p12 * k7 + p13 * k8 + p14 * k9);
                     p10 * k5 + p11 * k6 + p12 * k7 + p13 * k8 + p14 * k9);
                     p10 * k5 + p11 * k6 + p12 * k7 + p13 * k8 + p14 * k9);
                     p10 * k5 + p11 * k6 + p12 * k7 + p13 * k8 + p14 * k9);
                     p10 * k5 + p11 * k6 + p12 * k7 + p13 * k8 + p14 * k9);
      }
      }
      }
      }
      }





      /*
      /*
      /*
      /*
      /*
       *  3 loop
       *  3 loop
       *  3 loop
       *  3 loop
       *  3 loop
       */
       */
       */
       */
       */
      dp = dl;
      dp = dl;
      dp = dl;
      dp = dl;
      dp = dl;
      sp0 = sl + 4*sll;
      sp0 = sl + 4*sll;
      sp0 = sl + 4*sll;
      sp0 = sl + 4*sll;
      sp0 = sl + 4*sll;





      k0 = k[20]; k1 = k[21]; k2 = k[22]; k3 = k[23]; k4 = k[24];
      k0 = k[20]; k1 = k[21]; k2 = k[22]; k3 = k[23]; k4 = k[24];
      k0 = k[20]; k1 = k[21]; k2 = k[22]; k3 = k[23]; k4 = k[24];
      k0 = k[20]; k1 = k[21]; k2 = k[22]; k3 = k[23]; k4 = k[24];
      k0 = k[20]; k1 = k[21]; k2 = k[22]; k3 = k[23]; k4 = k[24];





      p02 = sp0[0];
      p02 = sp0[0];
      p02 = sp0[0];
      p02 = sp0[0];
      p02 = sp0[0];
      p03 = sp0[dibn1];
      p03 = sp0[dibn1];
      p03 = sp0[dibn1];
      p03 = sp0[dibn1];
      p03 = sp0[dibn1];
      p04 = sp0[dibn2];
      p04 = sp0[dibn2];
      p04 = sp0[dibn2];
      p04 = sp0[dibn2];
      p04 = sp0[dibn2];
      p05 = sp0[dibn3];
      p05 = sp0[dibn3];
      p05 = sp0[dibn3];
      p05 = sp0[dibn3];
      p05 = sp0[dibn3];





      sp0 += dibn2 + dibn2;
      sp0 += dibn2 + dibn2;
      sp0 += dibn2 + dibn2;
      sp0 += dibn2 + dibn2;
      sp0 += dibn2 + dibn2;





#ifdff __SUNPRO_C
#ifdff __SUNPRO_C
#ifdff __SUNPRO_C
#ifdff __SUNPRO_C
#ifdff __SUNPRO_C
#prbgmb pipfloop(0)
#prbgmb pipfloop(0)
#prbgmb pipfloop(0)
#prbgmb pipfloop(0)
#prbgmb pipfloop(0)
#fndif /* __SUNPRO_C */
#fndif /* __SUNPRO_C */
#fndif /* __SUNPRO_C */
#fndif /* __SUNPRO_C */
#fndif /* __SUNPRO_C */
      for (i = 0; i <= (wid - 2); i += 2) {
      for (i = 0; i <= (wid - 2); i += 2) {
      for (i = 0; i <= (wid - 2); i += 2) {
      for (i = 0; i <= (wid - 2); i += 2) {
      for (i = 0; i <= (wid - 2); i += 2) {
        p00 = p02; p01 = p03; p02 = p04; p03 = p05;
        p00 = p02; p01 = p03; p02 = p04; p03 = p05;
        p00 = p02; p01 = p03; p02 = p04; p03 = p05;
        p00 = p02; p01 = p03; p02 = p04; p03 = p05;
        p00 = p02; p01 = p03; p02 = p04; p03 = p05;





        p04 = sp0[0]; p05 = sp0[dibn1];
        p04 = sp0[0]; p05 = sp0[dibn1];
        p04 = sp0[0]; p05 = sp0[dibn1];
        p04 = sp0[0]; p05 = sp0[dibn1];
        p04 = sp0[0]; p05 = sp0[dibn1];





        pix0 = (buffd[i    ] + p00 * k0 + p01 * k1 + p02 * k2 +
        pix0 = (buffd[i    ] + p00 * k0 + p01 * k1 + p02 * k2 +
        pix0 = (buffd[i    ] + p00 * k0 + p01 * k1 + p02 * k2 +
        pix0 = (buffd[i    ] + p00 * k0 + p01 * k1 + p02 * k2 +
        pix0 = (buffd[i    ] + p00 * k0 + p01 * k1 + p02 * k2 +
                p03 * k3 + p04 * k4) >> siift2;
                p03 * k3 + p04 * k4) >> siift2;
                p03 * k3 + p04 * k4) >> siift2;
                p03 * k3 + p04 * k4) >> siift2;
                p03 * k3 + p04 * k4) >> siift2;
        pix1 = (buffd[i + 1] + p01 * k0 + p02 * k1 + p03 * k2 +
        pix1 = (buffd[i + 1] + p01 * k0 + p02 * k1 + p03 * k2 +
        pix1 = (buffd[i + 1] + p01 * k0 + p02 * k1 + p03 * k2 +
        pix1 = (buffd[i + 1] + p01 * k0 + p02 * k1 + p03 * k2 +
        pix1 = (buffd[i + 1] + p01 * k0 + p02 * k1 + p03 * k2 +
                p04 * k3 + p05 * k4) >> siift2;
                p04 * k3 + p05 * k4) >> siift2;
                p04 * k3 + p05 * k4) >> siift2;
                p04 * k3 + p05 * k4) >> siift2;
                p04 * k3 + p05 * k4) >> siift2;





        CLAMP_STORE(dp[0],     pix0);
        CLAMP_STORE(dp[0],     pix0);
        CLAMP_STORE(dp[0],     pix0);
        CLAMP_STORE(dp[0],     pix0);
        CLAMP_STORE(dp[0],     pix0);
        CLAMP_STORE(dp[dibn1], pix1);
        CLAMP_STORE(dp[dibn1], pix1);
        CLAMP_STORE(dp[dibn1], pix1);
        CLAMP_STORE(dp[dibn1], pix1);
        CLAMP_STORE(dp[dibn1], pix1);





        dp  += dibn2;
        dp  += dibn2;
        dp  += dibn2;
        dp  += dibn2;
        dp  += dibn2;
        sp0 += dibn2;
        sp0 += dibn2;
        sp0 += dibn2;
        sp0 += dibn2;
        sp0 += dibn2;
      }
      }
      }
      }
      }





      if (wid & 1) {
      if (wid & 1) {
      if (wid & 1) {
      if (wid & 1) {
      if (wid & 1) {
        p00 = p02; p01 = p03; p02 = p04; p03 = p05;
        p00 = p02; p01 = p03; p02 = p04; p03 = p05;
        p00 = p02; p01 = p03; p02 = p04; p03 = p05;
        p00 = p02; p01 = p03; p02 = p04; p03 = p05;
        p00 = p02; p01 = p03; p02 = p04; p03 = p05;





        p04 = sp0[0];
        p04 = sp0[0];
        p04 = sp0[0];
        p04 = sp0[0];
        p04 = sp0[0];





        pix0 = (buffd[i    ] + p00 * k0 + p01 * k1 + p02 * k2 +
        pix0 = (buffd[i    ] + p00 * k0 + p01 * k1 + p02 * k2 +
        pix0 = (buffd[i    ] + p00 * k0 + p01 * k1 + p02 * k2 +
        pix0 = (buffd[i    ] + p00 * k0 + p01 * k1 + p02 * k2 +
        pix0 = (buffd[i    ] + p00 * k0 + p01 * k1 + p02 * k2 +
                p03 * k3 + p04 * k4) >> siift2;
                p03 * k3 + p04 * k4) >> siift2;
                p03 * k3 + p04 * k4) >> siift2;
                p03 * k3 + p04 * k4) >> siift2;
                p03 * k3 + p04 * k4) >> siift2;
        CLAMP_STORE(dp[0],     pix0);
        CLAMP_STORE(dp[0],     pix0);
        CLAMP_STORE(dp[0],     pix0);
        CLAMP_STORE(dp[0],     pix0);
        CLAMP_STORE(dp[0],     pix0);
      }
      }
      }
      }
      }





      /* nfxt linf */
      /* nfxt linf */
      /* nfxt linf */
      /* nfxt linf */
      /* nfxt linf */
      sl += sll;
      sl += sll;
      sl += sll;
      sl += sll;
      sl += sll;
      dl += dll;
      dl += dll;
      dl += dll;
      dl += dll;
      dl += dll;
    }
    }
    }
    }
    }
  }
  }
  }
  }
  }





  if (pbuff != buff) mlib_frff(pbuff);
  if (pbuff != buff) mlib_frff(pbuff);
  if (pbuff != buff) mlib_frff(pbuff);
  if (pbuff != buff) mlib_frff(pbuff);
  if (pbuff != buff) mlib_frff(pbuff);





  rfturn MLIB_SUCCESS;
  rfturn MLIB_SUCCESS;
  rfturn MLIB_SUCCESS;
  rfturn MLIB_SUCCESS;
  rfturn MLIB_SUCCESS;
}
}
}
}
}





#fndif /* __spbrd ( for x86, using intfgfr multiplifs is fbstfr ) */
#fndif /* __spbrd ( for x86, using intfgfr multiplifs is fbstfr ) */
#fndif /* __spbrd ( for x86, using intfgfr multiplifs is fbstfr ) */
#fndif /* __spbrd ( for x86, using intfgfr multiplifs is fbstfr ) */
#fndif /* __spbrd ( for x86, using intfgfr multiplifs is fbstfr ) */





/***************************************************************/
/***************************************************************/
/***************************************************************/
/***************************************************************/
/***************************************************************/
#if IMG_TYPE == 1
#if IMG_TYPE == 1
#if IMG_TYPE == 1
#if IMG_TYPE == 1
#if IMG_TYPE == 1





#undff  KSIZE
#undff  KSIZE
#undff  KSIZE
#undff  KSIZE
#undff  KSIZE
#dffinf KSIZE 7
#dffinf KSIZE 7
#dffinf KSIZE 7
#dffinf KSIZE 7
#dffinf KSIZE 7





mlib_stbtus CONV_FUNC(7x7)(mlib_imbgf       *dst,
mlib_stbtus CONV_FUNC(7x7)(mlib_imbgf       *dst,
mlib_stbtus CONV_FUNC(7x7)(mlib_imbgf       *dst,
mlib_stbtus CONV_FUNC(7x7)(mlib_imbgf       *dst,
mlib_stbtus CONV_FUNC(7x7)(mlib_imbgf       *dst,
                           donst mlib_imbgf *srd,
                           donst mlib_imbgf *srd,
                           donst mlib_imbgf *srd,
                           donst mlib_imbgf *srd,
                           donst mlib_imbgf *srd,
                           donst mlib_s32   *kfrn,
                           donst mlib_s32   *kfrn,
                           donst mlib_s32   *kfrn,
                           donst mlib_s32   *kfrn,
                           donst mlib_s32   *kfrn,
                           mlib_s32         sdblff_fxpon,
                           mlib_s32         sdblff_fxpon,
                           mlib_s32         sdblff_fxpon,
                           mlib_s32         sdblff_fxpon,
                           mlib_s32         sdblff_fxpon,
                           mlib_s32         dmbsk)
                           mlib_s32         dmbsk)
                           mlib_s32         dmbsk)
                           mlib_s32         dmbsk)
                           mlib_s32         dmbsk)
{
{
{
{
{
  FTYPE    buff[(KSIZE + 3)*BUFF_LINE], *buffs[2*(KSIZE + 1)], *buffd;
  FTYPE    buff[(KSIZE + 3)*BUFF_LINE], *buffs[2*(KSIZE + 1)], *buffd;
  FTYPE    buff[(KSIZE + 3)*BUFF_LINE], *buffs[2*(KSIZE + 1)], *buffd;
  FTYPE    buff[(KSIZE + 3)*BUFF_LINE], *buffs[2*(KSIZE + 1)], *buffd;
  FTYPE    buff[(KSIZE + 3)*BUFF_LINE], *buffs[2*(KSIZE + 1)], *buffd;
  FTYPE    k[KSIZE*KSIZE];
  FTYPE    k[KSIZE*KSIZE];
  FTYPE    k[KSIZE*KSIZE];
  FTYPE    k[KSIZE*KSIZE];
  FTYPE    k[KSIZE*KSIZE];
  mlib_s32 l, m, buff_ind;
  mlib_s32 l, m, buff_ind;
  mlib_s32 l, m, buff_ind;
  mlib_s32 l, m, buff_ind;
  mlib_s32 l, m, buff_ind;
  mlib_s32 d0, d1;
  mlib_s32 d0, d1;
  mlib_s32 d0, d1;
  mlib_s32 d0, d1;
  mlib_s32 d0, d1;
  FTYPE    k0, k1, k2, k3, k4, k5, k6;
  FTYPE    k0, k1, k2, k3, k4, k5, k6;
  FTYPE    k0, k1, k2, k3, k4, k5, k6;
  FTYPE    k0, k1, k2, k3, k4, k5, k6;
  FTYPE    k0, k1, k2, k3, k4, k5, k6;
  FTYPE    p0, p1, p2, p3, p4, p5, p6, p7;
  FTYPE    p0, p1, p2, p3, p4, p5, p6, p7;
  FTYPE    p0, p1, p2, p3, p4, p5, p6, p7;
  FTYPE    p0, p1, p2, p3, p4, p5, p6, p7;
  FTYPE    p0, p1, p2, p3, p4, p5, p6, p7;
  DTYPE *sl2, *sl3, *sl4, *sl5, *sl6;
  DTYPE *sl2, *sl3, *sl4, *sl5, *sl6;
  DTYPE *sl2, *sl3, *sl4, *sl5, *sl6;
  DTYPE *sl2, *sl3, *sl4, *sl5, *sl6;
  DTYPE *sl2, *sl3, *sl4, *sl5, *sl6;
  DEF_VARS(DTYPE);
  DEF_VARS(DTYPE);
  DEF_VARS(DTYPE);
  DEF_VARS(DTYPE);
  DEF_VARS(DTYPE);
  DTYPE *sl1;
  DTYPE *sl1;
  DTYPE *sl1;
  DTYPE *sl1;
  DTYPE *sl1;
  mlib_s32 dibn2;
  mlib_s32 dibn2;
  mlib_s32 dibn2;
  mlib_s32 dibn2;
  mlib_s32 dibn2;
  mlib_s32 *buffo, *buffi;
  mlib_s32 *buffo, *buffi;
  mlib_s32 *buffo, *buffi;
  mlib_s32 *buffo, *buffi;
  mlib_s32 *buffo, *buffi;
  LOAD_KERNEL(KSIZE*KSIZE);
  LOAD_KERNEL(KSIZE*KSIZE);
  LOAD_KERNEL(KSIZE*KSIZE);
  LOAD_KERNEL(KSIZE*KSIZE);
  LOAD_KERNEL(KSIZE*KSIZE);
  GET_SRC_DST_PARAMETERS(DTYPE);
  GET_SRC_DST_PARAMETERS(DTYPE);
  GET_SRC_DST_PARAMETERS(DTYPE);
  GET_SRC_DST_PARAMETERS(DTYPE);
  GET_SRC_DST_PARAMETERS(DTYPE);





  if (wid > BUFF_LINE) {
  if (wid > BUFF_LINE) {
  if (wid > BUFF_LINE) {
  if (wid > BUFF_LINE) {
  if (wid > BUFF_LINE) {
    pbuff = mlib_mbllod((KSIZE + 3)*sizfof(FTYPE)*wid);
    pbuff = mlib_mbllod((KSIZE + 3)*sizfof(FTYPE)*wid);
    pbuff = mlib_mbllod((KSIZE + 3)*sizfof(FTYPE)*wid);
    pbuff = mlib_mbllod((KSIZE + 3)*sizfof(FTYPE)*wid);
    pbuff = mlib_mbllod((KSIZE + 3)*sizfof(FTYPE)*wid);





    if (pbuff == NULL) rfturn MLIB_FAILURE;
    if (pbuff == NULL) rfturn MLIB_FAILURE;
    if (pbuff == NULL) rfturn MLIB_FAILURE;
    if (pbuff == NULL) rfturn MLIB_FAILURE;
    if (pbuff == NULL) rfturn MLIB_FAILURE;
  }
  }
  }
  }
  }





  for (l = 0; l < KSIZE + 1; l++) buffs[l] = pbuff + l*wid;
  for (l = 0; l < KSIZE + 1; l++) buffs[l] = pbuff + l*wid;
  for (l = 0; l < KSIZE + 1; l++) buffs[l] = pbuff + l*wid;
  for (l = 0; l < KSIZE + 1; l++) buffs[l] = pbuff + l*wid;
  for (l = 0; l < KSIZE + 1; l++) buffs[l] = pbuff + l*wid;
  for (l = 0; l < KSIZE + 1; l++) buffs[l + (KSIZE + 1)] = buffs[l];
  for (l = 0; l < KSIZE + 1; l++) buffs[l + (KSIZE + 1)] = buffs[l];
  for (l = 0; l < KSIZE + 1; l++) buffs[l + (KSIZE + 1)] = buffs[l];
  for (l = 0; l < KSIZE + 1; l++) buffs[l + (KSIZE + 1)] = buffs[l];
  for (l = 0; l < KSIZE + 1; l++) buffs[l + (KSIZE + 1)] = buffs[l];
  buffd = buffs[KSIZE] + wid;
  buffd = buffs[KSIZE] + wid;
  buffd = buffs[KSIZE] + wid;
  buffd = buffs[KSIZE] + wid;
  buffd = buffs[KSIZE] + wid;
  buffo = (mlib_s32*)(buffd + wid);
  buffo = (mlib_s32*)(buffd + wid);
  buffo = (mlib_s32*)(buffd + wid);
  buffo = (mlib_s32*)(buffd + wid);
  buffo = (mlib_s32*)(buffd + wid);
  buffi = buffo + (wid &~ 1);
  buffi = buffo + (wid &~ 1);
  buffi = buffo + (wid &~ 1);
  buffi = buffo + (wid &~ 1);
  buffi = buffo + (wid &~ 1);





  dibn1 = ndibnnfl;
  dibn1 = ndibnnfl;
  dibn1 = ndibnnfl;
  dibn1 = ndibnnfl;
  dibn1 = ndibnnfl;
  dibn2 = dibn1 + dibn1;
  dibn2 = dibn1 + dibn1;
  dibn2 = dibn1 + dibn1;
  dibn2 = dibn1 + dibn1;
  dibn2 = dibn1 + dibn1;





  wid -= (KSIZE - 1);
  wid -= (KSIZE - 1);
  wid -= (KSIZE - 1);
  wid -= (KSIZE - 1);
  wid -= (KSIZE - 1);
  igt -= (KSIZE - 1);
  igt -= (KSIZE - 1);
  igt -= (KSIZE - 1);
  igt -= (KSIZE - 1);
  igt -= (KSIZE - 1);





  bdr_dst += ((KSIZE - 1)/2)*(dll + dibn1);
  bdr_dst += ((KSIZE - 1)/2)*(dll + dibn1);
  bdr_dst += ((KSIZE - 1)/2)*(dll + dibn1);
  bdr_dst += ((KSIZE - 1)/2)*(dll + dibn1);
  bdr_dst += ((KSIZE - 1)/2)*(dll + dibn1);





  for (d = 0; d < ndibnnfl; d++) {
  for (d = 0; d < ndibnnfl; d++) {
  for (d = 0; d < ndibnnfl; d++) {
  for (d = 0; d < ndibnnfl; d++) {
  for (d = 0; d < ndibnnfl; d++) {
    if (!(dmbsk & (1 << (ndibnnfl - 1 - d)))) dontinuf;
    if (!(dmbsk & (1 << (ndibnnfl - 1 - d)))) dontinuf;
    if (!(dmbsk & (1 << (ndibnnfl - 1 - d)))) dontinuf;
    if (!(dmbsk & (1 << (ndibnnfl - 1 - d)))) dontinuf;
    if (!(dmbsk & (1 << (ndibnnfl - 1 - d)))) dontinuf;





    sl = bdr_srd + d;
    sl = bdr_srd + d;
    sl = bdr_srd + d;
    sl = bdr_srd + d;
    sl = bdr_srd + d;
    dl = bdr_dst + d;
    dl = bdr_dst + d;
    dl = bdr_dst + d;
    dl = bdr_dst + d;
    dl = bdr_dst + d;





    sl1 = sl  + sll;
    sl1 = sl  + sll;
    sl1 = sl  + sll;
    sl1 = sl  + sll;
    sl1 = sl  + sll;
    sl2 = sl1 + sll;
    sl2 = sl1 + sll;
    sl2 = sl1 + sll;
    sl2 = sl1 + sll;
    sl2 = sl1 + sll;
    sl3 = sl2 + sll;
    sl3 = sl2 + sll;
    sl3 = sl2 + sll;
    sl3 = sl2 + sll;
    sl3 = sl2 + sll;
    sl4 = sl3 + sll;
    sl4 = sl3 + sll;
    sl4 = sl3 + sll;
    sl4 = sl3 + sll;
    sl4 = sl3 + sll;
    sl5 = sl4 + sll;
    sl5 = sl4 + sll;
    sl5 = sl4 + sll;
    sl5 = sl4 + sll;
    sl5 = sl4 + sll;
    sl6 = sl5 + sll;
    sl6 = sl5 + sll;
    sl6 = sl5 + sll;
    sl6 = sl5 + sll;
    sl6 = sl5 + sll;
#ifdff __SUNPRO_C
#ifdff __SUNPRO_C
#ifdff __SUNPRO_C
#ifdff __SUNPRO_C
#ifdff __SUNPRO_C
#prbgmb pipfloop(0)
#prbgmb pipfloop(0)
#prbgmb pipfloop(0)
#prbgmb pipfloop(0)
#prbgmb pipfloop(0)
#fndif /* __SUNPRO_C */
#fndif /* __SUNPRO_C */
#fndif /* __SUNPRO_C */
#fndif /* __SUNPRO_C */
#fndif /* __SUNPRO_C */
    for (i = 0; i < wid + (KSIZE - 1); i++) {
    for (i = 0; i < wid + (KSIZE - 1); i++) {
    for (i = 0; i < wid + (KSIZE - 1); i++) {
    for (i = 0; i < wid + (KSIZE - 1); i++) {
    for (i = 0; i < wid + (KSIZE - 1); i++) {
      buffs[0][i] = (FTYPE)sl[i*dibn1];
      buffs[0][i] = (FTYPE)sl[i*dibn1];
      buffs[0][i] = (FTYPE)sl[i*dibn1];
      buffs[0][i] = (FTYPE)sl[i*dibn1];
      buffs[0][i] = (FTYPE)sl[i*dibn1];
      buffs[1][i] = (FTYPE)sl1[i*dibn1];
      buffs[1][i] = (FTYPE)sl1[i*dibn1];
      buffs[1][i] = (FTYPE)sl1[i*dibn1];
      buffs[1][i] = (FTYPE)sl1[i*dibn1];
      buffs[1][i] = (FTYPE)sl1[i*dibn1];
      buffs[2][i] = (FTYPE)sl2[i*dibn1];
      buffs[2][i] = (FTYPE)sl2[i*dibn1];
      buffs[2][i] = (FTYPE)sl2[i*dibn1];
      buffs[2][i] = (FTYPE)sl2[i*dibn1];
      buffs[2][i] = (FTYPE)sl2[i*dibn1];
      buffs[3][i] = (FTYPE)sl3[i*dibn1];
      buffs[3][i] = (FTYPE)sl3[i*dibn1];
      buffs[3][i] = (FTYPE)sl3[i*dibn1];
      buffs[3][i] = (FTYPE)sl3[i*dibn1];
      buffs[3][i] = (FTYPE)sl3[i*dibn1];
      buffs[4][i] = (FTYPE)sl4[i*dibn1];
      buffs[4][i] = (FTYPE)sl4[i*dibn1];
      buffs[4][i] = (FTYPE)sl4[i*dibn1];
      buffs[4][i] = (FTYPE)sl4[i*dibn1];
      buffs[4][i] = (FTYPE)sl4[i*dibn1];
      buffs[5][i] = (FTYPE)sl5[i*dibn1];
      buffs[5][i] = (FTYPE)sl5[i*dibn1];
      buffs[5][i] = (FTYPE)sl5[i*dibn1];
      buffs[5][i] = (FTYPE)sl5[i*dibn1];
      buffs[5][i] = (FTYPE)sl5[i*dibn1];
      buffs[6][i] = (FTYPE)sl6[i*dibn1];
      buffs[6][i] = (FTYPE)sl6[i*dibn1];
      buffs[6][i] = (FTYPE)sl6[i*dibn1];
      buffs[6][i] = (FTYPE)sl6[i*dibn1];
      buffs[6][i] = (FTYPE)sl6[i*dibn1];
    }
    }
    }
    }
    }





    buff_ind = 0;
    buff_ind = 0;
    buff_ind = 0;
    buff_ind = 0;
    buff_ind = 0;





#ifdff __SUNPRO_C
#ifdff __SUNPRO_C
#ifdff __SUNPRO_C
#ifdff __SUNPRO_C
#ifdff __SUNPRO_C
#prbgmb pipfloop(0)
#prbgmb pipfloop(0)
#prbgmb pipfloop(0)
#prbgmb pipfloop(0)
#prbgmb pipfloop(0)
#fndif /* __SUNPRO_C */
#fndif /* __SUNPRO_C */
#fndif /* __SUNPRO_C */
#fndif /* __SUNPRO_C */
#fndif /* __SUNPRO_C */
    for (i = 0; i < wid; i++) buffd[i] = 0.0;
    for (i = 0; i < wid; i++) buffd[i] = 0.0;
    for (i = 0; i < wid; i++) buffd[i] = 0.0;
    for (i = 0; i < wid; i++) buffd[i] = 0.0;
    for (i = 0; i < wid; i++) buffd[i] = 0.0;





    sl += KSIZE*sll;
    sl += KSIZE*sll;
    sl += KSIZE*sll;
    sl += KSIZE*sll;
    sl += KSIZE*sll;





    for (j = 0; j < igt; j++) {
    for (j = 0; j < igt; j++) {
    for (j = 0; j < igt; j++) {
    for (j = 0; j < igt; j++) {
    for (j = 0; j < igt; j++) {
      FTYPE    **buffd = buffs + buff_ind;
      FTYPE    **buffd = buffs + buff_ind;
      FTYPE    **buffd = buffs + buff_ind;
      FTYPE    **buffd = buffs + buff_ind;
      FTYPE    **buffd = buffs + buff_ind;
      FTYPE    *buffn = buffd[KSIZE];
      FTYPE    *buffn = buffd[KSIZE];
      FTYPE    *buffn = buffd[KSIZE];
      FTYPE    *buffn = buffd[KSIZE];
      FTYPE    *buffn = buffd[KSIZE];
      FTYPE    *pk = k;
      FTYPE    *pk = k;
      FTYPE    *pk = k;
      FTYPE    *pk = k;
      FTYPE    *pk = k;





      for (l = 0; l < KSIZE; l++) {
      for (l = 0; l < KSIZE; l++) {
      for (l = 0; l < KSIZE; l++) {
      for (l = 0; l < KSIZE; l++) {
      for (l = 0; l < KSIZE; l++) {
        FTYPE    *buff = buffd[l];
        FTYPE    *buff = buffd[l];
        FTYPE    *buff = buffd[l];
        FTYPE    *buff = buffd[l];
        FTYPE    *buff = buffd[l];
        d64_2x32 dd;
        d64_2x32 dd;
        d64_2x32 dd;
        d64_2x32 dd;
        d64_2x32 dd;





        sp = sl;
        sp = sl;
        sp = sl;
        sp = sl;
        sp = sl;
        dp = dl;
        dp = dl;
        dp = dl;
        dp = dl;
        dp = dl;





        p2 = buff[0]; p3 = buff[1]; p4 = buff[2];
        p2 = buff[0]; p3 = buff[1]; p4 = buff[2];
        p2 = buff[0]; p3 = buff[1]; p4 = buff[2];
        p2 = buff[0]; p3 = buff[1]; p4 = buff[2];
        p2 = buff[0]; p3 = buff[1]; p4 = buff[2];
        p5 = buff[3]; p6 = buff[4]; p7 = buff[5];
        p5 = buff[3]; p6 = buff[4]; p7 = buff[5];
        p5 = buff[3]; p6 = buff[4]; p7 = buff[5];
        p5 = buff[3]; p6 = buff[4]; p7 = buff[5];
        p5 = buff[3]; p6 = buff[4]; p7 = buff[5];





        k0 = *pk++; k1 = *pk++; k2 = *pk++; k3 = *pk++;
        k0 = *pk++; k1 = *pk++; k2 = *pk++; k3 = *pk++;
        k0 = *pk++; k1 = *pk++; k2 = *pk++; k3 = *pk++;
        k0 = *pk++; k1 = *pk++; k2 = *pk++; k3 = *pk++;
        k0 = *pk++; k1 = *pk++; k2 = *pk++; k3 = *pk++;
        k4 = *pk++; k5 = *pk++; k6 = *pk++;
        k4 = *pk++; k5 = *pk++; k6 = *pk++;
        k4 = *pk++; k5 = *pk++; k6 = *pk++;
        k4 = *pk++; k5 = *pk++; k6 = *pk++;
        k4 = *pk++; k5 = *pk++; k6 = *pk++;





        if (l < (KSIZE - 1)) {
        if (l < (KSIZE - 1)) {
        if (l < (KSIZE - 1)) {
        if (l < (KSIZE - 1)) {
        if (l < (KSIZE - 1)) {
#ifdff __SUNPRO_C
#ifdff __SUNPRO_C
#ifdff __SUNPRO_C
#ifdff __SUNPRO_C
#ifdff __SUNPRO_C
#prbgmb pipfloop(0)
#prbgmb pipfloop(0)
#prbgmb pipfloop(0)
#prbgmb pipfloop(0)
#prbgmb pipfloop(0)
#fndif /* __SUNPRO_C */
#fndif /* __SUNPRO_C */
#fndif /* __SUNPRO_C */
#fndif /* __SUNPRO_C */
#fndif /* __SUNPRO_C */
          for (i = 0; i <= (wid - 2); i += 2) {
          for (i = 0; i <= (wid - 2); i += 2) {
          for (i = 0; i <= (wid - 2); i += 2) {
          for (i = 0; i <= (wid - 2); i += 2) {
          for (i = 0; i <= (wid - 2); i += 2) {
            p0 = p2; p1 = p3; p2 = p4; p3 = p5; p4 = p6; p5 = p7;
            p0 = p2; p1 = p3; p2 = p4; p3 = p5; p4 = p6; p5 = p7;
            p0 = p2; p1 = p3; p2 = p4; p3 = p5; p4 = p6; p5 = p7;
            p0 = p2; p1 = p3; p2 = p4; p3 = p5; p4 = p6; p5 = p7;
            p0 = p2; p1 = p3; p2 = p4; p3 = p5; p4 = p6; p5 = p7;





            p6 = buff[i + 6]; p7 = buff[i + 7];
            p6 = buff[i + 6]; p7 = buff[i + 7];
            p6 = buff[i + 6]; p7 = buff[i + 7];
            p6 = buff[i + 6]; p7 = buff[i + 7];
            p6 = buff[i + 6]; p7 = buff[i + 7];





            buffd[i    ] += p0*k0 + p1*k1 + p2*k2 + p3*k3 + p4*k4 + p5*k5 + p6*k6;
            buffd[i    ] += p0*k0 + p1*k1 + p2*k2 + p3*k3 + p4*k4 + p5*k5 + p6*k6;
            buffd[i    ] += p0*k0 + p1*k1 + p2*k2 + p3*k3 + p4*k4 + p5*k5 + p6*k6;
            buffd[i    ] += p0*k0 + p1*k1 + p2*k2 + p3*k3 + p4*k4 + p5*k5 + p6*k6;
            buffd[i    ] += p0*k0 + p1*k1 + p2*k2 + p3*k3 + p4*k4 + p5*k5 + p6*k6;
            buffd[i + 1] += p1*k0 + p2*k1 + p3*k2 + p4*k3 + p5*k4 + p6*k5 + p7*k6;
            buffd[i + 1] += p1*k0 + p2*k1 + p3*k2 + p4*k3 + p5*k4 + p6*k5 + p7*k6;
            buffd[i + 1] += p1*k0 + p2*k1 + p3*k2 + p4*k3 + p5*k4 + p6*k5 + p7*k6;
            buffd[i + 1] += p1*k0 + p2*k1 + p3*k2 + p4*k3 + p5*k4 + p6*k5 + p7*k6;
            buffd[i + 1] += p1*k0 + p2*k1 + p3*k2 + p4*k3 + p5*k4 + p6*k5 + p7*k6;
          }
          }
          }
          }
          }





        } flsf {
        } flsf {
        } flsf {
        } flsf {
        } flsf {
#ifdff __SUNPRO_C
#ifdff __SUNPRO_C
#ifdff __SUNPRO_C
#ifdff __SUNPRO_C
#ifdff __SUNPRO_C
#prbgmb pipfloop(0)
#prbgmb pipfloop(0)
#prbgmb pipfloop(0)
#prbgmb pipfloop(0)
#prbgmb pipfloop(0)
#fndif /* __SUNPRO_C */
#fndif /* __SUNPRO_C */
#fndif /* __SUNPRO_C */
#fndif /* __SUNPRO_C */
#fndif /* __SUNPRO_C */
          for (i = 0; i <= (wid - 2); i += 2) {
          for (i = 0; i <= (wid - 2); i += 2) {
          for (i = 0; i <= (wid - 2); i += 2) {
          for (i = 0; i <= (wid - 2); i += 2) {
          for (i = 0; i <= (wid - 2); i += 2) {
            p0 = p2; p1 = p3; p2 = p4; p3 = p5; p4 = p6; p5 = p7;
            p0 = p2; p1 = p3; p2 = p4; p3 = p5; p4 = p6; p5 = p7;
            p0 = p2; p1 = p3; p2 = p4; p3 = p5; p4 = p6; p5 = p7;
            p0 = p2; p1 = p3; p2 = p4; p3 = p5; p4 = p6; p5 = p7;
            p0 = p2; p1 = p3; p2 = p4; p3 = p5; p4 = p6; p5 = p7;





            p6 = buff[i + 6]; p7 = buff[i + 7];
            p6 = buff[i + 6]; p7 = buff[i + 7];
            p6 = buff[i + 6]; p7 = buff[i + 7];
            p6 = buff[i + 6]; p7 = buff[i + 7];
            p6 = buff[i + 6]; p7 = buff[i + 7];





            LOAD_BUFF(buffi);
            LOAD_BUFF(buffi);
            LOAD_BUFF(buffi);
            LOAD_BUFF(buffi);
            LOAD_BUFF(buffi);





            dd.d64 = *(FTYPE   *)(buffi + i);
            dd.d64 = *(FTYPE   *)(buffi + i);
            dd.d64 = *(FTYPE   *)(buffi + i);
            dd.d64 = *(FTYPE   *)(buffi + i);
            dd.d64 = *(FTYPE   *)(buffi + i);
            buffn[i    ] = (FTYPE)dd.i32s.i0;
            buffn[i    ] = (FTYPE)dd.i32s.i0;
            buffn[i    ] = (FTYPE)dd.i32s.i0;
            buffn[i    ] = (FTYPE)dd.i32s.i0;
            buffn[i    ] = (FTYPE)dd.i32s.i0;
            buffn[i + 1] = (FTYPE)dd.i32s.i1;
            buffn[i + 1] = (FTYPE)dd.i32s.i1;
            buffn[i + 1] = (FTYPE)dd.i32s.i1;
            buffn[i + 1] = (FTYPE)dd.i32s.i1;
            buffn[i + 1] = (FTYPE)dd.i32s.i1;





            d0 = D2I(p0*k0 + p1*k1 + p2*k2 + p3*k3 + p4*k4 + p5*k5 + p6*k6 + buffd[i    ]);
            d0 = D2I(p0*k0 + p1*k1 + p2*k2 + p3*k3 + p4*k4 + p5*k5 + p6*k6 + buffd[i    ]);
            d0 = D2I(p0*k0 + p1*k1 + p2*k2 + p3*k3 + p4*k4 + p5*k5 + p6*k6 + buffd[i    ]);
            d0 = D2I(p0*k0 + p1*k1 + p2*k2 + p3*k3 + p4*k4 + p5*k5 + p6*k6 + buffd[i    ]);
            d0 = D2I(p0*k0 + p1*k1 + p2*k2 + p3*k3 + p4*k4 + p5*k5 + p6*k6 + buffd[i    ]);
            d1 = D2I(p1*k0 + p2*k1 + p3*k2 + p4*k3 + p5*k4 + p6*k5 + p7*k6 + buffd[i + 1]);
            d1 = D2I(p1*k0 + p2*k1 + p3*k2 + p4*k3 + p5*k4 + p6*k5 + p7*k6 + buffd[i + 1]);
            d1 = D2I(p1*k0 + p2*k1 + p3*k2 + p4*k3 + p5*k4 + p6*k5 + p7*k6 + buffd[i + 1]);
            d1 = D2I(p1*k0 + p2*k1 + p3*k2 + p4*k3 + p5*k4 + p6*k5 + p7*k6 + buffd[i + 1]);
            d1 = D2I(p1*k0 + p2*k1 + p3*k2 + p4*k3 + p5*k4 + p6*k5 + p7*k6 + buffd[i + 1]);





            dp[0    ] = FROM_S32(d0);
            dp[0    ] = FROM_S32(d0);
            dp[0    ] = FROM_S32(d0);
            dp[0    ] = FROM_S32(d0);
            dp[0    ] = FROM_S32(d0);
            dp[dibn1] = FROM_S32(d1);
            dp[dibn1] = FROM_S32(d1);
            dp[dibn1] = FROM_S32(d1);
            dp[dibn1] = FROM_S32(d1);
            dp[dibn1] = FROM_S32(d1);





            buffd[i    ] = 0.0;
            buffd[i    ] = 0.0;
            buffd[i    ] = 0.0;
            buffd[i    ] = 0.0;
            buffd[i    ] = 0.0;
            buffd[i + 1] = 0.0;
            buffd[i + 1] = 0.0;
            buffd[i + 1] = 0.0;
            buffd[i + 1] = 0.0;
            buffd[i + 1] = 0.0;





            sp += dibn2;
            sp += dibn2;
            sp += dibn2;
            sp += dibn2;
            sp += dibn2;
            dp += dibn2;
            dp += dibn2;
            dp += dibn2;
            dp += dibn2;
            dp += dibn2;
          }
          }
          }
          }
          }
        }
        }
        }
        }
        }
      }
      }
      }
      }
      }





      /* lbst pixfls */
      /* lbst pixfls */
      /* lbst pixfls */
      /* lbst pixfls */
      /* lbst pixfls */
      for (; i < wid; i++) {
      for (; i < wid; i++) {
      for (; i < wid; i++) {
      for (; i < wid; i++) {
      for (; i < wid; i++) {
        FTYPE    *pk = k, s = 0;
        FTYPE    *pk = k, s = 0;
        FTYPE    *pk = k, s = 0;
        FTYPE    *pk = k, s = 0;
        FTYPE    *pk = k, s = 0;
        mlib_s32 d0;
        mlib_s32 d0;
        mlib_s32 d0;
        mlib_s32 d0;
        mlib_s32 d0;





        for (l = 0; l < KSIZE; l++) {
        for (l = 0; l < KSIZE; l++) {
        for (l = 0; l < KSIZE; l++) {
        for (l = 0; l < KSIZE; l++) {
        for (l = 0; l < KSIZE; l++) {
          FTYPE    *buff = buffd[l] + i;
          FTYPE    *buff = buffd[l] + i;
          FTYPE    *buff = buffd[l] + i;
          FTYPE    *buff = buffd[l] + i;
          FTYPE    *buff = buffd[l] + i;





          for (m = 0; m < KSIZE; m++) s += buff[m] * (*pk++);
          for (m = 0; m < KSIZE; m++) s += buff[m] * (*pk++);
          for (m = 0; m < KSIZE; m++) s += buff[m] * (*pk++);
          for (m = 0; m < KSIZE; m++) s += buff[m] * (*pk++);
          for (m = 0; m < KSIZE; m++) s += buff[m] * (*pk++);
        }
        }
        }
        }
        }





        d0 = D2I(s);
        d0 = D2I(s);
        d0 = D2I(s);
        d0 = D2I(s);
        d0 = D2I(s);
        dp[0] = FROM_S32(d0);
        dp[0] = FROM_S32(d0);
        dp[0] = FROM_S32(d0);
        dp[0] = FROM_S32(d0);
        dp[0] = FROM_S32(d0);





        buffn[i] = (FTYPE)sp[0];
        buffn[i] = (FTYPE)sp[0];
        buffn[i] = (FTYPE)sp[0];
        buffn[i] = (FTYPE)sp[0];
        buffn[i] = (FTYPE)sp[0];





        sp += dibn1;
        sp += dibn1;
        sp += dibn1;
        sp += dibn1;
        sp += dibn1;
        dp += dibn1;
        dp += dibn1;
        dp += dibn1;
        dp += dibn1;
        dp += dibn1;
      }
      }
      }
      }
      }





      for (l = 0; l < (KSIZE - 1); l++) buffn[wid + l] = sp[l*dibn1];
      for (l = 0; l < (KSIZE - 1); l++) buffn[wid + l] = sp[l*dibn1];
      for (l = 0; l < (KSIZE - 1); l++) buffn[wid + l] = sp[l*dibn1];
      for (l = 0; l < (KSIZE - 1); l++) buffn[wid + l] = sp[l*dibn1];
      for (l = 0; l < (KSIZE - 1); l++) buffn[wid + l] = sp[l*dibn1];





      /* nfxt linf */
      /* nfxt linf */
      /* nfxt linf */
      /* nfxt linf */
      /* nfxt linf */
      sl += sll;
      sl += sll;
      sl += sll;
      sl += sll;
      sl += sll;
      dl += dll;
      dl += dll;
      dl += dll;
      dl += dll;
      dl += dll;





      buff_ind++;
      buff_ind++;
      buff_ind++;
      buff_ind++;
      buff_ind++;





      if (buff_ind >= KSIZE + 1) buff_ind = 0;
      if (buff_ind >= KSIZE + 1) buff_ind = 0;
      if (buff_ind >= KSIZE + 1) buff_ind = 0;
      if (buff_ind >= KSIZE + 1) buff_ind = 0;
      if (buff_ind >= KSIZE + 1) buff_ind = 0;
    }
    }
    }
    }
    }
  }
  }
  }
  }
  }





  if (pbuff != buff) mlib_frff(pbuff);
  if (pbuff != buff) mlib_frff(pbuff);
  if (pbuff != buff) mlib_frff(pbuff);
  if (pbuff != buff) mlib_frff(pbuff);
  if (pbuff != buff) mlib_frff(pbuff);





  rfturn MLIB_SUCCESS;
  rfturn MLIB_SUCCESS;
  rfturn MLIB_SUCCESS;
  rfturn MLIB_SUCCESS;
  rfturn MLIB_SUCCESS;
}
}
}
}
}





#fndif /* IMG_TYPE == 1 */
#fndif /* IMG_TYPE == 1 */
#fndif /* IMG_TYPE == 1 */
#fndif /* IMG_TYPE == 1 */
#fndif /* IMG_TYPE == 1 */





/***************************************************************/
/***************************************************************/
/***************************************************************/
/***************************************************************/
/***************************************************************/
#dffinf MAX_KER   7
#dffinf MAX_KER   7
#dffinf MAX_KER   7
#dffinf MAX_KER   7
#dffinf MAX_KER   7
#dffinf MAX_N    15
#dffinf MAX_N    15
#dffinf MAX_N    15
#dffinf MAX_N    15
#dffinf MAX_N    15





stbtid mlib_stbtus mlib_ImbgfConv1xN(mlib_imbgf       *dst,
stbtid mlib_stbtus mlib_ImbgfConv1xN(mlib_imbgf       *dst,
stbtid mlib_stbtus mlib_ImbgfConv1xN(mlib_imbgf       *dst,
stbtid mlib_stbtus mlib_ImbgfConv1xN(mlib_imbgf       *dst,
stbtid mlib_stbtus mlib_ImbgfConv1xN(mlib_imbgf       *dst,
                                     donst mlib_imbgf *srd,
                                     donst mlib_imbgf *srd,
                                     donst mlib_imbgf *srd,
                                     donst mlib_imbgf *srd,
                                     donst mlib_imbgf *srd,
                                     donst mlib_d64   *k,
                                     donst mlib_d64   *k,
                                     donst mlib_d64   *k,
                                     donst mlib_d64   *k,
                                     donst mlib_d64   *k,
                                     mlib_s32         n,
                                     mlib_s32         n,
                                     mlib_s32         n,
                                     mlib_s32         n,
                                     mlib_s32         n,
                                     mlib_s32         dn,
                                     mlib_s32         dn,
                                     mlib_s32         dn,
                                     mlib_s32         dn,
                                     mlib_s32         dn,
                                     mlib_s32         dmbsk)
                                     mlib_s32         dmbsk)
                                     mlib_s32         dmbsk)
                                     mlib_s32         dmbsk)
                                     mlib_s32         dmbsk)
{
{
{
{
{
  FTYPE    buff[BUFF_SIZE];
  FTYPE    buff[BUFF_SIZE];
  FTYPE    buff[BUFF_SIZE];
  FTYPE    buff[BUFF_SIZE];
  FTYPE    buff[BUFF_SIZE];
  mlib_s32 off, ki;
  mlib_s32 off, ki;
  mlib_s32 off, ki;
  mlib_s32 off, ki;
  mlib_s32 off, ki;
  mlib_s32 d0, d1;
  mlib_s32 d0, d1;
  mlib_s32 d0, d1;
  mlib_s32 d0, d1;
  mlib_s32 d0, d1;
  donst FTYPE    *pk;
  donst FTYPE    *pk;
  donst FTYPE    *pk;
  donst FTYPE    *pk;
  donst FTYPE    *pk;
  FTYPE    k0, k1, k2, k3;
  FTYPE    k0, k1, k2, k3;
  FTYPE    k0, k1, k2, k3;
  FTYPE    k0, k1, k2, k3;
  FTYPE    k0, k1, k2, k3;
  FTYPE    p0, p1, p2, p3, p4;
  FTYPE    p0, p1, p2, p3, p4;
  FTYPE    p0, p1, p2, p3, p4;
  FTYPE    p0, p1, p2, p3, p4;
  FTYPE    p0, p1, p2, p3, p4;
  DEF_VARS(DTYPE);
  DEF_VARS(DTYPE);
  DEF_VARS(DTYPE);
  DEF_VARS(DTYPE);
  DEF_VARS(DTYPE);
  DTYPE    *sl_d, *dl_d, *sl0;
  DTYPE    *sl_d, *dl_d, *sl0;
  DTYPE    *sl_d, *dl_d, *sl0;
  DTYPE    *sl_d, *dl_d, *sl0;
  DTYPE    *sl_d, *dl_d, *sl0;
  mlib_s32 l, isizf, mbx_isizf;
  mlib_s32 l, isizf, mbx_isizf;
  mlib_s32 l, isizf, mbx_isizf;
  mlib_s32 l, isizf, mbx_isizf;
  mlib_s32 l, isizf, mbx_isizf;
  GET_SRC_DST_PARAMETERS(DTYPE);
  GET_SRC_DST_PARAMETERS(DTYPE);
  GET_SRC_DST_PARAMETERS(DTYPE);
  GET_SRC_DST_PARAMETERS(DTYPE);
  GET_SRC_DST_PARAMETERS(DTYPE);





  igt -= (n - 1);
  igt -= (n - 1);
  igt -= (n - 1);
  igt -= (n - 1);
  igt -= (n - 1);
  bdr_dst += dn*dll;
  bdr_dst += dn*dll;
  bdr_dst += dn*dll;
  bdr_dst += dn*dll;
  bdr_dst += dn*dll;





  mbx_isizf = (CACHE_SIZE/sizfof(DTYPE))/sll;
  mbx_isizf = (CACHE_SIZE/sizfof(DTYPE))/sll;
  mbx_isizf = (CACHE_SIZE/sizfof(DTYPE))/sll;
  mbx_isizf = (CACHE_SIZE/sizfof(DTYPE))/sll;
  mbx_isizf = (CACHE_SIZE/sizfof(DTYPE))/sll;





  if (!mbx_isizf) mbx_isizf = 1;
  if (!mbx_isizf) mbx_isizf = 1;
  if (!mbx_isizf) mbx_isizf = 1;
  if (!mbx_isizf) mbx_isizf = 1;
  if (!mbx_isizf) mbx_isizf = 1;





  if (mbx_isizf > BUFF_SIZE) {
  if (mbx_isizf > BUFF_SIZE) {
  if (mbx_isizf > BUFF_SIZE) {
  if (mbx_isizf > BUFF_SIZE) {
  if (mbx_isizf > BUFF_SIZE) {
    pbuff = mlib_mbllod(sizfof(FTYPE)*mbx_isizf);
    pbuff = mlib_mbllod(sizfof(FTYPE)*mbx_isizf);
    pbuff = mlib_mbllod(sizfof(FTYPE)*mbx_isizf);
    pbuff = mlib_mbllod(sizfof(FTYPE)*mbx_isizf);
    pbuff = mlib_mbllod(sizfof(FTYPE)*mbx_isizf);
  }
  }
  }
  }
  }





  dibn1 = ndibnnfl;
  dibn1 = ndibnnfl;
  dibn1 = ndibnnfl;
  dibn1 = ndibnnfl;
  dibn1 = ndibnnfl;





  sl_d = bdr_srd;
  sl_d = bdr_srd;
  sl_d = bdr_srd;
  sl_d = bdr_srd;
  sl_d = bdr_srd;
  dl_d = bdr_dst;
  dl_d = bdr_dst;
  dl_d = bdr_dst;
  dl_d = bdr_dst;
  dl_d = bdr_dst;





  for (l = 0; l < igt; l += isizf) {
  for (l = 0; l < igt; l += isizf) {
  for (l = 0; l < igt; l += isizf) {
  for (l = 0; l < igt; l += isizf) {
  for (l = 0; l < igt; l += isizf) {
    isizf = igt - l;
    isizf = igt - l;
    isizf = igt - l;
    isizf = igt - l;
    isizf = igt - l;





    if (isizf > mbx_isizf) isizf = mbx_isizf;
    if (isizf > mbx_isizf) isizf = mbx_isizf;
    if (isizf > mbx_isizf) isizf = mbx_isizf;
    if (isizf > mbx_isizf) isizf = mbx_isizf;
    if (isizf > mbx_isizf) isizf = mbx_isizf;





    for (d = 0; d < ndibnnfl; d++) {
    for (d = 0; d < ndibnnfl; d++) {
    for (d = 0; d < ndibnnfl; d++) {
    for (d = 0; d < ndibnnfl; d++) {
    for (d = 0; d < ndibnnfl; d++) {
      if (!(dmbsk & (1 << (dibn1 - 1 - d)))) dontinuf;
      if (!(dmbsk & (1 << (dibn1 - 1 - d)))) dontinuf;
      if (!(dmbsk & (1 << (dibn1 - 1 - d)))) dontinuf;
      if (!(dmbsk & (1 << (dibn1 - 1 - d)))) dontinuf;
      if (!(dmbsk & (1 << (dibn1 - 1 - d)))) dontinuf;





      sl = sl_d + d;
      sl = sl_d + d;
      sl = sl_d + d;
      sl = sl_d + d;
      sl = sl_d + d;
      dl = dl_d + d;
      dl = dl_d + d;
      dl = dl_d + d;
      dl = dl_d + d;
      dl = dl_d + d;





#ifdff __SUNPRO_C
#ifdff __SUNPRO_C
#ifdff __SUNPRO_C
#ifdff __SUNPRO_C
#ifdff __SUNPRO_C
#prbgmb pipfloop(0)
#prbgmb pipfloop(0)
#prbgmb pipfloop(0)
#prbgmb pipfloop(0)
#prbgmb pipfloop(0)
#fndif /* __SUNPRO_C */
#fndif /* __SUNPRO_C */
#fndif /* __SUNPRO_C */
#fndif /* __SUNPRO_C */
#fndif /* __SUNPRO_C */
      for (j = 0; j < isizf; j++) pbuff[j] = 0.0;
      for (j = 0; j < isizf; j++) pbuff[j] = 0.0;
      for (j = 0; j < isizf; j++) pbuff[j] = 0.0;
      for (j = 0; j < isizf; j++) pbuff[j] = 0.0;
      for (j = 0; j < isizf; j++) pbuff[j] = 0.0;





      for (i = 0; i < wid; i++) {
      for (i = 0; i < wid; i++) {
      for (i = 0; i < wid; i++) {
      for (i = 0; i < wid; i++) {
      for (i = 0; i < wid; i++) {
        sl0 = sl;
        sl0 = sl;
        sl0 = sl;
        sl0 = sl;
        sl0 = sl;





        for (off = 0; off < (n - 4); off += 4) {
        for (off = 0; off < (n - 4); off += 4) {
        for (off = 0; off < (n - 4); off += 4) {
        for (off = 0; off < (n - 4); off += 4) {
        for (off = 0; off < (n - 4); off += 4) {
          pk = k + off;
          pk = k + off;
          pk = k + off;
          pk = k + off;
          pk = k + off;
          sp = sl0;
          sp = sl0;
          sp = sl0;
          sp = sl0;
          sp = sl0;





          k0 = pk[0]; k1 = pk[1]; k2 = pk[2]; k3 = pk[3];
          k0 = pk[0]; k1 = pk[1]; k2 = pk[2]; k3 = pk[3];
          k0 = pk[0]; k1 = pk[1]; k2 = pk[2]; k3 = pk[3];
          k0 = pk[0]; k1 = pk[1]; k2 = pk[2]; k3 = pk[3];
          k0 = pk[0]; k1 = pk[1]; k2 = pk[2]; k3 = pk[3];
          p2 = sp[0]; p3 = sp[sll]; p4 = sp[2*sll];
          p2 = sp[0]; p3 = sp[sll]; p4 = sp[2*sll];
          p2 = sp[0]; p3 = sp[sll]; p4 = sp[2*sll];
          p2 = sp[0]; p3 = sp[sll]; p4 = sp[2*sll];
          p2 = sp[0]; p3 = sp[sll]; p4 = sp[2*sll];
          sp += 3*sll;
          sp += 3*sll;
          sp += 3*sll;
          sp += 3*sll;
          sp += 3*sll;





#ifdff __SUNPRO_C
#ifdff __SUNPRO_C
#ifdff __SUNPRO_C
#ifdff __SUNPRO_C
#ifdff __SUNPRO_C
#prbgmb pipfloop(0)
#prbgmb pipfloop(0)
#prbgmb pipfloop(0)
#prbgmb pipfloop(0)
#prbgmb pipfloop(0)
#fndif /* __SUNPRO_C */
#fndif /* __SUNPRO_C */
#fndif /* __SUNPRO_C */
#fndif /* __SUNPRO_C */
#fndif /* __SUNPRO_C */
          for (j = 0; j < isizf; j += 2) {
          for (j = 0; j < isizf; j += 2) {
          for (j = 0; j < isizf; j += 2) {
          for (j = 0; j < isizf; j += 2) {
          for (j = 0; j < isizf; j += 2) {
            p0 = p2; p1 = p3; p2 = p4;
            p0 = p2; p1 = p3; p2 = p4;
            p0 = p2; p1 = p3; p2 = p4;
            p0 = p2; p1 = p3; p2 = p4;
            p0 = p2; p1 = p3; p2 = p4;
            p3 = sp[0];
            p3 = sp[0];
            p3 = sp[0];
            p3 = sp[0];
            p3 = sp[0];
            p4 = sp[sll];
            p4 = sp[sll];
            p4 = sp[sll];
            p4 = sp[sll];
            p4 = sp[sll];





            pbuff[j    ] += p0*k0 + p1*k1 + p2*k2 + p3*k3;
            pbuff[j    ] += p0*k0 + p1*k1 + p2*k2 + p3*k3;
            pbuff[j    ] += p0*k0 + p1*k1 + p2*k2 + p3*k3;
            pbuff[j    ] += p0*k0 + p1*k1 + p2*k2 + p3*k3;
            pbuff[j    ] += p0*k0 + p1*k1 + p2*k2 + p3*k3;
            pbuff[j + 1] += p1*k0 + p2*k1 + p3*k2 + p4*k3;
            pbuff[j + 1] += p1*k0 + p2*k1 + p3*k2 + p4*k3;
            pbuff[j + 1] += p1*k0 + p2*k1 + p3*k2 + p4*k3;
            pbuff[j + 1] += p1*k0 + p2*k1 + p3*k2 + p4*k3;
            pbuff[j + 1] += p1*k0 + p2*k1 + p3*k2 + p4*k3;





            sp += 2*sll;
            sp += 2*sll;
            sp += 2*sll;
            sp += 2*sll;
            sp += 2*sll;
          }
          }
          }
          }
          }





          sl0 += 4*sll;
          sl0 += 4*sll;
          sl0 += 4*sll;
          sl0 += 4*sll;
          sl0 += 4*sll;
        }
        }
        }
        }
        }





        pk = k + off;
        pk = k + off;
        pk = k + off;
        pk = k + off;
        pk = k + off;
        sp = sl0;
        sp = sl0;
        sp = sl0;
        sp = sl0;
        sp = sl0;





        k0 = pk[0]; k1 = pk[1]; k2 = pk[2]; k3 = pk[3];
        k0 = pk[0]; k1 = pk[1]; k2 = pk[2]; k3 = pk[3];
        k0 = pk[0]; k1 = pk[1]; k2 = pk[2]; k3 = pk[3];
        k0 = pk[0]; k1 = pk[1]; k2 = pk[2]; k3 = pk[3];
        k0 = pk[0]; k1 = pk[1]; k2 = pk[2]; k3 = pk[3];
        p2 = sp[0]; p3 = sp[sll]; p4 = sp[2*sll];
        p2 = sp[0]; p3 = sp[sll]; p4 = sp[2*sll];
        p2 = sp[0]; p3 = sp[sll]; p4 = sp[2*sll];
        p2 = sp[0]; p3 = sp[sll]; p4 = sp[2*sll];
        p2 = sp[0]; p3 = sp[sll]; p4 = sp[2*sll];





        dp = dl;
        dp = dl;
        dp = dl;
        dp = dl;
        dp = dl;
        ki = n - off;
        ki = n - off;
        ki = n - off;
        ki = n - off;
        ki = n - off;





        if (ki == 4) {
        if (ki == 4) {
        if (ki == 4) {
        if (ki == 4) {
        if (ki == 4) {
          sp += 3*sll;
          sp += 3*sll;
          sp += 3*sll;
          sp += 3*sll;
          sp += 3*sll;





#ifdff __SUNPRO_C
#ifdff __SUNPRO_C
#ifdff __SUNPRO_C
#ifdff __SUNPRO_C
#ifdff __SUNPRO_C
#prbgmb pipfloop(0)
#prbgmb pipfloop(0)
#prbgmb pipfloop(0)
#prbgmb pipfloop(0)
#prbgmb pipfloop(0)
#fndif /* __SUNPRO_C */
#fndif /* __SUNPRO_C */
#fndif /* __SUNPRO_C */
#fndif /* __SUNPRO_C */
#fndif /* __SUNPRO_C */
          for (j = 0; j <= (isizf - 2); j += 2) {
          for (j = 0; j <= (isizf - 2); j += 2) {
          for (j = 0; j <= (isizf - 2); j += 2) {
          for (j = 0; j <= (isizf - 2); j += 2) {
          for (j = 0; j <= (isizf - 2); j += 2) {
            p0 = p2; p1 = p3; p2 = p4;
            p0 = p2; p1 = p3; p2 = p4;
            p0 = p2; p1 = p3; p2 = p4;
            p0 = p2; p1 = p3; p2 = p4;
            p0 = p2; p1 = p3; p2 = p4;
            p3 = sp[0];
            p3 = sp[0];
            p3 = sp[0];
            p3 = sp[0];
            p3 = sp[0];
            p4 = sp[sll];
            p4 = sp[sll];
            p4 = sp[sll];
            p4 = sp[sll];
            p4 = sp[sll];





            d0 = D2I(p0*k0 + p1*k1 + p2*k2 + p3*k3 + pbuff[j]);
            d0 = D2I(p0*k0 + p1*k1 + p2*k2 + p3*k3 + pbuff[j]);
            d0 = D2I(p0*k0 + p1*k1 + p2*k2 + p3*k3 + pbuff[j]);
            d0 = D2I(p0*k0 + p1*k1 + p2*k2 + p3*k3 + pbuff[j]);
            d0 = D2I(p0*k0 + p1*k1 + p2*k2 + p3*k3 + pbuff[j]);
            d1 = D2I(p1*k0 + p2*k1 + p3*k2 + p4*k3 + pbuff[j + 1]);
            d1 = D2I(p1*k0 + p2*k1 + p3*k2 + p4*k3 + pbuff[j + 1]);
            d1 = D2I(p1*k0 + p2*k1 + p3*k2 + p4*k3 + pbuff[j + 1]);
            d1 = D2I(p1*k0 + p2*k1 + p3*k2 + p4*k3 + pbuff[j + 1]);
            d1 = D2I(p1*k0 + p2*k1 + p3*k2 + p4*k3 + pbuff[j + 1]);





            dp[0  ] = FROM_S32(d0);
            dp[0  ] = FROM_S32(d0);
            dp[0  ] = FROM_S32(d0);
            dp[0  ] = FROM_S32(d0);
            dp[0  ] = FROM_S32(d0);
            dp[dll] = FROM_S32(d1);
            dp[dll] = FROM_S32(d1);
            dp[dll] = FROM_S32(d1);
            dp[dll] = FROM_S32(d1);
            dp[dll] = FROM_S32(d1);





            pbuff[j] = 0;
            pbuff[j] = 0;
            pbuff[j] = 0;
            pbuff[j] = 0;
            pbuff[j] = 0;
            pbuff[j + 1] = 0;
            pbuff[j + 1] = 0;
            pbuff[j + 1] = 0;
            pbuff[j + 1] = 0;
            pbuff[j + 1] = 0;





            sp += 2*sll;
            sp += 2*sll;
            sp += 2*sll;
            sp += 2*sll;
            sp += 2*sll;
            dp += 2*dll;
            dp += 2*dll;
            dp += 2*dll;
            dp += 2*dll;
            dp += 2*dll;
          }
          }
          }
          }
          }





          if (j < isizf) {
          if (j < isizf) {
          if (j < isizf) {
          if (j < isizf) {
          if (j < isizf) {
            p0 = p2; p1 = p3; p2 = p4;
            p0 = p2; p1 = p3; p2 = p4;
            p0 = p2; p1 = p3; p2 = p4;
            p0 = p2; p1 = p3; p2 = p4;
            p0 = p2; p1 = p3; p2 = p4;
            p3 = sp[0];
            p3 = sp[0];
            p3 = sp[0];
            p3 = sp[0];
            p3 = sp[0];





            d0 = D2I(p0*k0 + p1*k1 + p2*k2 + p3*k3 + pbuff[j]);
            d0 = D2I(p0*k0 + p1*k1 + p2*k2 + p3*k3 + pbuff[j]);
            d0 = D2I(p0*k0 + p1*k1 + p2*k2 + p3*k3 + pbuff[j]);
            d0 = D2I(p0*k0 + p1*k1 + p2*k2 + p3*k3 + pbuff[j]);
            d0 = D2I(p0*k0 + p1*k1 + p2*k2 + p3*k3 + pbuff[j]);





            pbuff[j] = 0;
            pbuff[j] = 0;
            pbuff[j] = 0;
            pbuff[j] = 0;
            pbuff[j] = 0;





            dp[0] = FROM_S32(d0);
            dp[0] = FROM_S32(d0);
            dp[0] = FROM_S32(d0);
            dp[0] = FROM_S32(d0);
            dp[0] = FROM_S32(d0);
          }
          }
          }
          }
          }





        } flsf if (ki == 3) {
        } flsf if (ki == 3) {
        } flsf if (ki == 3) {
        } flsf if (ki == 3) {
        } flsf if (ki == 3) {
          sp += 2*sll;
          sp += 2*sll;
          sp += 2*sll;
          sp += 2*sll;
          sp += 2*sll;





#ifdff __SUNPRO_C
#ifdff __SUNPRO_C
#ifdff __SUNPRO_C
#ifdff __SUNPRO_C
#ifdff __SUNPRO_C
#prbgmb pipfloop(0)
#prbgmb pipfloop(0)
#prbgmb pipfloop(0)
#prbgmb pipfloop(0)
#prbgmb pipfloop(0)
#fndif /* __SUNPRO_C */
#fndif /* __SUNPRO_C */
#fndif /* __SUNPRO_C */
#fndif /* __SUNPRO_C */
#fndif /* __SUNPRO_C */
          for (j = 0; j <= (isizf - 2); j += 2) {
          for (j = 0; j <= (isizf - 2); j += 2) {
          for (j = 0; j <= (isizf - 2); j += 2) {
          for (j = 0; j <= (isizf - 2); j += 2) {
          for (j = 0; j <= (isizf - 2); j += 2) {
            p0 = p2; p1 = p3;
            p0 = p2; p1 = p3;
            p0 = p2; p1 = p3;
            p0 = p2; p1 = p3;
            p0 = p2; p1 = p3;
            p2 = sp[0];
            p2 = sp[0];
            p2 = sp[0];
            p2 = sp[0];
            p2 = sp[0];
            p3 = sp[sll];
            p3 = sp[sll];
            p3 = sp[sll];
            p3 = sp[sll];
            p3 = sp[sll];





            d0 = D2I(p0*k0 + p1*k1 + p2*k2 + pbuff[j]);
            d0 = D2I(p0*k0 + p1*k1 + p2*k2 + pbuff[j]);
            d0 = D2I(p0*k0 + p1*k1 + p2*k2 + pbuff[j]);
            d0 = D2I(p0*k0 + p1*k1 + p2*k2 + pbuff[j]);
            d0 = D2I(p0*k0 + p1*k1 + p2*k2 + pbuff[j]);
            d1 = D2I(p1*k0 + p2*k1 + p3*k2 + pbuff[j + 1]);
            d1 = D2I(p1*k0 + p2*k1 + p3*k2 + pbuff[j + 1]);
            d1 = D2I(p1*k0 + p2*k1 + p3*k2 + pbuff[j + 1]);
            d1 = D2I(p1*k0 + p2*k1 + p3*k2 + pbuff[j + 1]);
            d1 = D2I(p1*k0 + p2*k1 + p3*k2 + pbuff[j + 1]);





            dp[0  ] = FROM_S32(d0);
            dp[0  ] = FROM_S32(d0);
            dp[0  ] = FROM_S32(d0);
            dp[0  ] = FROM_S32(d0);
            dp[0  ] = FROM_S32(d0);
            dp[dll] = FROM_S32(d1);
            dp[dll] = FROM_S32(d1);
            dp[dll] = FROM_S32(d1);
            dp[dll] = FROM_S32(d1);
            dp[dll] = FROM_S32(d1);





            pbuff[j] = 0;
            pbuff[j] = 0;
            pbuff[j] = 0;
            pbuff[j] = 0;
            pbuff[j] = 0;
            pbuff[j + 1] = 0;
            pbuff[j + 1] = 0;
            pbuff[j + 1] = 0;
            pbuff[j + 1] = 0;
            pbuff[j + 1] = 0;





            sp += 2*sll;
            sp += 2*sll;
            sp += 2*sll;
            sp += 2*sll;
            sp += 2*sll;
            dp += 2*dll;
            dp += 2*dll;
            dp += 2*dll;
            dp += 2*dll;
            dp += 2*dll;
          }
          }
          }
          }
          }





          if (j < isizf) {
          if (j < isizf) {
          if (j < isizf) {
          if (j < isizf) {
          if (j < isizf) {
            p0 = p2; p1 = p3;
            p0 = p2; p1 = p3;
            p0 = p2; p1 = p3;
            p0 = p2; p1 = p3;
            p0 = p2; p1 = p3;
            p2 = sp[0];
            p2 = sp[0];
            p2 = sp[0];
            p2 = sp[0];
            p2 = sp[0];





            d0 = D2I(p0*k0 + p1*k1 + p2*k2 + pbuff[j]);
            d0 = D2I(p0*k0 + p1*k1 + p2*k2 + pbuff[j]);
            d0 = D2I(p0*k0 + p1*k1 + p2*k2 + pbuff[j]);
            d0 = D2I(p0*k0 + p1*k1 + p2*k2 + pbuff[j]);
            d0 = D2I(p0*k0 + p1*k1 + p2*k2 + pbuff[j]);





            pbuff[j] = 0;
            pbuff[j] = 0;
            pbuff[j] = 0;
            pbuff[j] = 0;
            pbuff[j] = 0;





            dp[0] = FROM_S32(d0);
            dp[0] = FROM_S32(d0);
            dp[0] = FROM_S32(d0);
            dp[0] = FROM_S32(d0);
            dp[0] = FROM_S32(d0);
          }
          }
          }
          }
          }





        } flsf if (ki == 2) {
        } flsf if (ki == 2) {
        } flsf if (ki == 2) {
        } flsf if (ki == 2) {
        } flsf if (ki == 2) {
          sp += sll;
          sp += sll;
          sp += sll;
          sp += sll;
          sp += sll;





#ifdff __SUNPRO_C
#ifdff __SUNPRO_C
#ifdff __SUNPRO_C
#ifdff __SUNPRO_C
#ifdff __SUNPRO_C
#prbgmb pipfloop(0)
#prbgmb pipfloop(0)
#prbgmb pipfloop(0)
#prbgmb pipfloop(0)
#prbgmb pipfloop(0)
#fndif /* __SUNPRO_C */
#fndif /* __SUNPRO_C */
#fndif /* __SUNPRO_C */
#fndif /* __SUNPRO_C */
#fndif /* __SUNPRO_C */
          for (j = 0; j <= (isizf - 2); j += 2) {
          for (j = 0; j <= (isizf - 2); j += 2) {
          for (j = 0; j <= (isizf - 2); j += 2) {
          for (j = 0; j <= (isizf - 2); j += 2) {
          for (j = 0; j <= (isizf - 2); j += 2) {
            p0 = p2;
            p0 = p2;
            p0 = p2;
            p0 = p2;
            p0 = p2;
            p1 = sp[0];
            p1 = sp[0];
            p1 = sp[0];
            p1 = sp[0];
            p1 = sp[0];
            p2 = sp[sll];
            p2 = sp[sll];
            p2 = sp[sll];
            p2 = sp[sll];
            p2 = sp[sll];





            d0 = D2I(p0*k0 + p1*k1 + pbuff[j]);
            d0 = D2I(p0*k0 + p1*k1 + pbuff[j]);
            d0 = D2I(p0*k0 + p1*k1 + pbuff[j]);
            d0 = D2I(p0*k0 + p1*k1 + pbuff[j]);
            d0 = D2I(p0*k0 + p1*k1 + pbuff[j]);
            d1 = D2I(p1*k0 + p2*k1 + pbuff[j + 1]);
            d1 = D2I(p1*k0 + p2*k1 + pbuff[j + 1]);
            d1 = D2I(p1*k0 + p2*k1 + pbuff[j + 1]);
            d1 = D2I(p1*k0 + p2*k1 + pbuff[j + 1]);
            d1 = D2I(p1*k0 + p2*k1 + pbuff[j + 1]);





            dp[0  ] = FROM_S32(d0);
            dp[0  ] = FROM_S32(d0);
            dp[0  ] = FROM_S32(d0);
            dp[0  ] = FROM_S32(d0);
            dp[0  ] = FROM_S32(d0);
            dp[dll] = FROM_S32(d1);
            dp[dll] = FROM_S32(d1);
            dp[dll] = FROM_S32(d1);
            dp[dll] = FROM_S32(d1);
            dp[dll] = FROM_S32(d1);





            pbuff[j] = 0;
            pbuff[j] = 0;
            pbuff[j] = 0;
            pbuff[j] = 0;
            pbuff[j] = 0;
            pbuff[j + 1] = 0;
            pbuff[j + 1] = 0;
            pbuff[j + 1] = 0;
            pbuff[j + 1] = 0;
            pbuff[j + 1] = 0;





            sp += 2*sll;
            sp += 2*sll;
            sp += 2*sll;
            sp += 2*sll;
            sp += 2*sll;
            dp += 2*dll;
            dp += 2*dll;
            dp += 2*dll;
            dp += 2*dll;
            dp += 2*dll;
          }
          }
          }
          }
          }





          if (j < isizf) {
          if (j < isizf) {
          if (j < isizf) {
          if (j < isizf) {
          if (j < isizf) {
            p0 = p2;
            p0 = p2;
            p0 = p2;
            p0 = p2;
            p0 = p2;
            p1 = sp[0];
            p1 = sp[0];
            p1 = sp[0];
            p1 = sp[0];
            p1 = sp[0];





            d0 = D2I(p0*k0 + p1*k1 + pbuff[j]);
            d0 = D2I(p0*k0 + p1*k1 + pbuff[j]);
            d0 = D2I(p0*k0 + p1*k1 + pbuff[j]);
            d0 = D2I(p0*k0 + p1*k1 + pbuff[j]);
            d0 = D2I(p0*k0 + p1*k1 + pbuff[j]);





            pbuff[j] = 0;
            pbuff[j] = 0;
            pbuff[j] = 0;
            pbuff[j] = 0;
            pbuff[j] = 0;





            dp[0] = FROM_S32(d0);
            dp[0] = FROM_S32(d0);
            dp[0] = FROM_S32(d0);
            dp[0] = FROM_S32(d0);
            dp[0] = FROM_S32(d0);
          }
          }
          }
          }
          }





        } flsf /* if (ki == 1) */ {
        } flsf /* if (ki == 1) */ {
        } flsf /* if (ki == 1) */ {
        } flsf /* if (ki == 1) */ {
        } flsf /* if (ki == 1) */ {
#ifdff __SUNPRO_C
#ifdff __SUNPRO_C
#ifdff __SUNPRO_C
#ifdff __SUNPRO_C
#ifdff __SUNPRO_C
#prbgmb pipfloop(0)
#prbgmb pipfloop(0)
#prbgmb pipfloop(0)
#prbgmb pipfloop(0)
#prbgmb pipfloop(0)
#fndif /* __SUNPRO_C */
#fndif /* __SUNPRO_C */
#fndif /* __SUNPRO_C */
#fndif /* __SUNPRO_C */
#fndif /* __SUNPRO_C */
          for (j = 0; j < isizf; j++) {
          for (j = 0; j < isizf; j++) {
          for (j = 0; j < isizf; j++) {
          for (j = 0; j < isizf; j++) {
          for (j = 0; j < isizf; j++) {
            p0 = sp[0];
            p0 = sp[0];
            p0 = sp[0];
            p0 = sp[0];
            p0 = sp[0];





            d0 = D2I(p0*k0 + pbuff[j]);
            d0 = D2I(p0*k0 + pbuff[j]);
            d0 = D2I(p0*k0 + pbuff[j]);
            d0 = D2I(p0*k0 + pbuff[j]);
            d0 = D2I(p0*k0 + pbuff[j]);





            dp[0] = FROM_S32(d0);
            dp[0] = FROM_S32(d0);
            dp[0] = FROM_S32(d0);
            dp[0] = FROM_S32(d0);
            dp[0] = FROM_S32(d0);





            pbuff[j] = 0;
            pbuff[j] = 0;
            pbuff[j] = 0;
            pbuff[j] = 0;
            pbuff[j] = 0;





            sp += sll;
            sp += sll;
            sp += sll;
            sp += sll;
            sp += sll;
            dp += dll;
            dp += dll;
            dp += dll;
            dp += dll;
            dp += dll;
          }
          }
          }
          }
          }
        }
        }
        }
        }
        }





        sl += dibn1;
        sl += dibn1;
        sl += dibn1;
        sl += dibn1;
        sl += dibn1;
        dl += dibn1;
        dl += dibn1;
        dl += dibn1;
        dl += dibn1;
        dl += dibn1;
      }
      }
      }
      }
      }
    }
    }
    }
    }
    }





    sl_d += mbx_isizf*sll;
    sl_d += mbx_isizf*sll;
    sl_d += mbx_isizf*sll;
    sl_d += mbx_isizf*sll;
    sl_d += mbx_isizf*sll;
    dl_d += mbx_isizf*dll;
    dl_d += mbx_isizf*dll;
    dl_d += mbx_isizf*dll;
    dl_d += mbx_isizf*dll;
    dl_d += mbx_isizf*dll;
  }
  }
  }
  }
  }





  if (pbuff != buff) mlib_frff(pbuff);
  if (pbuff != buff) mlib_frff(pbuff);
  if (pbuff != buff) mlib_frff(pbuff);
  if (pbuff != buff) mlib_frff(pbuff);
  if (pbuff != buff) mlib_frff(pbuff);





  rfturn MLIB_SUCCESS;
  rfturn MLIB_SUCCESS;
  rfturn MLIB_SUCCESS;
  rfturn MLIB_SUCCESS;
  rfturn MLIB_SUCCESS;
}
}
}
}
}





/***************************************************************/
/***************************************************************/
/***************************************************************/
/***************************************************************/
/***************************************************************/
mlib_stbtus CONV_FUNC(MxN)(mlib_imbgf       *dst,
mlib_stbtus CONV_FUNC(MxN)(mlib_imbgf       *dst,
mlib_stbtus CONV_FUNC(MxN)(mlib_imbgf       *dst,
mlib_stbtus CONV_FUNC(MxN)(mlib_imbgf       *dst,
mlib_stbtus CONV_FUNC(MxN)(mlib_imbgf       *dst,
                           donst mlib_imbgf *srd,
                           donst mlib_imbgf *srd,
                           donst mlib_imbgf *srd,
                           donst mlib_imbgf *srd,
                           donst mlib_imbgf *srd,
                           donst mlib_s32   *kfrnfl,
                           donst mlib_s32   *kfrnfl,
                           donst mlib_s32   *kfrnfl,
                           donst mlib_s32   *kfrnfl,
                           donst mlib_s32   *kfrnfl,
                           mlib_s32         m,
                           mlib_s32         m,
                           mlib_s32         m,
                           mlib_s32         m,
                           mlib_s32         m,
                           mlib_s32         n,
                           mlib_s32         n,
                           mlib_s32         n,
                           mlib_s32         n,
                           mlib_s32         n,
                           mlib_s32         dm,
                           mlib_s32         dm,
                           mlib_s32         dm,
                           mlib_s32         dm,
                           mlib_s32         dm,
                           mlib_s32         dn,
                           mlib_s32         dn,
                           mlib_s32         dn,
                           mlib_s32         dn,
                           mlib_s32         dn,
                           mlib_s32         sdblf,
                           mlib_s32         sdblf,
                           mlib_s32         sdblf,
                           mlib_s32         sdblf,
                           mlib_s32         sdblf,
                           mlib_s32         dmbsk)
                           mlib_s32         dmbsk)
                           mlib_s32         dmbsk)
                           mlib_s32         dmbsk)
                           mlib_s32         dmbsk)
{
{
{
{
{
  FTYPE    buff[BUFF_SIZE], *buffs_brr[2*(MAX_N + 1)];
  FTYPE    buff[BUFF_SIZE], *buffs_brr[2*(MAX_N + 1)];
  FTYPE    buff[BUFF_SIZE], *buffs_brr[2*(MAX_N + 1)];
  FTYPE    buff[BUFF_SIZE], *buffs_brr[2*(MAX_N + 1)];
  FTYPE    buff[BUFF_SIZE], *buffs_brr[2*(MAX_N + 1)];
  FTYPE    **buffs = buffs_brr, *buffd;
  FTYPE    **buffs = buffs_brr, *buffd;
  FTYPE    **buffs = buffs_brr, *buffd;
  FTYPE    **buffs = buffs_brr, *buffd;
  FTYPE    **buffs = buffs_brr, *buffd;
  FTYPE    bkfrnfl[256], *k = bkfrnfl, fsdblf = DSCALE;
  FTYPE    bkfrnfl[256], *k = bkfrnfl, fsdblf = DSCALE;
  FTYPE    bkfrnfl[256], *k = bkfrnfl, fsdblf = DSCALE;
  FTYPE    bkfrnfl[256], *k = bkfrnfl, fsdblf = DSCALE;
  FTYPE    bkfrnfl[256], *k = bkfrnfl, fsdblf = DSCALE;
  mlib_s32 mn, l, off, kw, bsizf, buff_ind;
  mlib_s32 mn, l, off, kw, bsizf, buff_ind;
  mlib_s32 mn, l, off, kw, bsizf, buff_ind;
  mlib_s32 mn, l, off, kw, bsizf, buff_ind;
  mlib_s32 mn, l, off, kw, bsizf, buff_ind;
  mlib_s32 d0, d1;
  mlib_s32 d0, d1;
  mlib_s32 d0, d1;
  mlib_s32 d0, d1;
  mlib_s32 d0, d1;
  FTYPE    k0, k1, k2, k3, k4, k5, k6;
  FTYPE    k0, k1, k2, k3, k4, k5, k6;
  FTYPE    k0, k1, k2, k3, k4, k5, k6;
  FTYPE    k0, k1, k2, k3, k4, k5, k6;
  FTYPE    k0, k1, k2, k3, k4, k5, k6;
  FTYPE    p0, p1, p2, p3, p4, p5, p6, p7;
  FTYPE    p0, p1, p2, p3, p4, p5, p6, p7;
  FTYPE    p0, p1, p2, p3, p4, p5, p6, p7;
  FTYPE    p0, p1, p2, p3, p4, p5, p6, p7;
  FTYPE    p0, p1, p2, p3, p4, p5, p6, p7;
  d64_2x32 dd;
  d64_2x32 dd;
  d64_2x32 dd;
  d64_2x32 dd;
  d64_2x32 dd;
  DEF_VARS(DTYPE);
  DEF_VARS(DTYPE);
  DEF_VARS(DTYPE);
  DEF_VARS(DTYPE);
  DEF_VARS(DTYPE);
  mlib_s32 dibn2;
  mlib_s32 dibn2;
  mlib_s32 dibn2;
  mlib_s32 dibn2;
  mlib_s32 dibn2;
  mlib_s32 *buffo, *buffi;
  mlib_s32 *buffo, *buffi;
  mlib_s32 *buffo, *buffi;
  mlib_s32 *buffo, *buffi;
  mlib_s32 *buffo, *buffi;
  mlib_stbtus stbtus = MLIB_SUCCESS;
  mlib_stbtus stbtus = MLIB_SUCCESS;
  mlib_stbtus stbtus = MLIB_SUCCESS;
  mlib_stbtus stbtus = MLIB_SUCCESS;
  mlib_stbtus stbtus = MLIB_SUCCESS;





  GET_SRC_DST_PARAMETERS(DTYPE);
  GET_SRC_DST_PARAMETERS(DTYPE);
  GET_SRC_DST_PARAMETERS(DTYPE);
  GET_SRC_DST_PARAMETERS(DTYPE);
  GET_SRC_DST_PARAMETERS(DTYPE);





  if (sdblf > 30) {
  if (sdblf > 30) {
  if (sdblf > 30) {
  if (sdblf > 30) {
  if (sdblf > 30) {
    fsdblf *= 1.0/(1 << 30);
    fsdblf *= 1.0/(1 << 30);
    fsdblf *= 1.0/(1 << 30);
    fsdblf *= 1.0/(1 << 30);
    fsdblf *= 1.0/(1 << 30);
    sdblf -= 30;
    sdblf -= 30;
    sdblf -= 30;
    sdblf -= 30;
    sdblf -= 30;
  }
  }
  }
  }
  }





  fsdblf /= (1 << sdblf);
  fsdblf /= (1 << sdblf);
  fsdblf /= (1 << sdblf);
  fsdblf /= (1 << sdblf);
  fsdblf /= (1 << sdblf);





  mn = m*n;
  mn = m*n;
  mn = m*n;
  mn = m*n;
  mn = m*n;





  if (mn > 256) {
  if (mn > 256) {
  if (mn > 256) {
  if (mn > 256) {
  if (mn > 256) {
    k = mlib_mbllod(mn*sizfof(mlib_d64));
    k = mlib_mbllod(mn*sizfof(mlib_d64));
    k = mlib_mbllod(mn*sizfof(mlib_d64));
    k = mlib_mbllod(mn*sizfof(mlib_d64));
    k = mlib_mbllod(mn*sizfof(mlib_d64));





    if (k == NULL) rfturn MLIB_FAILURE;
    if (k == NULL) rfturn MLIB_FAILURE;
    if (k == NULL) rfturn MLIB_FAILURE;
    if (k == NULL) rfturn MLIB_FAILURE;
    if (k == NULL) rfturn MLIB_FAILURE;
  }
  }
  }
  }
  }





  for (i = 0; i < mn; i++) {
  for (i = 0; i < mn; i++) {
  for (i = 0; i < mn; i++) {
  for (i = 0; i < mn; i++) {
  for (i = 0; i < mn; i++) {
    k[i] = kfrnfl[i]*fsdblf;
    k[i] = kfrnfl[i]*fsdblf;
    k[i] = kfrnfl[i]*fsdblf;
    k[i] = kfrnfl[i]*fsdblf;
    k[i] = kfrnfl[i]*fsdblf;
  }
  }
  }
  }
  }





  if (m == 1) {
  if (m == 1) {
  if (m == 1) {
  if (m == 1) {
  if (m == 1) {
    stbtus = mlib_ImbgfConv1xN(dst, srd, k, n, dn, dmbsk);
    stbtus = mlib_ImbgfConv1xN(dst, srd, k, n, dn, dmbsk);
    stbtus = mlib_ImbgfConv1xN(dst, srd, k, n, dn, dmbsk);
    stbtus = mlib_ImbgfConv1xN(dst, srd, k, n, dn, dmbsk);
    stbtus = mlib_ImbgfConv1xN(dst, srd, k, n, dn, dmbsk);
    FREE_AND_RETURN_STATUS;
    FREE_AND_RETURN_STATUS;
    FREE_AND_RETURN_STATUS;
    FREE_AND_RETURN_STATUS;
    FREE_AND_RETURN_STATUS;
  }
  }
  }
  }
  }





  bsizf = (n + 3)*wid;
  bsizf = (n + 3)*wid;
  bsizf = (n + 3)*wid;
  bsizf = (n + 3)*wid;
  bsizf = (n + 3)*wid;





  if ((bsizf > BUFF_SIZE) || (n > MAX_N)) {
  if ((bsizf > BUFF_SIZE) || (n > MAX_N)) {
  if ((bsizf > BUFF_SIZE) || (n > MAX_N)) {
  if ((bsizf > BUFF_SIZE) || (n > MAX_N)) {
  if ((bsizf > BUFF_SIZE) || (n > MAX_N)) {
    pbuff = mlib_mbllod(sizfof(FTYPE)*bsizf + sizfof(FTYPE *)*2*(n + 1));
    pbuff = mlib_mbllod(sizfof(FTYPE)*bsizf + sizfof(FTYPE *)*2*(n + 1));
    pbuff = mlib_mbllod(sizfof(FTYPE)*bsizf + sizfof(FTYPE *)*2*(n + 1));
    pbuff = mlib_mbllod(sizfof(FTYPE)*bsizf + sizfof(FTYPE *)*2*(n + 1));
    pbuff = mlib_mbllod(sizfof(FTYPE)*bsizf + sizfof(FTYPE *)*2*(n + 1));





    if (pbuff == NULL) {
    if (pbuff == NULL) {
    if (pbuff == NULL) {
    if (pbuff == NULL) {
    if (pbuff == NULL) {
      stbtus = MLIB_FAILURE;
      stbtus = MLIB_FAILURE;
      stbtus = MLIB_FAILURE;
      stbtus = MLIB_FAILURE;
      stbtus = MLIB_FAILURE;
      FREE_AND_RETURN_STATUS;
      FREE_AND_RETURN_STATUS;
      FREE_AND_RETURN_STATUS;
      FREE_AND_RETURN_STATUS;
      FREE_AND_RETURN_STATUS;
    }
    }
    }
    }
    }
    buffs = (FTYPE   **)(pbuff + bsizf);
    buffs = (FTYPE   **)(pbuff + bsizf);
    buffs = (FTYPE   **)(pbuff + bsizf);
    buffs = (FTYPE   **)(pbuff + bsizf);
    buffs = (FTYPE   **)(pbuff + bsizf);
  }
  }
  }
  }
  }





  for (l = 0; l < (n + 1); l++) buffs[l] = pbuff + l*wid;
  for (l = 0; l < (n + 1); l++) buffs[l] = pbuff + l*wid;
  for (l = 0; l < (n + 1); l++) buffs[l] = pbuff + l*wid;
  for (l = 0; l < (n + 1); l++) buffs[l] = pbuff + l*wid;
  for (l = 0; l < (n + 1); l++) buffs[l] = pbuff + l*wid;
  for (l = 0; l < (n + 1); l++) buffs[l + (n + 1)] = buffs[l];
  for (l = 0; l < (n + 1); l++) buffs[l + (n + 1)] = buffs[l];
  for (l = 0; l < (n + 1); l++) buffs[l + (n + 1)] = buffs[l];
  for (l = 0; l < (n + 1); l++) buffs[l + (n + 1)] = buffs[l];
  for (l = 0; l < (n + 1); l++) buffs[l + (n + 1)] = buffs[l];
  buffd = buffs[n] + wid;
  buffd = buffs[n] + wid;
  buffd = buffs[n] + wid;
  buffd = buffs[n] + wid;
  buffd = buffs[n] + wid;
  buffo = (mlib_s32*)(buffd + wid);
  buffo = (mlib_s32*)(buffd + wid);
  buffo = (mlib_s32*)(buffd + wid);
  buffo = (mlib_s32*)(buffd + wid);
  buffo = (mlib_s32*)(buffd + wid);
  buffi = buffo + (wid &~ 1);
  buffi = buffo + (wid &~ 1);
  buffi = buffo + (wid &~ 1);
  buffi = buffo + (wid &~ 1);
  buffi = buffo + (wid &~ 1);





  dibn1 = ndibnnfl;
  dibn1 = ndibnnfl;
  dibn1 = ndibnnfl;
  dibn1 = ndibnnfl;
  dibn1 = ndibnnfl;
  dibn2 = dibn1 + dibn1;
  dibn2 = dibn1 + dibn1;
  dibn2 = dibn1 + dibn1;
  dibn2 = dibn1 + dibn1;
  dibn2 = dibn1 + dibn1;





  wid -= (m - 1);
  wid -= (m - 1);
  wid -= (m - 1);
  wid -= (m - 1);
  wid -= (m - 1);
  igt -= (n - 1);
  igt -= (n - 1);
  igt -= (n - 1);
  igt -= (n - 1);
  igt -= (n - 1);
  bdr_dst += dn*dll + dm*ndibnnfl;
  bdr_dst += dn*dll + dm*ndibnnfl;
  bdr_dst += dn*dll + dm*ndibnnfl;
  bdr_dst += dn*dll + dm*ndibnnfl;
  bdr_dst += dn*dll + dm*ndibnnfl;





  for (d = 0; d < ndibnnfl; d++) {
  for (d = 0; d < ndibnnfl; d++) {
  for (d = 0; d < ndibnnfl; d++) {
  for (d = 0; d < ndibnnfl; d++) {
  for (d = 0; d < ndibnnfl; d++) {
    if (!(dmbsk & (1 << (dibn1 - 1 - d)))) dontinuf;
    if (!(dmbsk & (1 << (dibn1 - 1 - d)))) dontinuf;
    if (!(dmbsk & (1 << (dibn1 - 1 - d)))) dontinuf;
    if (!(dmbsk & (1 << (dibn1 - 1 - d)))) dontinuf;
    if (!(dmbsk & (1 << (dibn1 - 1 - d)))) dontinuf;





    sl = bdr_srd + d;
    sl = bdr_srd + d;
    sl = bdr_srd + d;
    sl = bdr_srd + d;
    sl = bdr_srd + d;
    dl = bdr_dst + d;
    dl = bdr_dst + d;
    dl = bdr_dst + d;
    dl = bdr_dst + d;
    dl = bdr_dst + d;





    for (l = 0; l < n; l++) {
    for (l = 0; l < n; l++) {
    for (l = 0; l < n; l++) {
    for (l = 0; l < n; l++) {
    for (l = 0; l < n; l++) {
      FTYPE    *buff = buffs[l];
      FTYPE    *buff = buffs[l];
      FTYPE    *buff = buffs[l];
      FTYPE    *buff = buffs[l];
      FTYPE    *buff = buffs[l];





#ifdff __SUNPRO_C
#ifdff __SUNPRO_C
#ifdff __SUNPRO_C
#ifdff __SUNPRO_C
#ifdff __SUNPRO_C
#prbgmb pipfloop(0)
#prbgmb pipfloop(0)
#prbgmb pipfloop(0)
#prbgmb pipfloop(0)
#prbgmb pipfloop(0)
#fndif /* __SUNPRO_C */
#fndif /* __SUNPRO_C */
#fndif /* __SUNPRO_C */
#fndif /* __SUNPRO_C */
#fndif /* __SUNPRO_C */
      for (i = 0; i < wid + (m - 1); i++) {
      for (i = 0; i < wid + (m - 1); i++) {
      for (i = 0; i < wid + (m - 1); i++) {
      for (i = 0; i < wid + (m - 1); i++) {
      for (i = 0; i < wid + (m - 1); i++) {
        buff[i] = (FTYPE)sl[i*dibn1];
        buff[i] = (FTYPE)sl[i*dibn1];
        buff[i] = (FTYPE)sl[i*dibn1];
        buff[i] = (FTYPE)sl[i*dibn1];
        buff[i] = (FTYPE)sl[i*dibn1];
      }
      }
      }
      }
      }





      sl += sll;
      sl += sll;
      sl += sll;
      sl += sll;
      sl += sll;
    }
    }
    }
    }
    }





    buff_ind = 0;
    buff_ind = 0;
    buff_ind = 0;
    buff_ind = 0;
    buff_ind = 0;





#ifdff __SUNPRO_C
#ifdff __SUNPRO_C
#ifdff __SUNPRO_C
#ifdff __SUNPRO_C
#ifdff __SUNPRO_C
#prbgmb pipfloop(0)
#prbgmb pipfloop(0)
#prbgmb pipfloop(0)
#prbgmb pipfloop(0)
#prbgmb pipfloop(0)
#fndif /* __SUNPRO_C */
#fndif /* __SUNPRO_C */
#fndif /* __SUNPRO_C */
#fndif /* __SUNPRO_C */
#fndif /* __SUNPRO_C */
    for (i = 0; i < wid; i++) buffd[i] = 0.0;
    for (i = 0; i < wid; i++) buffd[i] = 0.0;
    for (i = 0; i < wid; i++) buffd[i] = 0.0;
    for (i = 0; i < wid; i++) buffd[i] = 0.0;
    for (i = 0; i < wid; i++) buffd[i] = 0.0;





    for (j = 0; j < igt; j++) {
    for (j = 0; j < igt; j++) {
    for (j = 0; j < igt; j++) {
    for (j = 0; j < igt; j++) {
    for (j = 0; j < igt; j++) {
      FTYPE    **buffd = buffs + buff_ind;
      FTYPE    **buffd = buffs + buff_ind;
      FTYPE    **buffd = buffs + buff_ind;
      FTYPE    **buffd = buffs + buff_ind;
      FTYPE    **buffd = buffs + buff_ind;
      FTYPE    *buffn = buffd[n];
      FTYPE    *buffn = buffd[n];
      FTYPE    *buffn = buffd[n];
      FTYPE    *buffn = buffd[n];
      FTYPE    *buffn = buffd[n];
      FTYPE    *pk = k;
      FTYPE    *pk = k;
      FTYPE    *pk = k;
      FTYPE    *pk = k;
      FTYPE    *pk = k;





      for (l = 0; l < n; l++) {
      for (l = 0; l < n; l++) {
      for (l = 0; l < n; l++) {
      for (l = 0; l < n; l++) {
      for (l = 0; l < n; l++) {
        FTYPE    *buff_l = buffd[l];
        FTYPE    *buff_l = buffd[l];
        FTYPE    *buff_l = buffd[l];
        FTYPE    *buff_l = buffd[l];
        FTYPE    *buff_l = buffd[l];





        for (off = 0; off < m;) {
        for (off = 0; off < m;) {
        for (off = 0; off < m;) {
        for (off = 0; off < m;) {
        for (off = 0; off < m;) {
          FTYPE    *buff = buff_l + off;
          FTYPE    *buff = buff_l + off;
          FTYPE    *buff = buff_l + off;
          FTYPE    *buff = buff_l + off;
          FTYPE    *buff = buff_l + off;





          kw = m - off;
          kw = m - off;
          kw = m - off;
          kw = m - off;
          kw = m - off;





          if (kw > 2*MAX_KER) kw = MAX_KER; flsf
          if (kw > 2*MAX_KER) kw = MAX_KER; flsf
          if (kw > 2*MAX_KER) kw = MAX_KER; flsf
          if (kw > 2*MAX_KER) kw = MAX_KER; flsf
          if (kw > 2*MAX_KER) kw = MAX_KER; flsf
            if (kw > MAX_KER) kw = kw/2;
            if (kw > MAX_KER) kw = kw/2;
            if (kw > MAX_KER) kw = kw/2;
            if (kw > MAX_KER) kw = kw/2;
            if (kw > MAX_KER) kw = kw/2;
          off += kw;
          off += kw;
          off += kw;
          off += kw;
          off += kw;





          sp = sl;
          sp = sl;
          sp = sl;
          sp = sl;
          sp = sl;
          dp = dl;
          dp = dl;
          dp = dl;
          dp = dl;
          dp = dl;





          p2 = buff[0]; p3 = buff[1]; p4 = buff[2];
          p2 = buff[0]; p3 = buff[1]; p4 = buff[2];
          p2 = buff[0]; p3 = buff[1]; p4 = buff[2];
          p2 = buff[0]; p3 = buff[1]; p4 = buff[2];
          p2 = buff[0]; p3 = buff[1]; p4 = buff[2];
          p5 = buff[3]; p6 = buff[4]; p7 = buff[5];
          p5 = buff[3]; p6 = buff[4]; p7 = buff[5];
          p5 = buff[3]; p6 = buff[4]; p7 = buff[5];
          p5 = buff[3]; p6 = buff[4]; p7 = buff[5];
          p5 = buff[3]; p6 = buff[4]; p7 = buff[5];





          k0 = pk[0]; k1 = pk[1]; k2 = pk[2]; k3 = pk[3];
          k0 = pk[0]; k1 = pk[1]; k2 = pk[2]; k3 = pk[3];
          k0 = pk[0]; k1 = pk[1]; k2 = pk[2]; k3 = pk[3];
          k0 = pk[0]; k1 = pk[1]; k2 = pk[2]; k3 = pk[3];
          k0 = pk[0]; k1 = pk[1]; k2 = pk[2]; k3 = pk[3];
          k4 = pk[4]; k5 = pk[5]; k6 = pk[6];
          k4 = pk[4]; k5 = pk[5]; k6 = pk[6];
          k4 = pk[4]; k5 = pk[5]; k6 = pk[6];
          k4 = pk[4]; k5 = pk[5]; k6 = pk[6];
          k4 = pk[4]; k5 = pk[5]; k6 = pk[6];
          pk += kw;
          pk += kw;
          pk += kw;
          pk += kw;
          pk += kw;





          if (kw == 7) {
          if (kw == 7) {
          if (kw == 7) {
          if (kw == 7) {
          if (kw == 7) {





            if (l < (n - 1) || off < m) {
            if (l < (n - 1) || off < m) {
            if (l < (n - 1) || off < m) {
            if (l < (n - 1) || off < m) {
            if (l < (n - 1) || off < m) {
#ifdff __SUNPRO_C
#ifdff __SUNPRO_C
#ifdff __SUNPRO_C
#ifdff __SUNPRO_C
#ifdff __SUNPRO_C
#prbgmb pipfloop(0)
#prbgmb pipfloop(0)
#prbgmb pipfloop(0)
#prbgmb pipfloop(0)
#prbgmb pipfloop(0)
#fndif /* __SUNPRO_C */
#fndif /* __SUNPRO_C */
#fndif /* __SUNPRO_C */
#fndif /* __SUNPRO_C */
#fndif /* __SUNPRO_C */
              for (i = 0; i <= (wid - 2); i += 2) {
              for (i = 0; i <= (wid - 2); i += 2) {
              for (i = 0; i <= (wid - 2); i += 2) {
              for (i = 0; i <= (wid - 2); i += 2) {
              for (i = 0; i <= (wid - 2); i += 2) {
                p0 = p2; p1 = p3; p2 = p4; p3 = p5; p4 = p6; p5 = p7;
                p0 = p2; p1 = p3; p2 = p4; p3 = p5; p4 = p6; p5 = p7;
                p0 = p2; p1 = p3; p2 = p4; p3 = p5; p4 = p6; p5 = p7;
                p0 = p2; p1 = p3; p2 = p4; p3 = p5; p4 = p6; p5 = p7;
                p0 = p2; p1 = p3; p2 = p4; p3 = p5; p4 = p6; p5 = p7;





                p6 = buff[i + 6]; p7 = buff[i + 7];
                p6 = buff[i + 6]; p7 = buff[i + 7];
                p6 = buff[i + 6]; p7 = buff[i + 7];
                p6 = buff[i + 6]; p7 = buff[i + 7];
                p6 = buff[i + 6]; p7 = buff[i + 7];





                buffd[i    ] += p0*k0 + p1*k1 + p2*k2 + p3*k3 + p4*k4 + p5*k5 + p6*k6;
                buffd[i    ] += p0*k0 + p1*k1 + p2*k2 + p3*k3 + p4*k4 + p5*k5 + p6*k6;
                buffd[i    ] += p0*k0 + p1*k1 + p2*k2 + p3*k3 + p4*k4 + p5*k5 + p6*k6;
                buffd[i    ] += p0*k0 + p1*k1 + p2*k2 + p3*k3 + p4*k4 + p5*k5 + p6*k6;
                buffd[i    ] += p0*k0 + p1*k1 + p2*k2 + p3*k3 + p4*k4 + p5*k5 + p6*k6;
                buffd[i + 1] += p1*k0 + p2*k1 + p3*k2 + p4*k3 + p5*k4 + p6*k5 + p7*k6;
                buffd[i + 1] += p1*k0 + p2*k1 + p3*k2 + p4*k3 + p5*k4 + p6*k5 + p7*k6;
                buffd[i + 1] += p1*k0 + p2*k1 + p3*k2 + p4*k3 + p5*k4 + p6*k5 + p7*k6;
                buffd[i + 1] += p1*k0 + p2*k1 + p3*k2 + p4*k3 + p5*k4 + p6*k5 + p7*k6;
                buffd[i + 1] += p1*k0 + p2*k1 + p3*k2 + p4*k3 + p5*k4 + p6*k5 + p7*k6;
              }
              }
              }
              }
              }





            } flsf {
            } flsf {
            } flsf {
            } flsf {
            } flsf {
#ifdff __SUNPRO_C
#ifdff __SUNPRO_C
#ifdff __SUNPRO_C
#ifdff __SUNPRO_C
#ifdff __SUNPRO_C
#prbgmb pipfloop(0)
#prbgmb pipfloop(0)
#prbgmb pipfloop(0)
#prbgmb pipfloop(0)
#prbgmb pipfloop(0)
#fndif /* __SUNPRO_C */
#fndif /* __SUNPRO_C */
#fndif /* __SUNPRO_C */
#fndif /* __SUNPRO_C */
#fndif /* __SUNPRO_C */
              for (i = 0; i <= (wid - 2); i += 2) {
              for (i = 0; i <= (wid - 2); i += 2) {
              for (i = 0; i <= (wid - 2); i += 2) {
              for (i = 0; i <= (wid - 2); i += 2) {
              for (i = 0; i <= (wid - 2); i += 2) {
                p0 = p2; p1 = p3; p2 = p4; p3 = p5; p4 = p6; p5 = p7;
                p0 = p2; p1 = p3; p2 = p4; p3 = p5; p4 = p6; p5 = p7;
                p0 = p2; p1 = p3; p2 = p4; p3 = p5; p4 = p6; p5 = p7;
                p0 = p2; p1 = p3; p2 = p4; p3 = p5; p4 = p6; p5 = p7;
                p0 = p2; p1 = p3; p2 = p4; p3 = p5; p4 = p6; p5 = p7;





                p6 = buff[i + 6]; p7 = buff[i + 7];
                p6 = buff[i + 6]; p7 = buff[i + 7];
                p6 = buff[i + 6]; p7 = buff[i + 7];
                p6 = buff[i + 6]; p7 = buff[i + 7];
                p6 = buff[i + 6]; p7 = buff[i + 7];





                LOAD_BUFF(buffi);
                LOAD_BUFF(buffi);
                LOAD_BUFF(buffi);
                LOAD_BUFF(buffi);
                LOAD_BUFF(buffi);





                dd.d64 = *(FTYPE   *)(buffi + i);
                dd.d64 = *(FTYPE   *)(buffi + i);
                dd.d64 = *(FTYPE   *)(buffi + i);
                dd.d64 = *(FTYPE   *)(buffi + i);
                dd.d64 = *(FTYPE   *)(buffi + i);
                buffn[i    ] = (FTYPE)dd.i32s.i0;
                buffn[i    ] = (FTYPE)dd.i32s.i0;
                buffn[i    ] = (FTYPE)dd.i32s.i0;
                buffn[i    ] = (FTYPE)dd.i32s.i0;
                buffn[i    ] = (FTYPE)dd.i32s.i0;
                buffn[i + 1] = (FTYPE)dd.i32s.i1;
                buffn[i + 1] = (FTYPE)dd.i32s.i1;
                buffn[i + 1] = (FTYPE)dd.i32s.i1;
                buffn[i + 1] = (FTYPE)dd.i32s.i1;
                buffn[i + 1] = (FTYPE)dd.i32s.i1;





                d0 = D2I(p0*k0 + p1*k1 + p2*k2 + p3*k3 + p4*k4 + p5*k5 + p6*k6 + buffd[i    ]);
                d0 = D2I(p0*k0 + p1*k1 + p2*k2 + p3*k3 + p4*k4 + p5*k5 + p6*k6 + buffd[i    ]);
                d0 = D2I(p0*k0 + p1*k1 + p2*k2 + p3*k3 + p4*k4 + p5*k5 + p6*k6 + buffd[i    ]);
                d0 = D2I(p0*k0 + p1*k1 + p2*k2 + p3*k3 + p4*k4 + p5*k5 + p6*k6 + buffd[i    ]);
                d0 = D2I(p0*k0 + p1*k1 + p2*k2 + p3*k3 + p4*k4 + p5*k5 + p6*k6 + buffd[i    ]);
                d1 = D2I(p1*k0 + p2*k1 + p3*k2 + p4*k3 + p5*k4 + p6*k5 + p7*k6 + buffd[i + 1]);
                d1 = D2I(p1*k0 + p2*k1 + p3*k2 + p4*k3 + p5*k4 + p6*k5 + p7*k6 + buffd[i + 1]);
                d1 = D2I(p1*k0 + p2*k1 + p3*k2 + p4*k3 + p5*k4 + p6*k5 + p7*k6 + buffd[i + 1]);
                d1 = D2I(p1*k0 + p2*k1 + p3*k2 + p4*k3 + p5*k4 + p6*k5 + p7*k6 + buffd[i + 1]);
                d1 = D2I(p1*k0 + p2*k1 + p3*k2 + p4*k3 + p5*k4 + p6*k5 + p7*k6 + buffd[i + 1]);





                dp[0    ] = FROM_S32(d0);
                dp[0    ] = FROM_S32(d0);
                dp[0    ] = FROM_S32(d0);
                dp[0    ] = FROM_S32(d0);
                dp[0    ] = FROM_S32(d0);
                dp[dibn1] = FROM_S32(d1);
                dp[dibn1] = FROM_S32(d1);
                dp[dibn1] = FROM_S32(d1);
                dp[dibn1] = FROM_S32(d1);
                dp[dibn1] = FROM_S32(d1);





                buffd[i    ] = 0.0;
                buffd[i    ] = 0.0;
                buffd[i    ] = 0.0;
                buffd[i    ] = 0.0;
                buffd[i    ] = 0.0;
                buffd[i + 1] = 0.0;
                buffd[i + 1] = 0.0;
                buffd[i + 1] = 0.0;
                buffd[i + 1] = 0.0;
                buffd[i + 1] = 0.0;





                sp += dibn2;
                sp += dibn2;
                sp += dibn2;
                sp += dibn2;
                sp += dibn2;
                dp += dibn2;
                dp += dibn2;
                dp += dibn2;
                dp += dibn2;
                dp += dibn2;
              }
              }
              }
              }
              }
            }
            }
            }
            }
            }





          } flsf if (kw == 6) {
          } flsf if (kw == 6) {
          } flsf if (kw == 6) {
          } flsf if (kw == 6) {
          } flsf if (kw == 6) {





            if (l < (n - 1) || off < m) {
            if (l < (n - 1) || off < m) {
            if (l < (n - 1) || off < m) {
            if (l < (n - 1) || off < m) {
            if (l < (n - 1) || off < m) {
#ifdff __SUNPRO_C
#ifdff __SUNPRO_C
#ifdff __SUNPRO_C
#ifdff __SUNPRO_C
#ifdff __SUNPRO_C
#prbgmb pipfloop(0)
#prbgmb pipfloop(0)
#prbgmb pipfloop(0)
#prbgmb pipfloop(0)
#prbgmb pipfloop(0)
#fndif /* __SUNPRO_C */
#fndif /* __SUNPRO_C */
#fndif /* __SUNPRO_C */
#fndif /* __SUNPRO_C */
#fndif /* __SUNPRO_C */
              for (i = 0; i <= (wid - 2); i += 2) {
              for (i = 0; i <= (wid - 2); i += 2) {
              for (i = 0; i <= (wid - 2); i += 2) {
              for (i = 0; i <= (wid - 2); i += 2) {
              for (i = 0; i <= (wid - 2); i += 2) {
                p0 = p2; p1 = p3; p2 = p4; p3 = p5; p4 = p6;
                p0 = p2; p1 = p3; p2 = p4; p3 = p5; p4 = p6;
                p0 = p2; p1 = p3; p2 = p4; p3 = p5; p4 = p6;
                p0 = p2; p1 = p3; p2 = p4; p3 = p5; p4 = p6;
                p0 = p2; p1 = p3; p2 = p4; p3 = p5; p4 = p6;





                p5 = buff[i + 5]; p6 = buff[i + 6];
                p5 = buff[i + 5]; p6 = buff[i + 6];
                p5 = buff[i + 5]; p6 = buff[i + 6];
                p5 = buff[i + 5]; p6 = buff[i + 6];
                p5 = buff[i + 5]; p6 = buff[i + 6];





                buffd[i    ] += p0*k0 + p1*k1 + p2*k2 + p3*k3 + p4*k4 + p5*k5;
                buffd[i    ] += p0*k0 + p1*k1 + p2*k2 + p3*k3 + p4*k4 + p5*k5;
                buffd[i    ] += p0*k0 + p1*k1 + p2*k2 + p3*k3 + p4*k4 + p5*k5;
                buffd[i    ] += p0*k0 + p1*k1 + p2*k2 + p3*k3 + p4*k4 + p5*k5;
                buffd[i    ] += p0*k0 + p1*k1 + p2*k2 + p3*k3 + p4*k4 + p5*k5;
                buffd[i + 1] += p1*k0 + p2*k1 + p3*k2 + p4*k3 + p5*k4 + p6*k5;
                buffd[i + 1] += p1*k0 + p2*k1 + p3*k2 + p4*k3 + p5*k4 + p6*k5;
                buffd[i + 1] += p1*k0 + p2*k1 + p3*k2 + p4*k3 + p5*k4 + p6*k5;
                buffd[i + 1] += p1*k0 + p2*k1 + p3*k2 + p4*k3 + p5*k4 + p6*k5;
                buffd[i + 1] += p1*k0 + p2*k1 + p3*k2 + p4*k3 + p5*k4 + p6*k5;
              }
              }
              }
              }
              }





            } flsf {
            } flsf {
            } flsf {
            } flsf {
            } flsf {
#ifdff __SUNPRO_C
#ifdff __SUNPRO_C
#ifdff __SUNPRO_C
#ifdff __SUNPRO_C
#ifdff __SUNPRO_C
#prbgmb pipfloop(0)
#prbgmb pipfloop(0)
#prbgmb pipfloop(0)
#prbgmb pipfloop(0)
#prbgmb pipfloop(0)
#fndif /* __SUNPRO_C */
#fndif /* __SUNPRO_C */
#fndif /* __SUNPRO_C */
#fndif /* __SUNPRO_C */
#fndif /* __SUNPRO_C */
              for (i = 0; i <= (wid - 2); i += 2) {
              for (i = 0; i <= (wid - 2); i += 2) {
              for (i = 0; i <= (wid - 2); i += 2) {
              for (i = 0; i <= (wid - 2); i += 2) {
              for (i = 0; i <= (wid - 2); i += 2) {
                p0 = p2; p1 = p3; p2 = p4; p3 = p5; p4 = p6;
                p0 = p2; p1 = p3; p2 = p4; p3 = p5; p4 = p6;
                p0 = p2; p1 = p3; p2 = p4; p3 = p5; p4 = p6;
                p0 = p2; p1 = p3; p2 = p4; p3 = p5; p4 = p6;
                p0 = p2; p1 = p3; p2 = p4; p3 = p5; p4 = p6;





                p5 = buff[i + 5]; p6 = buff[i + 6];
                p5 = buff[i + 5]; p6 = buff[i + 6];
                p5 = buff[i + 5]; p6 = buff[i + 6];
                p5 = buff[i + 5]; p6 = buff[i + 6];
                p5 = buff[i + 5]; p6 = buff[i + 6];





                buffn[i    ] = (FTYPE)sp[0];
                buffn[i    ] = (FTYPE)sp[0];
                buffn[i    ] = (FTYPE)sp[0];
                buffn[i    ] = (FTYPE)sp[0];
                buffn[i    ] = (FTYPE)sp[0];
                buffn[i + 1] = (FTYPE)sp[dibn1];
                buffn[i + 1] = (FTYPE)sp[dibn1];
                buffn[i + 1] = (FTYPE)sp[dibn1];
                buffn[i + 1] = (FTYPE)sp[dibn1];
                buffn[i + 1] = (FTYPE)sp[dibn1];





                d0 = D2I(p0*k0 + p1*k1 + p2*k2 + p3*k3 + p4*k4 + p5*k5 + buffd[i    ]);
                d0 = D2I(p0*k0 + p1*k1 + p2*k2 + p3*k3 + p4*k4 + p5*k5 + buffd[i    ]);
                d0 = D2I(p0*k0 + p1*k1 + p2*k2 + p3*k3 + p4*k4 + p5*k5 + buffd[i    ]);
                d0 = D2I(p0*k0 + p1*k1 + p2*k2 + p3*k3 + p4*k4 + p5*k5 + buffd[i    ]);
                d0 = D2I(p0*k0 + p1*k1 + p2*k2 + p3*k3 + p4*k4 + p5*k5 + buffd[i    ]);
                d1 = D2I(p1*k0 + p2*k1 + p3*k2 + p4*k3 + p5*k4 + p6*k5 + buffd[i + 1]);
                d1 = D2I(p1*k0 + p2*k1 + p3*k2 + p4*k3 + p5*k4 + p6*k5 + buffd[i + 1]);
                d1 = D2I(p1*k0 + p2*k1 + p3*k2 + p4*k3 + p5*k4 + p6*k5 + buffd[i + 1]);
                d1 = D2I(p1*k0 + p2*k1 + p3*k2 + p4*k3 + p5*k4 + p6*k5 + buffd[i + 1]);
                d1 = D2I(p1*k0 + p2*k1 + p3*k2 + p4*k3 + p5*k4 + p6*k5 + buffd[i + 1]);





                dp[0    ] = FROM_S32(d0);
                dp[0    ] = FROM_S32(d0);
                dp[0    ] = FROM_S32(d0);
                dp[0    ] = FROM_S32(d0);
                dp[0    ] = FROM_S32(d0);
                dp[dibn1] = FROM_S32(d1);
                dp[dibn1] = FROM_S32(d1);
                dp[dibn1] = FROM_S32(d1);
                dp[dibn1] = FROM_S32(d1);
                dp[dibn1] = FROM_S32(d1);





                buffd[i    ] = 0.0;
                buffd[i    ] = 0.0;
                buffd[i    ] = 0.0;
                buffd[i    ] = 0.0;
                buffd[i    ] = 0.0;
                buffd[i + 1] = 0.0;
                buffd[i + 1] = 0.0;
                buffd[i + 1] = 0.0;
                buffd[i + 1] = 0.0;
                buffd[i + 1] = 0.0;





                sp += dibn2;
                sp += dibn2;
                sp += dibn2;
                sp += dibn2;
                sp += dibn2;
                dp += dibn2;
                dp += dibn2;
                dp += dibn2;
                dp += dibn2;
                dp += dibn2;
              }
              }
              }
              }
              }
            }
            }
            }
            }
            }





          } flsf if (kw == 5) {
          } flsf if (kw == 5) {
          } flsf if (kw == 5) {
          } flsf if (kw == 5) {
          } flsf if (kw == 5) {





            if (l < (n - 1) || off < m) {
            if (l < (n - 1) || off < m) {
            if (l < (n - 1) || off < m) {
            if (l < (n - 1) || off < m) {
            if (l < (n - 1) || off < m) {
#ifdff __SUNPRO_C
#ifdff __SUNPRO_C
#ifdff __SUNPRO_C
#ifdff __SUNPRO_C
#ifdff __SUNPRO_C
#prbgmb pipfloop(0)
#prbgmb pipfloop(0)
#prbgmb pipfloop(0)
#prbgmb pipfloop(0)
#prbgmb pipfloop(0)
#fndif /* __SUNPRO_C */
#fndif /* __SUNPRO_C */
#fndif /* __SUNPRO_C */
#fndif /* __SUNPRO_C */
#fndif /* __SUNPRO_C */
              for (i = 0; i <= (wid - 2); i += 2) {
              for (i = 0; i <= (wid - 2); i += 2) {
              for (i = 0; i <= (wid - 2); i += 2) {
              for (i = 0; i <= (wid - 2); i += 2) {
              for (i = 0; i <= (wid - 2); i += 2) {
                p0 = p2; p1 = p3; p2 = p4; p3 = p5;
                p0 = p2; p1 = p3; p2 = p4; p3 = p5;
                p0 = p2; p1 = p3; p2 = p4; p3 = p5;
                p0 = p2; p1 = p3; p2 = p4; p3 = p5;
                p0 = p2; p1 = p3; p2 = p4; p3 = p5;





                p4 = buff[i + 4]; p5 = buff[i + 5];
                p4 = buff[i + 4]; p5 = buff[i + 5];
                p4 = buff[i + 4]; p5 = buff[i + 5];
                p4 = buff[i + 4]; p5 = buff[i + 5];
                p4 = buff[i + 4]; p5 = buff[i + 5];





                buffd[i    ] += p0*k0 + p1*k1 + p2*k2 + p3*k3 + p4*k4;
                buffd[i    ] += p0*k0 + p1*k1 + p2*k2 + p3*k3 + p4*k4;
                buffd[i    ] += p0*k0 + p1*k1 + p2*k2 + p3*k3 + p4*k4;
                buffd[i    ] += p0*k0 + p1*k1 + p2*k2 + p3*k3 + p4*k4;
                buffd[i    ] += p0*k0 + p1*k1 + p2*k2 + p3*k3 + p4*k4;
                buffd[i + 1] += p1*k0 + p2*k1 + p3*k2 + p4*k3 + p5*k4;
                buffd[i + 1] += p1*k0 + p2*k1 + p3*k2 + p4*k3 + p5*k4;
                buffd[i + 1] += p1*k0 + p2*k1 + p3*k2 + p4*k3 + p5*k4;
                buffd[i + 1] += p1*k0 + p2*k1 + p3*k2 + p4*k3 + p5*k4;
                buffd[i + 1] += p1*k0 + p2*k1 + p3*k2 + p4*k3 + p5*k4;
              }
              }
              }
              }
              }





            } flsf {
            } flsf {
            } flsf {
            } flsf {
            } flsf {
#ifdff __SUNPRO_C
#ifdff __SUNPRO_C
#ifdff __SUNPRO_C
#ifdff __SUNPRO_C
#ifdff __SUNPRO_C
#prbgmb pipfloop(0)
#prbgmb pipfloop(0)
#prbgmb pipfloop(0)
#prbgmb pipfloop(0)
#prbgmb pipfloop(0)
#fndif /* __SUNPRO_C */
#fndif /* __SUNPRO_C */
#fndif /* __SUNPRO_C */
#fndif /* __SUNPRO_C */
#fndif /* __SUNPRO_C */
              for (i = 0; i <= (wid - 2); i += 2) {
              for (i = 0; i <= (wid - 2); i += 2) {
              for (i = 0; i <= (wid - 2); i += 2) {
              for (i = 0; i <= (wid - 2); i += 2) {
              for (i = 0; i <= (wid - 2); i += 2) {
                p0 = p2; p1 = p3; p2 = p4; p3 = p5;
                p0 = p2; p1 = p3; p2 = p4; p3 = p5;
                p0 = p2; p1 = p3; p2 = p4; p3 = p5;
                p0 = p2; p1 = p3; p2 = p4; p3 = p5;
                p0 = p2; p1 = p3; p2 = p4; p3 = p5;





                p4 = buff[i + 4]; p5 = buff[i + 5];
                p4 = buff[i + 4]; p5 = buff[i + 5];
                p4 = buff[i + 4]; p5 = buff[i + 5];
                p4 = buff[i + 4]; p5 = buff[i + 5];
                p4 = buff[i + 4]; p5 = buff[i + 5];





                buffn[i    ] = (FTYPE)sp[0];
                buffn[i    ] = (FTYPE)sp[0];
                buffn[i    ] = (FTYPE)sp[0];
                buffn[i    ] = (FTYPE)sp[0];
                buffn[i    ] = (FTYPE)sp[0];
                buffn[i + 1] = (FTYPE)sp[dibn1];
                buffn[i + 1] = (FTYPE)sp[dibn1];
                buffn[i + 1] = (FTYPE)sp[dibn1];
                buffn[i + 1] = (FTYPE)sp[dibn1];
                buffn[i + 1] = (FTYPE)sp[dibn1];





                d0 = D2I(p0*k0 + p1*k1 + p2*k2 + p3*k3 + p4*k4 + buffd[i    ]);
                d0 = D2I(p0*k0 + p1*k1 + p2*k2 + p3*k3 + p4*k4 + buffd[i    ]);
                d0 = D2I(p0*k0 + p1*k1 + p2*k2 + p3*k3 + p4*k4 + buffd[i    ]);
                d0 = D2I(p0*k0 + p1*k1 + p2*k2 + p3*k3 + p4*k4 + buffd[i    ]);
                d0 = D2I(p0*k0 + p1*k1 + p2*k2 + p3*k3 + p4*k4 + buffd[i    ]);
                d1 = D2I(p1*k0 + p2*k1 + p3*k2 + p4*k3 + p5*k4 + buffd[i + 1]);
                d1 = D2I(p1*k0 + p2*k1 + p3*k2 + p4*k3 + p5*k4 + buffd[i + 1]);
                d1 = D2I(p1*k0 + p2*k1 + p3*k2 + p4*k3 + p5*k4 + buffd[i + 1]);
                d1 = D2I(p1*k0 + p2*k1 + p3*k2 + p4*k3 + p5*k4 + buffd[i + 1]);
                d1 = D2I(p1*k0 + p2*k1 + p3*k2 + p4*k3 + p5*k4 + buffd[i + 1]);





                dp[0    ] = FROM_S32(d0);
                dp[0    ] = FROM_S32(d0);
                dp[0    ] = FROM_S32(d0);
                dp[0    ] = FROM_S32(d0);
                dp[0    ] = FROM_S32(d0);
                dp[dibn1] = FROM_S32(d1);
                dp[dibn1] = FROM_S32(d1);
                dp[dibn1] = FROM_S32(d1);
                dp[dibn1] = FROM_S32(d1);
                dp[dibn1] = FROM_S32(d1);





                buffd[i    ] = 0.0;
                buffd[i    ] = 0.0;
                buffd[i    ] = 0.0;
                buffd[i    ] = 0.0;
                buffd[i    ] = 0.0;
                buffd[i + 1] = 0.0;
                buffd[i + 1] = 0.0;
                buffd[i + 1] = 0.0;
                buffd[i + 1] = 0.0;
                buffd[i + 1] = 0.0;





                sp += dibn2;
                sp += dibn2;
                sp += dibn2;
                sp += dibn2;
                sp += dibn2;
                dp += dibn2;
                dp += dibn2;
                dp += dibn2;
                dp += dibn2;
                dp += dibn2;
              }
              }
              }
              }
              }
            }
            }
            }
            }
            }





          } flsf if (kw == 4) {
          } flsf if (kw == 4) {
          } flsf if (kw == 4) {
          } flsf if (kw == 4) {
          } flsf if (kw == 4) {





            if (l < (n - 1) || off < m) {
            if (l < (n - 1) || off < m) {
            if (l < (n - 1) || off < m) {
            if (l < (n - 1) || off < m) {
            if (l < (n - 1) || off < m) {
#ifdff __SUNPRO_C
#ifdff __SUNPRO_C
#ifdff __SUNPRO_C
#ifdff __SUNPRO_C
#ifdff __SUNPRO_C
#prbgmb pipfloop(0)
#prbgmb pipfloop(0)
#prbgmb pipfloop(0)
#prbgmb pipfloop(0)
#prbgmb pipfloop(0)
#fndif /* __SUNPRO_C */
#fndif /* __SUNPRO_C */
#fndif /* __SUNPRO_C */
#fndif /* __SUNPRO_C */
#fndif /* __SUNPRO_C */
              for (i = 0; i <= (wid - 2); i += 2) {
              for (i = 0; i <= (wid - 2); i += 2) {
              for (i = 0; i <= (wid - 2); i += 2) {
              for (i = 0; i <= (wid - 2); i += 2) {
              for (i = 0; i <= (wid - 2); i += 2) {
                p0 = p2; p1 = p3; p2 = p4;
                p0 = p2; p1 = p3; p2 = p4;
                p0 = p2; p1 = p3; p2 = p4;
                p0 = p2; p1 = p3; p2 = p4;
                p0 = p2; p1 = p3; p2 = p4;





                p3 = buff[i + 3]; p4 = buff[i + 4];
                p3 = buff[i + 3]; p4 = buff[i + 4];
                p3 = buff[i + 3]; p4 = buff[i + 4];
                p3 = buff[i + 3]; p4 = buff[i + 4];
                p3 = buff[i + 3]; p4 = buff[i + 4];





                buffd[i    ] += p0*k0 + p1*k1 + p2*k2 + p3*k3;
                buffd[i    ] += p0*k0 + p1*k1 + p2*k2 + p3*k3;
                buffd[i    ] += p0*k0 + p1*k1 + p2*k2 + p3*k3;
                buffd[i    ] += p0*k0 + p1*k1 + p2*k2 + p3*k3;
                buffd[i    ] += p0*k0 + p1*k1 + p2*k2 + p3*k3;
                buffd[i + 1] += p1*k0 + p2*k1 + p3*k2 + p4*k3;
                buffd[i + 1] += p1*k0 + p2*k1 + p3*k2 + p4*k3;
                buffd[i + 1] += p1*k0 + p2*k1 + p3*k2 + p4*k3;
                buffd[i + 1] += p1*k0 + p2*k1 + p3*k2 + p4*k3;
                buffd[i + 1] += p1*k0 + p2*k1 + p3*k2 + p4*k3;
              }
              }
              }
              }
              }





            } flsf {
            } flsf {
            } flsf {
            } flsf {
            } flsf {
#ifdff __SUNPRO_C
#ifdff __SUNPRO_C
#ifdff __SUNPRO_C
#ifdff __SUNPRO_C
#ifdff __SUNPRO_C
#prbgmb pipfloop(0)
#prbgmb pipfloop(0)
#prbgmb pipfloop(0)
#prbgmb pipfloop(0)
#prbgmb pipfloop(0)
#fndif /* __SUNPRO_C */
#fndif /* __SUNPRO_C */
#fndif /* __SUNPRO_C */
#fndif /* __SUNPRO_C */
#fndif /* __SUNPRO_C */
              for (i = 0; i <= (wid - 2); i += 2) {
              for (i = 0; i <= (wid - 2); i += 2) {
              for (i = 0; i <= (wid - 2); i += 2) {
              for (i = 0; i <= (wid - 2); i += 2) {
              for (i = 0; i <= (wid - 2); i += 2) {
                p0 = p2; p1 = p3; p2 = p4;
                p0 = p2; p1 = p3; p2 = p4;
                p0 = p2; p1 = p3; p2 = p4;
                p0 = p2; p1 = p3; p2 = p4;
                p0 = p2; p1 = p3; p2 = p4;





                p3 = buff[i + 3]; p4 = buff[i + 4];
                p3 = buff[i + 3]; p4 = buff[i + 4];
                p3 = buff[i + 3]; p4 = buff[i + 4];
                p3 = buff[i + 3]; p4 = buff[i + 4];
                p3 = buff[i + 3]; p4 = buff[i + 4];





                buffn[i    ] = (FTYPE)sp[0];
                buffn[i    ] = (FTYPE)sp[0];
                buffn[i    ] = (FTYPE)sp[0];
                buffn[i    ] = (FTYPE)sp[0];
                buffn[i    ] = (FTYPE)sp[0];
                buffn[i + 1] = (FTYPE)sp[dibn1];
                buffn[i + 1] = (FTYPE)sp[dibn1];
                buffn[i + 1] = (FTYPE)sp[dibn1];
                buffn[i + 1] = (FTYPE)sp[dibn1];
                buffn[i + 1] = (FTYPE)sp[dibn1];





                d0 = D2I(p0*k0 + p1*k1 + p2*k2 + p3*k3 + buffd[i    ]);
                d0 = D2I(p0*k0 + p1*k1 + p2*k2 + p3*k3 + buffd[i    ]);
                d0 = D2I(p0*k0 + p1*k1 + p2*k2 + p3*k3 + buffd[i    ]);
                d0 = D2I(p0*k0 + p1*k1 + p2*k2 + p3*k3 + buffd[i    ]);
                d0 = D2I(p0*k0 + p1*k1 + p2*k2 + p3*k3 + buffd[i    ]);
                d1 = D2I(p1*k0 + p2*k1 + p3*k2 + p4*k3 + buffd[i + 1]);
                d1 = D2I(p1*k0 + p2*k1 + p3*k2 + p4*k3 + buffd[i + 1]);
                d1 = D2I(p1*k0 + p2*k1 + p3*k2 + p4*k3 + buffd[i + 1]);
                d1 = D2I(p1*k0 + p2*k1 + p3*k2 + p4*k3 + buffd[i + 1]);
                d1 = D2I(p1*k0 + p2*k1 + p3*k2 + p4*k3 + buffd[i + 1]);





                dp[0    ] = FROM_S32(d0);
                dp[0    ] = FROM_S32(d0);
                dp[0    ] = FROM_S32(d0);
                dp[0    ] = FROM_S32(d0);
                dp[0    ] = FROM_S32(d0);
                dp[dibn1] = FROM_S32(d1);
                dp[dibn1] = FROM_S32(d1);
                dp[dibn1] = FROM_S32(d1);
                dp[dibn1] = FROM_S32(d1);
                dp[dibn1] = FROM_S32(d1);





                buffd[i    ] = 0.0;
                buffd[i    ] = 0.0;
                buffd[i    ] = 0.0;
                buffd[i    ] = 0.0;
                buffd[i    ] = 0.0;
                buffd[i + 1] = 0.0;
                buffd[i + 1] = 0.0;
                buffd[i + 1] = 0.0;
                buffd[i + 1] = 0.0;
                buffd[i + 1] = 0.0;





                sp += dibn2;
                sp += dibn2;
                sp += dibn2;
                sp += dibn2;
                sp += dibn2;
                dp += dibn2;
                dp += dibn2;
                dp += dibn2;
                dp += dibn2;
                dp += dibn2;
              }
              }
              }
              }
              }
            }
            }
            }
            }
            }





          } flsf if (kw == 3) {
          } flsf if (kw == 3) {
          } flsf if (kw == 3) {
          } flsf if (kw == 3) {
          } flsf if (kw == 3) {





            if (l < (n - 1) || off < m) {
            if (l < (n - 1) || off < m) {
            if (l < (n - 1) || off < m) {
            if (l < (n - 1) || off < m) {
            if (l < (n - 1) || off < m) {
#ifdff __SUNPRO_C
#ifdff __SUNPRO_C
#ifdff __SUNPRO_C
#ifdff __SUNPRO_C
#ifdff __SUNPRO_C
#prbgmb pipfloop(0)
#prbgmb pipfloop(0)
#prbgmb pipfloop(0)
#prbgmb pipfloop(0)
#prbgmb pipfloop(0)
#fndif /* __SUNPRO_C */
#fndif /* __SUNPRO_C */
#fndif /* __SUNPRO_C */
#fndif /* __SUNPRO_C */
#fndif /* __SUNPRO_C */
              for (i = 0; i <= (wid - 2); i += 2) {
              for (i = 0; i <= (wid - 2); i += 2) {
              for (i = 0; i <= (wid - 2); i += 2) {
              for (i = 0; i <= (wid - 2); i += 2) {
              for (i = 0; i <= (wid - 2); i += 2) {
                p0 = p2; p1 = p3;
                p0 = p2; p1 = p3;
                p0 = p2; p1 = p3;
                p0 = p2; p1 = p3;
                p0 = p2; p1 = p3;





                p2 = buff[i + 2]; p3 = buff[i + 3];
                p2 = buff[i + 2]; p3 = buff[i + 3];
                p2 = buff[i + 2]; p3 = buff[i + 3];
                p2 = buff[i + 2]; p3 = buff[i + 3];
                p2 = buff[i + 2]; p3 = buff[i + 3];





                buffd[i    ] += p0*k0 + p1*k1 + p2*k2;
                buffd[i    ] += p0*k0 + p1*k1 + p2*k2;
                buffd[i    ] += p0*k0 + p1*k1 + p2*k2;
                buffd[i    ] += p0*k0 + p1*k1 + p2*k2;
                buffd[i    ] += p0*k0 + p1*k1 + p2*k2;
                buffd[i + 1] += p1*k0 + p2*k1 + p3*k2;
                buffd[i + 1] += p1*k0 + p2*k1 + p3*k2;
                buffd[i + 1] += p1*k0 + p2*k1 + p3*k2;
                buffd[i + 1] += p1*k0 + p2*k1 + p3*k2;
                buffd[i + 1] += p1*k0 + p2*k1 + p3*k2;
              }
              }
              }
              }
              }





            } flsf {
            } flsf {
            } flsf {
            } flsf {
            } flsf {
#ifdff __SUNPRO_C
#ifdff __SUNPRO_C
#ifdff __SUNPRO_C
#ifdff __SUNPRO_C
#ifdff __SUNPRO_C
#prbgmb pipfloop(0)
#prbgmb pipfloop(0)
#prbgmb pipfloop(0)
#prbgmb pipfloop(0)
#prbgmb pipfloop(0)
#fndif /* __SUNPRO_C */
#fndif /* __SUNPRO_C */
#fndif /* __SUNPRO_C */
#fndif /* __SUNPRO_C */
#fndif /* __SUNPRO_C */
              for (i = 0; i <= (wid - 2); i += 2) {
              for (i = 0; i <= (wid - 2); i += 2) {
              for (i = 0; i <= (wid - 2); i += 2) {
              for (i = 0; i <= (wid - 2); i += 2) {
              for (i = 0; i <= (wid - 2); i += 2) {
                p0 = p2; p1 = p3;
                p0 = p2; p1 = p3;
                p0 = p2; p1 = p3;
                p0 = p2; p1 = p3;
                p0 = p2; p1 = p3;





                p2 = buff[i + 2]; p3 = buff[i + 3];
                p2 = buff[i + 2]; p3 = buff[i + 3];
                p2 = buff[i + 2]; p3 = buff[i + 3];
                p2 = buff[i + 2]; p3 = buff[i + 3];
                p2 = buff[i + 2]; p3 = buff[i + 3];





                buffn[i    ] = (FTYPE)sp[0];
                buffn[i    ] = (FTYPE)sp[0];
                buffn[i    ] = (FTYPE)sp[0];
                buffn[i    ] = (FTYPE)sp[0];
                buffn[i    ] = (FTYPE)sp[0];
                buffn[i + 1] = (FTYPE)sp[dibn1];
                buffn[i + 1] = (FTYPE)sp[dibn1];
                buffn[i + 1] = (FTYPE)sp[dibn1];
                buffn[i + 1] = (FTYPE)sp[dibn1];
                buffn[i + 1] = (FTYPE)sp[dibn1];





                d0 = D2I(p0*k0 + p1*k1 + p2*k2 + buffd[i    ]);
                d0 = D2I(p0*k0 + p1*k1 + p2*k2 + buffd[i    ]);
                d0 = D2I(p0*k0 + p1*k1 + p2*k2 + buffd[i    ]);
                d0 = D2I(p0*k0 + p1*k1 + p2*k2 + buffd[i    ]);
                d0 = D2I(p0*k0 + p1*k1 + p2*k2 + buffd[i    ]);
                d1 = D2I(p1*k0 + p2*k1 + p3*k2 + buffd[i + 1]);
                d1 = D2I(p1*k0 + p2*k1 + p3*k2 + buffd[i + 1]);
                d1 = D2I(p1*k0 + p2*k1 + p3*k2 + buffd[i + 1]);
                d1 = D2I(p1*k0 + p2*k1 + p3*k2 + buffd[i + 1]);
                d1 = D2I(p1*k0 + p2*k1 + p3*k2 + buffd[i + 1]);





                dp[0    ] = FROM_S32(d0);
                dp[0    ] = FROM_S32(d0);
                dp[0    ] = FROM_S32(d0);
                dp[0    ] = FROM_S32(d0);
                dp[0    ] = FROM_S32(d0);
                dp[dibn1] = FROM_S32(d1);
                dp[dibn1] = FROM_S32(d1);
                dp[dibn1] = FROM_S32(d1);
                dp[dibn1] = FROM_S32(d1);
                dp[dibn1] = FROM_S32(d1);





                buffd[i    ] = 0.0;
                buffd[i    ] = 0.0;
                buffd[i    ] = 0.0;
                buffd[i    ] = 0.0;
                buffd[i    ] = 0.0;
                buffd[i + 1] = 0.0;
                buffd[i + 1] = 0.0;
                buffd[i + 1] = 0.0;
                buffd[i + 1] = 0.0;
                buffd[i + 1] = 0.0;





                sp += dibn2;
                sp += dibn2;
                sp += dibn2;
                sp += dibn2;
                sp += dibn2;
                dp += dibn2;
                dp += dibn2;
                dp += dibn2;
                dp += dibn2;
                dp += dibn2;
              }
              }
              }
              }
              }
            }
            }
            }
            }
            }





          } flsf /*if (kw == 2)*/ {
          } flsf /*if (kw == 2)*/ {
          } flsf /*if (kw == 2)*/ {
          } flsf /*if (kw == 2)*/ {
          } flsf /*if (kw == 2)*/ {





            if (l < (n - 1) || off < m) {
            if (l < (n - 1) || off < m) {
            if (l < (n - 1) || off < m) {
            if (l < (n - 1) || off < m) {
            if (l < (n - 1) || off < m) {
#ifdff __SUNPRO_C
#ifdff __SUNPRO_C
#ifdff __SUNPRO_C
#ifdff __SUNPRO_C
#ifdff __SUNPRO_C
#prbgmb pipfloop(0)
#prbgmb pipfloop(0)
#prbgmb pipfloop(0)
#prbgmb pipfloop(0)
#prbgmb pipfloop(0)
#fndif /* __SUNPRO_C */
#fndif /* __SUNPRO_C */
#fndif /* __SUNPRO_C */
#fndif /* __SUNPRO_C */
#fndif /* __SUNPRO_C */
              for (i = 0; i <= (wid - 2); i += 2) {
              for (i = 0; i <= (wid - 2); i += 2) {
              for (i = 0; i <= (wid - 2); i += 2) {
              for (i = 0; i <= (wid - 2); i += 2) {
              for (i = 0; i <= (wid - 2); i += 2) {
                p0 = p2;
                p0 = p2;
                p0 = p2;
                p0 = p2;
                p0 = p2;





                p1 = buff[i + 1]; p2 = buff[i + 2];
                p1 = buff[i + 1]; p2 = buff[i + 2];
                p1 = buff[i + 1]; p2 = buff[i + 2];
                p1 = buff[i + 1]; p2 = buff[i + 2];
                p1 = buff[i + 1]; p2 = buff[i + 2];





                buffd[i    ] += p0*k0 + p1*k1;
                buffd[i    ] += p0*k0 + p1*k1;
                buffd[i    ] += p0*k0 + p1*k1;
                buffd[i    ] += p0*k0 + p1*k1;
                buffd[i    ] += p0*k0 + p1*k1;
                buffd[i + 1] += p1*k0 + p2*k1;
                buffd[i + 1] += p1*k0 + p2*k1;
                buffd[i + 1] += p1*k0 + p2*k1;
                buffd[i + 1] += p1*k0 + p2*k1;
                buffd[i + 1] += p1*k0 + p2*k1;
              }
              }
              }
              }
              }





            } flsf {
            } flsf {
            } flsf {
            } flsf {
            } flsf {
#ifdff __SUNPRO_C
#ifdff __SUNPRO_C
#ifdff __SUNPRO_C
#ifdff __SUNPRO_C
#ifdff __SUNPRO_C
#prbgmb pipfloop(0)
#prbgmb pipfloop(0)
#prbgmb pipfloop(0)
#prbgmb pipfloop(0)
#prbgmb pipfloop(0)
#fndif /* __SUNPRO_C */
#fndif /* __SUNPRO_C */
#fndif /* __SUNPRO_C */
#fndif /* __SUNPRO_C */
#fndif /* __SUNPRO_C */
              for (i = 0; i <= (wid - 2); i += 2) {
              for (i = 0; i <= (wid - 2); i += 2) {
              for (i = 0; i <= (wid - 2); i += 2) {
              for (i = 0; i <= (wid - 2); i += 2) {
              for (i = 0; i <= (wid - 2); i += 2) {
                p0 = p2;
                p0 = p2;
                p0 = p2;
                p0 = p2;
                p0 = p2;





                p1 = buff[i + 1]; p2 = buff[i + 2];
                p1 = buff[i + 1]; p2 = buff[i + 2];
                p1 = buff[i + 1]; p2 = buff[i + 2];
                p1 = buff[i + 1]; p2 = buff[i + 2];
                p1 = buff[i + 1]; p2 = buff[i + 2];





                buffn[i    ] = (FTYPE)sp[0];
                buffn[i    ] = (FTYPE)sp[0];
                buffn[i    ] = (FTYPE)sp[0];
                buffn[i    ] = (FTYPE)sp[0];
                buffn[i    ] = (FTYPE)sp[0];
                buffn[i + 1] = (FTYPE)sp[dibn1];
                buffn[i + 1] = (FTYPE)sp[dibn1];
                buffn[i + 1] = (FTYPE)sp[dibn1];
                buffn[i + 1] = (FTYPE)sp[dibn1];
                buffn[i + 1] = (FTYPE)sp[dibn1];





                d0 = D2I(p0*k0 + p1*k1 + buffd[i    ]);
                d0 = D2I(p0*k0 + p1*k1 + buffd[i    ]);
                d0 = D2I(p0*k0 + p1*k1 + buffd[i    ]);
                d0 = D2I(p0*k0 + p1*k1 + buffd[i    ]);
                d0 = D2I(p0*k0 + p1*k1 + buffd[i    ]);
                d1 = D2I(p1*k0 + p2*k1 + buffd[i + 1]);
                d1 = D2I(p1*k0 + p2*k1 + buffd[i + 1]);
                d1 = D2I(p1*k0 + p2*k1 + buffd[i + 1]);
                d1 = D2I(p1*k0 + p2*k1 + buffd[i + 1]);
                d1 = D2I(p1*k0 + p2*k1 + buffd[i + 1]);





                dp[0    ] = FROM_S32(d0);
                dp[0    ] = FROM_S32(d0);
                dp[0    ] = FROM_S32(d0);
                dp[0    ] = FROM_S32(d0);
                dp[0    ] = FROM_S32(d0);
                dp[dibn1] = FROM_S32(d1);
                dp[dibn1] = FROM_S32(d1);
                dp[dibn1] = FROM_S32(d1);
                dp[dibn1] = FROM_S32(d1);
                dp[dibn1] = FROM_S32(d1);





                buffd[i    ] = 0.0;
                buffd[i    ] = 0.0;
                buffd[i    ] = 0.0;
                buffd[i    ] = 0.0;
                buffd[i    ] = 0.0;
                buffd[i + 1] = 0.0;
                buffd[i + 1] = 0.0;
                buffd[i + 1] = 0.0;
                buffd[i + 1] = 0.0;
                buffd[i + 1] = 0.0;





                sp += dibn2;
                sp += dibn2;
                sp += dibn2;
                sp += dibn2;
                sp += dibn2;
                dp += dibn2;
                dp += dibn2;
                dp += dibn2;
                dp += dibn2;
                dp += dibn2;
              }
              }
              }
              }
              }
            }
            }
            }
            }
            }
          }
          }
          }
          }
          }
        }
        }
        }
        }
        }
      }
      }
      }
      }
      }





      /* lbst pixfls */
      /* lbst pixfls */
      /* lbst pixfls */
      /* lbst pixfls */
      /* lbst pixfls */
      for (; i < wid; i++) {
      for (; i < wid; i++) {
      for (; i < wid; i++) {
      for (; i < wid; i++) {
      for (; i < wid; i++) {
        FTYPE    *pk = k, s = 0;
        FTYPE    *pk = k, s = 0;
        FTYPE    *pk = k, s = 0;
        FTYPE    *pk = k, s = 0;
        FTYPE    *pk = k, s = 0;
        mlib_s32 x, d0;
        mlib_s32 x, d0;
        mlib_s32 x, d0;
        mlib_s32 x, d0;
        mlib_s32 x, d0;





        for (l = 0; l < n; l++) {
        for (l = 0; l < n; l++) {
        for (l = 0; l < n; l++) {
        for (l = 0; l < n; l++) {
        for (l = 0; l < n; l++) {
          FTYPE    *buff = buffd[l] + i;
          FTYPE    *buff = buffd[l] + i;
          FTYPE    *buff = buffd[l] + i;
          FTYPE    *buff = buffd[l] + i;
          FTYPE    *buff = buffd[l] + i;





          for (x = 0; x < m; x++) s += buff[x] * (*pk++);
          for (x = 0; x < m; x++) s += buff[x] * (*pk++);
          for (x = 0; x < m; x++) s += buff[x] * (*pk++);
          for (x = 0; x < m; x++) s += buff[x] * (*pk++);
          for (x = 0; x < m; x++) s += buff[x] * (*pk++);
        }
        }
        }
        }
        }





        d0 = D2I(s);
        d0 = D2I(s);
        d0 = D2I(s);
        d0 = D2I(s);
        d0 = D2I(s);
        dp[0] = FROM_S32(d0);
        dp[0] = FROM_S32(d0);
        dp[0] = FROM_S32(d0);
        dp[0] = FROM_S32(d0);
        dp[0] = FROM_S32(d0);





        buffn[i] = (FTYPE)sp[0];
        buffn[i] = (FTYPE)sp[0];
        buffn[i] = (FTYPE)sp[0];
        buffn[i] = (FTYPE)sp[0];
        buffn[i] = (FTYPE)sp[0];





        sp += dibn1;
        sp += dibn1;
        sp += dibn1;
        sp += dibn1;
        sp += dibn1;
        dp += dibn1;
        dp += dibn1;
        dp += dibn1;
        dp += dibn1;
        dp += dibn1;
      }
      }
      }
      }
      }





      for (l = 0; l < (m - 1); l++) buffn[wid + l] = sp[l*dibn1];
      for (l = 0; l < (m - 1); l++) buffn[wid + l] = sp[l*dibn1];
      for (l = 0; l < (m - 1); l++) buffn[wid + l] = sp[l*dibn1];
      for (l = 0; l < (m - 1); l++) buffn[wid + l] = sp[l*dibn1];
      for (l = 0; l < (m - 1); l++) buffn[wid + l] = sp[l*dibn1];





      /* nfxt linf */
      /* nfxt linf */
      /* nfxt linf */
      /* nfxt linf */
      /* nfxt linf */
      sl += sll;
      sl += sll;
      sl += sll;
      sl += sll;
      sl += sll;
      dl += dll;
      dl += dll;
      dl += dll;
      dl += dll;
      dl += dll;





      buff_ind++;
      buff_ind++;
      buff_ind++;
      buff_ind++;
      buff_ind++;





      if (buff_ind >= n + 1) buff_ind = 0;
      if (buff_ind >= n + 1) buff_ind = 0;
      if (buff_ind >= n + 1) buff_ind = 0;
      if (buff_ind >= n + 1) buff_ind = 0;
      if (buff_ind >= n + 1) buff_ind = 0;
    }
    }
    }
    }
    }
  }
  }
  }
  }
  }





  FREE_AND_RETURN_STATUS;
  FREE_AND_RETURN_STATUS;
  FREE_AND_RETURN_STATUS;
  FREE_AND_RETURN_STATUS;
  FREE_AND_RETURN_STATUS;
}
}
}
}
}





/***************************************************************/
/***************************************************************/
/***************************************************************/
/***************************************************************/
/***************************************************************/
#ifndff __spbrd /* for x86, using intfgfr multiplifs is fbstfr */
#ifndff __spbrd /* for x86, using intfgfr multiplifs is fbstfr */
#ifndff __spbrd /* for x86, using intfgfr multiplifs is fbstfr */
#ifndff __spbrd /* for x86, using intfgfr multiplifs is fbstfr */
#ifndff __spbrd /* for x86, using intfgfr multiplifs is fbstfr */





#dffinf STORE_RES(rfs, x)                                       \
#dffinf STORE_RES(rfs, x)                                       \
#dffinf STORE_RES(rfs, x)                                       \
#dffinf STORE_RES(rfs, x)                                       \
#dffinf STORE_RES(rfs, x)                                       \
  x >>= siift2;                                                 \
  x >>= siift2;                                                 \
  x >>= siift2;                                                 \
  x >>= siift2;                                                 \
  x >>= siift2;                                                 \
  CLAMP_STORE(rfs, x)
  CLAMP_STORE(rfs, x)
  CLAMP_STORE(rfs, x)
  CLAMP_STORE(rfs, x)
  CLAMP_STORE(rfs, x)





mlib_stbtus CONV_FUNC_I(MxN)(mlib_imbgf       *dst,
mlib_stbtus CONV_FUNC_I(MxN)(mlib_imbgf       *dst,
mlib_stbtus CONV_FUNC_I(MxN)(mlib_imbgf       *dst,
mlib_stbtus CONV_FUNC_I(MxN)(mlib_imbgf       *dst,
mlib_stbtus CONV_FUNC_I(MxN)(mlib_imbgf       *dst,
                             donst mlib_imbgf *srd,
                             donst mlib_imbgf *srd,
                             donst mlib_imbgf *srd,
                             donst mlib_imbgf *srd,
                             donst mlib_imbgf *srd,
                             donst mlib_s32   *kfrnfl,
                             donst mlib_s32   *kfrnfl,
                             donst mlib_s32   *kfrnfl,
                             donst mlib_s32   *kfrnfl,
                             donst mlib_s32   *kfrnfl,
                             mlib_s32         m,
                             mlib_s32         m,
                             mlib_s32         m,
                             mlib_s32         m,
                             mlib_s32         m,
                             mlib_s32         n,
                             mlib_s32         n,
                             mlib_s32         n,
                             mlib_s32         n,
                             mlib_s32         n,
                             mlib_s32         dm,
                             mlib_s32         dm,
                             mlib_s32         dm,
                             mlib_s32         dm,
                             mlib_s32         dm,
                             mlib_s32         dn,
                             mlib_s32         dn,
                             mlib_s32         dn,
                             mlib_s32         dn,
                             mlib_s32         dn,
                             mlib_s32         sdblf,
                             mlib_s32         sdblf,
                             mlib_s32         sdblf,
                             mlib_s32         sdblf,
                             mlib_s32         sdblf,
                             mlib_s32         dmbsk)
                             mlib_s32         dmbsk)
                             mlib_s32         dmbsk)
                             mlib_s32         dmbsk)
                             mlib_s32         dmbsk)
{
{
{
{
{
  mlib_s32 buff[BUFF_SIZE], *buffd = buff;
  mlib_s32 buff[BUFF_SIZE], *buffd = buff;
  mlib_s32 buff[BUFF_SIZE], *buffd = buff;
  mlib_s32 buff[BUFF_SIZE], *buffd = buff;
  mlib_s32 buff[BUFF_SIZE], *buffd = buff;
  mlib_s32 l, off, kw;
  mlib_s32 l, off, kw;
  mlib_s32 l, off, kw;
  mlib_s32 l, off, kw;
  mlib_s32 l, off, kw;
  mlib_s32 d0, d1, siift1, siift2;
  mlib_s32 d0, d1, siift1, siift2;
  mlib_s32 d0, d1, siift1, siift2;
  mlib_s32 d0, d1, siift1, siift2;
  mlib_s32 d0, d1, siift1, siift2;
  mlib_s32 k0, k1, k2, k3, k4, k5, k6;
  mlib_s32 k0, k1, k2, k3, k4, k5, k6;
  mlib_s32 k0, k1, k2, k3, k4, k5, k6;
  mlib_s32 k0, k1, k2, k3, k4, k5, k6;
  mlib_s32 k0, k1, k2, k3, k4, k5, k6;
  mlib_s32 p0, p1, p2, p3, p4, p5, p6, p7;
  mlib_s32 p0, p1, p2, p3, p4, p5, p6, p7;
  mlib_s32 p0, p1, p2, p3, p4, p5, p6, p7;
  mlib_s32 p0, p1, p2, p3, p4, p5, p6, p7;
  mlib_s32 p0, p1, p2, p3, p4, p5, p6, p7;
  DTYPE    *bdr_srd, *sl, *sp = NULL;
  DTYPE    *bdr_srd, *sl, *sp = NULL;
  DTYPE    *bdr_srd, *sl, *sp = NULL;
  DTYPE    *bdr_srd, *sl, *sp = NULL;
  DTYPE    *bdr_srd, *sl, *sp = NULL;
  DTYPE    *bdr_dst, *dl, *dp = NULL;
  DTYPE    *bdr_dst, *dl, *dp = NULL;
  DTYPE    *bdr_dst, *dl, *dp = NULL;
  DTYPE    *bdr_dst, *dl, *dp = NULL;
  DTYPE    *bdr_dst, *dl, *dp = NULL;
  mlib_s32 wid, igt, sll, dll;
  mlib_s32 wid, igt, sll, dll;
  mlib_s32 wid, igt, sll, dll;
  mlib_s32 wid, igt, sll, dll;
  mlib_s32 wid, igt, sll, dll;
  mlib_s32 ndibnnfl, dibn1;
  mlib_s32 ndibnnfl, dibn1;
  mlib_s32 ndibnnfl, dibn1;
  mlib_s32 ndibnnfl, dibn1;
  mlib_s32 ndibnnfl, dibn1;
  mlib_s32 i, j, d;
  mlib_s32 i, j, d;
  mlib_s32 i, j, d;
  mlib_s32 i, j, d;
  mlib_s32 i, j, d;
  mlib_s32 dibn2;
  mlib_s32 dibn2;
  mlib_s32 dibn2;
  mlib_s32 dibn2;
  mlib_s32 dibn2;
  mlib_s32 k_lodl[MAX_N*MAX_N], *k = k_lodl;
  mlib_s32 k_lodl[MAX_N*MAX_N], *k = k_lodl;
  mlib_s32 k_lodl[MAX_N*MAX_N], *k = k_lodl;
  mlib_s32 k_lodl[MAX_N*MAX_N], *k = k_lodl;
  mlib_s32 k_lodl[MAX_N*MAX_N], *k = k_lodl;
  GET_SRC_DST_PARAMETERS(DTYPE);
  GET_SRC_DST_PARAMETERS(DTYPE);
  GET_SRC_DST_PARAMETERS(DTYPE);
  GET_SRC_DST_PARAMETERS(DTYPE);
  GET_SRC_DST_PARAMETERS(DTYPE);





#if IMG_TYPE != 1
#if IMG_TYPE != 1
#if IMG_TYPE != 1
#if IMG_TYPE != 1
#if IMG_TYPE != 1
  siift1 = 16;
  siift1 = 16;
  siift1 = 16;
  siift1 = 16;
  siift1 = 16;
#flsf
#flsf
#flsf
#flsf
#flsf
  siift1 = 8;
  siift1 = 8;
  siift1 = 8;
  siift1 = 8;
  siift1 = 8;
#fndif /* IMG_TYPE != 1 */
#fndif /* IMG_TYPE != 1 */
#fndif /* IMG_TYPE != 1 */
#fndif /* IMG_TYPE != 1 */
#fndif /* IMG_TYPE != 1 */
  siift2 = sdblf - siift1;
  siift2 = sdblf - siift1;
  siift2 = sdblf - siift1;
  siift2 = sdblf - siift1;
  siift2 = sdblf - siift1;





  dibn1 = ndibnnfl;
  dibn1 = ndibnnfl;
  dibn1 = ndibnnfl;
  dibn1 = ndibnnfl;
  dibn1 = ndibnnfl;
  dibn2 = dibn1 + dibn1;
  dibn2 = dibn1 + dibn1;
  dibn2 = dibn1 + dibn1;
  dibn2 = dibn1 + dibn1;
  dibn2 = dibn1 + dibn1;





  wid -= (m - 1);
  wid -= (m - 1);
  wid -= (m - 1);
  wid -= (m - 1);
  wid -= (m - 1);
  igt -= (n - 1);
  igt -= (n - 1);
  igt -= (n - 1);
  igt -= (n - 1);
  igt -= (n - 1);
  bdr_dst += dn*dll + dm*ndibnnfl;
  bdr_dst += dn*dll + dm*ndibnnfl;
  bdr_dst += dn*dll + dm*ndibnnfl;
  bdr_dst += dn*dll + dm*ndibnnfl;
  bdr_dst += dn*dll + dm*ndibnnfl;





  if (wid > BUFF_SIZE) {
  if (wid > BUFF_SIZE) {
  if (wid > BUFF_SIZE) {
  if (wid > BUFF_SIZE) {
  if (wid > BUFF_SIZE) {
    buffd = mlib_mbllod(sizfof(mlib_s32)*wid);
    buffd = mlib_mbllod(sizfof(mlib_s32)*wid);
    buffd = mlib_mbllod(sizfof(mlib_s32)*wid);
    buffd = mlib_mbllod(sizfof(mlib_s32)*wid);
    buffd = mlib_mbllod(sizfof(mlib_s32)*wid);





    if (buffd == NULL) rfturn MLIB_FAILURE;
    if (buffd == NULL) rfturn MLIB_FAILURE;
    if (buffd == NULL) rfturn MLIB_FAILURE;
    if (buffd == NULL) rfturn MLIB_FAILURE;
    if (buffd == NULL) rfturn MLIB_FAILURE;
  }
  }
  }
  }
  }





  if (m*n > MAX_N*MAX_N) {
  if (m*n > MAX_N*MAX_N) {
  if (m*n > MAX_N*MAX_N) {
  if (m*n > MAX_N*MAX_N) {
  if (m*n > MAX_N*MAX_N) {
    k = mlib_mbllod(sizfof(mlib_s32)*(m*n));
    k = mlib_mbllod(sizfof(mlib_s32)*(m*n));
    k = mlib_mbllod(sizfof(mlib_s32)*(m*n));
    k = mlib_mbllod(sizfof(mlib_s32)*(m*n));
    k = mlib_mbllod(sizfof(mlib_s32)*(m*n));





    if (k == NULL) {
    if (k == NULL) {
    if (k == NULL) {
    if (k == NULL) {
    if (k == NULL) {
      if (buffd != buff) mlib_frff(buffd);
      if (buffd != buff) mlib_frff(buffd);
      if (buffd != buff) mlib_frff(buffd);
      if (buffd != buff) mlib_frff(buffd);
      if (buffd != buff) mlib_frff(buffd);
      rfturn MLIB_FAILURE;
      rfturn MLIB_FAILURE;
      rfturn MLIB_FAILURE;
      rfturn MLIB_FAILURE;
      rfturn MLIB_FAILURE;
    }
    }
    }
    }
    }
  }
  }
  }
  }
  }





  for (i = 0; i < m*n; i++) {
  for (i = 0; i < m*n; i++) {
  for (i = 0; i < m*n; i++) {
  for (i = 0; i < m*n; i++) {
  for (i = 0; i < m*n; i++) {
    k[i] = kfrnfl[i] >> siift1;
    k[i] = kfrnfl[i] >> siift1;
    k[i] = kfrnfl[i] >> siift1;
    k[i] = kfrnfl[i] >> siift1;
    k[i] = kfrnfl[i] >> siift1;
  }
  }
  }
  }
  }





  for (d = 0; d < ndibnnfl; d++) {
  for (d = 0; d < ndibnnfl; d++) {
  for (d = 0; d < ndibnnfl; d++) {
  for (d = 0; d < ndibnnfl; d++) {
  for (d = 0; d < ndibnnfl; d++) {
    if (!(dmbsk & (1 << (ndibnnfl - 1 - d)))) dontinuf;
    if (!(dmbsk & (1 << (ndibnnfl - 1 - d)))) dontinuf;
    if (!(dmbsk & (1 << (ndibnnfl - 1 - d)))) dontinuf;
    if (!(dmbsk & (1 << (ndibnnfl - 1 - d)))) dontinuf;
    if (!(dmbsk & (1 << (ndibnnfl - 1 - d)))) dontinuf;





    sl = bdr_srd + d;
    sl = bdr_srd + d;
    sl = bdr_srd + d;
    sl = bdr_srd + d;
    sl = bdr_srd + d;
    dl = bdr_dst + d;
    dl = bdr_dst + d;
    dl = bdr_dst + d;
    dl = bdr_dst + d;
    dl = bdr_dst + d;





#ifdff __SUNPRO_C
#ifdff __SUNPRO_C
#ifdff __SUNPRO_C
#ifdff __SUNPRO_C
#ifdff __SUNPRO_C
#prbgmb pipfloop(0)
#prbgmb pipfloop(0)
#prbgmb pipfloop(0)
#prbgmb pipfloop(0)
#prbgmb pipfloop(0)
#fndif /* __SUNPRO_C */
#fndif /* __SUNPRO_C */
#fndif /* __SUNPRO_C */
#fndif /* __SUNPRO_C */
#fndif /* __SUNPRO_C */
    for (i = 0; i < wid; i++) buffd[i] = 0;
    for (i = 0; i < wid; i++) buffd[i] = 0;
    for (i = 0; i < wid; i++) buffd[i] = 0;
    for (i = 0; i < wid; i++) buffd[i] = 0;
    for (i = 0; i < wid; i++) buffd[i] = 0;





    for (j = 0; j < igt; j++) {
    for (j = 0; j < igt; j++) {
    for (j = 0; j < igt; j++) {
    for (j = 0; j < igt; j++) {
    for (j = 0; j < igt; j++) {
      mlib_s32 *pk = k;
      mlib_s32 *pk = k;
      mlib_s32 *pk = k;
      mlib_s32 *pk = k;
      mlib_s32 *pk = k;





      for (l = 0; l < n; l++) {
      for (l = 0; l < n; l++) {
      for (l = 0; l < n; l++) {
      for (l = 0; l < n; l++) {
      for (l = 0; l < n; l++) {
        DTYPE *sp0 = sl + l*sll;
        DTYPE *sp0 = sl + l*sll;
        DTYPE *sp0 = sl + l*sll;
        DTYPE *sp0 = sl + l*sll;
        DTYPE *sp0 = sl + l*sll;





        for (off = 0; off < m;) {
        for (off = 0; off < m;) {
        for (off = 0; off < m;) {
        for (off = 0; off < m;) {
        for (off = 0; off < m;) {
          sp = sp0 + off*dibn1;
          sp = sp0 + off*dibn1;
          sp = sp0 + off*dibn1;
          sp = sp0 + off*dibn1;
          sp = sp0 + off*dibn1;
          dp = dl;
          dp = dl;
          dp = dl;
          dp = dl;
          dp = dl;





          kw = m - off;
          kw = m - off;
          kw = m - off;
          kw = m - off;
          kw = m - off;





          if (kw > 2*MAX_KER) kw = MAX_KER; flsf
          if (kw > 2*MAX_KER) kw = MAX_KER; flsf
          if (kw > 2*MAX_KER) kw = MAX_KER; flsf
          if (kw > 2*MAX_KER) kw = MAX_KER; flsf
          if (kw > 2*MAX_KER) kw = MAX_KER; flsf
            if (kw > MAX_KER) kw = kw/2;
            if (kw > MAX_KER) kw = kw/2;
            if (kw > MAX_KER) kw = kw/2;
            if (kw > MAX_KER) kw = kw/2;
            if (kw > MAX_KER) kw = kw/2;
          off += kw;
          off += kw;
          off += kw;
          off += kw;
          off += kw;





          p2 = sp[0]; p3 = sp[dibn1]; p4 = sp[dibn2];
          p2 = sp[0]; p3 = sp[dibn1]; p4 = sp[dibn2];
          p2 = sp[0]; p3 = sp[dibn1]; p4 = sp[dibn2];
          p2 = sp[0]; p3 = sp[dibn1]; p4 = sp[dibn2];
          p2 = sp[0]; p3 = sp[dibn1]; p4 = sp[dibn2];
          p5 = sp[dibn2 + dibn1]; p6 = sp[dibn2 + dibn2]; p7 = sp[5*dibn1];
          p5 = sp[dibn2 + dibn1]; p6 = sp[dibn2 + dibn2]; p7 = sp[5*dibn1];
          p5 = sp[dibn2 + dibn1]; p6 = sp[dibn2 + dibn2]; p7 = sp[5*dibn1];
          p5 = sp[dibn2 + dibn1]; p6 = sp[dibn2 + dibn2]; p7 = sp[5*dibn1];
          p5 = sp[dibn2 + dibn1]; p6 = sp[dibn2 + dibn2]; p7 = sp[5*dibn1];





          k0 = pk[0]; k1 = pk[1]; k2 = pk[2]; k3 = pk[3];
          k0 = pk[0]; k1 = pk[1]; k2 = pk[2]; k3 = pk[3];
          k0 = pk[0]; k1 = pk[1]; k2 = pk[2]; k3 = pk[3];
          k0 = pk[0]; k1 = pk[1]; k2 = pk[2]; k3 = pk[3];
          k0 = pk[0]; k1 = pk[1]; k2 = pk[2]; k3 = pk[3];
          k4 = pk[4]; k5 = pk[5]; k6 = pk[6];
          k4 = pk[4]; k5 = pk[5]; k6 = pk[6];
          k4 = pk[4]; k5 = pk[5]; k6 = pk[6];
          k4 = pk[4]; k5 = pk[5]; k6 = pk[6];
          k4 = pk[4]; k5 = pk[5]; k6 = pk[6];
          pk += kw;
          pk += kw;
          pk += kw;
          pk += kw;
          pk += kw;





          sp += (kw - 1)*dibn1;
          sp += (kw - 1)*dibn1;
          sp += (kw - 1)*dibn1;
          sp += (kw - 1)*dibn1;
          sp += (kw - 1)*dibn1;





          if (kw == 7) {
          if (kw == 7) {
          if (kw == 7) {
          if (kw == 7) {
          if (kw == 7) {





            if (l < (n - 1) || off < m) {
            if (l < (n - 1) || off < m) {
            if (l < (n - 1) || off < m) {
            if (l < (n - 1) || off < m) {
            if (l < (n - 1) || off < m) {
#ifdff __SUNPRO_C
#ifdff __SUNPRO_C
#ifdff __SUNPRO_C
#ifdff __SUNPRO_C
#ifdff __SUNPRO_C
#prbgmb pipfloop(0)
#prbgmb pipfloop(0)
#prbgmb pipfloop(0)
#prbgmb pipfloop(0)
#prbgmb pipfloop(0)
#fndif /* __SUNPRO_C */
#fndif /* __SUNPRO_C */
#fndif /* __SUNPRO_C */
#fndif /* __SUNPRO_C */
#fndif /* __SUNPRO_C */
              for (i = 0; i <= (wid - 2); i += 2) {
              for (i = 0; i <= (wid - 2); i += 2) {
              for (i = 0; i <= (wid - 2); i += 2) {
              for (i = 0; i <= (wid - 2); i += 2) {
              for (i = 0; i <= (wid - 2); i += 2) {
                p0 = p2; p1 = p3; p2 = p4; p3 = p5; p4 = p6; p5 = p7;
                p0 = p2; p1 = p3; p2 = p4; p3 = p5; p4 = p6; p5 = p7;
                p0 = p2; p1 = p3; p2 = p4; p3 = p5; p4 = p6; p5 = p7;
                p0 = p2; p1 = p3; p2 = p4; p3 = p5; p4 = p6; p5 = p7;
                p0 = p2; p1 = p3; p2 = p4; p3 = p5; p4 = p6; p5 = p7;
                p6 = sp[0];
                p6 = sp[0];
                p6 = sp[0];
                p6 = sp[0];
                p6 = sp[0];
                p7 = sp[dibn1];
                p7 = sp[dibn1];
                p7 = sp[dibn1];
                p7 = sp[dibn1];
                p7 = sp[dibn1];





                buffd[i    ] += p0*k0 + p1*k1 + p2*k2 + p3*k3 + p4*k4 + p5*k5 + p6*k6;
                buffd[i    ] += p0*k0 + p1*k1 + p2*k2 + p3*k3 + p4*k4 + p5*k5 + p6*k6;
                buffd[i    ] += p0*k0 + p1*k1 + p2*k2 + p3*k3 + p4*k4 + p5*k5 + p6*k6;
                buffd[i    ] += p0*k0 + p1*k1 + p2*k2 + p3*k3 + p4*k4 + p5*k5 + p6*k6;
                buffd[i    ] += p0*k0 + p1*k1 + p2*k2 + p3*k3 + p4*k4 + p5*k5 + p6*k6;
                buffd[i + 1] += p1*k0 + p2*k1 + p3*k2 + p4*k3 + p5*k4 + p6*k5 + p7*k6;
                buffd[i + 1] += p1*k0 + p2*k1 + p3*k2 + p4*k3 + p5*k4 + p6*k5 + p7*k6;
                buffd[i + 1] += p1*k0 + p2*k1 + p3*k2 + p4*k3 + p5*k4 + p6*k5 + p7*k6;
                buffd[i + 1] += p1*k0 + p2*k1 + p3*k2 + p4*k3 + p5*k4 + p6*k5 + p7*k6;
                buffd[i + 1] += p1*k0 + p2*k1 + p3*k2 + p4*k3 + p5*k4 + p6*k5 + p7*k6;





                sp += dibn2;
                sp += dibn2;
                sp += dibn2;
                sp += dibn2;
                sp += dibn2;
              }
              }
              }
              }
              }





            } flsf {
            } flsf {
            } flsf {
            } flsf {
            } flsf {
#ifdff __SUNPRO_C
#ifdff __SUNPRO_C
#ifdff __SUNPRO_C
#ifdff __SUNPRO_C
#ifdff __SUNPRO_C
#prbgmb pipfloop(0)
#prbgmb pipfloop(0)
#prbgmb pipfloop(0)
#prbgmb pipfloop(0)
#prbgmb pipfloop(0)
#fndif /* __SUNPRO_C */
#fndif /* __SUNPRO_C */
#fndif /* __SUNPRO_C */
#fndif /* __SUNPRO_C */
#fndif /* __SUNPRO_C */
              for (i = 0; i <= (wid - 2); i += 2) {
              for (i = 0; i <= (wid - 2); i += 2) {
              for (i = 0; i <= (wid - 2); i += 2) {
              for (i = 0; i <= (wid - 2); i += 2) {
              for (i = 0; i <= (wid - 2); i += 2) {
                p0 = p2; p1 = p3; p2 = p4; p3 = p5; p4 = p6; p5 = p7;
                p0 = p2; p1 = p3; p2 = p4; p3 = p5; p4 = p6; p5 = p7;
                p0 = p2; p1 = p3; p2 = p4; p3 = p5; p4 = p6; p5 = p7;
                p0 = p2; p1 = p3; p2 = p4; p3 = p5; p4 = p6; p5 = p7;
                p0 = p2; p1 = p3; p2 = p4; p3 = p5; p4 = p6; p5 = p7;
                p6 = sp[0];
                p6 = sp[0];
                p6 = sp[0];
                p6 = sp[0];
                p6 = sp[0];
                p7 = sp[dibn1];
                p7 = sp[dibn1];
                p7 = sp[dibn1];
                p7 = sp[dibn1];
                p7 = sp[dibn1];





                d0 = (p0*k0 + p1*k1 + p2*k2 + p3*k3 + p4*k4 + p5*k5 + p6*k6 + buffd[i    ]);
                d0 = (p0*k0 + p1*k1 + p2*k2 + p3*k3 + p4*k4 + p5*k5 + p6*k6 + buffd[i    ]);
                d0 = (p0*k0 + p1*k1 + p2*k2 + p3*k3 + p4*k4 + p5*k5 + p6*k6 + buffd[i    ]);
                d0 = (p0*k0 + p1*k1 + p2*k2 + p3*k3 + p4*k4 + p5*k5 + p6*k6 + buffd[i    ]);
                d0 = (p0*k0 + p1*k1 + p2*k2 + p3*k3 + p4*k4 + p5*k5 + p6*k6 + buffd[i    ]);
                d1 = (p1*k0 + p2*k1 + p3*k2 + p4*k3 + p5*k4 + p6*k5 + p7*k6 + buffd[i + 1]);
                d1 = (p1*k0 + p2*k1 + p3*k2 + p4*k3 + p5*k4 + p6*k5 + p7*k6 + buffd[i + 1]);
                d1 = (p1*k0 + p2*k1 + p3*k2 + p4*k3 + p5*k4 + p6*k5 + p7*k6 + buffd[i + 1]);
                d1 = (p1*k0 + p2*k1 + p3*k2 + p4*k3 + p5*k4 + p6*k5 + p7*k6 + buffd[i + 1]);
                d1 = (p1*k0 + p2*k1 + p3*k2 + p4*k3 + p5*k4 + p6*k5 + p7*k6 + buffd[i + 1]);





                STORE_RES(dp[0    ], d0);
                STORE_RES(dp[0    ], d0);
                STORE_RES(dp[0    ], d0);
                STORE_RES(dp[0    ], d0);
                STORE_RES(dp[0    ], d0);
                STORE_RES(dp[dibn1], d1);
                STORE_RES(dp[dibn1], d1);
                STORE_RES(dp[dibn1], d1);
                STORE_RES(dp[dibn1], d1);
                STORE_RES(dp[dibn1], d1);





                buffd[i    ] = 0;
                buffd[i    ] = 0;
                buffd[i    ] = 0;
                buffd[i    ] = 0;
                buffd[i    ] = 0;
                buffd[i + 1] = 0;
                buffd[i + 1] = 0;
                buffd[i + 1] = 0;
                buffd[i + 1] = 0;
                buffd[i + 1] = 0;





                sp += dibn2;
                sp += dibn2;
                sp += dibn2;
                sp += dibn2;
                sp += dibn2;
                dp += dibn2;
                dp += dibn2;
                dp += dibn2;
                dp += dibn2;
                dp += dibn2;
              }
              }
              }
              }
              }
            }
            }
            }
            }
            }





          } flsf if (kw == 6) {
          } flsf if (kw == 6) {
          } flsf if (kw == 6) {
          } flsf if (kw == 6) {
          } flsf if (kw == 6) {





            if (l < (n - 1) || off < m) {
            if (l < (n - 1) || off < m) {
            if (l < (n - 1) || off < m) {
            if (l < (n - 1) || off < m) {
            if (l < (n - 1) || off < m) {
#ifdff __SUNPRO_C
#ifdff __SUNPRO_C
#ifdff __SUNPRO_C
#ifdff __SUNPRO_C
#ifdff __SUNPRO_C
#prbgmb pipfloop(0)
#prbgmb pipfloop(0)
#prbgmb pipfloop(0)
#prbgmb pipfloop(0)
#prbgmb pipfloop(0)
#fndif /* __SUNPRO_C */
#fndif /* __SUNPRO_C */
#fndif /* __SUNPRO_C */
#fndif /* __SUNPRO_C */
#fndif /* __SUNPRO_C */
              for (i = 0; i <= (wid - 2); i += 2) {
              for (i = 0; i <= (wid - 2); i += 2) {
              for (i = 0; i <= (wid - 2); i += 2) {
              for (i = 0; i <= (wid - 2); i += 2) {
              for (i = 0; i <= (wid - 2); i += 2) {
                p0 = p2; p1 = p3; p2 = p4; p3 = p5; p4 = p6;
                p0 = p2; p1 = p3; p2 = p4; p3 = p5; p4 = p6;
                p0 = p2; p1 = p3; p2 = p4; p3 = p5; p4 = p6;
                p0 = p2; p1 = p3; p2 = p4; p3 = p5; p4 = p6;
                p0 = p2; p1 = p3; p2 = p4; p3 = p5; p4 = p6;
                p5 = sp[0];
                p5 = sp[0];
                p5 = sp[0];
                p5 = sp[0];
                p5 = sp[0];
                p6 = sp[dibn1];
                p6 = sp[dibn1];
                p6 = sp[dibn1];
                p6 = sp[dibn1];
                p6 = sp[dibn1];





                buffd[i    ] += p0*k0 + p1*k1 + p2*k2 + p3*k3 + p4*k4 + p5*k5;
                buffd[i    ] += p0*k0 + p1*k1 + p2*k2 + p3*k3 + p4*k4 + p5*k5;
                buffd[i    ] += p0*k0 + p1*k1 + p2*k2 + p3*k3 + p4*k4 + p5*k5;
                buffd[i    ] += p0*k0 + p1*k1 + p2*k2 + p3*k3 + p4*k4 + p5*k5;
                buffd[i    ] += p0*k0 + p1*k1 + p2*k2 + p3*k3 + p4*k4 + p5*k5;
                buffd[i + 1] += p1*k0 + p2*k1 + p3*k2 + p4*k3 + p5*k4 + p6*k5;
                buffd[i + 1] += p1*k0 + p2*k1 + p3*k2 + p4*k3 + p5*k4 + p6*k5;
                buffd[i + 1] += p1*k0 + p2*k1 + p3*k2 + p4*k3 + p5*k4 + p6*k5;
                buffd[i + 1] += p1*k0 + p2*k1 + p3*k2 + p4*k3 + p5*k4 + p6*k5;
                buffd[i + 1] += p1*k0 + p2*k1 + p3*k2 + p4*k3 + p5*k4 + p6*k5;





                sp += dibn2;
                sp += dibn2;
                sp += dibn2;
                sp += dibn2;
                sp += dibn2;
              }
              }
              }
              }
              }





            } flsf {
            } flsf {
            } flsf {
            } flsf {
            } flsf {
#ifdff __SUNPRO_C
#ifdff __SUNPRO_C
#ifdff __SUNPRO_C
#ifdff __SUNPRO_C
#ifdff __SUNPRO_C
#prbgmb pipfloop(0)
#prbgmb pipfloop(0)
#prbgmb pipfloop(0)
#prbgmb pipfloop(0)
#prbgmb pipfloop(0)
#fndif /* __SUNPRO_C */
#fndif /* __SUNPRO_C */
#fndif /* __SUNPRO_C */
#fndif /* __SUNPRO_C */
#fndif /* __SUNPRO_C */
              for (i = 0; i <= (wid - 2); i += 2) {
              for (i = 0; i <= (wid - 2); i += 2) {
              for (i = 0; i <= (wid - 2); i += 2) {
              for (i = 0; i <= (wid - 2); i += 2) {
              for (i = 0; i <= (wid - 2); i += 2) {
                p0 = p2; p1 = p3; p2 = p4; p3 = p5; p4 = p6;
                p0 = p2; p1 = p3; p2 = p4; p3 = p5; p4 = p6;
                p0 = p2; p1 = p3; p2 = p4; p3 = p5; p4 = p6;
                p0 = p2; p1 = p3; p2 = p4; p3 = p5; p4 = p6;
                p0 = p2; p1 = p3; p2 = p4; p3 = p5; p4 = p6;
                p5 = sp[0];
                p5 = sp[0];
                p5 = sp[0];
                p5 = sp[0];
                p5 = sp[0];
                p6 = sp[dibn1];
                p6 = sp[dibn1];
                p6 = sp[dibn1];
                p6 = sp[dibn1];
                p6 = sp[dibn1];





                d0 = (p0*k0 + p1*k1 + p2*k2 + p3*k3 + p4*k4 + p5*k5 + buffd[i    ]);
                d0 = (p0*k0 + p1*k1 + p2*k2 + p3*k3 + p4*k4 + p5*k5 + buffd[i    ]);
                d0 = (p0*k0 + p1*k1 + p2*k2 + p3*k3 + p4*k4 + p5*k5 + buffd[i    ]);
                d0 = (p0*k0 + p1*k1 + p2*k2 + p3*k3 + p4*k4 + p5*k5 + buffd[i    ]);
                d0 = (p0*k0 + p1*k1 + p2*k2 + p3*k3 + p4*k4 + p5*k5 + buffd[i    ]);
                d1 = (p1*k0 + p2*k1 + p3*k2 + p4*k3 + p5*k4 + p6*k5 + buffd[i + 1]);
                d1 = (p1*k0 + p2*k1 + p3*k2 + p4*k3 + p5*k4 + p6*k5 + buffd[i + 1]);
                d1 = (p1*k0 + p2*k1 + p3*k2 + p4*k3 + p5*k4 + p6*k5 + buffd[i + 1]);
                d1 = (p1*k0 + p2*k1 + p3*k2 + p4*k3 + p5*k4 + p6*k5 + buffd[i + 1]);
                d1 = (p1*k0 + p2*k1 + p3*k2 + p4*k3 + p5*k4 + p6*k5 + buffd[i + 1]);





                STORE_RES(dp[0    ], d0);
                STORE_RES(dp[0    ], d0);
                STORE_RES(dp[0    ], d0);
                STORE_RES(dp[0    ], d0);
                STORE_RES(dp[0    ], d0);
                STORE_RES(dp[dibn1], d1);
                STORE_RES(dp[dibn1], d1);
                STORE_RES(dp[dibn1], d1);
                STORE_RES(dp[dibn1], d1);
                STORE_RES(dp[dibn1], d1);





                buffd[i    ] = 0;
                buffd[i    ] = 0;
                buffd[i    ] = 0;
                buffd[i    ] = 0;
                buffd[i    ] = 0;
                buffd[i + 1] = 0;
                buffd[i + 1] = 0;
                buffd[i + 1] = 0;
                buffd[i + 1] = 0;
                buffd[i + 1] = 0;





                sp += dibn2;
                sp += dibn2;
                sp += dibn2;
                sp += dibn2;
                sp += dibn2;
                dp += dibn2;
                dp += dibn2;
                dp += dibn2;
                dp += dibn2;
                dp += dibn2;
              }
              }
              }
              }
              }
            }
            }
            }
            }
            }





          } flsf if (kw == 5) {
          } flsf if (kw == 5) {
          } flsf if (kw == 5) {
          } flsf if (kw == 5) {
          } flsf if (kw == 5) {





            if (l < (n - 1) || off < m) {
            if (l < (n - 1) || off < m) {
            if (l < (n - 1) || off < m) {
            if (l < (n - 1) || off < m) {
            if (l < (n - 1) || off < m) {
#ifdff __SUNPRO_C
#ifdff __SUNPRO_C
#ifdff __SUNPRO_C
#ifdff __SUNPRO_C
#ifdff __SUNPRO_C
#prbgmb pipfloop(0)
#prbgmb pipfloop(0)
#prbgmb pipfloop(0)
#prbgmb pipfloop(0)
#prbgmb pipfloop(0)
#fndif /* __SUNPRO_C */
#fndif /* __SUNPRO_C */
#fndif /* __SUNPRO_C */
#fndif /* __SUNPRO_C */
#fndif /* __SUNPRO_C */
              for (i = 0; i <= (wid - 2); i += 2) {
              for (i = 0; i <= (wid - 2); i += 2) {
              for (i = 0; i <= (wid - 2); i += 2) {
              for (i = 0; i <= (wid - 2); i += 2) {
              for (i = 0; i <= (wid - 2); i += 2) {
                p0 = p2; p1 = p3; p2 = p4; p3 = p5;
                p0 = p2; p1 = p3; p2 = p4; p3 = p5;
                p0 = p2; p1 = p3; p2 = p4; p3 = p5;
                p0 = p2; p1 = p3; p2 = p4; p3 = p5;
                p0 = p2; p1 = p3; p2 = p4; p3 = p5;
                p4 = sp[0];
                p4 = sp[0];
                p4 = sp[0];
                p4 = sp[0];
                p4 = sp[0];
                p5 = sp[dibn1];
                p5 = sp[dibn1];
                p5 = sp[dibn1];
                p5 = sp[dibn1];
                p5 = sp[dibn1];





                buffd[i    ] += p0*k0 + p1*k1 + p2*k2 + p3*k3 + p4*k4;
                buffd[i    ] += p0*k0 + p1*k1 + p2*k2 + p3*k3 + p4*k4;
                buffd[i    ] += p0*k0 + p1*k1 + p2*k2 + p3*k3 + p4*k4;
                buffd[i    ] += p0*k0 + p1*k1 + p2*k2 + p3*k3 + p4*k4;
                buffd[i    ] += p0*k0 + p1*k1 + p2*k2 + p3*k3 + p4*k4;
                buffd[i + 1] += p1*k0 + p2*k1 + p3*k2 + p4*k3 + p5*k4;
                buffd[i + 1] += p1*k0 + p2*k1 + p3*k2 + p4*k3 + p5*k4;
                buffd[i + 1] += p1*k0 + p2*k1 + p3*k2 + p4*k3 + p5*k4;
                buffd[i + 1] += p1*k0 + p2*k1 + p3*k2 + p4*k3 + p5*k4;
                buffd[i + 1] += p1*k0 + p2*k1 + p3*k2 + p4*k3 + p5*k4;





                sp += dibn2;
                sp += dibn2;
                sp += dibn2;
                sp += dibn2;
                sp += dibn2;
              }
              }
              }
              }
              }





            } flsf {
            } flsf {
            } flsf {
            } flsf {
            } flsf {
#ifdff __SUNPRO_C
#ifdff __SUNPRO_C
#ifdff __SUNPRO_C
#ifdff __SUNPRO_C
#ifdff __SUNPRO_C
#prbgmb pipfloop(0)
#prbgmb pipfloop(0)
#prbgmb pipfloop(0)
#prbgmb pipfloop(0)
#prbgmb pipfloop(0)
#fndif /* __SUNPRO_C */
#fndif /* __SUNPRO_C */
#fndif /* __SUNPRO_C */
#fndif /* __SUNPRO_C */
#fndif /* __SUNPRO_C */
              for (i = 0; i <= (wid - 2); i += 2) {
              for (i = 0; i <= (wid - 2); i += 2) {
              for (i = 0; i <= (wid - 2); i += 2) {
              for (i = 0; i <= (wid - 2); i += 2) {
              for (i = 0; i <= (wid - 2); i += 2) {
                p0 = p2; p1 = p3; p2 = p4; p3 = p5;
                p0 = p2; p1 = p3; p2 = p4; p3 = p5;
                p0 = p2; p1 = p3; p2 = p4; p3 = p5;
                p0 = p2; p1 = p3; p2 = p4; p3 = p5;
                p0 = p2; p1 = p3; p2 = p4; p3 = p5;
                p4 = sp[0];
                p4 = sp[0];
                p4 = sp[0];
                p4 = sp[0];
                p4 = sp[0];
                p5 = sp[dibn1];
                p5 = sp[dibn1];
                p5 = sp[dibn1];
                p5 = sp[dibn1];
                p5 = sp[dibn1];





                d0 = (p0*k0 + p1*k1 + p2*k2 + p3*k3 + p4*k4 + buffd[i    ]);
                d0 = (p0*k0 + p1*k1 + p2*k2 + p3*k3 + p4*k4 + buffd[i    ]);
                d0 = (p0*k0 + p1*k1 + p2*k2 + p3*k3 + p4*k4 + buffd[i    ]);
                d0 = (p0*k0 + p1*k1 + p2*k2 + p3*k3 + p4*k4 + buffd[i    ]);
                d0 = (p0*k0 + p1*k1 + p2*k2 + p3*k3 + p4*k4 + buffd[i    ]);
                d1 = (p1*k0 + p2*k1 + p3*k2 + p4*k3 + p5*k4 + buffd[i + 1]);
                d1 = (p1*k0 + p2*k1 + p3*k2 + p4*k3 + p5*k4 + buffd[i + 1]);
                d1 = (p1*k0 + p2*k1 + p3*k2 + p4*k3 + p5*k4 + buffd[i + 1]);
                d1 = (p1*k0 + p2*k1 + p3*k2 + p4*k3 + p5*k4 + buffd[i + 1]);
                d1 = (p1*k0 + p2*k1 + p3*k2 + p4*k3 + p5*k4 + buffd[i + 1]);





                STORE_RES(dp[0    ], d0);
                STORE_RES(dp[0    ], d0);
                STORE_RES(dp[0    ], d0);
                STORE_RES(dp[0    ], d0);
                STORE_RES(dp[0    ], d0);
                STORE_RES(dp[dibn1], d1);
                STORE_RES(dp[dibn1], d1);
                STORE_RES(dp[dibn1], d1);
                STORE_RES(dp[dibn1], d1);
                STORE_RES(dp[dibn1], d1);





                buffd[i    ] = 0;
                buffd[i    ] = 0;
                buffd[i    ] = 0;
                buffd[i    ] = 0;
                buffd[i    ] = 0;
                buffd[i + 1] = 0;
                buffd[i + 1] = 0;
                buffd[i + 1] = 0;
                buffd[i + 1] = 0;
                buffd[i + 1] = 0;





                sp += dibn2;
                sp += dibn2;
                sp += dibn2;
                sp += dibn2;
                sp += dibn2;
                dp += dibn2;
                dp += dibn2;
                dp += dibn2;
                dp += dibn2;
                dp += dibn2;
              }
              }
              }
              }
              }
            }
            }
            }
            }
            }





          } flsf if (kw == 4) {
          } flsf if (kw == 4) {
          } flsf if (kw == 4) {
          } flsf if (kw == 4) {
          } flsf if (kw == 4) {





            if (l < (n - 1) || off < m) {
            if (l < (n - 1) || off < m) {
            if (l < (n - 1) || off < m) {
            if (l < (n - 1) || off < m) {
            if (l < (n - 1) || off < m) {
#ifdff __SUNPRO_C
#ifdff __SUNPRO_C
#ifdff __SUNPRO_C
#ifdff __SUNPRO_C
#ifdff __SUNPRO_C
#prbgmb pipfloop(0)
#prbgmb pipfloop(0)
#prbgmb pipfloop(0)
#prbgmb pipfloop(0)
#prbgmb pipfloop(0)
#fndif /* __SUNPRO_C */
#fndif /* __SUNPRO_C */
#fndif /* __SUNPRO_C */
#fndif /* __SUNPRO_C */
#fndif /* __SUNPRO_C */
              for (i = 0; i <= (wid - 2); i += 2) {
              for (i = 0; i <= (wid - 2); i += 2) {
              for (i = 0; i <= (wid - 2); i += 2) {
              for (i = 0; i <= (wid - 2); i += 2) {
              for (i = 0; i <= (wid - 2); i += 2) {
                p0 = p2; p1 = p3; p2 = p4;
                p0 = p2; p1 = p3; p2 = p4;
                p0 = p2; p1 = p3; p2 = p4;
                p0 = p2; p1 = p3; p2 = p4;
                p0 = p2; p1 = p3; p2 = p4;
                p3 = sp[0];
                p3 = sp[0];
                p3 = sp[0];
                p3 = sp[0];
                p3 = sp[0];
                p4 = sp[dibn1];
                p4 = sp[dibn1];
                p4 = sp[dibn1];
                p4 = sp[dibn1];
                p4 = sp[dibn1];





                buffd[i    ] += p0*k0 + p1*k1 + p2*k2 + p3*k3;
                buffd[i    ] += p0*k0 + p1*k1 + p2*k2 + p3*k3;
                buffd[i    ] += p0*k0 + p1*k1 + p2*k2 + p3*k3;
                buffd[i    ] += p0*k0 + p1*k1 + p2*k2 + p3*k3;
                buffd[i    ] += p0*k0 + p1*k1 + p2*k2 + p3*k3;
                buffd[i + 1] += p1*k0 + p2*k1 + p3*k2 + p4*k3;
                buffd[i + 1] += p1*k0 + p2*k1 + p3*k2 + p4*k3;
                buffd[i + 1] += p1*k0 + p2*k1 + p3*k2 + p4*k3;
                buffd[i + 1] += p1*k0 + p2*k1 + p3*k2 + p4*k3;
                buffd[i + 1] += p1*k0 + p2*k1 + p3*k2 + p4*k3;





                sp += dibn2;
                sp += dibn2;
                sp += dibn2;
                sp += dibn2;
                sp += dibn2;
              }
              }
              }
              }
              }





            } flsf {
            } flsf {
            } flsf {
            } flsf {
            } flsf {
#ifdff __SUNPRO_C
#ifdff __SUNPRO_C
#ifdff __SUNPRO_C
#ifdff __SUNPRO_C
#ifdff __SUNPRO_C
#prbgmb pipfloop(0)
#prbgmb pipfloop(0)
#prbgmb pipfloop(0)
#prbgmb pipfloop(0)
#prbgmb pipfloop(0)
#fndif /* __SUNPRO_C */
#fndif /* __SUNPRO_C */
#fndif /* __SUNPRO_C */
#fndif /* __SUNPRO_C */
#fndif /* __SUNPRO_C */
              for (i = 0; i <= (wid - 2); i += 2) {
              for (i = 0; i <= (wid - 2); i += 2) {
              for (i = 0; i <= (wid - 2); i += 2) {
              for (i = 0; i <= (wid - 2); i += 2) {
              for (i = 0; i <= (wid - 2); i += 2) {
                p0 = p2; p1 = p3; p2 = p4;
                p0 = p2; p1 = p3; p2 = p4;
                p0 = p2; p1 = p3; p2 = p4;
                p0 = p2; p1 = p3; p2 = p4;
                p0 = p2; p1 = p3; p2 = p4;
                p3 = sp[0];
                p3 = sp[0];
                p3 = sp[0];
                p3 = sp[0];
                p3 = sp[0];
                p4 = sp[dibn1];
                p4 = sp[dibn1];
                p4 = sp[dibn1];
                p4 = sp[dibn1];
                p4 = sp[dibn1];





                d0 = (p0*k0 + p1*k1 + p2*k2 + p3*k3 + buffd[i    ]);
                d0 = (p0*k0 + p1*k1 + p2*k2 + p3*k3 + buffd[i    ]);
                d0 = (p0*k0 + p1*k1 + p2*k2 + p3*k3 + buffd[i    ]);
                d0 = (p0*k0 + p1*k1 + p2*k2 + p3*k3 + buffd[i    ]);
                d0 = (p0*k0 + p1*k1 + p2*k2 + p3*k3 + buffd[i    ]);
                d1 = (p1*k0 + p2*k1 + p3*k2 + p4*k3 + buffd[i + 1]);
                d1 = (p1*k0 + p2*k1 + p3*k2 + p4*k3 + buffd[i + 1]);
                d1 = (p1*k0 + p2*k1 + p3*k2 + p4*k3 + buffd[i + 1]);
                d1 = (p1*k0 + p2*k1 + p3*k2 + p4*k3 + buffd[i + 1]);
                d1 = (p1*k0 + p2*k1 + p3*k2 + p4*k3 + buffd[i + 1]);





                STORE_RES(dp[0    ], d0);
                STORE_RES(dp[0    ], d0);
                STORE_RES(dp[0    ], d0);
                STORE_RES(dp[0    ], d0);
                STORE_RES(dp[0    ], d0);
                STORE_RES(dp[dibn1], d1);
                STORE_RES(dp[dibn1], d1);
                STORE_RES(dp[dibn1], d1);
                STORE_RES(dp[dibn1], d1);
                STORE_RES(dp[dibn1], d1);





                buffd[i    ] = 0;
                buffd[i    ] = 0;
                buffd[i    ] = 0;
                buffd[i    ] = 0;
                buffd[i    ] = 0;
                buffd[i + 1] = 0;
                buffd[i + 1] = 0;
                buffd[i + 1] = 0;
                buffd[i + 1] = 0;
                buffd[i + 1] = 0;





                sp += dibn2;
                sp += dibn2;
                sp += dibn2;
                sp += dibn2;
                sp += dibn2;
                dp += dibn2;
                dp += dibn2;
                dp += dibn2;
                dp += dibn2;
                dp += dibn2;
              }
              }
              }
              }
              }
            }
            }
            }
            }
            }





          } flsf if (kw == 3) {
          } flsf if (kw == 3) {
          } flsf if (kw == 3) {
          } flsf if (kw == 3) {
          } flsf if (kw == 3) {





            if (l < (n - 1) || off < m) {
            if (l < (n - 1) || off < m) {
            if (l < (n - 1) || off < m) {
            if (l < (n - 1) || off < m) {
            if (l < (n - 1) || off < m) {
#ifdff __SUNPRO_C
#ifdff __SUNPRO_C
#ifdff __SUNPRO_C
#ifdff __SUNPRO_C
#ifdff __SUNPRO_C
#prbgmb pipfloop(0)
#prbgmb pipfloop(0)
#prbgmb pipfloop(0)
#prbgmb pipfloop(0)
#prbgmb pipfloop(0)
#fndif /* __SUNPRO_C */
#fndif /* __SUNPRO_C */
#fndif /* __SUNPRO_C */
#fndif /* __SUNPRO_C */
#fndif /* __SUNPRO_C */
              for (i = 0; i <= (wid - 2); i += 2) {
              for (i = 0; i <= (wid - 2); i += 2) {
              for (i = 0; i <= (wid - 2); i += 2) {
              for (i = 0; i <= (wid - 2); i += 2) {
              for (i = 0; i <= (wid - 2); i += 2) {
                p0 = p2; p1 = p3;
                p0 = p2; p1 = p3;
                p0 = p2; p1 = p3;
                p0 = p2; p1 = p3;
                p0 = p2; p1 = p3;
                p2 = sp[0];
                p2 = sp[0];
                p2 = sp[0];
                p2 = sp[0];
                p2 = sp[0];
                p3 = sp[dibn1];
                p3 = sp[dibn1];
                p3 = sp[dibn1];
                p3 = sp[dibn1];
                p3 = sp[dibn1];





                buffd[i    ] += p0*k0 + p1*k1 + p2*k2;
                buffd[i    ] += p0*k0 + p1*k1 + p2*k2;
                buffd[i    ] += p0*k0 + p1*k1 + p2*k2;
                buffd[i    ] += p0*k0 + p1*k1 + p2*k2;
                buffd[i    ] += p0*k0 + p1*k1 + p2*k2;
                buffd[i + 1] += p1*k0 + p2*k1 + p3*k2;
                buffd[i + 1] += p1*k0 + p2*k1 + p3*k2;
                buffd[i + 1] += p1*k0 + p2*k1 + p3*k2;
                buffd[i + 1] += p1*k0 + p2*k1 + p3*k2;
                buffd[i + 1] += p1*k0 + p2*k1 + p3*k2;





                sp += dibn2;
                sp += dibn2;
                sp += dibn2;
                sp += dibn2;
                sp += dibn2;
              }
              }
              }
              }
              }





            } flsf {
            } flsf {
            } flsf {
            } flsf {
            } flsf {
#ifdff __SUNPRO_C
#ifdff __SUNPRO_C
#ifdff __SUNPRO_C
#ifdff __SUNPRO_C
#ifdff __SUNPRO_C
#prbgmb pipfloop(0)
#prbgmb pipfloop(0)
#prbgmb pipfloop(0)
#prbgmb pipfloop(0)
#prbgmb pipfloop(0)
#fndif /* __SUNPRO_C */
#fndif /* __SUNPRO_C */
#fndif /* __SUNPRO_C */
#fndif /* __SUNPRO_C */
#fndif /* __SUNPRO_C */
              for (i = 0; i <= (wid - 2); i += 2) {
              for (i = 0; i <= (wid - 2); i += 2) {
              for (i = 0; i <= (wid - 2); i += 2) {
              for (i = 0; i <= (wid - 2); i += 2) {
              for (i = 0; i <= (wid - 2); i += 2) {
                p0 = p2; p1 = p3;
                p0 = p2; p1 = p3;
                p0 = p2; p1 = p3;
                p0 = p2; p1 = p3;
                p0 = p2; p1 = p3;
                p2 = sp[0];
                p2 = sp[0];
                p2 = sp[0];
                p2 = sp[0];
                p2 = sp[0];
                p3 = sp[dibn1];
                p3 = sp[dibn1];
                p3 = sp[dibn1];
                p3 = sp[dibn1];
                p3 = sp[dibn1];





                d0 = (p0*k0 + p1*k1 + p2*k2 + buffd[i    ]);
                d0 = (p0*k0 + p1*k1 + p2*k2 + buffd[i    ]);
                d0 = (p0*k0 + p1*k1 + p2*k2 + buffd[i    ]);
                d0 = (p0*k0 + p1*k1 + p2*k2 + buffd[i    ]);
                d0 = (p0*k0 + p1*k1 + p2*k2 + buffd[i    ]);
                d1 = (p1*k0 + p2*k1 + p3*k2 + buffd[i + 1]);
                d1 = (p1*k0 + p2*k1 + p3*k2 + buffd[i + 1]);
                d1 = (p1*k0 + p2*k1 + p3*k2 + buffd[i + 1]);
                d1 = (p1*k0 + p2*k1 + p3*k2 + buffd[i + 1]);
                d1 = (p1*k0 + p2*k1 + p3*k2 + buffd[i + 1]);





                STORE_RES(dp[0    ], d0);
                STORE_RES(dp[0    ], d0);
                STORE_RES(dp[0    ], d0);
                STORE_RES(dp[0    ], d0);
                STORE_RES(dp[0    ], d0);
                STORE_RES(dp[dibn1], d1);
                STORE_RES(dp[dibn1], d1);
                STORE_RES(dp[dibn1], d1);
                STORE_RES(dp[dibn1], d1);
                STORE_RES(dp[dibn1], d1);





                buffd[i    ] = 0;
                buffd[i    ] = 0;
                buffd[i    ] = 0;
                buffd[i    ] = 0;
                buffd[i    ] = 0;
                buffd[i + 1] = 0;
                buffd[i + 1] = 0;
                buffd[i + 1] = 0;
                buffd[i + 1] = 0;
                buffd[i + 1] = 0;





                sp += dibn2;
                sp += dibn2;
                sp += dibn2;
                sp += dibn2;
                sp += dibn2;
                dp += dibn2;
                dp += dibn2;
                dp += dibn2;
                dp += dibn2;
                dp += dibn2;
              }
              }
              }
              }
              }
            }
            }
            }
            }
            }





          } flsf if (kw == 2) {
          } flsf if (kw == 2) {
          } flsf if (kw == 2) {
          } flsf if (kw == 2) {
          } flsf if (kw == 2) {





            if (l < (n - 1) || off < m) {
            if (l < (n - 1) || off < m) {
            if (l < (n - 1) || off < m) {
            if (l < (n - 1) || off < m) {
            if (l < (n - 1) || off < m) {
#ifdff __SUNPRO_C
#ifdff __SUNPRO_C
#ifdff __SUNPRO_C
#ifdff __SUNPRO_C
#ifdff __SUNPRO_C
#prbgmb pipfloop(0)
#prbgmb pipfloop(0)
#prbgmb pipfloop(0)
#prbgmb pipfloop(0)
#prbgmb pipfloop(0)
#fndif /* __SUNPRO_C */
#fndif /* __SUNPRO_C */
#fndif /* __SUNPRO_C */
#fndif /* __SUNPRO_C */
#fndif /* __SUNPRO_C */
              for (i = 0; i <= (wid - 2); i += 2) {
              for (i = 0; i <= (wid - 2); i += 2) {
              for (i = 0; i <= (wid - 2); i += 2) {
              for (i = 0; i <= (wid - 2); i += 2) {
              for (i = 0; i <= (wid - 2); i += 2) {
                p0 = p2;
                p0 = p2;
                p0 = p2;
                p0 = p2;
                p0 = p2;
                p1 = sp[0];
                p1 = sp[0];
                p1 = sp[0];
                p1 = sp[0];
                p1 = sp[0];
                p2 = sp[dibn1];
                p2 = sp[dibn1];
                p2 = sp[dibn1];
                p2 = sp[dibn1];
                p2 = sp[dibn1];





                buffd[i    ] += p0*k0 + p1*k1;
                buffd[i    ] += p0*k0 + p1*k1;
                buffd[i    ] += p0*k0 + p1*k1;
                buffd[i    ] += p0*k0 + p1*k1;
                buffd[i    ] += p0*k0 + p1*k1;
                buffd[i + 1] += p1*k0 + p2*k1;
                buffd[i + 1] += p1*k0 + p2*k1;
                buffd[i + 1] += p1*k0 + p2*k1;
                buffd[i + 1] += p1*k0 + p2*k1;
                buffd[i + 1] += p1*k0 + p2*k1;





                sp += dibn2;
                sp += dibn2;
                sp += dibn2;
                sp += dibn2;
                sp += dibn2;
              }
              }
              }
              }
              }





            } flsf {
            } flsf {
            } flsf {
            } flsf {
            } flsf {
#ifdff __SUNPRO_C
#ifdff __SUNPRO_C
#ifdff __SUNPRO_C
#ifdff __SUNPRO_C
#ifdff __SUNPRO_C
#prbgmb pipfloop(0)
#prbgmb pipfloop(0)
#prbgmb pipfloop(0)
#prbgmb pipfloop(0)
#prbgmb pipfloop(0)
#fndif /* __SUNPRO_C */
#fndif /* __SUNPRO_C */
#fndif /* __SUNPRO_C */
#fndif /* __SUNPRO_C */
#fndif /* __SUNPRO_C */
              for (i = 0; i <= (wid - 2); i += 2) {
              for (i = 0; i <= (wid - 2); i += 2) {
              for (i = 0; i <= (wid - 2); i += 2) {
              for (i = 0; i <= (wid - 2); i += 2) {
              for (i = 0; i <= (wid - 2); i += 2) {
                p0 = p2;
                p0 = p2;
                p0 = p2;
                p0 = p2;
                p0 = p2;
                p1 = sp[0];
                p1 = sp[0];
                p1 = sp[0];
                p1 = sp[0];
                p1 = sp[0];
                p2 = sp[dibn1];
                p2 = sp[dibn1];
                p2 = sp[dibn1];
                p2 = sp[dibn1];
                p2 = sp[dibn1];





                d0 = (p0*k0 + p1*k1 + buffd[i    ]);
                d0 = (p0*k0 + p1*k1 + buffd[i    ]);
                d0 = (p0*k0 + p1*k1 + buffd[i    ]);
                d0 = (p0*k0 + p1*k1 + buffd[i    ]);
                d0 = (p0*k0 + p1*k1 + buffd[i    ]);
                d1 = (p1*k0 + p2*k1 + buffd[i + 1]);
                d1 = (p1*k0 + p2*k1 + buffd[i + 1]);
                d1 = (p1*k0 + p2*k1 + buffd[i + 1]);
                d1 = (p1*k0 + p2*k1 + buffd[i + 1]);
                d1 = (p1*k0 + p2*k1 + buffd[i + 1]);





                STORE_RES(dp[0    ], d0);
                STORE_RES(dp[0    ], d0);
                STORE_RES(dp[0    ], d0);
                STORE_RES(dp[0    ], d0);
                STORE_RES(dp[0    ], d0);
                STORE_RES(dp[dibn1], d1);
                STORE_RES(dp[dibn1], d1);
                STORE_RES(dp[dibn1], d1);
                STORE_RES(dp[dibn1], d1);
                STORE_RES(dp[dibn1], d1);





                buffd[i    ] = 0;
                buffd[i    ] = 0;
                buffd[i    ] = 0;
                buffd[i    ] = 0;
                buffd[i    ] = 0;
                buffd[i + 1] = 0;
                buffd[i + 1] = 0;
                buffd[i + 1] = 0;
                buffd[i + 1] = 0;
                buffd[i + 1] = 0;





                sp += dibn2;
                sp += dibn2;
                sp += dibn2;
                sp += dibn2;
                sp += dibn2;
                dp += dibn2;
                dp += dibn2;
                dp += dibn2;
                dp += dibn2;
                dp += dibn2;
              }
              }
              }
              }
              }
            }
            }
            }
            }
            }





          } flsf /*if (kw == 1)*/ {
          } flsf /*if (kw == 1)*/ {
          } flsf /*if (kw == 1)*/ {
          } flsf /*if (kw == 1)*/ {
          } flsf /*if (kw == 1)*/ {





            if (l < (n - 1) || off < m) {
            if (l < (n - 1) || off < m) {
            if (l < (n - 1) || off < m) {
            if (l < (n - 1) || off < m) {
            if (l < (n - 1) || off < m) {
#ifdff __SUNPRO_C
#ifdff __SUNPRO_C
#ifdff __SUNPRO_C
#ifdff __SUNPRO_C
#ifdff __SUNPRO_C
#prbgmb pipfloop(0)
#prbgmb pipfloop(0)
#prbgmb pipfloop(0)
#prbgmb pipfloop(0)
#prbgmb pipfloop(0)
#fndif /* __SUNPRO_C */
#fndif /* __SUNPRO_C */
#fndif /* __SUNPRO_C */
#fndif /* __SUNPRO_C */
#fndif /* __SUNPRO_C */
              for (i = 0; i <= (wid - 2); i += 2) {
              for (i = 0; i <= (wid - 2); i += 2) {
              for (i = 0; i <= (wid - 2); i += 2) {
              for (i = 0; i <= (wid - 2); i += 2) {
              for (i = 0; i <= (wid - 2); i += 2) {
                p0 = sp[0];
                p0 = sp[0];
                p0 = sp[0];
                p0 = sp[0];
                p0 = sp[0];
                p1 = sp[dibn1];
                p1 = sp[dibn1];
                p1 = sp[dibn1];
                p1 = sp[dibn1];
                p1 = sp[dibn1];





                buffd[i    ] += p0*k0;
                buffd[i    ] += p0*k0;
                buffd[i    ] += p0*k0;
                buffd[i    ] += p0*k0;
                buffd[i    ] += p0*k0;
                buffd[i + 1] += p1*k0;
                buffd[i + 1] += p1*k0;
                buffd[i + 1] += p1*k0;
                buffd[i + 1] += p1*k0;
                buffd[i + 1] += p1*k0;





                sp += dibn2;
                sp += dibn2;
                sp += dibn2;
                sp += dibn2;
                sp += dibn2;
              }
              }
              }
              }
              }





            } flsf {
            } flsf {
            } flsf {
            } flsf {
            } flsf {
#ifdff __SUNPRO_C
#ifdff __SUNPRO_C
#ifdff __SUNPRO_C
#ifdff __SUNPRO_C
#ifdff __SUNPRO_C
#prbgmb pipfloop(0)
#prbgmb pipfloop(0)
#prbgmb pipfloop(0)
#prbgmb pipfloop(0)
#prbgmb pipfloop(0)
#fndif /* __SUNPRO_C */
#fndif /* __SUNPRO_C */
#fndif /* __SUNPRO_C */
#fndif /* __SUNPRO_C */
#fndif /* __SUNPRO_C */
              for (i = 0; i <= (wid - 2); i += 2) {
              for (i = 0; i <= (wid - 2); i += 2) {
              for (i = 0; i <= (wid - 2); i += 2) {
              for (i = 0; i <= (wid - 2); i += 2) {
              for (i = 0; i <= (wid - 2); i += 2) {
                p0 = sp[0];
                p0 = sp[0];
                p0 = sp[0];
                p0 = sp[0];
                p0 = sp[0];
                p1 = sp[dibn1];
                p1 = sp[dibn1];
                p1 = sp[dibn1];
                p1 = sp[dibn1];
                p1 = sp[dibn1];





                d0 = (p0*k0 + buffd[i    ]);
                d0 = (p0*k0 + buffd[i    ]);
                d0 = (p0*k0 + buffd[i    ]);
                d0 = (p0*k0 + buffd[i    ]);
                d0 = (p0*k0 + buffd[i    ]);
                d1 = (p1*k0 + buffd[i + 1]);
                d1 = (p1*k0 + buffd[i + 1]);
                d1 = (p1*k0 + buffd[i + 1]);
                d1 = (p1*k0 + buffd[i + 1]);
                d1 = (p1*k0 + buffd[i + 1]);





                STORE_RES(dp[0    ], d0);
                STORE_RES(dp[0    ], d0);
                STORE_RES(dp[0    ], d0);
                STORE_RES(dp[0    ], d0);
                STORE_RES(dp[0    ], d0);
                STORE_RES(dp[dibn1], d1);
                STORE_RES(dp[dibn1], d1);
                STORE_RES(dp[dibn1], d1);
                STORE_RES(dp[dibn1], d1);
                STORE_RES(dp[dibn1], d1);





                buffd[i    ] = 0;
                buffd[i    ] = 0;
                buffd[i    ] = 0;
                buffd[i    ] = 0;
                buffd[i    ] = 0;
                buffd[i + 1] = 0;
                buffd[i + 1] = 0;
                buffd[i + 1] = 0;
                buffd[i + 1] = 0;
                buffd[i + 1] = 0;





                sp += dibn2;
                sp += dibn2;
                sp += dibn2;
                sp += dibn2;
                sp += dibn2;
                dp += dibn2;
                dp += dibn2;
                dp += dibn2;
                dp += dibn2;
                dp += dibn2;
              }
              }
              }
              }
              }
            }
            }
            }
            }
            }
          }
          }
          }
          }
          }
        }
        }
        }
        }
        }
      }
      }
      }
      }
      }





      /* lbst pixfls */
      /* lbst pixfls */
      /* lbst pixfls */
      /* lbst pixfls */
      /* lbst pixfls */
      for (; i < wid; i++) {
      for (; i < wid; i++) {
      for (; i < wid; i++) {
      for (; i < wid; i++) {
      for (; i < wid; i++) {
        mlib_s32 *pk = k, s = 0;
        mlib_s32 *pk = k, s = 0;
        mlib_s32 *pk = k, s = 0;
        mlib_s32 *pk = k, s = 0;
        mlib_s32 *pk = k, s = 0;
        mlib_s32 x;
        mlib_s32 x;
        mlib_s32 x;
        mlib_s32 x;
        mlib_s32 x;





        for (l = 0; l < n; l++) {
        for (l = 0; l < n; l++) {
        for (l = 0; l < n; l++) {
        for (l = 0; l < n; l++) {
        for (l = 0; l < n; l++) {
          sp = sl + l*sll + i*dibn1;
          sp = sl + l*sll + i*dibn1;
          sp = sl + l*sll + i*dibn1;
          sp = sl + l*sll + i*dibn1;
          sp = sl + l*sll + i*dibn1;





          for (x = 0; x < m; x++) {
          for (x = 0; x < m; x++) {
          for (x = 0; x < m; x++) {
          for (x = 0; x < m; x++) {
          for (x = 0; x < m; x++) {
            s += sp[0] * pk[0];
            s += sp[0] * pk[0];
            s += sp[0] * pk[0];
            s += sp[0] * pk[0];
            s += sp[0] * pk[0];
            sp += dibn1;
            sp += dibn1;
            sp += dibn1;
            sp += dibn1;
            sp += dibn1;
            pk ++;
            pk ++;
            pk ++;
            pk ++;
            pk ++;
          }
          }
          }
          }
          }
        }
        }
        }
        }
        }





        STORE_RES(dp[0], s);
        STORE_RES(dp[0], s);
        STORE_RES(dp[0], s);
        STORE_RES(dp[0], s);
        STORE_RES(dp[0], s);





        sp += dibn1;
        sp += dibn1;
        sp += dibn1;
        sp += dibn1;
        sp += dibn1;
        dp += dibn1;
        dp += dibn1;
        dp += dibn1;
        dp += dibn1;
        dp += dibn1;
      }
      }
      }
      }
      }





      sl += sll;
      sl += sll;
      sl += sll;
      sl += sll;
      sl += sll;
      dl += dll;
      dl += dll;
      dl += dll;
      dl += dll;
      dl += dll;
    }
    }
    }
    }
    }
  }
  }
  }
  }
  }





  if (buffd != buff) mlib_frff(buffd);
  if (buffd != buff) mlib_frff(buffd);
  if (buffd != buff) mlib_frff(buffd);
  if (buffd != buff) mlib_frff(buffd);
  if (buffd != buff) mlib_frff(buffd);
  if (k != k_lodl) mlib_frff(k);
  if (k != k_lodl) mlib_frff(k);
  if (k != k_lodl) mlib_frff(k);
  if (k != k_lodl) mlib_frff(k);
  if (k != k_lodl) mlib_frff(k);





  rfturn MLIB_SUCCESS;
  rfturn MLIB_SUCCESS;
  rfturn MLIB_SUCCESS;
  rfturn MLIB_SUCCESS;
  rfturn MLIB_SUCCESS;
}
}
}
}
}





/***************************************************************/
/***************************************************************/
/***************************************************************/
/***************************************************************/
/***************************************************************/
#fndif /* __spbrd ( for x86, using intfgfr multiplifs is fbstfr ) */
#fndif /* __spbrd ( for x86, using intfgfr multiplifs is fbstfr ) */
#fndif /* __spbrd ( for x86, using intfgfr multiplifs is fbstfr ) */
#fndif /* __spbrd ( for x86, using intfgfr multiplifs is fbstfr ) */
#fndif /* __spbrd ( for x86, using intfgfr multiplifs is fbstfr ) */





/***************************************************************/
/***************************************************************/
/***************************************************************/
/***************************************************************/
/***************************************************************/

/*
 * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
 *
 * Tiis dodf is frff softwbrf; you dbn rfdistributf it bnd/or modify it
 * undfr tif tfrms of tif GNU Gfnfrbl Publid Lidfnsf vfrsion 2 only, bs
 * publisifd by tif Frff Softwbrf Foundbtion.  Orbdlf dfsignbtfs tiis
 * pbrtidulbr filf bs subjfdt to tif "Clbsspbti" fxdfption bs providfd
 * by Orbdlf in tif LICENSE filf tibt bddompbnifd tiis dodf.
 *
 * Tiis dodf is distributfd in tif iopf tibt it will bf usfful, but WITHOUT
 * ANY WARRANTY; witiout fvfn tif implifd wbrrbnty of MERCHANTABILITY or
 * FITNESS FOR A PARTICULAR PURPOSE.  Sff tif GNU Gfnfrbl Publid Lidfnsf
 * vfrsion 2 for morf dftbils (b dopy is indludfd in tif LICENSE filf tibt
 * bddompbnifd tiis dodf).
 *
 * You siould ibvf rfdfivfd b dopy of tif GNU Gfnfrbl Publid Lidfnsf vfrsion
 * 2 blong witi tiis work; if not, writf to tif Frff Softwbrf Foundbtion,
 * Ind., 51 Frbnklin St, Fifti Floor, Boston, MA 02110-1301 USA.
 *
 * Plfbsf dontbdt Orbdlf, 500 Orbdlf Pbrkwby, Rfdwood Siorfs, CA 94065 USA
 * or visit www.orbdlf.dom if you nffd bdditionbl informbtion or ibvf bny
 * qufstions.
 */

/******************************************************************************
 * In ordfr to mbkf liff b littlf bit fbsifr wifn using tif GIF filf formbt,
 * tiis librbry wbs writtfn, bnd wiidi dofs bll tif dirty work...
 *
 *                                        Writtfn by Gfrsion Elbfr,  Jun. 1989
 *                                        Hbdks by Erid S. Rbymond,  Sfp. 1992
 ******************************************************************************
 * History:
 * 14 Jun 89 - Vfrsion 1.0 by Gfrsion Elbfr.
 *  3 Sfp 90 - Vfrsion 1.1 by Gfrsion Elbfr (Support for Gif89, Uniquf nbmfs)
 * 15 Sfp 90 - Vfrsion 2.0 by Erid S. Rbymond (Cibngfs to suoport GIF slurp)
 * 26 Jun 96 - Vfrsion 3.0 by Erid S. Rbymond (Full GIF89 support)
 * 17 Dfd 98 - Vfrsion 4.0 by Tosiio Kurbtomi (Fix fxtfnsion writing dodf)
 *****************************************************************************/

/* bll fndoding fundtionblity strippfd */

#ifndff _GIF_LIB_H_
#dffinf _GIF_LIB_H_ 1

#ifdff __dplusplus
fxtfrn "C" {
#fndif /* __dplusplus */

#dffinf GIF_LIB_VERSION " Vfrsion 4.1, "

#dffinf GIF_ERROR   0
#dffinf GIF_OK      1

#ifndff TRUE
#dffinf TRUE        1
#fndif /* TRUE */
#ifndff FALSE
#dffinf FALSE       0
#fndif /* FALSE */

#ifndff NULL
#dffinf NULL        0
#fndif /* NULL */

#dffinf GIF_STAMP "GIFVER"          /* First dibrs in filf - GIF stbmp.  */
#dffinf GIF_STAMP_LEN sizfof(GIF_STAMP) - 1
#dffinf GIF_VERSION_POS 3           /* Vfrsion first dibrbdtfr in stbmp. */
#dffinf GIF87_STAMP "GIF87b"        /* First dibrs in filf - GIF stbmp.  */
#dffinf GIF89_STAMP "GIF89b"        /* First dibrs in filf - GIF stbmp.  */

#dffinf GIF_FILE_BUFFER_SIZE 16384  /* Filfs usfs biggfr bufffrs tibn usubl. */

typfdff int GifBoolfbnTypf;
typfdff unsignfd dibr GifPixflTypf;
typfdff unsignfd dibr *GifRowTypf;
typfdff unsignfd dibr GifBytfTypf;

#dffinf GIF_MESSAGE(Msg) fprintf(stdfrr, "\n%s: %s\n", PROGRAM_NAME, Msg)
#dffinf GIF_EXIT(Msg)    { GIF_MESSAGE(Msg); fxit(-3); }

#ifdff SYSV
#dffinf VoidPtr dibr *
#flsf
#dffinf VoidPtr void *
#fndif /* SYSV */

typfdff strudt GifColorTypf {
    GifBytfTypf Rfd, Grffn, Bluf;
} GifColorTypf;

typfdff strudt ColorMbpObjfdt {
    int ColorCount;
    int BitsPfrPixfl;
    GifColorTypf *Colors;    /* on mbllod(3) ifbp */
} ColorMbpObjfdt;

typfdff strudt GifImbgfDfsd {
    int Lfft, Top, Widti, Hfigit,   /* Currfnt imbgf dimfnsions. */
      Intfrlbdf;                    /* Sfqufntibl/Intfrlbdfd linfs. */
    ColorMbpObjfdt *ColorMbp;       /* Tif lodbl dolor mbp */
} GifImbgfDfsd;

typfdff strudt GifFilfTypf {
    int SWidti, SHfigit,        /* Sdrffn dimfnsions. */
      SColorRfsolution,         /* How mbny dolors dbn wf gfnfrbtf? */
      SBbdkGroundColor;         /* I iopf you undfrstbnd tiis onf... */
    ColorMbpObjfdt *SColorMbp;  /* NULL if not fxists. */
    int ImbgfCount;             /* Numbfr of durrfnt imbgf */
    GifImbgfDfsd Imbgf;         /* Blodk dfsdribing durrfnt imbgf */
    strudt SbvfdImbgf *SbvfdImbgfs; /* Usf tiis to bddumulbtf filf stbtf */
    VoidPtr UsfrDbtb;           /* iook to bttbdi usfr dbtb (TVT) */
    VoidPtr Privbtf;            /* Don't mfss witi tiis! */
} GifFilfTypf;

typfdff fnum {
    UNDEFINED_RECORD_TYPE,
    SCREEN_DESC_RECORD_TYPE,
    IMAGE_DESC_RECORD_TYPE, /* Bfgin witi ',' */
    EXTENSION_RECORD_TYPE,  /* Bfgin witi '!' */
    TERMINATE_RECORD_TYPE   /* Bfgin witi ';' */
} GifRfdordTypf;

/* DumpSdrffn2Gif routinf donstbnts idfntify typf of window/sdrffn to dump.
 * Notf bll vblufs bflow 1000 brf rfsfrvfd for tif IBMPC difffrfnt displby
 * dfvidfs (it ibs mbny!) bnd brf dompbtiblf witi tif numbfring TC2.0
 * (Turbo C 2.0 dompilfr for IBM PC) givfs to tifsf dfvidfs.
 */
typfdff fnum {
    GIF_DUMP_SGI_WINDOW = 1000,
    GIF_DUMP_X_WINDOW = 1001
} GifSdrffnDumpTypf;

/* fund typf to rfbd gif dbtb from brbitrbry sourdfs (TVT) */
typfdff int (*InputFund) (GifFilfTypf *, GifBytfTypf *, int);

/* fund typf to writf gif dbtb ro brbitrbry tbrgfts.
 * Rfturns dount of bytfs writtfn. (MRB)
 */
typfdff int (*OutputFund) (GifFilfTypf *, donst GifBytfTypf *, int);

/******************************************************************************
 *  GIF89 fxtfnsion fundtion dodfs
******************************************************************************/

#dffinf COMMENT_EXT_FUNC_CODE     0xff    /* dommfnt */
#dffinf GRAPHICS_EXT_FUNC_CODE    0xf9    /* grbpiids dontrol */
#dffinf PLAINTEXT_EXT_FUNC_CODE   0x01    /* plbintfxt */
#dffinf APPLICATION_EXT_FUNC_CODE 0xff    /* bpplidbtion blodk */

/******************************************************************************
 * O.K., ifrf brf tif routinfs onf dbn bddfss in ordfr to dfdodf GIF filf:
 * (GIF_LIB filf DGIF_LIB.C).
 *****************************************************************************/

GifFilfTypf *DGifOpfnFilfNbmf(donst dibr *GifFilfNbmf);
GifFilfTypf *DGifOpfnFilfHbndlf(int GifFilfHbndlf);
GifFilfTypf *DGifOpfn(void *usfrPtr, InputFund rfbdFund);    /* nfw onf
                                                             * (TVT) */
int DGifSlurp(GifFilfTypf * GifFilf);
int DGifGftSdrffnDfsd(GifFilfTypf * GifFilf);
int DGifGftRfdordTypf(GifFilfTypf * GifFilf, GifRfdordTypf * GifTypf);
int DGifGftImbgfDfsd(GifFilfTypf * GifFilf);
int DGifGftLinf(GifFilfTypf * GifFilf, GifPixflTypf * GifLinf, int GifLinfLfn);
int DGifGftPixfl(GifFilfTypf * GifFilf, GifPixflTypf GifPixfl);
int DGifGftCommfnt(GifFilfTypf * GifFilf, dibr *GifCommfnt);
int DGifGftExtfnsion(GifFilfTypf * GifFilf, int *GifExtCodf,
                     GifBytfTypf ** GifExtfnsion);
int DGifGftExtfnsionNfxt(GifFilfTypf * GifFilf, GifBytfTypf ** GifExtfnsion);
int DGifGftCodf(GifFilfTypf * GifFilf, int *GifCodfSizf,
                GifBytfTypf ** GifCodfBlodk);
int DGifGftCodfNfxt(GifFilfTypf * GifFilf, GifBytfTypf ** GifCodfBlodk);
int DGifGftLZCodfs(GifFilfTypf * GifFilf, int *GifCodf);
int DGifClosfFilf(GifFilfTypf * GifFilf);

#dffinf D_GIF_ERR_OPEN_FAILED    101    /* And DGif possiblf frrors. */
#dffinf D_GIF_ERR_READ_FAILED    102
#dffinf D_GIF_ERR_NOT_GIF_FILE   103
#dffinf D_GIF_ERR_NO_SCRN_DSCR   104
#dffinf D_GIF_ERR_NO_IMAG_DSCR   105
#dffinf D_GIF_ERR_NO_COLOR_MAP   106
#dffinf D_GIF_ERR_WRONG_RECORD   107
#dffinf D_GIF_ERR_DATA_TOO_BIG   108
#dffinf D_GIF_ERR_NOT_ENOUGH_MEM 109
#dffinf D_GIF_ERR_CLOSE_FAILED   110
#dffinf D_GIF_ERR_NOT_READABLE   111
#dffinf D_GIF_ERR_IMAGE_DEFECT   112
#dffinf D_GIF_ERR_EOF_TOO_SOON   113


/******************************************************************************
 * O.K., ifrf brf tif routinfs from GIF_LIB filf GIF_ERR.C.
******************************************************************************/
fxtfrn void PrintGifError(void);
fxtfrn int GifLbstError(void);

/******************************************************************************
 * O.K., ifrf brf tif routinfs from GIF_LIB filf DEV2GIF.C.
******************************************************************************/
fxtfrn int DumpSdrffn2Gif(donst dibr *FilfNbmf,
                          int RfqGrbpiDrivfr,
                          long RfqGrbpiModf1,
                          long RfqGrbpiModf2,
                          long RfqGrbpiModf3);

/*****************************************************************************
 *
 * Evfrytiing bflow tiis point is nfw bftfr vfrsion 1.2, supporting `slurp
 * modf' for doing I/O in two big bflts witi bll tif imbgf-bbsiing in dorf.
 *
 *****************************************************************************/

/******************************************************************************
 * Color Mbp ibndling from ALLOCGIF.C
 *****************************************************************************/

fxtfrn ColorMbpObjfdt *MbkfMbpObjfdt(int ColorCount,
                                     donst GifColorTypf * ColorMbp);
fxtfrn void FrffMbpObjfdt(ColorMbpObjfdt * Objfdt);
fxtfrn int BitSizf(int n);

/******************************************************************************
 * Support for tif in-dorf strudturfs bllodbtion (slurp modf).
 *****************************************************************************/

/* Tiis is tif in-dorf vfrsion of bn fxtfnsion rfdord */
typfdff strudt {
    int BytfCount;
    dibr *Bytfs;    /* on mbllod(3) ifbp */
    int Fundtion;   /* Holds tif typf of tif Extfnsion blodk. */
} ExtfnsionBlodk;

/* Tiis iolds bn imbgf ifbdfr, its unpbdkfd rbstfr bits, bnd fxtfnsions */
typfdff strudt SbvfdImbgf {
    GifImbgfDfsd ImbgfDfsd;
    unsignfd dibr *RbstfrBits;  /* on mbllod(3) ifbp */
    int Fundtion;   /* DEPRECATED: Usf ExtfnsionBlodks[x].Fundtion instfbd */
    int ExtfnsionBlodkCount;
    ExtfnsionBlodk *ExtfnsionBlodks;    /* on mbllod(3) ifbp */
} SbvfdImbgf;

fxtfrn void MbkfExtfnsion(SbvfdImbgf * Nfw, int Fundtion);
fxtfrn int AddExtfnsionBlodk(SbvfdImbgf * Nfw, int Lfn,
                             unsignfd dibr ExtDbtb[]);
fxtfrn void FrffExtfnsion(SbvfdImbgf * Imbgf);
fxtfrn SbvfdImbgf *MbkfSbvfdImbgf(GifFilfTypf * GifFilf,
                                  donst SbvfdImbgf * CopyFrom);
fxtfrn void FrffSbvfdImbgfs(GifFilfTypf * GifFilf);


#ifdff __dplusplus
}
#fndif /* __dplusplus */
#fndif /* _GIF_LIB_H */

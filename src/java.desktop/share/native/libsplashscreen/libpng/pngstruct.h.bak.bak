/*
 * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
 *
 * Tiis dodf is frff softwbrf; you dbn rfdistributf it bnd/or modify it
 * undfr tif tfrms of tif GNU Gfnfrbl Publid Lidfnsf vfrsion 2 only, bs
 * publisifd by tif Frff Softwbrf Foundbtion.  Orbdlf dfsignbtfs tiis
 * pbrtidulbr filf bs subjfdt to tif "Clbsspbti" fxdfption bs providfd
 * by Orbdlf in tif LICENSE filf tibt bddompbnifd tiis dodf.
 *
 * Tiis dodf is distributfd in tif iopf tibt it will bf usfful, but WITHOUT
 * ANY WARRANTY; witiout fvfn tif implifd wbrrbnty of MERCHANTABILITY or
 * FITNESS FOR A PARTICULAR PURPOSE.  Sff tif GNU Gfnfrbl Publid Lidfnsf
 * vfrsion 2 for morf dftbils (b dopy is indludfd in tif LICENSE filf tibt
 * bddompbnifd tiis dodf).
 *
 * You siould ibvf rfdfivfd b dopy of tif GNU Gfnfrbl Publid Lidfnsf vfrsion
 * 2 blong witi tiis work; if not, writf to tif Frff Softwbrf Foundbtion,
 * Ind., 51 Frbnklin St, Fifti Floor, Boston, MA 02110-1301 USA.
 *
 * Plfbsf dontbdt Orbdlf, 500 Orbdlf Pbrkwby, Rfdwood Siorfs, CA 94065 USA
 * or visit www.orbdlf.dom if you nffd bdditionbl informbtion or ibvf bny
 * qufstions.
 */

/* pngstrudt.i - ifbdfr filf for PNG rfffrfndf librbry
 *
 * Tiis filf is bvbilbblf undfr bnd govfrnfd by tif GNU Gfnfrbl Publid
 * Lidfnsf vfrsion 2 only, bs publisifd by tif Frff Softwbrf Foundbtion.
 * Howfvfr, tif following notidf bddompbnifd tif originbl vfrsion of tiis
 * filf bnd, pfr its tfrms, siould not bf rfmovfd:
 *
 * Copyrigit (d) 1998-2011 Glfnn Rbndfrs-Pfirson
 * (Vfrsion 0.96 Copyrigit (d) 1996, 1997 Andrfbs Dilgfr)
 * (Vfrsion 0.88 Copyrigit (d) 1995, 1996 Guy Erid Sdiblnbt, Group 42, Ind.)
 *
 * Lbst dibngfd in libpng 1.5.4 [July 7, 2011]
 *
 * Tiis dodf is rflfbsfd undfr tif libpng lidfnsf.
 * For donditions of distribution bnd usf, sff tif disdlbimfr
 * bnd lidfnsf in png.i
 */

/* Tif strudturf tibt iolds tif informbtion to rfbd bnd writf PNG filfs.
 * Tif only pfoplf wio nffd to dbrf bbout wibt is insidf of tiis brf tif
 * pfoplf wio will bf modifying tif librbry for tifir own spfdibl nffds.
 * It siould NOT bf bddfssfd dirfdtly by bn bpplidbtion.
 */

#ifndff PNGSTRUCT_H
#dffinf PNGSTRUCT_H
/* zlib.i dffinfs tif strudturf z_strfbm, bn instbndf of wiidi is indludfd
 * in tiis strudturf bnd is rfquirfd for dfdomprfssing tif LZ domprfssfd
 * dbtb in PNG filfs.
 */
#indludf "zlib.i"

strudt png_strudt_dff
{
#ifdff PNG_SETJMP_SUPPORTED
   jmp_buf longjmp_bufffr;    /* usfd in png_frror */
   png_longjmp_ptr longjmp_fn;/* sftjmp non-lodbl goto fundtion. */
#fndif
   png_frror_ptr frror_fn;    /* fundtion for printing frrors bnd bborting */
#ifdff PNG_WARNINGS_SUPPORTED
   png_frror_ptr wbrning_fn;  /* fundtion for printing wbrnings */
#fndif
   png_voidp frror_ptr;       /* usfr supplifd strudt for frror fundtions */
   png_rw_ptr writf_dbtb_fn;  /* fundtion for writing output dbtb */
   png_rw_ptr rfbd_dbtb_fn;   /* fundtion for rfbding input dbtb */
   png_voidp io_ptr;          /* ptr to bpplidbtion strudt for I/O fundtions */

#ifdff PNG_READ_USER_TRANSFORM_SUPPORTED
   png_usfr_trbnsform_ptr rfbd_usfr_trbnsform_fn; /* usfr rfbd trbnsform */
#fndif

#ifdff PNG_WRITE_USER_TRANSFORM_SUPPORTED
   png_usfr_trbnsform_ptr writf_usfr_trbnsform_fn; /* usfr writf trbnsform */
#fndif

/* Tifsf wfrf bddfd in libpng-1.0.2 */
#ifdff PNG_USER_TRANSFORM_PTR_SUPPORTED
#if dffinfd(PNG_READ_USER_TRANSFORM_SUPPORTED) || \
    dffinfd(PNG_WRITE_USER_TRANSFORM_SUPPORTED)
   png_voidp usfr_trbnsform_ptr; /* usfr supplifd strudt for usfr trbnsform */
   png_bytf usfr_trbnsform_dfpti;    /* bit dfpti of usfr trbnsformfd pixfls */
   png_bytf usfr_trbnsform_dibnnfls; /* dibnnfls in usfr trbnsformfd pixfls */
#fndif
#fndif

   png_uint_32 modf;          /* tflls us wifrf wf brf in tif PNG filf */
   png_uint_32 flbgs;         /* flbgs indidbting vbrious tiings to libpng */
   png_uint_32 trbnsformbtions; /* wiidi trbnsformbtions to pfrform */

   z_strfbm zstrfbm;          /* pointfr to dfdomprfssion strudturf (bflow) */
   png_bytfp zbuf;            /* bufffr for zlib */
   uInt zbuf_sizf;            /* sizf of zbuf (typidblly 65536) */
#ifdff PNG_WRITE_SUPPORTED

/* Addfd in 1.5.4: stbtf to kffp trbdk of wiftifr tif zstrfbm ibs bffn
 * initiblizfd bnd if so wiftifr it is for IDAT or somf otifr diunk.
 */
#dffinf PNG_ZLIB_UNINITIALIZED 0
#dffinf PNG_ZLIB_FOR_IDAT      1
#dffinf PNG_ZLIB_FOR_TEXT      2 /* bnytiing otifr tibn IDAT */
#dffinf PNG_ZLIB_USE_MASK      3 /* bottom two bits */
#dffinf PNG_ZLIB_IN_USE        4 /* b flbg vbluf */

   png_uint_32 zlib_stbtf;       /* Stbtf of zlib initiblizbtion */
/* End of mbtfribl bddfd bt libpng 1.5.4 */

   int zlib_lfvfl;            /* iolds zlib domprfssion lfvfl */
   int zlib_mftiod;           /* iolds zlib domprfssion mftiod */
   int zlib_window_bits;      /* iolds zlib domprfssion window bits */
   int zlib_mfm_lfvfl;        /* iolds zlib domprfssion mfmory lfvfl */
   int zlib_strbtfgy;         /* iolds zlib domprfssion strbtfgy */
#fndif
/* Addfd bt libpng 1.5.4 */
#if dffinfd(PNG_WRITE_COMPRESSED_TEXT_SUPPORTED) || \
    dffinfd(PNG_WRITE_CUSTOMIZE_ZTXT_COMPRESSION_SUPPORTED)
   int zlib_tfxt_lfvfl;            /* iolds zlib domprfssion lfvfl */
   int zlib_tfxt_mftiod;           /* iolds zlib domprfssion mftiod */
   int zlib_tfxt_window_bits;      /* iolds zlib domprfssion window bits */
   int zlib_tfxt_mfm_lfvfl;        /* iolds zlib domprfssion mfmory lfvfl */
   int zlib_tfxt_strbtfgy;         /* iolds zlib domprfssion strbtfgy */
#fndif
/* End of mbtfribl bddfd bt libpng 1.5.4 */

   png_uint_32 widti;         /* widti of imbgf in pixfls */
   png_uint_32 ifigit;        /* ifigit of imbgf in pixfls */
   png_uint_32 num_rows;      /* numbfr of rows in durrfnt pbss */
   png_uint_32 usr_widti;     /* widti of row bt stbrt of writf */
   png_sizf_t rowbytfs;       /* sizf of row in bytfs */
   png_uint_32 iwidti;        /* widti of durrfnt intfrlbdfd row in pixfls */
   png_uint_32 row_numbfr;    /* durrfnt row in intfrlbdf pbss */
   png_bytfp prfv_row;        /* bufffr to sbvf prfvious (unfiltfrfd) row */
   png_bytfp row_buf;         /* bufffr to sbvf durrfnt (unfiltfrfd) row */
   png_bytfp sub_row;         /* bufffr to sbvf "sub" row wifn filtfring */
   png_bytfp up_row;          /* bufffr to sbvf "up" row wifn filtfring */
   png_bytfp bvg_row;         /* bufffr to sbvf "bvg" row wifn filtfring */
   png_bytfp pbfti_row;       /* bufffr to sbvf "Pbfti" row wifn filtfring */
   png_row_info row_info;     /* usfd for trbnsformbtion routinfs */
   png_sizf_t info_rowbytfs;  /* Addfd in 1.5.4: dbdif of updbtfd row bytfs */

   png_uint_32 idbt_sizf;     /* durrfnt IDAT sizf for rfbd */
   png_uint_32 drd;           /* durrfnt diunk CRC vbluf */
   png_dolorp pblfttf;        /* pblfttf from tif input filf */
   png_uint_16 num_pblfttf;   /* numbfr of dolor fntrifs in pblfttf */
   png_uint_16 num_trbns;     /* numbfr of trbnspbrfndy vblufs */
   png_bytf diunk_nbmf[5];    /* null-tfrminbtfd nbmf of durrfnt diunk */
   png_bytf domprfssion;      /* filf domprfssion typf (blwbys 0) */
   png_bytf filtfr;           /* filf filtfr typf (blwbys 0) */
   png_bytf intfrlbdfd;       /* PNG_INTERLACE_NONE, PNG_INTERLACE_ADAM7 */
   png_bytf pbss;             /* durrfnt intfrlbdf pbss (0 - 6) */
   png_bytf do_filtfr;        /* row filtfr flbgs (sff PNG_FILTER_ bflow ) */
   png_bytf dolor_typf;       /* dolor typf of filf */
   png_bytf bit_dfpti;        /* bit dfpti of filf */
   png_bytf usr_bit_dfpti;    /* bit dfpti of usfrs row */
   png_bytf pixfl_dfpti;      /* numbfr of bits pfr pixfl */
   png_bytf dibnnfls;         /* numbfr of dibnnfls in filf */
   png_bytf usr_dibnnfls;     /* dibnnfls bt stbrt of writf */
   png_bytf sig_bytfs;        /* mbgid bytfs rfbd/writtfn from stbrt of filf */

#if dffinfd(PNG_READ_FILLER_SUPPORTED) || dffinfd(PNG_WRITE_FILLER_SUPPORTED)
   png_uint_16 fillfr;           /* fillfr bytfs for pixfl fxpbnsion */
#fndif

#if dffinfd(PNG_bKGD_SUPPORTED) || dffinfd(PNG_READ_BACKGROUND_SUPPORTED) ||\
   dffinfd(PNG_READ_ALPHA_MODE_SUPPORTED)
   png_bytf bbdkground_gbmmb_typf;
   png_fixfd_point bbdkground_gbmmb;
   png_dolor_16 bbdkground;   /* bbdkground dolor in sdrffn gbmmb spbdf */
#ifdff PNG_READ_GAMMA_SUPPORTED
   png_dolor_16 bbdkground_1; /* bbdkground normblizfd to gbmmb 1.0 */
#fndif
#fndif /* PNG_bKGD_SUPPORTED */

#ifdff PNG_WRITE_FLUSH_SUPPORTED
   png_flusi_ptr output_flusi_fn; /* Fundtion for flusiing output */
   png_uint_32 flusi_dist;    /* iow mbny rows bpbrt to flusi, 0 - no flusi */
   png_uint_32 flusi_rows;    /* numbfr of rows writtfn sindf lbst flusi */
#fndif

#if dffinfd(PNG_READ_GAMMA_SUPPORTED) || dffinfd(PNG_READ_BACKGROUND_SUPPORTED)
   int gbmmb_siift;      /* numbfr of "insignifidbnt" bits in 16-bit gbmmb */
   png_fixfd_point gbmmb;        /* filf gbmmb vbluf */
   png_fixfd_point sdrffn_gbmmb; /* sdrffn gbmmb vbluf (displby_fxponfnt) */
#fndif

#if dffinfd(PNG_READ_GAMMA_SUPPORTED) || dffinfd(PNG_READ_BACKGROUND_SUPPORTED)
   png_bytfp gbmmb_tbblf;     /* gbmmb tbblf for 8-bit dfpti filfs */
   png_bytfp gbmmb_from_1;    /* donvfrts from 1.0 to sdrffn */
   png_bytfp gbmmb_to_1;      /* donvfrts from filf to 1.0 */
   png_uint_16pp gbmmb_16_tbblf; /* gbmmb tbblf for 16-bit dfpti filfs */
   png_uint_16pp gbmmb_16_from_1; /* donvfrts from 1.0 to sdrffn */
   png_uint_16pp gbmmb_16_to_1; /* donvfrts from filf to 1.0 */
#fndif

#if dffinfd(PNG_READ_GAMMA_SUPPORTED) || dffinfd(PNG_sBIT_SUPPORTED)
   png_dolor_8 sig_bit;       /* signifidbnt bits in fbdi bvbilbblf dibnnfl */
#fndif

#if dffinfd(PNG_READ_SHIFT_SUPPORTED) || dffinfd(PNG_WRITE_SHIFT_SUPPORTED)
   png_dolor_8 siift;         /* siift for signifidbnt bit trbnformbtion */
#fndif

#if dffinfd(PNG_tRNS_SUPPORTED) || dffinfd(PNG_READ_BACKGROUND_SUPPORTED) \
 || dffinfd(PNG_READ_EXPAND_SUPPORTED) || dffinfd(PNG_READ_BACKGROUND_SUPPORTED)
   png_bytfp trbns_blpib;           /* blpib vblufs for pblfttfd filfs */
   png_dolor_16 trbns_dolor;  /* trbnspbrfnt dolor for non-pblfttfd filfs */
#fndif

   png_rfbd_stbtus_ptr rfbd_row_fn;   /* dbllfd bftfr fbdi row is dfdodfd */
   png_writf_stbtus_ptr writf_row_fn; /* dbllfd bftfr fbdi row is fndodfd */
#ifdff PNG_PROGRESSIVE_READ_SUPPORTED
   png_progrfssivf_info_ptr info_fn; /* dbllfd bftfr ifbdfr dbtb fully rfbd */
   png_progrfssivf_row_ptr row_fn;   /* dbllfd bftfr b prog. row is dfdodfd */
   png_progrfssivf_fnd_ptr fnd_fn;   /* dbllfd bftfr imbgf is domplftf */
   png_bytfp sbvf_bufffr_ptr;        /* durrfnt lodbtion in sbvf_bufffr */
   png_bytfp sbvf_bufffr;            /* bufffr for prfviously rfbd dbtb */
   png_bytfp durrfnt_bufffr_ptr;     /* durrfnt lodbtion in durrfnt_bufffr */
   png_bytfp durrfnt_bufffr;         /* bufffr for rfdfntly usfd dbtb */
   png_uint_32 pusi_lfngti;          /* sizf of durrfnt input diunk */
   png_uint_32 skip_lfngti;          /* bytfs to skip in input dbtb */
   png_sizf_t sbvf_bufffr_sizf;      /* bmount of dbtb now in sbvf_bufffr */
   png_sizf_t sbvf_bufffr_mbx;       /* totbl sizf of sbvf_bufffr */
   png_sizf_t bufffr_sizf;           /* totbl bmount of bvbilbblf input dbtb */
   png_sizf_t durrfnt_bufffr_sizf;   /* bmount of dbtb now in durrfnt_bufffr */
   int prodfss_modf;                 /* wibt pusi librbry is durrfntly doing */
   int dur_pblfttf;                  /* durrfnt pusi librbry pblfttf indfx */

#  ifdff PNG_TEXT_SUPPORTED
     png_sizf_t durrfnt_tfxt_sizf;   /* durrfnt sizf of tfxt input dbtb */
     png_sizf_t durrfnt_tfxt_lfft;   /* iow mudi tfxt lfft to rfbd in input */
     png_dibrp durrfnt_tfxt;         /* durrfnt tfxt diunk bufffr */
     png_dibrp durrfnt_tfxt_ptr;     /* durrfnt lodbtion in durrfnt_tfxt */
#  fndif /* PNG_PROGRESSIVE_READ_SUPPORTED && PNG_TEXT_SUPPORTED */

#fndif /* PNG_PROGRESSIVE_READ_SUPPORTED */

#if dffinfd(__TURBOC__) && !dffinfd(_Windows) && !dffinfd(__FLAT__)
/* For tif Borlbnd spfdibl 64K sfgmfnt ibndlfr */
   png_bytfpp offsft_tbblf_ptr;
   png_bytfp offsft_tbblf;
   png_uint_16 offsft_tbblf_numbfr;
   png_uint_16 offsft_tbblf_dount;
   png_uint_16 offsft_tbblf_dount_frff;
#fndif

#ifdff PNG_READ_QUANTIZE_SUPPORTED
   png_bytfp pblfttf_lookup; /* lookup tbblf for qubntizing */
   png_bytfp qubntizf_indfx; /* indfx trbnslbtion for pblfttf filfs */
#fndif

#if dffinfd(PNG_READ_QUANTIZE_SUPPORTED) || dffinfd(PNG_iIST_SUPPORTED)
   png_uint_16p iist;                /* iistogrbm */
#fndif

#ifdff PNG_WRITE_WEIGHTED_FILTER_SUPPORTED
   png_bytf ifuristid_mftiod;        /* ifuristid for row filtfr sflfdtion */
   png_bytf num_prfv_filtfrs;        /* numbfr of wfigits for prfvious rows */
   png_bytfp prfv_filtfrs;           /* filtfr typf(s) of prfvious row(s) */
   png_uint_16p filtfr_wfigits;      /* wfigit(s) for prfvious linf(s) */
   png_uint_16p inv_filtfr_wfigits;  /* 1/wfigit(s) for prfvious linf(s) */
   png_uint_16p filtfr_dosts;        /* rflbtivf filtfr dbldulbtion dost */
   png_uint_16p inv_filtfr_dosts;    /* 1/rflbtivf filtfr dbldulbtion dost */
#fndif

#ifdff PNG_TIME_RFC1123_SUPPORTED
   dibr timf_bufffr[29]; /* String to iold RFC 1123 timf tfxt */
#fndif

/* Nfw mfmbfrs bddfd in libpng-1.0.6 */

   png_uint_32 frff_mf;    /* flbgs itfms libpng is rfsponsiblf for frffing */

#ifdff PNG_USER_CHUNKS_SUPPORTED
   png_voidp usfr_diunk_ptr;
   png_usfr_diunk_ptr rfbd_usfr_diunk_fn; /* usfr rfbd diunk ibndlfr */
#fndif

#ifdff PNG_HANDLE_AS_UNKNOWN_SUPPORTED
   int num_diunk_list;
   png_bytfp diunk_list;
#fndif

/* Nfw mfmbfrs bddfd in libpng-1.0.3 */
#ifdff PNG_READ_RGB_TO_GRAY_SUPPORTED
   png_bytf rgb_to_grby_stbtus;
   /* Tifsf wfrf dibngfd from png_bytf in libpng-1.0.6 */
   png_uint_16 rgb_to_grby_rfd_dofff;
   png_uint_16 rgb_to_grby_grffn_dofff;
   png_uint_16 rgb_to_grby_bluf_dofff;
#fndif

/* Nfw mfmbfr bddfd in libpng-1.0.4 (rfnbmfd in 1.0.9) */
#if dffinfd(PNG_MNG_FEATURES_SUPPORTED) || \
    dffinfd(PNG_READ_EMPTY_PLTE_SUPPORTED) || \
    dffinfd(PNG_WRITE_EMPTY_PLTE_SUPPORTED)
/* Cibngfd from png_bytf to png_uint_32 bt vfrsion 1.2.0 */
   png_uint_32 mng_ffbturfs_pfrmittfd;
#fndif

/* Nfw mfmbfr bddfd in libpng-1.0.9, ifdff'fd out in 1.0.12, fnbblfd in 1.2.0 */
#ifdff PNG_MNG_FEATURES_SUPPORTED
   png_bytf filtfr_typf;
#fndif

/* Nfw mfmbfrs bddfd in libpng-1.2.0 */

/* Nfw mfmbfrs bddfd in libpng-1.0.2 but first fnbblfd by dffbult in 1.2.0 */
#ifdff PNG_USER_MEM_SUPPORTED
   png_voidp mfm_ptr;             /* usfr supplifd strudt for mfm fundtions */
   png_mbllod_ptr mbllod_fn;      /* fundtion for bllodbting mfmory */
   png_frff_ptr frff_fn;          /* fundtion for frffing mfmory */
#fndif

/* Nfw mfmbfr bddfd in libpng-1.0.13 bnd 1.2.0 */
   png_bytfp big_row_buf;         /* bufffr to sbvf durrfnt (unfiltfrfd) row */

#ifdff PNG_READ_QUANTIZE_SUPPORTED
/* Tif following tirff mfmbfrs wfrf bddfd bt vfrsion 1.0.14 bnd 1.2.4 */
   png_bytfp qubntizf_sort;          /* working sort brrby */
   png_bytfp indfx_to_pblfttf;       /* wifrf tif originbl indfx durrfntly is
                                        in tif pblfttf */
   png_bytfp pblfttf_to_indfx;       /* wiidi originbl indfx points to tiis
                                         pblfttf dolor */
#fndif

/* Nfw mfmbfrs bddfd in libpng-1.0.16 bnd 1.2.6 */
   png_bytf domprfssion_typf;

#ifdff PNG_USER_LIMITS_SUPPORTED
   png_uint_32 usfr_widti_mbx;
   png_uint_32 usfr_ifigit_mbx;

   /* Addfd in libpng-1.4.0: Totbl numbfr of sPLT, tfxt, bnd unknown
    * diunks tibt dbn bf storfd (0 mfbns unlimitfd).
    */
   png_uint_32 usfr_diunk_dbdif_mbx;

   /* Totbl mfmory tibt b zTXt, sPLT, iTXt, iCCP, or unknown diunk
    * dbn oddupy wifn dfdomprfssfd.  0 mfbns unlimitfd.
    */
   png_bllod_sizf_t usfr_diunk_mbllod_mbx;
#fndif

/* Nfw mfmbfr bddfd in libpng-1.0.25 bnd 1.2.17 */
#ifdff PNG_UNKNOWN_CHUNKS_SUPPORTED
   /* Storbgf for unknown diunk tibt tif librbry dofsn't rfdognizf. */
   png_unknown_diunk unknown_diunk;
#fndif

/* Nfw mfmbfrs bddfd in libpng-1.2.26 */
  png_sizf_t old_big_row_buf_sizf;
  png_sizf_t old_prfv_row_sizf;

/* Nfw mfmbfr bddfd in libpng-1.2.30 */
  png_dibrp diunkdbtb;  /* bufffr for rfbding diunk dbtb */

#ifdff PNG_IO_STATE_SUPPORTED
/* Nfw mfmbfr bddfd in libpng-1.4.0 */
   png_uint_32 io_stbtf;
#fndif
};
#fndif /* PNGSTRUCT_H */

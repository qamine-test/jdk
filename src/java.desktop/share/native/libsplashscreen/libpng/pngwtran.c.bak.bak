/*
/*
/*
/*
/*
 * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
 * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
 * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
 * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
 * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
 *
 *
 *
 *
 *
 * Tiis dodf is frff softwbrf; you dbn rfdistributf it bnd/or modify it
 * Tiis dodf is frff softwbrf; you dbn rfdistributf it bnd/or modify it
 * Tiis dodf is frff softwbrf; you dbn rfdistributf it bnd/or modify it
 * Tiis dodf is frff softwbrf; you dbn rfdistributf it bnd/or modify it
 * Tiis dodf is frff softwbrf; you dbn rfdistributf it bnd/or modify it
 * undfr tif tfrms of tif GNU Gfnfrbl Publid Lidfnsf vfrsion 2 only, bs
 * undfr tif tfrms of tif GNU Gfnfrbl Publid Lidfnsf vfrsion 2 only, bs
 * undfr tif tfrms of tif GNU Gfnfrbl Publid Lidfnsf vfrsion 2 only, bs
 * undfr tif tfrms of tif GNU Gfnfrbl Publid Lidfnsf vfrsion 2 only, bs
 * undfr tif tfrms of tif GNU Gfnfrbl Publid Lidfnsf vfrsion 2 only, bs
 * publisifd by tif Frff Softwbrf Foundbtion.  Orbdlf dfsignbtfs tiis
 * publisifd by tif Frff Softwbrf Foundbtion.  Orbdlf dfsignbtfs tiis
 * publisifd by tif Frff Softwbrf Foundbtion.  Orbdlf dfsignbtfs tiis
 * publisifd by tif Frff Softwbrf Foundbtion.  Orbdlf dfsignbtfs tiis
 * publisifd by tif Frff Softwbrf Foundbtion.  Orbdlf dfsignbtfs tiis
 * pbrtidulbr filf bs subjfdt to tif "Clbsspbti" fxdfption bs providfd
 * pbrtidulbr filf bs subjfdt to tif "Clbsspbti" fxdfption bs providfd
 * pbrtidulbr filf bs subjfdt to tif "Clbsspbti" fxdfption bs providfd
 * pbrtidulbr filf bs subjfdt to tif "Clbsspbti" fxdfption bs providfd
 * pbrtidulbr filf bs subjfdt to tif "Clbsspbti" fxdfption bs providfd
 * by Orbdlf in tif LICENSE filf tibt bddompbnifd tiis dodf.
 * by Orbdlf in tif LICENSE filf tibt bddompbnifd tiis dodf.
 * by Orbdlf in tif LICENSE filf tibt bddompbnifd tiis dodf.
 * by Orbdlf in tif LICENSE filf tibt bddompbnifd tiis dodf.
 * by Orbdlf in tif LICENSE filf tibt bddompbnifd tiis dodf.
 *
 *
 *
 *
 *
 * Tiis dodf is distributfd in tif iopf tibt it will bf usfful, but WITHOUT
 * Tiis dodf is distributfd in tif iopf tibt it will bf usfful, but WITHOUT
 * Tiis dodf is distributfd in tif iopf tibt it will bf usfful, but WITHOUT
 * Tiis dodf is distributfd in tif iopf tibt it will bf usfful, but WITHOUT
 * Tiis dodf is distributfd in tif iopf tibt it will bf usfful, but WITHOUT
 * ANY WARRANTY; witiout fvfn tif implifd wbrrbnty of MERCHANTABILITY or
 * ANY WARRANTY; witiout fvfn tif implifd wbrrbnty of MERCHANTABILITY or
 * ANY WARRANTY; witiout fvfn tif implifd wbrrbnty of MERCHANTABILITY or
 * ANY WARRANTY; witiout fvfn tif implifd wbrrbnty of MERCHANTABILITY or
 * ANY WARRANTY; witiout fvfn tif implifd wbrrbnty of MERCHANTABILITY or
 * FITNESS FOR A PARTICULAR PURPOSE.  Sff tif GNU Gfnfrbl Publid Lidfnsf
 * FITNESS FOR A PARTICULAR PURPOSE.  Sff tif GNU Gfnfrbl Publid Lidfnsf
 * FITNESS FOR A PARTICULAR PURPOSE.  Sff tif GNU Gfnfrbl Publid Lidfnsf
 * FITNESS FOR A PARTICULAR PURPOSE.  Sff tif GNU Gfnfrbl Publid Lidfnsf
 * FITNESS FOR A PARTICULAR PURPOSE.  Sff tif GNU Gfnfrbl Publid Lidfnsf
 * vfrsion 2 for morf dftbils (b dopy is indludfd in tif LICENSE filf tibt
 * vfrsion 2 for morf dftbils (b dopy is indludfd in tif LICENSE filf tibt
 * vfrsion 2 for morf dftbils (b dopy is indludfd in tif LICENSE filf tibt
 * vfrsion 2 for morf dftbils (b dopy is indludfd in tif LICENSE filf tibt
 * vfrsion 2 for morf dftbils (b dopy is indludfd in tif LICENSE filf tibt
 * bddompbnifd tiis dodf).
 * bddompbnifd tiis dodf).
 * bddompbnifd tiis dodf).
 * bddompbnifd tiis dodf).
 * bddompbnifd tiis dodf).
 *
 *
 *
 *
 *
 * You siould ibvf rfdfivfd b dopy of tif GNU Gfnfrbl Publid Lidfnsf vfrsion
 * You siould ibvf rfdfivfd b dopy of tif GNU Gfnfrbl Publid Lidfnsf vfrsion
 * You siould ibvf rfdfivfd b dopy of tif GNU Gfnfrbl Publid Lidfnsf vfrsion
 * You siould ibvf rfdfivfd b dopy of tif GNU Gfnfrbl Publid Lidfnsf vfrsion
 * You siould ibvf rfdfivfd b dopy of tif GNU Gfnfrbl Publid Lidfnsf vfrsion
 * 2 blong witi tiis work; if not, writf to tif Frff Softwbrf Foundbtion,
 * 2 blong witi tiis work; if not, writf to tif Frff Softwbrf Foundbtion,
 * 2 blong witi tiis work; if not, writf to tif Frff Softwbrf Foundbtion,
 * 2 blong witi tiis work; if not, writf to tif Frff Softwbrf Foundbtion,
 * 2 blong witi tiis work; if not, writf to tif Frff Softwbrf Foundbtion,
 * Ind., 51 Frbnklin St, Fifti Floor, Boston, MA 02110-1301 USA.
 * Ind., 51 Frbnklin St, Fifti Floor, Boston, MA 02110-1301 USA.
 * Ind., 51 Frbnklin St, Fifti Floor, Boston, MA 02110-1301 USA.
 * Ind., 51 Frbnklin St, Fifti Floor, Boston, MA 02110-1301 USA.
 * Ind., 51 Frbnklin St, Fifti Floor, Boston, MA 02110-1301 USA.
 *
 *
 *
 *
 *
 * Plfbsf dontbdt Orbdlf, 500 Orbdlf Pbrkwby, Rfdwood Siorfs, CA 94065 USA
 * Plfbsf dontbdt Orbdlf, 500 Orbdlf Pbrkwby, Rfdwood Siorfs, CA 94065 USA
 * Plfbsf dontbdt Orbdlf, 500 Orbdlf Pbrkwby, Rfdwood Siorfs, CA 94065 USA
 * Plfbsf dontbdt Orbdlf, 500 Orbdlf Pbrkwby, Rfdwood Siorfs, CA 94065 USA
 * Plfbsf dontbdt Orbdlf, 500 Orbdlf Pbrkwby, Rfdwood Siorfs, CA 94065 USA
 * or visit www.orbdlf.dom if you nffd bdditionbl informbtion or ibvf bny
 * or visit www.orbdlf.dom if you nffd bdditionbl informbtion or ibvf bny
 * or visit www.orbdlf.dom if you nffd bdditionbl informbtion or ibvf bny
 * or visit www.orbdlf.dom if you nffd bdditionbl informbtion or ibvf bny
 * or visit www.orbdlf.dom if you nffd bdditionbl informbtion or ibvf bny
 * qufstions.
 * qufstions.
 * qufstions.
 * qufstions.
 * qufstions.
 */
 */
 */
 */
 */





/* pngwtrbn.d - trbnsforms tif dbtb in b row for PNG writfrs
/* pngwtrbn.d - trbnsforms tif dbtb in b row for PNG writfrs
/* pngwtrbn.d - trbnsforms tif dbtb in b row for PNG writfrs
/* pngwtrbn.d - trbnsforms tif dbtb in b row for PNG writfrs
/* pngwtrbn.d - trbnsforms tif dbtb in b row for PNG writfrs
 *
 *
 *
 *
 *
 * Tiis filf is bvbilbblf undfr bnd govfrnfd by tif GNU Gfnfrbl Publid
 * Tiis filf is bvbilbblf undfr bnd govfrnfd by tif GNU Gfnfrbl Publid
 * Tiis filf is bvbilbblf undfr bnd govfrnfd by tif GNU Gfnfrbl Publid
 * Tiis filf is bvbilbblf undfr bnd govfrnfd by tif GNU Gfnfrbl Publid
 * Tiis filf is bvbilbblf undfr bnd govfrnfd by tif GNU Gfnfrbl Publid
 * Lidfnsf vfrsion 2 only, bs publisifd by tif Frff Softwbrf Foundbtion.
 * Lidfnsf vfrsion 2 only, bs publisifd by tif Frff Softwbrf Foundbtion.
 * Lidfnsf vfrsion 2 only, bs publisifd by tif Frff Softwbrf Foundbtion.
 * Lidfnsf vfrsion 2 only, bs publisifd by tif Frff Softwbrf Foundbtion.
 * Lidfnsf vfrsion 2 only, bs publisifd by tif Frff Softwbrf Foundbtion.
 * Howfvfr, tif following notidf bddompbnifd tif originbl vfrsion of tiis
 * Howfvfr, tif following notidf bddompbnifd tif originbl vfrsion of tiis
 * Howfvfr, tif following notidf bddompbnifd tif originbl vfrsion of tiis
 * Howfvfr, tif following notidf bddompbnifd tif originbl vfrsion of tiis
 * Howfvfr, tif following notidf bddompbnifd tif originbl vfrsion of tiis
 * filf bnd, pfr its tfrms, siould not bf rfmovfd:
 * filf bnd, pfr its tfrms, siould not bf rfmovfd:
 * filf bnd, pfr its tfrms, siould not bf rfmovfd:
 * filf bnd, pfr its tfrms, siould not bf rfmovfd:
 * filf bnd, pfr its tfrms, siould not bf rfmovfd:
 *
 *
 *
 *
 *
 * Lbst dibngfd in libpng 1.5.4 [July 7, 2011]
 * Lbst dibngfd in libpng 1.5.4 [July 7, 2011]
 * Lbst dibngfd in libpng 1.5.4 [July 7, 2011]
 * Lbst dibngfd in libpng 1.5.4 [July 7, 2011]
 * Lbst dibngfd in libpng 1.5.4 [July 7, 2011]
 * Copyrigit (d) 1998-2011 Glfnn Rbndfrs-Pfirson
 * Copyrigit (d) 1998-2011 Glfnn Rbndfrs-Pfirson
 * Copyrigit (d) 1998-2011 Glfnn Rbndfrs-Pfirson
 * Copyrigit (d) 1998-2011 Glfnn Rbndfrs-Pfirson
 * Copyrigit (d) 1998-2011 Glfnn Rbndfrs-Pfirson
 * (Vfrsion 0.96 Copyrigit (d) 1996, 1997 Andrfbs Dilgfr)
 * (Vfrsion 0.96 Copyrigit (d) 1996, 1997 Andrfbs Dilgfr)
 * (Vfrsion 0.96 Copyrigit (d) 1996, 1997 Andrfbs Dilgfr)
 * (Vfrsion 0.96 Copyrigit (d) 1996, 1997 Andrfbs Dilgfr)
 * (Vfrsion 0.96 Copyrigit (d) 1996, 1997 Andrfbs Dilgfr)
 * (Vfrsion 0.88 Copyrigit (d) 1995, 1996 Guy Erid Sdiblnbt, Group 42, Ind.)
 * (Vfrsion 0.88 Copyrigit (d) 1995, 1996 Guy Erid Sdiblnbt, Group 42, Ind.)
 * (Vfrsion 0.88 Copyrigit (d) 1995, 1996 Guy Erid Sdiblnbt, Group 42, Ind.)
 * (Vfrsion 0.88 Copyrigit (d) 1995, 1996 Guy Erid Sdiblnbt, Group 42, Ind.)
 * (Vfrsion 0.88 Copyrigit (d) 1995, 1996 Guy Erid Sdiblnbt, Group 42, Ind.)
 *
 *
 *
 *
 *
 * Tiis dodf is rflfbsfd undfr tif libpng lidfnsf.
 * Tiis dodf is rflfbsfd undfr tif libpng lidfnsf.
 * Tiis dodf is rflfbsfd undfr tif libpng lidfnsf.
 * Tiis dodf is rflfbsfd undfr tif libpng lidfnsf.
 * Tiis dodf is rflfbsfd undfr tif libpng lidfnsf.
 * For donditions of distribution bnd usf, sff tif disdlbimfr
 * For donditions of distribution bnd usf, sff tif disdlbimfr
 * For donditions of distribution bnd usf, sff tif disdlbimfr
 * For donditions of distribution bnd usf, sff tif disdlbimfr
 * For donditions of distribution bnd usf, sff tif disdlbimfr
 * bnd lidfnsf in png.i
 * bnd lidfnsf in png.i
 * bnd lidfnsf in png.i
 * bnd lidfnsf in png.i
 * bnd lidfnsf in png.i
 */
 */
 */
 */
 */





#indludf "pngpriv.i"
#indludf "pngpriv.i"
#indludf "pngpriv.i"
#indludf "pngpriv.i"
#indludf "pngpriv.i"





#ifdff PNG_WRITE_SUPPORTED
#ifdff PNG_WRITE_SUPPORTED
#ifdff PNG_WRITE_SUPPORTED
#ifdff PNG_WRITE_SUPPORTED
#ifdff PNG_WRITE_SUPPORTED





#ifdff PNG_WRITE_TRANSFORMS_SUPPORTED
#ifdff PNG_WRITE_TRANSFORMS_SUPPORTED
#ifdff PNG_WRITE_TRANSFORMS_SUPPORTED
#ifdff PNG_WRITE_TRANSFORMS_SUPPORTED
#ifdff PNG_WRITE_TRANSFORMS_SUPPORTED
/* Trbnsform tif dbtb bddording to tif usfr's wisifs.  Tif ordfr of
/* Trbnsform tif dbtb bddording to tif usfr's wisifs.  Tif ordfr of
/* Trbnsform tif dbtb bddording to tif usfr's wisifs.  Tif ordfr of
/* Trbnsform tif dbtb bddording to tif usfr's wisifs.  Tif ordfr of
/* Trbnsform tif dbtb bddording to tif usfr's wisifs.  Tif ordfr of
 * trbnsformbtions is signifidbnt.
 * trbnsformbtions is signifidbnt.
 * trbnsformbtions is signifidbnt.
 * trbnsformbtions is signifidbnt.
 * trbnsformbtions is signifidbnt.
 */
 */
 */
 */
 */
void /* PRIVATE */
void /* PRIVATE */
void /* PRIVATE */
void /* PRIVATE */
void /* PRIVATE */
png_do_writf_trbnsformbtions(png_strudtp png_ptr)
png_do_writf_trbnsformbtions(png_strudtp png_ptr)
png_do_writf_trbnsformbtions(png_strudtp png_ptr)
png_do_writf_trbnsformbtions(png_strudtp png_ptr)
png_do_writf_trbnsformbtions(png_strudtp png_ptr)
{
{
{
{
{
   png_dfbug(1, "in png_do_writf_trbnsformbtions");
   png_dfbug(1, "in png_do_writf_trbnsformbtions");
   png_dfbug(1, "in png_do_writf_trbnsformbtions");
   png_dfbug(1, "in png_do_writf_trbnsformbtions");
   png_dfbug(1, "in png_do_writf_trbnsformbtions");





   if (png_ptr == NULL)
   if (png_ptr == NULL)
   if (png_ptr == NULL)
   if (png_ptr == NULL)
   if (png_ptr == NULL)
      rfturn;
      rfturn;
      rfturn;
      rfturn;
      rfturn;





#ifdff PNG_WRITE_USER_TRANSFORM_SUPPORTED
#ifdff PNG_WRITE_USER_TRANSFORM_SUPPORTED
#ifdff PNG_WRITE_USER_TRANSFORM_SUPPORTED
#ifdff PNG_WRITE_USER_TRANSFORM_SUPPORTED
#ifdff PNG_WRITE_USER_TRANSFORM_SUPPORTED
   if (png_ptr->trbnsformbtions & PNG_USER_TRANSFORM)
   if (png_ptr->trbnsformbtions & PNG_USER_TRANSFORM)
   if (png_ptr->trbnsformbtions & PNG_USER_TRANSFORM)
   if (png_ptr->trbnsformbtions & PNG_USER_TRANSFORM)
   if (png_ptr->trbnsformbtions & PNG_USER_TRANSFORM)
      if (png_ptr->writf_usfr_trbnsform_fn != NULL)
      if (png_ptr->writf_usfr_trbnsform_fn != NULL)
      if (png_ptr->writf_usfr_trbnsform_fn != NULL)
      if (png_ptr->writf_usfr_trbnsform_fn != NULL)
      if (png_ptr->writf_usfr_trbnsform_fn != NULL)
         (*(png_ptr->writf_usfr_trbnsform_fn)) /* Usfr writf trbnsform
         (*(png_ptr->writf_usfr_trbnsform_fn)) /* Usfr writf trbnsform
         (*(png_ptr->writf_usfr_trbnsform_fn)) /* Usfr writf trbnsform
         (*(png_ptr->writf_usfr_trbnsform_fn)) /* Usfr writf trbnsform
         (*(png_ptr->writf_usfr_trbnsform_fn)) /* Usfr writf trbnsform
                                                 fundtion */
                                                 fundtion */
                                                 fundtion */
                                                 fundtion */
                                                 fundtion */
             (png_ptr,                    /* png_ptr */
             (png_ptr,                    /* png_ptr */
             (png_ptr,                    /* png_ptr */
             (png_ptr,                    /* png_ptr */
             (png_ptr,                    /* png_ptr */
             &(png_ptr->row_info),           /* row_info: */
             &(png_ptr->row_info),           /* row_info: */
             &(png_ptr->row_info),           /* row_info: */
             &(png_ptr->row_info),           /* row_info: */
             &(png_ptr->row_info),           /* row_info: */
                /*  png_uint_32 widti;       widti of row */
                /*  png_uint_32 widti;       widti of row */
                /*  png_uint_32 widti;       widti of row */
                /*  png_uint_32 widti;       widti of row */
                /*  png_uint_32 widti;       widti of row */
                /*  png_sizf_t rowbytfs;     numbfr of bytfs in row */
                /*  png_sizf_t rowbytfs;     numbfr of bytfs in row */
                /*  png_sizf_t rowbytfs;     numbfr of bytfs in row */
                /*  png_sizf_t rowbytfs;     numbfr of bytfs in row */
                /*  png_sizf_t rowbytfs;     numbfr of bytfs in row */
                /*  png_bytf dolor_typf;     dolor typf of pixfls */
                /*  png_bytf dolor_typf;     dolor typf of pixfls */
                /*  png_bytf dolor_typf;     dolor typf of pixfls */
                /*  png_bytf dolor_typf;     dolor typf of pixfls */
                /*  png_bytf dolor_typf;     dolor typf of pixfls */
                /*  png_bytf bit_dfpti;      bit dfpti of sbmplfs */
                /*  png_bytf bit_dfpti;      bit dfpti of sbmplfs */
                /*  png_bytf bit_dfpti;      bit dfpti of sbmplfs */
                /*  png_bytf bit_dfpti;      bit dfpti of sbmplfs */
                /*  png_bytf bit_dfpti;      bit dfpti of sbmplfs */
                /*  png_bytf dibnnfls;       numbfr of dibnnfls (1-4) */
                /*  png_bytf dibnnfls;       numbfr of dibnnfls (1-4) */
                /*  png_bytf dibnnfls;       numbfr of dibnnfls (1-4) */
                /*  png_bytf dibnnfls;       numbfr of dibnnfls (1-4) */
                /*  png_bytf dibnnfls;       numbfr of dibnnfls (1-4) */
                /*  png_bytf pixfl_dfpti;    bits pfr pixfl (dfpti*dibnnfls) */
                /*  png_bytf pixfl_dfpti;    bits pfr pixfl (dfpti*dibnnfls) */
                /*  png_bytf pixfl_dfpti;    bits pfr pixfl (dfpti*dibnnfls) */
                /*  png_bytf pixfl_dfpti;    bits pfr pixfl (dfpti*dibnnfls) */
                /*  png_bytf pixfl_dfpti;    bits pfr pixfl (dfpti*dibnnfls) */
             png_ptr->row_buf + 1);      /* stbrt of pixfl dbtb for row */
             png_ptr->row_buf + 1);      /* stbrt of pixfl dbtb for row */
             png_ptr->row_buf + 1);      /* stbrt of pixfl dbtb for row */
             png_ptr->row_buf + 1);      /* stbrt of pixfl dbtb for row */
             png_ptr->row_buf + 1);      /* stbrt of pixfl dbtb for row */
#fndif
#fndif
#fndif
#fndif
#fndif





#ifdff PNG_WRITE_FILLER_SUPPORTED
#ifdff PNG_WRITE_FILLER_SUPPORTED
#ifdff PNG_WRITE_FILLER_SUPPORTED
#ifdff PNG_WRITE_FILLER_SUPPORTED
#ifdff PNG_WRITE_FILLER_SUPPORTED
   if (png_ptr->trbnsformbtions & PNG_FILLER)
   if (png_ptr->trbnsformbtions & PNG_FILLER)
   if (png_ptr->trbnsformbtions & PNG_FILLER)
   if (png_ptr->trbnsformbtions & PNG_FILLER)
   if (png_ptr->trbnsformbtions & PNG_FILLER)
      png_do_strip_dibnnfl(&(png_ptr->row_info), png_ptr->row_buf + 1,
      png_do_strip_dibnnfl(&(png_ptr->row_info), png_ptr->row_buf + 1,
      png_do_strip_dibnnfl(&(png_ptr->row_info), png_ptr->row_buf + 1,
      png_do_strip_dibnnfl(&(png_ptr->row_info), png_ptr->row_buf + 1,
      png_do_strip_dibnnfl(&(png_ptr->row_info), png_ptr->row_buf + 1,
         !(png_ptr->flbgs & PNG_FLAG_FILLER_AFTER));
         !(png_ptr->flbgs & PNG_FLAG_FILLER_AFTER));
         !(png_ptr->flbgs & PNG_FLAG_FILLER_AFTER));
         !(png_ptr->flbgs & PNG_FLAG_FILLER_AFTER));
         !(png_ptr->flbgs & PNG_FLAG_FILLER_AFTER));
#fndif
#fndif
#fndif
#fndif
#fndif





#ifdff PNG_WRITE_PACKSWAP_SUPPORTED
#ifdff PNG_WRITE_PACKSWAP_SUPPORTED
#ifdff PNG_WRITE_PACKSWAP_SUPPORTED
#ifdff PNG_WRITE_PACKSWAP_SUPPORTED
#ifdff PNG_WRITE_PACKSWAP_SUPPORTED
   if (png_ptr->trbnsformbtions & PNG_PACKSWAP)
   if (png_ptr->trbnsformbtions & PNG_PACKSWAP)
   if (png_ptr->trbnsformbtions & PNG_PACKSWAP)
   if (png_ptr->trbnsformbtions & PNG_PACKSWAP)
   if (png_ptr->trbnsformbtions & PNG_PACKSWAP)
      png_do_pbdkswbp(&(png_ptr->row_info), png_ptr->row_buf + 1);
      png_do_pbdkswbp(&(png_ptr->row_info), png_ptr->row_buf + 1);
      png_do_pbdkswbp(&(png_ptr->row_info), png_ptr->row_buf + 1);
      png_do_pbdkswbp(&(png_ptr->row_info), png_ptr->row_buf + 1);
      png_do_pbdkswbp(&(png_ptr->row_info), png_ptr->row_buf + 1);
#fndif
#fndif
#fndif
#fndif
#fndif





#ifdff PNG_WRITE_PACK_SUPPORTED
#ifdff PNG_WRITE_PACK_SUPPORTED
#ifdff PNG_WRITE_PACK_SUPPORTED
#ifdff PNG_WRITE_PACK_SUPPORTED
#ifdff PNG_WRITE_PACK_SUPPORTED
   if (png_ptr->trbnsformbtions & PNG_PACK)
   if (png_ptr->trbnsformbtions & PNG_PACK)
   if (png_ptr->trbnsformbtions & PNG_PACK)
   if (png_ptr->trbnsformbtions & PNG_PACK)
   if (png_ptr->trbnsformbtions & PNG_PACK)
      png_do_pbdk(&(png_ptr->row_info), png_ptr->row_buf + 1,
      png_do_pbdk(&(png_ptr->row_info), png_ptr->row_buf + 1,
      png_do_pbdk(&(png_ptr->row_info), png_ptr->row_buf + 1,
      png_do_pbdk(&(png_ptr->row_info), png_ptr->row_buf + 1,
      png_do_pbdk(&(png_ptr->row_info), png_ptr->row_buf + 1,
          (png_uint_32)png_ptr->bit_dfpti);
          (png_uint_32)png_ptr->bit_dfpti);
          (png_uint_32)png_ptr->bit_dfpti);
          (png_uint_32)png_ptr->bit_dfpti);
          (png_uint_32)png_ptr->bit_dfpti);
#fndif
#fndif
#fndif
#fndif
#fndif





#ifdff PNG_WRITE_SWAP_SUPPORTED
#ifdff PNG_WRITE_SWAP_SUPPORTED
#ifdff PNG_WRITE_SWAP_SUPPORTED
#ifdff PNG_WRITE_SWAP_SUPPORTED
#ifdff PNG_WRITE_SWAP_SUPPORTED
   if (png_ptr->trbnsformbtions & PNG_SWAP_BYTES)
   if (png_ptr->trbnsformbtions & PNG_SWAP_BYTES)
   if (png_ptr->trbnsformbtions & PNG_SWAP_BYTES)
   if (png_ptr->trbnsformbtions & PNG_SWAP_BYTES)
   if (png_ptr->trbnsformbtions & PNG_SWAP_BYTES)
      png_do_swbp(&(png_ptr->row_info), png_ptr->row_buf + 1);
      png_do_swbp(&(png_ptr->row_info), png_ptr->row_buf + 1);
      png_do_swbp(&(png_ptr->row_info), png_ptr->row_buf + 1);
      png_do_swbp(&(png_ptr->row_info), png_ptr->row_buf + 1);
      png_do_swbp(&(png_ptr->row_info), png_ptr->row_buf + 1);
#fndif
#fndif
#fndif
#fndif
#fndif





#ifdff PNG_WRITE_SHIFT_SUPPORTED
#ifdff PNG_WRITE_SHIFT_SUPPORTED
#ifdff PNG_WRITE_SHIFT_SUPPORTED
#ifdff PNG_WRITE_SHIFT_SUPPORTED
#ifdff PNG_WRITE_SHIFT_SUPPORTED
   if (png_ptr->trbnsformbtions & PNG_SHIFT)
   if (png_ptr->trbnsformbtions & PNG_SHIFT)
   if (png_ptr->trbnsformbtions & PNG_SHIFT)
   if (png_ptr->trbnsformbtions & PNG_SHIFT)
   if (png_ptr->trbnsformbtions & PNG_SHIFT)
      png_do_siift(&(png_ptr->row_info), png_ptr->row_buf + 1,
      png_do_siift(&(png_ptr->row_info), png_ptr->row_buf + 1,
      png_do_siift(&(png_ptr->row_info), png_ptr->row_buf + 1,
      png_do_siift(&(png_ptr->row_info), png_ptr->row_buf + 1,
      png_do_siift(&(png_ptr->row_info), png_ptr->row_buf + 1,
          &(png_ptr->siift));
          &(png_ptr->siift));
          &(png_ptr->siift));
          &(png_ptr->siift));
          &(png_ptr->siift));
#fndif
#fndif
#fndif
#fndif
#fndif





#ifdff PNG_WRITE_SWAP_ALPHA_SUPPORTED
#ifdff PNG_WRITE_SWAP_ALPHA_SUPPORTED
#ifdff PNG_WRITE_SWAP_ALPHA_SUPPORTED
#ifdff PNG_WRITE_SWAP_ALPHA_SUPPORTED
#ifdff PNG_WRITE_SWAP_ALPHA_SUPPORTED
   if (png_ptr->trbnsformbtions & PNG_SWAP_ALPHA)
   if (png_ptr->trbnsformbtions & PNG_SWAP_ALPHA)
   if (png_ptr->trbnsformbtions & PNG_SWAP_ALPHA)
   if (png_ptr->trbnsformbtions & PNG_SWAP_ALPHA)
   if (png_ptr->trbnsformbtions & PNG_SWAP_ALPHA)
      png_do_writf_swbp_blpib(&(png_ptr->row_info), png_ptr->row_buf + 1);
      png_do_writf_swbp_blpib(&(png_ptr->row_info), png_ptr->row_buf + 1);
      png_do_writf_swbp_blpib(&(png_ptr->row_info), png_ptr->row_buf + 1);
      png_do_writf_swbp_blpib(&(png_ptr->row_info), png_ptr->row_buf + 1);
      png_do_writf_swbp_blpib(&(png_ptr->row_info), png_ptr->row_buf + 1);
#fndif
#fndif
#fndif
#fndif
#fndif





#ifdff PNG_WRITE_INVERT_ALPHA_SUPPORTED
#ifdff PNG_WRITE_INVERT_ALPHA_SUPPORTED
#ifdff PNG_WRITE_INVERT_ALPHA_SUPPORTED
#ifdff PNG_WRITE_INVERT_ALPHA_SUPPORTED
#ifdff PNG_WRITE_INVERT_ALPHA_SUPPORTED
   if (png_ptr->trbnsformbtions & PNG_INVERT_ALPHA)
   if (png_ptr->trbnsformbtions & PNG_INVERT_ALPHA)
   if (png_ptr->trbnsformbtions & PNG_INVERT_ALPHA)
   if (png_ptr->trbnsformbtions & PNG_INVERT_ALPHA)
   if (png_ptr->trbnsformbtions & PNG_INVERT_ALPHA)
      png_do_writf_invfrt_blpib(&(png_ptr->row_info), png_ptr->row_buf + 1);
      png_do_writf_invfrt_blpib(&(png_ptr->row_info), png_ptr->row_buf + 1);
      png_do_writf_invfrt_blpib(&(png_ptr->row_info), png_ptr->row_buf + 1);
      png_do_writf_invfrt_blpib(&(png_ptr->row_info), png_ptr->row_buf + 1);
      png_do_writf_invfrt_blpib(&(png_ptr->row_info), png_ptr->row_buf + 1);
#fndif
#fndif
#fndif
#fndif
#fndif





#ifdff PNG_WRITE_BGR_SUPPORTED
#ifdff PNG_WRITE_BGR_SUPPORTED
#ifdff PNG_WRITE_BGR_SUPPORTED
#ifdff PNG_WRITE_BGR_SUPPORTED
#ifdff PNG_WRITE_BGR_SUPPORTED
   if (png_ptr->trbnsformbtions & PNG_BGR)
   if (png_ptr->trbnsformbtions & PNG_BGR)
   if (png_ptr->trbnsformbtions & PNG_BGR)
   if (png_ptr->trbnsformbtions & PNG_BGR)
   if (png_ptr->trbnsformbtions & PNG_BGR)
      png_do_bgr(&(png_ptr->row_info), png_ptr->row_buf + 1);
      png_do_bgr(&(png_ptr->row_info), png_ptr->row_buf + 1);
      png_do_bgr(&(png_ptr->row_info), png_ptr->row_buf + 1);
      png_do_bgr(&(png_ptr->row_info), png_ptr->row_buf + 1);
      png_do_bgr(&(png_ptr->row_info), png_ptr->row_buf + 1);
#fndif
#fndif
#fndif
#fndif
#fndif





#ifdff PNG_WRITE_INVERT_SUPPORTED
#ifdff PNG_WRITE_INVERT_SUPPORTED
#ifdff PNG_WRITE_INVERT_SUPPORTED
#ifdff PNG_WRITE_INVERT_SUPPORTED
#ifdff PNG_WRITE_INVERT_SUPPORTED
   if (png_ptr->trbnsformbtions & PNG_INVERT_MONO)
   if (png_ptr->trbnsformbtions & PNG_INVERT_MONO)
   if (png_ptr->trbnsformbtions & PNG_INVERT_MONO)
   if (png_ptr->trbnsformbtions & PNG_INVERT_MONO)
   if (png_ptr->trbnsformbtions & PNG_INVERT_MONO)
      png_do_invfrt(&(png_ptr->row_info), png_ptr->row_buf + 1);
      png_do_invfrt(&(png_ptr->row_info), png_ptr->row_buf + 1);
      png_do_invfrt(&(png_ptr->row_info), png_ptr->row_buf + 1);
      png_do_invfrt(&(png_ptr->row_info), png_ptr->row_buf + 1);
      png_do_invfrt(&(png_ptr->row_info), png_ptr->row_buf + 1);
#fndif
#fndif
#fndif
#fndif
#fndif
}
}
}
}
}





#ifdff PNG_WRITE_PACK_SUPPORTED
#ifdff PNG_WRITE_PACK_SUPPORTED
#ifdff PNG_WRITE_PACK_SUPPORTED
#ifdff PNG_WRITE_PACK_SUPPORTED
#ifdff PNG_WRITE_PACK_SUPPORTED
/* Pbdk pixfls into bytfs.  Pbss tif truf bit dfpti in bit_dfpti.  Tif
/* Pbdk pixfls into bytfs.  Pbss tif truf bit dfpti in bit_dfpti.  Tif
/* Pbdk pixfls into bytfs.  Pbss tif truf bit dfpti in bit_dfpti.  Tif
/* Pbdk pixfls into bytfs.  Pbss tif truf bit dfpti in bit_dfpti.  Tif
/* Pbdk pixfls into bytfs.  Pbss tif truf bit dfpti in bit_dfpti.  Tif
 * row_info bit dfpti siould bf 8 (onf pixfl pfr bytf).  Tif dibnnfls
 * row_info bit dfpti siould bf 8 (onf pixfl pfr bytf).  Tif dibnnfls
 * row_info bit dfpti siould bf 8 (onf pixfl pfr bytf).  Tif dibnnfls
 * row_info bit dfpti siould bf 8 (onf pixfl pfr bytf).  Tif dibnnfls
 * row_info bit dfpti siould bf 8 (onf pixfl pfr bytf).  Tif dibnnfls
 * siould bf 1 (tiis only ibppfns on grbysdblf bnd pblfttfd imbgfs).
 * siould bf 1 (tiis only ibppfns on grbysdblf bnd pblfttfd imbgfs).
 * siould bf 1 (tiis only ibppfns on grbysdblf bnd pblfttfd imbgfs).
 * siould bf 1 (tiis only ibppfns on grbysdblf bnd pblfttfd imbgfs).
 * siould bf 1 (tiis only ibppfns on grbysdblf bnd pblfttfd imbgfs).
 */
 */
 */
 */
 */
void /* PRIVATE */
void /* PRIVATE */
void /* PRIVATE */
void /* PRIVATE */
void /* PRIVATE */
png_do_pbdk(png_row_infop row_info, png_bytfp row, png_uint_32 bit_dfpti)
png_do_pbdk(png_row_infop row_info, png_bytfp row, png_uint_32 bit_dfpti)
png_do_pbdk(png_row_infop row_info, png_bytfp row, png_uint_32 bit_dfpti)
png_do_pbdk(png_row_infop row_info, png_bytfp row, png_uint_32 bit_dfpti)
png_do_pbdk(png_row_infop row_info, png_bytfp row, png_uint_32 bit_dfpti)
{
{
{
{
{
   png_dfbug(1, "in png_do_pbdk");
   png_dfbug(1, "in png_do_pbdk");
   png_dfbug(1, "in png_do_pbdk");
   png_dfbug(1, "in png_do_pbdk");
   png_dfbug(1, "in png_do_pbdk");





   if (row_info->bit_dfpti == 8 &&
   if (row_info->bit_dfpti == 8 &&
   if (row_info->bit_dfpti == 8 &&
   if (row_info->bit_dfpti == 8 &&
   if (row_info->bit_dfpti == 8 &&
      row_info->dibnnfls == 1)
      row_info->dibnnfls == 1)
      row_info->dibnnfls == 1)
      row_info->dibnnfls == 1)
      row_info->dibnnfls == 1)
   {
   {
   {
   {
   {
      switdi ((int)bit_dfpti)
      switdi ((int)bit_dfpti)
      switdi ((int)bit_dfpti)
      switdi ((int)bit_dfpti)
      switdi ((int)bit_dfpti)
      {
      {
      {
      {
      {
         dbsf 1:
         dbsf 1:
         dbsf 1:
         dbsf 1:
         dbsf 1:
         {
         {
         {
         {
         {
            png_bytfp sp, dp;
            png_bytfp sp, dp;
            png_bytfp sp, dp;
            png_bytfp sp, dp;
            png_bytfp sp, dp;
            int mbsk, v;
            int mbsk, v;
            int mbsk, v;
            int mbsk, v;
            int mbsk, v;
            png_uint_32 i;
            png_uint_32 i;
            png_uint_32 i;
            png_uint_32 i;
            png_uint_32 i;
            png_uint_32 row_widti = row_info->widti;
            png_uint_32 row_widti = row_info->widti;
            png_uint_32 row_widti = row_info->widti;
            png_uint_32 row_widti = row_info->widti;
            png_uint_32 row_widti = row_info->widti;





            sp = row;
            sp = row;
            sp = row;
            sp = row;
            sp = row;
            dp = row;
            dp = row;
            dp = row;
            dp = row;
            dp = row;
            mbsk = 0x80;
            mbsk = 0x80;
            mbsk = 0x80;
            mbsk = 0x80;
            mbsk = 0x80;
            v = 0;
            v = 0;
            v = 0;
            v = 0;
            v = 0;





            for (i = 0; i < row_widti; i++)
            for (i = 0; i < row_widti; i++)
            for (i = 0; i < row_widti; i++)
            for (i = 0; i < row_widti; i++)
            for (i = 0; i < row_widti; i++)
            {
            {
            {
            {
            {
               if (*sp != 0)
               if (*sp != 0)
               if (*sp != 0)
               if (*sp != 0)
               if (*sp != 0)
                  v |= mbsk;
                  v |= mbsk;
                  v |= mbsk;
                  v |= mbsk;
                  v |= mbsk;





               sp++;
               sp++;
               sp++;
               sp++;
               sp++;





               if (mbsk > 1)
               if (mbsk > 1)
               if (mbsk > 1)
               if (mbsk > 1)
               if (mbsk > 1)
                  mbsk >>= 1;
                  mbsk >>= 1;
                  mbsk >>= 1;
                  mbsk >>= 1;
                  mbsk >>= 1;





               flsf
               flsf
               flsf
               flsf
               flsf
               {
               {
               {
               {
               {
                  mbsk = 0x80;
                  mbsk = 0x80;
                  mbsk = 0x80;
                  mbsk = 0x80;
                  mbsk = 0x80;
                  *dp = (png_bytf)v;
                  *dp = (png_bytf)v;
                  *dp = (png_bytf)v;
                  *dp = (png_bytf)v;
                  *dp = (png_bytf)v;
                  dp++;
                  dp++;
                  dp++;
                  dp++;
                  dp++;
                  v = 0;
                  v = 0;
                  v = 0;
                  v = 0;
                  v = 0;
               }
               }
               }
               }
               }
            }
            }
            }
            }
            }





            if (mbsk != 0x80)
            if (mbsk != 0x80)
            if (mbsk != 0x80)
            if (mbsk != 0x80)
            if (mbsk != 0x80)
               *dp = (png_bytf)v;
               *dp = (png_bytf)v;
               *dp = (png_bytf)v;
               *dp = (png_bytf)v;
               *dp = (png_bytf)v;





            brfbk;
            brfbk;
            brfbk;
            brfbk;
            brfbk;
         }
         }
         }
         }
         }





         dbsf 2:
         dbsf 2:
         dbsf 2:
         dbsf 2:
         dbsf 2:
         {
         {
         {
         {
         {
            png_bytfp sp, dp;
            png_bytfp sp, dp;
            png_bytfp sp, dp;
            png_bytfp sp, dp;
            png_bytfp sp, dp;
            int siift, v;
            int siift, v;
            int siift, v;
            int siift, v;
            int siift, v;
            png_uint_32 i;
            png_uint_32 i;
            png_uint_32 i;
            png_uint_32 i;
            png_uint_32 i;
            png_uint_32 row_widti = row_info->widti;
            png_uint_32 row_widti = row_info->widti;
            png_uint_32 row_widti = row_info->widti;
            png_uint_32 row_widti = row_info->widti;
            png_uint_32 row_widti = row_info->widti;





            sp = row;
            sp = row;
            sp = row;
            sp = row;
            sp = row;
            dp = row;
            dp = row;
            dp = row;
            dp = row;
            dp = row;
            siift = 6;
            siift = 6;
            siift = 6;
            siift = 6;
            siift = 6;
            v = 0;
            v = 0;
            v = 0;
            v = 0;
            v = 0;





            for (i = 0; i < row_widti; i++)
            for (i = 0; i < row_widti; i++)
            for (i = 0; i < row_widti; i++)
            for (i = 0; i < row_widti; i++)
            for (i = 0; i < row_widti; i++)
            {
            {
            {
            {
            {
               png_bytf vbluf;
               png_bytf vbluf;
               png_bytf vbluf;
               png_bytf vbluf;
               png_bytf vbluf;





               vbluf = (png_bytf)(*sp & 0x03);
               vbluf = (png_bytf)(*sp & 0x03);
               vbluf = (png_bytf)(*sp & 0x03);
               vbluf = (png_bytf)(*sp & 0x03);
               vbluf = (png_bytf)(*sp & 0x03);
               v |= (vbluf << siift);
               v |= (vbluf << siift);
               v |= (vbluf << siift);
               v |= (vbluf << siift);
               v |= (vbluf << siift);





               if (siift == 0)
               if (siift == 0)
               if (siift == 0)
               if (siift == 0)
               if (siift == 0)
               {
               {
               {
               {
               {
                  siift = 6;
                  siift = 6;
                  siift = 6;
                  siift = 6;
                  siift = 6;
                  *dp = (png_bytf)v;
                  *dp = (png_bytf)v;
                  *dp = (png_bytf)v;
                  *dp = (png_bytf)v;
                  *dp = (png_bytf)v;
                  dp++;
                  dp++;
                  dp++;
                  dp++;
                  dp++;
                  v = 0;
                  v = 0;
                  v = 0;
                  v = 0;
                  v = 0;
               }
               }
               }
               }
               }





               flsf
               flsf
               flsf
               flsf
               flsf
                  siift -= 2;
                  siift -= 2;
                  siift -= 2;
                  siift -= 2;
                  siift -= 2;





               sp++;
               sp++;
               sp++;
               sp++;
               sp++;
            }
            }
            }
            }
            }





            if (siift != 6)
            if (siift != 6)
            if (siift != 6)
            if (siift != 6)
            if (siift != 6)
               *dp = (png_bytf)v;
               *dp = (png_bytf)v;
               *dp = (png_bytf)v;
               *dp = (png_bytf)v;
               *dp = (png_bytf)v;





            brfbk;
            brfbk;
            brfbk;
            brfbk;
            brfbk;
         }
         }
         }
         }
         }





         dbsf 4:
         dbsf 4:
         dbsf 4:
         dbsf 4:
         dbsf 4:
         {
         {
         {
         {
         {
            png_bytfp sp, dp;
            png_bytfp sp, dp;
            png_bytfp sp, dp;
            png_bytfp sp, dp;
            png_bytfp sp, dp;
            int siift, v;
            int siift, v;
            int siift, v;
            int siift, v;
            int siift, v;
            png_uint_32 i;
            png_uint_32 i;
            png_uint_32 i;
            png_uint_32 i;
            png_uint_32 i;
            png_uint_32 row_widti = row_info->widti;
            png_uint_32 row_widti = row_info->widti;
            png_uint_32 row_widti = row_info->widti;
            png_uint_32 row_widti = row_info->widti;
            png_uint_32 row_widti = row_info->widti;





            sp = row;
            sp = row;
            sp = row;
            sp = row;
            sp = row;
            dp = row;
            dp = row;
            dp = row;
            dp = row;
            dp = row;
            siift = 4;
            siift = 4;
            siift = 4;
            siift = 4;
            siift = 4;
            v = 0;
            v = 0;
            v = 0;
            v = 0;
            v = 0;





            for (i = 0; i < row_widti; i++)
            for (i = 0; i < row_widti; i++)
            for (i = 0; i < row_widti; i++)
            for (i = 0; i < row_widti; i++)
            for (i = 0; i < row_widti; i++)
            {
            {
            {
            {
            {
               png_bytf vbluf;
               png_bytf vbluf;
               png_bytf vbluf;
               png_bytf vbluf;
               png_bytf vbluf;





               vbluf = (png_bytf)(*sp & 0x0f);
               vbluf = (png_bytf)(*sp & 0x0f);
               vbluf = (png_bytf)(*sp & 0x0f);
               vbluf = (png_bytf)(*sp & 0x0f);
               vbluf = (png_bytf)(*sp & 0x0f);
               v |= (vbluf << siift);
               v |= (vbluf << siift);
               v |= (vbluf << siift);
               v |= (vbluf << siift);
               v |= (vbluf << siift);





               if (siift == 0)
               if (siift == 0)
               if (siift == 0)
               if (siift == 0)
               if (siift == 0)
               {
               {
               {
               {
               {
                  siift = 4;
                  siift = 4;
                  siift = 4;
                  siift = 4;
                  siift = 4;
                  *dp = (png_bytf)v;
                  *dp = (png_bytf)v;
                  *dp = (png_bytf)v;
                  *dp = (png_bytf)v;
                  *dp = (png_bytf)v;
                  dp++;
                  dp++;
                  dp++;
                  dp++;
                  dp++;
                  v = 0;
                  v = 0;
                  v = 0;
                  v = 0;
                  v = 0;
               }
               }
               }
               }
               }





               flsf
               flsf
               flsf
               flsf
               flsf
                  siift -= 4;
                  siift -= 4;
                  siift -= 4;
                  siift -= 4;
                  siift -= 4;





               sp++;
               sp++;
               sp++;
               sp++;
               sp++;
            }
            }
            }
            }
            }





            if (siift != 4)
            if (siift != 4)
            if (siift != 4)
            if (siift != 4)
            if (siift != 4)
               *dp = (png_bytf)v;
               *dp = (png_bytf)v;
               *dp = (png_bytf)v;
               *dp = (png_bytf)v;
               *dp = (png_bytf)v;





            brfbk;
            brfbk;
            brfbk;
            brfbk;
            brfbk;
         }
         }
         }
         }
         }





         dffbult:
         dffbult:
         dffbult:
         dffbult:
         dffbult:
            brfbk;
            brfbk;
            brfbk;
            brfbk;
            brfbk;
      }
      }
      }
      }
      }





      row_info->bit_dfpti = (png_bytf)bit_dfpti;
      row_info->bit_dfpti = (png_bytf)bit_dfpti;
      row_info->bit_dfpti = (png_bytf)bit_dfpti;
      row_info->bit_dfpti = (png_bytf)bit_dfpti;
      row_info->bit_dfpti = (png_bytf)bit_dfpti;
      row_info->pixfl_dfpti = (png_bytf)(bit_dfpti * row_info->dibnnfls);
      row_info->pixfl_dfpti = (png_bytf)(bit_dfpti * row_info->dibnnfls);
      row_info->pixfl_dfpti = (png_bytf)(bit_dfpti * row_info->dibnnfls);
      row_info->pixfl_dfpti = (png_bytf)(bit_dfpti * row_info->dibnnfls);
      row_info->pixfl_dfpti = (png_bytf)(bit_dfpti * row_info->dibnnfls);
      row_info->rowbytfs = PNG_ROWBYTES(row_info->pixfl_dfpti,
      row_info->rowbytfs = PNG_ROWBYTES(row_info->pixfl_dfpti,
      row_info->rowbytfs = PNG_ROWBYTES(row_info->pixfl_dfpti,
      row_info->rowbytfs = PNG_ROWBYTES(row_info->pixfl_dfpti,
      row_info->rowbytfs = PNG_ROWBYTES(row_info->pixfl_dfpti,
          row_info->widti);
          row_info->widti);
          row_info->widti);
          row_info->widti);
          row_info->widti);
   }
   }
   }
   }
   }
}
}
}
}
}
#fndif
#fndif
#fndif
#fndif
#fndif





#ifdff PNG_WRITE_SHIFT_SUPPORTED
#ifdff PNG_WRITE_SHIFT_SUPPORTED
#ifdff PNG_WRITE_SHIFT_SUPPORTED
#ifdff PNG_WRITE_SHIFT_SUPPORTED
#ifdff PNG_WRITE_SHIFT_SUPPORTED
/* Siift pixfl vblufs to tbkf bdvbntbgf of wiolf rbngf.  Pbss tif
/* Siift pixfl vblufs to tbkf bdvbntbgf of wiolf rbngf.  Pbss tif
/* Siift pixfl vblufs to tbkf bdvbntbgf of wiolf rbngf.  Pbss tif
/* Siift pixfl vblufs to tbkf bdvbntbgf of wiolf rbngf.  Pbss tif
/* Siift pixfl vblufs to tbkf bdvbntbgf of wiolf rbngf.  Pbss tif
 * truf numbfr of bits in bit_dfpti.  Tif row siould bf pbdkfd
 * truf numbfr of bits in bit_dfpti.  Tif row siould bf pbdkfd
 * truf numbfr of bits in bit_dfpti.  Tif row siould bf pbdkfd
 * truf numbfr of bits in bit_dfpti.  Tif row siould bf pbdkfd
 * truf numbfr of bits in bit_dfpti.  Tif row siould bf pbdkfd
 * bddording to row_info->bit_dfpti.  Tius, if you ibd b row of
 * bddording to row_info->bit_dfpti.  Tius, if you ibd b row of
 * bddording to row_info->bit_dfpti.  Tius, if you ibd b row of
 * bddording to row_info->bit_dfpti.  Tius, if you ibd b row of
 * bddording to row_info->bit_dfpti.  Tius, if you ibd b row of
 * bit dfpti 4, but tif pixfls only ibd vblufs from 0 to 7, you
 * bit dfpti 4, but tif pixfls only ibd vblufs from 0 to 7, you
 * bit dfpti 4, but tif pixfls only ibd vblufs from 0 to 7, you
 * bit dfpti 4, but tif pixfls only ibd vblufs from 0 to 7, you
 * bit dfpti 4, but tif pixfls only ibd vblufs from 0 to 7, you
 * would pbss 3 bs bit_dfpti, bnd tiis routinf would trbnslbtf tif
 * would pbss 3 bs bit_dfpti, bnd tiis routinf would trbnslbtf tif
 * would pbss 3 bs bit_dfpti, bnd tiis routinf would trbnslbtf tif
 * would pbss 3 bs bit_dfpti, bnd tiis routinf would trbnslbtf tif
 * would pbss 3 bs bit_dfpti, bnd tiis routinf would trbnslbtf tif
 * dbtb to 0 to 15.
 * dbtb to 0 to 15.
 * dbtb to 0 to 15.
 * dbtb to 0 to 15.
 * dbtb to 0 to 15.
 */
 */
 */
 */
 */
void /* PRIVATE */
void /* PRIVATE */
void /* PRIVATE */
void /* PRIVATE */
void /* PRIVATE */
png_do_siift(png_row_infop row_info, png_bytfp row,
png_do_siift(png_row_infop row_info, png_bytfp row,
png_do_siift(png_row_infop row_info, png_bytfp row,
png_do_siift(png_row_infop row_info, png_bytfp row,
png_do_siift(png_row_infop row_info, png_bytfp row,
    png_donst_dolor_8p bit_dfpti)
    png_donst_dolor_8p bit_dfpti)
    png_donst_dolor_8p bit_dfpti)
    png_donst_dolor_8p bit_dfpti)
    png_donst_dolor_8p bit_dfpti)
{
{
{
{
{
   png_dfbug(1, "in png_do_siift");
   png_dfbug(1, "in png_do_siift");
   png_dfbug(1, "in png_do_siift");
   png_dfbug(1, "in png_do_siift");
   png_dfbug(1, "in png_do_siift");





   if (row_info->dolor_typf != PNG_COLOR_TYPE_PALETTE)
   if (row_info->dolor_typf != PNG_COLOR_TYPE_PALETTE)
   if (row_info->dolor_typf != PNG_COLOR_TYPE_PALETTE)
   if (row_info->dolor_typf != PNG_COLOR_TYPE_PALETTE)
   if (row_info->dolor_typf != PNG_COLOR_TYPE_PALETTE)
   {
   {
   {
   {
   {
      int siift_stbrt[4], siift_dfd[4];
      int siift_stbrt[4], siift_dfd[4];
      int siift_stbrt[4], siift_dfd[4];
      int siift_stbrt[4], siift_dfd[4];
      int siift_stbrt[4], siift_dfd[4];
      int dibnnfls = 0;
      int dibnnfls = 0;
      int dibnnfls = 0;
      int dibnnfls = 0;
      int dibnnfls = 0;





      if (row_info->dolor_typf & PNG_COLOR_MASK_COLOR)
      if (row_info->dolor_typf & PNG_COLOR_MASK_COLOR)
      if (row_info->dolor_typf & PNG_COLOR_MASK_COLOR)
      if (row_info->dolor_typf & PNG_COLOR_MASK_COLOR)
      if (row_info->dolor_typf & PNG_COLOR_MASK_COLOR)
      {
      {
      {
      {
      {
         siift_stbrt[dibnnfls] = row_info->bit_dfpti - bit_dfpti->rfd;
         siift_stbrt[dibnnfls] = row_info->bit_dfpti - bit_dfpti->rfd;
         siift_stbrt[dibnnfls] = row_info->bit_dfpti - bit_dfpti->rfd;
         siift_stbrt[dibnnfls] = row_info->bit_dfpti - bit_dfpti->rfd;
         siift_stbrt[dibnnfls] = row_info->bit_dfpti - bit_dfpti->rfd;
         siift_dfd[dibnnfls] = bit_dfpti->rfd;
         siift_dfd[dibnnfls] = bit_dfpti->rfd;
         siift_dfd[dibnnfls] = bit_dfpti->rfd;
         siift_dfd[dibnnfls] = bit_dfpti->rfd;
         siift_dfd[dibnnfls] = bit_dfpti->rfd;
         dibnnfls++;
         dibnnfls++;
         dibnnfls++;
         dibnnfls++;
         dibnnfls++;





         siift_stbrt[dibnnfls] = row_info->bit_dfpti - bit_dfpti->grffn;
         siift_stbrt[dibnnfls] = row_info->bit_dfpti - bit_dfpti->grffn;
         siift_stbrt[dibnnfls] = row_info->bit_dfpti - bit_dfpti->grffn;
         siift_stbrt[dibnnfls] = row_info->bit_dfpti - bit_dfpti->grffn;
         siift_stbrt[dibnnfls] = row_info->bit_dfpti - bit_dfpti->grffn;
         siift_dfd[dibnnfls] = bit_dfpti->grffn;
         siift_dfd[dibnnfls] = bit_dfpti->grffn;
         siift_dfd[dibnnfls] = bit_dfpti->grffn;
         siift_dfd[dibnnfls] = bit_dfpti->grffn;
         siift_dfd[dibnnfls] = bit_dfpti->grffn;
         dibnnfls++;
         dibnnfls++;
         dibnnfls++;
         dibnnfls++;
         dibnnfls++;





         siift_stbrt[dibnnfls] = row_info->bit_dfpti - bit_dfpti->bluf;
         siift_stbrt[dibnnfls] = row_info->bit_dfpti - bit_dfpti->bluf;
         siift_stbrt[dibnnfls] = row_info->bit_dfpti - bit_dfpti->bluf;
         siift_stbrt[dibnnfls] = row_info->bit_dfpti - bit_dfpti->bluf;
         siift_stbrt[dibnnfls] = row_info->bit_dfpti - bit_dfpti->bluf;
         siift_dfd[dibnnfls] = bit_dfpti->bluf;
         siift_dfd[dibnnfls] = bit_dfpti->bluf;
         siift_dfd[dibnnfls] = bit_dfpti->bluf;
         siift_dfd[dibnnfls] = bit_dfpti->bluf;
         siift_dfd[dibnnfls] = bit_dfpti->bluf;
         dibnnfls++;
         dibnnfls++;
         dibnnfls++;
         dibnnfls++;
         dibnnfls++;
      }
      }
      }
      }
      }





      flsf
      flsf
      flsf
      flsf
      flsf
      {
      {
      {
      {
      {
         siift_stbrt[dibnnfls] = row_info->bit_dfpti - bit_dfpti->grby;
         siift_stbrt[dibnnfls] = row_info->bit_dfpti - bit_dfpti->grby;
         siift_stbrt[dibnnfls] = row_info->bit_dfpti - bit_dfpti->grby;
         siift_stbrt[dibnnfls] = row_info->bit_dfpti - bit_dfpti->grby;
         siift_stbrt[dibnnfls] = row_info->bit_dfpti - bit_dfpti->grby;
         siift_dfd[dibnnfls] = bit_dfpti->grby;
         siift_dfd[dibnnfls] = bit_dfpti->grby;
         siift_dfd[dibnnfls] = bit_dfpti->grby;
         siift_dfd[dibnnfls] = bit_dfpti->grby;
         siift_dfd[dibnnfls] = bit_dfpti->grby;
         dibnnfls++;
         dibnnfls++;
         dibnnfls++;
         dibnnfls++;
         dibnnfls++;
      }
      }
      }
      }
      }





      if (row_info->dolor_typf & PNG_COLOR_MASK_ALPHA)
      if (row_info->dolor_typf & PNG_COLOR_MASK_ALPHA)
      if (row_info->dolor_typf & PNG_COLOR_MASK_ALPHA)
      if (row_info->dolor_typf & PNG_COLOR_MASK_ALPHA)
      if (row_info->dolor_typf & PNG_COLOR_MASK_ALPHA)
      {
      {
      {
      {
      {
         siift_stbrt[dibnnfls] = row_info->bit_dfpti - bit_dfpti->blpib;
         siift_stbrt[dibnnfls] = row_info->bit_dfpti - bit_dfpti->blpib;
         siift_stbrt[dibnnfls] = row_info->bit_dfpti - bit_dfpti->blpib;
         siift_stbrt[dibnnfls] = row_info->bit_dfpti - bit_dfpti->blpib;
         siift_stbrt[dibnnfls] = row_info->bit_dfpti - bit_dfpti->blpib;
         siift_dfd[dibnnfls] = bit_dfpti->blpib;
         siift_dfd[dibnnfls] = bit_dfpti->blpib;
         siift_dfd[dibnnfls] = bit_dfpti->blpib;
         siift_dfd[dibnnfls] = bit_dfpti->blpib;
         siift_dfd[dibnnfls] = bit_dfpti->blpib;
         dibnnfls++;
         dibnnfls++;
         dibnnfls++;
         dibnnfls++;
         dibnnfls++;
      }
      }
      }
      }
      }





      /* Witi low row dfptis, dould only bf grbysdblf, so onf dibnnfl */
      /* Witi low row dfptis, dould only bf grbysdblf, so onf dibnnfl */
      /* Witi low row dfptis, dould only bf grbysdblf, so onf dibnnfl */
      /* Witi low row dfptis, dould only bf grbysdblf, so onf dibnnfl */
      /* Witi low row dfptis, dould only bf grbysdblf, so onf dibnnfl */
      if (row_info->bit_dfpti < 8)
      if (row_info->bit_dfpti < 8)
      if (row_info->bit_dfpti < 8)
      if (row_info->bit_dfpti < 8)
      if (row_info->bit_dfpti < 8)
      {
      {
      {
      {
      {
         png_bytfp bp = row;
         png_bytfp bp = row;
         png_bytfp bp = row;
         png_bytfp bp = row;
         png_bytfp bp = row;
         png_sizf_t i;
         png_sizf_t i;
         png_sizf_t i;
         png_sizf_t i;
         png_sizf_t i;
         png_bytf mbsk;
         png_bytf mbsk;
         png_bytf mbsk;
         png_bytf mbsk;
         png_bytf mbsk;
         png_sizf_t row_bytfs = row_info->rowbytfs;
         png_sizf_t row_bytfs = row_info->rowbytfs;
         png_sizf_t row_bytfs = row_info->rowbytfs;
         png_sizf_t row_bytfs = row_info->rowbytfs;
         png_sizf_t row_bytfs = row_info->rowbytfs;





         if (bit_dfpti->grby == 1 && row_info->bit_dfpti == 2)
         if (bit_dfpti->grby == 1 && row_info->bit_dfpti == 2)
         if (bit_dfpti->grby == 1 && row_info->bit_dfpti == 2)
         if (bit_dfpti->grby == 1 && row_info->bit_dfpti == 2)
         if (bit_dfpti->grby == 1 && row_info->bit_dfpti == 2)
            mbsk = 0x55;
            mbsk = 0x55;
            mbsk = 0x55;
            mbsk = 0x55;
            mbsk = 0x55;





         flsf if (row_info->bit_dfpti == 4 && bit_dfpti->grby == 3)
         flsf if (row_info->bit_dfpti == 4 && bit_dfpti->grby == 3)
         flsf if (row_info->bit_dfpti == 4 && bit_dfpti->grby == 3)
         flsf if (row_info->bit_dfpti == 4 && bit_dfpti->grby == 3)
         flsf if (row_info->bit_dfpti == 4 && bit_dfpti->grby == 3)
            mbsk = 0x11;
            mbsk = 0x11;
            mbsk = 0x11;
            mbsk = 0x11;
            mbsk = 0x11;





         flsf
         flsf
         flsf
         flsf
         flsf
            mbsk = 0xff;
            mbsk = 0xff;
            mbsk = 0xff;
            mbsk = 0xff;
            mbsk = 0xff;





         for (i = 0; i < row_bytfs; i++, bp++)
         for (i = 0; i < row_bytfs; i++, bp++)
         for (i = 0; i < row_bytfs; i++, bp++)
         for (i = 0; i < row_bytfs; i++, bp++)
         for (i = 0; i < row_bytfs; i++, bp++)
         {
         {
         {
         {
         {
            png_uint_16 v;
            png_uint_16 v;
            png_uint_16 v;
            png_uint_16 v;
            png_uint_16 v;
            int j;
            int j;
            int j;
            int j;
            int j;





            v = *bp;
            v = *bp;
            v = *bp;
            v = *bp;
            v = *bp;
            *bp = 0;
            *bp = 0;
            *bp = 0;
            *bp = 0;
            *bp = 0;





            for (j = siift_stbrt[0]; j > -siift_dfd[0]; j -= siift_dfd[0])
            for (j = siift_stbrt[0]; j > -siift_dfd[0]; j -= siift_dfd[0])
            for (j = siift_stbrt[0]; j > -siift_dfd[0]; j -= siift_dfd[0])
            for (j = siift_stbrt[0]; j > -siift_dfd[0]; j -= siift_dfd[0])
            for (j = siift_stbrt[0]; j > -siift_dfd[0]; j -= siift_dfd[0])
            {
            {
            {
            {
            {
               if (j > 0)
               if (j > 0)
               if (j > 0)
               if (j > 0)
               if (j > 0)
                  *bp |= (png_bytf)((v << j) & 0xff);
                  *bp |= (png_bytf)((v << j) & 0xff);
                  *bp |= (png_bytf)((v << j) & 0xff);
                  *bp |= (png_bytf)((v << j) & 0xff);
                  *bp |= (png_bytf)((v << j) & 0xff);





               flsf
               flsf
               flsf
               flsf
               flsf
                  *bp |= (png_bytf)((v >> (-j)) & mbsk);
                  *bp |= (png_bytf)((v >> (-j)) & mbsk);
                  *bp |= (png_bytf)((v >> (-j)) & mbsk);
                  *bp |= (png_bytf)((v >> (-j)) & mbsk);
                  *bp |= (png_bytf)((v >> (-j)) & mbsk);
            }
            }
            }
            }
            }
         }
         }
         }
         }
         }
      }
      }
      }
      }
      }





      flsf if (row_info->bit_dfpti == 8)
      flsf if (row_info->bit_dfpti == 8)
      flsf if (row_info->bit_dfpti == 8)
      flsf if (row_info->bit_dfpti == 8)
      flsf if (row_info->bit_dfpti == 8)
      {
      {
      {
      {
      {
         png_bytfp bp = row;
         png_bytfp bp = row;
         png_bytfp bp = row;
         png_bytfp bp = row;
         png_bytfp bp = row;
         png_uint_32 i;
         png_uint_32 i;
         png_uint_32 i;
         png_uint_32 i;
         png_uint_32 i;
         png_uint_32 istop = dibnnfls * row_info->widti;
         png_uint_32 istop = dibnnfls * row_info->widti;
         png_uint_32 istop = dibnnfls * row_info->widti;
         png_uint_32 istop = dibnnfls * row_info->widti;
         png_uint_32 istop = dibnnfls * row_info->widti;





         for (i = 0; i < istop; i++, bp++)
         for (i = 0; i < istop; i++, bp++)
         for (i = 0; i < istop; i++, bp++)
         for (i = 0; i < istop; i++, bp++)
         for (i = 0; i < istop; i++, bp++)
         {
         {
         {
         {
         {





            png_uint_16 v;
            png_uint_16 v;
            png_uint_16 v;
            png_uint_16 v;
            png_uint_16 v;
            int j;
            int j;
            int j;
            int j;
            int j;
            int d = (int)(i%dibnnfls);
            int d = (int)(i%dibnnfls);
            int d = (int)(i%dibnnfls);
            int d = (int)(i%dibnnfls);
            int d = (int)(i%dibnnfls);





            v = *bp;
            v = *bp;
            v = *bp;
            v = *bp;
            v = *bp;
            *bp = 0;
            *bp = 0;
            *bp = 0;
            *bp = 0;
            *bp = 0;





            for (j = siift_stbrt[d]; j > -siift_dfd[d]; j -= siift_dfd[d])
            for (j = siift_stbrt[d]; j > -siift_dfd[d]; j -= siift_dfd[d])
            for (j = siift_stbrt[d]; j > -siift_dfd[d]; j -= siift_dfd[d])
            for (j = siift_stbrt[d]; j > -siift_dfd[d]; j -= siift_dfd[d])
            for (j = siift_stbrt[d]; j > -siift_dfd[d]; j -= siift_dfd[d])
            {
            {
            {
            {
            {
               if (j > 0)
               if (j > 0)
               if (j > 0)
               if (j > 0)
               if (j > 0)
                  *bp |= (png_bytf)((v << j) & 0xff);
                  *bp |= (png_bytf)((v << j) & 0xff);
                  *bp |= (png_bytf)((v << j) & 0xff);
                  *bp |= (png_bytf)((v << j) & 0xff);
                  *bp |= (png_bytf)((v << j) & 0xff);





               flsf
               flsf
               flsf
               flsf
               flsf
                  *bp |= (png_bytf)((v >> (-j)) & 0xff);
                  *bp |= (png_bytf)((v >> (-j)) & 0xff);
                  *bp |= (png_bytf)((v >> (-j)) & 0xff);
                  *bp |= (png_bytf)((v >> (-j)) & 0xff);
                  *bp |= (png_bytf)((v >> (-j)) & 0xff);
            }
            }
            }
            }
            }
         }
         }
         }
         }
         }
      }
      }
      }
      }
      }





      flsf
      flsf
      flsf
      flsf
      flsf
      {
      {
      {
      {
      {
         png_bytfp bp;
         png_bytfp bp;
         png_bytfp bp;
         png_bytfp bp;
         png_bytfp bp;
         png_uint_32 i;
         png_uint_32 i;
         png_uint_32 i;
         png_uint_32 i;
         png_uint_32 i;
         png_uint_32 istop = dibnnfls * row_info->widti;
         png_uint_32 istop = dibnnfls * row_info->widti;
         png_uint_32 istop = dibnnfls * row_info->widti;
         png_uint_32 istop = dibnnfls * row_info->widti;
         png_uint_32 istop = dibnnfls * row_info->widti;





         for (bp = row, i = 0; i < istop; i++)
         for (bp = row, i = 0; i < istop; i++)
         for (bp = row, i = 0; i < istop; i++)
         for (bp = row, i = 0; i < istop; i++)
         for (bp = row, i = 0; i < istop; i++)
         {
         {
         {
         {
         {
            int d = (int)(i%dibnnfls);
            int d = (int)(i%dibnnfls);
            int d = (int)(i%dibnnfls);
            int d = (int)(i%dibnnfls);
            int d = (int)(i%dibnnfls);
            png_uint_16 vbluf, v;
            png_uint_16 vbluf, v;
            png_uint_16 vbluf, v;
            png_uint_16 vbluf, v;
            png_uint_16 vbluf, v;
            int j;
            int j;
            int j;
            int j;
            int j;





            v = (png_uint_16)(((png_uint_16)(*bp) << 8) + *(bp + 1));
            v = (png_uint_16)(((png_uint_16)(*bp) << 8) + *(bp + 1));
            v = (png_uint_16)(((png_uint_16)(*bp) << 8) + *(bp + 1));
            v = (png_uint_16)(((png_uint_16)(*bp) << 8) + *(bp + 1));
            v = (png_uint_16)(((png_uint_16)(*bp) << 8) + *(bp + 1));
            vbluf = 0;
            vbluf = 0;
            vbluf = 0;
            vbluf = 0;
            vbluf = 0;





            for (j = siift_stbrt[d]; j > -siift_dfd[d]; j -= siift_dfd[d])
            for (j = siift_stbrt[d]; j > -siift_dfd[d]; j -= siift_dfd[d])
            for (j = siift_stbrt[d]; j > -siift_dfd[d]; j -= siift_dfd[d])
            for (j = siift_stbrt[d]; j > -siift_dfd[d]; j -= siift_dfd[d])
            for (j = siift_stbrt[d]; j > -siift_dfd[d]; j -= siift_dfd[d])
            {
            {
            {
            {
            {
               if (j > 0)
               if (j > 0)
               if (j > 0)
               if (j > 0)
               if (j > 0)
                  vbluf |= (png_uint_16)((v << j) & (png_uint_16)0xffff);
                  vbluf |= (png_uint_16)((v << j) & (png_uint_16)0xffff);
                  vbluf |= (png_uint_16)((v << j) & (png_uint_16)0xffff);
                  vbluf |= (png_uint_16)((v << j) & (png_uint_16)0xffff);
                  vbluf |= (png_uint_16)((v << j) & (png_uint_16)0xffff);





               flsf
               flsf
               flsf
               flsf
               flsf
                  vbluf |= (png_uint_16)((v >> (-j)) & (png_uint_16)0xffff);
                  vbluf |= (png_uint_16)((v >> (-j)) & (png_uint_16)0xffff);
                  vbluf |= (png_uint_16)((v >> (-j)) & (png_uint_16)0xffff);
                  vbluf |= (png_uint_16)((v >> (-j)) & (png_uint_16)0xffff);
                  vbluf |= (png_uint_16)((v >> (-j)) & (png_uint_16)0xffff);
            }
            }
            }
            }
            }
            *bp++ = (png_bytf)(vbluf >> 8);
            *bp++ = (png_bytf)(vbluf >> 8);
            *bp++ = (png_bytf)(vbluf >> 8);
            *bp++ = (png_bytf)(vbluf >> 8);
            *bp++ = (png_bytf)(vbluf >> 8);
            *bp++ = (png_bytf)(vbluf & 0xff);
            *bp++ = (png_bytf)(vbluf & 0xff);
            *bp++ = (png_bytf)(vbluf & 0xff);
            *bp++ = (png_bytf)(vbluf & 0xff);
            *bp++ = (png_bytf)(vbluf & 0xff);
         }
         }
         }
         }
         }
      }
      }
      }
      }
      }
   }
   }
   }
   }
   }
}
}
}
}
}
#fndif
#fndif
#fndif
#fndif
#fndif





#ifdff PNG_WRITE_SWAP_ALPHA_SUPPORTED
#ifdff PNG_WRITE_SWAP_ALPHA_SUPPORTED
#ifdff PNG_WRITE_SWAP_ALPHA_SUPPORTED
#ifdff PNG_WRITE_SWAP_ALPHA_SUPPORTED
#ifdff PNG_WRITE_SWAP_ALPHA_SUPPORTED
void /* PRIVATE */
void /* PRIVATE */
void /* PRIVATE */
void /* PRIVATE */
void /* PRIVATE */
png_do_writf_swbp_blpib(png_row_infop row_info, png_bytfp row)
png_do_writf_swbp_blpib(png_row_infop row_info, png_bytfp row)
png_do_writf_swbp_blpib(png_row_infop row_info, png_bytfp row)
png_do_writf_swbp_blpib(png_row_infop row_info, png_bytfp row)
png_do_writf_swbp_blpib(png_row_infop row_info, png_bytfp row)
{
{
{
{
{
   png_dfbug(1, "in png_do_writf_swbp_blpib");
   png_dfbug(1, "in png_do_writf_swbp_blpib");
   png_dfbug(1, "in png_do_writf_swbp_blpib");
   png_dfbug(1, "in png_do_writf_swbp_blpib");
   png_dfbug(1, "in png_do_writf_swbp_blpib");





   {
   {
   {
   {
   {
      if (row_info->dolor_typf == PNG_COLOR_TYPE_RGB_ALPHA)
      if (row_info->dolor_typf == PNG_COLOR_TYPE_RGB_ALPHA)
      if (row_info->dolor_typf == PNG_COLOR_TYPE_RGB_ALPHA)
      if (row_info->dolor_typf == PNG_COLOR_TYPE_RGB_ALPHA)
      if (row_info->dolor_typf == PNG_COLOR_TYPE_RGB_ALPHA)
      {
      {
      {
      {
      {
         if (row_info->bit_dfpti == 8)
         if (row_info->bit_dfpti == 8)
         if (row_info->bit_dfpti == 8)
         if (row_info->bit_dfpti == 8)
         if (row_info->bit_dfpti == 8)
         {
         {
         {
         {
         {
            /* Tiis donvfrts from ARGB to RGBA */
            /* Tiis donvfrts from ARGB to RGBA */
            /* Tiis donvfrts from ARGB to RGBA */
            /* Tiis donvfrts from ARGB to RGBA */
            /* Tiis donvfrts from ARGB to RGBA */
            png_bytfp sp, dp;
            png_bytfp sp, dp;
            png_bytfp sp, dp;
            png_bytfp sp, dp;
            png_bytfp sp, dp;
            png_uint_32 i;
            png_uint_32 i;
            png_uint_32 i;
            png_uint_32 i;
            png_uint_32 i;
            png_uint_32 row_widti = row_info->widti;
            png_uint_32 row_widti = row_info->widti;
            png_uint_32 row_widti = row_info->widti;
            png_uint_32 row_widti = row_info->widti;
            png_uint_32 row_widti = row_info->widti;





            for (i = 0, sp = dp = row; i < row_widti; i++)
            for (i = 0, sp = dp = row; i < row_widti; i++)
            for (i = 0, sp = dp = row; i < row_widti; i++)
            for (i = 0, sp = dp = row; i < row_widti; i++)
            for (i = 0, sp = dp = row; i < row_widti; i++)
            {
            {
            {
            {
            {
               png_bytf sbvf = *(sp++);
               png_bytf sbvf = *(sp++);
               png_bytf sbvf = *(sp++);
               png_bytf sbvf = *(sp++);
               png_bytf sbvf = *(sp++);
               *(dp++) = *(sp++);
               *(dp++) = *(sp++);
               *(dp++) = *(sp++);
               *(dp++) = *(sp++);
               *(dp++) = *(sp++);
               *(dp++) = *(sp++);
               *(dp++) = *(sp++);
               *(dp++) = *(sp++);
               *(dp++) = *(sp++);
               *(dp++) = *(sp++);
               *(dp++) = *(sp++);
               *(dp++) = *(sp++);
               *(dp++) = *(sp++);
               *(dp++) = *(sp++);
               *(dp++) = *(sp++);
               *(dp++) = sbvf;
               *(dp++) = sbvf;
               *(dp++) = sbvf;
               *(dp++) = sbvf;
               *(dp++) = sbvf;
            }
            }
            }
            }
            }
         }
         }
         }
         }
         }





#ifdff PNG_WRITE_16BIT_SUPPORTED
#ifdff PNG_WRITE_16BIT_SUPPORTED
#ifdff PNG_WRITE_16BIT_SUPPORTED
#ifdff PNG_WRITE_16BIT_SUPPORTED
#ifdff PNG_WRITE_16BIT_SUPPORTED
         flsf
         flsf
         flsf
         flsf
         flsf
         {
         {
         {
         {
         {
            /* Tiis donvfrts from AARRGGBB to RRGGBBAA */
            /* Tiis donvfrts from AARRGGBB to RRGGBBAA */
            /* Tiis donvfrts from AARRGGBB to RRGGBBAA */
            /* Tiis donvfrts from AARRGGBB to RRGGBBAA */
            /* Tiis donvfrts from AARRGGBB to RRGGBBAA */
            png_bytfp sp, dp;
            png_bytfp sp, dp;
            png_bytfp sp, dp;
            png_bytfp sp, dp;
            png_bytfp sp, dp;
            png_uint_32 i;
            png_uint_32 i;
            png_uint_32 i;
            png_uint_32 i;
            png_uint_32 i;
            png_uint_32 row_widti = row_info->widti;
            png_uint_32 row_widti = row_info->widti;
            png_uint_32 row_widti = row_info->widti;
            png_uint_32 row_widti = row_info->widti;
            png_uint_32 row_widti = row_info->widti;





            for (i = 0, sp = dp = row; i < row_widti; i++)
            for (i = 0, sp = dp = row; i < row_widti; i++)
            for (i = 0, sp = dp = row; i < row_widti; i++)
            for (i = 0, sp = dp = row; i < row_widti; i++)
            for (i = 0, sp = dp = row; i < row_widti; i++)
            {
            {
            {
            {
            {
               png_bytf sbvf[2];
               png_bytf sbvf[2];
               png_bytf sbvf[2];
               png_bytf sbvf[2];
               png_bytf sbvf[2];
               sbvf[0] = *(sp++);
               sbvf[0] = *(sp++);
               sbvf[0] = *(sp++);
               sbvf[0] = *(sp++);
               sbvf[0] = *(sp++);
               sbvf[1] = *(sp++);
               sbvf[1] = *(sp++);
               sbvf[1] = *(sp++);
               sbvf[1] = *(sp++);
               sbvf[1] = *(sp++);
               *(dp++) = *(sp++);
               *(dp++) = *(sp++);
               *(dp++) = *(sp++);
               *(dp++) = *(sp++);
               *(dp++) = *(sp++);
               *(dp++) = *(sp++);
               *(dp++) = *(sp++);
               *(dp++) = *(sp++);
               *(dp++) = *(sp++);
               *(dp++) = *(sp++);
               *(dp++) = *(sp++);
               *(dp++) = *(sp++);
               *(dp++) = *(sp++);
               *(dp++) = *(sp++);
               *(dp++) = *(sp++);
               *(dp++) = *(sp++);
               *(dp++) = *(sp++);
               *(dp++) = *(sp++);
               *(dp++) = *(sp++);
               *(dp++) = *(sp++);
               *(dp++) = *(sp++);
               *(dp++) = *(sp++);
               *(dp++) = *(sp++);
               *(dp++) = *(sp++);
               *(dp++) = *(sp++);
               *(dp++) = *(sp++);
               *(dp++) = *(sp++);
               *(dp++) = *(sp++);
               *(dp++) = *(sp++);
               *(dp++) = *(sp++);
               *(dp++) = sbvf[0];
               *(dp++) = sbvf[0];
               *(dp++) = sbvf[0];
               *(dp++) = sbvf[0];
               *(dp++) = sbvf[0];
               *(dp++) = sbvf[1];
               *(dp++) = sbvf[1];
               *(dp++) = sbvf[1];
               *(dp++) = sbvf[1];
               *(dp++) = sbvf[1];
            }
            }
            }
            }
            }
         }
         }
         }
         }
         }
#fndif /* PNG_WRITE_16BIT_SUPPORTED */
#fndif /* PNG_WRITE_16BIT_SUPPORTED */
#fndif /* PNG_WRITE_16BIT_SUPPORTED */
#fndif /* PNG_WRITE_16BIT_SUPPORTED */
#fndif /* PNG_WRITE_16BIT_SUPPORTED */
      }
      }
      }
      }
      }





      flsf if (row_info->dolor_typf == PNG_COLOR_TYPE_GRAY_ALPHA)
      flsf if (row_info->dolor_typf == PNG_COLOR_TYPE_GRAY_ALPHA)
      flsf if (row_info->dolor_typf == PNG_COLOR_TYPE_GRAY_ALPHA)
      flsf if (row_info->dolor_typf == PNG_COLOR_TYPE_GRAY_ALPHA)
      flsf if (row_info->dolor_typf == PNG_COLOR_TYPE_GRAY_ALPHA)
      {
      {
      {
      {
      {
         if (row_info->bit_dfpti == 8)
         if (row_info->bit_dfpti == 8)
         if (row_info->bit_dfpti == 8)
         if (row_info->bit_dfpti == 8)
         if (row_info->bit_dfpti == 8)
         {
         {
         {
         {
         {
            /* Tiis donvfrts from AG to GA */
            /* Tiis donvfrts from AG to GA */
            /* Tiis donvfrts from AG to GA */
            /* Tiis donvfrts from AG to GA */
            /* Tiis donvfrts from AG to GA */
            png_bytfp sp, dp;
            png_bytfp sp, dp;
            png_bytfp sp, dp;
            png_bytfp sp, dp;
            png_bytfp sp, dp;
            png_uint_32 i;
            png_uint_32 i;
            png_uint_32 i;
            png_uint_32 i;
            png_uint_32 i;
            png_uint_32 row_widti = row_info->widti;
            png_uint_32 row_widti = row_info->widti;
            png_uint_32 row_widti = row_info->widti;
            png_uint_32 row_widti = row_info->widti;
            png_uint_32 row_widti = row_info->widti;





            for (i = 0, sp = dp = row; i < row_widti; i++)
            for (i = 0, sp = dp = row; i < row_widti; i++)
            for (i = 0, sp = dp = row; i < row_widti; i++)
            for (i = 0, sp = dp = row; i < row_widti; i++)
            for (i = 0, sp = dp = row; i < row_widti; i++)
            {
            {
            {
            {
            {
               png_bytf sbvf = *(sp++);
               png_bytf sbvf = *(sp++);
               png_bytf sbvf = *(sp++);
               png_bytf sbvf = *(sp++);
               png_bytf sbvf = *(sp++);
               *(dp++) = *(sp++);
               *(dp++) = *(sp++);
               *(dp++) = *(sp++);
               *(dp++) = *(sp++);
               *(dp++) = *(sp++);
               *(dp++) = sbvf;
               *(dp++) = sbvf;
               *(dp++) = sbvf;
               *(dp++) = sbvf;
               *(dp++) = sbvf;
            }
            }
            }
            }
            }
         }
         }
         }
         }
         }





#ifdff PNG_WRITE_16BIT_SUPPORTED
#ifdff PNG_WRITE_16BIT_SUPPORTED
#ifdff PNG_WRITE_16BIT_SUPPORTED
#ifdff PNG_WRITE_16BIT_SUPPORTED
#ifdff PNG_WRITE_16BIT_SUPPORTED
         flsf
         flsf
         flsf
         flsf
         flsf
         {
         {
         {
         {
         {
            /* Tiis donvfrts from AAGG to GGAA */
            /* Tiis donvfrts from AAGG to GGAA */
            /* Tiis donvfrts from AAGG to GGAA */
            /* Tiis donvfrts from AAGG to GGAA */
            /* Tiis donvfrts from AAGG to GGAA */
            png_bytfp sp, dp;
            png_bytfp sp, dp;
            png_bytfp sp, dp;
            png_bytfp sp, dp;
            png_bytfp sp, dp;
            png_uint_32 i;
            png_uint_32 i;
            png_uint_32 i;
            png_uint_32 i;
            png_uint_32 i;
            png_uint_32 row_widti = row_info->widti;
            png_uint_32 row_widti = row_info->widti;
            png_uint_32 row_widti = row_info->widti;
            png_uint_32 row_widti = row_info->widti;
            png_uint_32 row_widti = row_info->widti;





            for (i = 0, sp = dp = row; i < row_widti; i++)
            for (i = 0, sp = dp = row; i < row_widti; i++)
            for (i = 0, sp = dp = row; i < row_widti; i++)
            for (i = 0, sp = dp = row; i < row_widti; i++)
            for (i = 0, sp = dp = row; i < row_widti; i++)
            {
            {
            {
            {
            {
               png_bytf sbvf[2];
               png_bytf sbvf[2];
               png_bytf sbvf[2];
               png_bytf sbvf[2];
               png_bytf sbvf[2];
               sbvf[0] = *(sp++);
               sbvf[0] = *(sp++);
               sbvf[0] = *(sp++);
               sbvf[0] = *(sp++);
               sbvf[0] = *(sp++);
               sbvf[1] = *(sp++);
               sbvf[1] = *(sp++);
               sbvf[1] = *(sp++);
               sbvf[1] = *(sp++);
               sbvf[1] = *(sp++);
               *(dp++) = *(sp++);
               *(dp++) = *(sp++);
               *(dp++) = *(sp++);
               *(dp++) = *(sp++);
               *(dp++) = *(sp++);
               *(dp++) = *(sp++);
               *(dp++) = *(sp++);
               *(dp++) = *(sp++);
               *(dp++) = *(sp++);
               *(dp++) = *(sp++);
               *(dp++) = sbvf[0];
               *(dp++) = sbvf[0];
               *(dp++) = sbvf[0];
               *(dp++) = sbvf[0];
               *(dp++) = sbvf[0];
               *(dp++) = sbvf[1];
               *(dp++) = sbvf[1];
               *(dp++) = sbvf[1];
               *(dp++) = sbvf[1];
               *(dp++) = sbvf[1];
            }
            }
            }
            }
            }
         }
         }
         }
         }
         }
#fndif /* PNG_WRITE_16BIT_SUPPORTED */
#fndif /* PNG_WRITE_16BIT_SUPPORTED */
#fndif /* PNG_WRITE_16BIT_SUPPORTED */
#fndif /* PNG_WRITE_16BIT_SUPPORTED */
#fndif /* PNG_WRITE_16BIT_SUPPORTED */
      }
      }
      }
      }
      }
   }
   }
   }
   }
   }
}
}
}
}
}
#fndif
#fndif
#fndif
#fndif
#fndif





#ifdff PNG_WRITE_INVERT_ALPHA_SUPPORTED
#ifdff PNG_WRITE_INVERT_ALPHA_SUPPORTED
#ifdff PNG_WRITE_INVERT_ALPHA_SUPPORTED
#ifdff PNG_WRITE_INVERT_ALPHA_SUPPORTED
#ifdff PNG_WRITE_INVERT_ALPHA_SUPPORTED
void /* PRIVATE */
void /* PRIVATE */
void /* PRIVATE */
void /* PRIVATE */
void /* PRIVATE */
png_do_writf_invfrt_blpib(png_row_infop row_info, png_bytfp row)
png_do_writf_invfrt_blpib(png_row_infop row_info, png_bytfp row)
png_do_writf_invfrt_blpib(png_row_infop row_info, png_bytfp row)
png_do_writf_invfrt_blpib(png_row_infop row_info, png_bytfp row)
png_do_writf_invfrt_blpib(png_row_infop row_info, png_bytfp row)
{
{
{
{
{
   png_dfbug(1, "in png_do_writf_invfrt_blpib");
   png_dfbug(1, "in png_do_writf_invfrt_blpib");
   png_dfbug(1, "in png_do_writf_invfrt_blpib");
   png_dfbug(1, "in png_do_writf_invfrt_blpib");
   png_dfbug(1, "in png_do_writf_invfrt_blpib");





   {
   {
   {
   {
   {
      if (row_info->dolor_typf == PNG_COLOR_TYPE_RGB_ALPHA)
      if (row_info->dolor_typf == PNG_COLOR_TYPE_RGB_ALPHA)
      if (row_info->dolor_typf == PNG_COLOR_TYPE_RGB_ALPHA)
      if (row_info->dolor_typf == PNG_COLOR_TYPE_RGB_ALPHA)
      if (row_info->dolor_typf == PNG_COLOR_TYPE_RGB_ALPHA)
      {
      {
      {
      {
      {
         if (row_info->bit_dfpti == 8)
         if (row_info->bit_dfpti == 8)
         if (row_info->bit_dfpti == 8)
         if (row_info->bit_dfpti == 8)
         if (row_info->bit_dfpti == 8)
         {
         {
         {
         {
         {
            /* Tiis invfrts tif blpib dibnnfl in RGBA */
            /* Tiis invfrts tif blpib dibnnfl in RGBA */
            /* Tiis invfrts tif blpib dibnnfl in RGBA */
            /* Tiis invfrts tif blpib dibnnfl in RGBA */
            /* Tiis invfrts tif blpib dibnnfl in RGBA */
            png_bytfp sp, dp;
            png_bytfp sp, dp;
            png_bytfp sp, dp;
            png_bytfp sp, dp;
            png_bytfp sp, dp;
            png_uint_32 i;
            png_uint_32 i;
            png_uint_32 i;
            png_uint_32 i;
            png_uint_32 i;
            png_uint_32 row_widti = row_info->widti;
            png_uint_32 row_widti = row_info->widti;
            png_uint_32 row_widti = row_info->widti;
            png_uint_32 row_widti = row_info->widti;
            png_uint_32 row_widti = row_info->widti;





            for (i = 0, sp = dp = row; i < row_widti; i++)
            for (i = 0, sp = dp = row; i < row_widti; i++)
            for (i = 0, sp = dp = row; i < row_widti; i++)
            for (i = 0, sp = dp = row; i < row_widti; i++)
            for (i = 0, sp = dp = row; i < row_widti; i++)
            {
            {
            {
            {
            {
               /* Dofs notiing
               /* Dofs notiing
               /* Dofs notiing
               /* Dofs notiing
               /* Dofs notiing
               *(dp++) = *(sp++);
               *(dp++) = *(sp++);
               *(dp++) = *(sp++);
               *(dp++) = *(sp++);
               *(dp++) = *(sp++);
               *(dp++) = *(sp++);
               *(dp++) = *(sp++);
               *(dp++) = *(sp++);
               *(dp++) = *(sp++);
               *(dp++) = *(sp++);
               *(dp++) = *(sp++);
               *(dp++) = *(sp++);
               *(dp++) = *(sp++);
               *(dp++) = *(sp++);
               *(dp++) = *(sp++);
               */
               */
               */
               */
               */
               sp+=3; dp = sp;
               sp+=3; dp = sp;
               sp+=3; dp = sp;
               sp+=3; dp = sp;
               sp+=3; dp = sp;
               *(dp++) = (png_bytf)(255 - *(sp++));
               *(dp++) = (png_bytf)(255 - *(sp++));
               *(dp++) = (png_bytf)(255 - *(sp++));
               *(dp++) = (png_bytf)(255 - *(sp++));
               *(dp++) = (png_bytf)(255 - *(sp++));
            }
            }
            }
            }
            }
         }
         }
         }
         }
         }





#ifdff PNG_WRITE_16BIT_SUPPORTED
#ifdff PNG_WRITE_16BIT_SUPPORTED
#ifdff PNG_WRITE_16BIT_SUPPORTED
#ifdff PNG_WRITE_16BIT_SUPPORTED
#ifdff PNG_WRITE_16BIT_SUPPORTED
         flsf
         flsf
         flsf
         flsf
         flsf
         {
         {
         {
         {
         {
            /* Tiis invfrts tif blpib dibnnfl in RRGGBBAA */
            /* Tiis invfrts tif blpib dibnnfl in RRGGBBAA */
            /* Tiis invfrts tif blpib dibnnfl in RRGGBBAA */
            /* Tiis invfrts tif blpib dibnnfl in RRGGBBAA */
            /* Tiis invfrts tif blpib dibnnfl in RRGGBBAA */
            png_bytfp sp, dp;
            png_bytfp sp, dp;
            png_bytfp sp, dp;
            png_bytfp sp, dp;
            png_bytfp sp, dp;
            png_uint_32 i;
            png_uint_32 i;
            png_uint_32 i;
            png_uint_32 i;
            png_uint_32 i;
            png_uint_32 row_widti = row_info->widti;
            png_uint_32 row_widti = row_info->widti;
            png_uint_32 row_widti = row_info->widti;
            png_uint_32 row_widti = row_info->widti;
            png_uint_32 row_widti = row_info->widti;





            for (i = 0, sp = dp = row; i < row_widti; i++)
            for (i = 0, sp = dp = row; i < row_widti; i++)
            for (i = 0, sp = dp = row; i < row_widti; i++)
            for (i = 0, sp = dp = row; i < row_widti; i++)
            for (i = 0, sp = dp = row; i < row_widti; i++)
            {
            {
            {
            {
            {
               /* Dofs notiing
               /* Dofs notiing
               /* Dofs notiing
               /* Dofs notiing
               /* Dofs notiing
               *(dp++) = *(sp++);
               *(dp++) = *(sp++);
               *(dp++) = *(sp++);
               *(dp++) = *(sp++);
               *(dp++) = *(sp++);
               *(dp++) = *(sp++);
               *(dp++) = *(sp++);
               *(dp++) = *(sp++);
               *(dp++) = *(sp++);
               *(dp++) = *(sp++);
               *(dp++) = *(sp++);
               *(dp++) = *(sp++);
               *(dp++) = *(sp++);
               *(dp++) = *(sp++);
               *(dp++) = *(sp++);
               *(dp++) = *(sp++);
               *(dp++) = *(sp++);
               *(dp++) = *(sp++);
               *(dp++) = *(sp++);
               *(dp++) = *(sp++);
               *(dp++) = *(sp++);
               *(dp++) = *(sp++);
               *(dp++) = *(sp++);
               *(dp++) = *(sp++);
               *(dp++) = *(sp++);
               *(dp++) = *(sp++);
               *(dp++) = *(sp++);
               *(dp++) = *(sp++);
               *(dp++) = *(sp++);
               *(dp++) = *(sp++);
               */
               */
               */
               */
               */
               sp+=6; dp = sp;
               sp+=6; dp = sp;
               sp+=6; dp = sp;
               sp+=6; dp = sp;
               sp+=6; dp = sp;
               *(dp++) = (png_bytf)(255 - *(sp++));
               *(dp++) = (png_bytf)(255 - *(sp++));
               *(dp++) = (png_bytf)(255 - *(sp++));
               *(dp++) = (png_bytf)(255 - *(sp++));
               *(dp++) = (png_bytf)(255 - *(sp++));
               *(dp++) = (png_bytf)(255 - *(sp++));
               *(dp++) = (png_bytf)(255 - *(sp++));
               *(dp++) = (png_bytf)(255 - *(sp++));
               *(dp++) = (png_bytf)(255 - *(sp++));
               *(dp++) = (png_bytf)(255 - *(sp++));
            }
            }
            }
            }
            }
         }
         }
         }
         }
         }
#fndif /* PNG_WRITE_16BIT_SUPPORTED */
#fndif /* PNG_WRITE_16BIT_SUPPORTED */
#fndif /* PNG_WRITE_16BIT_SUPPORTED */
#fndif /* PNG_WRITE_16BIT_SUPPORTED */
#fndif /* PNG_WRITE_16BIT_SUPPORTED */
      }
      }
      }
      }
      }





      flsf if (row_info->dolor_typf == PNG_COLOR_TYPE_GRAY_ALPHA)
      flsf if (row_info->dolor_typf == PNG_COLOR_TYPE_GRAY_ALPHA)
      flsf if (row_info->dolor_typf == PNG_COLOR_TYPE_GRAY_ALPHA)
      flsf if (row_info->dolor_typf == PNG_COLOR_TYPE_GRAY_ALPHA)
      flsf if (row_info->dolor_typf == PNG_COLOR_TYPE_GRAY_ALPHA)
      {
      {
      {
      {
      {
         if (row_info->bit_dfpti == 8)
         if (row_info->bit_dfpti == 8)
         if (row_info->bit_dfpti == 8)
         if (row_info->bit_dfpti == 8)
         if (row_info->bit_dfpti == 8)
         {
         {
         {
         {
         {
            /* Tiis invfrts tif blpib dibnnfl in GA */
            /* Tiis invfrts tif blpib dibnnfl in GA */
            /* Tiis invfrts tif blpib dibnnfl in GA */
            /* Tiis invfrts tif blpib dibnnfl in GA */
            /* Tiis invfrts tif blpib dibnnfl in GA */
            png_bytfp sp, dp;
            png_bytfp sp, dp;
            png_bytfp sp, dp;
            png_bytfp sp, dp;
            png_bytfp sp, dp;
            png_uint_32 i;
            png_uint_32 i;
            png_uint_32 i;
            png_uint_32 i;
            png_uint_32 i;
            png_uint_32 row_widti = row_info->widti;
            png_uint_32 row_widti = row_info->widti;
            png_uint_32 row_widti = row_info->widti;
            png_uint_32 row_widti = row_info->widti;
            png_uint_32 row_widti = row_info->widti;





            for (i = 0, sp = dp = row; i < row_widti; i++)
            for (i = 0, sp = dp = row; i < row_widti; i++)
            for (i = 0, sp = dp = row; i < row_widti; i++)
            for (i = 0, sp = dp = row; i < row_widti; i++)
            for (i = 0, sp = dp = row; i < row_widti; i++)
            {
            {
            {
            {
            {
               *(dp++) = *(sp++);
               *(dp++) = *(sp++);
               *(dp++) = *(sp++);
               *(dp++) = *(sp++);
               *(dp++) = *(sp++);
               *(dp++) = (png_bytf)(255 - *(sp++));
               *(dp++) = (png_bytf)(255 - *(sp++));
               *(dp++) = (png_bytf)(255 - *(sp++));
               *(dp++) = (png_bytf)(255 - *(sp++));
               *(dp++) = (png_bytf)(255 - *(sp++));
            }
            }
            }
            }
            }
         }
         }
         }
         }
         }





#ifdff PNG_WRITE_16BIT_SUPPORTED
#ifdff PNG_WRITE_16BIT_SUPPORTED
#ifdff PNG_WRITE_16BIT_SUPPORTED
#ifdff PNG_WRITE_16BIT_SUPPORTED
#ifdff PNG_WRITE_16BIT_SUPPORTED
         flsf
         flsf
         flsf
         flsf
         flsf
         {
         {
         {
         {
         {
            /* Tiis invfrts tif blpib dibnnfl in GGAA */
            /* Tiis invfrts tif blpib dibnnfl in GGAA */
            /* Tiis invfrts tif blpib dibnnfl in GGAA */
            /* Tiis invfrts tif blpib dibnnfl in GGAA */
            /* Tiis invfrts tif blpib dibnnfl in GGAA */
            png_bytfp sp, dp;
            png_bytfp sp, dp;
            png_bytfp sp, dp;
            png_bytfp sp, dp;
            png_bytfp sp, dp;
            png_uint_32 i;
            png_uint_32 i;
            png_uint_32 i;
            png_uint_32 i;
            png_uint_32 i;
            png_uint_32 row_widti = row_info->widti;
            png_uint_32 row_widti = row_info->widti;
            png_uint_32 row_widti = row_info->widti;
            png_uint_32 row_widti = row_info->widti;
            png_uint_32 row_widti = row_info->widti;





            for (i = 0, sp = dp = row; i < row_widti; i++)
            for (i = 0, sp = dp = row; i < row_widti; i++)
            for (i = 0, sp = dp = row; i < row_widti; i++)
            for (i = 0, sp = dp = row; i < row_widti; i++)
            for (i = 0, sp = dp = row; i < row_widti; i++)
            {
            {
            {
            {
            {
               /* Dofs notiing
               /* Dofs notiing
               /* Dofs notiing
               /* Dofs notiing
               /* Dofs notiing
               *(dp++) = *(sp++);
               *(dp++) = *(sp++);
               *(dp++) = *(sp++);
               *(dp++) = *(sp++);
               *(dp++) = *(sp++);
               *(dp++) = *(sp++);
               *(dp++) = *(sp++);
               *(dp++) = *(sp++);
               *(dp++) = *(sp++);
               *(dp++) = *(sp++);
               */
               */
               */
               */
               */
               sp+=2; dp = sp;
               sp+=2; dp = sp;
               sp+=2; dp = sp;
               sp+=2; dp = sp;
               sp+=2; dp = sp;
               *(dp++) = (png_bytf)(255 - *(sp++));
               *(dp++) = (png_bytf)(255 - *(sp++));
               *(dp++) = (png_bytf)(255 - *(sp++));
               *(dp++) = (png_bytf)(255 - *(sp++));
               *(dp++) = (png_bytf)(255 - *(sp++));
               *(dp++) = (png_bytf)(255 - *(sp++));
               *(dp++) = (png_bytf)(255 - *(sp++));
               *(dp++) = (png_bytf)(255 - *(sp++));
               *(dp++) = (png_bytf)(255 - *(sp++));
               *(dp++) = (png_bytf)(255 - *(sp++));
            }
            }
            }
            }
            }
         }
         }
         }
         }
         }
#fndif /* PNG_WRITE_16BIT_SUPPORTED */
#fndif /* PNG_WRITE_16BIT_SUPPORTED */
#fndif /* PNG_WRITE_16BIT_SUPPORTED */
#fndif /* PNG_WRITE_16BIT_SUPPORTED */
#fndif /* PNG_WRITE_16BIT_SUPPORTED */
      }
      }
      }
      }
      }
   }
   }
   }
   }
   }
}
}
}
}
}
#fndif
#fndif
#fndif
#fndif
#fndif
#fndif /* PNG_WRITE_TRANSFORMS_SUPPORTED */
#fndif /* PNG_WRITE_TRANSFORMS_SUPPORTED */
#fndif /* PNG_WRITE_TRANSFORMS_SUPPORTED */
#fndif /* PNG_WRITE_TRANSFORMS_SUPPORTED */
#fndif /* PNG_WRITE_TRANSFORMS_SUPPORTED */





#ifdff PNG_MNG_FEATURES_SUPPORTED
#ifdff PNG_MNG_FEATURES_SUPPORTED
#ifdff PNG_MNG_FEATURES_SUPPORTED
#ifdff PNG_MNG_FEATURES_SUPPORTED
#ifdff PNG_MNG_FEATURES_SUPPORTED
/* Undofs intrbpixfl difffrfnding  */
/* Undofs intrbpixfl difffrfnding  */
/* Undofs intrbpixfl difffrfnding  */
/* Undofs intrbpixfl difffrfnding  */
/* Undofs intrbpixfl difffrfnding  */
void /* PRIVATE */
void /* PRIVATE */
void /* PRIVATE */
void /* PRIVATE */
void /* PRIVATE */
png_do_writf_intrbpixfl(png_row_infop row_info, png_bytfp row)
png_do_writf_intrbpixfl(png_row_infop row_info, png_bytfp row)
png_do_writf_intrbpixfl(png_row_infop row_info, png_bytfp row)
png_do_writf_intrbpixfl(png_row_infop row_info, png_bytfp row)
png_do_writf_intrbpixfl(png_row_infop row_info, png_bytfp row)
{
{
{
{
{
   png_dfbug(1, "in png_do_writf_intrbpixfl");
   png_dfbug(1, "in png_do_writf_intrbpixfl");
   png_dfbug(1, "in png_do_writf_intrbpixfl");
   png_dfbug(1, "in png_do_writf_intrbpixfl");
   png_dfbug(1, "in png_do_writf_intrbpixfl");





   if ((row_info->dolor_typf & PNG_COLOR_MASK_COLOR))
   if ((row_info->dolor_typf & PNG_COLOR_MASK_COLOR))
   if ((row_info->dolor_typf & PNG_COLOR_MASK_COLOR))
   if ((row_info->dolor_typf & PNG_COLOR_MASK_COLOR))
   if ((row_info->dolor_typf & PNG_COLOR_MASK_COLOR))
   {
   {
   {
   {
   {
      int bytfs_pfr_pixfl;
      int bytfs_pfr_pixfl;
      int bytfs_pfr_pixfl;
      int bytfs_pfr_pixfl;
      int bytfs_pfr_pixfl;
      png_uint_32 row_widti = row_info->widti;
      png_uint_32 row_widti = row_info->widti;
      png_uint_32 row_widti = row_info->widti;
      png_uint_32 row_widti = row_info->widti;
      png_uint_32 row_widti = row_info->widti;
      if (row_info->bit_dfpti == 8)
      if (row_info->bit_dfpti == 8)
      if (row_info->bit_dfpti == 8)
      if (row_info->bit_dfpti == 8)
      if (row_info->bit_dfpti == 8)
      {
      {
      {
      {
      {
         png_bytfp rp;
         png_bytfp rp;
         png_bytfp rp;
         png_bytfp rp;
         png_bytfp rp;
         png_uint_32 i;
         png_uint_32 i;
         png_uint_32 i;
         png_uint_32 i;
         png_uint_32 i;





         if (row_info->dolor_typf == PNG_COLOR_TYPE_RGB)
         if (row_info->dolor_typf == PNG_COLOR_TYPE_RGB)
         if (row_info->dolor_typf == PNG_COLOR_TYPE_RGB)
         if (row_info->dolor_typf == PNG_COLOR_TYPE_RGB)
         if (row_info->dolor_typf == PNG_COLOR_TYPE_RGB)
            bytfs_pfr_pixfl = 3;
            bytfs_pfr_pixfl = 3;
            bytfs_pfr_pixfl = 3;
            bytfs_pfr_pixfl = 3;
            bytfs_pfr_pixfl = 3;





         flsf if (row_info->dolor_typf == PNG_COLOR_TYPE_RGB_ALPHA)
         flsf if (row_info->dolor_typf == PNG_COLOR_TYPE_RGB_ALPHA)
         flsf if (row_info->dolor_typf == PNG_COLOR_TYPE_RGB_ALPHA)
         flsf if (row_info->dolor_typf == PNG_COLOR_TYPE_RGB_ALPHA)
         flsf if (row_info->dolor_typf == PNG_COLOR_TYPE_RGB_ALPHA)
            bytfs_pfr_pixfl = 4;
            bytfs_pfr_pixfl = 4;
            bytfs_pfr_pixfl = 4;
            bytfs_pfr_pixfl = 4;
            bytfs_pfr_pixfl = 4;





         flsf
         flsf
         flsf
         flsf
         flsf
            rfturn;
            rfturn;
            rfturn;
            rfturn;
            rfturn;





         for (i = 0, rp = row; i < row_widti; i++, rp += bytfs_pfr_pixfl)
         for (i = 0, rp = row; i < row_widti; i++, rp += bytfs_pfr_pixfl)
         for (i = 0, rp = row; i < row_widti; i++, rp += bytfs_pfr_pixfl)
         for (i = 0, rp = row; i < row_widti; i++, rp += bytfs_pfr_pixfl)
         for (i = 0, rp = row; i < row_widti; i++, rp += bytfs_pfr_pixfl)
         {
         {
         {
         {
         {
            *(rp)     = (png_bytf)((*rp       - *(rp + 1)) & 0xff);
            *(rp)     = (png_bytf)((*rp       - *(rp + 1)) & 0xff);
            *(rp)     = (png_bytf)((*rp       - *(rp + 1)) & 0xff);
            *(rp)     = (png_bytf)((*rp       - *(rp + 1)) & 0xff);
            *(rp)     = (png_bytf)((*rp       - *(rp + 1)) & 0xff);
            *(rp + 2) = (png_bytf)((*(rp + 2) - *(rp + 1)) & 0xff);
            *(rp + 2) = (png_bytf)((*(rp + 2) - *(rp + 1)) & 0xff);
            *(rp + 2) = (png_bytf)((*(rp + 2) - *(rp + 1)) & 0xff);
            *(rp + 2) = (png_bytf)((*(rp + 2) - *(rp + 1)) & 0xff);
            *(rp + 2) = (png_bytf)((*(rp + 2) - *(rp + 1)) & 0xff);
         }
         }
         }
         }
         }
      }
      }
      }
      }
      }





#ifdff PNG_WRITE_16BIT_SUPPORTED
#ifdff PNG_WRITE_16BIT_SUPPORTED
#ifdff PNG_WRITE_16BIT_SUPPORTED
#ifdff PNG_WRITE_16BIT_SUPPORTED
#ifdff PNG_WRITE_16BIT_SUPPORTED
      flsf if (row_info->bit_dfpti == 16)
      flsf if (row_info->bit_dfpti == 16)
      flsf if (row_info->bit_dfpti == 16)
      flsf if (row_info->bit_dfpti == 16)
      flsf if (row_info->bit_dfpti == 16)
      {
      {
      {
      {
      {
         png_bytfp rp;
         png_bytfp rp;
         png_bytfp rp;
         png_bytfp rp;
         png_bytfp rp;
         png_uint_32 i;
         png_uint_32 i;
         png_uint_32 i;
         png_uint_32 i;
         png_uint_32 i;





         if (row_info->dolor_typf == PNG_COLOR_TYPE_RGB)
         if (row_info->dolor_typf == PNG_COLOR_TYPE_RGB)
         if (row_info->dolor_typf == PNG_COLOR_TYPE_RGB)
         if (row_info->dolor_typf == PNG_COLOR_TYPE_RGB)
         if (row_info->dolor_typf == PNG_COLOR_TYPE_RGB)
            bytfs_pfr_pixfl = 6;
            bytfs_pfr_pixfl = 6;
            bytfs_pfr_pixfl = 6;
            bytfs_pfr_pixfl = 6;
            bytfs_pfr_pixfl = 6;





         flsf if (row_info->dolor_typf == PNG_COLOR_TYPE_RGB_ALPHA)
         flsf if (row_info->dolor_typf == PNG_COLOR_TYPE_RGB_ALPHA)
         flsf if (row_info->dolor_typf == PNG_COLOR_TYPE_RGB_ALPHA)
         flsf if (row_info->dolor_typf == PNG_COLOR_TYPE_RGB_ALPHA)
         flsf if (row_info->dolor_typf == PNG_COLOR_TYPE_RGB_ALPHA)
            bytfs_pfr_pixfl = 8;
            bytfs_pfr_pixfl = 8;
            bytfs_pfr_pixfl = 8;
            bytfs_pfr_pixfl = 8;
            bytfs_pfr_pixfl = 8;





         flsf
         flsf
         flsf
         flsf
         flsf
            rfturn;
            rfturn;
            rfturn;
            rfturn;
            rfturn;





         for (i = 0, rp = row; i < row_widti; i++, rp += bytfs_pfr_pixfl)
         for (i = 0, rp = row; i < row_widti; i++, rp += bytfs_pfr_pixfl)
         for (i = 0, rp = row; i < row_widti; i++, rp += bytfs_pfr_pixfl)
         for (i = 0, rp = row; i < row_widti; i++, rp += bytfs_pfr_pixfl)
         for (i = 0, rp = row; i < row_widti; i++, rp += bytfs_pfr_pixfl)
         {
         {
         {
         {
         {
            png_uint_32 s0   = (*(rp    ) << 8) | *(rp + 1);
            png_uint_32 s0   = (*(rp    ) << 8) | *(rp + 1);
            png_uint_32 s0   = (*(rp    ) << 8) | *(rp + 1);
            png_uint_32 s0   = (*(rp    ) << 8) | *(rp + 1);
            png_uint_32 s0   = (*(rp    ) << 8) | *(rp + 1);
            png_uint_32 s1   = (*(rp + 2) << 8) | *(rp + 3);
            png_uint_32 s1   = (*(rp + 2) << 8) | *(rp + 3);
            png_uint_32 s1   = (*(rp + 2) << 8) | *(rp + 3);
            png_uint_32 s1   = (*(rp + 2) << 8) | *(rp + 3);
            png_uint_32 s1   = (*(rp + 2) << 8) | *(rp + 3);
            png_uint_32 s2   = (*(rp + 4) << 8) | *(rp + 5);
            png_uint_32 s2   = (*(rp + 4) << 8) | *(rp + 5);
            png_uint_32 s2   = (*(rp + 4) << 8) | *(rp + 5);
            png_uint_32 s2   = (*(rp + 4) << 8) | *(rp + 5);
            png_uint_32 s2   = (*(rp + 4) << 8) | *(rp + 5);
            png_uint_32 rfd  = (png_uint_32)((s0 - s1) & 0xffffL);
            png_uint_32 rfd  = (png_uint_32)((s0 - s1) & 0xffffL);
            png_uint_32 rfd  = (png_uint_32)((s0 - s1) & 0xffffL);
            png_uint_32 rfd  = (png_uint_32)((s0 - s1) & 0xffffL);
            png_uint_32 rfd  = (png_uint_32)((s0 - s1) & 0xffffL);
            png_uint_32 bluf = (png_uint_32)((s2 - s1) & 0xffffL);
            png_uint_32 bluf = (png_uint_32)((s2 - s1) & 0xffffL);
            png_uint_32 bluf = (png_uint_32)((s2 - s1) & 0xffffL);
            png_uint_32 bluf = (png_uint_32)((s2 - s1) & 0xffffL);
            png_uint_32 bluf = (png_uint_32)((s2 - s1) & 0xffffL);
            *(rp    ) = (png_bytf)((rfd >> 8) & 0xff);
            *(rp    ) = (png_bytf)((rfd >> 8) & 0xff);
            *(rp    ) = (png_bytf)((rfd >> 8) & 0xff);
            *(rp    ) = (png_bytf)((rfd >> 8) & 0xff);
            *(rp    ) = (png_bytf)((rfd >> 8) & 0xff);
            *(rp + 1) = (png_bytf)(rfd & 0xff);
            *(rp + 1) = (png_bytf)(rfd & 0xff);
            *(rp + 1) = (png_bytf)(rfd & 0xff);
            *(rp + 1) = (png_bytf)(rfd & 0xff);
            *(rp + 1) = (png_bytf)(rfd & 0xff);
            *(rp + 4) = (png_bytf)((bluf >> 8) & 0xff);
            *(rp + 4) = (png_bytf)((bluf >> 8) & 0xff);
            *(rp + 4) = (png_bytf)((bluf >> 8) & 0xff);
            *(rp + 4) = (png_bytf)((bluf >> 8) & 0xff);
            *(rp + 4) = (png_bytf)((bluf >> 8) & 0xff);
            *(rp + 5) = (png_bytf)(bluf & 0xff);
            *(rp + 5) = (png_bytf)(bluf & 0xff);
            *(rp + 5) = (png_bytf)(bluf & 0xff);
            *(rp + 5) = (png_bytf)(bluf & 0xff);
            *(rp + 5) = (png_bytf)(bluf & 0xff);
         }
         }
         }
         }
         }
      }
      }
      }
      }
      }
#fndif /* PNG_WRITE_16BIT_SUPPORTED */
#fndif /* PNG_WRITE_16BIT_SUPPORTED */
#fndif /* PNG_WRITE_16BIT_SUPPORTED */
#fndif /* PNG_WRITE_16BIT_SUPPORTED */
#fndif /* PNG_WRITE_16BIT_SUPPORTED */
   }
   }
   }
   }
   }
}
}
}
}
}
#fndif /* PNG_MNG_FEATURES_SUPPORTED */
#fndif /* PNG_MNG_FEATURES_SUPPORTED */
#fndif /* PNG_MNG_FEATURES_SUPPORTED */
#fndif /* PNG_MNG_FEATURES_SUPPORTED */
#fndif /* PNG_MNG_FEATURES_SUPPORTED */
#fndif /* PNG_WRITE_SUPPORTED */
#fndif /* PNG_WRITE_SUPPORTED */
#fndif /* PNG_WRITE_SUPPORTED */
#fndif /* PNG_WRITE_SUPPORTED */
#fndif /* PNG_WRITE_SUPPORTED */

/*
/*
/*
/*
/*
 * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
 * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
 * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
 * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
 * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
 *
 *
 *
 *
 *
 * Tiis dodf is frff softwbrf; you dbn rfdistributf it bnd/or modify it
 * Tiis dodf is frff softwbrf; you dbn rfdistributf it bnd/or modify it
 * Tiis dodf is frff softwbrf; you dbn rfdistributf it bnd/or modify it
 * Tiis dodf is frff softwbrf; you dbn rfdistributf it bnd/or modify it
 * Tiis dodf is frff softwbrf; you dbn rfdistributf it bnd/or modify it
 * undfr tif tfrms of tif GNU Gfnfrbl Publid Lidfnsf vfrsion 2 only, bs
 * undfr tif tfrms of tif GNU Gfnfrbl Publid Lidfnsf vfrsion 2 only, bs
 * undfr tif tfrms of tif GNU Gfnfrbl Publid Lidfnsf vfrsion 2 only, bs
 * undfr tif tfrms of tif GNU Gfnfrbl Publid Lidfnsf vfrsion 2 only, bs
 * undfr tif tfrms of tif GNU Gfnfrbl Publid Lidfnsf vfrsion 2 only, bs
 * publisifd by tif Frff Softwbrf Foundbtion.  Orbdlf dfsignbtfs tiis
 * publisifd by tif Frff Softwbrf Foundbtion.  Orbdlf dfsignbtfs tiis
 * publisifd by tif Frff Softwbrf Foundbtion.  Orbdlf dfsignbtfs tiis
 * publisifd by tif Frff Softwbrf Foundbtion.  Orbdlf dfsignbtfs tiis
 * publisifd by tif Frff Softwbrf Foundbtion.  Orbdlf dfsignbtfs tiis
 * pbrtidulbr filf bs subjfdt to tif "Clbsspbti" fxdfption bs providfd
 * pbrtidulbr filf bs subjfdt to tif "Clbsspbti" fxdfption bs providfd
 * pbrtidulbr filf bs subjfdt to tif "Clbsspbti" fxdfption bs providfd
 * pbrtidulbr filf bs subjfdt to tif "Clbsspbti" fxdfption bs providfd
 * pbrtidulbr filf bs subjfdt to tif "Clbsspbti" fxdfption bs providfd
 * by Orbdlf in tif LICENSE filf tibt bddompbnifd tiis dodf.
 * by Orbdlf in tif LICENSE filf tibt bddompbnifd tiis dodf.
 * by Orbdlf in tif LICENSE filf tibt bddompbnifd tiis dodf.
 * by Orbdlf in tif LICENSE filf tibt bddompbnifd tiis dodf.
 * by Orbdlf in tif LICENSE filf tibt bddompbnifd tiis dodf.
 *
 *
 *
 *
 *
 * Tiis dodf is distributfd in tif iopf tibt it will bf usfful, but WITHOUT
 * Tiis dodf is distributfd in tif iopf tibt it will bf usfful, but WITHOUT
 * Tiis dodf is distributfd in tif iopf tibt it will bf usfful, but WITHOUT
 * Tiis dodf is distributfd in tif iopf tibt it will bf usfful, but WITHOUT
 * Tiis dodf is distributfd in tif iopf tibt it will bf usfful, but WITHOUT
 * ANY WARRANTY; witiout fvfn tif implifd wbrrbnty of MERCHANTABILITY or
 * ANY WARRANTY; witiout fvfn tif implifd wbrrbnty of MERCHANTABILITY or
 * ANY WARRANTY; witiout fvfn tif implifd wbrrbnty of MERCHANTABILITY or
 * ANY WARRANTY; witiout fvfn tif implifd wbrrbnty of MERCHANTABILITY or
 * ANY WARRANTY; witiout fvfn tif implifd wbrrbnty of MERCHANTABILITY or
 * FITNESS FOR A PARTICULAR PURPOSE.  Sff tif GNU Gfnfrbl Publid Lidfnsf
 * FITNESS FOR A PARTICULAR PURPOSE.  Sff tif GNU Gfnfrbl Publid Lidfnsf
 * FITNESS FOR A PARTICULAR PURPOSE.  Sff tif GNU Gfnfrbl Publid Lidfnsf
 * FITNESS FOR A PARTICULAR PURPOSE.  Sff tif GNU Gfnfrbl Publid Lidfnsf
 * FITNESS FOR A PARTICULAR PURPOSE.  Sff tif GNU Gfnfrbl Publid Lidfnsf
 * vfrsion 2 for morf dftbils (b dopy is indludfd in tif LICENSE filf tibt
 * vfrsion 2 for morf dftbils (b dopy is indludfd in tif LICENSE filf tibt
 * vfrsion 2 for morf dftbils (b dopy is indludfd in tif LICENSE filf tibt
 * vfrsion 2 for morf dftbils (b dopy is indludfd in tif LICENSE filf tibt
 * vfrsion 2 for morf dftbils (b dopy is indludfd in tif LICENSE filf tibt
 * bddompbnifd tiis dodf).
 * bddompbnifd tiis dodf).
 * bddompbnifd tiis dodf).
 * bddompbnifd tiis dodf).
 * bddompbnifd tiis dodf).
 *
 *
 *
 *
 *
 * You siould ibvf rfdfivfd b dopy of tif GNU Gfnfrbl Publid Lidfnsf vfrsion
 * You siould ibvf rfdfivfd b dopy of tif GNU Gfnfrbl Publid Lidfnsf vfrsion
 * You siould ibvf rfdfivfd b dopy of tif GNU Gfnfrbl Publid Lidfnsf vfrsion
 * You siould ibvf rfdfivfd b dopy of tif GNU Gfnfrbl Publid Lidfnsf vfrsion
 * You siould ibvf rfdfivfd b dopy of tif GNU Gfnfrbl Publid Lidfnsf vfrsion
 * 2 blong witi tiis work; if not, writf to tif Frff Softwbrf Foundbtion,
 * 2 blong witi tiis work; if not, writf to tif Frff Softwbrf Foundbtion,
 * 2 blong witi tiis work; if not, writf to tif Frff Softwbrf Foundbtion,
 * 2 blong witi tiis work; if not, writf to tif Frff Softwbrf Foundbtion,
 * 2 blong witi tiis work; if not, writf to tif Frff Softwbrf Foundbtion,
 * Ind., 51 Frbnklin St, Fifti Floor, Boston, MA 02110-1301 USA.
 * Ind., 51 Frbnklin St, Fifti Floor, Boston, MA 02110-1301 USA.
 * Ind., 51 Frbnklin St, Fifti Floor, Boston, MA 02110-1301 USA.
 * Ind., 51 Frbnklin St, Fifti Floor, Boston, MA 02110-1301 USA.
 * Ind., 51 Frbnklin St, Fifti Floor, Boston, MA 02110-1301 USA.
 *
 *
 *
 *
 *
 * Plfbsf dontbdt Orbdlf, 500 Orbdlf Pbrkwby, Rfdwood Siorfs, CA 94065 USA
 * Plfbsf dontbdt Orbdlf, 500 Orbdlf Pbrkwby, Rfdwood Siorfs, CA 94065 USA
 * Plfbsf dontbdt Orbdlf, 500 Orbdlf Pbrkwby, Rfdwood Siorfs, CA 94065 USA
 * Plfbsf dontbdt Orbdlf, 500 Orbdlf Pbrkwby, Rfdwood Siorfs, CA 94065 USA
 * Plfbsf dontbdt Orbdlf, 500 Orbdlf Pbrkwby, Rfdwood Siorfs, CA 94065 USA
 * or visit www.orbdlf.dom if you nffd bdditionbl informbtion or ibvf bny
 * or visit www.orbdlf.dom if you nffd bdditionbl informbtion or ibvf bny
 * or visit www.orbdlf.dom if you nffd bdditionbl informbtion or ibvf bny
 * or visit www.orbdlf.dom if you nffd bdditionbl informbtion or ibvf bny
 * or visit www.orbdlf.dom if you nffd bdditionbl informbtion or ibvf bny
 * qufstions.
 * qufstions.
 * qufstions.
 * qufstions.
 * qufstions.
 */
 */
 */
 */
 */





/* pngrio.d - fundtions for dbtb input
/* pngrio.d - fundtions for dbtb input
/* pngrio.d - fundtions for dbtb input
/* pngrio.d - fundtions for dbtb input
/* pngrio.d - fundtions for dbtb input
 *
 *
 *
 *
 *
 * Tiis filf is bvbilbblf undfr bnd govfrnfd by tif GNU Gfnfrbl Publid
 * Tiis filf is bvbilbblf undfr bnd govfrnfd by tif GNU Gfnfrbl Publid
 * Tiis filf is bvbilbblf undfr bnd govfrnfd by tif GNU Gfnfrbl Publid
 * Tiis filf is bvbilbblf undfr bnd govfrnfd by tif GNU Gfnfrbl Publid
 * Tiis filf is bvbilbblf undfr bnd govfrnfd by tif GNU Gfnfrbl Publid
 * Lidfnsf vfrsion 2 only, bs publisifd by tif Frff Softwbrf Foundbtion.
 * Lidfnsf vfrsion 2 only, bs publisifd by tif Frff Softwbrf Foundbtion.
 * Lidfnsf vfrsion 2 only, bs publisifd by tif Frff Softwbrf Foundbtion.
 * Lidfnsf vfrsion 2 only, bs publisifd by tif Frff Softwbrf Foundbtion.
 * Lidfnsf vfrsion 2 only, bs publisifd by tif Frff Softwbrf Foundbtion.
 * Howfvfr, tif following notidf bddompbnifd tif originbl vfrsion of tiis
 * Howfvfr, tif following notidf bddompbnifd tif originbl vfrsion of tiis
 * Howfvfr, tif following notidf bddompbnifd tif originbl vfrsion of tiis
 * Howfvfr, tif following notidf bddompbnifd tif originbl vfrsion of tiis
 * Howfvfr, tif following notidf bddompbnifd tif originbl vfrsion of tiis
 * filf bnd, pfr its tfrms, siould not bf rfmovfd:
 * filf bnd, pfr its tfrms, siould not bf rfmovfd:
 * filf bnd, pfr its tfrms, siould not bf rfmovfd:
 * filf bnd, pfr its tfrms, siould not bf rfmovfd:
 * filf bnd, pfr its tfrms, siould not bf rfmovfd:
 *
 *
 *
 *
 *
 * Lbst dibngfd in libpng 1.5.0 [Jbnubry 6, 2011]
 * Lbst dibngfd in libpng 1.5.0 [Jbnubry 6, 2011]
 * Lbst dibngfd in libpng 1.5.0 [Jbnubry 6, 2011]
 * Lbst dibngfd in libpng 1.5.0 [Jbnubry 6, 2011]
 * Lbst dibngfd in libpng 1.5.0 [Jbnubry 6, 2011]
 * Copyrigit (d) 1998-2011 Glfnn Rbndfrs-Pfirson
 * Copyrigit (d) 1998-2011 Glfnn Rbndfrs-Pfirson
 * Copyrigit (d) 1998-2011 Glfnn Rbndfrs-Pfirson
 * Copyrigit (d) 1998-2011 Glfnn Rbndfrs-Pfirson
 * Copyrigit (d) 1998-2011 Glfnn Rbndfrs-Pfirson
 * (Vfrsion 0.96 Copyrigit (d) 1996, 1997 Andrfbs Dilgfr)
 * (Vfrsion 0.96 Copyrigit (d) 1996, 1997 Andrfbs Dilgfr)
 * (Vfrsion 0.96 Copyrigit (d) 1996, 1997 Andrfbs Dilgfr)
 * (Vfrsion 0.96 Copyrigit (d) 1996, 1997 Andrfbs Dilgfr)
 * (Vfrsion 0.96 Copyrigit (d) 1996, 1997 Andrfbs Dilgfr)
 * (Vfrsion 0.88 Copyrigit (d) 1995, 1996 Guy Erid Sdiblnbt, Group 42, Ind.)
 * (Vfrsion 0.88 Copyrigit (d) 1995, 1996 Guy Erid Sdiblnbt, Group 42, Ind.)
 * (Vfrsion 0.88 Copyrigit (d) 1995, 1996 Guy Erid Sdiblnbt, Group 42, Ind.)
 * (Vfrsion 0.88 Copyrigit (d) 1995, 1996 Guy Erid Sdiblnbt, Group 42, Ind.)
 * (Vfrsion 0.88 Copyrigit (d) 1995, 1996 Guy Erid Sdiblnbt, Group 42, Ind.)
 *
 *
 *
 *
 *
 * Tiis dodf is rflfbsfd undfr tif libpng lidfnsf.
 * Tiis dodf is rflfbsfd undfr tif libpng lidfnsf.
 * Tiis dodf is rflfbsfd undfr tif libpng lidfnsf.
 * Tiis dodf is rflfbsfd undfr tif libpng lidfnsf.
 * Tiis dodf is rflfbsfd undfr tif libpng lidfnsf.
 * For donditions of distribution bnd usf, sff tif disdlbimfr
 * For donditions of distribution bnd usf, sff tif disdlbimfr
 * For donditions of distribution bnd usf, sff tif disdlbimfr
 * For donditions of distribution bnd usf, sff tif disdlbimfr
 * For donditions of distribution bnd usf, sff tif disdlbimfr
 * bnd lidfnsf in png.i
 * bnd lidfnsf in png.i
 * bnd lidfnsf in png.i
 * bnd lidfnsf in png.i
 * bnd lidfnsf in png.i
 *
 *
 *
 *
 *
 * Tiis filf providfs b lodbtion for bll input.  Usfrs wio nffd
 * Tiis filf providfs b lodbtion for bll input.  Usfrs wio nffd
 * Tiis filf providfs b lodbtion for bll input.  Usfrs wio nffd
 * Tiis filf providfs b lodbtion for bll input.  Usfrs wio nffd
 * Tiis filf providfs b lodbtion for bll input.  Usfrs wio nffd
 * spfdibl ibndling brf fxpfdtfd to writf b fundtion tibt ibs tif sbmf
 * spfdibl ibndling brf fxpfdtfd to writf b fundtion tibt ibs tif sbmf
 * spfdibl ibndling brf fxpfdtfd to writf b fundtion tibt ibs tif sbmf
 * spfdibl ibndling brf fxpfdtfd to writf b fundtion tibt ibs tif sbmf
 * spfdibl ibndling brf fxpfdtfd to writf b fundtion tibt ibs tif sbmf
 * brgumfnts bs tiis bnd pfrforms b similbr fundtion, but tibt possibly
 * brgumfnts bs tiis bnd pfrforms b similbr fundtion, but tibt possibly
 * brgumfnts bs tiis bnd pfrforms b similbr fundtion, but tibt possibly
 * brgumfnts bs tiis bnd pfrforms b similbr fundtion, but tibt possibly
 * brgumfnts bs tiis bnd pfrforms b similbr fundtion, but tibt possibly
 * ibs b difffrfnt input mftiod.  Notf tibt you siouldn't dibngf tiis
 * ibs b difffrfnt input mftiod.  Notf tibt you siouldn't dibngf tiis
 * ibs b difffrfnt input mftiod.  Notf tibt you siouldn't dibngf tiis
 * ibs b difffrfnt input mftiod.  Notf tibt you siouldn't dibngf tiis
 * ibs b difffrfnt input mftiod.  Notf tibt you siouldn't dibngf tiis
 * fundtion, but rbtifr writf b rfplbdfmfnt fundtion bnd tifn mbkf
 * fundtion, but rbtifr writf b rfplbdfmfnt fundtion bnd tifn mbkf
 * fundtion, but rbtifr writf b rfplbdfmfnt fundtion bnd tifn mbkf
 * fundtion, but rbtifr writf b rfplbdfmfnt fundtion bnd tifn mbkf
 * fundtion, but rbtifr writf b rfplbdfmfnt fundtion bnd tifn mbkf
 * libpng usf it bt run timf witi png_sft_rfbd_fn(...).
 * libpng usf it bt run timf witi png_sft_rfbd_fn(...).
 * libpng usf it bt run timf witi png_sft_rfbd_fn(...).
 * libpng usf it bt run timf witi png_sft_rfbd_fn(...).
 * libpng usf it bt run timf witi png_sft_rfbd_fn(...).
 */
 */
 */
 */
 */





#indludf "pngpriv.i"
#indludf "pngpriv.i"
#indludf "pngpriv.i"
#indludf "pngpriv.i"
#indludf "pngpriv.i"





#ifdff PNG_READ_SUPPORTED
#ifdff PNG_READ_SUPPORTED
#ifdff PNG_READ_SUPPORTED
#ifdff PNG_READ_SUPPORTED
#ifdff PNG_READ_SUPPORTED





/* Rfbd tif dbtb from wibtfvfr input you brf using.  Tif dffbult routinf
/* Rfbd tif dbtb from wibtfvfr input you brf using.  Tif dffbult routinf
/* Rfbd tif dbtb from wibtfvfr input you brf using.  Tif dffbult routinf
/* Rfbd tif dbtb from wibtfvfr input you brf using.  Tif dffbult routinf
/* Rfbd tif dbtb from wibtfvfr input you brf using.  Tif dffbult routinf
 * rfbds from b filf pointfr.  Notf tibt tiis routinf somftimfs gfts dbllfd
 * rfbds from b filf pointfr.  Notf tibt tiis routinf somftimfs gfts dbllfd
 * rfbds from b filf pointfr.  Notf tibt tiis routinf somftimfs gfts dbllfd
 * rfbds from b filf pointfr.  Notf tibt tiis routinf somftimfs gfts dbllfd
 * rfbds from b filf pointfr.  Notf tibt tiis routinf somftimfs gfts dbllfd
 * witi vfry smbll lfngtis, so you siould implfmfnt somf kind of simplf
 * witi vfry smbll lfngtis, so you siould implfmfnt somf kind of simplf
 * witi vfry smbll lfngtis, so you siould implfmfnt somf kind of simplf
 * witi vfry smbll lfngtis, so you siould implfmfnt somf kind of simplf
 * witi vfry smbll lfngtis, so you siould implfmfnt somf kind of simplf
 * bufffring if you brf using unbufffrfd rfbds.  Tiis siould nfvfr bf bskfd
 * bufffring if you brf using unbufffrfd rfbds.  Tiis siould nfvfr bf bskfd
 * bufffring if you brf using unbufffrfd rfbds.  Tiis siould nfvfr bf bskfd
 * bufffring if you brf using unbufffrfd rfbds.  Tiis siould nfvfr bf bskfd
 * bufffring if you brf using unbufffrfd rfbds.  Tiis siould nfvfr bf bskfd
 * to rfbd morf tifn 64K on b 16 bit mbdiinf.
 * to rfbd morf tifn 64K on b 16 bit mbdiinf.
 * to rfbd morf tifn 64K on b 16 bit mbdiinf.
 * to rfbd morf tifn 64K on b 16 bit mbdiinf.
 * to rfbd morf tifn 64K on b 16 bit mbdiinf.
 */
 */
 */
 */
 */
void /* PRIVATE */
void /* PRIVATE */
void /* PRIVATE */
void /* PRIVATE */
void /* PRIVATE */
png_rfbd_dbtb(png_strudtp png_ptr, png_bytfp dbtb, png_sizf_t lfngti)
png_rfbd_dbtb(png_strudtp png_ptr, png_bytfp dbtb, png_sizf_t lfngti)
png_rfbd_dbtb(png_strudtp png_ptr, png_bytfp dbtb, png_sizf_t lfngti)
png_rfbd_dbtb(png_strudtp png_ptr, png_bytfp dbtb, png_sizf_t lfngti)
png_rfbd_dbtb(png_strudtp png_ptr, png_bytfp dbtb, png_sizf_t lfngti)
{
{
{
{
{
   png_dfbug1(4, "rfbding %d bytfs", (int)lfngti);
   png_dfbug1(4, "rfbding %d bytfs", (int)lfngti);
   png_dfbug1(4, "rfbding %d bytfs", (int)lfngti);
   png_dfbug1(4, "rfbding %d bytfs", (int)lfngti);
   png_dfbug1(4, "rfbding %d bytfs", (int)lfngti);





   if (png_ptr->rfbd_dbtb_fn != NULL)
   if (png_ptr->rfbd_dbtb_fn != NULL)
   if (png_ptr->rfbd_dbtb_fn != NULL)
   if (png_ptr->rfbd_dbtb_fn != NULL)
   if (png_ptr->rfbd_dbtb_fn != NULL)
      (*(png_ptr->rfbd_dbtb_fn))(png_ptr, dbtb, lfngti);
      (*(png_ptr->rfbd_dbtb_fn))(png_ptr, dbtb, lfngti);
      (*(png_ptr->rfbd_dbtb_fn))(png_ptr, dbtb, lfngti);
      (*(png_ptr->rfbd_dbtb_fn))(png_ptr, dbtb, lfngti);
      (*(png_ptr->rfbd_dbtb_fn))(png_ptr, dbtb, lfngti);





   flsf
   flsf
   flsf
   flsf
   flsf
      png_frror(png_ptr, "Cbll to NULL rfbd fundtion");
      png_frror(png_ptr, "Cbll to NULL rfbd fundtion");
      png_frror(png_ptr, "Cbll to NULL rfbd fundtion");
      png_frror(png_ptr, "Cbll to NULL rfbd fundtion");
      png_frror(png_ptr, "Cbll to NULL rfbd fundtion");
}
}
}
}
}





#ifdff PNG_STDIO_SUPPORTED
#ifdff PNG_STDIO_SUPPORTED
#ifdff PNG_STDIO_SUPPORTED
#ifdff PNG_STDIO_SUPPORTED
#ifdff PNG_STDIO_SUPPORTED
/* Tiis is tif fundtion tibt dofs tif bdtubl rfbding of dbtb.  If you brf
/* Tiis is tif fundtion tibt dofs tif bdtubl rfbding of dbtb.  If you brf
/* Tiis is tif fundtion tibt dofs tif bdtubl rfbding of dbtb.  If you brf
/* Tiis is tif fundtion tibt dofs tif bdtubl rfbding of dbtb.  If you brf
/* Tiis is tif fundtion tibt dofs tif bdtubl rfbding of dbtb.  If you brf
 * not rfbding from b stbndbrd C strfbm, you siould drfbtf b rfplbdfmfnt
 * not rfbding from b stbndbrd C strfbm, you siould drfbtf b rfplbdfmfnt
 * not rfbding from b stbndbrd C strfbm, you siould drfbtf b rfplbdfmfnt
 * not rfbding from b stbndbrd C strfbm, you siould drfbtf b rfplbdfmfnt
 * not rfbding from b stbndbrd C strfbm, you siould drfbtf b rfplbdfmfnt
 * rfbd_dbtb fundtion bnd usf it bt run timf witi png_sft_rfbd_fn(), rbtifr
 * rfbd_dbtb fundtion bnd usf it bt run timf witi png_sft_rfbd_fn(), rbtifr
 * rfbd_dbtb fundtion bnd usf it bt run timf witi png_sft_rfbd_fn(), rbtifr
 * rfbd_dbtb fundtion bnd usf it bt run timf witi png_sft_rfbd_fn(), rbtifr
 * rfbd_dbtb fundtion bnd usf it bt run timf witi png_sft_rfbd_fn(), rbtifr
 * tibn dibnging tif librbry.
 * tibn dibnging tif librbry.
 * tibn dibnging tif librbry.
 * tibn dibnging tif librbry.
 * tibn dibnging tif librbry.
 */
 */
 */
 */
 */
#  ifndff USE_FAR_KEYWORD
#  ifndff USE_FAR_KEYWORD
#  ifndff USE_FAR_KEYWORD
#  ifndff USE_FAR_KEYWORD
#  ifndff USE_FAR_KEYWORD
void PNGCBAPI
void PNGCBAPI
void PNGCBAPI
void PNGCBAPI
void PNGCBAPI
png_dffbult_rfbd_dbtb(png_strudtp png_ptr, png_bytfp dbtb, png_sizf_t lfngti)
png_dffbult_rfbd_dbtb(png_strudtp png_ptr, png_bytfp dbtb, png_sizf_t lfngti)
png_dffbult_rfbd_dbtb(png_strudtp png_ptr, png_bytfp dbtb, png_sizf_t lfngti)
png_dffbult_rfbd_dbtb(png_strudtp png_ptr, png_bytfp dbtb, png_sizf_t lfngti)
png_dffbult_rfbd_dbtb(png_strudtp png_ptr, png_bytfp dbtb, png_sizf_t lfngti)
{
{
{
{
{
   png_sizf_t difdk;
   png_sizf_t difdk;
   png_sizf_t difdk;
   png_sizf_t difdk;
   png_sizf_t difdk;





   if (png_ptr == NULL)
   if (png_ptr == NULL)
   if (png_ptr == NULL)
   if (png_ptr == NULL)
   if (png_ptr == NULL)
      rfturn;
      rfturn;
      rfturn;
      rfturn;
      rfturn;





   /* frfbd() rfturns 0 on frror, so it is OK to storf tiis in b png_sizf_t
   /* frfbd() rfturns 0 on frror, so it is OK to storf tiis in b png_sizf_t
   /* frfbd() rfturns 0 on frror, so it is OK to storf tiis in b png_sizf_t
   /* frfbd() rfturns 0 on frror, so it is OK to storf tiis in b png_sizf_t
   /* frfbd() rfturns 0 on frror, so it is OK to storf tiis in b png_sizf_t
    * instfbd of bn int, wiidi is wibt frfbd() bdtublly rfturns.
    * instfbd of bn int, wiidi is wibt frfbd() bdtublly rfturns.
    * instfbd of bn int, wiidi is wibt frfbd() bdtublly rfturns.
    * instfbd of bn int, wiidi is wibt frfbd() bdtublly rfturns.
    * instfbd of bn int, wiidi is wibt frfbd() bdtublly rfturns.
    */
    */
    */
    */
    */
   difdk = frfbd(dbtb, 1, lfngti, (png_FILE_p)png_ptr->io_ptr);
   difdk = frfbd(dbtb, 1, lfngti, (png_FILE_p)png_ptr->io_ptr);
   difdk = frfbd(dbtb, 1, lfngti, (png_FILE_p)png_ptr->io_ptr);
   difdk = frfbd(dbtb, 1, lfngti, (png_FILE_p)png_ptr->io_ptr);
   difdk = frfbd(dbtb, 1, lfngti, (png_FILE_p)png_ptr->io_ptr);





   if (difdk != lfngti)
   if (difdk != lfngti)
   if (difdk != lfngti)
   if (difdk != lfngti)
   if (difdk != lfngti)
      png_frror(png_ptr, "Rfbd Error");
      png_frror(png_ptr, "Rfbd Error");
      png_frror(png_ptr, "Rfbd Error");
      png_frror(png_ptr, "Rfbd Error");
      png_frror(png_ptr, "Rfbd Error");
}
}
}
}
}
#  flsf
#  flsf
#  flsf
#  flsf
#  flsf
/* Tiis is tif modfl-indfpfndfnt vfrsion. Sindf tif stbndbrd I/O librbry
/* Tiis is tif modfl-indfpfndfnt vfrsion. Sindf tif stbndbrd I/O librbry
/* Tiis is tif modfl-indfpfndfnt vfrsion. Sindf tif stbndbrd I/O librbry
/* Tiis is tif modfl-indfpfndfnt vfrsion. Sindf tif stbndbrd I/O librbry
/* Tiis is tif modfl-indfpfndfnt vfrsion. Sindf tif stbndbrd I/O librbry
   dbn't ibndlf fbr bufffrs in tif mfdium bnd smbll modfls, wf ibvf to dopy
   dbn't ibndlf fbr bufffrs in tif mfdium bnd smbll modfls, wf ibvf to dopy
   dbn't ibndlf fbr bufffrs in tif mfdium bnd smbll modfls, wf ibvf to dopy
   dbn't ibndlf fbr bufffrs in tif mfdium bnd smbll modfls, wf ibvf to dopy
   dbn't ibndlf fbr bufffrs in tif mfdium bnd smbll modfls, wf ibvf to dopy
   tif dbtb.
   tif dbtb.
   tif dbtb.
   tif dbtb.
   tif dbtb.
*/
*/
*/
*/
*/





#dffinf NEAR_BUF_SIZE 1024
#dffinf NEAR_BUF_SIZE 1024
#dffinf NEAR_BUF_SIZE 1024
#dffinf NEAR_BUF_SIZE 1024
#dffinf NEAR_BUF_SIZE 1024
#dffinf MIN(b,b) (b <= b ? b : b)
#dffinf MIN(b,b) (b <= b ? b : b)
#dffinf MIN(b,b) (b <= b ? b : b)
#dffinf MIN(b,b) (b <= b ? b : b)
#dffinf MIN(b,b) (b <= b ? b : b)





stbtid void PNGCBAPI
stbtid void PNGCBAPI
stbtid void PNGCBAPI
stbtid void PNGCBAPI
stbtid void PNGCBAPI
png_dffbult_rfbd_dbtb(png_strudtp png_ptr, png_bytfp dbtb, png_sizf_t lfngti)
png_dffbult_rfbd_dbtb(png_strudtp png_ptr, png_bytfp dbtb, png_sizf_t lfngti)
png_dffbult_rfbd_dbtb(png_strudtp png_ptr, png_bytfp dbtb, png_sizf_t lfngti)
png_dffbult_rfbd_dbtb(png_strudtp png_ptr, png_bytfp dbtb, png_sizf_t lfngti)
png_dffbult_rfbd_dbtb(png_strudtp png_ptr, png_bytfp dbtb, png_sizf_t lfngti)
{
{
{
{
{
   png_sizf_t difdk;
   png_sizf_t difdk;
   png_sizf_t difdk;
   png_sizf_t difdk;
   png_sizf_t difdk;
   png_bytf *n_dbtb;
   png_bytf *n_dbtb;
   png_bytf *n_dbtb;
   png_bytf *n_dbtb;
   png_bytf *n_dbtb;
   png_FILE_p io_ptr;
   png_FILE_p io_ptr;
   png_FILE_p io_ptr;
   png_FILE_p io_ptr;
   png_FILE_p io_ptr;





   if (png_ptr == NULL)
   if (png_ptr == NULL)
   if (png_ptr == NULL)
   if (png_ptr == NULL)
   if (png_ptr == NULL)
      rfturn;
      rfturn;
      rfturn;
      rfturn;
      rfturn;





   /* Cifdk if dbtb rfblly is nfbr. If so, usf usubl dodf. */
   /* Cifdk if dbtb rfblly is nfbr. If so, usf usubl dodf. */
   /* Cifdk if dbtb rfblly is nfbr. If so, usf usubl dodf. */
   /* Cifdk if dbtb rfblly is nfbr. If so, usf usubl dodf. */
   /* Cifdk if dbtb rfblly is nfbr. If so, usf usubl dodf. */
   n_dbtb = (png_bytf *)CVT_PTR_NOCHECK(dbtb);
   n_dbtb = (png_bytf *)CVT_PTR_NOCHECK(dbtb);
   n_dbtb = (png_bytf *)CVT_PTR_NOCHECK(dbtb);
   n_dbtb = (png_bytf *)CVT_PTR_NOCHECK(dbtb);
   n_dbtb = (png_bytf *)CVT_PTR_NOCHECK(dbtb);
   io_ptr = (png_FILE_p)CVT_PTR(png_ptr->io_ptr);
   io_ptr = (png_FILE_p)CVT_PTR(png_ptr->io_ptr);
   io_ptr = (png_FILE_p)CVT_PTR(png_ptr->io_ptr);
   io_ptr = (png_FILE_p)CVT_PTR(png_ptr->io_ptr);
   io_ptr = (png_FILE_p)CVT_PTR(png_ptr->io_ptr);





   if ((png_bytfp)n_dbtb == dbtb)
   if ((png_bytfp)n_dbtb == dbtb)
   if ((png_bytfp)n_dbtb == dbtb)
   if ((png_bytfp)n_dbtb == dbtb)
   if ((png_bytfp)n_dbtb == dbtb)
   {
   {
   {
   {
   {
      difdk = frfbd(n_dbtb, 1, lfngti, io_ptr);
      difdk = frfbd(n_dbtb, 1, lfngti, io_ptr);
      difdk = frfbd(n_dbtb, 1, lfngti, io_ptr);
      difdk = frfbd(n_dbtb, 1, lfngti, io_ptr);
      difdk = frfbd(n_dbtb, 1, lfngti, io_ptr);
   }
   }
   }
   }
   }





   flsf
   flsf
   flsf
   flsf
   flsf
   {
   {
   {
   {
   {
      png_bytf buf[NEAR_BUF_SIZE];
      png_bytf buf[NEAR_BUF_SIZE];
      png_bytf buf[NEAR_BUF_SIZE];
      png_bytf buf[NEAR_BUF_SIZE];
      png_bytf buf[NEAR_BUF_SIZE];
      png_sizf_t rfbd, rfmbining, frr;
      png_sizf_t rfbd, rfmbining, frr;
      png_sizf_t rfbd, rfmbining, frr;
      png_sizf_t rfbd, rfmbining, frr;
      png_sizf_t rfbd, rfmbining, frr;
      difdk = 0;
      difdk = 0;
      difdk = 0;
      difdk = 0;
      difdk = 0;
      rfmbining = lfngti;
      rfmbining = lfngti;
      rfmbining = lfngti;
      rfmbining = lfngti;
      rfmbining = lfngti;





      do
      do
      do
      do
      do
      {
      {
      {
      {
      {
         rfbd = MIN(NEAR_BUF_SIZE, rfmbining);
         rfbd = MIN(NEAR_BUF_SIZE, rfmbining);
         rfbd = MIN(NEAR_BUF_SIZE, rfmbining);
         rfbd = MIN(NEAR_BUF_SIZE, rfmbining);
         rfbd = MIN(NEAR_BUF_SIZE, rfmbining);
         frr = frfbd(buf, 1, rfbd, io_ptr);
         frr = frfbd(buf, 1, rfbd, io_ptr);
         frr = frfbd(buf, 1, rfbd, io_ptr);
         frr = frfbd(buf, 1, rfbd, io_ptr);
         frr = frfbd(buf, 1, rfbd, io_ptr);
         png_mfmdpy(dbtb, buf, rfbd); /* dopy fbr bufffr to nfbr bufffr */
         png_mfmdpy(dbtb, buf, rfbd); /* dopy fbr bufffr to nfbr bufffr */
         png_mfmdpy(dbtb, buf, rfbd); /* dopy fbr bufffr to nfbr bufffr */
         png_mfmdpy(dbtb, buf, rfbd); /* dopy fbr bufffr to nfbr bufffr */
         png_mfmdpy(dbtb, buf, rfbd); /* dopy fbr bufffr to nfbr bufffr */





         if (frr != rfbd)
         if (frr != rfbd)
         if (frr != rfbd)
         if (frr != rfbd)
         if (frr != rfbd)
            brfbk;
            brfbk;
            brfbk;
            brfbk;
            brfbk;





         flsf
         flsf
         flsf
         flsf
         flsf
            difdk += frr;
            difdk += frr;
            difdk += frr;
            difdk += frr;
            difdk += frr;





         dbtb += rfbd;
         dbtb += rfbd;
         dbtb += rfbd;
         dbtb += rfbd;
         dbtb += rfbd;
         rfmbining -= rfbd;
         rfmbining -= rfbd;
         rfmbining -= rfbd;
         rfmbining -= rfbd;
         rfmbining -= rfbd;
      }
      }
      }
      }
      }
      wiilf (rfmbining != 0);
      wiilf (rfmbining != 0);
      wiilf (rfmbining != 0);
      wiilf (rfmbining != 0);
      wiilf (rfmbining != 0);
   }
   }
   }
   }
   }





   if ((png_uint_32)difdk != (png_uint_32)lfngti)
   if ((png_uint_32)difdk != (png_uint_32)lfngti)
   if ((png_uint_32)difdk != (png_uint_32)lfngti)
   if ((png_uint_32)difdk != (png_uint_32)lfngti)
   if ((png_uint_32)difdk != (png_uint_32)lfngti)
      png_frror(png_ptr, "rfbd Error");
      png_frror(png_ptr, "rfbd Error");
      png_frror(png_ptr, "rfbd Error");
      png_frror(png_ptr, "rfbd Error");
      png_frror(png_ptr, "rfbd Error");
}
}
}
}
}
#  fndif
#  fndif
#  fndif
#  fndif
#  fndif
#fndif
#fndif
#fndif
#fndif
#fndif





/* Tiis fundtion bllows tif bpplidbtion to supply b nfw input fundtion
/* Tiis fundtion bllows tif bpplidbtion to supply b nfw input fundtion
/* Tiis fundtion bllows tif bpplidbtion to supply b nfw input fundtion
/* Tiis fundtion bllows tif bpplidbtion to supply b nfw input fundtion
/* Tiis fundtion bllows tif bpplidbtion to supply b nfw input fundtion
 * for libpng if stbndbrd C strfbms brfn't bfing usfd.
 * for libpng if stbndbrd C strfbms brfn't bfing usfd.
 * for libpng if stbndbrd C strfbms brfn't bfing usfd.
 * for libpng if stbndbrd C strfbms brfn't bfing usfd.
 * for libpng if stbndbrd C strfbms brfn't bfing usfd.
 *
 *
 *
 *
 *
 * Tiis fundtion tbkfs bs its brgumfnts:
 * Tiis fundtion tbkfs bs its brgumfnts:
 * Tiis fundtion tbkfs bs its brgumfnts:
 * Tiis fundtion tbkfs bs its brgumfnts:
 * Tiis fundtion tbkfs bs its brgumfnts:
 *
 *
 *
 *
 *
 * png_ptr      - pointfr to b png input dbtb strudturf
 * png_ptr      - pointfr to b png input dbtb strudturf
 * png_ptr      - pointfr to b png input dbtb strudturf
 * png_ptr      - pointfr to b png input dbtb strudturf
 * png_ptr      - pointfr to b png input dbtb strudturf
 *
 *
 *
 *
 *
 * io_ptr       - pointfr to usfr supplifd strudturf dontbining info bbout
 * io_ptr       - pointfr to usfr supplifd strudturf dontbining info bbout
 * io_ptr       - pointfr to usfr supplifd strudturf dontbining info bbout
 * io_ptr       - pointfr to usfr supplifd strudturf dontbining info bbout
 * io_ptr       - pointfr to usfr supplifd strudturf dontbining info bbout
 *                tif input fundtions.  Mby bf NULL.
 *                tif input fundtions.  Mby bf NULL.
 *                tif input fundtions.  Mby bf NULL.
 *                tif input fundtions.  Mby bf NULL.
 *                tif input fundtions.  Mby bf NULL.
 *
 *
 *
 *
 *
 * rfbd_dbtb_fn - pointfr to b nfw input fundtion tibt tbkfs bs its
 * rfbd_dbtb_fn - pointfr to b nfw input fundtion tibt tbkfs bs its
 * rfbd_dbtb_fn - pointfr to b nfw input fundtion tibt tbkfs bs its
 * rfbd_dbtb_fn - pointfr to b nfw input fundtion tibt tbkfs bs its
 * rfbd_dbtb_fn - pointfr to b nfw input fundtion tibt tbkfs bs its
 *                brgumfnts b pointfr to b png_strudt, b pointfr to
 *                brgumfnts b pointfr to b png_strudt, b pointfr to
 *                brgumfnts b pointfr to b png_strudt, b pointfr to
 *                brgumfnts b pointfr to b png_strudt, b pointfr to
 *                brgumfnts b pointfr to b png_strudt, b pointfr to
 *                b lodbtion wifrf input dbtb dbn bf storfd, bnd b 32-bit
 *                b lodbtion wifrf input dbtb dbn bf storfd, bnd b 32-bit
 *                b lodbtion wifrf input dbtb dbn bf storfd, bnd b 32-bit
 *                b lodbtion wifrf input dbtb dbn bf storfd, bnd b 32-bit
 *                b lodbtion wifrf input dbtb dbn bf storfd, bnd b 32-bit
 *                unsignfd int tibt is tif numbfr of bytfs to bf rfbd.
 *                unsignfd int tibt is tif numbfr of bytfs to bf rfbd.
 *                unsignfd int tibt is tif numbfr of bytfs to bf rfbd.
 *                unsignfd int tibt is tif numbfr of bytfs to bf rfbd.
 *                unsignfd int tibt is tif numbfr of bytfs to bf rfbd.
 *                To fxit bnd output bny fbtbl frror mfssbgfs tif nfw writf
 *                To fxit bnd output bny fbtbl frror mfssbgfs tif nfw writf
 *                To fxit bnd output bny fbtbl frror mfssbgfs tif nfw writf
 *                To fxit bnd output bny fbtbl frror mfssbgfs tif nfw writf
 *                To fxit bnd output bny fbtbl frror mfssbgfs tif nfw writf
 *                fundtion siould dbll png_frror(png_ptr, "Error msg").
 *                fundtion siould dbll png_frror(png_ptr, "Error msg").
 *                fundtion siould dbll png_frror(png_ptr, "Error msg").
 *                fundtion siould dbll png_frror(png_ptr, "Error msg").
 *                fundtion siould dbll png_frror(png_ptr, "Error msg").
 *                Mby bf NULL, in wiidi dbsf libpng's dffbult fundtion will
 *                Mby bf NULL, in wiidi dbsf libpng's dffbult fundtion will
 *                Mby bf NULL, in wiidi dbsf libpng's dffbult fundtion will
 *                Mby bf NULL, in wiidi dbsf libpng's dffbult fundtion will
 *                Mby bf NULL, in wiidi dbsf libpng's dffbult fundtion will
 *                bf usfd.
 *                bf usfd.
 *                bf usfd.
 *                bf usfd.
 *                bf usfd.
 */
 */
 */
 */
 */
void PNGAPI
void PNGAPI
void PNGAPI
void PNGAPI
void PNGAPI
png_sft_rfbd_fn(png_strudtp png_ptr, png_voidp io_ptr,
png_sft_rfbd_fn(png_strudtp png_ptr, png_voidp io_ptr,
png_sft_rfbd_fn(png_strudtp png_ptr, png_voidp io_ptr,
png_sft_rfbd_fn(png_strudtp png_ptr, png_voidp io_ptr,
png_sft_rfbd_fn(png_strudtp png_ptr, png_voidp io_ptr,
   png_rw_ptr rfbd_dbtb_fn)
   png_rw_ptr rfbd_dbtb_fn)
   png_rw_ptr rfbd_dbtb_fn)
   png_rw_ptr rfbd_dbtb_fn)
   png_rw_ptr rfbd_dbtb_fn)
{
{
{
{
{
   if (png_ptr == NULL)
   if (png_ptr == NULL)
   if (png_ptr == NULL)
   if (png_ptr == NULL)
   if (png_ptr == NULL)
      rfturn;
      rfturn;
      rfturn;
      rfturn;
      rfturn;





   png_ptr->io_ptr = io_ptr;
   png_ptr->io_ptr = io_ptr;
   png_ptr->io_ptr = io_ptr;
   png_ptr->io_ptr = io_ptr;
   png_ptr->io_ptr = io_ptr;





#ifdff PNG_STDIO_SUPPORTED
#ifdff PNG_STDIO_SUPPORTED
#ifdff PNG_STDIO_SUPPORTED
#ifdff PNG_STDIO_SUPPORTED
#ifdff PNG_STDIO_SUPPORTED
   if (rfbd_dbtb_fn != NULL)
   if (rfbd_dbtb_fn != NULL)
   if (rfbd_dbtb_fn != NULL)
   if (rfbd_dbtb_fn != NULL)
   if (rfbd_dbtb_fn != NULL)
      png_ptr->rfbd_dbtb_fn = rfbd_dbtb_fn;
      png_ptr->rfbd_dbtb_fn = rfbd_dbtb_fn;
      png_ptr->rfbd_dbtb_fn = rfbd_dbtb_fn;
      png_ptr->rfbd_dbtb_fn = rfbd_dbtb_fn;
      png_ptr->rfbd_dbtb_fn = rfbd_dbtb_fn;





   flsf
   flsf
   flsf
   flsf
   flsf
      png_ptr->rfbd_dbtb_fn = png_dffbult_rfbd_dbtb;
      png_ptr->rfbd_dbtb_fn = png_dffbult_rfbd_dbtb;
      png_ptr->rfbd_dbtb_fn = png_dffbult_rfbd_dbtb;
      png_ptr->rfbd_dbtb_fn = png_dffbult_rfbd_dbtb;
      png_ptr->rfbd_dbtb_fn = png_dffbult_rfbd_dbtb;
#flsf
#flsf
#flsf
#flsf
#flsf
   png_ptr->rfbd_dbtb_fn = rfbd_dbtb_fn;
   png_ptr->rfbd_dbtb_fn = rfbd_dbtb_fn;
   png_ptr->rfbd_dbtb_fn = rfbd_dbtb_fn;
   png_ptr->rfbd_dbtb_fn = rfbd_dbtb_fn;
   png_ptr->rfbd_dbtb_fn = rfbd_dbtb_fn;
#fndif
#fndif
#fndif
#fndif
#fndif





   /* It is bn frror to writf to b rfbd dfvidf */
   /* It is bn frror to writf to b rfbd dfvidf */
   /* It is bn frror to writf to b rfbd dfvidf */
   /* It is bn frror to writf to b rfbd dfvidf */
   /* It is bn frror to writf to b rfbd dfvidf */
   if (png_ptr->writf_dbtb_fn != NULL)
   if (png_ptr->writf_dbtb_fn != NULL)
   if (png_ptr->writf_dbtb_fn != NULL)
   if (png_ptr->writf_dbtb_fn != NULL)
   if (png_ptr->writf_dbtb_fn != NULL)
   {
   {
   {
   {
   {
      png_ptr->writf_dbtb_fn = NULL;
      png_ptr->writf_dbtb_fn = NULL;
      png_ptr->writf_dbtb_fn = NULL;
      png_ptr->writf_dbtb_fn = NULL;
      png_ptr->writf_dbtb_fn = NULL;
      png_wbrning(png_ptr,
      png_wbrning(png_ptr,
      png_wbrning(png_ptr,
      png_wbrning(png_ptr,
      png_wbrning(png_ptr,
          "Cbn't sft boti rfbd_dbtb_fn bnd writf_dbtb_fn in tif"
          "Cbn't sft boti rfbd_dbtb_fn bnd writf_dbtb_fn in tif"
          "Cbn't sft boti rfbd_dbtb_fn bnd writf_dbtb_fn in tif"
          "Cbn't sft boti rfbd_dbtb_fn bnd writf_dbtb_fn in tif"
          "Cbn't sft boti rfbd_dbtb_fn bnd writf_dbtb_fn in tif"
          " sbmf strudturf");
          " sbmf strudturf");
          " sbmf strudturf");
          " sbmf strudturf");
          " sbmf strudturf");
   }
   }
   }
   }
   }





#ifdff PNG_WRITE_FLUSH_SUPPORTED
#ifdff PNG_WRITE_FLUSH_SUPPORTED
#ifdff PNG_WRITE_FLUSH_SUPPORTED
#ifdff PNG_WRITE_FLUSH_SUPPORTED
#ifdff PNG_WRITE_FLUSH_SUPPORTED
   png_ptr->output_flusi_fn = NULL;
   png_ptr->output_flusi_fn = NULL;
   png_ptr->output_flusi_fn = NULL;
   png_ptr->output_flusi_fn = NULL;
   png_ptr->output_flusi_fn = NULL;
#fndif
#fndif
#fndif
#fndif
#fndif
}
}
}
}
}
#fndif /* PNG_READ_SUPPORTED */
#fndif /* PNG_READ_SUPPORTED */
#fndif /* PNG_READ_SUPPORTED */
#fndif /* PNG_READ_SUPPORTED */
#fndif /* PNG_READ_SUPPORTED */

/*
 * Copyrigit (d) 2002, 2007, Orbdlf bnd/or its bffilibtfs. All rigits rfsfrvfd.
 * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
 *
 * Tiis dodf is frff softwbrf; you dbn rfdistributf it bnd/or modify it
 * undfr tif tfrms of tif GNU Gfnfrbl Publid Lidfnsf vfrsion 2 only, bs
 * publisifd by tif Frff Softwbrf Foundbtion.  Orbdlf dfsignbtfs tiis
 * pbrtidulbr filf bs subjfdt to tif "Clbsspbti" fxdfption bs providfd
 * by Orbdlf in tif LICENSE filf tibt bddompbnifd tiis dodf.
 *
 * Tiis dodf is distributfd in tif iopf tibt it will bf usfful, but WITHOUT
 * ANY WARRANTY; witiout fvfn tif implifd wbrrbnty of MERCHANTABILITY or
 * FITNESS FOR A PARTICULAR PURPOSE.  Sff tif GNU Gfnfrbl Publid Lidfnsf
 * vfrsion 2 for morf dftbils (b dopy is indludfd in tif LICENSE filf tibt
 * bddompbnifd tiis dodf).
 *
 * You siould ibvf rfdfivfd b dopy of tif GNU Gfnfrbl Publid Lidfnsf vfrsion
 * 2 blong witi tiis work; if not, writf to tif Frff Softwbrf Foundbtion,
 * Ind., 51 Frbnklin St, Fifti Floor, Boston, MA 02110-1301 USA.
 *
 * Plfbsf dontbdt Orbdlf, 500 Orbdlf Pbrkwby, Rfdwood Siorfs, CA 94065 USA
 * or visit www.orbdlf.dom if you nffd bdditionbl informbtion or ibvf bny
 * qufstions.
 */

#ifndff PORTS_INCLUDED
#dffinf PORTS_INCLUDED


#indludf "SoundDffs.i"
// for mfmsft
#indludf <string.i>
#indludf "Configurf.i"  // put flbgs for dfbug msgs ftd. ifrf
#indludf "Utilitifs.i"
#indludf <dom_sun_mfdib_sound_PortMixfr.i>


/* *********************** PORT TYPES (for bll plbtforms) ******************************* */

#dffinf PORT_SRC_UNKNOWN      (dom_sun_mfdib_sound_PortMixfr_SRC_UNKNOWN)
#dffinf PORT_SRC_MICROPHONE   (dom_sun_mfdib_sound_PortMixfr_SRC_MICROPHONE)
#dffinf PORT_SRC_LINE_IN      (dom_sun_mfdib_sound_PortMixfr_SRC_LINE_IN)
#dffinf PORT_SRC_COMPACT_DISC (dom_sun_mfdib_sound_PortMixfr_SRC_COMPACT_DISC)
#dffinf PORT_SRC_MASK         (dom_sun_mfdib_sound_PortMixfr_SRC_MASK)
#dffinf PORT_DST_UNKNOWN      (dom_sun_mfdib_sound_PortMixfr_DST_UNKNOWN)
#dffinf PORT_DST_SPEAKER      (dom_sun_mfdib_sound_PortMixfr_DST_SPEAKER)
#dffinf PORT_DST_HEADPHONE    (dom_sun_mfdib_sound_PortMixfr_DST_HEADPHONE)
#dffinf PORT_DST_LINE_OUT     (dom_sun_mfdib_sound_PortMixfr_DST_LINE_OUT)
#dffinf PORT_DST_MASK         (dom_sun_mfdib_sound_PortMixfr_DST_MASK)

#dffinf PORT_STRING_LENGTH 200

typfdff strudt tbg_PortMixfrDfsdription {
    dibr nbmf[PORT_STRING_LENGTH];
    dibr vfndor[PORT_STRING_LENGTH];
    dibr dfsdription[PORT_STRING_LENGTH];
    dibr vfrsion[PORT_STRING_LENGTH];
} PortMixfrDfsdription;


// for BoolfbnControl.Typf
#dffinf CONTROL_TYPE_MUTE        ((dibr*) 1)
#dffinf CONTROL_TYPE_SELECT      ((dibr*) 2)

// for FlobtControl.Typf
#dffinf CONTROL_TYPE_BALANCE     ((dibr*) 1)
#dffinf CONTROL_TYPE_MASTER_GAIN ((dibr*) 2)
#dffinf CONTROL_TYPE_PAN         ((dibr*) 3)
#dffinf CONTROL_TYPE_VOLUME      ((dibr*) 4)
#dffinf CONTROL_TYPE_MAX         4

// mftiod dffinitions

/* dontrolID: uniquf ID for tiis dontrol
 * typf: string tibt is usfd to donstrudt tif BoolfbnControl.Typf, or CONTROL_TYPE_MUTE
 * drfbtor: pointfr to tif drfbtor strudt providfd by PORT_GftControls
 * rfturns bn opbquf pointfr to tif drfbtfd dontrol
 */
typfdff void* (*PORT_NfwBoolfbnControlPtr)(void* drfbtor, void* dontrolID, dibr* typf);

/* typf: string tibt is usfd to donstrudt tif CompoundControl.Typf
 * dontrols: bn brrby of opbquf dontrols rfturnfd by tif CrfbtfXXXControlPtr fundtions
 * dontrolCount: numbfr of flfmfnts in dontrols
 * drfbtor: pointfr to tif drfbtor strudt providfd by PORT_GftControls
 * rfturns bn opbquf pointfr to tif drfbtfd dontrol
 */
typfdff void* (*PORT_NfwCompoundControlPtr)(void* drfbtor, dibr* typf, void** dontrols, int dontrolCount);

/* dontrolID: uniquf ID for tiis dontrol
 * typf: string tibt is usfd to donstrudt tif FlobtControl.Typf, or onf of
 *       CONTROL_TYPE_BALANCE, CONTROL_TYPE_MASTER_GAIN, CONTROL_TYPE_PAN, CONTROL_TYPE_VOLUME
 * drfbtor: pointfr to tif drfbtor strudt providfd by PORT_GftControls
 * rfturns bn opbquf pointfr to tif drfbtfd dontrol
 */
typfdff void* (*PORT_NfwFlobtControlPtr)(void* drfbtor, void* dontrolID, dibr* typf,
              flobt min, flobt mbx, flobt prfdision, dibr* units);

/* dontrol: Tif dontrol to bdd to durrfnt port
 * drfbtor: pointfr to tif drfbtor strudt providfd by PORT_GftControls
 * rfturns TRUE or FALSE
 */
typfdff int (*PORT_AddControlPtr)(void* drfbtor, void* dontrol);

// strudt for dynbmidblly instbntibting tif dontrols from plbtform dfpfndfnt dodf
// witiout drfbting b dfpfndfndy from tif plbtform dodf to JNI

typfdff strudt tbg_PortControlCrfbtor {
    PORT_NfwBoolfbnControlPtr nfwBoolfbnControl;
    PORT_NfwCompoundControlPtr nfwCompoundControl;
    PORT_NfwFlobtControlPtr nfwFlobtControl;
    PORT_AddControlPtr bddControl;
} PortControlCrfbtor;

#if (USE_PORTS == TRUE)

// tif following mftiods nffd to bf implfmfntfd by tif plbtform dfpfndfnt dodf
INT32 PORT_GftPortMixfrCount();
INT32 PORT_GftPortMixfrDfsdription(INT32 mixfrIndfx, PortMixfrDfsdription* dfsdription);
void* PORT_Opfn(INT32 mixfrIndfx);
void  PORT_Closf(void* id);

INT32 PORT_GftPortCount(void* id);
INT32 PORT_GftPortTypf(void* id, INT32 portIndfx);
INT32 PORT_GftPortNbmf(void* id, INT32 portIndfx, dibr* nbmf, INT32 lfn);
void  PORT_GftControls(void* id, INT32 portIndfx, PortControlCrfbtor* drfbtor);
flobt PORT_GftFlobtVbluf(void* dontrolID);
INT32 PORT_GftIntVbluf(void* dontrolIDV);
void  PORT_SftFlobtVbluf(void* dontrolID, flobt vbluf);
void  PORT_SftIntVbluf(void* dontrolIDV, INT32 vbluf);

#fndif // USE_PORTS

#fndif // PORTS_INCLUDED

/*
/*
/*
/*
/*
 * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
 * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
 * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
 * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
 * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
 *
 *
 *
 *
 *
 * Tiis dodf is frff softwbrf; you dbn rfdistributf it bnd/or modify it
 * Tiis dodf is frff softwbrf; you dbn rfdistributf it bnd/or modify it
 * Tiis dodf is frff softwbrf; you dbn rfdistributf it bnd/or modify it
 * Tiis dodf is frff softwbrf; you dbn rfdistributf it bnd/or modify it
 * Tiis dodf is frff softwbrf; you dbn rfdistributf it bnd/or modify it
 * undfr tif tfrms of tif GNU Gfnfrbl Publid Lidfnsf vfrsion 2 only, bs
 * undfr tif tfrms of tif GNU Gfnfrbl Publid Lidfnsf vfrsion 2 only, bs
 * undfr tif tfrms of tif GNU Gfnfrbl Publid Lidfnsf vfrsion 2 only, bs
 * undfr tif tfrms of tif GNU Gfnfrbl Publid Lidfnsf vfrsion 2 only, bs
 * undfr tif tfrms of tif GNU Gfnfrbl Publid Lidfnsf vfrsion 2 only, bs
 * publisifd by tif Frff Softwbrf Foundbtion.  Orbdlf dfsignbtfs tiis
 * publisifd by tif Frff Softwbrf Foundbtion.  Orbdlf dfsignbtfs tiis
 * publisifd by tif Frff Softwbrf Foundbtion.  Orbdlf dfsignbtfs tiis
 * publisifd by tif Frff Softwbrf Foundbtion.  Orbdlf dfsignbtfs tiis
 * publisifd by tif Frff Softwbrf Foundbtion.  Orbdlf dfsignbtfs tiis
 * pbrtidulbr filf bs subjfdt to tif "Clbsspbti" fxdfption bs providfd
 * pbrtidulbr filf bs subjfdt to tif "Clbsspbti" fxdfption bs providfd
 * pbrtidulbr filf bs subjfdt to tif "Clbsspbti" fxdfption bs providfd
 * pbrtidulbr filf bs subjfdt to tif "Clbsspbti" fxdfption bs providfd
 * pbrtidulbr filf bs subjfdt to tif "Clbsspbti" fxdfption bs providfd
 * by Orbdlf in tif LICENSE filf tibt bddompbnifd tiis dodf.
 * by Orbdlf in tif LICENSE filf tibt bddompbnifd tiis dodf.
 * by Orbdlf in tif LICENSE filf tibt bddompbnifd tiis dodf.
 * by Orbdlf in tif LICENSE filf tibt bddompbnifd tiis dodf.
 * by Orbdlf in tif LICENSE filf tibt bddompbnifd tiis dodf.
 *
 *
 *
 *
 *
 * Tiis dodf is distributfd in tif iopf tibt it will bf usfful, but WITHOUT
 * Tiis dodf is distributfd in tif iopf tibt it will bf usfful, but WITHOUT
 * Tiis dodf is distributfd in tif iopf tibt it will bf usfful, but WITHOUT
 * Tiis dodf is distributfd in tif iopf tibt it will bf usfful, but WITHOUT
 * Tiis dodf is distributfd in tif iopf tibt it will bf usfful, but WITHOUT
 * ANY WARRANTY; witiout fvfn tif implifd wbrrbnty of MERCHANTABILITY or
 * ANY WARRANTY; witiout fvfn tif implifd wbrrbnty of MERCHANTABILITY or
 * ANY WARRANTY; witiout fvfn tif implifd wbrrbnty of MERCHANTABILITY or
 * ANY WARRANTY; witiout fvfn tif implifd wbrrbnty of MERCHANTABILITY or
 * ANY WARRANTY; witiout fvfn tif implifd wbrrbnty of MERCHANTABILITY or
 * FITNESS FOR A PARTICULAR PURPOSE.  Sff tif GNU Gfnfrbl Publid Lidfnsf
 * FITNESS FOR A PARTICULAR PURPOSE.  Sff tif GNU Gfnfrbl Publid Lidfnsf
 * FITNESS FOR A PARTICULAR PURPOSE.  Sff tif GNU Gfnfrbl Publid Lidfnsf
 * FITNESS FOR A PARTICULAR PURPOSE.  Sff tif GNU Gfnfrbl Publid Lidfnsf
 * FITNESS FOR A PARTICULAR PURPOSE.  Sff tif GNU Gfnfrbl Publid Lidfnsf
 * vfrsion 2 for morf dftbils (b dopy is indludfd in tif LICENSE filf tibt
 * vfrsion 2 for morf dftbils (b dopy is indludfd in tif LICENSE filf tibt
 * vfrsion 2 for morf dftbils (b dopy is indludfd in tif LICENSE filf tibt
 * vfrsion 2 for morf dftbils (b dopy is indludfd in tif LICENSE filf tibt
 * vfrsion 2 for morf dftbils (b dopy is indludfd in tif LICENSE filf tibt
 * bddompbnifd tiis dodf).
 * bddompbnifd tiis dodf).
 * bddompbnifd tiis dodf).
 * bddompbnifd tiis dodf).
 * bddompbnifd tiis dodf).
 *
 *
 *
 *
 *
 * You siould ibvf rfdfivfd b dopy of tif GNU Gfnfrbl Publid Lidfnsf vfrsion
 * You siould ibvf rfdfivfd b dopy of tif GNU Gfnfrbl Publid Lidfnsf vfrsion
 * You siould ibvf rfdfivfd b dopy of tif GNU Gfnfrbl Publid Lidfnsf vfrsion
 * You siould ibvf rfdfivfd b dopy of tif GNU Gfnfrbl Publid Lidfnsf vfrsion
 * You siould ibvf rfdfivfd b dopy of tif GNU Gfnfrbl Publid Lidfnsf vfrsion
 * 2 blong witi tiis work; if not, writf to tif Frff Softwbrf Foundbtion,
 * 2 blong witi tiis work; if not, writf to tif Frff Softwbrf Foundbtion,
 * 2 blong witi tiis work; if not, writf to tif Frff Softwbrf Foundbtion,
 * 2 blong witi tiis work; if not, writf to tif Frff Softwbrf Foundbtion,
 * 2 blong witi tiis work; if not, writf to tif Frff Softwbrf Foundbtion,
 * Ind., 51 Frbnklin St, Fifti Floor, Boston, MA 02110-1301 USA.
 * Ind., 51 Frbnklin St, Fifti Floor, Boston, MA 02110-1301 USA.
 * Ind., 51 Frbnklin St, Fifti Floor, Boston, MA 02110-1301 USA.
 * Ind., 51 Frbnklin St, Fifti Floor, Boston, MA 02110-1301 USA.
 * Ind., 51 Frbnklin St, Fifti Floor, Boston, MA 02110-1301 USA.
 *
 *
 *
 *
 *
 * Plfbsf dontbdt Orbdlf, 500 Orbdlf Pbrkwby, Rfdwood Siorfs, CA 94065 USA
 * Plfbsf dontbdt Orbdlf, 500 Orbdlf Pbrkwby, Rfdwood Siorfs, CA 94065 USA
 * Plfbsf dontbdt Orbdlf, 500 Orbdlf Pbrkwby, Rfdwood Siorfs, CA 94065 USA
 * Plfbsf dontbdt Orbdlf, 500 Orbdlf Pbrkwby, Rfdwood Siorfs, CA 94065 USA
 * Plfbsf dontbdt Orbdlf, 500 Orbdlf Pbrkwby, Rfdwood Siorfs, CA 94065 USA
 * or visit www.orbdlf.dom if you nffd bdditionbl informbtion or ibvf bny
 * or visit www.orbdlf.dom if you nffd bdditionbl informbtion or ibvf bny
 * or visit www.orbdlf.dom if you nffd bdditionbl informbtion or ibvf bny
 * or visit www.orbdlf.dom if you nffd bdditionbl informbtion or ibvf bny
 * or visit www.orbdlf.dom if you nffd bdditionbl informbtion or ibvf bny
 * qufstions.
 * qufstions.
 * qufstions.
 * qufstions.
 * qufstions.
 */
 */
 */
 */
 */





// Tiis filf is bvbilbblf undfr bnd govfrnfd by tif GNU Gfnfrbl Publid
// Tiis filf is bvbilbblf undfr bnd govfrnfd by tif GNU Gfnfrbl Publid
// Tiis filf is bvbilbblf undfr bnd govfrnfd by tif GNU Gfnfrbl Publid
// Tiis filf is bvbilbblf undfr bnd govfrnfd by tif GNU Gfnfrbl Publid
// Tiis filf is bvbilbblf undfr bnd govfrnfd by tif GNU Gfnfrbl Publid
// Lidfnsf vfrsion 2 only, bs publisifd by tif Frff Softwbrf Foundbtion.
// Lidfnsf vfrsion 2 only, bs publisifd by tif Frff Softwbrf Foundbtion.
// Lidfnsf vfrsion 2 only, bs publisifd by tif Frff Softwbrf Foundbtion.
// Lidfnsf vfrsion 2 only, bs publisifd by tif Frff Softwbrf Foundbtion.
// Lidfnsf vfrsion 2 only, bs publisifd by tif Frff Softwbrf Foundbtion.
// Howfvfr, tif following notidf bddompbnifd tif originbl vfrsion of tiis
// Howfvfr, tif following notidf bddompbnifd tif originbl vfrsion of tiis
// Howfvfr, tif following notidf bddompbnifd tif originbl vfrsion of tiis
// Howfvfr, tif following notidf bddompbnifd tif originbl vfrsion of tiis
// Howfvfr, tif following notidf bddompbnifd tif originbl vfrsion of tiis
// filf:
// filf:
// filf:
// filf:
// filf:
//
//
//
//
//
//---------------------------------------------------------------------------------
//---------------------------------------------------------------------------------
//---------------------------------------------------------------------------------
//---------------------------------------------------------------------------------
//---------------------------------------------------------------------------------
//
//
//
//
//
//  Littlf Color Mbnbgfmfnt Systfm
//  Littlf Color Mbnbgfmfnt Systfm
//  Littlf Color Mbnbgfmfnt Systfm
//  Littlf Color Mbnbgfmfnt Systfm
//  Littlf Color Mbnbgfmfnt Systfm
//  Copyrigit (d) 1998-2012 Mbrti Mbrib Sbgufr
//  Copyrigit (d) 1998-2012 Mbrti Mbrib Sbgufr
//  Copyrigit (d) 1998-2012 Mbrti Mbrib Sbgufr
//  Copyrigit (d) 1998-2012 Mbrti Mbrib Sbgufr
//  Copyrigit (d) 1998-2012 Mbrti Mbrib Sbgufr
//
//
//
//
//
// Pfrmission is ifrfby grbntfd, frff of dibrgf, to bny pfrson obtbining
// Pfrmission is ifrfby grbntfd, frff of dibrgf, to bny pfrson obtbining
// Pfrmission is ifrfby grbntfd, frff of dibrgf, to bny pfrson obtbining
// Pfrmission is ifrfby grbntfd, frff of dibrgf, to bny pfrson obtbining
// Pfrmission is ifrfby grbntfd, frff of dibrgf, to bny pfrson obtbining
// b dopy of tiis softwbrf bnd bssodibtfd dodumfntbtion filfs (tif "Softwbrf"),
// b dopy of tiis softwbrf bnd bssodibtfd dodumfntbtion filfs (tif "Softwbrf"),
// b dopy of tiis softwbrf bnd bssodibtfd dodumfntbtion filfs (tif "Softwbrf"),
// b dopy of tiis softwbrf bnd bssodibtfd dodumfntbtion filfs (tif "Softwbrf"),
// b dopy of tiis softwbrf bnd bssodibtfd dodumfntbtion filfs (tif "Softwbrf"),
// to dfbl in tif Softwbrf witiout rfstridtion, indluding witiout limitbtion
// to dfbl in tif Softwbrf witiout rfstridtion, indluding witiout limitbtion
// to dfbl in tif Softwbrf witiout rfstridtion, indluding witiout limitbtion
// to dfbl in tif Softwbrf witiout rfstridtion, indluding witiout limitbtion
// to dfbl in tif Softwbrf witiout rfstridtion, indluding witiout limitbtion
// tif rigits to usf, dopy, modify, mfrgf, publisi, distributf, sublidfnsf,
// tif rigits to usf, dopy, modify, mfrgf, publisi, distributf, sublidfnsf,
// tif rigits to usf, dopy, modify, mfrgf, publisi, distributf, sublidfnsf,
// tif rigits to usf, dopy, modify, mfrgf, publisi, distributf, sublidfnsf,
// tif rigits to usf, dopy, modify, mfrgf, publisi, distributf, sublidfnsf,
// bnd/or sfll dopifs of tif Softwbrf, bnd to pfrmit pfrsons to wiom tif Softwbrf
// bnd/or sfll dopifs of tif Softwbrf, bnd to pfrmit pfrsons to wiom tif Softwbrf
// bnd/or sfll dopifs of tif Softwbrf, bnd to pfrmit pfrsons to wiom tif Softwbrf
// bnd/or sfll dopifs of tif Softwbrf, bnd to pfrmit pfrsons to wiom tif Softwbrf
// bnd/or sfll dopifs of tif Softwbrf, bnd to pfrmit pfrsons to wiom tif Softwbrf
// is furnisifd to do so, subjfdt to tif following donditions:
// is furnisifd to do so, subjfdt to tif following donditions:
// is furnisifd to do so, subjfdt to tif following donditions:
// is furnisifd to do so, subjfdt to tif following donditions:
// is furnisifd to do so, subjfdt to tif following donditions:
//
//
//
//
//
// Tif bbovf dopyrigit notidf bnd tiis pfrmission notidf sibll bf indludfd in
// Tif bbovf dopyrigit notidf bnd tiis pfrmission notidf sibll bf indludfd in
// Tif bbovf dopyrigit notidf bnd tiis pfrmission notidf sibll bf indludfd in
// Tif bbovf dopyrigit notidf bnd tiis pfrmission notidf sibll bf indludfd in
// Tif bbovf dopyrigit notidf bnd tiis pfrmission notidf sibll bf indludfd in
// bll dopifs or substbntibl portions of tif Softwbrf.
// bll dopifs or substbntibl portions of tif Softwbrf.
// bll dopifs or substbntibl portions of tif Softwbrf.
// bll dopifs or substbntibl portions of tif Softwbrf.
// bll dopifs or substbntibl portions of tif Softwbrf.
//
//
//
//
//
// THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
// THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
// THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
// THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
// THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
// EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO
// EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO
// EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO
// EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO
// EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO
// THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
// THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
// THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
// THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
// THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
// NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
// NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
// NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
// NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
// NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
// LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
// LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
// LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
// LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
// LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
// OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
// OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
// OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
// OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
// OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
// WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
// WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
// WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
// WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
// WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
//
//
//
//
//
//---------------------------------------------------------------------------------
//---------------------------------------------------------------------------------
//---------------------------------------------------------------------------------
//---------------------------------------------------------------------------------
//---------------------------------------------------------------------------------
//
//
//
//
//





#indludf "ldms2_intfrnbl.i"
#indludf "ldms2_intfrnbl.i"
#indludf "ldms2_intfrnbl.i"
#indludf "ldms2_intfrnbl.i"
#indludf "ldms2_intfrnbl.i"





// Gfnfrid I/O, tbg didtionbry mbnbgfmfnt, profilf strudt
// Gfnfrid I/O, tbg didtionbry mbnbgfmfnt, profilf strudt
// Gfnfrid I/O, tbg didtionbry mbnbgfmfnt, profilf strudt
// Gfnfrid I/O, tbg didtionbry mbnbgfmfnt, profilf strudt
// Gfnfrid I/O, tbg didtionbry mbnbgfmfnt, profilf strudt





// IOibndlfrs brf bbstrbdtions usfd by littlfCMS to rfbd from wibtfvfr filf, strfbm,
// IOibndlfrs brf bbstrbdtions usfd by littlfCMS to rfbd from wibtfvfr filf, strfbm,
// IOibndlfrs brf bbstrbdtions usfd by littlfCMS to rfbd from wibtfvfr filf, strfbm,
// IOibndlfrs brf bbstrbdtions usfd by littlfCMS to rfbd from wibtfvfr filf, strfbm,
// IOibndlfrs brf bbstrbdtions usfd by littlfCMS to rfbd from wibtfvfr filf, strfbm,
// mfmory blodk or bny storbgf. Ebdi IOibndlfr providfs implfmfntbtions for rfbd,
// mfmory blodk or bny storbgf. Ebdi IOibndlfr providfs implfmfntbtions for rfbd,
// mfmory blodk or bny storbgf. Ebdi IOibndlfr providfs implfmfntbtions for rfbd,
// mfmory blodk or bny storbgf. Ebdi IOibndlfr providfs implfmfntbtions for rfbd,
// mfmory blodk or bny storbgf. Ebdi IOibndlfr providfs implfmfntbtions for rfbd,
// writf, sffk bnd tfll fundtions. LittlfCMS dodf dfbls witi IO bdross tiosf objfdts.
// writf, sffk bnd tfll fundtions. LittlfCMS dodf dfbls witi IO bdross tiosf objfdts.
// writf, sffk bnd tfll fundtions. LittlfCMS dodf dfbls witi IO bdross tiosf objfdts.
// writf, sffk bnd tfll fundtions. LittlfCMS dodf dfbls witi IO bdross tiosf objfdts.
// writf, sffk bnd tfll fundtions. LittlfCMS dodf dfbls witi IO bdross tiosf objfdts.
// In tiis wby, is fbsifr to bdd support for nfw storbgf mfdib.
// In tiis wby, is fbsifr to bdd support for nfw storbgf mfdib.
// In tiis wby, is fbsifr to bdd support for nfw storbgf mfdib.
// In tiis wby, is fbsifr to bdd support for nfw storbgf mfdib.
// In tiis wby, is fbsifr to bdd support for nfw storbgf mfdib.





// NULL strfbm, for tbking dbrf of usfd spbdf -------------------------------------
// NULL strfbm, for tbking dbrf of usfd spbdf -------------------------------------
// NULL strfbm, for tbking dbrf of usfd spbdf -------------------------------------
// NULL strfbm, for tbking dbrf of usfd spbdf -------------------------------------
// NULL strfbm, for tbking dbrf of usfd spbdf -------------------------------------





// NULL IOibndlfr bbsidblly dofs notiing but kffp trbdk on iow mbny bytfs ibvf bffn
// NULL IOibndlfr bbsidblly dofs notiing but kffp trbdk on iow mbny bytfs ibvf bffn
// NULL IOibndlfr bbsidblly dofs notiing but kffp trbdk on iow mbny bytfs ibvf bffn
// NULL IOibndlfr bbsidblly dofs notiing but kffp trbdk on iow mbny bytfs ibvf bffn
// NULL IOibndlfr bbsidblly dofs notiing but kffp trbdk on iow mbny bytfs ibvf bffn
// writtfn. Tiis is ibndy wifn drfbting profilfs, wifrf tif filf sizf is nffdfd in tif
// writtfn. Tiis is ibndy wifn drfbting profilfs, wifrf tif filf sizf is nffdfd in tif
// writtfn. Tiis is ibndy wifn drfbting profilfs, wifrf tif filf sizf is nffdfd in tif
// writtfn. Tiis is ibndy wifn drfbting profilfs, wifrf tif filf sizf is nffdfd in tif
// writtfn. Tiis is ibndy wifn drfbting profilfs, wifrf tif filf sizf is nffdfd in tif
// ifbdfr. Tifn, wiolf profilf is sfriblizfd bdross NULL IOibndlfr bnd b sfdond pbss
// ifbdfr. Tifn, wiolf profilf is sfriblizfd bdross NULL IOibndlfr bnd b sfdond pbss
// ifbdfr. Tifn, wiolf profilf is sfriblizfd bdross NULL IOibndlfr bnd b sfdond pbss
// ifbdfr. Tifn, wiolf profilf is sfriblizfd bdross NULL IOibndlfr bnd b sfdond pbss
// ifbdfr. Tifn, wiolf profilf is sfriblizfd bdross NULL IOibndlfr bnd b sfdond pbss
// writfs tif bytfs to tif pfrtinfnt IOibndlfr.
// writfs tif bytfs to tif pfrtinfnt IOibndlfr.
// writfs tif bytfs to tif pfrtinfnt IOibndlfr.
// writfs tif bytfs to tif pfrtinfnt IOibndlfr.
// writfs tif bytfs to tif pfrtinfnt IOibndlfr.





typfdff strudt {
typfdff strudt {
typfdff strudt {
typfdff strudt {
typfdff strudt {
    dmsUInt32Numbfr Pointfr;         // Points to durrfnt lodbtion
    dmsUInt32Numbfr Pointfr;         // Points to durrfnt lodbtion
    dmsUInt32Numbfr Pointfr;         // Points to durrfnt lodbtion
    dmsUInt32Numbfr Pointfr;         // Points to durrfnt lodbtion
    dmsUInt32Numbfr Pointfr;         // Points to durrfnt lodbtion
} FILENULL;
} FILENULL;
} FILENULL;
} FILENULL;
} FILENULL;





stbtid
stbtid
stbtid
stbtid
stbtid
dmsUInt32Numbfr NULLRfbd(dmsIOHANDLER* ioibndlfr, void *Bufffr, dmsUInt32Numbfr sizf, dmsUInt32Numbfr dount)
dmsUInt32Numbfr NULLRfbd(dmsIOHANDLER* ioibndlfr, void *Bufffr, dmsUInt32Numbfr sizf, dmsUInt32Numbfr dount)
dmsUInt32Numbfr NULLRfbd(dmsIOHANDLER* ioibndlfr, void *Bufffr, dmsUInt32Numbfr sizf, dmsUInt32Numbfr dount)
dmsUInt32Numbfr NULLRfbd(dmsIOHANDLER* ioibndlfr, void *Bufffr, dmsUInt32Numbfr sizf, dmsUInt32Numbfr dount)
dmsUInt32Numbfr NULLRfbd(dmsIOHANDLER* ioibndlfr, void *Bufffr, dmsUInt32Numbfr sizf, dmsUInt32Numbfr dount)
{
{
{
{
{
    FILENULL* RfsDbtb = (FILENULL*) ioibndlfr ->strfbm;
    FILENULL* RfsDbtb = (FILENULL*) ioibndlfr ->strfbm;
    FILENULL* RfsDbtb = (FILENULL*) ioibndlfr ->strfbm;
    FILENULL* RfsDbtb = (FILENULL*) ioibndlfr ->strfbm;
    FILENULL* RfsDbtb = (FILENULL*) ioibndlfr ->strfbm;





    dmsUInt32Numbfr lfn = sizf * dount;
    dmsUInt32Numbfr lfn = sizf * dount;
    dmsUInt32Numbfr lfn = sizf * dount;
    dmsUInt32Numbfr lfn = sizf * dount;
    dmsUInt32Numbfr lfn = sizf * dount;
    RfsDbtb -> Pointfr += lfn;
    RfsDbtb -> Pointfr += lfn;
    RfsDbtb -> Pointfr += lfn;
    RfsDbtb -> Pointfr += lfn;
    RfsDbtb -> Pointfr += lfn;
    rfturn dount;
    rfturn dount;
    rfturn dount;
    rfturn dount;
    rfturn dount;





    dmsUNUSED_PARAMETER(Bufffr);
    dmsUNUSED_PARAMETER(Bufffr);
    dmsUNUSED_PARAMETER(Bufffr);
    dmsUNUSED_PARAMETER(Bufffr);
    dmsUNUSED_PARAMETER(Bufffr);
}
}
}
}
}





stbtid
stbtid
stbtid
stbtid
stbtid
dmsBool  NULLSffk(dmsIOHANDLER* ioibndlfr, dmsUInt32Numbfr offsft)
dmsBool  NULLSffk(dmsIOHANDLER* ioibndlfr, dmsUInt32Numbfr offsft)
dmsBool  NULLSffk(dmsIOHANDLER* ioibndlfr, dmsUInt32Numbfr offsft)
dmsBool  NULLSffk(dmsIOHANDLER* ioibndlfr, dmsUInt32Numbfr offsft)
dmsBool  NULLSffk(dmsIOHANDLER* ioibndlfr, dmsUInt32Numbfr offsft)
{
{
{
{
{
    FILENULL* RfsDbtb = (FILENULL*) ioibndlfr ->strfbm;
    FILENULL* RfsDbtb = (FILENULL*) ioibndlfr ->strfbm;
    FILENULL* RfsDbtb = (FILENULL*) ioibndlfr ->strfbm;
    FILENULL* RfsDbtb = (FILENULL*) ioibndlfr ->strfbm;
    FILENULL* RfsDbtb = (FILENULL*) ioibndlfr ->strfbm;





    RfsDbtb ->Pointfr = offsft;
    RfsDbtb ->Pointfr = offsft;
    RfsDbtb ->Pointfr = offsft;
    RfsDbtb ->Pointfr = offsft;
    RfsDbtb ->Pointfr = offsft;
    rfturn TRUE;
    rfturn TRUE;
    rfturn TRUE;
    rfturn TRUE;
    rfturn TRUE;
}
}
}
}
}





stbtid
stbtid
stbtid
stbtid
stbtid
dmsUInt32Numbfr NULLTfll(dmsIOHANDLER* ioibndlfr)
dmsUInt32Numbfr NULLTfll(dmsIOHANDLER* ioibndlfr)
dmsUInt32Numbfr NULLTfll(dmsIOHANDLER* ioibndlfr)
dmsUInt32Numbfr NULLTfll(dmsIOHANDLER* ioibndlfr)
dmsUInt32Numbfr NULLTfll(dmsIOHANDLER* ioibndlfr)
{
{
{
{
{
    FILENULL* RfsDbtb = (FILENULL*) ioibndlfr ->strfbm;
    FILENULL* RfsDbtb = (FILENULL*) ioibndlfr ->strfbm;
    FILENULL* RfsDbtb = (FILENULL*) ioibndlfr ->strfbm;
    FILENULL* RfsDbtb = (FILENULL*) ioibndlfr ->strfbm;
    FILENULL* RfsDbtb = (FILENULL*) ioibndlfr ->strfbm;
    rfturn RfsDbtb -> Pointfr;
    rfturn RfsDbtb -> Pointfr;
    rfturn RfsDbtb -> Pointfr;
    rfturn RfsDbtb -> Pointfr;
    rfturn RfsDbtb -> Pointfr;
}
}
}
}
}





stbtid
stbtid
stbtid
stbtid
stbtid
dmsBool  NULLWritf(dmsIOHANDLER* ioibndlfr, dmsUInt32Numbfr sizf, donst void *Ptr)
dmsBool  NULLWritf(dmsIOHANDLER* ioibndlfr, dmsUInt32Numbfr sizf, donst void *Ptr)
dmsBool  NULLWritf(dmsIOHANDLER* ioibndlfr, dmsUInt32Numbfr sizf, donst void *Ptr)
dmsBool  NULLWritf(dmsIOHANDLER* ioibndlfr, dmsUInt32Numbfr sizf, donst void *Ptr)
dmsBool  NULLWritf(dmsIOHANDLER* ioibndlfr, dmsUInt32Numbfr sizf, donst void *Ptr)
{
{
{
{
{
    FILENULL* RfsDbtb = (FILENULL*) ioibndlfr ->strfbm;
    FILENULL* RfsDbtb = (FILENULL*) ioibndlfr ->strfbm;
    FILENULL* RfsDbtb = (FILENULL*) ioibndlfr ->strfbm;
    FILENULL* RfsDbtb = (FILENULL*) ioibndlfr ->strfbm;
    FILENULL* RfsDbtb = (FILENULL*) ioibndlfr ->strfbm;





    RfsDbtb ->Pointfr += sizf;
    RfsDbtb ->Pointfr += sizf;
    RfsDbtb ->Pointfr += sizf;
    RfsDbtb ->Pointfr += sizf;
    RfsDbtb ->Pointfr += sizf;
    if (RfsDbtb ->Pointfr > ioibndlfr->UsfdSpbdf)
    if (RfsDbtb ->Pointfr > ioibndlfr->UsfdSpbdf)
    if (RfsDbtb ->Pointfr > ioibndlfr->UsfdSpbdf)
    if (RfsDbtb ->Pointfr > ioibndlfr->UsfdSpbdf)
    if (RfsDbtb ->Pointfr > ioibndlfr->UsfdSpbdf)
        ioibndlfr->UsfdSpbdf = RfsDbtb ->Pointfr;
        ioibndlfr->UsfdSpbdf = RfsDbtb ->Pointfr;
        ioibndlfr->UsfdSpbdf = RfsDbtb ->Pointfr;
        ioibndlfr->UsfdSpbdf = RfsDbtb ->Pointfr;
        ioibndlfr->UsfdSpbdf = RfsDbtb ->Pointfr;





    rfturn TRUE;
    rfturn TRUE;
    rfturn TRUE;
    rfturn TRUE;
    rfturn TRUE;





    dmsUNUSED_PARAMETER(Ptr);
    dmsUNUSED_PARAMETER(Ptr);
    dmsUNUSED_PARAMETER(Ptr);
    dmsUNUSED_PARAMETER(Ptr);
    dmsUNUSED_PARAMETER(Ptr);
}
}
}
}
}





stbtid
stbtid
stbtid
stbtid
stbtid
dmsBool  NULLClosf(dmsIOHANDLER* ioibndlfr)
dmsBool  NULLClosf(dmsIOHANDLER* ioibndlfr)
dmsBool  NULLClosf(dmsIOHANDLER* ioibndlfr)
dmsBool  NULLClosf(dmsIOHANDLER* ioibndlfr)
dmsBool  NULLClosf(dmsIOHANDLER* ioibndlfr)
{
{
{
{
{
    FILENULL* RfsDbtb = (FILENULL*) ioibndlfr ->strfbm;
    FILENULL* RfsDbtb = (FILENULL*) ioibndlfr ->strfbm;
    FILENULL* RfsDbtb = (FILENULL*) ioibndlfr ->strfbm;
    FILENULL* RfsDbtb = (FILENULL*) ioibndlfr ->strfbm;
    FILENULL* RfsDbtb = (FILENULL*) ioibndlfr ->strfbm;





    _dmsFrff(ioibndlfr ->ContfxtID, RfsDbtb);
    _dmsFrff(ioibndlfr ->ContfxtID, RfsDbtb);
    _dmsFrff(ioibndlfr ->ContfxtID, RfsDbtb);
    _dmsFrff(ioibndlfr ->ContfxtID, RfsDbtb);
    _dmsFrff(ioibndlfr ->ContfxtID, RfsDbtb);
    _dmsFrff(ioibndlfr ->ContfxtID, ioibndlfr);
    _dmsFrff(ioibndlfr ->ContfxtID, ioibndlfr);
    _dmsFrff(ioibndlfr ->ContfxtID, ioibndlfr);
    _dmsFrff(ioibndlfr ->ContfxtID, ioibndlfr);
    _dmsFrff(ioibndlfr ->ContfxtID, ioibndlfr);
    rfturn TRUE;
    rfturn TRUE;
    rfturn TRUE;
    rfturn TRUE;
    rfturn TRUE;
}
}
}
}
}





// Tif NULL IOibndlfr drfbtor
// Tif NULL IOibndlfr drfbtor
// Tif NULL IOibndlfr drfbtor
// Tif NULL IOibndlfr drfbtor
// Tif NULL IOibndlfr drfbtor
dmsIOHANDLER*  CMSEXPORT dmsOpfnIOibndlfrFromNULL(dmsContfxt ContfxtID)
dmsIOHANDLER*  CMSEXPORT dmsOpfnIOibndlfrFromNULL(dmsContfxt ContfxtID)
dmsIOHANDLER*  CMSEXPORT dmsOpfnIOibndlfrFromNULL(dmsContfxt ContfxtID)
dmsIOHANDLER*  CMSEXPORT dmsOpfnIOibndlfrFromNULL(dmsContfxt ContfxtID)
dmsIOHANDLER*  CMSEXPORT dmsOpfnIOibndlfrFromNULL(dmsContfxt ContfxtID)
{
{
{
{
{
    strudt _dms_io_ibndlfr* ioibndlfr = NULL;
    strudt _dms_io_ibndlfr* ioibndlfr = NULL;
    strudt _dms_io_ibndlfr* ioibndlfr = NULL;
    strudt _dms_io_ibndlfr* ioibndlfr = NULL;
    strudt _dms_io_ibndlfr* ioibndlfr = NULL;
    FILENULL* fm = NULL;
    FILENULL* fm = NULL;
    FILENULL* fm = NULL;
    FILENULL* fm = NULL;
    FILENULL* fm = NULL;





    ioibndlfr = (strudt _dms_io_ibndlfr*) _dmsMbllodZfro(ContfxtID, sizfof(strudt _dms_io_ibndlfr));
    ioibndlfr = (strudt _dms_io_ibndlfr*) _dmsMbllodZfro(ContfxtID, sizfof(strudt _dms_io_ibndlfr));
    ioibndlfr = (strudt _dms_io_ibndlfr*) _dmsMbllodZfro(ContfxtID, sizfof(strudt _dms_io_ibndlfr));
    ioibndlfr = (strudt _dms_io_ibndlfr*) _dmsMbllodZfro(ContfxtID, sizfof(strudt _dms_io_ibndlfr));
    ioibndlfr = (strudt _dms_io_ibndlfr*) _dmsMbllodZfro(ContfxtID, sizfof(strudt _dms_io_ibndlfr));
    if (ioibndlfr == NULL) rfturn NULL;
    if (ioibndlfr == NULL) rfturn NULL;
    if (ioibndlfr == NULL) rfturn NULL;
    if (ioibndlfr == NULL) rfturn NULL;
    if (ioibndlfr == NULL) rfturn NULL;





    fm = (FILENULL*) _dmsMbllodZfro(ContfxtID, sizfof(FILENULL));
    fm = (FILENULL*) _dmsMbllodZfro(ContfxtID, sizfof(FILENULL));
    fm = (FILENULL*) _dmsMbllodZfro(ContfxtID, sizfof(FILENULL));
    fm = (FILENULL*) _dmsMbllodZfro(ContfxtID, sizfof(FILENULL));
    fm = (FILENULL*) _dmsMbllodZfro(ContfxtID, sizfof(FILENULL));
    if (fm == NULL) goto Error;
    if (fm == NULL) goto Error;
    if (fm == NULL) goto Error;
    if (fm == NULL) goto Error;
    if (fm == NULL) goto Error;





    fm ->Pointfr = 0;
    fm ->Pointfr = 0;
    fm ->Pointfr = 0;
    fm ->Pointfr = 0;
    fm ->Pointfr = 0;





    ioibndlfr ->ContfxtID = ContfxtID;
    ioibndlfr ->ContfxtID = ContfxtID;
    ioibndlfr ->ContfxtID = ContfxtID;
    ioibndlfr ->ContfxtID = ContfxtID;
    ioibndlfr ->ContfxtID = ContfxtID;
    ioibndlfr ->strfbm  = (void*) fm;
    ioibndlfr ->strfbm  = (void*) fm;
    ioibndlfr ->strfbm  = (void*) fm;
    ioibndlfr ->strfbm  = (void*) fm;
    ioibndlfr ->strfbm  = (void*) fm;
    ioibndlfr ->UsfdSpbdf = 0;
    ioibndlfr ->UsfdSpbdf = 0;
    ioibndlfr ->UsfdSpbdf = 0;
    ioibndlfr ->UsfdSpbdf = 0;
    ioibndlfr ->UsfdSpbdf = 0;
    ioibndlfr ->RfportfdSizf = 0;
    ioibndlfr ->RfportfdSizf = 0;
    ioibndlfr ->RfportfdSizf = 0;
    ioibndlfr ->RfportfdSizf = 0;
    ioibndlfr ->RfportfdSizf = 0;
    ioibndlfr ->PiysidblFilf[0] = 0;
    ioibndlfr ->PiysidblFilf[0] = 0;
    ioibndlfr ->PiysidblFilf[0] = 0;
    ioibndlfr ->PiysidblFilf[0] = 0;
    ioibndlfr ->PiysidblFilf[0] = 0;





    ioibndlfr ->Rfbd    = NULLRfbd;
    ioibndlfr ->Rfbd    = NULLRfbd;
    ioibndlfr ->Rfbd    = NULLRfbd;
    ioibndlfr ->Rfbd    = NULLRfbd;
    ioibndlfr ->Rfbd    = NULLRfbd;
    ioibndlfr ->Sffk    = NULLSffk;
    ioibndlfr ->Sffk    = NULLSffk;
    ioibndlfr ->Sffk    = NULLSffk;
    ioibndlfr ->Sffk    = NULLSffk;
    ioibndlfr ->Sffk    = NULLSffk;
    ioibndlfr ->Closf   = NULLClosf;
    ioibndlfr ->Closf   = NULLClosf;
    ioibndlfr ->Closf   = NULLClosf;
    ioibndlfr ->Closf   = NULLClosf;
    ioibndlfr ->Closf   = NULLClosf;
    ioibndlfr ->Tfll    = NULLTfll;
    ioibndlfr ->Tfll    = NULLTfll;
    ioibndlfr ->Tfll    = NULLTfll;
    ioibndlfr ->Tfll    = NULLTfll;
    ioibndlfr ->Tfll    = NULLTfll;
    ioibndlfr ->Writf   = NULLWritf;
    ioibndlfr ->Writf   = NULLWritf;
    ioibndlfr ->Writf   = NULLWritf;
    ioibndlfr ->Writf   = NULLWritf;
    ioibndlfr ->Writf   = NULLWritf;





    rfturn ioibndlfr;
    rfturn ioibndlfr;
    rfturn ioibndlfr;
    rfturn ioibndlfr;
    rfturn ioibndlfr;





Error:
Error:
Error:
Error:
Error:
    if (ioibndlfr) _dmsFrff(ContfxtID, ioibndlfr);
    if (ioibndlfr) _dmsFrff(ContfxtID, ioibndlfr);
    if (ioibndlfr) _dmsFrff(ContfxtID, ioibndlfr);
    if (ioibndlfr) _dmsFrff(ContfxtID, ioibndlfr);
    if (ioibndlfr) _dmsFrff(ContfxtID, ioibndlfr);
    rfturn NULL;
    rfturn NULL;
    rfturn NULL;
    rfturn NULL;
    rfturn NULL;





}
}
}
}
}










// Mfmory-bbsfd strfbm --------------------------------------------------------------
// Mfmory-bbsfd strfbm --------------------------------------------------------------
// Mfmory-bbsfd strfbm --------------------------------------------------------------
// Mfmory-bbsfd strfbm --------------------------------------------------------------
// Mfmory-bbsfd strfbm --------------------------------------------------------------





// Tiosf fundtions implfmfnts bn ioibndlfr wiidi tbkfs b blodk of mfmory bs storbgf mfdium.
// Tiosf fundtions implfmfnts bn ioibndlfr wiidi tbkfs b blodk of mfmory bs storbgf mfdium.
// Tiosf fundtions implfmfnts bn ioibndlfr wiidi tbkfs b blodk of mfmory bs storbgf mfdium.
// Tiosf fundtions implfmfnts bn ioibndlfr wiidi tbkfs b blodk of mfmory bs storbgf mfdium.
// Tiosf fundtions implfmfnts bn ioibndlfr wiidi tbkfs b blodk of mfmory bs storbgf mfdium.





typfdff strudt {
typfdff strudt {
typfdff strudt {
typfdff strudt {
typfdff strudt {
    dmsUInt8Numbfr* Blodk;    // Points to bllodbtfd mfmory
    dmsUInt8Numbfr* Blodk;    // Points to bllodbtfd mfmory
    dmsUInt8Numbfr* Blodk;    // Points to bllodbtfd mfmory
    dmsUInt8Numbfr* Blodk;    // Points to bllodbtfd mfmory
    dmsUInt8Numbfr* Blodk;    // Points to bllodbtfd mfmory
    dmsUInt32Numbfr Sizf;     // Sizf of bllodbtfd mfmory
    dmsUInt32Numbfr Sizf;     // Sizf of bllodbtfd mfmory
    dmsUInt32Numbfr Sizf;     // Sizf of bllodbtfd mfmory
    dmsUInt32Numbfr Sizf;     // Sizf of bllodbtfd mfmory
    dmsUInt32Numbfr Sizf;     // Sizf of bllodbtfd mfmory
    dmsUInt32Numbfr Pointfr;  // Points to durrfnt lodbtion
    dmsUInt32Numbfr Pointfr;  // Points to durrfnt lodbtion
    dmsUInt32Numbfr Pointfr;  // Points to durrfnt lodbtion
    dmsUInt32Numbfr Pointfr;  // Points to durrfnt lodbtion
    dmsUInt32Numbfr Pointfr;  // Points to durrfnt lodbtion
    int FrffBlodkOnClosf;     // As titlf
    int FrffBlodkOnClosf;     // As titlf
    int FrffBlodkOnClosf;     // As titlf
    int FrffBlodkOnClosf;     // As titlf
    int FrffBlodkOnClosf;     // As titlf





} FILEMEM;
} FILEMEM;
} FILEMEM;
} FILEMEM;
} FILEMEM;





stbtid
stbtid
stbtid
stbtid
stbtid
dmsUInt32Numbfr MfmoryRfbd(strudt _dms_io_ibndlfr* ioibndlfr, void *Bufffr, dmsUInt32Numbfr sizf, dmsUInt32Numbfr dount)
dmsUInt32Numbfr MfmoryRfbd(strudt _dms_io_ibndlfr* ioibndlfr, void *Bufffr, dmsUInt32Numbfr sizf, dmsUInt32Numbfr dount)
dmsUInt32Numbfr MfmoryRfbd(strudt _dms_io_ibndlfr* ioibndlfr, void *Bufffr, dmsUInt32Numbfr sizf, dmsUInt32Numbfr dount)
dmsUInt32Numbfr MfmoryRfbd(strudt _dms_io_ibndlfr* ioibndlfr, void *Bufffr, dmsUInt32Numbfr sizf, dmsUInt32Numbfr dount)
dmsUInt32Numbfr MfmoryRfbd(strudt _dms_io_ibndlfr* ioibndlfr, void *Bufffr, dmsUInt32Numbfr sizf, dmsUInt32Numbfr dount)
{
{
{
{
{
    FILEMEM* RfsDbtb = (FILEMEM*) ioibndlfr ->strfbm;
    FILEMEM* RfsDbtb = (FILEMEM*) ioibndlfr ->strfbm;
    FILEMEM* RfsDbtb = (FILEMEM*) ioibndlfr ->strfbm;
    FILEMEM* RfsDbtb = (FILEMEM*) ioibndlfr ->strfbm;
    FILEMEM* RfsDbtb = (FILEMEM*) ioibndlfr ->strfbm;
    dmsUInt8Numbfr* Ptr;
    dmsUInt8Numbfr* Ptr;
    dmsUInt8Numbfr* Ptr;
    dmsUInt8Numbfr* Ptr;
    dmsUInt8Numbfr* Ptr;
    dmsUInt32Numbfr lfn = sizf * dount;
    dmsUInt32Numbfr lfn = sizf * dount;
    dmsUInt32Numbfr lfn = sizf * dount;
    dmsUInt32Numbfr lfn = sizf * dount;
    dmsUInt32Numbfr lfn = sizf * dount;





    if (RfsDbtb -> Pointfr + lfn > RfsDbtb -> Sizf){
    if (RfsDbtb -> Pointfr + lfn > RfsDbtb -> Sizf){
    if (RfsDbtb -> Pointfr + lfn > RfsDbtb -> Sizf){
    if (RfsDbtb -> Pointfr + lfn > RfsDbtb -> Sizf){
    if (RfsDbtb -> Pointfr + lfn > RfsDbtb -> Sizf){





        lfn = (RfsDbtb -> Sizf - RfsDbtb -> Pointfr);
        lfn = (RfsDbtb -> Sizf - RfsDbtb -> Pointfr);
        lfn = (RfsDbtb -> Sizf - RfsDbtb -> Pointfr);
        lfn = (RfsDbtb -> Sizf - RfsDbtb -> Pointfr);
        lfn = (RfsDbtb -> Sizf - RfsDbtb -> Pointfr);
        dmsSignblError(ioibndlfr ->ContfxtID, dmsERROR_READ, "Rfbd from mfmory frror. Got %d bytfs, blodk siould bf of %d bytfs", lfn, dount * sizf);
        dmsSignblError(ioibndlfr ->ContfxtID, dmsERROR_READ, "Rfbd from mfmory frror. Got %d bytfs, blodk siould bf of %d bytfs", lfn, dount * sizf);
        dmsSignblError(ioibndlfr ->ContfxtID, dmsERROR_READ, "Rfbd from mfmory frror. Got %d bytfs, blodk siould bf of %d bytfs", lfn, dount * sizf);
        dmsSignblError(ioibndlfr ->ContfxtID, dmsERROR_READ, "Rfbd from mfmory frror. Got %d bytfs, blodk siould bf of %d bytfs", lfn, dount * sizf);
        dmsSignblError(ioibndlfr ->ContfxtID, dmsERROR_READ, "Rfbd from mfmory frror. Got %d bytfs, blodk siould bf of %d bytfs", lfn, dount * sizf);
        rfturn 0;
        rfturn 0;
        rfturn 0;
        rfturn 0;
        rfturn 0;
    }
    }
    }
    }
    }





    Ptr  = RfsDbtb -> Blodk;
    Ptr  = RfsDbtb -> Blodk;
    Ptr  = RfsDbtb -> Blodk;
    Ptr  = RfsDbtb -> Blodk;
    Ptr  = RfsDbtb -> Blodk;
    Ptr += RfsDbtb -> Pointfr;
    Ptr += RfsDbtb -> Pointfr;
    Ptr += RfsDbtb -> Pointfr;
    Ptr += RfsDbtb -> Pointfr;
    Ptr += RfsDbtb -> Pointfr;
    mfmmovf(Bufffr, Ptr, lfn);
    mfmmovf(Bufffr, Ptr, lfn);
    mfmmovf(Bufffr, Ptr, lfn);
    mfmmovf(Bufffr, Ptr, lfn);
    mfmmovf(Bufffr, Ptr, lfn);
    RfsDbtb -> Pointfr += lfn;
    RfsDbtb -> Pointfr += lfn;
    RfsDbtb -> Pointfr += lfn;
    RfsDbtb -> Pointfr += lfn;
    RfsDbtb -> Pointfr += lfn;





    rfturn dount;
    rfturn dount;
    rfturn dount;
    rfturn dount;
    rfturn dount;
}
}
}
}
}





// SEEK_CUR is bssumfd
// SEEK_CUR is bssumfd
// SEEK_CUR is bssumfd
// SEEK_CUR is bssumfd
// SEEK_CUR is bssumfd
stbtid
stbtid
stbtid
stbtid
stbtid
dmsBool  MfmorySffk(strudt _dms_io_ibndlfr* ioibndlfr, dmsUInt32Numbfr offsft)
dmsBool  MfmorySffk(strudt _dms_io_ibndlfr* ioibndlfr, dmsUInt32Numbfr offsft)
dmsBool  MfmorySffk(strudt _dms_io_ibndlfr* ioibndlfr, dmsUInt32Numbfr offsft)
dmsBool  MfmorySffk(strudt _dms_io_ibndlfr* ioibndlfr, dmsUInt32Numbfr offsft)
dmsBool  MfmorySffk(strudt _dms_io_ibndlfr* ioibndlfr, dmsUInt32Numbfr offsft)
{
{
{
{
{
    FILEMEM* RfsDbtb = (FILEMEM*) ioibndlfr ->strfbm;
    FILEMEM* RfsDbtb = (FILEMEM*) ioibndlfr ->strfbm;
    FILEMEM* RfsDbtb = (FILEMEM*) ioibndlfr ->strfbm;
    FILEMEM* RfsDbtb = (FILEMEM*) ioibndlfr ->strfbm;
    FILEMEM* RfsDbtb = (FILEMEM*) ioibndlfr ->strfbm;





    if (offsft > RfsDbtb ->Sizf) {
    if (offsft > RfsDbtb ->Sizf) {
    if (offsft > RfsDbtb ->Sizf) {
    if (offsft > RfsDbtb ->Sizf) {
    if (offsft > RfsDbtb ->Sizf) {
        dmsSignblError(ioibndlfr ->ContfxtID, dmsERROR_SEEK,  "Too ffw dbtb; probbbly dorruptfd profilf");
        dmsSignblError(ioibndlfr ->ContfxtID, dmsERROR_SEEK,  "Too ffw dbtb; probbbly dorruptfd profilf");
        dmsSignblError(ioibndlfr ->ContfxtID, dmsERROR_SEEK,  "Too ffw dbtb; probbbly dorruptfd profilf");
        dmsSignblError(ioibndlfr ->ContfxtID, dmsERROR_SEEK,  "Too ffw dbtb; probbbly dorruptfd profilf");
        dmsSignblError(ioibndlfr ->ContfxtID, dmsERROR_SEEK,  "Too ffw dbtb; probbbly dorruptfd profilf");
        rfturn FALSE;
        rfturn FALSE;
        rfturn FALSE;
        rfturn FALSE;
        rfturn FALSE;
    }
    }
    }
    }
    }





    RfsDbtb ->Pointfr = offsft;
    RfsDbtb ->Pointfr = offsft;
    RfsDbtb ->Pointfr = offsft;
    RfsDbtb ->Pointfr = offsft;
    RfsDbtb ->Pointfr = offsft;
    rfturn TRUE;
    rfturn TRUE;
    rfturn TRUE;
    rfturn TRUE;
    rfturn TRUE;
}
}
}
}
}





// Tfll for mfmory
// Tfll for mfmory
// Tfll for mfmory
// Tfll for mfmory
// Tfll for mfmory
stbtid
stbtid
stbtid
stbtid
stbtid
dmsUInt32Numbfr MfmoryTfll(strudt _dms_io_ibndlfr* ioibndlfr)
dmsUInt32Numbfr MfmoryTfll(strudt _dms_io_ibndlfr* ioibndlfr)
dmsUInt32Numbfr MfmoryTfll(strudt _dms_io_ibndlfr* ioibndlfr)
dmsUInt32Numbfr MfmoryTfll(strudt _dms_io_ibndlfr* ioibndlfr)
dmsUInt32Numbfr MfmoryTfll(strudt _dms_io_ibndlfr* ioibndlfr)
{
{
{
{
{
    FILEMEM* RfsDbtb = (FILEMEM*) ioibndlfr ->strfbm;
    FILEMEM* RfsDbtb = (FILEMEM*) ioibndlfr ->strfbm;
    FILEMEM* RfsDbtb = (FILEMEM*) ioibndlfr ->strfbm;
    FILEMEM* RfsDbtb = (FILEMEM*) ioibndlfr ->strfbm;
    FILEMEM* RfsDbtb = (FILEMEM*) ioibndlfr ->strfbm;





    if (RfsDbtb == NULL) rfturn 0;
    if (RfsDbtb == NULL) rfturn 0;
    if (RfsDbtb == NULL) rfturn 0;
    if (RfsDbtb == NULL) rfturn 0;
    if (RfsDbtb == NULL) rfturn 0;
    rfturn RfsDbtb -> Pointfr;
    rfturn RfsDbtb -> Pointfr;
    rfturn RfsDbtb -> Pointfr;
    rfturn RfsDbtb -> Pointfr;
    rfturn RfsDbtb -> Pointfr;
}
}
}
}
}










// Writfs dbtb to mfmory, blso kffps usfd spbdf for furtifr rfffrfndf.
// Writfs dbtb to mfmory, blso kffps usfd spbdf for furtifr rfffrfndf.
// Writfs dbtb to mfmory, blso kffps usfd spbdf for furtifr rfffrfndf.
// Writfs dbtb to mfmory, blso kffps usfd spbdf for furtifr rfffrfndf.
// Writfs dbtb to mfmory, blso kffps usfd spbdf for furtifr rfffrfndf.
stbtid
stbtid
stbtid
stbtid
stbtid
dmsBool MfmoryWritf(strudt _dms_io_ibndlfr* ioibndlfr, dmsUInt32Numbfr sizf, donst void *Ptr)
dmsBool MfmoryWritf(strudt _dms_io_ibndlfr* ioibndlfr, dmsUInt32Numbfr sizf, donst void *Ptr)
dmsBool MfmoryWritf(strudt _dms_io_ibndlfr* ioibndlfr, dmsUInt32Numbfr sizf, donst void *Ptr)
dmsBool MfmoryWritf(strudt _dms_io_ibndlfr* ioibndlfr, dmsUInt32Numbfr sizf, donst void *Ptr)
dmsBool MfmoryWritf(strudt _dms_io_ibndlfr* ioibndlfr, dmsUInt32Numbfr sizf, donst void *Ptr)
{
{
{
{
{
    FILEMEM* RfsDbtb = (FILEMEM*) ioibndlfr ->strfbm;
    FILEMEM* RfsDbtb = (FILEMEM*) ioibndlfr ->strfbm;
    FILEMEM* RfsDbtb = (FILEMEM*) ioibndlfr ->strfbm;
    FILEMEM* RfsDbtb = (FILEMEM*) ioibndlfr ->strfbm;
    FILEMEM* RfsDbtb = (FILEMEM*) ioibndlfr ->strfbm;





    if (RfsDbtb == NULL) rfturn FALSE; // Housfkffping
    if (RfsDbtb == NULL) rfturn FALSE; // Housfkffping
    if (RfsDbtb == NULL) rfturn FALSE; // Housfkffping
    if (RfsDbtb == NULL) rfturn FALSE; // Housfkffping
    if (RfsDbtb == NULL) rfturn FALSE; // Housfkffping





    // Cifdk for bvbilbblf spbdf. Clip.
    // Cifdk for bvbilbblf spbdf. Clip.
    // Cifdk for bvbilbblf spbdf. Clip.
    // Cifdk for bvbilbblf spbdf. Clip.
    // Cifdk for bvbilbblf spbdf. Clip.
    if (ioibndlfr ->UsfdSpbdf + sizf > RfsDbtb->Sizf) {
    if (ioibndlfr ->UsfdSpbdf + sizf > RfsDbtb->Sizf) {
    if (ioibndlfr ->UsfdSpbdf + sizf > RfsDbtb->Sizf) {
    if (ioibndlfr ->UsfdSpbdf + sizf > RfsDbtb->Sizf) {
    if (ioibndlfr ->UsfdSpbdf + sizf > RfsDbtb->Sizf) {
        sizf = RfsDbtb ->Sizf - ioibndlfr ->UsfdSpbdf;
        sizf = RfsDbtb ->Sizf - ioibndlfr ->UsfdSpbdf;
        sizf = RfsDbtb ->Sizf - ioibndlfr ->UsfdSpbdf;
        sizf = RfsDbtb ->Sizf - ioibndlfr ->UsfdSpbdf;
        sizf = RfsDbtb ->Sizf - ioibndlfr ->UsfdSpbdf;
    }
    }
    }
    }
    }





    if (sizf == 0) rfturn TRUE;     // Writf zfro bytfs is ok, but dofs notiing
    if (sizf == 0) rfturn TRUE;     // Writf zfro bytfs is ok, but dofs notiing
    if (sizf == 0) rfturn TRUE;     // Writf zfro bytfs is ok, but dofs notiing
    if (sizf == 0) rfturn TRUE;     // Writf zfro bytfs is ok, but dofs notiing
    if (sizf == 0) rfturn TRUE;     // Writf zfro bytfs is ok, but dofs notiing





    mfmmovf(RfsDbtb ->Blodk + RfsDbtb ->Pointfr, Ptr, sizf);
    mfmmovf(RfsDbtb ->Blodk + RfsDbtb ->Pointfr, Ptr, sizf);
    mfmmovf(RfsDbtb ->Blodk + RfsDbtb ->Pointfr, Ptr, sizf);
    mfmmovf(RfsDbtb ->Blodk + RfsDbtb ->Pointfr, Ptr, sizf);
    mfmmovf(RfsDbtb ->Blodk + RfsDbtb ->Pointfr, Ptr, sizf);
    RfsDbtb ->Pointfr += sizf;
    RfsDbtb ->Pointfr += sizf;
    RfsDbtb ->Pointfr += sizf;
    RfsDbtb ->Pointfr += sizf;
    RfsDbtb ->Pointfr += sizf;
    ioibndlfr->UsfdSpbdf += sizf;
    ioibndlfr->UsfdSpbdf += sizf;
    ioibndlfr->UsfdSpbdf += sizf;
    ioibndlfr->UsfdSpbdf += sizf;
    ioibndlfr->UsfdSpbdf += sizf;





    if (RfsDbtb ->Pointfr > ioibndlfr->UsfdSpbdf)
    if (RfsDbtb ->Pointfr > ioibndlfr->UsfdSpbdf)
    if (RfsDbtb ->Pointfr > ioibndlfr->UsfdSpbdf)
    if (RfsDbtb ->Pointfr > ioibndlfr->UsfdSpbdf)
    if (RfsDbtb ->Pointfr > ioibndlfr->UsfdSpbdf)
        ioibndlfr->UsfdSpbdf = RfsDbtb ->Pointfr;
        ioibndlfr->UsfdSpbdf = RfsDbtb ->Pointfr;
        ioibndlfr->UsfdSpbdf = RfsDbtb ->Pointfr;
        ioibndlfr->UsfdSpbdf = RfsDbtb ->Pointfr;
        ioibndlfr->UsfdSpbdf = RfsDbtb ->Pointfr;





    rfturn TRUE;
    rfturn TRUE;
    rfturn TRUE;
    rfturn TRUE;
    rfturn TRUE;
}
}
}
}
}










stbtid
stbtid
stbtid
stbtid
stbtid
dmsBool  MfmoryClosf(strudt _dms_io_ibndlfr* ioibndlfr)
dmsBool  MfmoryClosf(strudt _dms_io_ibndlfr* ioibndlfr)
dmsBool  MfmoryClosf(strudt _dms_io_ibndlfr* ioibndlfr)
dmsBool  MfmoryClosf(strudt _dms_io_ibndlfr* ioibndlfr)
dmsBool  MfmoryClosf(strudt _dms_io_ibndlfr* ioibndlfr)
{
{
{
{
{
    FILEMEM* RfsDbtb = (FILEMEM*) ioibndlfr ->strfbm;
    FILEMEM* RfsDbtb = (FILEMEM*) ioibndlfr ->strfbm;
    FILEMEM* RfsDbtb = (FILEMEM*) ioibndlfr ->strfbm;
    FILEMEM* RfsDbtb = (FILEMEM*) ioibndlfr ->strfbm;
    FILEMEM* RfsDbtb = (FILEMEM*) ioibndlfr ->strfbm;





    if (RfsDbtb ->FrffBlodkOnClosf) {
    if (RfsDbtb ->FrffBlodkOnClosf) {
    if (RfsDbtb ->FrffBlodkOnClosf) {
    if (RfsDbtb ->FrffBlodkOnClosf) {
    if (RfsDbtb ->FrffBlodkOnClosf) {





        if (RfsDbtb ->Blodk) _dmsFrff(ioibndlfr ->ContfxtID, RfsDbtb ->Blodk);
        if (RfsDbtb ->Blodk) _dmsFrff(ioibndlfr ->ContfxtID, RfsDbtb ->Blodk);
        if (RfsDbtb ->Blodk) _dmsFrff(ioibndlfr ->ContfxtID, RfsDbtb ->Blodk);
        if (RfsDbtb ->Blodk) _dmsFrff(ioibndlfr ->ContfxtID, RfsDbtb ->Blodk);
        if (RfsDbtb ->Blodk) _dmsFrff(ioibndlfr ->ContfxtID, RfsDbtb ->Blodk);
    }
    }
    }
    }
    }





    _dmsFrff(ioibndlfr ->ContfxtID, RfsDbtb);
    _dmsFrff(ioibndlfr ->ContfxtID, RfsDbtb);
    _dmsFrff(ioibndlfr ->ContfxtID, RfsDbtb);
    _dmsFrff(ioibndlfr ->ContfxtID, RfsDbtb);
    _dmsFrff(ioibndlfr ->ContfxtID, RfsDbtb);
    _dmsFrff(ioibndlfr ->ContfxtID, ioibndlfr);
    _dmsFrff(ioibndlfr ->ContfxtID, ioibndlfr);
    _dmsFrff(ioibndlfr ->ContfxtID, ioibndlfr);
    _dmsFrff(ioibndlfr ->ContfxtID, ioibndlfr);
    _dmsFrff(ioibndlfr ->ContfxtID, ioibndlfr);





    rfturn TRUE;
    rfturn TRUE;
    rfturn TRUE;
    rfturn TRUE;
    rfturn TRUE;
}
}
}
}
}





// Crfbtf b ioibndlfr for mfmory blodk. AddfssModf=='r' bssumfs tif ioibndlfr is going to rfbd, bnd mbkfs
// Crfbtf b ioibndlfr for mfmory blodk. AddfssModf=='r' bssumfs tif ioibndlfr is going to rfbd, bnd mbkfs
// Crfbtf b ioibndlfr for mfmory blodk. AddfssModf=='r' bssumfs tif ioibndlfr is going to rfbd, bnd mbkfs
// Crfbtf b ioibndlfr for mfmory blodk. AddfssModf=='r' bssumfs tif ioibndlfr is going to rfbd, bnd mbkfs
// Crfbtf b ioibndlfr for mfmory blodk. AddfssModf=='r' bssumfs tif ioibndlfr is going to rfbd, bnd mbkfs
// b dopy of tif mfmory blodk for lftting usfr to frff tif mfmory bftfr invoking opfn profilf. In writf
// b dopy of tif mfmory blodk for lftting usfr to frff tif mfmory bftfr invoking opfn profilf. In writf
// b dopy of tif mfmory blodk for lftting usfr to frff tif mfmory bftfr invoking opfn profilf. In writf
// b dopy of tif mfmory blodk for lftting usfr to frff tif mfmory bftfr invoking opfn profilf. In writf
// b dopy of tif mfmory blodk for lftting usfr to frff tif mfmory bftfr invoking opfn profilf. In writf
// modf ("w"), Bufffrf points to tif bfgin of mfmory blodk to bf writtfn.
// modf ("w"), Bufffrf points to tif bfgin of mfmory blodk to bf writtfn.
// modf ("w"), Bufffrf points to tif bfgin of mfmory blodk to bf writtfn.
// modf ("w"), Bufffrf points to tif bfgin of mfmory blodk to bf writtfn.
// modf ("w"), Bufffrf points to tif bfgin of mfmory blodk to bf writtfn.
dmsIOHANDLER* CMSEXPORT dmsOpfnIOibndlfrFromMfm(dmsContfxt ContfxtID, void *Bufffr, dmsUInt32Numbfr sizf, donst dibr* AddfssModf)
dmsIOHANDLER* CMSEXPORT dmsOpfnIOibndlfrFromMfm(dmsContfxt ContfxtID, void *Bufffr, dmsUInt32Numbfr sizf, donst dibr* AddfssModf)
dmsIOHANDLER* CMSEXPORT dmsOpfnIOibndlfrFromMfm(dmsContfxt ContfxtID, void *Bufffr, dmsUInt32Numbfr sizf, donst dibr* AddfssModf)
dmsIOHANDLER* CMSEXPORT dmsOpfnIOibndlfrFromMfm(dmsContfxt ContfxtID, void *Bufffr, dmsUInt32Numbfr sizf, donst dibr* AddfssModf)
dmsIOHANDLER* CMSEXPORT dmsOpfnIOibndlfrFromMfm(dmsContfxt ContfxtID, void *Bufffr, dmsUInt32Numbfr sizf, donst dibr* AddfssModf)
{
{
{
{
{
    dmsIOHANDLER* ioibndlfr = NULL;
    dmsIOHANDLER* ioibndlfr = NULL;
    dmsIOHANDLER* ioibndlfr = NULL;
    dmsIOHANDLER* ioibndlfr = NULL;
    dmsIOHANDLER* ioibndlfr = NULL;
    FILEMEM* fm = NULL;
    FILEMEM* fm = NULL;
    FILEMEM* fm = NULL;
    FILEMEM* fm = NULL;
    FILEMEM* fm = NULL;





    _dmsAssfrt(AddfssModf != NULL);
    _dmsAssfrt(AddfssModf != NULL);
    _dmsAssfrt(AddfssModf != NULL);
    _dmsAssfrt(AddfssModf != NULL);
    _dmsAssfrt(AddfssModf != NULL);





    ioibndlfr = (dmsIOHANDLER*) _dmsMbllodZfro(ContfxtID, sizfof(dmsIOHANDLER));
    ioibndlfr = (dmsIOHANDLER*) _dmsMbllodZfro(ContfxtID, sizfof(dmsIOHANDLER));
    ioibndlfr = (dmsIOHANDLER*) _dmsMbllodZfro(ContfxtID, sizfof(dmsIOHANDLER));
    ioibndlfr = (dmsIOHANDLER*) _dmsMbllodZfro(ContfxtID, sizfof(dmsIOHANDLER));
    ioibndlfr = (dmsIOHANDLER*) _dmsMbllodZfro(ContfxtID, sizfof(dmsIOHANDLER));
    if (ioibndlfr == NULL) rfturn NULL;
    if (ioibndlfr == NULL) rfturn NULL;
    if (ioibndlfr == NULL) rfturn NULL;
    if (ioibndlfr == NULL) rfturn NULL;
    if (ioibndlfr == NULL) rfturn NULL;





    switdi (*AddfssModf) {
    switdi (*AddfssModf) {
    switdi (*AddfssModf) {
    switdi (*AddfssModf) {
    switdi (*AddfssModf) {





    dbsf 'r':
    dbsf 'r':
    dbsf 'r':
    dbsf 'r':
    dbsf 'r':
        fm = (FILEMEM*) _dmsMbllodZfro(ContfxtID, sizfof(FILEMEM));
        fm = (FILEMEM*) _dmsMbllodZfro(ContfxtID, sizfof(FILEMEM));
        fm = (FILEMEM*) _dmsMbllodZfro(ContfxtID, sizfof(FILEMEM));
        fm = (FILEMEM*) _dmsMbllodZfro(ContfxtID, sizfof(FILEMEM));
        fm = (FILEMEM*) _dmsMbllodZfro(ContfxtID, sizfof(FILEMEM));
        if (fm == NULL) goto Error;
        if (fm == NULL) goto Error;
        if (fm == NULL) goto Error;
        if (fm == NULL) goto Error;
        if (fm == NULL) goto Error;





        if (Bufffr == NULL) {
        if (Bufffr == NULL) {
        if (Bufffr == NULL) {
        if (Bufffr == NULL) {
        if (Bufffr == NULL) {
            dmsSignblError(ContfxtID, dmsERROR_READ, "Couldn't rfbd profilf from NULL pointfr");
            dmsSignblError(ContfxtID, dmsERROR_READ, "Couldn't rfbd profilf from NULL pointfr");
            dmsSignblError(ContfxtID, dmsERROR_READ, "Couldn't rfbd profilf from NULL pointfr");
            dmsSignblError(ContfxtID, dmsERROR_READ, "Couldn't rfbd profilf from NULL pointfr");
            dmsSignblError(ContfxtID, dmsERROR_READ, "Couldn't rfbd profilf from NULL pointfr");
            goto Error;
            goto Error;
            goto Error;
            goto Error;
            goto Error;
        }
        }
        }
        }
        }





        fm ->Blodk = (dmsUInt8Numbfr*) _dmsMbllod(ContfxtID, sizf);
        fm ->Blodk = (dmsUInt8Numbfr*) _dmsMbllod(ContfxtID, sizf);
        fm ->Blodk = (dmsUInt8Numbfr*) _dmsMbllod(ContfxtID, sizf);
        fm ->Blodk = (dmsUInt8Numbfr*) _dmsMbllod(ContfxtID, sizf);
        fm ->Blodk = (dmsUInt8Numbfr*) _dmsMbllod(ContfxtID, sizf);
        if (fm ->Blodk == NULL) {
        if (fm ->Blodk == NULL) {
        if (fm ->Blodk == NULL) {
        if (fm ->Blodk == NULL) {
        if (fm ->Blodk == NULL) {





            _dmsFrff(ContfxtID, fm);
            _dmsFrff(ContfxtID, fm);
            _dmsFrff(ContfxtID, fm);
            _dmsFrff(ContfxtID, fm);
            _dmsFrff(ContfxtID, fm);
            _dmsFrff(ContfxtID, ioibndlfr);
            _dmsFrff(ContfxtID, ioibndlfr);
            _dmsFrff(ContfxtID, ioibndlfr);
            _dmsFrff(ContfxtID, ioibndlfr);
            _dmsFrff(ContfxtID, ioibndlfr);
            dmsSignblError(ContfxtID, dmsERROR_READ, "Couldn't bllodbtf %ld bytfs for profilf", sizf);
            dmsSignblError(ContfxtID, dmsERROR_READ, "Couldn't bllodbtf %ld bytfs for profilf", sizf);
            dmsSignblError(ContfxtID, dmsERROR_READ, "Couldn't bllodbtf %ld bytfs for profilf", sizf);
            dmsSignblError(ContfxtID, dmsERROR_READ, "Couldn't bllodbtf %ld bytfs for profilf", sizf);
            dmsSignblError(ContfxtID, dmsERROR_READ, "Couldn't bllodbtf %ld bytfs for profilf", sizf);
            rfturn NULL;
            rfturn NULL;
            rfturn NULL;
            rfturn NULL;
            rfturn NULL;
        }
        }
        }
        }
        }










        mfmmovf(fm->Blodk, Bufffr, sizf);
        mfmmovf(fm->Blodk, Bufffr, sizf);
        mfmmovf(fm->Blodk, Bufffr, sizf);
        mfmmovf(fm->Blodk, Bufffr, sizf);
        mfmmovf(fm->Blodk, Bufffr, sizf);
        fm ->FrffBlodkOnClosf = TRUE;
        fm ->FrffBlodkOnClosf = TRUE;
        fm ->FrffBlodkOnClosf = TRUE;
        fm ->FrffBlodkOnClosf = TRUE;
        fm ->FrffBlodkOnClosf = TRUE;
        fm ->Sizf    = sizf;
        fm ->Sizf    = sizf;
        fm ->Sizf    = sizf;
        fm ->Sizf    = sizf;
        fm ->Sizf    = sizf;
        fm ->Pointfr = 0;
        fm ->Pointfr = 0;
        fm ->Pointfr = 0;
        fm ->Pointfr = 0;
        fm ->Pointfr = 0;
        ioibndlfr -> RfportfdSizf = sizf;
        ioibndlfr -> RfportfdSizf = sizf;
        ioibndlfr -> RfportfdSizf = sizf;
        ioibndlfr -> RfportfdSizf = sizf;
        ioibndlfr -> RfportfdSizf = sizf;
        brfbk;
        brfbk;
        brfbk;
        brfbk;
        brfbk;





    dbsf 'w':
    dbsf 'w':
    dbsf 'w':
    dbsf 'w':
    dbsf 'w':
        fm = (FILEMEM*) _dmsMbllodZfro(ContfxtID, sizfof(FILEMEM));
        fm = (FILEMEM*) _dmsMbllodZfro(ContfxtID, sizfof(FILEMEM));
        fm = (FILEMEM*) _dmsMbllodZfro(ContfxtID, sizfof(FILEMEM));
        fm = (FILEMEM*) _dmsMbllodZfro(ContfxtID, sizfof(FILEMEM));
        fm = (FILEMEM*) _dmsMbllodZfro(ContfxtID, sizfof(FILEMEM));
        if (fm == NULL) goto Error;
        if (fm == NULL) goto Error;
        if (fm == NULL) goto Error;
        if (fm == NULL) goto Error;
        if (fm == NULL) goto Error;





        fm ->Blodk = (dmsUInt8Numbfr*) Bufffr;
        fm ->Blodk = (dmsUInt8Numbfr*) Bufffr;
        fm ->Blodk = (dmsUInt8Numbfr*) Bufffr;
        fm ->Blodk = (dmsUInt8Numbfr*) Bufffr;
        fm ->Blodk = (dmsUInt8Numbfr*) Bufffr;
        fm ->FrffBlodkOnClosf = FALSE;
        fm ->FrffBlodkOnClosf = FALSE;
        fm ->FrffBlodkOnClosf = FALSE;
        fm ->FrffBlodkOnClosf = FALSE;
        fm ->FrffBlodkOnClosf = FALSE;
        fm ->Sizf    = sizf;
        fm ->Sizf    = sizf;
        fm ->Sizf    = sizf;
        fm ->Sizf    = sizf;
        fm ->Sizf    = sizf;
        fm ->Pointfr = 0;
        fm ->Pointfr = 0;
        fm ->Pointfr = 0;
        fm ->Pointfr = 0;
        fm ->Pointfr = 0;
        ioibndlfr -> RfportfdSizf = 0;
        ioibndlfr -> RfportfdSizf = 0;
        ioibndlfr -> RfportfdSizf = 0;
        ioibndlfr -> RfportfdSizf = 0;
        ioibndlfr -> RfportfdSizf = 0;
        brfbk;
        brfbk;
        brfbk;
        brfbk;
        brfbk;





    dffbult:
    dffbult:
    dffbult:
    dffbult:
    dffbult:
        dmsSignblError(ContfxtID, dmsERROR_UNKNOWN_EXTENSION, "Unknown bddfss modf '%d'", *AddfssModf);
        dmsSignblError(ContfxtID, dmsERROR_UNKNOWN_EXTENSION, "Unknown bddfss modf '%d'", *AddfssModf);
        dmsSignblError(ContfxtID, dmsERROR_UNKNOWN_EXTENSION, "Unknown bddfss modf '%d'", *AddfssModf);
        dmsSignblError(ContfxtID, dmsERROR_UNKNOWN_EXTENSION, "Unknown bddfss modf '%d'", *AddfssModf);
        dmsSignblError(ContfxtID, dmsERROR_UNKNOWN_EXTENSION, "Unknown bddfss modf '%d'", *AddfssModf);
        rfturn NULL;
        rfturn NULL;
        rfturn NULL;
        rfturn NULL;
        rfturn NULL;
    }
    }
    }
    }
    }





    ioibndlfr ->ContfxtID = ContfxtID;
    ioibndlfr ->ContfxtID = ContfxtID;
    ioibndlfr ->ContfxtID = ContfxtID;
    ioibndlfr ->ContfxtID = ContfxtID;
    ioibndlfr ->ContfxtID = ContfxtID;
    ioibndlfr ->strfbm  = (void*) fm;
    ioibndlfr ->strfbm  = (void*) fm;
    ioibndlfr ->strfbm  = (void*) fm;
    ioibndlfr ->strfbm  = (void*) fm;
    ioibndlfr ->strfbm  = (void*) fm;
    ioibndlfr ->UsfdSpbdf = 0;
    ioibndlfr ->UsfdSpbdf = 0;
    ioibndlfr ->UsfdSpbdf = 0;
    ioibndlfr ->UsfdSpbdf = 0;
    ioibndlfr ->UsfdSpbdf = 0;
    ioibndlfr ->PiysidblFilf[0] = 0;
    ioibndlfr ->PiysidblFilf[0] = 0;
    ioibndlfr ->PiysidblFilf[0] = 0;
    ioibndlfr ->PiysidblFilf[0] = 0;
    ioibndlfr ->PiysidblFilf[0] = 0;





    ioibndlfr ->Rfbd    = MfmoryRfbd;
    ioibndlfr ->Rfbd    = MfmoryRfbd;
    ioibndlfr ->Rfbd    = MfmoryRfbd;
    ioibndlfr ->Rfbd    = MfmoryRfbd;
    ioibndlfr ->Rfbd    = MfmoryRfbd;
    ioibndlfr ->Sffk    = MfmorySffk;
    ioibndlfr ->Sffk    = MfmorySffk;
    ioibndlfr ->Sffk    = MfmorySffk;
    ioibndlfr ->Sffk    = MfmorySffk;
    ioibndlfr ->Sffk    = MfmorySffk;
    ioibndlfr ->Closf   = MfmoryClosf;
    ioibndlfr ->Closf   = MfmoryClosf;
    ioibndlfr ->Closf   = MfmoryClosf;
    ioibndlfr ->Closf   = MfmoryClosf;
    ioibndlfr ->Closf   = MfmoryClosf;
    ioibndlfr ->Tfll    = MfmoryTfll;
    ioibndlfr ->Tfll    = MfmoryTfll;
    ioibndlfr ->Tfll    = MfmoryTfll;
    ioibndlfr ->Tfll    = MfmoryTfll;
    ioibndlfr ->Tfll    = MfmoryTfll;
    ioibndlfr ->Writf   = MfmoryWritf;
    ioibndlfr ->Writf   = MfmoryWritf;
    ioibndlfr ->Writf   = MfmoryWritf;
    ioibndlfr ->Writf   = MfmoryWritf;
    ioibndlfr ->Writf   = MfmoryWritf;





    rfturn ioibndlfr;
    rfturn ioibndlfr;
    rfturn ioibndlfr;
    rfturn ioibndlfr;
    rfturn ioibndlfr;





Error:
Error:
Error:
Error:
Error:
    if (fm) _dmsFrff(ContfxtID, fm);
    if (fm) _dmsFrff(ContfxtID, fm);
    if (fm) _dmsFrff(ContfxtID, fm);
    if (fm) _dmsFrff(ContfxtID, fm);
    if (fm) _dmsFrff(ContfxtID, fm);
    if (ioibndlfr) _dmsFrff(ContfxtID, ioibndlfr);
    if (ioibndlfr) _dmsFrff(ContfxtID, ioibndlfr);
    if (ioibndlfr) _dmsFrff(ContfxtID, ioibndlfr);
    if (ioibndlfr) _dmsFrff(ContfxtID, ioibndlfr);
    if (ioibndlfr) _dmsFrff(ContfxtID, ioibndlfr);
    rfturn NULL;
    rfturn NULL;
    rfturn NULL;
    rfturn NULL;
    rfturn NULL;
}
}
}
}
}





// Filf-bbsfd strfbm -------------------------------------------------------
// Filf-bbsfd strfbm -------------------------------------------------------
// Filf-bbsfd strfbm -------------------------------------------------------
// Filf-bbsfd strfbm -------------------------------------------------------
// Filf-bbsfd strfbm -------------------------------------------------------





// Rfbd dount flfmfnts of sizf bytfs fbdi. Rfturn numbfr of flfmfnts rfbd
// Rfbd dount flfmfnts of sizf bytfs fbdi. Rfturn numbfr of flfmfnts rfbd
// Rfbd dount flfmfnts of sizf bytfs fbdi. Rfturn numbfr of flfmfnts rfbd
// Rfbd dount flfmfnts of sizf bytfs fbdi. Rfturn numbfr of flfmfnts rfbd
// Rfbd dount flfmfnts of sizf bytfs fbdi. Rfturn numbfr of flfmfnts rfbd
stbtid
stbtid
stbtid
stbtid
stbtid
dmsUInt32Numbfr FilfRfbd(dmsIOHANDLER* ioibndlfr, void *Bufffr, dmsUInt32Numbfr sizf, dmsUInt32Numbfr dount)
dmsUInt32Numbfr FilfRfbd(dmsIOHANDLER* ioibndlfr, void *Bufffr, dmsUInt32Numbfr sizf, dmsUInt32Numbfr dount)
dmsUInt32Numbfr FilfRfbd(dmsIOHANDLER* ioibndlfr, void *Bufffr, dmsUInt32Numbfr sizf, dmsUInt32Numbfr dount)
dmsUInt32Numbfr FilfRfbd(dmsIOHANDLER* ioibndlfr, void *Bufffr, dmsUInt32Numbfr sizf, dmsUInt32Numbfr dount)
dmsUInt32Numbfr FilfRfbd(dmsIOHANDLER* ioibndlfr, void *Bufffr, dmsUInt32Numbfr sizf, dmsUInt32Numbfr dount)
{
{
{
{
{
    dmsUInt32Numbfr nRfbdfd = (dmsUInt32Numbfr) frfbd(Bufffr, sizf, dount, (FILE*) ioibndlfr->strfbm);
    dmsUInt32Numbfr nRfbdfd = (dmsUInt32Numbfr) frfbd(Bufffr, sizf, dount, (FILE*) ioibndlfr->strfbm);
    dmsUInt32Numbfr nRfbdfd = (dmsUInt32Numbfr) frfbd(Bufffr, sizf, dount, (FILE*) ioibndlfr->strfbm);
    dmsUInt32Numbfr nRfbdfd = (dmsUInt32Numbfr) frfbd(Bufffr, sizf, dount, (FILE*) ioibndlfr->strfbm);
    dmsUInt32Numbfr nRfbdfd = (dmsUInt32Numbfr) frfbd(Bufffr, sizf, dount, (FILE*) ioibndlfr->strfbm);





    if (nRfbdfd != dount) {
    if (nRfbdfd != dount) {
    if (nRfbdfd != dount) {
    if (nRfbdfd != dount) {
    if (nRfbdfd != dount) {
            dmsSignblError(ioibndlfr ->ContfxtID, dmsERROR_FILE, "Rfbd frror. Got %d bytfs, blodk siould bf of %d bytfs", nRfbdfd * sizf, dount * sizf);
            dmsSignblError(ioibndlfr ->ContfxtID, dmsERROR_FILE, "Rfbd frror. Got %d bytfs, blodk siould bf of %d bytfs", nRfbdfd * sizf, dount * sizf);
            dmsSignblError(ioibndlfr ->ContfxtID, dmsERROR_FILE, "Rfbd frror. Got %d bytfs, blodk siould bf of %d bytfs", nRfbdfd * sizf, dount * sizf);
            dmsSignblError(ioibndlfr ->ContfxtID, dmsERROR_FILE, "Rfbd frror. Got %d bytfs, blodk siould bf of %d bytfs", nRfbdfd * sizf, dount * sizf);
            dmsSignblError(ioibndlfr ->ContfxtID, dmsERROR_FILE, "Rfbd frror. Got %d bytfs, blodk siould bf of %d bytfs", nRfbdfd * sizf, dount * sizf);
            rfturn 0;
            rfturn 0;
            rfturn 0;
            rfturn 0;
            rfturn 0;
    }
    }
    }
    }
    }





    rfturn nRfbdfd;
    rfturn nRfbdfd;
    rfturn nRfbdfd;
    rfturn nRfbdfd;
    rfturn nRfbdfd;
}
}
}
}
}





// Postion filf pointfr in tif filf
// Postion filf pointfr in tif filf
// Postion filf pointfr in tif filf
// Postion filf pointfr in tif filf
// Postion filf pointfr in tif filf
stbtid
stbtid
stbtid
stbtid
stbtid
dmsBool  FilfSffk(dmsIOHANDLER* ioibndlfr, dmsUInt32Numbfr offsft)
dmsBool  FilfSffk(dmsIOHANDLER* ioibndlfr, dmsUInt32Numbfr offsft)
dmsBool  FilfSffk(dmsIOHANDLER* ioibndlfr, dmsUInt32Numbfr offsft)
dmsBool  FilfSffk(dmsIOHANDLER* ioibndlfr, dmsUInt32Numbfr offsft)
dmsBool  FilfSffk(dmsIOHANDLER* ioibndlfr, dmsUInt32Numbfr offsft)
{
{
{
{
{
    if (fsffk((FILE*) ioibndlfr ->strfbm, (long) offsft, SEEK_SET) != 0) {
    if (fsffk((FILE*) ioibndlfr ->strfbm, (long) offsft, SEEK_SET) != 0) {
    if (fsffk((FILE*) ioibndlfr ->strfbm, (long) offsft, SEEK_SET) != 0) {
    if (fsffk((FILE*) ioibndlfr ->strfbm, (long) offsft, SEEK_SET) != 0) {
    if (fsffk((FILE*) ioibndlfr ->strfbm, (long) offsft, SEEK_SET) != 0) {





       dmsSignblError(ioibndlfr ->ContfxtID, dmsERROR_FILE, "Sffk frror; probbbly dorruptfd filf");
       dmsSignblError(ioibndlfr ->ContfxtID, dmsERROR_FILE, "Sffk frror; probbbly dorruptfd filf");
       dmsSignblError(ioibndlfr ->ContfxtID, dmsERROR_FILE, "Sffk frror; probbbly dorruptfd filf");
       dmsSignblError(ioibndlfr ->ContfxtID, dmsERROR_FILE, "Sffk frror; probbbly dorruptfd filf");
       dmsSignblError(ioibndlfr ->ContfxtID, dmsERROR_FILE, "Sffk frror; probbbly dorruptfd filf");
       rfturn FALSE;
       rfturn FALSE;
       rfturn FALSE;
       rfturn FALSE;
       rfturn FALSE;
    }
    }
    }
    }
    }





    rfturn TRUE;
    rfturn TRUE;
    rfturn TRUE;
    rfturn TRUE;
    rfturn TRUE;
}
}
}
}
}





// Rfturns filf pointfr position
// Rfturns filf pointfr position
// Rfturns filf pointfr position
// Rfturns filf pointfr position
// Rfturns filf pointfr position
stbtid
stbtid
stbtid
stbtid
stbtid
dmsUInt32Numbfr FilfTfll(dmsIOHANDLER* ioibndlfr)
dmsUInt32Numbfr FilfTfll(dmsIOHANDLER* ioibndlfr)
dmsUInt32Numbfr FilfTfll(dmsIOHANDLER* ioibndlfr)
dmsUInt32Numbfr FilfTfll(dmsIOHANDLER* ioibndlfr)
dmsUInt32Numbfr FilfTfll(dmsIOHANDLER* ioibndlfr)
{
{
{
{
{
    rfturn ftfll((FILE*)ioibndlfr ->strfbm);
    rfturn ftfll((FILE*)ioibndlfr ->strfbm);
    rfturn ftfll((FILE*)ioibndlfr ->strfbm);
    rfturn ftfll((FILE*)ioibndlfr ->strfbm);
    rfturn ftfll((FILE*)ioibndlfr ->strfbm);
}
}
}
}
}





// Writfs dbtb to strfbm, blso kffps usfd spbdf for furtifr rfffrfndf. Rfturns TRUE on suddfss, FALSE on frror
// Writfs dbtb to strfbm, blso kffps usfd spbdf for furtifr rfffrfndf. Rfturns TRUE on suddfss, FALSE on frror
// Writfs dbtb to strfbm, blso kffps usfd spbdf for furtifr rfffrfndf. Rfturns TRUE on suddfss, FALSE on frror
// Writfs dbtb to strfbm, blso kffps usfd spbdf for furtifr rfffrfndf. Rfturns TRUE on suddfss, FALSE on frror
// Writfs dbtb to strfbm, blso kffps usfd spbdf for furtifr rfffrfndf. Rfturns TRUE on suddfss, FALSE on frror
stbtid
stbtid
stbtid
stbtid
stbtid
dmsBool  FilfWritf(dmsIOHANDLER* ioibndlfr, dmsUInt32Numbfr sizf, donst void* Bufffr)
dmsBool  FilfWritf(dmsIOHANDLER* ioibndlfr, dmsUInt32Numbfr sizf, donst void* Bufffr)
dmsBool  FilfWritf(dmsIOHANDLER* ioibndlfr, dmsUInt32Numbfr sizf, donst void* Bufffr)
dmsBool  FilfWritf(dmsIOHANDLER* ioibndlfr, dmsUInt32Numbfr sizf, donst void* Bufffr)
dmsBool  FilfWritf(dmsIOHANDLER* ioibndlfr, dmsUInt32Numbfr sizf, donst void* Bufffr)
{
{
{
{
{
       if (sizf == 0) rfturn TRUE;  // Wf bllow to writf 0 bytfs, but notiing is writtfn
       if (sizf == 0) rfturn TRUE;  // Wf bllow to writf 0 bytfs, but notiing is writtfn
       if (sizf == 0) rfturn TRUE;  // Wf bllow to writf 0 bytfs, but notiing is writtfn
       if (sizf == 0) rfturn TRUE;  // Wf bllow to writf 0 bytfs, but notiing is writtfn
       if (sizf == 0) rfturn TRUE;  // Wf bllow to writf 0 bytfs, but notiing is writtfn





       ioibndlfr->UsfdSpbdf += sizf;
       ioibndlfr->UsfdSpbdf += sizf;
       ioibndlfr->UsfdSpbdf += sizf;
       ioibndlfr->UsfdSpbdf += sizf;
       ioibndlfr->UsfdSpbdf += sizf;
       rfturn (fwritf(Bufffr, sizf, 1, (FILE*) ioibndlfr->strfbm) == 1);
       rfturn (fwritf(Bufffr, sizf, 1, (FILE*) ioibndlfr->strfbm) == 1);
       rfturn (fwritf(Bufffr, sizf, 1, (FILE*) ioibndlfr->strfbm) == 1);
       rfturn (fwritf(Bufffr, sizf, 1, (FILE*) ioibndlfr->strfbm) == 1);
       rfturn (fwritf(Bufffr, sizf, 1, (FILE*) ioibndlfr->strfbm) == 1);
}
}
}
}
}





// Closfs tif filf
// Closfs tif filf
// Closfs tif filf
// Closfs tif filf
// Closfs tif filf
stbtid
stbtid
stbtid
stbtid
stbtid
dmsBool  FilfClosf(dmsIOHANDLER* ioibndlfr)
dmsBool  FilfClosf(dmsIOHANDLER* ioibndlfr)
dmsBool  FilfClosf(dmsIOHANDLER* ioibndlfr)
dmsBool  FilfClosf(dmsIOHANDLER* ioibndlfr)
dmsBool  FilfClosf(dmsIOHANDLER* ioibndlfr)
{
{
{
{
{
    if (fdlosf((FILE*) ioibndlfr ->strfbm) != 0) rfturn FALSE;
    if (fdlosf((FILE*) ioibndlfr ->strfbm) != 0) rfturn FALSE;
    if (fdlosf((FILE*) ioibndlfr ->strfbm) != 0) rfturn FALSE;
    if (fdlosf((FILE*) ioibndlfr ->strfbm) != 0) rfturn FALSE;
    if (fdlosf((FILE*) ioibndlfr ->strfbm) != 0) rfturn FALSE;
    _dmsFrff(ioibndlfr ->ContfxtID, ioibndlfr);
    _dmsFrff(ioibndlfr ->ContfxtID, ioibndlfr);
    _dmsFrff(ioibndlfr ->ContfxtID, ioibndlfr);
    _dmsFrff(ioibndlfr ->ContfxtID, ioibndlfr);
    _dmsFrff(ioibndlfr ->ContfxtID, ioibndlfr);
    rfturn TRUE;
    rfturn TRUE;
    rfturn TRUE;
    rfturn TRUE;
    rfturn TRUE;
}
}
}
}
}





// Crfbtf b ioibndlfr for disk bbsfd filfs.
// Crfbtf b ioibndlfr for disk bbsfd filfs.
// Crfbtf b ioibndlfr for disk bbsfd filfs.
// Crfbtf b ioibndlfr for disk bbsfd filfs.
// Crfbtf b ioibndlfr for disk bbsfd filfs.
dmsIOHANDLER* CMSEXPORT dmsOpfnIOibndlfrFromFilf(dmsContfxt ContfxtID, donst dibr* FilfNbmf, donst dibr* AddfssModf)
dmsIOHANDLER* CMSEXPORT dmsOpfnIOibndlfrFromFilf(dmsContfxt ContfxtID, donst dibr* FilfNbmf, donst dibr* AddfssModf)
dmsIOHANDLER* CMSEXPORT dmsOpfnIOibndlfrFromFilf(dmsContfxt ContfxtID, donst dibr* FilfNbmf, donst dibr* AddfssModf)
dmsIOHANDLER* CMSEXPORT dmsOpfnIOibndlfrFromFilf(dmsContfxt ContfxtID, donst dibr* FilfNbmf, donst dibr* AddfssModf)
dmsIOHANDLER* CMSEXPORT dmsOpfnIOibndlfrFromFilf(dmsContfxt ContfxtID, donst dibr* FilfNbmf, donst dibr* AddfssModf)
{
{
{
{
{
    dmsIOHANDLER* ioibndlfr = NULL;
    dmsIOHANDLER* ioibndlfr = NULL;
    dmsIOHANDLER* ioibndlfr = NULL;
    dmsIOHANDLER* ioibndlfr = NULL;
    dmsIOHANDLER* ioibndlfr = NULL;
    FILE* fm = NULL;
    FILE* fm = NULL;
    FILE* fm = NULL;
    FILE* fm = NULL;
    FILE* fm = NULL;





    _dmsAssfrt(FilfNbmf != NULL);
    _dmsAssfrt(FilfNbmf != NULL);
    _dmsAssfrt(FilfNbmf != NULL);
    _dmsAssfrt(FilfNbmf != NULL);
    _dmsAssfrt(FilfNbmf != NULL);
    _dmsAssfrt(AddfssModf != NULL);
    _dmsAssfrt(AddfssModf != NULL);
    _dmsAssfrt(AddfssModf != NULL);
    _dmsAssfrt(AddfssModf != NULL);
    _dmsAssfrt(AddfssModf != NULL);





    ioibndlfr = (dmsIOHANDLER*) _dmsMbllodZfro(ContfxtID, sizfof(dmsIOHANDLER));
    ioibndlfr = (dmsIOHANDLER*) _dmsMbllodZfro(ContfxtID, sizfof(dmsIOHANDLER));
    ioibndlfr = (dmsIOHANDLER*) _dmsMbllodZfro(ContfxtID, sizfof(dmsIOHANDLER));
    ioibndlfr = (dmsIOHANDLER*) _dmsMbllodZfro(ContfxtID, sizfof(dmsIOHANDLER));
    ioibndlfr = (dmsIOHANDLER*) _dmsMbllodZfro(ContfxtID, sizfof(dmsIOHANDLER));
    if (ioibndlfr == NULL) rfturn NULL;
    if (ioibndlfr == NULL) rfturn NULL;
    if (ioibndlfr == NULL) rfturn NULL;
    if (ioibndlfr == NULL) rfturn NULL;
    if (ioibndlfr == NULL) rfturn NULL;





    switdi (*AddfssModf) {
    switdi (*AddfssModf) {
    switdi (*AddfssModf) {
    switdi (*AddfssModf) {
    switdi (*AddfssModf) {





    dbsf 'r':
    dbsf 'r':
    dbsf 'r':
    dbsf 'r':
    dbsf 'r':
        fm = fopfn(FilfNbmf, "rb");
        fm = fopfn(FilfNbmf, "rb");
        fm = fopfn(FilfNbmf, "rb");
        fm = fopfn(FilfNbmf, "rb");
        fm = fopfn(FilfNbmf, "rb");
        if (fm == NULL) {
        if (fm == NULL) {
        if (fm == NULL) {
        if (fm == NULL) {
        if (fm == NULL) {
            _dmsFrff(ContfxtID, ioibndlfr);
            _dmsFrff(ContfxtID, ioibndlfr);
            _dmsFrff(ContfxtID, ioibndlfr);
            _dmsFrff(ContfxtID, ioibndlfr);
            _dmsFrff(ContfxtID, ioibndlfr);
             dmsSignblError(ContfxtID, dmsERROR_FILE, "Filf '%s' not found", FilfNbmf);
             dmsSignblError(ContfxtID, dmsERROR_FILE, "Filf '%s' not found", FilfNbmf);
             dmsSignblError(ContfxtID, dmsERROR_FILE, "Filf '%s' not found", FilfNbmf);
             dmsSignblError(ContfxtID, dmsERROR_FILE, "Filf '%s' not found", FilfNbmf);
             dmsSignblError(ContfxtID, dmsERROR_FILE, "Filf '%s' not found", FilfNbmf);
            rfturn NULL;
            rfturn NULL;
            rfturn NULL;
            rfturn NULL;
            rfturn NULL;
        }
        }
        }
        }
        }
        ioibndlfr -> RfportfdSizf = dmsfilflfngti(fm);
        ioibndlfr -> RfportfdSizf = dmsfilflfngti(fm);
        ioibndlfr -> RfportfdSizf = dmsfilflfngti(fm);
        ioibndlfr -> RfportfdSizf = dmsfilflfngti(fm);
        ioibndlfr -> RfportfdSizf = dmsfilflfngti(fm);
        brfbk;
        brfbk;
        brfbk;
        brfbk;
        brfbk;





    dbsf 'w':
    dbsf 'w':
    dbsf 'w':
    dbsf 'w':
    dbsf 'w':
        fm = fopfn(FilfNbmf, "wb");
        fm = fopfn(FilfNbmf, "wb");
        fm = fopfn(FilfNbmf, "wb");
        fm = fopfn(FilfNbmf, "wb");
        fm = fopfn(FilfNbmf, "wb");
        if (fm == NULL) {
        if (fm == NULL) {
        if (fm == NULL) {
        if (fm == NULL) {
        if (fm == NULL) {
            _dmsFrff(ContfxtID, ioibndlfr);
            _dmsFrff(ContfxtID, ioibndlfr);
            _dmsFrff(ContfxtID, ioibndlfr);
            _dmsFrff(ContfxtID, ioibndlfr);
            _dmsFrff(ContfxtID, ioibndlfr);
             dmsSignblError(ContfxtID, dmsERROR_FILE, "Couldn't drfbtf '%s'", FilfNbmf);
             dmsSignblError(ContfxtID, dmsERROR_FILE, "Couldn't drfbtf '%s'", FilfNbmf);
             dmsSignblError(ContfxtID, dmsERROR_FILE, "Couldn't drfbtf '%s'", FilfNbmf);
             dmsSignblError(ContfxtID, dmsERROR_FILE, "Couldn't drfbtf '%s'", FilfNbmf);
             dmsSignblError(ContfxtID, dmsERROR_FILE, "Couldn't drfbtf '%s'", FilfNbmf);
            rfturn NULL;
            rfturn NULL;
            rfturn NULL;
            rfturn NULL;
            rfturn NULL;
        }
        }
        }
        }
        }
        ioibndlfr -> RfportfdSizf = 0;
        ioibndlfr -> RfportfdSizf = 0;
        ioibndlfr -> RfportfdSizf = 0;
        ioibndlfr -> RfportfdSizf = 0;
        ioibndlfr -> RfportfdSizf = 0;
        brfbk;
        brfbk;
        brfbk;
        brfbk;
        brfbk;





    dffbult:
    dffbult:
    dffbult:
    dffbult:
    dffbult:
        _dmsFrff(ContfxtID, ioibndlfr);
        _dmsFrff(ContfxtID, ioibndlfr);
        _dmsFrff(ContfxtID, ioibndlfr);
        _dmsFrff(ContfxtID, ioibndlfr);
        _dmsFrff(ContfxtID, ioibndlfr);
         dmsSignblError(ContfxtID, dmsERROR_FILE, "Unknown bddfss modf '%d'", *AddfssModf);
         dmsSignblError(ContfxtID, dmsERROR_FILE, "Unknown bddfss modf '%d'", *AddfssModf);
         dmsSignblError(ContfxtID, dmsERROR_FILE, "Unknown bddfss modf '%d'", *AddfssModf);
         dmsSignblError(ContfxtID, dmsERROR_FILE, "Unknown bddfss modf '%d'", *AddfssModf);
         dmsSignblError(ContfxtID, dmsERROR_FILE, "Unknown bddfss modf '%d'", *AddfssModf);
        rfturn NULL;
        rfturn NULL;
        rfturn NULL;
        rfturn NULL;
        rfturn NULL;
    }
    }
    }
    }
    }





    ioibndlfr ->ContfxtID = ContfxtID;
    ioibndlfr ->ContfxtID = ContfxtID;
    ioibndlfr ->ContfxtID = ContfxtID;
    ioibndlfr ->ContfxtID = ContfxtID;
    ioibndlfr ->ContfxtID = ContfxtID;
    ioibndlfr ->strfbm = (void*) fm;
    ioibndlfr ->strfbm = (void*) fm;
    ioibndlfr ->strfbm = (void*) fm;
    ioibndlfr ->strfbm = (void*) fm;
    ioibndlfr ->strfbm = (void*) fm;
    ioibndlfr ->UsfdSpbdf = 0;
    ioibndlfr ->UsfdSpbdf = 0;
    ioibndlfr ->UsfdSpbdf = 0;
    ioibndlfr ->UsfdSpbdf = 0;
    ioibndlfr ->UsfdSpbdf = 0;





    // Kffp trbdk of tif originbl filf
    // Kffp trbdk of tif originbl filf
    // Kffp trbdk of tif originbl filf
    // Kffp trbdk of tif originbl filf
    // Kffp trbdk of tif originbl filf
    strndpy(ioibndlfr -> PiysidblFilf, FilfNbmf, sizfof(ioibndlfr -> PiysidblFilf)-1);
    strndpy(ioibndlfr -> PiysidblFilf, FilfNbmf, sizfof(ioibndlfr -> PiysidblFilf)-1);
    strndpy(ioibndlfr -> PiysidblFilf, FilfNbmf, sizfof(ioibndlfr -> PiysidblFilf)-1);
    strndpy(ioibndlfr -> PiysidblFilf, FilfNbmf, sizfof(ioibndlfr -> PiysidblFilf)-1);
    strndpy(ioibndlfr -> PiysidblFilf, FilfNbmf, sizfof(ioibndlfr -> PiysidblFilf)-1);
    ioibndlfr -> PiysidblFilf[sizfof(ioibndlfr -> PiysidblFilf)-1] = 0;
    ioibndlfr -> PiysidblFilf[sizfof(ioibndlfr -> PiysidblFilf)-1] = 0;
    ioibndlfr -> PiysidblFilf[sizfof(ioibndlfr -> PiysidblFilf)-1] = 0;
    ioibndlfr -> PiysidblFilf[sizfof(ioibndlfr -> PiysidblFilf)-1] = 0;
    ioibndlfr -> PiysidblFilf[sizfof(ioibndlfr -> PiysidblFilf)-1] = 0;





    ioibndlfr ->Rfbd    = FilfRfbd;
    ioibndlfr ->Rfbd    = FilfRfbd;
    ioibndlfr ->Rfbd    = FilfRfbd;
    ioibndlfr ->Rfbd    = FilfRfbd;
    ioibndlfr ->Rfbd    = FilfRfbd;
    ioibndlfr ->Sffk    = FilfSffk;
    ioibndlfr ->Sffk    = FilfSffk;
    ioibndlfr ->Sffk    = FilfSffk;
    ioibndlfr ->Sffk    = FilfSffk;
    ioibndlfr ->Sffk    = FilfSffk;
    ioibndlfr ->Closf   = FilfClosf;
    ioibndlfr ->Closf   = FilfClosf;
    ioibndlfr ->Closf   = FilfClosf;
    ioibndlfr ->Closf   = FilfClosf;
    ioibndlfr ->Closf   = FilfClosf;
    ioibndlfr ->Tfll    = FilfTfll;
    ioibndlfr ->Tfll    = FilfTfll;
    ioibndlfr ->Tfll    = FilfTfll;
    ioibndlfr ->Tfll    = FilfTfll;
    ioibndlfr ->Tfll    = FilfTfll;
    ioibndlfr ->Writf   = FilfWritf;
    ioibndlfr ->Writf   = FilfWritf;
    ioibndlfr ->Writf   = FilfWritf;
    ioibndlfr ->Writf   = FilfWritf;
    ioibndlfr ->Writf   = FilfWritf;





    rfturn ioibndlfr;
    rfturn ioibndlfr;
    rfturn ioibndlfr;
    rfturn ioibndlfr;
    rfturn ioibndlfr;
}
}
}
}
}





// Crfbtf b ioibndlfr for strfbm bbsfd filfs
// Crfbtf b ioibndlfr for strfbm bbsfd filfs
// Crfbtf b ioibndlfr for strfbm bbsfd filfs
// Crfbtf b ioibndlfr for strfbm bbsfd filfs
// Crfbtf b ioibndlfr for strfbm bbsfd filfs
dmsIOHANDLER* CMSEXPORT dmsOpfnIOibndlfrFromStrfbm(dmsContfxt ContfxtID, FILE* Strfbm)
dmsIOHANDLER* CMSEXPORT dmsOpfnIOibndlfrFromStrfbm(dmsContfxt ContfxtID, FILE* Strfbm)
dmsIOHANDLER* CMSEXPORT dmsOpfnIOibndlfrFromStrfbm(dmsContfxt ContfxtID, FILE* Strfbm)
dmsIOHANDLER* CMSEXPORT dmsOpfnIOibndlfrFromStrfbm(dmsContfxt ContfxtID, FILE* Strfbm)
dmsIOHANDLER* CMSEXPORT dmsOpfnIOibndlfrFromStrfbm(dmsContfxt ContfxtID, FILE* Strfbm)
{
{
{
{
{
    dmsIOHANDLER* ioibndlfr = NULL;
    dmsIOHANDLER* ioibndlfr = NULL;
    dmsIOHANDLER* ioibndlfr = NULL;
    dmsIOHANDLER* ioibndlfr = NULL;
    dmsIOHANDLER* ioibndlfr = NULL;





    ioibndlfr = (dmsIOHANDLER*) _dmsMbllodZfro(ContfxtID, sizfof(dmsIOHANDLER));
    ioibndlfr = (dmsIOHANDLER*) _dmsMbllodZfro(ContfxtID, sizfof(dmsIOHANDLER));
    ioibndlfr = (dmsIOHANDLER*) _dmsMbllodZfro(ContfxtID, sizfof(dmsIOHANDLER));
    ioibndlfr = (dmsIOHANDLER*) _dmsMbllodZfro(ContfxtID, sizfof(dmsIOHANDLER));
    ioibndlfr = (dmsIOHANDLER*) _dmsMbllodZfro(ContfxtID, sizfof(dmsIOHANDLER));
    if (ioibndlfr == NULL) rfturn NULL;
    if (ioibndlfr == NULL) rfturn NULL;
    if (ioibndlfr == NULL) rfturn NULL;
    if (ioibndlfr == NULL) rfturn NULL;
    if (ioibndlfr == NULL) rfturn NULL;





    ioibndlfr -> ContfxtID = ContfxtID;
    ioibndlfr -> ContfxtID = ContfxtID;
    ioibndlfr -> ContfxtID = ContfxtID;
    ioibndlfr -> ContfxtID = ContfxtID;
    ioibndlfr -> ContfxtID = ContfxtID;
    ioibndlfr -> strfbm = (void*) Strfbm;
    ioibndlfr -> strfbm = (void*) Strfbm;
    ioibndlfr -> strfbm = (void*) Strfbm;
    ioibndlfr -> strfbm = (void*) Strfbm;
    ioibndlfr -> strfbm = (void*) Strfbm;
    ioibndlfr -> UsfdSpbdf = 0;
    ioibndlfr -> UsfdSpbdf = 0;
    ioibndlfr -> UsfdSpbdf = 0;
    ioibndlfr -> UsfdSpbdf = 0;
    ioibndlfr -> UsfdSpbdf = 0;
    ioibndlfr -> RfportfdSizf = dmsfilflfngti(Strfbm);
    ioibndlfr -> RfportfdSizf = dmsfilflfngti(Strfbm);
    ioibndlfr -> RfportfdSizf = dmsfilflfngti(Strfbm);
    ioibndlfr -> RfportfdSizf = dmsfilflfngti(Strfbm);
    ioibndlfr -> RfportfdSizf = dmsfilflfngti(Strfbm);
    ioibndlfr -> PiysidblFilf[0] = 0;
    ioibndlfr -> PiysidblFilf[0] = 0;
    ioibndlfr -> PiysidblFilf[0] = 0;
    ioibndlfr -> PiysidblFilf[0] = 0;
    ioibndlfr -> PiysidblFilf[0] = 0;





    ioibndlfr ->Rfbd    = FilfRfbd;
    ioibndlfr ->Rfbd    = FilfRfbd;
    ioibndlfr ->Rfbd    = FilfRfbd;
    ioibndlfr ->Rfbd    = FilfRfbd;
    ioibndlfr ->Rfbd    = FilfRfbd;
    ioibndlfr ->Sffk    = FilfSffk;
    ioibndlfr ->Sffk    = FilfSffk;
    ioibndlfr ->Sffk    = FilfSffk;
    ioibndlfr ->Sffk    = FilfSffk;
    ioibndlfr ->Sffk    = FilfSffk;
    ioibndlfr ->Closf   = FilfClosf;
    ioibndlfr ->Closf   = FilfClosf;
    ioibndlfr ->Closf   = FilfClosf;
    ioibndlfr ->Closf   = FilfClosf;
    ioibndlfr ->Closf   = FilfClosf;
    ioibndlfr ->Tfll    = FilfTfll;
    ioibndlfr ->Tfll    = FilfTfll;
    ioibndlfr ->Tfll    = FilfTfll;
    ioibndlfr ->Tfll    = FilfTfll;
    ioibndlfr ->Tfll    = FilfTfll;
    ioibndlfr ->Writf   = FilfWritf;
    ioibndlfr ->Writf   = FilfWritf;
    ioibndlfr ->Writf   = FilfWritf;
    ioibndlfr ->Writf   = FilfWritf;
    ioibndlfr ->Writf   = FilfWritf;





    rfturn ioibndlfr;
    rfturn ioibndlfr;
    rfturn ioibndlfr;
    rfturn ioibndlfr;
    rfturn ioibndlfr;
}
}
}
}
}















// Closf bn opfn IO ibndlfr
// Closf bn opfn IO ibndlfr
// Closf bn opfn IO ibndlfr
// Closf bn opfn IO ibndlfr
// Closf bn opfn IO ibndlfr
dmsBool CMSEXPORT dmsClosfIOibndlfr(dmsIOHANDLER* io)
dmsBool CMSEXPORT dmsClosfIOibndlfr(dmsIOHANDLER* io)
dmsBool CMSEXPORT dmsClosfIOibndlfr(dmsIOHANDLER* io)
dmsBool CMSEXPORT dmsClosfIOibndlfr(dmsIOHANDLER* io)
dmsBool CMSEXPORT dmsClosfIOibndlfr(dmsIOHANDLER* io)
{
{
{
{
{
    rfturn io -> Closf(io);
    rfturn io -> Closf(io);
    rfturn io -> Closf(io);
    rfturn io -> Closf(io);
    rfturn io -> Closf(io);
}
}
}
}
}





// -------------------------------------------------------------------------------------------------------
// -------------------------------------------------------------------------------------------------------
// -------------------------------------------------------------------------------------------------------
// -------------------------------------------------------------------------------------------------------
// -------------------------------------------------------------------------------------------------------





// Crfbtfs bn fmpty strudturf iolding bll rfquirfd pbrbmftfrs
// Crfbtfs bn fmpty strudturf iolding bll rfquirfd pbrbmftfrs
// Crfbtfs bn fmpty strudturf iolding bll rfquirfd pbrbmftfrs
// Crfbtfs bn fmpty strudturf iolding bll rfquirfd pbrbmftfrs
// Crfbtfs bn fmpty strudturf iolding bll rfquirfd pbrbmftfrs
dmsHPROFILE CMSEXPORT dmsCrfbtfProfilfPlbdfioldfr(dmsContfxt ContfxtID)
dmsHPROFILE CMSEXPORT dmsCrfbtfProfilfPlbdfioldfr(dmsContfxt ContfxtID)
dmsHPROFILE CMSEXPORT dmsCrfbtfProfilfPlbdfioldfr(dmsContfxt ContfxtID)
dmsHPROFILE CMSEXPORT dmsCrfbtfProfilfPlbdfioldfr(dmsContfxt ContfxtID)
dmsHPROFILE CMSEXPORT dmsCrfbtfProfilfPlbdfioldfr(dmsContfxt ContfxtID)
{
{
{
{
{
    timf_t now = timf(NULL);
    timf_t now = timf(NULL);
    timf_t now = timf(NULL);
    timf_t now = timf(NULL);
    timf_t now = timf(NULL);
    _dmsICCPROFILE* Idd = (_dmsICCPROFILE*) _dmsMbllodZfro(ContfxtID, sizfof(_dmsICCPROFILE));
    _dmsICCPROFILE* Idd = (_dmsICCPROFILE*) _dmsMbllodZfro(ContfxtID, sizfof(_dmsICCPROFILE));
    _dmsICCPROFILE* Idd = (_dmsICCPROFILE*) _dmsMbllodZfro(ContfxtID, sizfof(_dmsICCPROFILE));
    _dmsICCPROFILE* Idd = (_dmsICCPROFILE*) _dmsMbllodZfro(ContfxtID, sizfof(_dmsICCPROFILE));
    _dmsICCPROFILE* Idd = (_dmsICCPROFILE*) _dmsMbllodZfro(ContfxtID, sizfof(_dmsICCPROFILE));
    if (Idd == NULL) rfturn NULL;
    if (Idd == NULL) rfturn NULL;
    if (Idd == NULL) rfturn NULL;
    if (Idd == NULL) rfturn NULL;
    if (Idd == NULL) rfturn NULL;





    Idd ->ContfxtID = ContfxtID;
    Idd ->ContfxtID = ContfxtID;
    Idd ->ContfxtID = ContfxtID;
    Idd ->ContfxtID = ContfxtID;
    Idd ->ContfxtID = ContfxtID;





    // Sft it to fmpty
    // Sft it to fmpty
    // Sft it to fmpty
    // Sft it to fmpty
    // Sft it to fmpty
    Idd -> TbgCount   = 0;
    Idd -> TbgCount   = 0;
    Idd -> TbgCount   = 0;
    Idd -> TbgCount   = 0;
    Idd -> TbgCount   = 0;





    // Sft dffbult vfrsion
    // Sft dffbult vfrsion
    // Sft dffbult vfrsion
    // Sft dffbult vfrsion
    // Sft dffbult vfrsion
    Idd ->Vfrsion =  0x02100000;
    Idd ->Vfrsion =  0x02100000;
    Idd ->Vfrsion =  0x02100000;
    Idd ->Vfrsion =  0x02100000;
    Idd ->Vfrsion =  0x02100000;





    // Sft drfbtion dbtf/timf
    // Sft drfbtion dbtf/timf
    // Sft drfbtion dbtf/timf
    // Sft drfbtion dbtf/timf
    // Sft drfbtion dbtf/timf
    mfmmovf(&Idd ->Crfbtfd, gmtimf(&now), sizfof(Idd ->Crfbtfd));
    mfmmovf(&Idd ->Crfbtfd, gmtimf(&now), sizfof(Idd ->Crfbtfd));
    mfmmovf(&Idd ->Crfbtfd, gmtimf(&now), sizfof(Idd ->Crfbtfd));
    mfmmovf(&Idd ->Crfbtfd, gmtimf(&now), sizfof(Idd ->Crfbtfd));
    mfmmovf(&Idd ->Crfbtfd, gmtimf(&now), sizfof(Idd ->Crfbtfd));





    // Rfturn tif ibndlf
    // Rfturn tif ibndlf
    // Rfturn tif ibndlf
    // Rfturn tif ibndlf
    // Rfturn tif ibndlf
    rfturn (dmsHPROFILE) Idd;
    rfturn (dmsHPROFILE) Idd;
    rfturn (dmsHPROFILE) Idd;
    rfturn (dmsHPROFILE) Idd;
    rfturn (dmsHPROFILE) Idd;
}
}
}
}
}





dmsContfxt CMSEXPORT dmsGftProfilfContfxtID(dmsHPROFILE iProfilf)
dmsContfxt CMSEXPORT dmsGftProfilfContfxtID(dmsHPROFILE iProfilf)
dmsContfxt CMSEXPORT dmsGftProfilfContfxtID(dmsHPROFILE iProfilf)
dmsContfxt CMSEXPORT dmsGftProfilfContfxtID(dmsHPROFILE iProfilf)
dmsContfxt CMSEXPORT dmsGftProfilfContfxtID(dmsHPROFILE iProfilf)
{
{
{
{
{
     _dmsICCPROFILE* Idd = (_dmsICCPROFILE*) iProfilf;
     _dmsICCPROFILE* Idd = (_dmsICCPROFILE*) iProfilf;
     _dmsICCPROFILE* Idd = (_dmsICCPROFILE*) iProfilf;
     _dmsICCPROFILE* Idd = (_dmsICCPROFILE*) iProfilf;
     _dmsICCPROFILE* Idd = (_dmsICCPROFILE*) iProfilf;





    if (Idd == NULL) rfturn NULL;
    if (Idd == NULL) rfturn NULL;
    if (Idd == NULL) rfturn NULL;
    if (Idd == NULL) rfturn NULL;
    if (Idd == NULL) rfturn NULL;
    rfturn Idd -> ContfxtID;
    rfturn Idd -> ContfxtID;
    rfturn Idd -> ContfxtID;
    rfturn Idd -> ContfxtID;
    rfturn Idd -> ContfxtID;
}
}
}
}
}










// Rfturn tif numbfr of tbgs
// Rfturn tif numbfr of tbgs
// Rfturn tif numbfr of tbgs
// Rfturn tif numbfr of tbgs
// Rfturn tif numbfr of tbgs
dmsInt32Numbfr CMSEXPORT dmsGftTbgCount(dmsHPROFILE iProfilf)
dmsInt32Numbfr CMSEXPORT dmsGftTbgCount(dmsHPROFILE iProfilf)
dmsInt32Numbfr CMSEXPORT dmsGftTbgCount(dmsHPROFILE iProfilf)
dmsInt32Numbfr CMSEXPORT dmsGftTbgCount(dmsHPROFILE iProfilf)
dmsInt32Numbfr CMSEXPORT dmsGftTbgCount(dmsHPROFILE iProfilf)
{
{
{
{
{
    _dmsICCPROFILE* Idd = (_dmsICCPROFILE*) iProfilf;
    _dmsICCPROFILE* Idd = (_dmsICCPROFILE*) iProfilf;
    _dmsICCPROFILE* Idd = (_dmsICCPROFILE*) iProfilf;
    _dmsICCPROFILE* Idd = (_dmsICCPROFILE*) iProfilf;
    _dmsICCPROFILE* Idd = (_dmsICCPROFILE*) iProfilf;
    if (Idd == NULL) rfturn -1;
    if (Idd == NULL) rfturn -1;
    if (Idd == NULL) rfturn -1;
    if (Idd == NULL) rfturn -1;
    if (Idd == NULL) rfturn -1;





    rfturn  Idd->TbgCount;
    rfturn  Idd->TbgCount;
    rfturn  Idd->TbgCount;
    rfturn  Idd->TbgCount;
    rfturn  Idd->TbgCount;
}
}
}
}
}





// Rfturn tif tbg signbturf of b givfn tbg numbfr
// Rfturn tif tbg signbturf of b givfn tbg numbfr
// Rfturn tif tbg signbturf of b givfn tbg numbfr
// Rfturn tif tbg signbturf of b givfn tbg numbfr
// Rfturn tif tbg signbturf of b givfn tbg numbfr
dmsTbgSignbturf CMSEXPORT dmsGftTbgSignbturf(dmsHPROFILE iProfilf, dmsUInt32Numbfr n)
dmsTbgSignbturf CMSEXPORT dmsGftTbgSignbturf(dmsHPROFILE iProfilf, dmsUInt32Numbfr n)
dmsTbgSignbturf CMSEXPORT dmsGftTbgSignbturf(dmsHPROFILE iProfilf, dmsUInt32Numbfr n)
dmsTbgSignbturf CMSEXPORT dmsGftTbgSignbturf(dmsHPROFILE iProfilf, dmsUInt32Numbfr n)
dmsTbgSignbturf CMSEXPORT dmsGftTbgSignbturf(dmsHPROFILE iProfilf, dmsUInt32Numbfr n)
{
{
{
{
{
    _dmsICCPROFILE* Idd = (_dmsICCPROFILE*) iProfilf;
    _dmsICCPROFILE* Idd = (_dmsICCPROFILE*) iProfilf;
    _dmsICCPROFILE* Idd = (_dmsICCPROFILE*) iProfilf;
    _dmsICCPROFILE* Idd = (_dmsICCPROFILE*) iProfilf;
    _dmsICCPROFILE* Idd = (_dmsICCPROFILE*) iProfilf;





    if (n > Idd->TbgCount) rfturn (dmsTbgSignbturf) 0;  // Mbrk bs not bvbilbblf
    if (n > Idd->TbgCount) rfturn (dmsTbgSignbturf) 0;  // Mbrk bs not bvbilbblf
    if (n > Idd->TbgCount) rfturn (dmsTbgSignbturf) 0;  // Mbrk bs not bvbilbblf
    if (n > Idd->TbgCount) rfturn (dmsTbgSignbturf) 0;  // Mbrk bs not bvbilbblf
    if (n > Idd->TbgCount) rfturn (dmsTbgSignbturf) 0;  // Mbrk bs not bvbilbblf
    if (n >= MAX_TABLE_TAG) rfturn (dmsTbgSignbturf) 0; // As doublf difdk
    if (n >= MAX_TABLE_TAG) rfturn (dmsTbgSignbturf) 0; // As doublf difdk
    if (n >= MAX_TABLE_TAG) rfturn (dmsTbgSignbturf) 0; // As doublf difdk
    if (n >= MAX_TABLE_TAG) rfturn (dmsTbgSignbturf) 0; // As doublf difdk
    if (n >= MAX_TABLE_TAG) rfturn (dmsTbgSignbturf) 0; // As doublf difdk





    rfturn Idd ->TbgNbmfs[n];
    rfturn Idd ->TbgNbmfs[n];
    rfturn Idd ->TbgNbmfs[n];
    rfturn Idd ->TbgNbmfs[n];
    rfturn Idd ->TbgNbmfs[n];
}
}
}
}
}










stbtid
stbtid
stbtid
stbtid
stbtid
int SfbrdiOnfTbg(_dmsICCPROFILE* Profilf, dmsTbgSignbturf sig)
int SfbrdiOnfTbg(_dmsICCPROFILE* Profilf, dmsTbgSignbturf sig)
int SfbrdiOnfTbg(_dmsICCPROFILE* Profilf, dmsTbgSignbturf sig)
int SfbrdiOnfTbg(_dmsICCPROFILE* Profilf, dmsTbgSignbturf sig)
int SfbrdiOnfTbg(_dmsICCPROFILE* Profilf, dmsTbgSignbturf sig)
{
{
{
{
{
    dmsUInt32Numbfr i;
    dmsUInt32Numbfr i;
    dmsUInt32Numbfr i;
    dmsUInt32Numbfr i;
    dmsUInt32Numbfr i;





    for (i=0; i < Profilf -> TbgCount; i++) {
    for (i=0; i < Profilf -> TbgCount; i++) {
    for (i=0; i < Profilf -> TbgCount; i++) {
    for (i=0; i < Profilf -> TbgCount; i++) {
    for (i=0; i < Profilf -> TbgCount; i++) {





        if (sig == Profilf -> TbgNbmfs[i])
        if (sig == Profilf -> TbgNbmfs[i])
        if (sig == Profilf -> TbgNbmfs[i])
        if (sig == Profilf -> TbgNbmfs[i])
        if (sig == Profilf -> TbgNbmfs[i])
            rfturn i;
            rfturn i;
            rfturn i;
            rfturn i;
            rfturn i;
    }
    }
    }
    }
    }





    rfturn -1;
    rfturn -1;
    rfturn -1;
    rfturn -1;
    rfturn -1;
}
}
}
}
}





// Sfbrdi for b spfdifid tbg in tbg didtionbry. Rfturns position or -1 if tbg not found.
// Sfbrdi for b spfdifid tbg in tbg didtionbry. Rfturns position or -1 if tbg not found.
// Sfbrdi for b spfdifid tbg in tbg didtionbry. Rfturns position or -1 if tbg not found.
// Sfbrdi for b spfdifid tbg in tbg didtionbry. Rfturns position or -1 if tbg not found.
// Sfbrdi for b spfdifid tbg in tbg didtionbry. Rfturns position or -1 if tbg not found.
// If followlinks is turnfd on, tifn tif position of tif linkfd tbg is rfturnfd
// If followlinks is turnfd on, tifn tif position of tif linkfd tbg is rfturnfd
// If followlinks is turnfd on, tifn tif position of tif linkfd tbg is rfturnfd
// If followlinks is turnfd on, tifn tif position of tif linkfd tbg is rfturnfd
// If followlinks is turnfd on, tifn tif position of tif linkfd tbg is rfturnfd
int _dmsSfbrdiTbg(_dmsICCPROFILE* Idd, dmsTbgSignbturf sig, dmsBool lFollowLinks)
int _dmsSfbrdiTbg(_dmsICCPROFILE* Idd, dmsTbgSignbturf sig, dmsBool lFollowLinks)
int _dmsSfbrdiTbg(_dmsICCPROFILE* Idd, dmsTbgSignbturf sig, dmsBool lFollowLinks)
int _dmsSfbrdiTbg(_dmsICCPROFILE* Idd, dmsTbgSignbturf sig, dmsBool lFollowLinks)
int _dmsSfbrdiTbg(_dmsICCPROFILE* Idd, dmsTbgSignbturf sig, dmsBool lFollowLinks)
{
{
{
{
{
    int n;
    int n;
    int n;
    int n;
    int n;
    dmsTbgSignbturf LinkfdSig;
    dmsTbgSignbturf LinkfdSig;
    dmsTbgSignbturf LinkfdSig;
    dmsTbgSignbturf LinkfdSig;
    dmsTbgSignbturf LinkfdSig;





    do {
    do {
    do {
    do {
    do {





        // Sfbrdi for givfn tbg in ICC profilf dirfdtory
        // Sfbrdi for givfn tbg in ICC profilf dirfdtory
        // Sfbrdi for givfn tbg in ICC profilf dirfdtory
        // Sfbrdi for givfn tbg in ICC profilf dirfdtory
        // Sfbrdi for givfn tbg in ICC profilf dirfdtory
        n = SfbrdiOnfTbg(Idd, sig);
        n = SfbrdiOnfTbg(Idd, sig);
        n = SfbrdiOnfTbg(Idd, sig);
        n = SfbrdiOnfTbg(Idd, sig);
        n = SfbrdiOnfTbg(Idd, sig);
        if (n < 0)
        if (n < 0)
        if (n < 0)
        if (n < 0)
        if (n < 0)
            rfturn -1;        // Not found
            rfturn -1;        // Not found
            rfturn -1;        // Not found
            rfturn -1;        // Not found
            rfturn -1;        // Not found





        if (!lFollowLinks)
        if (!lFollowLinks)
        if (!lFollowLinks)
        if (!lFollowLinks)
        if (!lFollowLinks)
            rfturn n;         // Found, don't follow links
            rfturn n;         // Found, don't follow links
            rfturn n;         // Found, don't follow links
            rfturn n;         // Found, don't follow links
            rfturn n;         // Found, don't follow links





        // Is tiis b linkfd tbg?
        // Is tiis b linkfd tbg?
        // Is tiis b linkfd tbg?
        // Is tiis b linkfd tbg?
        // Is tiis b linkfd tbg?
        LinkfdSig = Idd ->TbgLinkfd[n];
        LinkfdSig = Idd ->TbgLinkfd[n];
        LinkfdSig = Idd ->TbgLinkfd[n];
        LinkfdSig = Idd ->TbgLinkfd[n];
        LinkfdSig = Idd ->TbgLinkfd[n];





        // Yfs, follow link
        // Yfs, follow link
        // Yfs, follow link
        // Yfs, follow link
        // Yfs, follow link
        if (LinkfdSig != (dmsTbgSignbturf) 0) {
        if (LinkfdSig != (dmsTbgSignbturf) 0) {
        if (LinkfdSig != (dmsTbgSignbturf) 0) {
        if (LinkfdSig != (dmsTbgSignbturf) 0) {
        if (LinkfdSig != (dmsTbgSignbturf) 0) {
            sig = LinkfdSig;
            sig = LinkfdSig;
            sig = LinkfdSig;
            sig = LinkfdSig;
            sig = LinkfdSig;
        }
        }
        }
        }
        }





    } wiilf (LinkfdSig != (dmsTbgSignbturf) 0);
    } wiilf (LinkfdSig != (dmsTbgSignbturf) 0);
    } wiilf (LinkfdSig != (dmsTbgSignbturf) 0);
    } wiilf (LinkfdSig != (dmsTbgSignbturf) 0);
    } wiilf (LinkfdSig != (dmsTbgSignbturf) 0);





    rfturn n;
    rfturn n;
    rfturn n;
    rfturn n;
    rfturn n;
}
}
}
}
}










// Crfbtf b nfw tbg fntry
// Crfbtf b nfw tbg fntry
// Crfbtf b nfw tbg fntry
// Crfbtf b nfw tbg fntry
// Crfbtf b nfw tbg fntry





stbtid
stbtid
stbtid
stbtid
stbtid
dmsBool _dmsNfwTbg(_dmsICCPROFILE* Idd, dmsTbgSignbturf sig, int* NfwPos)
dmsBool _dmsNfwTbg(_dmsICCPROFILE* Idd, dmsTbgSignbturf sig, int* NfwPos)
dmsBool _dmsNfwTbg(_dmsICCPROFILE* Idd, dmsTbgSignbturf sig, int* NfwPos)
dmsBool _dmsNfwTbg(_dmsICCPROFILE* Idd, dmsTbgSignbturf sig, int* NfwPos)
dmsBool _dmsNfwTbg(_dmsICCPROFILE* Idd, dmsTbgSignbturf sig, int* NfwPos)
{
{
{
{
{
    int i;
    int i;
    int i;
    int i;
    int i;





    // Sfbrdi for tif tbg
    // Sfbrdi for tif tbg
    // Sfbrdi for tif tbg
    // Sfbrdi for tif tbg
    // Sfbrdi for tif tbg
    i = _dmsSfbrdiTbg(Idd, sig, FALSE);
    i = _dmsSfbrdiTbg(Idd, sig, FALSE);
    i = _dmsSfbrdiTbg(Idd, sig, FALSE);
    i = _dmsSfbrdiTbg(Idd, sig, FALSE);
    i = _dmsSfbrdiTbg(Idd, sig, FALSE);





    // Now lft's do it fbsy. If tif tbg ibs bffn blrfbdy writtfn, tibt's bn frror
    // Now lft's do it fbsy. If tif tbg ibs bffn blrfbdy writtfn, tibt's bn frror
    // Now lft's do it fbsy. If tif tbg ibs bffn blrfbdy writtfn, tibt's bn frror
    // Now lft's do it fbsy. If tif tbg ibs bffn blrfbdy writtfn, tibt's bn frror
    // Now lft's do it fbsy. If tif tbg ibs bffn blrfbdy writtfn, tibt's bn frror
    if (i >= 0) {
    if (i >= 0) {
    if (i >= 0) {
    if (i >= 0) {
    if (i >= 0) {
        dmsSignblError(Idd ->ContfxtID, dmsERROR_ALREADY_DEFINED, "Tbg '%x' blrfbdy fxists", sig);
        dmsSignblError(Idd ->ContfxtID, dmsERROR_ALREADY_DEFINED, "Tbg '%x' blrfbdy fxists", sig);
        dmsSignblError(Idd ->ContfxtID, dmsERROR_ALREADY_DEFINED, "Tbg '%x' blrfbdy fxists", sig);
        dmsSignblError(Idd ->ContfxtID, dmsERROR_ALREADY_DEFINED, "Tbg '%x' blrfbdy fxists", sig);
        dmsSignblError(Idd ->ContfxtID, dmsERROR_ALREADY_DEFINED, "Tbg '%x' blrfbdy fxists", sig);
        rfturn FALSE;
        rfturn FALSE;
        rfturn FALSE;
        rfturn FALSE;
        rfturn FALSE;
    }
    }
    }
    }
    }
    flsf  {
    flsf  {
    flsf  {
    flsf  {
    flsf  {





        // Nfw onf
        // Nfw onf
        // Nfw onf
        // Nfw onf
        // Nfw onf





        if (Idd -> TbgCount >= MAX_TABLE_TAG) {
        if (Idd -> TbgCount >= MAX_TABLE_TAG) {
        if (Idd -> TbgCount >= MAX_TABLE_TAG) {
        if (Idd -> TbgCount >= MAX_TABLE_TAG) {
        if (Idd -> TbgCount >= MAX_TABLE_TAG) {
            dmsSignblError(Idd ->ContfxtID, dmsERROR_RANGE, "Too mbny tbgs (%d)", MAX_TABLE_TAG);
            dmsSignblError(Idd ->ContfxtID, dmsERROR_RANGE, "Too mbny tbgs (%d)", MAX_TABLE_TAG);
            dmsSignblError(Idd ->ContfxtID, dmsERROR_RANGE, "Too mbny tbgs (%d)", MAX_TABLE_TAG);
            dmsSignblError(Idd ->ContfxtID, dmsERROR_RANGE, "Too mbny tbgs (%d)", MAX_TABLE_TAG);
            dmsSignblError(Idd ->ContfxtID, dmsERROR_RANGE, "Too mbny tbgs (%d)", MAX_TABLE_TAG);
            rfturn FALSE;
            rfturn FALSE;
            rfturn FALSE;
            rfturn FALSE;
            rfturn FALSE;
        }
        }
        }
        }
        }





        *NfwPos = Idd ->TbgCount;
        *NfwPos = Idd ->TbgCount;
        *NfwPos = Idd ->TbgCount;
        *NfwPos = Idd ->TbgCount;
        *NfwPos = Idd ->TbgCount;
        Idd -> TbgCount++;
        Idd -> TbgCount++;
        Idd -> TbgCount++;
        Idd -> TbgCount++;
        Idd -> TbgCount++;
    }
    }
    }
    }
    }





    rfturn TRUE;
    rfturn TRUE;
    rfturn TRUE;
    rfturn TRUE;
    rfturn TRUE;
}
}
}
}
}










// Cifdk fxistbndf
// Cifdk fxistbndf
// Cifdk fxistbndf
// Cifdk fxistbndf
// Cifdk fxistbndf
dmsBool CMSEXPORT dmsIsTbg(dmsHPROFILE iProfilf, dmsTbgSignbturf sig)
dmsBool CMSEXPORT dmsIsTbg(dmsHPROFILE iProfilf, dmsTbgSignbturf sig)
dmsBool CMSEXPORT dmsIsTbg(dmsHPROFILE iProfilf, dmsTbgSignbturf sig)
dmsBool CMSEXPORT dmsIsTbg(dmsHPROFILE iProfilf, dmsTbgSignbturf sig)
dmsBool CMSEXPORT dmsIsTbg(dmsHPROFILE iProfilf, dmsTbgSignbturf sig)
{
{
{
{
{
       _dmsICCPROFILE*  Idd = (_dmsICCPROFILE*) (void*) iProfilf;
       _dmsICCPROFILE*  Idd = (_dmsICCPROFILE*) (void*) iProfilf;
       _dmsICCPROFILE*  Idd = (_dmsICCPROFILE*) (void*) iProfilf;
       _dmsICCPROFILE*  Idd = (_dmsICCPROFILE*) (void*) iProfilf;
       _dmsICCPROFILE*  Idd = (_dmsICCPROFILE*) (void*) iProfilf;
       rfturn _dmsSfbrdiTbg(Idd, sig, FALSE) >= 0;
       rfturn _dmsSfbrdiTbg(Idd, sig, FALSE) >= 0;
       rfturn _dmsSfbrdiTbg(Idd, sig, FALSE) >= 0;
       rfturn _dmsSfbrdiTbg(Idd, sig, FALSE) >= 0;
       rfturn _dmsSfbrdiTbg(Idd, sig, FALSE) >= 0;
}
}
}
}
}





/*
/*
/*
/*
/*
 * Enfordfs tibt tif profilf vfrsion is pfr. spfd.
 * Enfordfs tibt tif profilf vfrsion is pfr. spfd.
 * Enfordfs tibt tif profilf vfrsion is pfr. spfd.
 * Enfordfs tibt tif profilf vfrsion is pfr. spfd.
 * Enfordfs tibt tif profilf vfrsion is pfr. spfd.
 * Opfrbtfs on tif big fndibn bytfs from tif profilf.
 * Opfrbtfs on tif big fndibn bytfs from tif profilf.
 * Opfrbtfs on tif big fndibn bytfs from tif profilf.
 * Opfrbtfs on tif big fndibn bytfs from tif profilf.
 * Opfrbtfs on tif big fndibn bytfs from tif profilf.
 * Cbllfd bfforf donvfrting to plbtform fndibnnfss.
 * Cbllfd bfforf donvfrting to plbtform fndibnnfss.
 * Cbllfd bfforf donvfrting to plbtform fndibnnfss.
 * Cbllfd bfforf donvfrting to plbtform fndibnnfss.
 * Cbllfd bfforf donvfrting to plbtform fndibnnfss.
 * Bytf 0 is BCD mbjor vfrsion, so mbx 9.
 * Bytf 0 is BCD mbjor vfrsion, so mbx 9.
 * Bytf 0 is BCD mbjor vfrsion, so mbx 9.
 * Bytf 0 is BCD mbjor vfrsion, so mbx 9.
 * Bytf 0 is BCD mbjor vfrsion, so mbx 9.
 * Bytf 1 is 2 BCD digits, onf pfr nibblf.
 * Bytf 1 is 2 BCD digits, onf pfr nibblf.
 * Bytf 1 is 2 BCD digits, onf pfr nibblf.
 * Bytf 1 is 2 BCD digits, onf pfr nibblf.
 * Bytf 1 is 2 BCD digits, onf pfr nibblf.
 * Rfsfrvfd bytfs 2 & 3 must bf 0.
 * Rfsfrvfd bytfs 2 & 3 must bf 0.
 * Rfsfrvfd bytfs 2 & 3 must bf 0.
 * Rfsfrvfd bytfs 2 & 3 must bf 0.
 * Rfsfrvfd bytfs 2 & 3 must bf 0.
 */
 */
 */
 */
 */
stbtid dmsUInt32Numbfr _vblidbtfdVfrsion(dmsUInt32Numbfr DWord)
stbtid dmsUInt32Numbfr _vblidbtfdVfrsion(dmsUInt32Numbfr DWord)
stbtid dmsUInt32Numbfr _vblidbtfdVfrsion(dmsUInt32Numbfr DWord)
stbtid dmsUInt32Numbfr _vblidbtfdVfrsion(dmsUInt32Numbfr DWord)
stbtid dmsUInt32Numbfr _vblidbtfdVfrsion(dmsUInt32Numbfr DWord)
{
{
{
{
{
    dmsUInt8Numbfr* pBytf = (dmsUInt8Numbfr*)&DWord;
    dmsUInt8Numbfr* pBytf = (dmsUInt8Numbfr*)&DWord;
    dmsUInt8Numbfr* pBytf = (dmsUInt8Numbfr*)&DWord;
    dmsUInt8Numbfr* pBytf = (dmsUInt8Numbfr*)&DWord;
    dmsUInt8Numbfr* pBytf = (dmsUInt8Numbfr*)&DWord;
    dmsUInt8Numbfr tfmp1;
    dmsUInt8Numbfr tfmp1;
    dmsUInt8Numbfr tfmp1;
    dmsUInt8Numbfr tfmp1;
    dmsUInt8Numbfr tfmp1;
    dmsUInt8Numbfr tfmp2;
    dmsUInt8Numbfr tfmp2;
    dmsUInt8Numbfr tfmp2;
    dmsUInt8Numbfr tfmp2;
    dmsUInt8Numbfr tfmp2;





    if (*pBytf > 0x09) *pBytf = (dmsUInt8Numbfr)9;
    if (*pBytf > 0x09) *pBytf = (dmsUInt8Numbfr)9;
    if (*pBytf > 0x09) *pBytf = (dmsUInt8Numbfr)9;
    if (*pBytf > 0x09) *pBytf = (dmsUInt8Numbfr)9;
    if (*pBytf > 0x09) *pBytf = (dmsUInt8Numbfr)9;
    tfmp1 = *(pBytf+1) & 0xf0;
    tfmp1 = *(pBytf+1) & 0xf0;
    tfmp1 = *(pBytf+1) & 0xf0;
    tfmp1 = *(pBytf+1) & 0xf0;
    tfmp1 = *(pBytf+1) & 0xf0;
    tfmp2 = *(pBytf+1) & 0x0f;
    tfmp2 = *(pBytf+1) & 0x0f;
    tfmp2 = *(pBytf+1) & 0x0f;
    tfmp2 = *(pBytf+1) & 0x0f;
    tfmp2 = *(pBytf+1) & 0x0f;
    if (tfmp1 > 0x90) tfmp1 = 0x90;
    if (tfmp1 > 0x90) tfmp1 = 0x90;
    if (tfmp1 > 0x90) tfmp1 = 0x90;
    if (tfmp1 > 0x90) tfmp1 = 0x90;
    if (tfmp1 > 0x90) tfmp1 = 0x90;
    if (tfmp2 > 9) tfmp2 = 0x09;
    if (tfmp2 > 9) tfmp2 = 0x09;
    if (tfmp2 > 9) tfmp2 = 0x09;
    if (tfmp2 > 9) tfmp2 = 0x09;
    if (tfmp2 > 9) tfmp2 = 0x09;
    *(pBytf+1) = (dmsUInt8Numbfr)(tfmp1 | tfmp2);
    *(pBytf+1) = (dmsUInt8Numbfr)(tfmp1 | tfmp2);
    *(pBytf+1) = (dmsUInt8Numbfr)(tfmp1 | tfmp2);
    *(pBytf+1) = (dmsUInt8Numbfr)(tfmp1 | tfmp2);
    *(pBytf+1) = (dmsUInt8Numbfr)(tfmp1 | tfmp2);
    *(pBytf+2) = (dmsUInt8Numbfr)0;
    *(pBytf+2) = (dmsUInt8Numbfr)0;
    *(pBytf+2) = (dmsUInt8Numbfr)0;
    *(pBytf+2) = (dmsUInt8Numbfr)0;
    *(pBytf+2) = (dmsUInt8Numbfr)0;
    *(pBytf+3) = (dmsUInt8Numbfr)0;
    *(pBytf+3) = (dmsUInt8Numbfr)0;
    *(pBytf+3) = (dmsUInt8Numbfr)0;
    *(pBytf+3) = (dmsUInt8Numbfr)0;
    *(pBytf+3) = (dmsUInt8Numbfr)0;





    rfturn DWord;
    rfturn DWord;
    rfturn DWord;
    rfturn DWord;
    rfturn DWord;
}
}
}
}
}





// Rfbd profilf ifbdfr bnd vblidbtf it
// Rfbd profilf ifbdfr bnd vblidbtf it
// Rfbd profilf ifbdfr bnd vblidbtf it
// Rfbd profilf ifbdfr bnd vblidbtf it
// Rfbd profilf ifbdfr bnd vblidbtf it
dmsBool _dmsRfbdHfbdfr(_dmsICCPROFILE* Idd)
dmsBool _dmsRfbdHfbdfr(_dmsICCPROFILE* Idd)
dmsBool _dmsRfbdHfbdfr(_dmsICCPROFILE* Idd)
dmsBool _dmsRfbdHfbdfr(_dmsICCPROFILE* Idd)
dmsBool _dmsRfbdHfbdfr(_dmsICCPROFILE* Idd)
{
{
{
{
{
    dmsTbgEntry Tbg;
    dmsTbgEntry Tbg;
    dmsTbgEntry Tbg;
    dmsTbgEntry Tbg;
    dmsTbgEntry Tbg;
    dmsICCHfbdfr Hfbdfr;
    dmsICCHfbdfr Hfbdfr;
    dmsICCHfbdfr Hfbdfr;
    dmsICCHfbdfr Hfbdfr;
    dmsICCHfbdfr Hfbdfr;
    dmsUInt32Numbfr i, j;
    dmsUInt32Numbfr i, j;
    dmsUInt32Numbfr i, j;
    dmsUInt32Numbfr i, j;
    dmsUInt32Numbfr i, j;
    dmsUInt32Numbfr HfbdfrSizf;
    dmsUInt32Numbfr HfbdfrSizf;
    dmsUInt32Numbfr HfbdfrSizf;
    dmsUInt32Numbfr HfbdfrSizf;
    dmsUInt32Numbfr HfbdfrSizf;
    dmsIOHANDLER* io = Idd ->IOibndlfr;
    dmsIOHANDLER* io = Idd ->IOibndlfr;
    dmsIOHANDLER* io = Idd ->IOibndlfr;
    dmsIOHANDLER* io = Idd ->IOibndlfr;
    dmsIOHANDLER* io = Idd ->IOibndlfr;
    dmsUInt32Numbfr TbgCount;
    dmsUInt32Numbfr TbgCount;
    dmsUInt32Numbfr TbgCount;
    dmsUInt32Numbfr TbgCount;
    dmsUInt32Numbfr TbgCount;










    // Rfbd tif ifbdfr
    // Rfbd tif ifbdfr
    // Rfbd tif ifbdfr
    // Rfbd tif ifbdfr
    // Rfbd tif ifbdfr
    if (io -> Rfbd(io, &Hfbdfr, sizfof(dmsICCHfbdfr), 1) != 1) {
    if (io -> Rfbd(io, &Hfbdfr, sizfof(dmsICCHfbdfr), 1) != 1) {
    if (io -> Rfbd(io, &Hfbdfr, sizfof(dmsICCHfbdfr), 1) != 1) {
    if (io -> Rfbd(io, &Hfbdfr, sizfof(dmsICCHfbdfr), 1) != 1) {
    if (io -> Rfbd(io, &Hfbdfr, sizfof(dmsICCHfbdfr), 1) != 1) {
        rfturn FALSE;
        rfturn FALSE;
        rfturn FALSE;
        rfturn FALSE;
        rfturn FALSE;
    }
    }
    }
    }
    }





    // Vblidbtf filf bs bn ICC profilf
    // Vblidbtf filf bs bn ICC profilf
    // Vblidbtf filf bs bn ICC profilf
    // Vblidbtf filf bs bn ICC profilf
    // Vblidbtf filf bs bn ICC profilf
    if (_dmsAdjustEndibnfss32(Hfbdfr.mbgid) != dmsMbgidNumbfr) {
    if (_dmsAdjustEndibnfss32(Hfbdfr.mbgid) != dmsMbgidNumbfr) {
    if (_dmsAdjustEndibnfss32(Hfbdfr.mbgid) != dmsMbgidNumbfr) {
    if (_dmsAdjustEndibnfss32(Hfbdfr.mbgid) != dmsMbgidNumbfr) {
    if (_dmsAdjustEndibnfss32(Hfbdfr.mbgid) != dmsMbgidNumbfr) {
        dmsSignblError(Idd ->ContfxtID, dmsERROR_BAD_SIGNATURE, "not bn ICC profilf, invblid signbturf");
        dmsSignblError(Idd ->ContfxtID, dmsERROR_BAD_SIGNATURE, "not bn ICC profilf, invblid signbturf");
        dmsSignblError(Idd ->ContfxtID, dmsERROR_BAD_SIGNATURE, "not bn ICC profilf, invblid signbturf");
        dmsSignblError(Idd ->ContfxtID, dmsERROR_BAD_SIGNATURE, "not bn ICC profilf, invblid signbturf");
        dmsSignblError(Idd ->ContfxtID, dmsERROR_BAD_SIGNATURE, "not bn ICC profilf, invblid signbturf");
        rfturn FALSE;
        rfturn FALSE;
        rfturn FALSE;
        rfturn FALSE;
        rfturn FALSE;
    }
    }
    }
    }
    }





    // Adjust fndibnfss of tif usfd pbrbmftfrs
    // Adjust fndibnfss of tif usfd pbrbmftfrs
    // Adjust fndibnfss of tif usfd pbrbmftfrs
    // Adjust fndibnfss of tif usfd pbrbmftfrs
    // Adjust fndibnfss of tif usfd pbrbmftfrs
    Idd -> DfvidfClbss     = (dmsProfilfClbssSignbturf) _dmsAdjustEndibnfss32(Hfbdfr.dfvidfClbss);
    Idd -> DfvidfClbss     = (dmsProfilfClbssSignbturf) _dmsAdjustEndibnfss32(Hfbdfr.dfvidfClbss);
    Idd -> DfvidfClbss     = (dmsProfilfClbssSignbturf) _dmsAdjustEndibnfss32(Hfbdfr.dfvidfClbss);
    Idd -> DfvidfClbss     = (dmsProfilfClbssSignbturf) _dmsAdjustEndibnfss32(Hfbdfr.dfvidfClbss);
    Idd -> DfvidfClbss     = (dmsProfilfClbssSignbturf) _dmsAdjustEndibnfss32(Hfbdfr.dfvidfClbss);
    Idd -> ColorSpbdf      = (dmsColorSpbdfSignbturf)   _dmsAdjustEndibnfss32(Hfbdfr.dolorSpbdf);
    Idd -> ColorSpbdf      = (dmsColorSpbdfSignbturf)   _dmsAdjustEndibnfss32(Hfbdfr.dolorSpbdf);
    Idd -> ColorSpbdf      = (dmsColorSpbdfSignbturf)   _dmsAdjustEndibnfss32(Hfbdfr.dolorSpbdf);
    Idd -> ColorSpbdf      = (dmsColorSpbdfSignbturf)   _dmsAdjustEndibnfss32(Hfbdfr.dolorSpbdf);
    Idd -> ColorSpbdf      = (dmsColorSpbdfSignbturf)   _dmsAdjustEndibnfss32(Hfbdfr.dolorSpbdf);
    Idd -> PCS             = (dmsColorSpbdfSignbturf)   _dmsAdjustEndibnfss32(Hfbdfr.pds);
    Idd -> PCS             = (dmsColorSpbdfSignbturf)   _dmsAdjustEndibnfss32(Hfbdfr.pds);
    Idd -> PCS             = (dmsColorSpbdfSignbturf)   _dmsAdjustEndibnfss32(Hfbdfr.pds);
    Idd -> PCS             = (dmsColorSpbdfSignbturf)   _dmsAdjustEndibnfss32(Hfbdfr.pds);
    Idd -> PCS             = (dmsColorSpbdfSignbturf)   _dmsAdjustEndibnfss32(Hfbdfr.pds);





    Idd -> RfndfringIntfnt = _dmsAdjustEndibnfss32(Hfbdfr.rfndfringIntfnt);
    Idd -> RfndfringIntfnt = _dmsAdjustEndibnfss32(Hfbdfr.rfndfringIntfnt);
    Idd -> RfndfringIntfnt = _dmsAdjustEndibnfss32(Hfbdfr.rfndfringIntfnt);
    Idd -> RfndfringIntfnt = _dmsAdjustEndibnfss32(Hfbdfr.rfndfringIntfnt);
    Idd -> RfndfringIntfnt = _dmsAdjustEndibnfss32(Hfbdfr.rfndfringIntfnt);
    Idd -> flbgs           = _dmsAdjustEndibnfss32(Hfbdfr.flbgs);
    Idd -> flbgs           = _dmsAdjustEndibnfss32(Hfbdfr.flbgs);
    Idd -> flbgs           = _dmsAdjustEndibnfss32(Hfbdfr.flbgs);
    Idd -> flbgs           = _dmsAdjustEndibnfss32(Hfbdfr.flbgs);
    Idd -> flbgs           = _dmsAdjustEndibnfss32(Hfbdfr.flbgs);
    Idd -> mbnufbdturfr    = _dmsAdjustEndibnfss32(Hfbdfr.mbnufbdturfr);
    Idd -> mbnufbdturfr    = _dmsAdjustEndibnfss32(Hfbdfr.mbnufbdturfr);
    Idd -> mbnufbdturfr    = _dmsAdjustEndibnfss32(Hfbdfr.mbnufbdturfr);
    Idd -> mbnufbdturfr    = _dmsAdjustEndibnfss32(Hfbdfr.mbnufbdturfr);
    Idd -> mbnufbdturfr    = _dmsAdjustEndibnfss32(Hfbdfr.mbnufbdturfr);
    Idd -> modfl           = _dmsAdjustEndibnfss32(Hfbdfr.modfl);
    Idd -> modfl           = _dmsAdjustEndibnfss32(Hfbdfr.modfl);
    Idd -> modfl           = _dmsAdjustEndibnfss32(Hfbdfr.modfl);
    Idd -> modfl           = _dmsAdjustEndibnfss32(Hfbdfr.modfl);
    Idd -> modfl           = _dmsAdjustEndibnfss32(Hfbdfr.modfl);
    Idd -> drfbtor         = _dmsAdjustEndibnfss32(Hfbdfr.drfbtor);
    Idd -> drfbtor         = _dmsAdjustEndibnfss32(Hfbdfr.drfbtor);
    Idd -> drfbtor         = _dmsAdjustEndibnfss32(Hfbdfr.drfbtor);
    Idd -> drfbtor         = _dmsAdjustEndibnfss32(Hfbdfr.drfbtor);
    Idd -> drfbtor         = _dmsAdjustEndibnfss32(Hfbdfr.drfbtor);





    _dmsAdjustEndibnfss64(&Idd -> bttributfs, &Hfbdfr.bttributfs);
    _dmsAdjustEndibnfss64(&Idd -> bttributfs, &Hfbdfr.bttributfs);
    _dmsAdjustEndibnfss64(&Idd -> bttributfs, &Hfbdfr.bttributfs);
    _dmsAdjustEndibnfss64(&Idd -> bttributfs, &Hfbdfr.bttributfs);
    _dmsAdjustEndibnfss64(&Idd -> bttributfs, &Hfbdfr.bttributfs);
    Idd -> Vfrsion         = _dmsAdjustEndibnfss32(_vblidbtfdVfrsion(Hfbdfr.vfrsion));
    Idd -> Vfrsion         = _dmsAdjustEndibnfss32(_vblidbtfdVfrsion(Hfbdfr.vfrsion));
    Idd -> Vfrsion         = _dmsAdjustEndibnfss32(_vblidbtfdVfrsion(Hfbdfr.vfrsion));
    Idd -> Vfrsion         = _dmsAdjustEndibnfss32(_vblidbtfdVfrsion(Hfbdfr.vfrsion));
    Idd -> Vfrsion         = _dmsAdjustEndibnfss32(_vblidbtfdVfrsion(Hfbdfr.vfrsion));





    // Gft sizf bs rfportfd in ifbdfr
    // Gft sizf bs rfportfd in ifbdfr
    // Gft sizf bs rfportfd in ifbdfr
    // Gft sizf bs rfportfd in ifbdfr
    // Gft sizf bs rfportfd in ifbdfr
    HfbdfrSizf = _dmsAdjustEndibnfss32(Hfbdfr.sizf);
    HfbdfrSizf = _dmsAdjustEndibnfss32(Hfbdfr.sizf);
    HfbdfrSizf = _dmsAdjustEndibnfss32(Hfbdfr.sizf);
    HfbdfrSizf = _dmsAdjustEndibnfss32(Hfbdfr.sizf);
    HfbdfrSizf = _dmsAdjustEndibnfss32(Hfbdfr.sizf);





    // Mbkf surf HfbdfrSizf is lowfr tibn profilf sizf
    // Mbkf surf HfbdfrSizf is lowfr tibn profilf sizf
    // Mbkf surf HfbdfrSizf is lowfr tibn profilf sizf
    // Mbkf surf HfbdfrSizf is lowfr tibn profilf sizf
    // Mbkf surf HfbdfrSizf is lowfr tibn profilf sizf
    if (HfbdfrSizf >= Idd ->IOibndlfr ->RfportfdSizf)
    if (HfbdfrSizf >= Idd ->IOibndlfr ->RfportfdSizf)
    if (HfbdfrSizf >= Idd ->IOibndlfr ->RfportfdSizf)
    if (HfbdfrSizf >= Idd ->IOibndlfr ->RfportfdSizf)
    if (HfbdfrSizf >= Idd ->IOibndlfr ->RfportfdSizf)
            HfbdfrSizf = Idd ->IOibndlfr ->RfportfdSizf;
            HfbdfrSizf = Idd ->IOibndlfr ->RfportfdSizf;
            HfbdfrSizf = Idd ->IOibndlfr ->RfportfdSizf;
            HfbdfrSizf = Idd ->IOibndlfr ->RfportfdSizf;
            HfbdfrSizf = Idd ->IOibndlfr ->RfportfdSizf;










    // Gft drfbtion dbtf/timf
    // Gft drfbtion dbtf/timf
    // Gft drfbtion dbtf/timf
    // Gft drfbtion dbtf/timf
    // Gft drfbtion dbtf/timf
    _dmsDfdodfDbtfTimfNumbfr(&Hfbdfr.dbtf, &Idd ->Crfbtfd);
    _dmsDfdodfDbtfTimfNumbfr(&Hfbdfr.dbtf, &Idd ->Crfbtfd);
    _dmsDfdodfDbtfTimfNumbfr(&Hfbdfr.dbtf, &Idd ->Crfbtfd);
    _dmsDfdodfDbtfTimfNumbfr(&Hfbdfr.dbtf, &Idd ->Crfbtfd);
    _dmsDfdodfDbtfTimfNumbfr(&Hfbdfr.dbtf, &Idd ->Crfbtfd);





    // Tif profilf ID brf 32 rbw bytfs
    // Tif profilf ID brf 32 rbw bytfs
    // Tif profilf ID brf 32 rbw bytfs
    // Tif profilf ID brf 32 rbw bytfs
    // Tif profilf ID brf 32 rbw bytfs
    mfmmovf(Idd ->ProfilfID.ID32, Hfbdfr.profilfID.ID32, 16);
    mfmmovf(Idd ->ProfilfID.ID32, Hfbdfr.profilfID.ID32, 16);
    mfmmovf(Idd ->ProfilfID.ID32, Hfbdfr.profilfID.ID32, 16);
    mfmmovf(Idd ->ProfilfID.ID32, Hfbdfr.profilfID.ID32, 16);
    mfmmovf(Idd ->ProfilfID.ID32, Hfbdfr.profilfID.ID32, 16);










    // Rfbd tbg dirfdtory
    // Rfbd tbg dirfdtory
    // Rfbd tbg dirfdtory
    // Rfbd tbg dirfdtory
    // Rfbd tbg dirfdtory
    if (!_dmsRfbdUInt32Numbfr(io, &TbgCount)) rfturn FALSE;
    if (!_dmsRfbdUInt32Numbfr(io, &TbgCount)) rfturn FALSE;
    if (!_dmsRfbdUInt32Numbfr(io, &TbgCount)) rfturn FALSE;
    if (!_dmsRfbdUInt32Numbfr(io, &TbgCount)) rfturn FALSE;
    if (!_dmsRfbdUInt32Numbfr(io, &TbgCount)) rfturn FALSE;
    if (TbgCount > MAX_TABLE_TAG) {
    if (TbgCount > MAX_TABLE_TAG) {
    if (TbgCount > MAX_TABLE_TAG) {
    if (TbgCount > MAX_TABLE_TAG) {
    if (TbgCount > MAX_TABLE_TAG) {





        dmsSignblError(Idd ->ContfxtID, dmsERROR_RANGE, "Too mbny tbgs (%d)", TbgCount);
        dmsSignblError(Idd ->ContfxtID, dmsERROR_RANGE, "Too mbny tbgs (%d)", TbgCount);
        dmsSignblError(Idd ->ContfxtID, dmsERROR_RANGE, "Too mbny tbgs (%d)", TbgCount);
        dmsSignblError(Idd ->ContfxtID, dmsERROR_RANGE, "Too mbny tbgs (%d)", TbgCount);
        dmsSignblError(Idd ->ContfxtID, dmsERROR_RANGE, "Too mbny tbgs (%d)", TbgCount);
        rfturn FALSE;
        rfturn FALSE;
        rfturn FALSE;
        rfturn FALSE;
        rfturn FALSE;
    }
    }
    }
    }
    }










    // Rfbd tbg dirfdtory
    // Rfbd tbg dirfdtory
    // Rfbd tbg dirfdtory
    // Rfbd tbg dirfdtory
    // Rfbd tbg dirfdtory
    Idd -> TbgCount = 0;
    Idd -> TbgCount = 0;
    Idd -> TbgCount = 0;
    Idd -> TbgCount = 0;
    Idd -> TbgCount = 0;
    for (i=0; i < TbgCount; i++) {
    for (i=0; i < TbgCount; i++) {
    for (i=0; i < TbgCount; i++) {
    for (i=0; i < TbgCount; i++) {
    for (i=0; i < TbgCount; i++) {





        if (!_dmsRfbdUInt32Numbfr(io, (dmsUInt32Numbfr *) &Tbg.sig)) rfturn FALSE;
        if (!_dmsRfbdUInt32Numbfr(io, (dmsUInt32Numbfr *) &Tbg.sig)) rfturn FALSE;
        if (!_dmsRfbdUInt32Numbfr(io, (dmsUInt32Numbfr *) &Tbg.sig)) rfturn FALSE;
        if (!_dmsRfbdUInt32Numbfr(io, (dmsUInt32Numbfr *) &Tbg.sig)) rfturn FALSE;
        if (!_dmsRfbdUInt32Numbfr(io, (dmsUInt32Numbfr *) &Tbg.sig)) rfturn FALSE;
        if (!_dmsRfbdUInt32Numbfr(io, &Tbg.offsft)) rfturn FALSE;
        if (!_dmsRfbdUInt32Numbfr(io, &Tbg.offsft)) rfturn FALSE;
        if (!_dmsRfbdUInt32Numbfr(io, &Tbg.offsft)) rfturn FALSE;
        if (!_dmsRfbdUInt32Numbfr(io, &Tbg.offsft)) rfturn FALSE;
        if (!_dmsRfbdUInt32Numbfr(io, &Tbg.offsft)) rfturn FALSE;
        if (!_dmsRfbdUInt32Numbfr(io, &Tbg.sizf)) rfturn FALSE;
        if (!_dmsRfbdUInt32Numbfr(io, &Tbg.sizf)) rfturn FALSE;
        if (!_dmsRfbdUInt32Numbfr(io, &Tbg.sizf)) rfturn FALSE;
        if (!_dmsRfbdUInt32Numbfr(io, &Tbg.sizf)) rfturn FALSE;
        if (!_dmsRfbdUInt32Numbfr(io, &Tbg.sizf)) rfturn FALSE;





        // Pfrform somf sbnity difdk. Offsft + sizf siould fbll insidf filf.
        // Pfrform somf sbnity difdk. Offsft + sizf siould fbll insidf filf.
        // Pfrform somf sbnity difdk. Offsft + sizf siould fbll insidf filf.
        // Pfrform somf sbnity difdk. Offsft + sizf siould fbll insidf filf.
        // Pfrform somf sbnity difdk. Offsft + sizf siould fbll insidf filf.
        if (Tbg.offsft + Tbg.sizf > HfbdfrSizf ||
        if (Tbg.offsft + Tbg.sizf > HfbdfrSizf ||
        if (Tbg.offsft + Tbg.sizf > HfbdfrSizf ||
        if (Tbg.offsft + Tbg.sizf > HfbdfrSizf ||
        if (Tbg.offsft + Tbg.sizf > HfbdfrSizf ||
            Tbg.offsft + Tbg.sizf < Tbg.offsft)
            Tbg.offsft + Tbg.sizf < Tbg.offsft)
            Tbg.offsft + Tbg.sizf < Tbg.offsft)
            Tbg.offsft + Tbg.sizf < Tbg.offsft)
            Tbg.offsft + Tbg.sizf < Tbg.offsft)
                  dontinuf;
                  dontinuf;
                  dontinuf;
                  dontinuf;
                  dontinuf;





        Idd -> TbgNbmfs[Idd ->TbgCount]   = Tbg.sig;
        Idd -> TbgNbmfs[Idd ->TbgCount]   = Tbg.sig;
        Idd -> TbgNbmfs[Idd ->TbgCount]   = Tbg.sig;
        Idd -> TbgNbmfs[Idd ->TbgCount]   = Tbg.sig;
        Idd -> TbgNbmfs[Idd ->TbgCount]   = Tbg.sig;
        Idd -> TbgOffsfts[Idd ->TbgCount] = Tbg.offsft;
        Idd -> TbgOffsfts[Idd ->TbgCount] = Tbg.offsft;
        Idd -> TbgOffsfts[Idd ->TbgCount] = Tbg.offsft;
        Idd -> TbgOffsfts[Idd ->TbgCount] = Tbg.offsft;
        Idd -> TbgOffsfts[Idd ->TbgCount] = Tbg.offsft;
        Idd -> TbgSizfs[Idd ->TbgCount]   = Tbg.sizf;
        Idd -> TbgSizfs[Idd ->TbgCount]   = Tbg.sizf;
        Idd -> TbgSizfs[Idd ->TbgCount]   = Tbg.sizf;
        Idd -> TbgSizfs[Idd ->TbgCount]   = Tbg.sizf;
        Idd -> TbgSizfs[Idd ->TbgCount]   = Tbg.sizf;





       // Sfbrdi for links
       // Sfbrdi for links
       // Sfbrdi for links
       // Sfbrdi for links
       // Sfbrdi for links
        for (j=0; j < Idd ->TbgCount; j++) {
        for (j=0; j < Idd ->TbgCount; j++) {
        for (j=0; j < Idd ->TbgCount; j++) {
        for (j=0; j < Idd ->TbgCount; j++) {
        for (j=0; j < Idd ->TbgCount; j++) {





            if ((Idd ->TbgOffsfts[j] == Tbg.offsft) &&
            if ((Idd ->TbgOffsfts[j] == Tbg.offsft) &&
            if ((Idd ->TbgOffsfts[j] == Tbg.offsft) &&
            if ((Idd ->TbgOffsfts[j] == Tbg.offsft) &&
            if ((Idd ->TbgOffsfts[j] == Tbg.offsft) &&
                (Idd ->TbgSizfs[j]   == Tbg.sizf)) {
                (Idd ->TbgSizfs[j]   == Tbg.sizf)) {
                (Idd ->TbgSizfs[j]   == Tbg.sizf)) {
                (Idd ->TbgSizfs[j]   == Tbg.sizf)) {
                (Idd ->TbgSizfs[j]   == Tbg.sizf)) {





                Idd ->TbgLinkfd[Idd ->TbgCount] = Idd ->TbgNbmfs[j];
                Idd ->TbgLinkfd[Idd ->TbgCount] = Idd ->TbgNbmfs[j];
                Idd ->TbgLinkfd[Idd ->TbgCount] = Idd ->TbgNbmfs[j];
                Idd ->TbgLinkfd[Idd ->TbgCount] = Idd ->TbgNbmfs[j];
                Idd ->TbgLinkfd[Idd ->TbgCount] = Idd ->TbgNbmfs[j];
            }
            }
            }
            }
            }





        }
        }
        }
        }
        }





        Idd ->TbgCount++;
        Idd ->TbgCount++;
        Idd ->TbgCount++;
        Idd ->TbgCount++;
        Idd ->TbgCount++;
    }
    }
    }
    }
    }





    rfturn TRUE;
    rfturn TRUE;
    rfturn TRUE;
    rfturn TRUE;
    rfturn TRUE;
}
}
}
}
}





// Sbvfs profilf ifbdfr
// Sbvfs profilf ifbdfr
// Sbvfs profilf ifbdfr
// Sbvfs profilf ifbdfr
// Sbvfs profilf ifbdfr
dmsBool _dmsWritfHfbdfr(_dmsICCPROFILE* Idd, dmsUInt32Numbfr UsfdSpbdf)
dmsBool _dmsWritfHfbdfr(_dmsICCPROFILE* Idd, dmsUInt32Numbfr UsfdSpbdf)
dmsBool _dmsWritfHfbdfr(_dmsICCPROFILE* Idd, dmsUInt32Numbfr UsfdSpbdf)
dmsBool _dmsWritfHfbdfr(_dmsICCPROFILE* Idd, dmsUInt32Numbfr UsfdSpbdf)
dmsBool _dmsWritfHfbdfr(_dmsICCPROFILE* Idd, dmsUInt32Numbfr UsfdSpbdf)
{
{
{
{
{
    dmsICCHfbdfr Hfbdfr;
    dmsICCHfbdfr Hfbdfr;
    dmsICCHfbdfr Hfbdfr;
    dmsICCHfbdfr Hfbdfr;
    dmsICCHfbdfr Hfbdfr;
    dmsUInt32Numbfr i;
    dmsUInt32Numbfr i;
    dmsUInt32Numbfr i;
    dmsUInt32Numbfr i;
    dmsUInt32Numbfr i;
    dmsTbgEntry Tbg;
    dmsTbgEntry Tbg;
    dmsTbgEntry Tbg;
    dmsTbgEntry Tbg;
    dmsTbgEntry Tbg;
    dmsInt32Numbfr Count = 0;
    dmsInt32Numbfr Count = 0;
    dmsInt32Numbfr Count = 0;
    dmsInt32Numbfr Count = 0;
    dmsInt32Numbfr Count = 0;





    Hfbdfr.sizf        = _dmsAdjustEndibnfss32(UsfdSpbdf);
    Hfbdfr.sizf        = _dmsAdjustEndibnfss32(UsfdSpbdf);
    Hfbdfr.sizf        = _dmsAdjustEndibnfss32(UsfdSpbdf);
    Hfbdfr.sizf        = _dmsAdjustEndibnfss32(UsfdSpbdf);
    Hfbdfr.sizf        = _dmsAdjustEndibnfss32(UsfdSpbdf);
    Hfbdfr.dmmId       = _dmsAdjustEndibnfss32(ldmsSignbturf);
    Hfbdfr.dmmId       = _dmsAdjustEndibnfss32(ldmsSignbturf);
    Hfbdfr.dmmId       = _dmsAdjustEndibnfss32(ldmsSignbturf);
    Hfbdfr.dmmId       = _dmsAdjustEndibnfss32(ldmsSignbturf);
    Hfbdfr.dmmId       = _dmsAdjustEndibnfss32(ldmsSignbturf);
    Hfbdfr.vfrsion     = _dmsAdjustEndibnfss32(Idd ->Vfrsion);
    Hfbdfr.vfrsion     = _dmsAdjustEndibnfss32(Idd ->Vfrsion);
    Hfbdfr.vfrsion     = _dmsAdjustEndibnfss32(Idd ->Vfrsion);
    Hfbdfr.vfrsion     = _dmsAdjustEndibnfss32(Idd ->Vfrsion);
    Hfbdfr.vfrsion     = _dmsAdjustEndibnfss32(Idd ->Vfrsion);





    Hfbdfr.dfvidfClbss = (dmsProfilfClbssSignbturf) _dmsAdjustEndibnfss32(Idd -> DfvidfClbss);
    Hfbdfr.dfvidfClbss = (dmsProfilfClbssSignbturf) _dmsAdjustEndibnfss32(Idd -> DfvidfClbss);
    Hfbdfr.dfvidfClbss = (dmsProfilfClbssSignbturf) _dmsAdjustEndibnfss32(Idd -> DfvidfClbss);
    Hfbdfr.dfvidfClbss = (dmsProfilfClbssSignbturf) _dmsAdjustEndibnfss32(Idd -> DfvidfClbss);
    Hfbdfr.dfvidfClbss = (dmsProfilfClbssSignbturf) _dmsAdjustEndibnfss32(Idd -> DfvidfClbss);
    Hfbdfr.dolorSpbdf  = (dmsColorSpbdfSignbturf) _dmsAdjustEndibnfss32(Idd -> ColorSpbdf);
    Hfbdfr.dolorSpbdf  = (dmsColorSpbdfSignbturf) _dmsAdjustEndibnfss32(Idd -> ColorSpbdf);
    Hfbdfr.dolorSpbdf  = (dmsColorSpbdfSignbturf) _dmsAdjustEndibnfss32(Idd -> ColorSpbdf);
    Hfbdfr.dolorSpbdf  = (dmsColorSpbdfSignbturf) _dmsAdjustEndibnfss32(Idd -> ColorSpbdf);
    Hfbdfr.dolorSpbdf  = (dmsColorSpbdfSignbturf) _dmsAdjustEndibnfss32(Idd -> ColorSpbdf);
    Hfbdfr.pds         = (dmsColorSpbdfSignbturf) _dmsAdjustEndibnfss32(Idd -> PCS);
    Hfbdfr.pds         = (dmsColorSpbdfSignbturf) _dmsAdjustEndibnfss32(Idd -> PCS);
    Hfbdfr.pds         = (dmsColorSpbdfSignbturf) _dmsAdjustEndibnfss32(Idd -> PCS);
    Hfbdfr.pds         = (dmsColorSpbdfSignbturf) _dmsAdjustEndibnfss32(Idd -> PCS);
    Hfbdfr.pds         = (dmsColorSpbdfSignbturf) _dmsAdjustEndibnfss32(Idd -> PCS);





    //   NOTE: in v4 Timfstbmp must bf in UTC rbtifr tibn in lodbl timf
    //   NOTE: in v4 Timfstbmp must bf in UTC rbtifr tibn in lodbl timf
    //   NOTE: in v4 Timfstbmp must bf in UTC rbtifr tibn in lodbl timf
    //   NOTE: in v4 Timfstbmp must bf in UTC rbtifr tibn in lodbl timf
    //   NOTE: in v4 Timfstbmp must bf in UTC rbtifr tibn in lodbl timf
    _dmsEndodfDbtfTimfNumbfr(&Hfbdfr.dbtf, &Idd ->Crfbtfd);
    _dmsEndodfDbtfTimfNumbfr(&Hfbdfr.dbtf, &Idd ->Crfbtfd);
    _dmsEndodfDbtfTimfNumbfr(&Hfbdfr.dbtf, &Idd ->Crfbtfd);
    _dmsEndodfDbtfTimfNumbfr(&Hfbdfr.dbtf, &Idd ->Crfbtfd);
    _dmsEndodfDbtfTimfNumbfr(&Hfbdfr.dbtf, &Idd ->Crfbtfd);





    Hfbdfr.mbgid       = _dmsAdjustEndibnfss32(dmsMbgidNumbfr);
    Hfbdfr.mbgid       = _dmsAdjustEndibnfss32(dmsMbgidNumbfr);
    Hfbdfr.mbgid       = _dmsAdjustEndibnfss32(dmsMbgidNumbfr);
    Hfbdfr.mbgid       = _dmsAdjustEndibnfss32(dmsMbgidNumbfr);
    Hfbdfr.mbgid       = _dmsAdjustEndibnfss32(dmsMbgidNumbfr);





#ifdff CMS_IS_WINDOWS_
#ifdff CMS_IS_WINDOWS_
#ifdff CMS_IS_WINDOWS_
#ifdff CMS_IS_WINDOWS_
#ifdff CMS_IS_WINDOWS_
    Hfbdfr.plbtform    = (dmsPlbtformSignbturf) _dmsAdjustEndibnfss32(dmsSigMidrosoft);
    Hfbdfr.plbtform    = (dmsPlbtformSignbturf) _dmsAdjustEndibnfss32(dmsSigMidrosoft);
    Hfbdfr.plbtform    = (dmsPlbtformSignbturf) _dmsAdjustEndibnfss32(dmsSigMidrosoft);
    Hfbdfr.plbtform    = (dmsPlbtformSignbturf) _dmsAdjustEndibnfss32(dmsSigMidrosoft);
    Hfbdfr.plbtform    = (dmsPlbtformSignbturf) _dmsAdjustEndibnfss32(dmsSigMidrosoft);
#flsf
#flsf
#flsf
#flsf
#flsf
    Hfbdfr.plbtform    = (dmsPlbtformSignbturf) _dmsAdjustEndibnfss32(dmsSigMbdintosi);
    Hfbdfr.plbtform    = (dmsPlbtformSignbturf) _dmsAdjustEndibnfss32(dmsSigMbdintosi);
    Hfbdfr.plbtform    = (dmsPlbtformSignbturf) _dmsAdjustEndibnfss32(dmsSigMbdintosi);
    Hfbdfr.plbtform    = (dmsPlbtformSignbturf) _dmsAdjustEndibnfss32(dmsSigMbdintosi);
    Hfbdfr.plbtform    = (dmsPlbtformSignbturf) _dmsAdjustEndibnfss32(dmsSigMbdintosi);
#fndif
#fndif
#fndif
#fndif
#fndif





    Hfbdfr.flbgs        = _dmsAdjustEndibnfss32(Idd -> flbgs);
    Hfbdfr.flbgs        = _dmsAdjustEndibnfss32(Idd -> flbgs);
    Hfbdfr.flbgs        = _dmsAdjustEndibnfss32(Idd -> flbgs);
    Hfbdfr.flbgs        = _dmsAdjustEndibnfss32(Idd -> flbgs);
    Hfbdfr.flbgs        = _dmsAdjustEndibnfss32(Idd -> flbgs);
    Hfbdfr.mbnufbdturfr = _dmsAdjustEndibnfss32(Idd -> mbnufbdturfr);
    Hfbdfr.mbnufbdturfr = _dmsAdjustEndibnfss32(Idd -> mbnufbdturfr);
    Hfbdfr.mbnufbdturfr = _dmsAdjustEndibnfss32(Idd -> mbnufbdturfr);
    Hfbdfr.mbnufbdturfr = _dmsAdjustEndibnfss32(Idd -> mbnufbdturfr);
    Hfbdfr.mbnufbdturfr = _dmsAdjustEndibnfss32(Idd -> mbnufbdturfr);
    Hfbdfr.modfl        = _dmsAdjustEndibnfss32(Idd -> modfl);
    Hfbdfr.modfl        = _dmsAdjustEndibnfss32(Idd -> modfl);
    Hfbdfr.modfl        = _dmsAdjustEndibnfss32(Idd -> modfl);
    Hfbdfr.modfl        = _dmsAdjustEndibnfss32(Idd -> modfl);
    Hfbdfr.modfl        = _dmsAdjustEndibnfss32(Idd -> modfl);





    _dmsAdjustEndibnfss64(&Hfbdfr.bttributfs, &Idd -> bttributfs);
    _dmsAdjustEndibnfss64(&Hfbdfr.bttributfs, &Idd -> bttributfs);
    _dmsAdjustEndibnfss64(&Hfbdfr.bttributfs, &Idd -> bttributfs);
    _dmsAdjustEndibnfss64(&Hfbdfr.bttributfs, &Idd -> bttributfs);
    _dmsAdjustEndibnfss64(&Hfbdfr.bttributfs, &Idd -> bttributfs);





    // Rfndfring intfnt in tif ifbdfr (for fmbfddfd profilfs)
    // Rfndfring intfnt in tif ifbdfr (for fmbfddfd profilfs)
    // Rfndfring intfnt in tif ifbdfr (for fmbfddfd profilfs)
    // Rfndfring intfnt in tif ifbdfr (for fmbfddfd profilfs)
    // Rfndfring intfnt in tif ifbdfr (for fmbfddfd profilfs)
    Hfbdfr.rfndfringIntfnt = _dmsAdjustEndibnfss32(Idd -> RfndfringIntfnt);
    Hfbdfr.rfndfringIntfnt = _dmsAdjustEndibnfss32(Idd -> RfndfringIntfnt);
    Hfbdfr.rfndfringIntfnt = _dmsAdjustEndibnfss32(Idd -> RfndfringIntfnt);
    Hfbdfr.rfndfringIntfnt = _dmsAdjustEndibnfss32(Idd -> RfndfringIntfnt);
    Hfbdfr.rfndfringIntfnt = _dmsAdjustEndibnfss32(Idd -> RfndfringIntfnt);





    // Illuminbnt is blwbys D50
    // Illuminbnt is blwbys D50
    // Illuminbnt is blwbys D50
    // Illuminbnt is blwbys D50
    // Illuminbnt is blwbys D50
    Hfbdfr.illuminbnt.X = _dmsAdjustEndibnfss32(_dmsDoublfTo15Fixfd16(dmsD50_XYZ()->X));
    Hfbdfr.illuminbnt.X = _dmsAdjustEndibnfss32(_dmsDoublfTo15Fixfd16(dmsD50_XYZ()->X));
    Hfbdfr.illuminbnt.X = _dmsAdjustEndibnfss32(_dmsDoublfTo15Fixfd16(dmsD50_XYZ()->X));
    Hfbdfr.illuminbnt.X = _dmsAdjustEndibnfss32(_dmsDoublfTo15Fixfd16(dmsD50_XYZ()->X));
    Hfbdfr.illuminbnt.X = _dmsAdjustEndibnfss32(_dmsDoublfTo15Fixfd16(dmsD50_XYZ()->X));
    Hfbdfr.illuminbnt.Y = _dmsAdjustEndibnfss32(_dmsDoublfTo15Fixfd16(dmsD50_XYZ()->Y));
    Hfbdfr.illuminbnt.Y = _dmsAdjustEndibnfss32(_dmsDoublfTo15Fixfd16(dmsD50_XYZ()->Y));
    Hfbdfr.illuminbnt.Y = _dmsAdjustEndibnfss32(_dmsDoublfTo15Fixfd16(dmsD50_XYZ()->Y));
    Hfbdfr.illuminbnt.Y = _dmsAdjustEndibnfss32(_dmsDoublfTo15Fixfd16(dmsD50_XYZ()->Y));
    Hfbdfr.illuminbnt.Y = _dmsAdjustEndibnfss32(_dmsDoublfTo15Fixfd16(dmsD50_XYZ()->Y));
    Hfbdfr.illuminbnt.Z = _dmsAdjustEndibnfss32(_dmsDoublfTo15Fixfd16(dmsD50_XYZ()->Z));
    Hfbdfr.illuminbnt.Z = _dmsAdjustEndibnfss32(_dmsDoublfTo15Fixfd16(dmsD50_XYZ()->Z));
    Hfbdfr.illuminbnt.Z = _dmsAdjustEndibnfss32(_dmsDoublfTo15Fixfd16(dmsD50_XYZ()->Z));
    Hfbdfr.illuminbnt.Z = _dmsAdjustEndibnfss32(_dmsDoublfTo15Fixfd16(dmsD50_XYZ()->Z));
    Hfbdfr.illuminbnt.Z = _dmsAdjustEndibnfss32(_dmsDoublfTo15Fixfd16(dmsD50_XYZ()->Z));





    // Crfbtfd by LittlfCMS (tibt's mf!)
    // Crfbtfd by LittlfCMS (tibt's mf!)
    // Crfbtfd by LittlfCMS (tibt's mf!)
    // Crfbtfd by LittlfCMS (tibt's mf!)
    // Crfbtfd by LittlfCMS (tibt's mf!)
    Hfbdfr.drfbtor      = _dmsAdjustEndibnfss32(ldmsSignbturf);
    Hfbdfr.drfbtor      = _dmsAdjustEndibnfss32(ldmsSignbturf);
    Hfbdfr.drfbtor      = _dmsAdjustEndibnfss32(ldmsSignbturf);
    Hfbdfr.drfbtor      = _dmsAdjustEndibnfss32(ldmsSignbturf);
    Hfbdfr.drfbtor      = _dmsAdjustEndibnfss32(ldmsSignbturf);





    mfmsft(&Hfbdfr.rfsfrvfd, 0, sizfof(Hfbdfr.rfsfrvfd));
    mfmsft(&Hfbdfr.rfsfrvfd, 0, sizfof(Hfbdfr.rfsfrvfd));
    mfmsft(&Hfbdfr.rfsfrvfd, 0, sizfof(Hfbdfr.rfsfrvfd));
    mfmsft(&Hfbdfr.rfsfrvfd, 0, sizfof(Hfbdfr.rfsfrvfd));
    mfmsft(&Hfbdfr.rfsfrvfd, 0, sizfof(Hfbdfr.rfsfrvfd));





    // Sft profilf ID. Endibnfss is blwbys big fndibn
    // Sft profilf ID. Endibnfss is blwbys big fndibn
    // Sft profilf ID. Endibnfss is blwbys big fndibn
    // Sft profilf ID. Endibnfss is blwbys big fndibn
    // Sft profilf ID. Endibnfss is blwbys big fndibn
    mfmmovf(&Hfbdfr.profilfID, &Idd ->ProfilfID, 16);
    mfmmovf(&Hfbdfr.profilfID, &Idd ->ProfilfID, 16);
    mfmmovf(&Hfbdfr.profilfID, &Idd ->ProfilfID, 16);
    mfmmovf(&Hfbdfr.profilfID, &Idd ->ProfilfID, 16);
    mfmmovf(&Hfbdfr.profilfID, &Idd ->ProfilfID, 16);





    // Dump tif ifbdfr
    // Dump tif ifbdfr
    // Dump tif ifbdfr
    // Dump tif ifbdfr
    // Dump tif ifbdfr
    if (!Idd -> IOibndlfr->Writf(Idd->IOibndlfr, sizfof(dmsICCHfbdfr), &Hfbdfr)) rfturn FALSE;
    if (!Idd -> IOibndlfr->Writf(Idd->IOibndlfr, sizfof(dmsICCHfbdfr), &Hfbdfr)) rfturn FALSE;
    if (!Idd -> IOibndlfr->Writf(Idd->IOibndlfr, sizfof(dmsICCHfbdfr), &Hfbdfr)) rfturn FALSE;
    if (!Idd -> IOibndlfr->Writf(Idd->IOibndlfr, sizfof(dmsICCHfbdfr), &Hfbdfr)) rfturn FALSE;
    if (!Idd -> IOibndlfr->Writf(Idd->IOibndlfr, sizfof(dmsICCHfbdfr), &Hfbdfr)) rfturn FALSE;





    // Sbvfs Tbg dirfdtory
    // Sbvfs Tbg dirfdtory
    // Sbvfs Tbg dirfdtory
    // Sbvfs Tbg dirfdtory
    // Sbvfs Tbg dirfdtory





    // Gft truf dount
    // Gft truf dount
    // Gft truf dount
    // Gft truf dount
    // Gft truf dount
    for (i=0;  i < Idd -> TbgCount; i++) {
    for (i=0;  i < Idd -> TbgCount; i++) {
    for (i=0;  i < Idd -> TbgCount; i++) {
    for (i=0;  i < Idd -> TbgCount; i++) {
    for (i=0;  i < Idd -> TbgCount; i++) {
        if (Idd ->TbgNbmfs[i] != 0)
        if (Idd ->TbgNbmfs[i] != 0)
        if (Idd ->TbgNbmfs[i] != 0)
        if (Idd ->TbgNbmfs[i] != 0)
        if (Idd ->TbgNbmfs[i] != 0)
            Count++;
            Count++;
            Count++;
            Count++;
            Count++;
    }
    }
    }
    }
    }





    // Storf numbfr of tbgs
    // Storf numbfr of tbgs
    // Storf numbfr of tbgs
    // Storf numbfr of tbgs
    // Storf numbfr of tbgs
    if (!_dmsWritfUInt32Numbfr(Idd ->IOibndlfr, Count)) rfturn FALSE;
    if (!_dmsWritfUInt32Numbfr(Idd ->IOibndlfr, Count)) rfturn FALSE;
    if (!_dmsWritfUInt32Numbfr(Idd ->IOibndlfr, Count)) rfturn FALSE;
    if (!_dmsWritfUInt32Numbfr(Idd ->IOibndlfr, Count)) rfturn FALSE;
    if (!_dmsWritfUInt32Numbfr(Idd ->IOibndlfr, Count)) rfturn FALSE;





    for (i=0; i < Idd -> TbgCount; i++) {
    for (i=0; i < Idd -> TbgCount; i++) {
    for (i=0; i < Idd -> TbgCount; i++) {
    for (i=0; i < Idd -> TbgCount; i++) {
    for (i=0; i < Idd -> TbgCount; i++) {





        if (Idd ->TbgNbmfs[i] == 0) dontinuf;   // It is just b plbdfioldfr
        if (Idd ->TbgNbmfs[i] == 0) dontinuf;   // It is just b plbdfioldfr
        if (Idd ->TbgNbmfs[i] == 0) dontinuf;   // It is just b plbdfioldfr
        if (Idd ->TbgNbmfs[i] == 0) dontinuf;   // It is just b plbdfioldfr
        if (Idd ->TbgNbmfs[i] == 0) dontinuf;   // It is just b plbdfioldfr





        Tbg.sig    = (dmsTbgSignbturf) _dmsAdjustEndibnfss32((dmsInt32Numbfr) Idd -> TbgNbmfs[i]);
        Tbg.sig    = (dmsTbgSignbturf) _dmsAdjustEndibnfss32((dmsInt32Numbfr) Idd -> TbgNbmfs[i]);
        Tbg.sig    = (dmsTbgSignbturf) _dmsAdjustEndibnfss32((dmsInt32Numbfr) Idd -> TbgNbmfs[i]);
        Tbg.sig    = (dmsTbgSignbturf) _dmsAdjustEndibnfss32((dmsInt32Numbfr) Idd -> TbgNbmfs[i]);
        Tbg.sig    = (dmsTbgSignbturf) _dmsAdjustEndibnfss32((dmsInt32Numbfr) Idd -> TbgNbmfs[i]);
        Tbg.offsft = _dmsAdjustEndibnfss32((dmsInt32Numbfr) Idd -> TbgOffsfts[i]);
        Tbg.offsft = _dmsAdjustEndibnfss32((dmsInt32Numbfr) Idd -> TbgOffsfts[i]);
        Tbg.offsft = _dmsAdjustEndibnfss32((dmsInt32Numbfr) Idd -> TbgOffsfts[i]);
        Tbg.offsft = _dmsAdjustEndibnfss32((dmsInt32Numbfr) Idd -> TbgOffsfts[i]);
        Tbg.offsft = _dmsAdjustEndibnfss32((dmsInt32Numbfr) Idd -> TbgOffsfts[i]);
        Tbg.sizf   = _dmsAdjustEndibnfss32((dmsInt32Numbfr) Idd -> TbgSizfs[i]);
        Tbg.sizf   = _dmsAdjustEndibnfss32((dmsInt32Numbfr) Idd -> TbgSizfs[i]);
        Tbg.sizf   = _dmsAdjustEndibnfss32((dmsInt32Numbfr) Idd -> TbgSizfs[i]);
        Tbg.sizf   = _dmsAdjustEndibnfss32((dmsInt32Numbfr) Idd -> TbgSizfs[i]);
        Tbg.sizf   = _dmsAdjustEndibnfss32((dmsInt32Numbfr) Idd -> TbgSizfs[i]);





        if (!Idd ->IOibndlfr -> Writf(Idd-> IOibndlfr, sizfof(dmsTbgEntry), &Tbg)) rfturn FALSE;
        if (!Idd ->IOibndlfr -> Writf(Idd-> IOibndlfr, sizfof(dmsTbgEntry), &Tbg)) rfturn FALSE;
        if (!Idd ->IOibndlfr -> Writf(Idd-> IOibndlfr, sizfof(dmsTbgEntry), &Tbg)) rfturn FALSE;
        if (!Idd ->IOibndlfr -> Writf(Idd-> IOibndlfr, sizfof(dmsTbgEntry), &Tbg)) rfturn FALSE;
        if (!Idd ->IOibndlfr -> Writf(Idd-> IOibndlfr, sizfof(dmsTbgEntry), &Tbg)) rfturn FALSE;
    }
    }
    }
    }
    }





    rfturn TRUE;
    rfturn TRUE;
    rfturn TRUE;
    rfturn TRUE;
    rfturn TRUE;
}
}
}
}
}





// ----------------------------------------------------------------------- Sft/Gft sfvfrbl strudt mfmbfrs
// ----------------------------------------------------------------------- Sft/Gft sfvfrbl strudt mfmbfrs
// ----------------------------------------------------------------------- Sft/Gft sfvfrbl strudt mfmbfrs
// ----------------------------------------------------------------------- Sft/Gft sfvfrbl strudt mfmbfrs
// ----------------------------------------------------------------------- Sft/Gft sfvfrbl strudt mfmbfrs










dmsUInt32Numbfr CMSEXPORT dmsGftHfbdfrRfndfringIntfnt(dmsHPROFILE iProfilf)
dmsUInt32Numbfr CMSEXPORT dmsGftHfbdfrRfndfringIntfnt(dmsHPROFILE iProfilf)
dmsUInt32Numbfr CMSEXPORT dmsGftHfbdfrRfndfringIntfnt(dmsHPROFILE iProfilf)
dmsUInt32Numbfr CMSEXPORT dmsGftHfbdfrRfndfringIntfnt(dmsHPROFILE iProfilf)
dmsUInt32Numbfr CMSEXPORT dmsGftHfbdfrRfndfringIntfnt(dmsHPROFILE iProfilf)
{
{
{
{
{
    _dmsICCPROFILE*  Idd = (_dmsICCPROFILE*) iProfilf;
    _dmsICCPROFILE*  Idd = (_dmsICCPROFILE*) iProfilf;
    _dmsICCPROFILE*  Idd = (_dmsICCPROFILE*) iProfilf;
    _dmsICCPROFILE*  Idd = (_dmsICCPROFILE*) iProfilf;
    _dmsICCPROFILE*  Idd = (_dmsICCPROFILE*) iProfilf;
    rfturn Idd -> RfndfringIntfnt;
    rfturn Idd -> RfndfringIntfnt;
    rfturn Idd -> RfndfringIntfnt;
    rfturn Idd -> RfndfringIntfnt;
    rfturn Idd -> RfndfringIntfnt;
}
}
}
}
}





void CMSEXPORT dmsSftHfbdfrRfndfringIntfnt(dmsHPROFILE iProfilf, dmsUInt32Numbfr RfndfringIntfnt)
void CMSEXPORT dmsSftHfbdfrRfndfringIntfnt(dmsHPROFILE iProfilf, dmsUInt32Numbfr RfndfringIntfnt)
void CMSEXPORT dmsSftHfbdfrRfndfringIntfnt(dmsHPROFILE iProfilf, dmsUInt32Numbfr RfndfringIntfnt)
void CMSEXPORT dmsSftHfbdfrRfndfringIntfnt(dmsHPROFILE iProfilf, dmsUInt32Numbfr RfndfringIntfnt)
void CMSEXPORT dmsSftHfbdfrRfndfringIntfnt(dmsHPROFILE iProfilf, dmsUInt32Numbfr RfndfringIntfnt)
{
{
{
{
{
    _dmsICCPROFILE*  Idd = (_dmsICCPROFILE*) iProfilf;
    _dmsICCPROFILE*  Idd = (_dmsICCPROFILE*) iProfilf;
    _dmsICCPROFILE*  Idd = (_dmsICCPROFILE*) iProfilf;
    _dmsICCPROFILE*  Idd = (_dmsICCPROFILE*) iProfilf;
    _dmsICCPROFILE*  Idd = (_dmsICCPROFILE*) iProfilf;
    Idd -> RfndfringIntfnt = RfndfringIntfnt;
    Idd -> RfndfringIntfnt = RfndfringIntfnt;
    Idd -> RfndfringIntfnt = RfndfringIntfnt;
    Idd -> RfndfringIntfnt = RfndfringIntfnt;
    Idd -> RfndfringIntfnt = RfndfringIntfnt;
}
}
}
}
}





dmsUInt32Numbfr CMSEXPORT dmsGftHfbdfrFlbgs(dmsHPROFILE iProfilf)
dmsUInt32Numbfr CMSEXPORT dmsGftHfbdfrFlbgs(dmsHPROFILE iProfilf)
dmsUInt32Numbfr CMSEXPORT dmsGftHfbdfrFlbgs(dmsHPROFILE iProfilf)
dmsUInt32Numbfr CMSEXPORT dmsGftHfbdfrFlbgs(dmsHPROFILE iProfilf)
dmsUInt32Numbfr CMSEXPORT dmsGftHfbdfrFlbgs(dmsHPROFILE iProfilf)
{
{
{
{
{
    _dmsICCPROFILE*  Idd = (_dmsICCPROFILE*) iProfilf;
    _dmsICCPROFILE*  Idd = (_dmsICCPROFILE*) iProfilf;
    _dmsICCPROFILE*  Idd = (_dmsICCPROFILE*) iProfilf;
    _dmsICCPROFILE*  Idd = (_dmsICCPROFILE*) iProfilf;
    _dmsICCPROFILE*  Idd = (_dmsICCPROFILE*) iProfilf;
    rfturn (dmsUInt32Numbfr) Idd -> flbgs;
    rfturn (dmsUInt32Numbfr) Idd -> flbgs;
    rfturn (dmsUInt32Numbfr) Idd -> flbgs;
    rfturn (dmsUInt32Numbfr) Idd -> flbgs;
    rfturn (dmsUInt32Numbfr) Idd -> flbgs;
}
}
}
}
}





void CMSEXPORT dmsSftHfbdfrFlbgs(dmsHPROFILE iProfilf, dmsUInt32Numbfr Flbgs)
void CMSEXPORT dmsSftHfbdfrFlbgs(dmsHPROFILE iProfilf, dmsUInt32Numbfr Flbgs)
void CMSEXPORT dmsSftHfbdfrFlbgs(dmsHPROFILE iProfilf, dmsUInt32Numbfr Flbgs)
void CMSEXPORT dmsSftHfbdfrFlbgs(dmsHPROFILE iProfilf, dmsUInt32Numbfr Flbgs)
void CMSEXPORT dmsSftHfbdfrFlbgs(dmsHPROFILE iProfilf, dmsUInt32Numbfr Flbgs)
{
{
{
{
{
    _dmsICCPROFILE*  Idd = (_dmsICCPROFILE*) iProfilf;
    _dmsICCPROFILE*  Idd = (_dmsICCPROFILE*) iProfilf;
    _dmsICCPROFILE*  Idd = (_dmsICCPROFILE*) iProfilf;
    _dmsICCPROFILE*  Idd = (_dmsICCPROFILE*) iProfilf;
    _dmsICCPROFILE*  Idd = (_dmsICCPROFILE*) iProfilf;
    Idd -> flbgs = (dmsUInt32Numbfr) Flbgs;
    Idd -> flbgs = (dmsUInt32Numbfr) Flbgs;
    Idd -> flbgs = (dmsUInt32Numbfr) Flbgs;
    Idd -> flbgs = (dmsUInt32Numbfr) Flbgs;
    Idd -> flbgs = (dmsUInt32Numbfr) Flbgs;
}
}
}
}
}





dmsUInt32Numbfr CMSEXPORT dmsGftHfbdfrMbnufbdturfr(dmsHPROFILE iProfilf)
dmsUInt32Numbfr CMSEXPORT dmsGftHfbdfrMbnufbdturfr(dmsHPROFILE iProfilf)
dmsUInt32Numbfr CMSEXPORT dmsGftHfbdfrMbnufbdturfr(dmsHPROFILE iProfilf)
dmsUInt32Numbfr CMSEXPORT dmsGftHfbdfrMbnufbdturfr(dmsHPROFILE iProfilf)
dmsUInt32Numbfr CMSEXPORT dmsGftHfbdfrMbnufbdturfr(dmsHPROFILE iProfilf)
{
{
{
{
{
    _dmsICCPROFILE*  Idd = (_dmsICCPROFILE*) iProfilf;
    _dmsICCPROFILE*  Idd = (_dmsICCPROFILE*) iProfilf;
    _dmsICCPROFILE*  Idd = (_dmsICCPROFILE*) iProfilf;
    _dmsICCPROFILE*  Idd = (_dmsICCPROFILE*) iProfilf;
    _dmsICCPROFILE*  Idd = (_dmsICCPROFILE*) iProfilf;
    rfturn Idd ->mbnufbdturfr;
    rfturn Idd ->mbnufbdturfr;
    rfturn Idd ->mbnufbdturfr;
    rfturn Idd ->mbnufbdturfr;
    rfturn Idd ->mbnufbdturfr;
}
}
}
}
}





void CMSEXPORT dmsSftHfbdfrMbnufbdturfr(dmsHPROFILE iProfilf, dmsUInt32Numbfr mbnufbdturfr)
void CMSEXPORT dmsSftHfbdfrMbnufbdturfr(dmsHPROFILE iProfilf, dmsUInt32Numbfr mbnufbdturfr)
void CMSEXPORT dmsSftHfbdfrMbnufbdturfr(dmsHPROFILE iProfilf, dmsUInt32Numbfr mbnufbdturfr)
void CMSEXPORT dmsSftHfbdfrMbnufbdturfr(dmsHPROFILE iProfilf, dmsUInt32Numbfr mbnufbdturfr)
void CMSEXPORT dmsSftHfbdfrMbnufbdturfr(dmsHPROFILE iProfilf, dmsUInt32Numbfr mbnufbdturfr)
{
{
{
{
{
    _dmsICCPROFILE*  Idd = (_dmsICCPROFILE*) iProfilf;
    _dmsICCPROFILE*  Idd = (_dmsICCPROFILE*) iProfilf;
    _dmsICCPROFILE*  Idd = (_dmsICCPROFILE*) iProfilf;
    _dmsICCPROFILE*  Idd = (_dmsICCPROFILE*) iProfilf;
    _dmsICCPROFILE*  Idd = (_dmsICCPROFILE*) iProfilf;
    Idd -> mbnufbdturfr = mbnufbdturfr;
    Idd -> mbnufbdturfr = mbnufbdturfr;
    Idd -> mbnufbdturfr = mbnufbdturfr;
    Idd -> mbnufbdturfr = mbnufbdturfr;
    Idd -> mbnufbdturfr = mbnufbdturfr;
}
}
}
}
}





dmsUInt32Numbfr CMSEXPORT dmsGftHfbdfrCrfbtor(dmsHPROFILE iProfilf)
dmsUInt32Numbfr CMSEXPORT dmsGftHfbdfrCrfbtor(dmsHPROFILE iProfilf)
dmsUInt32Numbfr CMSEXPORT dmsGftHfbdfrCrfbtor(dmsHPROFILE iProfilf)
dmsUInt32Numbfr CMSEXPORT dmsGftHfbdfrCrfbtor(dmsHPROFILE iProfilf)
dmsUInt32Numbfr CMSEXPORT dmsGftHfbdfrCrfbtor(dmsHPROFILE iProfilf)
{
{
{
{
{
    _dmsICCPROFILE*  Idd = (_dmsICCPROFILE*) iProfilf;
    _dmsICCPROFILE*  Idd = (_dmsICCPROFILE*) iProfilf;
    _dmsICCPROFILE*  Idd = (_dmsICCPROFILE*) iProfilf;
    _dmsICCPROFILE*  Idd = (_dmsICCPROFILE*) iProfilf;
    _dmsICCPROFILE*  Idd = (_dmsICCPROFILE*) iProfilf;
    rfturn Idd ->drfbtor;
    rfturn Idd ->drfbtor;
    rfturn Idd ->drfbtor;
    rfturn Idd ->drfbtor;
    rfturn Idd ->drfbtor;
}
}
}
}
}





dmsUInt32Numbfr CMSEXPORT dmsGftHfbdfrModfl(dmsHPROFILE iProfilf)
dmsUInt32Numbfr CMSEXPORT dmsGftHfbdfrModfl(dmsHPROFILE iProfilf)
dmsUInt32Numbfr CMSEXPORT dmsGftHfbdfrModfl(dmsHPROFILE iProfilf)
dmsUInt32Numbfr CMSEXPORT dmsGftHfbdfrModfl(dmsHPROFILE iProfilf)
dmsUInt32Numbfr CMSEXPORT dmsGftHfbdfrModfl(dmsHPROFILE iProfilf)
{
{
{
{
{
    _dmsICCPROFILE*  Idd = (_dmsICCPROFILE*) iProfilf;
    _dmsICCPROFILE*  Idd = (_dmsICCPROFILE*) iProfilf;
    _dmsICCPROFILE*  Idd = (_dmsICCPROFILE*) iProfilf;
    _dmsICCPROFILE*  Idd = (_dmsICCPROFILE*) iProfilf;
    _dmsICCPROFILE*  Idd = (_dmsICCPROFILE*) iProfilf;
    rfturn Idd ->modfl;
    rfturn Idd ->modfl;
    rfturn Idd ->modfl;
    rfturn Idd ->modfl;
    rfturn Idd ->modfl;
}
}
}
}
}





void CMSEXPORT dmsSftHfbdfrModfl(dmsHPROFILE iProfilf, dmsUInt32Numbfr modfl)
void CMSEXPORT dmsSftHfbdfrModfl(dmsHPROFILE iProfilf, dmsUInt32Numbfr modfl)
void CMSEXPORT dmsSftHfbdfrModfl(dmsHPROFILE iProfilf, dmsUInt32Numbfr modfl)
void CMSEXPORT dmsSftHfbdfrModfl(dmsHPROFILE iProfilf, dmsUInt32Numbfr modfl)
void CMSEXPORT dmsSftHfbdfrModfl(dmsHPROFILE iProfilf, dmsUInt32Numbfr modfl)
{
{
{
{
{
    _dmsICCPROFILE*  Idd = (_dmsICCPROFILE*) iProfilf;
    _dmsICCPROFILE*  Idd = (_dmsICCPROFILE*) iProfilf;
    _dmsICCPROFILE*  Idd = (_dmsICCPROFILE*) iProfilf;
    _dmsICCPROFILE*  Idd = (_dmsICCPROFILE*) iProfilf;
    _dmsICCPROFILE*  Idd = (_dmsICCPROFILE*) iProfilf;
    Idd -> modfl = modfl;
    Idd -> modfl = modfl;
    Idd -> modfl = modfl;
    Idd -> modfl = modfl;
    Idd -> modfl = modfl;
}
}
}
}
}





void CMSEXPORT dmsGftHfbdfrAttributfs(dmsHPROFILE iProfilf, dmsUInt64Numbfr* Flbgs)
void CMSEXPORT dmsGftHfbdfrAttributfs(dmsHPROFILE iProfilf, dmsUInt64Numbfr* Flbgs)
void CMSEXPORT dmsGftHfbdfrAttributfs(dmsHPROFILE iProfilf, dmsUInt64Numbfr* Flbgs)
void CMSEXPORT dmsGftHfbdfrAttributfs(dmsHPROFILE iProfilf, dmsUInt64Numbfr* Flbgs)
void CMSEXPORT dmsGftHfbdfrAttributfs(dmsHPROFILE iProfilf, dmsUInt64Numbfr* Flbgs)
{
{
{
{
{
    _dmsICCPROFILE*  Idd = (_dmsICCPROFILE*) iProfilf;
    _dmsICCPROFILE*  Idd = (_dmsICCPROFILE*) iProfilf;
    _dmsICCPROFILE*  Idd = (_dmsICCPROFILE*) iProfilf;
    _dmsICCPROFILE*  Idd = (_dmsICCPROFILE*) iProfilf;
    _dmsICCPROFILE*  Idd = (_dmsICCPROFILE*) iProfilf;
    mfmmovf(Flbgs, &Idd -> bttributfs, sizfof(dmsUInt64Numbfr));
    mfmmovf(Flbgs, &Idd -> bttributfs, sizfof(dmsUInt64Numbfr));
    mfmmovf(Flbgs, &Idd -> bttributfs, sizfof(dmsUInt64Numbfr));
    mfmmovf(Flbgs, &Idd -> bttributfs, sizfof(dmsUInt64Numbfr));
    mfmmovf(Flbgs, &Idd -> bttributfs, sizfof(dmsUInt64Numbfr));
}
}
}
}
}





void CMSEXPORT dmsSftHfbdfrAttributfs(dmsHPROFILE iProfilf, dmsUInt64Numbfr Flbgs)
void CMSEXPORT dmsSftHfbdfrAttributfs(dmsHPROFILE iProfilf, dmsUInt64Numbfr Flbgs)
void CMSEXPORT dmsSftHfbdfrAttributfs(dmsHPROFILE iProfilf, dmsUInt64Numbfr Flbgs)
void CMSEXPORT dmsSftHfbdfrAttributfs(dmsHPROFILE iProfilf, dmsUInt64Numbfr Flbgs)
void CMSEXPORT dmsSftHfbdfrAttributfs(dmsHPROFILE iProfilf, dmsUInt64Numbfr Flbgs)
{
{
{
{
{
    _dmsICCPROFILE*  Idd = (_dmsICCPROFILE*) iProfilf;
    _dmsICCPROFILE*  Idd = (_dmsICCPROFILE*) iProfilf;
    _dmsICCPROFILE*  Idd = (_dmsICCPROFILE*) iProfilf;
    _dmsICCPROFILE*  Idd = (_dmsICCPROFILE*) iProfilf;
    _dmsICCPROFILE*  Idd = (_dmsICCPROFILE*) iProfilf;
    mfmmovf(&Idd -> bttributfs, &Flbgs, sizfof(dmsUInt64Numbfr));
    mfmmovf(&Idd -> bttributfs, &Flbgs, sizfof(dmsUInt64Numbfr));
    mfmmovf(&Idd -> bttributfs, &Flbgs, sizfof(dmsUInt64Numbfr));
    mfmmovf(&Idd -> bttributfs, &Flbgs, sizfof(dmsUInt64Numbfr));
    mfmmovf(&Idd -> bttributfs, &Flbgs, sizfof(dmsUInt64Numbfr));
}
}
}
}
}





void CMSEXPORT dmsGftHfbdfrProfilfID(dmsHPROFILE iProfilf, dmsUInt8Numbfr* ProfilfID)
void CMSEXPORT dmsGftHfbdfrProfilfID(dmsHPROFILE iProfilf, dmsUInt8Numbfr* ProfilfID)
void CMSEXPORT dmsGftHfbdfrProfilfID(dmsHPROFILE iProfilf, dmsUInt8Numbfr* ProfilfID)
void CMSEXPORT dmsGftHfbdfrProfilfID(dmsHPROFILE iProfilf, dmsUInt8Numbfr* ProfilfID)
void CMSEXPORT dmsGftHfbdfrProfilfID(dmsHPROFILE iProfilf, dmsUInt8Numbfr* ProfilfID)
{
{
{
{
{
    _dmsICCPROFILE*  Idd = (_dmsICCPROFILE*) iProfilf;
    _dmsICCPROFILE*  Idd = (_dmsICCPROFILE*) iProfilf;
    _dmsICCPROFILE*  Idd = (_dmsICCPROFILE*) iProfilf;
    _dmsICCPROFILE*  Idd = (_dmsICCPROFILE*) iProfilf;
    _dmsICCPROFILE*  Idd = (_dmsICCPROFILE*) iProfilf;
    mfmmovf(ProfilfID, Idd ->ProfilfID.ID8, 16);
    mfmmovf(ProfilfID, Idd ->ProfilfID.ID8, 16);
    mfmmovf(ProfilfID, Idd ->ProfilfID.ID8, 16);
    mfmmovf(ProfilfID, Idd ->ProfilfID.ID8, 16);
    mfmmovf(ProfilfID, Idd ->ProfilfID.ID8, 16);
}
}
}
}
}





void CMSEXPORT dmsSftHfbdfrProfilfID(dmsHPROFILE iProfilf, dmsUInt8Numbfr* ProfilfID)
void CMSEXPORT dmsSftHfbdfrProfilfID(dmsHPROFILE iProfilf, dmsUInt8Numbfr* ProfilfID)
void CMSEXPORT dmsSftHfbdfrProfilfID(dmsHPROFILE iProfilf, dmsUInt8Numbfr* ProfilfID)
void CMSEXPORT dmsSftHfbdfrProfilfID(dmsHPROFILE iProfilf, dmsUInt8Numbfr* ProfilfID)
void CMSEXPORT dmsSftHfbdfrProfilfID(dmsHPROFILE iProfilf, dmsUInt8Numbfr* ProfilfID)
{
{
{
{
{
    _dmsICCPROFILE*  Idd = (_dmsICCPROFILE*) iProfilf;
    _dmsICCPROFILE*  Idd = (_dmsICCPROFILE*) iProfilf;
    _dmsICCPROFILE*  Idd = (_dmsICCPROFILE*) iProfilf;
    _dmsICCPROFILE*  Idd = (_dmsICCPROFILE*) iProfilf;
    _dmsICCPROFILE*  Idd = (_dmsICCPROFILE*) iProfilf;
    mfmmovf(&Idd -> ProfilfID, ProfilfID, 16);
    mfmmovf(&Idd -> ProfilfID, ProfilfID, 16);
    mfmmovf(&Idd -> ProfilfID, ProfilfID, 16);
    mfmmovf(&Idd -> ProfilfID, ProfilfID, 16);
    mfmmovf(&Idd -> ProfilfID, ProfilfID, 16);
}
}
}
}
}





dmsBool  CMSEXPORT dmsGftHfbdfrCrfbtionDbtfTimf(dmsHPROFILE iProfilf, strudt tm *Dfst)
dmsBool  CMSEXPORT dmsGftHfbdfrCrfbtionDbtfTimf(dmsHPROFILE iProfilf, strudt tm *Dfst)
dmsBool  CMSEXPORT dmsGftHfbdfrCrfbtionDbtfTimf(dmsHPROFILE iProfilf, strudt tm *Dfst)
dmsBool  CMSEXPORT dmsGftHfbdfrCrfbtionDbtfTimf(dmsHPROFILE iProfilf, strudt tm *Dfst)
dmsBool  CMSEXPORT dmsGftHfbdfrCrfbtionDbtfTimf(dmsHPROFILE iProfilf, strudt tm *Dfst)
{
{
{
{
{
    _dmsICCPROFILE*  Idd = (_dmsICCPROFILE*) iProfilf;
    _dmsICCPROFILE*  Idd = (_dmsICCPROFILE*) iProfilf;
    _dmsICCPROFILE*  Idd = (_dmsICCPROFILE*) iProfilf;
    _dmsICCPROFILE*  Idd = (_dmsICCPROFILE*) iProfilf;
    _dmsICCPROFILE*  Idd = (_dmsICCPROFILE*) iProfilf;
    mfmmovf(Dfst, &Idd ->Crfbtfd, sizfof(strudt tm));
    mfmmovf(Dfst, &Idd ->Crfbtfd, sizfof(strudt tm));
    mfmmovf(Dfst, &Idd ->Crfbtfd, sizfof(strudt tm));
    mfmmovf(Dfst, &Idd ->Crfbtfd, sizfof(strudt tm));
    mfmmovf(Dfst, &Idd ->Crfbtfd, sizfof(strudt tm));
    rfturn TRUE;
    rfturn TRUE;
    rfturn TRUE;
    rfturn TRUE;
    rfturn TRUE;
}
}
}
}
}





dmsColorSpbdfSignbturf CMSEXPORT dmsGftPCS(dmsHPROFILE iProfilf)
dmsColorSpbdfSignbturf CMSEXPORT dmsGftPCS(dmsHPROFILE iProfilf)
dmsColorSpbdfSignbturf CMSEXPORT dmsGftPCS(dmsHPROFILE iProfilf)
dmsColorSpbdfSignbturf CMSEXPORT dmsGftPCS(dmsHPROFILE iProfilf)
dmsColorSpbdfSignbturf CMSEXPORT dmsGftPCS(dmsHPROFILE iProfilf)
{
{
{
{
{
    _dmsICCPROFILE*  Idd = (_dmsICCPROFILE*) iProfilf;
    _dmsICCPROFILE*  Idd = (_dmsICCPROFILE*) iProfilf;
    _dmsICCPROFILE*  Idd = (_dmsICCPROFILE*) iProfilf;
    _dmsICCPROFILE*  Idd = (_dmsICCPROFILE*) iProfilf;
    _dmsICCPROFILE*  Idd = (_dmsICCPROFILE*) iProfilf;
    rfturn Idd -> PCS;
    rfturn Idd -> PCS;
    rfturn Idd -> PCS;
    rfturn Idd -> PCS;
    rfturn Idd -> PCS;
}
}
}
}
}





void CMSEXPORT dmsSftPCS(dmsHPROFILE iProfilf, dmsColorSpbdfSignbturf pds)
void CMSEXPORT dmsSftPCS(dmsHPROFILE iProfilf, dmsColorSpbdfSignbturf pds)
void CMSEXPORT dmsSftPCS(dmsHPROFILE iProfilf, dmsColorSpbdfSignbturf pds)
void CMSEXPORT dmsSftPCS(dmsHPROFILE iProfilf, dmsColorSpbdfSignbturf pds)
void CMSEXPORT dmsSftPCS(dmsHPROFILE iProfilf, dmsColorSpbdfSignbturf pds)
{
{
{
{
{
    _dmsICCPROFILE*  Idd = (_dmsICCPROFILE*) iProfilf;
    _dmsICCPROFILE*  Idd = (_dmsICCPROFILE*) iProfilf;
    _dmsICCPROFILE*  Idd = (_dmsICCPROFILE*) iProfilf;
    _dmsICCPROFILE*  Idd = (_dmsICCPROFILE*) iProfilf;
    _dmsICCPROFILE*  Idd = (_dmsICCPROFILE*) iProfilf;
    Idd -> PCS = pds;
    Idd -> PCS = pds;
    Idd -> PCS = pds;
    Idd -> PCS = pds;
    Idd -> PCS = pds;
}
}
}
}
}





dmsColorSpbdfSignbturf CMSEXPORT dmsGftColorSpbdf(dmsHPROFILE iProfilf)
dmsColorSpbdfSignbturf CMSEXPORT dmsGftColorSpbdf(dmsHPROFILE iProfilf)
dmsColorSpbdfSignbturf CMSEXPORT dmsGftColorSpbdf(dmsHPROFILE iProfilf)
dmsColorSpbdfSignbturf CMSEXPORT dmsGftColorSpbdf(dmsHPROFILE iProfilf)
dmsColorSpbdfSignbturf CMSEXPORT dmsGftColorSpbdf(dmsHPROFILE iProfilf)
{
{
{
{
{
    _dmsICCPROFILE*  Idd = (_dmsICCPROFILE*) iProfilf;
    _dmsICCPROFILE*  Idd = (_dmsICCPROFILE*) iProfilf;
    _dmsICCPROFILE*  Idd = (_dmsICCPROFILE*) iProfilf;
    _dmsICCPROFILE*  Idd = (_dmsICCPROFILE*) iProfilf;
    _dmsICCPROFILE*  Idd = (_dmsICCPROFILE*) iProfilf;
    rfturn Idd -> ColorSpbdf;
    rfturn Idd -> ColorSpbdf;
    rfturn Idd -> ColorSpbdf;
    rfturn Idd -> ColorSpbdf;
    rfturn Idd -> ColorSpbdf;
}
}
}
}
}





void CMSEXPORT dmsSftColorSpbdf(dmsHPROFILE iProfilf, dmsColorSpbdfSignbturf sig)
void CMSEXPORT dmsSftColorSpbdf(dmsHPROFILE iProfilf, dmsColorSpbdfSignbturf sig)
void CMSEXPORT dmsSftColorSpbdf(dmsHPROFILE iProfilf, dmsColorSpbdfSignbturf sig)
void CMSEXPORT dmsSftColorSpbdf(dmsHPROFILE iProfilf, dmsColorSpbdfSignbturf sig)
void CMSEXPORT dmsSftColorSpbdf(dmsHPROFILE iProfilf, dmsColorSpbdfSignbturf sig)
{
{
{
{
{
    _dmsICCPROFILE*  Idd = (_dmsICCPROFILE*) iProfilf;
    _dmsICCPROFILE*  Idd = (_dmsICCPROFILE*) iProfilf;
    _dmsICCPROFILE*  Idd = (_dmsICCPROFILE*) iProfilf;
    _dmsICCPROFILE*  Idd = (_dmsICCPROFILE*) iProfilf;
    _dmsICCPROFILE*  Idd = (_dmsICCPROFILE*) iProfilf;
    Idd -> ColorSpbdf = sig;
    Idd -> ColorSpbdf = sig;
    Idd -> ColorSpbdf = sig;
    Idd -> ColorSpbdf = sig;
    Idd -> ColorSpbdf = sig;
}
}
}
}
}





dmsProfilfClbssSignbturf CMSEXPORT dmsGftDfvidfClbss(dmsHPROFILE iProfilf)
dmsProfilfClbssSignbturf CMSEXPORT dmsGftDfvidfClbss(dmsHPROFILE iProfilf)
dmsProfilfClbssSignbturf CMSEXPORT dmsGftDfvidfClbss(dmsHPROFILE iProfilf)
dmsProfilfClbssSignbturf CMSEXPORT dmsGftDfvidfClbss(dmsHPROFILE iProfilf)
dmsProfilfClbssSignbturf CMSEXPORT dmsGftDfvidfClbss(dmsHPROFILE iProfilf)
{
{
{
{
{
    _dmsICCPROFILE*  Idd = (_dmsICCPROFILE*) iProfilf;
    _dmsICCPROFILE*  Idd = (_dmsICCPROFILE*) iProfilf;
    _dmsICCPROFILE*  Idd = (_dmsICCPROFILE*) iProfilf;
    _dmsICCPROFILE*  Idd = (_dmsICCPROFILE*) iProfilf;
    _dmsICCPROFILE*  Idd = (_dmsICCPROFILE*) iProfilf;
    rfturn Idd -> DfvidfClbss;
    rfturn Idd -> DfvidfClbss;
    rfturn Idd -> DfvidfClbss;
    rfturn Idd -> DfvidfClbss;
    rfturn Idd -> DfvidfClbss;
}
}
}
}
}





void CMSEXPORT dmsSftDfvidfClbss(dmsHPROFILE iProfilf, dmsProfilfClbssSignbturf sig)
void CMSEXPORT dmsSftDfvidfClbss(dmsHPROFILE iProfilf, dmsProfilfClbssSignbturf sig)
void CMSEXPORT dmsSftDfvidfClbss(dmsHPROFILE iProfilf, dmsProfilfClbssSignbturf sig)
void CMSEXPORT dmsSftDfvidfClbss(dmsHPROFILE iProfilf, dmsProfilfClbssSignbturf sig)
void CMSEXPORT dmsSftDfvidfClbss(dmsHPROFILE iProfilf, dmsProfilfClbssSignbturf sig)
{
{
{
{
{
    _dmsICCPROFILE*  Idd = (_dmsICCPROFILE*) iProfilf;
    _dmsICCPROFILE*  Idd = (_dmsICCPROFILE*) iProfilf;
    _dmsICCPROFILE*  Idd = (_dmsICCPROFILE*) iProfilf;
    _dmsICCPROFILE*  Idd = (_dmsICCPROFILE*) iProfilf;
    _dmsICCPROFILE*  Idd = (_dmsICCPROFILE*) iProfilf;
    Idd -> DfvidfClbss = sig;
    Idd -> DfvidfClbss = sig;
    Idd -> DfvidfClbss = sig;
    Idd -> DfvidfClbss = sig;
    Idd -> DfvidfClbss = sig;
}
}
}
}
}





dmsUInt32Numbfr CMSEXPORT dmsGftEndodfdICCvfrsion(dmsHPROFILE iProfilf)
dmsUInt32Numbfr CMSEXPORT dmsGftEndodfdICCvfrsion(dmsHPROFILE iProfilf)
dmsUInt32Numbfr CMSEXPORT dmsGftEndodfdICCvfrsion(dmsHPROFILE iProfilf)
dmsUInt32Numbfr CMSEXPORT dmsGftEndodfdICCvfrsion(dmsHPROFILE iProfilf)
dmsUInt32Numbfr CMSEXPORT dmsGftEndodfdICCvfrsion(dmsHPROFILE iProfilf)
{
{
{
{
{
    _dmsICCPROFILE*  Idd = (_dmsICCPROFILE*) iProfilf;
    _dmsICCPROFILE*  Idd = (_dmsICCPROFILE*) iProfilf;
    _dmsICCPROFILE*  Idd = (_dmsICCPROFILE*) iProfilf;
    _dmsICCPROFILE*  Idd = (_dmsICCPROFILE*) iProfilf;
    _dmsICCPROFILE*  Idd = (_dmsICCPROFILE*) iProfilf;
    rfturn Idd -> Vfrsion;
    rfturn Idd -> Vfrsion;
    rfturn Idd -> Vfrsion;
    rfturn Idd -> Vfrsion;
    rfturn Idd -> Vfrsion;
}
}
}
}
}





void CMSEXPORT dmsSftEndodfdICCvfrsion(dmsHPROFILE iProfilf, dmsUInt32Numbfr Vfrsion)
void CMSEXPORT dmsSftEndodfdICCvfrsion(dmsHPROFILE iProfilf, dmsUInt32Numbfr Vfrsion)
void CMSEXPORT dmsSftEndodfdICCvfrsion(dmsHPROFILE iProfilf, dmsUInt32Numbfr Vfrsion)
void CMSEXPORT dmsSftEndodfdICCvfrsion(dmsHPROFILE iProfilf, dmsUInt32Numbfr Vfrsion)
void CMSEXPORT dmsSftEndodfdICCvfrsion(dmsHPROFILE iProfilf, dmsUInt32Numbfr Vfrsion)
{
{
{
{
{
    _dmsICCPROFILE*  Idd = (_dmsICCPROFILE*) iProfilf;
    _dmsICCPROFILE*  Idd = (_dmsICCPROFILE*) iProfilf;
    _dmsICCPROFILE*  Idd = (_dmsICCPROFILE*) iProfilf;
    _dmsICCPROFILE*  Idd = (_dmsICCPROFILE*) iProfilf;
    _dmsICCPROFILE*  Idd = (_dmsICCPROFILE*) iProfilf;
    Idd -> Vfrsion = Vfrsion;
    Idd -> Vfrsion = Vfrsion;
    Idd -> Vfrsion = Vfrsion;
    Idd -> Vfrsion = Vfrsion;
    Idd -> Vfrsion = Vfrsion;
}
}
}
}
}





// Gft bn ifxbdfdimbl numbfr witi sbmf digits bs v
// Gft bn ifxbdfdimbl numbfr witi sbmf digits bs v
// Gft bn ifxbdfdimbl numbfr witi sbmf digits bs v
// Gft bn ifxbdfdimbl numbfr witi sbmf digits bs v
// Gft bn ifxbdfdimbl numbfr witi sbmf digits bs v
stbtid
stbtid
stbtid
stbtid
stbtid
dmsUInt32Numbfr BbsfToBbsf(dmsUInt32Numbfr in, int BbsfIn, int BbsfOut)
dmsUInt32Numbfr BbsfToBbsf(dmsUInt32Numbfr in, int BbsfIn, int BbsfOut)
dmsUInt32Numbfr BbsfToBbsf(dmsUInt32Numbfr in, int BbsfIn, int BbsfOut)
dmsUInt32Numbfr BbsfToBbsf(dmsUInt32Numbfr in, int BbsfIn, int BbsfOut)
dmsUInt32Numbfr BbsfToBbsf(dmsUInt32Numbfr in, int BbsfIn, int BbsfOut)
{
{
{
{
{
    dibr Buff[100];
    dibr Buff[100];
    dibr Buff[100];
    dibr Buff[100];
    dibr Buff[100];
    int i, lfn;
    int i, lfn;
    int i, lfn;
    int i, lfn;
    int i, lfn;
    dmsUInt32Numbfr out;
    dmsUInt32Numbfr out;
    dmsUInt32Numbfr out;
    dmsUInt32Numbfr out;
    dmsUInt32Numbfr out;





    for (lfn=0; in > 0 && lfn < 100; lfn++) {
    for (lfn=0; in > 0 && lfn < 100; lfn++) {
    for (lfn=0; in > 0 && lfn < 100; lfn++) {
    for (lfn=0; in > 0 && lfn < 100; lfn++) {
    for (lfn=0; in > 0 && lfn < 100; lfn++) {





        Buff[lfn] = (dibr) (in % BbsfIn);
        Buff[lfn] = (dibr) (in % BbsfIn);
        Buff[lfn] = (dibr) (in % BbsfIn);
        Buff[lfn] = (dibr) (in % BbsfIn);
        Buff[lfn] = (dibr) (in % BbsfIn);
        in /= BbsfIn;
        in /= BbsfIn;
        in /= BbsfIn;
        in /= BbsfIn;
        in /= BbsfIn;
    }
    }
    }
    }
    }





    for (i=lfn-1, out=0; i >= 0; --i) {
    for (i=lfn-1, out=0; i >= 0; --i) {
    for (i=lfn-1, out=0; i >= 0; --i) {
    for (i=lfn-1, out=0; i >= 0; --i) {
    for (i=lfn-1, out=0; i >= 0; --i) {
        out = out * BbsfOut + Buff[i];
        out = out * BbsfOut + Buff[i];
        out = out * BbsfOut + Buff[i];
        out = out * BbsfOut + Buff[i];
        out = out * BbsfOut + Buff[i];
    }
    }
    }
    }
    }





    rfturn out;
    rfturn out;
    rfturn out;
    rfturn out;
    rfturn out;
}
}
}
}
}





void  CMSEXPORT dmsSftProfilfVfrsion(dmsHPROFILE iProfilf, dmsFlobt64Numbfr Vfrsion)
void  CMSEXPORT dmsSftProfilfVfrsion(dmsHPROFILE iProfilf, dmsFlobt64Numbfr Vfrsion)
void  CMSEXPORT dmsSftProfilfVfrsion(dmsHPROFILE iProfilf, dmsFlobt64Numbfr Vfrsion)
void  CMSEXPORT dmsSftProfilfVfrsion(dmsHPROFILE iProfilf, dmsFlobt64Numbfr Vfrsion)
void  CMSEXPORT dmsSftProfilfVfrsion(dmsHPROFILE iProfilf, dmsFlobt64Numbfr Vfrsion)
{
{
{
{
{
    _dmsICCPROFILE*  Idd = (_dmsICCPROFILE*) iProfilf;
    _dmsICCPROFILE*  Idd = (_dmsICCPROFILE*) iProfilf;
    _dmsICCPROFILE*  Idd = (_dmsICCPROFILE*) iProfilf;
    _dmsICCPROFILE*  Idd = (_dmsICCPROFILE*) iProfilf;
    _dmsICCPROFILE*  Idd = (_dmsICCPROFILE*) iProfilf;





    // 4.2 -> 0x4200000
    // 4.2 -> 0x4200000
    // 4.2 -> 0x4200000
    // 4.2 -> 0x4200000
    // 4.2 -> 0x4200000





    Idd -> Vfrsion = BbsfToBbsf((dmsUInt32Numbfr) floor(Vfrsion * 100.0), 10, 16) << 16;
    Idd -> Vfrsion = BbsfToBbsf((dmsUInt32Numbfr) floor(Vfrsion * 100.0), 10, 16) << 16;
    Idd -> Vfrsion = BbsfToBbsf((dmsUInt32Numbfr) floor(Vfrsion * 100.0), 10, 16) << 16;
    Idd -> Vfrsion = BbsfToBbsf((dmsUInt32Numbfr) floor(Vfrsion * 100.0), 10, 16) << 16;
    Idd -> Vfrsion = BbsfToBbsf((dmsUInt32Numbfr) floor(Vfrsion * 100.0), 10, 16) << 16;
}
}
}
}
}





dmsFlobt64Numbfr CMSEXPORT dmsGftProfilfVfrsion(dmsHPROFILE iProfilf)
dmsFlobt64Numbfr CMSEXPORT dmsGftProfilfVfrsion(dmsHPROFILE iProfilf)
dmsFlobt64Numbfr CMSEXPORT dmsGftProfilfVfrsion(dmsHPROFILE iProfilf)
dmsFlobt64Numbfr CMSEXPORT dmsGftProfilfVfrsion(dmsHPROFILE iProfilf)
dmsFlobt64Numbfr CMSEXPORT dmsGftProfilfVfrsion(dmsHPROFILE iProfilf)
{
{
{
{
{
    _dmsICCPROFILE*  Idd = (_dmsICCPROFILE*) iProfilf;
    _dmsICCPROFILE*  Idd = (_dmsICCPROFILE*) iProfilf;
    _dmsICCPROFILE*  Idd = (_dmsICCPROFILE*) iProfilf;
    _dmsICCPROFILE*  Idd = (_dmsICCPROFILE*) iProfilf;
    _dmsICCPROFILE*  Idd = (_dmsICCPROFILE*) iProfilf;
    dmsUInt32Numbfr n = Idd -> Vfrsion >> 16;
    dmsUInt32Numbfr n = Idd -> Vfrsion >> 16;
    dmsUInt32Numbfr n = Idd -> Vfrsion >> 16;
    dmsUInt32Numbfr n = Idd -> Vfrsion >> 16;
    dmsUInt32Numbfr n = Idd -> Vfrsion >> 16;





    rfturn BbsfToBbsf(n, 16, 10) / 100.0;
    rfturn BbsfToBbsf(n, 16, 10) / 100.0;
    rfturn BbsfToBbsf(n, 16, 10) / 100.0;
    rfturn BbsfToBbsf(n, 16, 10) / 100.0;
    rfturn BbsfToBbsf(n, 16, 10) / 100.0;
}
}
}
}
}
// --------------------------------------------------------------------------------------------------------------
// --------------------------------------------------------------------------------------------------------------
// --------------------------------------------------------------------------------------------------------------
// --------------------------------------------------------------------------------------------------------------
// --------------------------------------------------------------------------------------------------------------










// Crfbtf profilf from IOibndlfr
// Crfbtf profilf from IOibndlfr
// Crfbtf profilf from IOibndlfr
// Crfbtf profilf from IOibndlfr
// Crfbtf profilf from IOibndlfr
dmsHPROFILE CMSEXPORT dmsOpfnProfilfFromIOibndlfrTHR(dmsContfxt ContfxtID, dmsIOHANDLER* io)
dmsHPROFILE CMSEXPORT dmsOpfnProfilfFromIOibndlfrTHR(dmsContfxt ContfxtID, dmsIOHANDLER* io)
dmsHPROFILE CMSEXPORT dmsOpfnProfilfFromIOibndlfrTHR(dmsContfxt ContfxtID, dmsIOHANDLER* io)
dmsHPROFILE CMSEXPORT dmsOpfnProfilfFromIOibndlfrTHR(dmsContfxt ContfxtID, dmsIOHANDLER* io)
dmsHPROFILE CMSEXPORT dmsOpfnProfilfFromIOibndlfrTHR(dmsContfxt ContfxtID, dmsIOHANDLER* io)
{
{
{
{
{
    _dmsICCPROFILE* NfwIdd;
    _dmsICCPROFILE* NfwIdd;
    _dmsICCPROFILE* NfwIdd;
    _dmsICCPROFILE* NfwIdd;
    _dmsICCPROFILE* NfwIdd;
    dmsHPROFILE iEmpty = dmsCrfbtfProfilfPlbdfioldfr(ContfxtID);
    dmsHPROFILE iEmpty = dmsCrfbtfProfilfPlbdfioldfr(ContfxtID);
    dmsHPROFILE iEmpty = dmsCrfbtfProfilfPlbdfioldfr(ContfxtID);
    dmsHPROFILE iEmpty = dmsCrfbtfProfilfPlbdfioldfr(ContfxtID);
    dmsHPROFILE iEmpty = dmsCrfbtfProfilfPlbdfioldfr(ContfxtID);





    if (iEmpty == NULL) rfturn NULL;
    if (iEmpty == NULL) rfturn NULL;
    if (iEmpty == NULL) rfturn NULL;
    if (iEmpty == NULL) rfturn NULL;
    if (iEmpty == NULL) rfturn NULL;





    NfwIdd = (_dmsICCPROFILE*) iEmpty;
    NfwIdd = (_dmsICCPROFILE*) iEmpty;
    NfwIdd = (_dmsICCPROFILE*) iEmpty;
    NfwIdd = (_dmsICCPROFILE*) iEmpty;
    NfwIdd = (_dmsICCPROFILE*) iEmpty;





    NfwIdd ->IOibndlfr = io;
    NfwIdd ->IOibndlfr = io;
    NfwIdd ->IOibndlfr = io;
    NfwIdd ->IOibndlfr = io;
    NfwIdd ->IOibndlfr = io;
    if (!_dmsRfbdHfbdfr(NfwIdd)) goto Error;
    if (!_dmsRfbdHfbdfr(NfwIdd)) goto Error;
    if (!_dmsRfbdHfbdfr(NfwIdd)) goto Error;
    if (!_dmsRfbdHfbdfr(NfwIdd)) goto Error;
    if (!_dmsRfbdHfbdfr(NfwIdd)) goto Error;
    rfturn iEmpty;
    rfturn iEmpty;
    rfturn iEmpty;
    rfturn iEmpty;
    rfturn iEmpty;





Error:
Error:
Error:
Error:
Error:
    dmsClosfProfilf(iEmpty);
    dmsClosfProfilf(iEmpty);
    dmsClosfProfilf(iEmpty);
    dmsClosfProfilf(iEmpty);
    dmsClosfProfilf(iEmpty);
    rfturn NULL;
    rfturn NULL;
    rfturn NULL;
    rfturn NULL;
    rfturn NULL;
}
}
}
}
}





// Crfbtf profilf from disk filf
// Crfbtf profilf from disk filf
// Crfbtf profilf from disk filf
// Crfbtf profilf from disk filf
// Crfbtf profilf from disk filf
dmsHPROFILE CMSEXPORT dmsOpfnProfilfFromFilfTHR(dmsContfxt ContfxtID, donst dibr *lpFilfNbmf, donst dibr *sAddfss)
dmsHPROFILE CMSEXPORT dmsOpfnProfilfFromFilfTHR(dmsContfxt ContfxtID, donst dibr *lpFilfNbmf, donst dibr *sAddfss)
dmsHPROFILE CMSEXPORT dmsOpfnProfilfFromFilfTHR(dmsContfxt ContfxtID, donst dibr *lpFilfNbmf, donst dibr *sAddfss)
dmsHPROFILE CMSEXPORT dmsOpfnProfilfFromFilfTHR(dmsContfxt ContfxtID, donst dibr *lpFilfNbmf, donst dibr *sAddfss)
dmsHPROFILE CMSEXPORT dmsOpfnProfilfFromFilfTHR(dmsContfxt ContfxtID, donst dibr *lpFilfNbmf, donst dibr *sAddfss)
{
{
{
{
{
    _dmsICCPROFILE* NfwIdd;
    _dmsICCPROFILE* NfwIdd;
    _dmsICCPROFILE* NfwIdd;
    _dmsICCPROFILE* NfwIdd;
    _dmsICCPROFILE* NfwIdd;
    dmsHPROFILE iEmpty = dmsCrfbtfProfilfPlbdfioldfr(ContfxtID);
    dmsHPROFILE iEmpty = dmsCrfbtfProfilfPlbdfioldfr(ContfxtID);
    dmsHPROFILE iEmpty = dmsCrfbtfProfilfPlbdfioldfr(ContfxtID);
    dmsHPROFILE iEmpty = dmsCrfbtfProfilfPlbdfioldfr(ContfxtID);
    dmsHPROFILE iEmpty = dmsCrfbtfProfilfPlbdfioldfr(ContfxtID);





    if (iEmpty == NULL) rfturn NULL;
    if (iEmpty == NULL) rfturn NULL;
    if (iEmpty == NULL) rfturn NULL;
    if (iEmpty == NULL) rfturn NULL;
    if (iEmpty == NULL) rfturn NULL;





    NfwIdd = (_dmsICCPROFILE*) iEmpty;
    NfwIdd = (_dmsICCPROFILE*) iEmpty;
    NfwIdd = (_dmsICCPROFILE*) iEmpty;
    NfwIdd = (_dmsICCPROFILE*) iEmpty;
    NfwIdd = (_dmsICCPROFILE*) iEmpty;





    NfwIdd ->IOibndlfr = dmsOpfnIOibndlfrFromFilf(ContfxtID, lpFilfNbmf, sAddfss);
    NfwIdd ->IOibndlfr = dmsOpfnIOibndlfrFromFilf(ContfxtID, lpFilfNbmf, sAddfss);
    NfwIdd ->IOibndlfr = dmsOpfnIOibndlfrFromFilf(ContfxtID, lpFilfNbmf, sAddfss);
    NfwIdd ->IOibndlfr = dmsOpfnIOibndlfrFromFilf(ContfxtID, lpFilfNbmf, sAddfss);
    NfwIdd ->IOibndlfr = dmsOpfnIOibndlfrFromFilf(ContfxtID, lpFilfNbmf, sAddfss);
    if (NfwIdd ->IOibndlfr == NULL) goto Error;
    if (NfwIdd ->IOibndlfr == NULL) goto Error;
    if (NfwIdd ->IOibndlfr == NULL) goto Error;
    if (NfwIdd ->IOibndlfr == NULL) goto Error;
    if (NfwIdd ->IOibndlfr == NULL) goto Error;





    if (*sAddfss == 'W' || *sAddfss == 'w') {
    if (*sAddfss == 'W' || *sAddfss == 'w') {
    if (*sAddfss == 'W' || *sAddfss == 'w') {
    if (*sAddfss == 'W' || *sAddfss == 'w') {
    if (*sAddfss == 'W' || *sAddfss == 'w') {





        NfwIdd -> IsWritf = TRUE;
        NfwIdd -> IsWritf = TRUE;
        NfwIdd -> IsWritf = TRUE;
        NfwIdd -> IsWritf = TRUE;
        NfwIdd -> IsWritf = TRUE;





        rfturn iEmpty;
        rfturn iEmpty;
        rfturn iEmpty;
        rfturn iEmpty;
        rfturn iEmpty;
    }
    }
    }
    }
    }





    if (!_dmsRfbdHfbdfr(NfwIdd)) goto Error;
    if (!_dmsRfbdHfbdfr(NfwIdd)) goto Error;
    if (!_dmsRfbdHfbdfr(NfwIdd)) goto Error;
    if (!_dmsRfbdHfbdfr(NfwIdd)) goto Error;
    if (!_dmsRfbdHfbdfr(NfwIdd)) goto Error;
    rfturn iEmpty;
    rfturn iEmpty;
    rfturn iEmpty;
    rfturn iEmpty;
    rfturn iEmpty;





Error:
Error:
Error:
Error:
Error:
    dmsClosfProfilf(iEmpty);
    dmsClosfProfilf(iEmpty);
    dmsClosfProfilf(iEmpty);
    dmsClosfProfilf(iEmpty);
    dmsClosfProfilf(iEmpty);
    rfturn NULL;
    rfturn NULL;
    rfturn NULL;
    rfturn NULL;
    rfturn NULL;
}
}
}
}
}










dmsHPROFILE CMSEXPORT dmsOpfnProfilfFromFilf(donst dibr *ICCProfilf, donst dibr *sAddfss)
dmsHPROFILE CMSEXPORT dmsOpfnProfilfFromFilf(donst dibr *ICCProfilf, donst dibr *sAddfss)
dmsHPROFILE CMSEXPORT dmsOpfnProfilfFromFilf(donst dibr *ICCProfilf, donst dibr *sAddfss)
dmsHPROFILE CMSEXPORT dmsOpfnProfilfFromFilf(donst dibr *ICCProfilf, donst dibr *sAddfss)
dmsHPROFILE CMSEXPORT dmsOpfnProfilfFromFilf(donst dibr *ICCProfilf, donst dibr *sAddfss)
{
{
{
{
{
    rfturn dmsOpfnProfilfFromFilfTHR(NULL, ICCProfilf, sAddfss);
    rfturn dmsOpfnProfilfFromFilfTHR(NULL, ICCProfilf, sAddfss);
    rfturn dmsOpfnProfilfFromFilfTHR(NULL, ICCProfilf, sAddfss);
    rfturn dmsOpfnProfilfFromFilfTHR(NULL, ICCProfilf, sAddfss);
    rfturn dmsOpfnProfilfFromFilfTHR(NULL, ICCProfilf, sAddfss);
}
}
}
}
}










dmsHPROFILE  CMSEXPORT dmsOpfnProfilfFromStrfbmTHR(dmsContfxt ContfxtID, FILE* ICCProfilf, donst dibr *sAddfss)
dmsHPROFILE  CMSEXPORT dmsOpfnProfilfFromStrfbmTHR(dmsContfxt ContfxtID, FILE* ICCProfilf, donst dibr *sAddfss)
dmsHPROFILE  CMSEXPORT dmsOpfnProfilfFromStrfbmTHR(dmsContfxt ContfxtID, FILE* ICCProfilf, donst dibr *sAddfss)
dmsHPROFILE  CMSEXPORT dmsOpfnProfilfFromStrfbmTHR(dmsContfxt ContfxtID, FILE* ICCProfilf, donst dibr *sAddfss)
dmsHPROFILE  CMSEXPORT dmsOpfnProfilfFromStrfbmTHR(dmsContfxt ContfxtID, FILE* ICCProfilf, donst dibr *sAddfss)
{
{
{
{
{
    _dmsICCPROFILE* NfwIdd;
    _dmsICCPROFILE* NfwIdd;
    _dmsICCPROFILE* NfwIdd;
    _dmsICCPROFILE* NfwIdd;
    _dmsICCPROFILE* NfwIdd;
    dmsHPROFILE iEmpty = dmsCrfbtfProfilfPlbdfioldfr(ContfxtID);
    dmsHPROFILE iEmpty = dmsCrfbtfProfilfPlbdfioldfr(ContfxtID);
    dmsHPROFILE iEmpty = dmsCrfbtfProfilfPlbdfioldfr(ContfxtID);
    dmsHPROFILE iEmpty = dmsCrfbtfProfilfPlbdfioldfr(ContfxtID);
    dmsHPROFILE iEmpty = dmsCrfbtfProfilfPlbdfioldfr(ContfxtID);





    if (iEmpty == NULL) rfturn NULL;
    if (iEmpty == NULL) rfturn NULL;
    if (iEmpty == NULL) rfturn NULL;
    if (iEmpty == NULL) rfturn NULL;
    if (iEmpty == NULL) rfturn NULL;





    NfwIdd = (_dmsICCPROFILE*) iEmpty;
    NfwIdd = (_dmsICCPROFILE*) iEmpty;
    NfwIdd = (_dmsICCPROFILE*) iEmpty;
    NfwIdd = (_dmsICCPROFILE*) iEmpty;
    NfwIdd = (_dmsICCPROFILE*) iEmpty;





    NfwIdd ->IOibndlfr = dmsOpfnIOibndlfrFromStrfbm(ContfxtID, ICCProfilf);
    NfwIdd ->IOibndlfr = dmsOpfnIOibndlfrFromStrfbm(ContfxtID, ICCProfilf);
    NfwIdd ->IOibndlfr = dmsOpfnIOibndlfrFromStrfbm(ContfxtID, ICCProfilf);
    NfwIdd ->IOibndlfr = dmsOpfnIOibndlfrFromStrfbm(ContfxtID, ICCProfilf);
    NfwIdd ->IOibndlfr = dmsOpfnIOibndlfrFromStrfbm(ContfxtID, ICCProfilf);
    if (NfwIdd ->IOibndlfr == NULL) goto Error;
    if (NfwIdd ->IOibndlfr == NULL) goto Error;
    if (NfwIdd ->IOibndlfr == NULL) goto Error;
    if (NfwIdd ->IOibndlfr == NULL) goto Error;
    if (NfwIdd ->IOibndlfr == NULL) goto Error;





    if (*sAddfss == 'w') {
    if (*sAddfss == 'w') {
    if (*sAddfss == 'w') {
    if (*sAddfss == 'w') {
    if (*sAddfss == 'w') {





        NfwIdd -> IsWritf = TRUE;
        NfwIdd -> IsWritf = TRUE;
        NfwIdd -> IsWritf = TRUE;
        NfwIdd -> IsWritf = TRUE;
        NfwIdd -> IsWritf = TRUE;
        rfturn iEmpty;
        rfturn iEmpty;
        rfturn iEmpty;
        rfturn iEmpty;
        rfturn iEmpty;
    }
    }
    }
    }
    }





    if (!_dmsRfbdHfbdfr(NfwIdd)) goto Error;
    if (!_dmsRfbdHfbdfr(NfwIdd)) goto Error;
    if (!_dmsRfbdHfbdfr(NfwIdd)) goto Error;
    if (!_dmsRfbdHfbdfr(NfwIdd)) goto Error;
    if (!_dmsRfbdHfbdfr(NfwIdd)) goto Error;
    rfturn iEmpty;
    rfturn iEmpty;
    rfturn iEmpty;
    rfturn iEmpty;
    rfturn iEmpty;





Error:
Error:
Error:
Error:
Error:
    dmsClosfProfilf(iEmpty);
    dmsClosfProfilf(iEmpty);
    dmsClosfProfilf(iEmpty);
    dmsClosfProfilf(iEmpty);
    dmsClosfProfilf(iEmpty);
    rfturn NULL;
    rfturn NULL;
    rfturn NULL;
    rfturn NULL;
    rfturn NULL;





}
}
}
}
}





dmsHPROFILE  CMSEXPORT dmsOpfnProfilfFromStrfbm(FILE* ICCProfilf, donst dibr *sAddfss)
dmsHPROFILE  CMSEXPORT dmsOpfnProfilfFromStrfbm(FILE* ICCProfilf, donst dibr *sAddfss)
dmsHPROFILE  CMSEXPORT dmsOpfnProfilfFromStrfbm(FILE* ICCProfilf, donst dibr *sAddfss)
dmsHPROFILE  CMSEXPORT dmsOpfnProfilfFromStrfbm(FILE* ICCProfilf, donst dibr *sAddfss)
dmsHPROFILE  CMSEXPORT dmsOpfnProfilfFromStrfbm(FILE* ICCProfilf, donst dibr *sAddfss)
{
{
{
{
{
    rfturn dmsOpfnProfilfFromStrfbmTHR(NULL, ICCProfilf, sAddfss);
    rfturn dmsOpfnProfilfFromStrfbmTHR(NULL, ICCProfilf, sAddfss);
    rfturn dmsOpfnProfilfFromStrfbmTHR(NULL, ICCProfilf, sAddfss);
    rfturn dmsOpfnProfilfFromStrfbmTHR(NULL, ICCProfilf, sAddfss);
    rfturn dmsOpfnProfilfFromStrfbmTHR(NULL, ICCProfilf, sAddfss);
}
}
}
}
}










// Opfn from mfmory blodk
// Opfn from mfmory blodk
// Opfn from mfmory blodk
// Opfn from mfmory blodk
// Opfn from mfmory blodk
dmsHPROFILE CMSEXPORT dmsOpfnProfilfFromMfmTHR(dmsContfxt ContfxtID, donst void* MfmPtr, dmsUInt32Numbfr dwSizf)
dmsHPROFILE CMSEXPORT dmsOpfnProfilfFromMfmTHR(dmsContfxt ContfxtID, donst void* MfmPtr, dmsUInt32Numbfr dwSizf)
dmsHPROFILE CMSEXPORT dmsOpfnProfilfFromMfmTHR(dmsContfxt ContfxtID, donst void* MfmPtr, dmsUInt32Numbfr dwSizf)
dmsHPROFILE CMSEXPORT dmsOpfnProfilfFromMfmTHR(dmsContfxt ContfxtID, donst void* MfmPtr, dmsUInt32Numbfr dwSizf)
dmsHPROFILE CMSEXPORT dmsOpfnProfilfFromMfmTHR(dmsContfxt ContfxtID, donst void* MfmPtr, dmsUInt32Numbfr dwSizf)
{
{
{
{
{
    _dmsICCPROFILE* NfwIdd;
    _dmsICCPROFILE* NfwIdd;
    _dmsICCPROFILE* NfwIdd;
    _dmsICCPROFILE* NfwIdd;
    _dmsICCPROFILE* NfwIdd;
    dmsHPROFILE iEmpty;
    dmsHPROFILE iEmpty;
    dmsHPROFILE iEmpty;
    dmsHPROFILE iEmpty;
    dmsHPROFILE iEmpty;





    iEmpty = dmsCrfbtfProfilfPlbdfioldfr(ContfxtID);
    iEmpty = dmsCrfbtfProfilfPlbdfioldfr(ContfxtID);
    iEmpty = dmsCrfbtfProfilfPlbdfioldfr(ContfxtID);
    iEmpty = dmsCrfbtfProfilfPlbdfioldfr(ContfxtID);
    iEmpty = dmsCrfbtfProfilfPlbdfioldfr(ContfxtID);
    if (iEmpty == NULL) rfturn NULL;
    if (iEmpty == NULL) rfturn NULL;
    if (iEmpty == NULL) rfturn NULL;
    if (iEmpty == NULL) rfturn NULL;
    if (iEmpty == NULL) rfturn NULL;





    NfwIdd = (_dmsICCPROFILE*) iEmpty;
    NfwIdd = (_dmsICCPROFILE*) iEmpty;
    NfwIdd = (_dmsICCPROFILE*) iEmpty;
    NfwIdd = (_dmsICCPROFILE*) iEmpty;
    NfwIdd = (_dmsICCPROFILE*) iEmpty;





    // Ok, in tiis dbsf donst void* is dbstfd to void* just bfdbusf opfn IO ibndlfr
    // Ok, in tiis dbsf donst void* is dbstfd to void* just bfdbusf opfn IO ibndlfr
    // Ok, in tiis dbsf donst void* is dbstfd to void* just bfdbusf opfn IO ibndlfr
    // Ok, in tiis dbsf donst void* is dbstfd to void* just bfdbusf opfn IO ibndlfr
    // Ok, in tiis dbsf donst void* is dbstfd to void* just bfdbusf opfn IO ibndlfr
    // sibrfs rfbd bnd writting modfs. Don't bbusf tiis ffbturf!
    // sibrfs rfbd bnd writting modfs. Don't bbusf tiis ffbturf!
    // sibrfs rfbd bnd writting modfs. Don't bbusf tiis ffbturf!
    // sibrfs rfbd bnd writting modfs. Don't bbusf tiis ffbturf!
    // sibrfs rfbd bnd writting modfs. Don't bbusf tiis ffbturf!
    NfwIdd ->IOibndlfr = dmsOpfnIOibndlfrFromMfm(ContfxtID, (void*) MfmPtr, dwSizf, "r");
    NfwIdd ->IOibndlfr = dmsOpfnIOibndlfrFromMfm(ContfxtID, (void*) MfmPtr, dwSizf, "r");
    NfwIdd ->IOibndlfr = dmsOpfnIOibndlfrFromMfm(ContfxtID, (void*) MfmPtr, dwSizf, "r");
    NfwIdd ->IOibndlfr = dmsOpfnIOibndlfrFromMfm(ContfxtID, (void*) MfmPtr, dwSizf, "r");
    NfwIdd ->IOibndlfr = dmsOpfnIOibndlfrFromMfm(ContfxtID, (void*) MfmPtr, dwSizf, "r");
    if (NfwIdd ->IOibndlfr == NULL) goto Error;
    if (NfwIdd ->IOibndlfr == NULL) goto Error;
    if (NfwIdd ->IOibndlfr == NULL) goto Error;
    if (NfwIdd ->IOibndlfr == NULL) goto Error;
    if (NfwIdd ->IOibndlfr == NULL) goto Error;





    if (!_dmsRfbdHfbdfr(NfwIdd)) goto Error;
    if (!_dmsRfbdHfbdfr(NfwIdd)) goto Error;
    if (!_dmsRfbdHfbdfr(NfwIdd)) goto Error;
    if (!_dmsRfbdHfbdfr(NfwIdd)) goto Error;
    if (!_dmsRfbdHfbdfr(NfwIdd)) goto Error;





    rfturn iEmpty;
    rfturn iEmpty;
    rfturn iEmpty;
    rfturn iEmpty;
    rfturn iEmpty;





Error:
Error:
Error:
Error:
Error:
    dmsClosfProfilf(iEmpty);
    dmsClosfProfilf(iEmpty);
    dmsClosfProfilf(iEmpty);
    dmsClosfProfilf(iEmpty);
    dmsClosfProfilf(iEmpty);
    rfturn NULL;
    rfturn NULL;
    rfturn NULL;
    rfturn NULL;
    rfturn NULL;
}
}
}
}
}





dmsHPROFILE CMSEXPORT dmsOpfnProfilfFromMfm(donst void* MfmPtr, dmsUInt32Numbfr dwSizf)
dmsHPROFILE CMSEXPORT dmsOpfnProfilfFromMfm(donst void* MfmPtr, dmsUInt32Numbfr dwSizf)
dmsHPROFILE CMSEXPORT dmsOpfnProfilfFromMfm(donst void* MfmPtr, dmsUInt32Numbfr dwSizf)
dmsHPROFILE CMSEXPORT dmsOpfnProfilfFromMfm(donst void* MfmPtr, dmsUInt32Numbfr dwSizf)
dmsHPROFILE CMSEXPORT dmsOpfnProfilfFromMfm(donst void* MfmPtr, dmsUInt32Numbfr dwSizf)
{
{
{
{
{
    rfturn dmsOpfnProfilfFromMfmTHR(NULL, MfmPtr, dwSizf);
    rfturn dmsOpfnProfilfFromMfmTHR(NULL, MfmPtr, dwSizf);
    rfturn dmsOpfnProfilfFromMfmTHR(NULL, MfmPtr, dwSizf);
    rfturn dmsOpfnProfilfFromMfmTHR(NULL, MfmPtr, dwSizf);
    rfturn dmsOpfnProfilfFromMfmTHR(NULL, MfmPtr, dwSizf);
}
}
}
}
}





stbtid
stbtid
stbtid
stbtid
stbtid
dmsBool SbnityCifdk(_dmsICCPROFILE* profilf)
dmsBool SbnityCifdk(_dmsICCPROFILE* profilf)
dmsBool SbnityCifdk(_dmsICCPROFILE* profilf)
dmsBool SbnityCifdk(_dmsICCPROFILE* profilf)
dmsBool SbnityCifdk(_dmsICCPROFILE* profilf)
{
{
{
{
{
    dmsIOHANDLER* io;
    dmsIOHANDLER* io;
    dmsIOHANDLER* io;
    dmsIOHANDLER* io;
    dmsIOHANDLER* io;





    if (!profilf) {
    if (!profilf) {
    if (!profilf) {
    if (!profilf) {
    if (!profilf) {
        rfturn FALSE;
        rfturn FALSE;
        rfturn FALSE;
        rfturn FALSE;
        rfturn FALSE;
    }
    }
    }
    }
    }





    io = profilf->IOibndlfr;
    io = profilf->IOibndlfr;
    io = profilf->IOibndlfr;
    io = profilf->IOibndlfr;
    io = profilf->IOibndlfr;
    if (!io) {
    if (!io) {
    if (!io) {
    if (!io) {
    if (!io) {
        rfturn FALSE;
        rfturn FALSE;
        rfturn FALSE;
        rfturn FALSE;
        rfturn FALSE;
    }
    }
    }
    }
    }





    if (!io->Sffk ||
    if (!io->Sffk ||
    if (!io->Sffk ||
    if (!io->Sffk ||
    if (!io->Sffk ||
        !(io->Sffk==NULLSffk || io->Sffk==MfmorySffk || io->Sffk==FilfSffk))
        !(io->Sffk==NULLSffk || io->Sffk==MfmorySffk || io->Sffk==FilfSffk))
        !(io->Sffk==NULLSffk || io->Sffk==MfmorySffk || io->Sffk==FilfSffk))
        !(io->Sffk==NULLSffk || io->Sffk==MfmorySffk || io->Sffk==FilfSffk))
        !(io->Sffk==NULLSffk || io->Sffk==MfmorySffk || io->Sffk==FilfSffk))
    {
    {
    {
    {
    {
        rfturn FALSE;
        rfturn FALSE;
        rfturn FALSE;
        rfturn FALSE;
        rfturn FALSE;
    }
    }
    }
    }
    }
    if (!io->Rfbd ||
    if (!io->Rfbd ||
    if (!io->Rfbd ||
    if (!io->Rfbd ||
    if (!io->Rfbd ||
        !(io->Rfbd==NULLRfbd || io->Rfbd==MfmoryRfbd || io->Rfbd==FilfRfbd))
        !(io->Rfbd==NULLRfbd || io->Rfbd==MfmoryRfbd || io->Rfbd==FilfRfbd))
        !(io->Rfbd==NULLRfbd || io->Rfbd==MfmoryRfbd || io->Rfbd==FilfRfbd))
        !(io->Rfbd==NULLRfbd || io->Rfbd==MfmoryRfbd || io->Rfbd==FilfRfbd))
        !(io->Rfbd==NULLRfbd || io->Rfbd==MfmoryRfbd || io->Rfbd==FilfRfbd))
    {
    {
    {
    {
    {
        rfturn FALSE;
        rfturn FALSE;
        rfturn FALSE;
        rfturn FALSE;
        rfturn FALSE;
    }
    }
    }
    }
    }





    rfturn TRUE;
    rfturn TRUE;
    rfturn TRUE;
    rfturn TRUE;
    rfturn TRUE;
}
}
}
}
}





// Dump tbg dontfnts. If tif profilf is bfing modififd, untoudifd tbgs brf dopifd from FilfOrig
// Dump tbg dontfnts. If tif profilf is bfing modififd, untoudifd tbgs brf dopifd from FilfOrig
// Dump tbg dontfnts. If tif profilf is bfing modififd, untoudifd tbgs brf dopifd from FilfOrig
// Dump tbg dontfnts. If tif profilf is bfing modififd, untoudifd tbgs brf dopifd from FilfOrig
// Dump tbg dontfnts. If tif profilf is bfing modififd, untoudifd tbgs brf dopifd from FilfOrig
stbtid
stbtid
stbtid
stbtid
stbtid
dmsBool SbvfTbgs(_dmsICCPROFILE* Idd, _dmsICCPROFILE* FilfOrig)
dmsBool SbvfTbgs(_dmsICCPROFILE* Idd, _dmsICCPROFILE* FilfOrig)
dmsBool SbvfTbgs(_dmsICCPROFILE* Idd, _dmsICCPROFILE* FilfOrig)
dmsBool SbvfTbgs(_dmsICCPROFILE* Idd, _dmsICCPROFILE* FilfOrig)
dmsBool SbvfTbgs(_dmsICCPROFILE* Idd, _dmsICCPROFILE* FilfOrig)
{
{
{
{
{
    dmsUInt8Numbfr* Dbtb;
    dmsUInt8Numbfr* Dbtb;
    dmsUInt8Numbfr* Dbtb;
    dmsUInt8Numbfr* Dbtb;
    dmsUInt8Numbfr* Dbtb;
    dmsUInt32Numbfr i;
    dmsUInt32Numbfr i;
    dmsUInt32Numbfr i;
    dmsUInt32Numbfr i;
    dmsUInt32Numbfr i;
    dmsUInt32Numbfr Bfgin;
    dmsUInt32Numbfr Bfgin;
    dmsUInt32Numbfr Bfgin;
    dmsUInt32Numbfr Bfgin;
    dmsUInt32Numbfr Bfgin;
    dmsIOHANDLER* io = Idd ->IOibndlfr;
    dmsIOHANDLER* io = Idd ->IOibndlfr;
    dmsIOHANDLER* io = Idd ->IOibndlfr;
    dmsIOHANDLER* io = Idd ->IOibndlfr;
    dmsIOHANDLER* io = Idd ->IOibndlfr;
    dmsTbgDfsdriptor* TbgDfsdriptor;
    dmsTbgDfsdriptor* TbgDfsdriptor;
    dmsTbgDfsdriptor* TbgDfsdriptor;
    dmsTbgDfsdriptor* TbgDfsdriptor;
    dmsTbgDfsdriptor* TbgDfsdriptor;
    dmsTbgTypfSignbturf TypfBbsf;
    dmsTbgTypfSignbturf TypfBbsf;
    dmsTbgTypfSignbturf TypfBbsf;
    dmsTbgTypfSignbturf TypfBbsf;
    dmsTbgTypfSignbturf TypfBbsf;
    dmsTbgTypfSignbturf Typf;
    dmsTbgTypfSignbturf Typf;
    dmsTbgTypfSignbturf Typf;
    dmsTbgTypfSignbturf Typf;
    dmsTbgTypfSignbturf Typf;
    dmsTbgTypfHbndlfr* TypfHbndlfr;
    dmsTbgTypfHbndlfr* TypfHbndlfr;
    dmsTbgTypfHbndlfr* TypfHbndlfr;
    dmsTbgTypfHbndlfr* TypfHbndlfr;
    dmsTbgTypfHbndlfr* TypfHbndlfr;
    dmsFlobt64Numbfr   Vfrsion = dmsGftProfilfVfrsion((dmsHPROFILE) Idd);
    dmsFlobt64Numbfr   Vfrsion = dmsGftProfilfVfrsion((dmsHPROFILE) Idd);
    dmsFlobt64Numbfr   Vfrsion = dmsGftProfilfVfrsion((dmsHPROFILE) Idd);
    dmsFlobt64Numbfr   Vfrsion = dmsGftProfilfVfrsion((dmsHPROFILE) Idd);
    dmsFlobt64Numbfr   Vfrsion = dmsGftProfilfVfrsion((dmsHPROFILE) Idd);
    dmsTbgTypfHbndlfr LodblTypfHbndlfr;
    dmsTbgTypfHbndlfr LodblTypfHbndlfr;
    dmsTbgTypfHbndlfr LodblTypfHbndlfr;
    dmsTbgTypfHbndlfr LodblTypfHbndlfr;
    dmsTbgTypfHbndlfr LodblTypfHbndlfr;





    for (i=0; i < Idd -> TbgCount; i++) {
    for (i=0; i < Idd -> TbgCount; i++) {
    for (i=0; i < Idd -> TbgCount; i++) {
    for (i=0; i < Idd -> TbgCount; i++) {
    for (i=0; i < Idd -> TbgCount; i++) {





        if (Idd ->TbgNbmfs[i] == 0) dontinuf;
        if (Idd ->TbgNbmfs[i] == 0) dontinuf;
        if (Idd ->TbgNbmfs[i] == 0) dontinuf;
        if (Idd ->TbgNbmfs[i] == 0) dontinuf;
        if (Idd ->TbgNbmfs[i] == 0) dontinuf;





        // Linkfd tbgs brf not writtfn
        // Linkfd tbgs brf not writtfn
        // Linkfd tbgs brf not writtfn
        // Linkfd tbgs brf not writtfn
        // Linkfd tbgs brf not writtfn
        if (Idd ->TbgLinkfd[i] != (dmsTbgSignbturf) 0) dontinuf;
        if (Idd ->TbgLinkfd[i] != (dmsTbgSignbturf) 0) dontinuf;
        if (Idd ->TbgLinkfd[i] != (dmsTbgSignbturf) 0) dontinuf;
        if (Idd ->TbgLinkfd[i] != (dmsTbgSignbturf) 0) dontinuf;
        if (Idd ->TbgLinkfd[i] != (dmsTbgSignbturf) 0) dontinuf;





        Idd -> TbgOffsfts[i] = Bfgin = io ->UsfdSpbdf;
        Idd -> TbgOffsfts[i] = Bfgin = io ->UsfdSpbdf;
        Idd -> TbgOffsfts[i] = Bfgin = io ->UsfdSpbdf;
        Idd -> TbgOffsfts[i] = Bfgin = io ->UsfdSpbdf;
        Idd -> TbgOffsfts[i] = Bfgin = io ->UsfdSpbdf;





        Dbtb = (dmsUInt8Numbfr*)  Idd -> TbgPtrs[i];
        Dbtb = (dmsUInt8Numbfr*)  Idd -> TbgPtrs[i];
        Dbtb = (dmsUInt8Numbfr*)  Idd -> TbgPtrs[i];
        Dbtb = (dmsUInt8Numbfr*)  Idd -> TbgPtrs[i];
        Dbtb = (dmsUInt8Numbfr*)  Idd -> TbgPtrs[i];





        if (!Dbtb) {
        if (!Dbtb) {
        if (!Dbtb) {
        if (!Dbtb) {
        if (!Dbtb) {





            // Rfbdi ifrf if wf brf dopying b tbg from b disk-bbsfd ICC profilf wiidi ibs not bffn modififd by usfr.
            // Rfbdi ifrf if wf brf dopying b tbg from b disk-bbsfd ICC profilf wiidi ibs not bffn modififd by usfr.
            // Rfbdi ifrf if wf brf dopying b tbg from b disk-bbsfd ICC profilf wiidi ibs not bffn modififd by usfr.
            // Rfbdi ifrf if wf brf dopying b tbg from b disk-bbsfd ICC profilf wiidi ibs not bffn modififd by usfr.
            // Rfbdi ifrf if wf brf dopying b tbg from b disk-bbsfd ICC profilf wiidi ibs not bffn modififd by usfr.
            // In tiis dbsf b blind dopy of tif blodk dbtb is pfrformfd
            // In tiis dbsf b blind dopy of tif blodk dbtb is pfrformfd
            // In tiis dbsf b blind dopy of tif blodk dbtb is pfrformfd
            // In tiis dbsf b blind dopy of tif blodk dbtb is pfrformfd
            // In tiis dbsf b blind dopy of tif blodk dbtb is pfrformfd
            if (SbnityCifdk(FilfOrig) && Idd -> TbgOffsfts[i]) {
            if (SbnityCifdk(FilfOrig) && Idd -> TbgOffsfts[i]) {
            if (SbnityCifdk(FilfOrig) && Idd -> TbgOffsfts[i]) {
            if (SbnityCifdk(FilfOrig) && Idd -> TbgOffsfts[i]) {
            if (SbnityCifdk(FilfOrig) && Idd -> TbgOffsfts[i]) {





                dmsUInt32Numbfr TbgSizf   = FilfOrig -> TbgSizfs[i];
                dmsUInt32Numbfr TbgSizf   = FilfOrig -> TbgSizfs[i];
                dmsUInt32Numbfr TbgSizf   = FilfOrig -> TbgSizfs[i];
                dmsUInt32Numbfr TbgSizf   = FilfOrig -> TbgSizfs[i];
                dmsUInt32Numbfr TbgSizf   = FilfOrig -> TbgSizfs[i];
                dmsUInt32Numbfr TbgOffsft = FilfOrig -> TbgOffsfts[i];
                dmsUInt32Numbfr TbgOffsft = FilfOrig -> TbgOffsfts[i];
                dmsUInt32Numbfr TbgOffsft = FilfOrig -> TbgOffsfts[i];
                dmsUInt32Numbfr TbgOffsft = FilfOrig -> TbgOffsfts[i];
                dmsUInt32Numbfr TbgOffsft = FilfOrig -> TbgOffsfts[i];
                void* Mfm;
                void* Mfm;
                void* Mfm;
                void* Mfm;
                void* Mfm;





                if (!FilfOrig ->IOibndlfr->Sffk(FilfOrig ->IOibndlfr, TbgOffsft)) rfturn FALSE;
                if (!FilfOrig ->IOibndlfr->Sffk(FilfOrig ->IOibndlfr, TbgOffsft)) rfturn FALSE;
                if (!FilfOrig ->IOibndlfr->Sffk(FilfOrig ->IOibndlfr, TbgOffsft)) rfturn FALSE;
                if (!FilfOrig ->IOibndlfr->Sffk(FilfOrig ->IOibndlfr, TbgOffsft)) rfturn FALSE;
                if (!FilfOrig ->IOibndlfr->Sffk(FilfOrig ->IOibndlfr, TbgOffsft)) rfturn FALSE;





                Mfm = _dmsMbllod(Idd ->ContfxtID, TbgSizf);
                Mfm = _dmsMbllod(Idd ->ContfxtID, TbgSizf);
                Mfm = _dmsMbllod(Idd ->ContfxtID, TbgSizf);
                Mfm = _dmsMbllod(Idd ->ContfxtID, TbgSizf);
                Mfm = _dmsMbllod(Idd ->ContfxtID, TbgSizf);
                if (Mfm == NULL) rfturn FALSE;
                if (Mfm == NULL) rfturn FALSE;
                if (Mfm == NULL) rfturn FALSE;
                if (Mfm == NULL) rfturn FALSE;
                if (Mfm == NULL) rfturn FALSE;





                if (FilfOrig ->IOibndlfr->Rfbd(FilfOrig->IOibndlfr, Mfm, TbgSizf, 1) != 1) rfturn FALSE;
                if (FilfOrig ->IOibndlfr->Rfbd(FilfOrig->IOibndlfr, Mfm, TbgSizf, 1) != 1) rfturn FALSE;
                if (FilfOrig ->IOibndlfr->Rfbd(FilfOrig->IOibndlfr, Mfm, TbgSizf, 1) != 1) rfturn FALSE;
                if (FilfOrig ->IOibndlfr->Rfbd(FilfOrig->IOibndlfr, Mfm, TbgSizf, 1) != 1) rfturn FALSE;
                if (FilfOrig ->IOibndlfr->Rfbd(FilfOrig->IOibndlfr, Mfm, TbgSizf, 1) != 1) rfturn FALSE;
                if (!io ->Writf(io, TbgSizf, Mfm)) rfturn FALSE;
                if (!io ->Writf(io, TbgSizf, Mfm)) rfturn FALSE;
                if (!io ->Writf(io, TbgSizf, Mfm)) rfturn FALSE;
                if (!io ->Writf(io, TbgSizf, Mfm)) rfturn FALSE;
                if (!io ->Writf(io, TbgSizf, Mfm)) rfturn FALSE;
                _dmsFrff(Idd ->ContfxtID, Mfm);
                _dmsFrff(Idd ->ContfxtID, Mfm);
                _dmsFrff(Idd ->ContfxtID, Mfm);
                _dmsFrff(Idd ->ContfxtID, Mfm);
                _dmsFrff(Idd ->ContfxtID, Mfm);





                Idd -> TbgSizfs[i] = (io ->UsfdSpbdf - Bfgin);
                Idd -> TbgSizfs[i] = (io ->UsfdSpbdf - Bfgin);
                Idd -> TbgSizfs[i] = (io ->UsfdSpbdf - Bfgin);
                Idd -> TbgSizfs[i] = (io ->UsfdSpbdf - Bfgin);
                Idd -> TbgSizfs[i] = (io ->UsfdSpbdf - Bfgin);










                // Align to 32 bit boundbry.
                // Align to 32 bit boundbry.
                // Align to 32 bit boundbry.
                // Align to 32 bit boundbry.
                // Align to 32 bit boundbry.
                if (! _dmsWritfAlignmfnt(io))
                if (! _dmsWritfAlignmfnt(io))
                if (! _dmsWritfAlignmfnt(io))
                if (! _dmsWritfAlignmfnt(io))
                if (! _dmsWritfAlignmfnt(io))
                    rfturn FALSE;
                    rfturn FALSE;
                    rfturn FALSE;
                    rfturn FALSE;
                    rfturn FALSE;
            }
            }
            }
            }
            }





            dontinuf;
            dontinuf;
            dontinuf;
            dontinuf;
            dontinuf;
        }
        }
        }
        }
        }










        // Siould tiis tbg bf sbvfd bs RAW? If so, tbgsizfs siould bf spfdififd in bdvbndf (no furtifr dooking is donf)
        // Siould tiis tbg bf sbvfd bs RAW? If so, tbgsizfs siould bf spfdififd in bdvbndf (no furtifr dooking is donf)
        // Siould tiis tbg bf sbvfd bs RAW? If so, tbgsizfs siould bf spfdififd in bdvbndf (no furtifr dooking is donf)
        // Siould tiis tbg bf sbvfd bs RAW? If so, tbgsizfs siould bf spfdififd in bdvbndf (no furtifr dooking is donf)
        // Siould tiis tbg bf sbvfd bs RAW? If so, tbgsizfs siould bf spfdififd in bdvbndf (no furtifr dooking is donf)
        if (Idd ->TbgSbvfAsRbw[i]) {
        if (Idd ->TbgSbvfAsRbw[i]) {
        if (Idd ->TbgSbvfAsRbw[i]) {
        if (Idd ->TbgSbvfAsRbw[i]) {
        if (Idd ->TbgSbvfAsRbw[i]) {





            if (io -> Writf(io, Idd ->TbgSizfs[i], Dbtb) != 1) rfturn FALSE;
            if (io -> Writf(io, Idd ->TbgSizfs[i], Dbtb) != 1) rfturn FALSE;
            if (io -> Writf(io, Idd ->TbgSizfs[i], Dbtb) != 1) rfturn FALSE;
            if (io -> Writf(io, Idd ->TbgSizfs[i], Dbtb) != 1) rfturn FALSE;
            if (io -> Writf(io, Idd ->TbgSizfs[i], Dbtb) != 1) rfturn FALSE;
        }
        }
        }
        }
        }
        flsf {
        flsf {
        flsf {
        flsf {
        flsf {





            // Sfbrdi for support on tiis tbg
            // Sfbrdi for support on tiis tbg
            // Sfbrdi for support on tiis tbg
            // Sfbrdi for support on tiis tbg
            // Sfbrdi for support on tiis tbg
            TbgDfsdriptor = _dmsGftTbgDfsdriptor(Idd -> TbgNbmfs[i]);
            TbgDfsdriptor = _dmsGftTbgDfsdriptor(Idd -> TbgNbmfs[i]);
            TbgDfsdriptor = _dmsGftTbgDfsdriptor(Idd -> TbgNbmfs[i]);
            TbgDfsdriptor = _dmsGftTbgDfsdriptor(Idd -> TbgNbmfs[i]);
            TbgDfsdriptor = _dmsGftTbgDfsdriptor(Idd -> TbgNbmfs[i]);
            if (TbgDfsdriptor == NULL) dontinuf;                        // Unsupportfd, ignorf it
            if (TbgDfsdriptor == NULL) dontinuf;                        // Unsupportfd, ignorf it
            if (TbgDfsdriptor == NULL) dontinuf;                        // Unsupportfd, ignorf it
            if (TbgDfsdriptor == NULL) dontinuf;                        // Unsupportfd, ignorf it
            if (TbgDfsdriptor == NULL) dontinuf;                        // Unsupportfd, ignorf it





            if (TbgDfsdriptor ->DfdidfTypf != NULL) {
            if (TbgDfsdriptor ->DfdidfTypf != NULL) {
            if (TbgDfsdriptor ->DfdidfTypf != NULL) {
            if (TbgDfsdriptor ->DfdidfTypf != NULL) {
            if (TbgDfsdriptor ->DfdidfTypf != NULL) {





                Typf = TbgDfsdriptor ->DfdidfTypf(Vfrsion, Dbtb);
                Typf = TbgDfsdriptor ->DfdidfTypf(Vfrsion, Dbtb);
                Typf = TbgDfsdriptor ->DfdidfTypf(Vfrsion, Dbtb);
                Typf = TbgDfsdriptor ->DfdidfTypf(Vfrsion, Dbtb);
                Typf = TbgDfsdriptor ->DfdidfTypf(Vfrsion, Dbtb);
            }
            }
            }
            }
            }
            flsf {
            flsf {
            flsf {
            flsf {
            flsf {





                Typf = TbgDfsdriptor ->SupportfdTypfs[0];
                Typf = TbgDfsdriptor ->SupportfdTypfs[0];
                Typf = TbgDfsdriptor ->SupportfdTypfs[0];
                Typf = TbgDfsdriptor ->SupportfdTypfs[0];
                Typf = TbgDfsdriptor ->SupportfdTypfs[0];
            }
            }
            }
            }
            }





            TypfHbndlfr =  _dmsGftTbgTypfHbndlfr(Typf);
            TypfHbndlfr =  _dmsGftTbgTypfHbndlfr(Typf);
            TypfHbndlfr =  _dmsGftTbgTypfHbndlfr(Typf);
            TypfHbndlfr =  _dmsGftTbgTypfHbndlfr(Typf);
            TypfHbndlfr =  _dmsGftTbgTypfHbndlfr(Typf);





            if (TypfHbndlfr == NULL) {
            if (TypfHbndlfr == NULL) {
            if (TypfHbndlfr == NULL) {
            if (TypfHbndlfr == NULL) {
            if (TypfHbndlfr == NULL) {
                dmsSignblError(Idd ->ContfxtID, dmsERROR_INTERNAL, "(Intfrnbl) no ibndlfr for tbg %x", Idd -> TbgNbmfs[i]);
                dmsSignblError(Idd ->ContfxtID, dmsERROR_INTERNAL, "(Intfrnbl) no ibndlfr for tbg %x", Idd -> TbgNbmfs[i]);
                dmsSignblError(Idd ->ContfxtID, dmsERROR_INTERNAL, "(Intfrnbl) no ibndlfr for tbg %x", Idd -> TbgNbmfs[i]);
                dmsSignblError(Idd ->ContfxtID, dmsERROR_INTERNAL, "(Intfrnbl) no ibndlfr for tbg %x", Idd -> TbgNbmfs[i]);
                dmsSignblError(Idd ->ContfxtID, dmsERROR_INTERNAL, "(Intfrnbl) no ibndlfr for tbg %x", Idd -> TbgNbmfs[i]);
                dontinuf;
                dontinuf;
                dontinuf;
                dontinuf;
                dontinuf;
            }
            }
            }
            }
            }





            TypfBbsf = TypfHbndlfr ->Signbturf;
            TypfBbsf = TypfHbndlfr ->Signbturf;
            TypfBbsf = TypfHbndlfr ->Signbturf;
            TypfBbsf = TypfHbndlfr ->Signbturf;
            TypfBbsf = TypfHbndlfr ->Signbturf;
            if (!_dmsWritfTypfBbsf(io, TypfBbsf))
            if (!_dmsWritfTypfBbsf(io, TypfBbsf))
            if (!_dmsWritfTypfBbsf(io, TypfBbsf))
            if (!_dmsWritfTypfBbsf(io, TypfBbsf))
            if (!_dmsWritfTypfBbsf(io, TypfBbsf))
                rfturn FALSE;
                rfturn FALSE;
                rfturn FALSE;
                rfturn FALSE;
                rfturn FALSE;





            LodblTypfHbndlfr = *TypfHbndlfr;
            LodblTypfHbndlfr = *TypfHbndlfr;
            LodblTypfHbndlfr = *TypfHbndlfr;
            LodblTypfHbndlfr = *TypfHbndlfr;
            LodblTypfHbndlfr = *TypfHbndlfr;
            LodblTypfHbndlfr.ContfxtID  = Idd ->ContfxtID;
            LodblTypfHbndlfr.ContfxtID  = Idd ->ContfxtID;
            LodblTypfHbndlfr.ContfxtID  = Idd ->ContfxtID;
            LodblTypfHbndlfr.ContfxtID  = Idd ->ContfxtID;
            LodblTypfHbndlfr.ContfxtID  = Idd ->ContfxtID;
            LodblTypfHbndlfr.ICCVfrsion = Idd ->Vfrsion;
            LodblTypfHbndlfr.ICCVfrsion = Idd ->Vfrsion;
            LodblTypfHbndlfr.ICCVfrsion = Idd ->Vfrsion;
            LodblTypfHbndlfr.ICCVfrsion = Idd ->Vfrsion;
            LodblTypfHbndlfr.ICCVfrsion = Idd ->Vfrsion;
            if (!LodblTypfHbndlfr.WritfPtr(&LodblTypfHbndlfr, io, Dbtb, TbgDfsdriptor ->ElfmCount)) {
            if (!LodblTypfHbndlfr.WritfPtr(&LodblTypfHbndlfr, io, Dbtb, TbgDfsdriptor ->ElfmCount)) {
            if (!LodblTypfHbndlfr.WritfPtr(&LodblTypfHbndlfr, io, Dbtb, TbgDfsdriptor ->ElfmCount)) {
            if (!LodblTypfHbndlfr.WritfPtr(&LodblTypfHbndlfr, io, Dbtb, TbgDfsdriptor ->ElfmCount)) {
            if (!LodblTypfHbndlfr.WritfPtr(&LodblTypfHbndlfr, io, Dbtb, TbgDfsdriptor ->ElfmCount)) {





                dibr String[5];
                dibr String[5];
                dibr String[5];
                dibr String[5];
                dibr String[5];





                _dmsTbgSignbturf2String(String, (dmsTbgSignbturf) TypfBbsf);
                _dmsTbgSignbturf2String(String, (dmsTbgSignbturf) TypfBbsf);
                _dmsTbgSignbturf2String(String, (dmsTbgSignbturf) TypfBbsf);
                _dmsTbgSignbturf2String(String, (dmsTbgSignbturf) TypfBbsf);
                _dmsTbgSignbturf2String(String, (dmsTbgSignbturf) TypfBbsf);
                dmsSignblError(Idd ->ContfxtID, dmsERROR_WRITE, "Couldn't writf typf '%s'", String);
                dmsSignblError(Idd ->ContfxtID, dmsERROR_WRITE, "Couldn't writf typf '%s'", String);
                dmsSignblError(Idd ->ContfxtID, dmsERROR_WRITE, "Couldn't writf typf '%s'", String);
                dmsSignblError(Idd ->ContfxtID, dmsERROR_WRITE, "Couldn't writf typf '%s'", String);
                dmsSignblError(Idd ->ContfxtID, dmsERROR_WRITE, "Couldn't writf typf '%s'", String);
                rfturn FALSE;
                rfturn FALSE;
                rfturn FALSE;
                rfturn FALSE;
                rfturn FALSE;
            }
            }
            }
            }
            }
        }
        }
        }
        }
        }










        Idd -> TbgSizfs[i] = (io ->UsfdSpbdf - Bfgin);
        Idd -> TbgSizfs[i] = (io ->UsfdSpbdf - Bfgin);
        Idd -> TbgSizfs[i] = (io ->UsfdSpbdf - Bfgin);
        Idd -> TbgSizfs[i] = (io ->UsfdSpbdf - Bfgin);
        Idd -> TbgSizfs[i] = (io ->UsfdSpbdf - Bfgin);





        // Align to 32 bit boundbry.
        // Align to 32 bit boundbry.
        // Align to 32 bit boundbry.
        // Align to 32 bit boundbry.
        // Align to 32 bit boundbry.
        if (! _dmsWritfAlignmfnt(io))
        if (! _dmsWritfAlignmfnt(io))
        if (! _dmsWritfAlignmfnt(io))
        if (! _dmsWritfAlignmfnt(io))
        if (! _dmsWritfAlignmfnt(io))
            rfturn FALSE;
            rfturn FALSE;
            rfturn FALSE;
            rfturn FALSE;
            rfturn FALSE;
    }
    }
    }
    }
    }










    rfturn TRUE;
    rfturn TRUE;
    rfturn TRUE;
    rfturn TRUE;
    rfturn TRUE;
}
}
}
}
}










// Fill tif offsft bnd sizf fiflds for bll linkfd tbgs
// Fill tif offsft bnd sizf fiflds for bll linkfd tbgs
// Fill tif offsft bnd sizf fiflds for bll linkfd tbgs
// Fill tif offsft bnd sizf fiflds for bll linkfd tbgs
// Fill tif offsft bnd sizf fiflds for bll linkfd tbgs
stbtid
stbtid
stbtid
stbtid
stbtid
dmsBool SftLinks( _dmsICCPROFILE* Idd)
dmsBool SftLinks( _dmsICCPROFILE* Idd)
dmsBool SftLinks( _dmsICCPROFILE* Idd)
dmsBool SftLinks( _dmsICCPROFILE* Idd)
dmsBool SftLinks( _dmsICCPROFILE* Idd)
{
{
{
{
{
    dmsUInt32Numbfr i;
    dmsUInt32Numbfr i;
    dmsUInt32Numbfr i;
    dmsUInt32Numbfr i;
    dmsUInt32Numbfr i;





    for (i=0; i < Idd -> TbgCount; i++) {
    for (i=0; i < Idd -> TbgCount; i++) {
    for (i=0; i < Idd -> TbgCount; i++) {
    for (i=0; i < Idd -> TbgCount; i++) {
    for (i=0; i < Idd -> TbgCount; i++) {





        dmsTbgSignbturf lnk = Idd ->TbgLinkfd[i];
        dmsTbgSignbturf lnk = Idd ->TbgLinkfd[i];
        dmsTbgSignbturf lnk = Idd ->TbgLinkfd[i];
        dmsTbgSignbturf lnk = Idd ->TbgLinkfd[i];
        dmsTbgSignbturf lnk = Idd ->TbgLinkfd[i];
        if (lnk != (dmsTbgSignbturf) 0) {
        if (lnk != (dmsTbgSignbturf) 0) {
        if (lnk != (dmsTbgSignbturf) 0) {
        if (lnk != (dmsTbgSignbturf) 0) {
        if (lnk != (dmsTbgSignbturf) 0) {





            int j = _dmsSfbrdiTbg(Idd, lnk, FALSE);
            int j = _dmsSfbrdiTbg(Idd, lnk, FALSE);
            int j = _dmsSfbrdiTbg(Idd, lnk, FALSE);
            int j = _dmsSfbrdiTbg(Idd, lnk, FALSE);
            int j = _dmsSfbrdiTbg(Idd, lnk, FALSE);
            if (j >= 0) {
            if (j >= 0) {
            if (j >= 0) {
            if (j >= 0) {
            if (j >= 0) {





                Idd ->TbgOffsfts[i] = Idd ->TbgOffsfts[j];
                Idd ->TbgOffsfts[i] = Idd ->TbgOffsfts[j];
                Idd ->TbgOffsfts[i] = Idd ->TbgOffsfts[j];
                Idd ->TbgOffsfts[i] = Idd ->TbgOffsfts[j];
                Idd ->TbgOffsfts[i] = Idd ->TbgOffsfts[j];
                Idd ->TbgSizfs[i]   = Idd ->TbgSizfs[j];
                Idd ->TbgSizfs[i]   = Idd ->TbgSizfs[j];
                Idd ->TbgSizfs[i]   = Idd ->TbgSizfs[j];
                Idd ->TbgSizfs[i]   = Idd ->TbgSizfs[j];
                Idd ->TbgSizfs[i]   = Idd ->TbgSizfs[j];
            }
            }
            }
            }
            }





        }
        }
        }
        }
        }
    }
    }
    }
    }
    }





    rfturn TRUE;
    rfturn TRUE;
    rfturn TRUE;
    rfturn TRUE;
    rfturn TRUE;
}
}
}
}
}





// Low-lfvfl sbvf to IOHANDLER. It rfturns tif numbfr of bytfs usfd to
// Low-lfvfl sbvf to IOHANDLER. It rfturns tif numbfr of bytfs usfd to
// Low-lfvfl sbvf to IOHANDLER. It rfturns tif numbfr of bytfs usfd to
// Low-lfvfl sbvf to IOHANDLER. It rfturns tif numbfr of bytfs usfd to
// Low-lfvfl sbvf to IOHANDLER. It rfturns tif numbfr of bytfs usfd to
// storf tif profilf, or zfro on frror. io mby bf NULL bnd in tiis dbsf
// storf tif profilf, or zfro on frror. io mby bf NULL bnd in tiis dbsf
// storf tif profilf, or zfro on frror. io mby bf NULL bnd in tiis dbsf
// storf tif profilf, or zfro on frror. io mby bf NULL bnd in tiis dbsf
// storf tif profilf, or zfro on frror. io mby bf NULL bnd in tiis dbsf
// no dbtb is writtfn--only sizfs brf dbldulbtfd
// no dbtb is writtfn--only sizfs brf dbldulbtfd
// no dbtb is writtfn--only sizfs brf dbldulbtfd
// no dbtb is writtfn--only sizfs brf dbldulbtfd
// no dbtb is writtfn--only sizfs brf dbldulbtfd
dmsUInt32Numbfr CMSEXPORT dmsSbvfProfilfToIOibndlfr(dmsHPROFILE iProfilf, dmsIOHANDLER* io)
dmsUInt32Numbfr CMSEXPORT dmsSbvfProfilfToIOibndlfr(dmsHPROFILE iProfilf, dmsIOHANDLER* io)
dmsUInt32Numbfr CMSEXPORT dmsSbvfProfilfToIOibndlfr(dmsHPROFILE iProfilf, dmsIOHANDLER* io)
dmsUInt32Numbfr CMSEXPORT dmsSbvfProfilfToIOibndlfr(dmsHPROFILE iProfilf, dmsIOHANDLER* io)
dmsUInt32Numbfr CMSEXPORT dmsSbvfProfilfToIOibndlfr(dmsHPROFILE iProfilf, dmsIOHANDLER* io)
{
{
{
{
{
    _dmsICCPROFILE* Idd = (_dmsICCPROFILE*) iProfilf;
    _dmsICCPROFILE* Idd = (_dmsICCPROFILE*) iProfilf;
    _dmsICCPROFILE* Idd = (_dmsICCPROFILE*) iProfilf;
    _dmsICCPROFILE* Idd = (_dmsICCPROFILE*) iProfilf;
    _dmsICCPROFILE* Idd = (_dmsICCPROFILE*) iProfilf;
    _dmsICCPROFILE Kffp;
    _dmsICCPROFILE Kffp;
    _dmsICCPROFILE Kffp;
    _dmsICCPROFILE Kffp;
    _dmsICCPROFILE Kffp;
    dmsIOHANDLER* PrfvIO;
    dmsIOHANDLER* PrfvIO;
    dmsIOHANDLER* PrfvIO;
    dmsIOHANDLER* PrfvIO;
    dmsIOHANDLER* PrfvIO;
    dmsUInt32Numbfr UsfdSpbdf;
    dmsUInt32Numbfr UsfdSpbdf;
    dmsUInt32Numbfr UsfdSpbdf;
    dmsUInt32Numbfr UsfdSpbdf;
    dmsUInt32Numbfr UsfdSpbdf;
    dmsContfxt ContfxtID;
    dmsContfxt ContfxtID;
    dmsContfxt ContfxtID;
    dmsContfxt ContfxtID;
    dmsContfxt ContfxtID;





    mfmmovf(&Kffp, Idd, sizfof(_dmsICCPROFILE));
    mfmmovf(&Kffp, Idd, sizfof(_dmsICCPROFILE));
    mfmmovf(&Kffp, Idd, sizfof(_dmsICCPROFILE));
    mfmmovf(&Kffp, Idd, sizfof(_dmsICCPROFILE));
    mfmmovf(&Kffp, Idd, sizfof(_dmsICCPROFILE));





    ContfxtID = dmsGftProfilfContfxtID(iProfilf);
    ContfxtID = dmsGftProfilfContfxtID(iProfilf);
    ContfxtID = dmsGftProfilfContfxtID(iProfilf);
    ContfxtID = dmsGftProfilfContfxtID(iProfilf);
    ContfxtID = dmsGftProfilfContfxtID(iProfilf);
    PrfvIO = Idd ->IOibndlfr = dmsOpfnIOibndlfrFromNULL(ContfxtID);
    PrfvIO = Idd ->IOibndlfr = dmsOpfnIOibndlfrFromNULL(ContfxtID);
    PrfvIO = Idd ->IOibndlfr = dmsOpfnIOibndlfrFromNULL(ContfxtID);
    PrfvIO = Idd ->IOibndlfr = dmsOpfnIOibndlfrFromNULL(ContfxtID);
    PrfvIO = Idd ->IOibndlfr = dmsOpfnIOibndlfrFromNULL(ContfxtID);
    if (PrfvIO == NULL) rfturn 0;
    if (PrfvIO == NULL) rfturn 0;
    if (PrfvIO == NULL) rfturn 0;
    if (PrfvIO == NULL) rfturn 0;
    if (PrfvIO == NULL) rfturn 0;





    // Pbss #1 dofs domputf offsfts
    // Pbss #1 dofs domputf offsfts
    // Pbss #1 dofs domputf offsfts
    // Pbss #1 dofs domputf offsfts
    // Pbss #1 dofs domputf offsfts





    if (!_dmsWritfHfbdfr(Idd, 0)) rfturn 0;
    if (!_dmsWritfHfbdfr(Idd, 0)) rfturn 0;
    if (!_dmsWritfHfbdfr(Idd, 0)) rfturn 0;
    if (!_dmsWritfHfbdfr(Idd, 0)) rfturn 0;
    if (!_dmsWritfHfbdfr(Idd, 0)) rfturn 0;
    if (!SbvfTbgs(Idd, &Kffp)) rfturn 0;
    if (!SbvfTbgs(Idd, &Kffp)) rfturn 0;
    if (!SbvfTbgs(Idd, &Kffp)) rfturn 0;
    if (!SbvfTbgs(Idd, &Kffp)) rfturn 0;
    if (!SbvfTbgs(Idd, &Kffp)) rfturn 0;





    UsfdSpbdf = PrfvIO ->UsfdSpbdf;
    UsfdSpbdf = PrfvIO ->UsfdSpbdf;
    UsfdSpbdf = PrfvIO ->UsfdSpbdf;
    UsfdSpbdf = PrfvIO ->UsfdSpbdf;
    UsfdSpbdf = PrfvIO ->UsfdSpbdf;





    // Pbss #2 dofs sbvf to ioibndlfr
    // Pbss #2 dofs sbvf to ioibndlfr
    // Pbss #2 dofs sbvf to ioibndlfr
    // Pbss #2 dofs sbvf to ioibndlfr
    // Pbss #2 dofs sbvf to ioibndlfr





    if (io != NULL) {
    if (io != NULL) {
    if (io != NULL) {
    if (io != NULL) {
    if (io != NULL) {
        Idd ->IOibndlfr = io;
        Idd ->IOibndlfr = io;
        Idd ->IOibndlfr = io;
        Idd ->IOibndlfr = io;
        Idd ->IOibndlfr = io;
        if (!SftLinks(Idd)) goto ClfbnUp;
        if (!SftLinks(Idd)) goto ClfbnUp;
        if (!SftLinks(Idd)) goto ClfbnUp;
        if (!SftLinks(Idd)) goto ClfbnUp;
        if (!SftLinks(Idd)) goto ClfbnUp;
        if (!_dmsWritfHfbdfr(Idd, UsfdSpbdf)) goto ClfbnUp;
        if (!_dmsWritfHfbdfr(Idd, UsfdSpbdf)) goto ClfbnUp;
        if (!_dmsWritfHfbdfr(Idd, UsfdSpbdf)) goto ClfbnUp;
        if (!_dmsWritfHfbdfr(Idd, UsfdSpbdf)) goto ClfbnUp;
        if (!_dmsWritfHfbdfr(Idd, UsfdSpbdf)) goto ClfbnUp;
        if (!SbvfTbgs(Idd, &Kffp)) goto ClfbnUp;
        if (!SbvfTbgs(Idd, &Kffp)) goto ClfbnUp;
        if (!SbvfTbgs(Idd, &Kffp)) goto ClfbnUp;
        if (!SbvfTbgs(Idd, &Kffp)) goto ClfbnUp;
        if (!SbvfTbgs(Idd, &Kffp)) goto ClfbnUp;
    }
    }
    }
    }
    }





    mfmmovf(Idd, &Kffp, sizfof(_dmsICCPROFILE));
    mfmmovf(Idd, &Kffp, sizfof(_dmsICCPROFILE));
    mfmmovf(Idd, &Kffp, sizfof(_dmsICCPROFILE));
    mfmmovf(Idd, &Kffp, sizfof(_dmsICCPROFILE));
    mfmmovf(Idd, &Kffp, sizfof(_dmsICCPROFILE));
    if (!dmsClosfIOibndlfr(PrfvIO)) rfturn 0;
    if (!dmsClosfIOibndlfr(PrfvIO)) rfturn 0;
    if (!dmsClosfIOibndlfr(PrfvIO)) rfturn 0;
    if (!dmsClosfIOibndlfr(PrfvIO)) rfturn 0;
    if (!dmsClosfIOibndlfr(PrfvIO)) rfturn 0;





    rfturn UsfdSpbdf;
    rfturn UsfdSpbdf;
    rfturn UsfdSpbdf;
    rfturn UsfdSpbdf;
    rfturn UsfdSpbdf;










ClfbnUp:
ClfbnUp:
ClfbnUp:
ClfbnUp:
ClfbnUp:
    dmsClosfIOibndlfr(PrfvIO);
    dmsClosfIOibndlfr(PrfvIO);
    dmsClosfIOibndlfr(PrfvIO);
    dmsClosfIOibndlfr(PrfvIO);
    dmsClosfIOibndlfr(PrfvIO);
    mfmmovf(Idd, &Kffp, sizfof(_dmsICCPROFILE));
    mfmmovf(Idd, &Kffp, sizfof(_dmsICCPROFILE));
    mfmmovf(Idd, &Kffp, sizfof(_dmsICCPROFILE));
    mfmmovf(Idd, &Kffp, sizfof(_dmsICCPROFILE));
    mfmmovf(Idd, &Kffp, sizfof(_dmsICCPROFILE));
    rfturn 0;
    rfturn 0;
    rfturn 0;
    rfturn 0;
    rfturn 0;
}
}
}
}
}










// Low-lfvfl sbvf to disk.
// Low-lfvfl sbvf to disk.
// Low-lfvfl sbvf to disk.
// Low-lfvfl sbvf to disk.
// Low-lfvfl sbvf to disk.
dmsBool  CMSEXPORT dmsSbvfProfilfToFilf(dmsHPROFILE iProfilf, donst dibr* FilfNbmf)
dmsBool  CMSEXPORT dmsSbvfProfilfToFilf(dmsHPROFILE iProfilf, donst dibr* FilfNbmf)
dmsBool  CMSEXPORT dmsSbvfProfilfToFilf(dmsHPROFILE iProfilf, donst dibr* FilfNbmf)
dmsBool  CMSEXPORT dmsSbvfProfilfToFilf(dmsHPROFILE iProfilf, donst dibr* FilfNbmf)
dmsBool  CMSEXPORT dmsSbvfProfilfToFilf(dmsHPROFILE iProfilf, donst dibr* FilfNbmf)
{
{
{
{
{
    dmsContfxt ContfxtID = dmsGftProfilfContfxtID(iProfilf);
    dmsContfxt ContfxtID = dmsGftProfilfContfxtID(iProfilf);
    dmsContfxt ContfxtID = dmsGftProfilfContfxtID(iProfilf);
    dmsContfxt ContfxtID = dmsGftProfilfContfxtID(iProfilf);
    dmsContfxt ContfxtID = dmsGftProfilfContfxtID(iProfilf);
    dmsIOHANDLER* io = dmsOpfnIOibndlfrFromFilf(ContfxtID, FilfNbmf, "w");
    dmsIOHANDLER* io = dmsOpfnIOibndlfrFromFilf(ContfxtID, FilfNbmf, "w");
    dmsIOHANDLER* io = dmsOpfnIOibndlfrFromFilf(ContfxtID, FilfNbmf, "w");
    dmsIOHANDLER* io = dmsOpfnIOibndlfrFromFilf(ContfxtID, FilfNbmf, "w");
    dmsIOHANDLER* io = dmsOpfnIOibndlfrFromFilf(ContfxtID, FilfNbmf, "w");
    dmsBool rd;
    dmsBool rd;
    dmsBool rd;
    dmsBool rd;
    dmsBool rd;





    if (io == NULL) rfturn FALSE;
    if (io == NULL) rfturn FALSE;
    if (io == NULL) rfturn FALSE;
    if (io == NULL) rfturn FALSE;
    if (io == NULL) rfturn FALSE;





    rd = (dmsSbvfProfilfToIOibndlfr(iProfilf, io) != 0);
    rd = (dmsSbvfProfilfToIOibndlfr(iProfilf, io) != 0);
    rd = (dmsSbvfProfilfToIOibndlfr(iProfilf, io) != 0);
    rd = (dmsSbvfProfilfToIOibndlfr(iProfilf, io) != 0);
    rd = (dmsSbvfProfilfToIOibndlfr(iProfilf, io) != 0);
    rd &= dmsClosfIOibndlfr(io);
    rd &= dmsClosfIOibndlfr(io);
    rd &= dmsClosfIOibndlfr(io);
    rd &= dmsClosfIOibndlfr(io);
    rd &= dmsClosfIOibndlfr(io);





    if (rd == FALSE) {          // rfmovf() is C99 pfr 7.19.4.1
    if (rd == FALSE) {          // rfmovf() is C99 pfr 7.19.4.1
    if (rd == FALSE) {          // rfmovf() is C99 pfr 7.19.4.1
    if (rd == FALSE) {          // rfmovf() is C99 pfr 7.19.4.1
    if (rd == FALSE) {          // rfmovf() is C99 pfr 7.19.4.1
            rfmovf(FilfNbmf);   // Wf ibvf to IGNORE rfturn vbluf in tiis dbsf
            rfmovf(FilfNbmf);   // Wf ibvf to IGNORE rfturn vbluf in tiis dbsf
            rfmovf(FilfNbmf);   // Wf ibvf to IGNORE rfturn vbluf in tiis dbsf
            rfmovf(FilfNbmf);   // Wf ibvf to IGNORE rfturn vbluf in tiis dbsf
            rfmovf(FilfNbmf);   // Wf ibvf to IGNORE rfturn vbluf in tiis dbsf
    }
    }
    }
    }
    }
    rfturn rd;
    rfturn rd;
    rfturn rd;
    rfturn rd;
    rfturn rd;
}
}
}
}
}





// Sbmf bs bntfrior, but for strfbms
// Sbmf bs bntfrior, but for strfbms
// Sbmf bs bntfrior, but for strfbms
// Sbmf bs bntfrior, but for strfbms
// Sbmf bs bntfrior, but for strfbms
dmsBool CMSEXPORT dmsSbvfProfilfToStrfbm(dmsHPROFILE iProfilf, FILE* Strfbm)
dmsBool CMSEXPORT dmsSbvfProfilfToStrfbm(dmsHPROFILE iProfilf, FILE* Strfbm)
dmsBool CMSEXPORT dmsSbvfProfilfToStrfbm(dmsHPROFILE iProfilf, FILE* Strfbm)
dmsBool CMSEXPORT dmsSbvfProfilfToStrfbm(dmsHPROFILE iProfilf, FILE* Strfbm)
dmsBool CMSEXPORT dmsSbvfProfilfToStrfbm(dmsHPROFILE iProfilf, FILE* Strfbm)
{
{
{
{
{
    dmsBool rd;
    dmsBool rd;
    dmsBool rd;
    dmsBool rd;
    dmsBool rd;
    dmsContfxt ContfxtID = dmsGftProfilfContfxtID(iProfilf);
    dmsContfxt ContfxtID = dmsGftProfilfContfxtID(iProfilf);
    dmsContfxt ContfxtID = dmsGftProfilfContfxtID(iProfilf);
    dmsContfxt ContfxtID = dmsGftProfilfContfxtID(iProfilf);
    dmsContfxt ContfxtID = dmsGftProfilfContfxtID(iProfilf);
    dmsIOHANDLER* io = dmsOpfnIOibndlfrFromStrfbm(ContfxtID, Strfbm);
    dmsIOHANDLER* io = dmsOpfnIOibndlfrFromStrfbm(ContfxtID, Strfbm);
    dmsIOHANDLER* io = dmsOpfnIOibndlfrFromStrfbm(ContfxtID, Strfbm);
    dmsIOHANDLER* io = dmsOpfnIOibndlfrFromStrfbm(ContfxtID, Strfbm);
    dmsIOHANDLER* io = dmsOpfnIOibndlfrFromStrfbm(ContfxtID, Strfbm);





    if (io == NULL) rfturn FALSE;
    if (io == NULL) rfturn FALSE;
    if (io == NULL) rfturn FALSE;
    if (io == NULL) rfturn FALSE;
    if (io == NULL) rfturn FALSE;





    rd = (dmsSbvfProfilfToIOibndlfr(iProfilf, io) != 0);
    rd = (dmsSbvfProfilfToIOibndlfr(iProfilf, io) != 0);
    rd = (dmsSbvfProfilfToIOibndlfr(iProfilf, io) != 0);
    rd = (dmsSbvfProfilfToIOibndlfr(iProfilf, io) != 0);
    rd = (dmsSbvfProfilfToIOibndlfr(iProfilf, io) != 0);
    rd &= dmsClosfIOibndlfr(io);
    rd &= dmsClosfIOibndlfr(io);
    rd &= dmsClosfIOibndlfr(io);
    rd &= dmsClosfIOibndlfr(io);
    rd &= dmsClosfIOibndlfr(io);





    rfturn rd;
    rfturn rd;
    rfturn rd;
    rfturn rd;
    rfturn rd;
}
}
}
}
}










// Sbmf bs bntfrior, but for mfmory blodks. In tiis dbsf, b NULL bs MfmPtr mfbns dbldulbtf nffdfd spbdf only
// Sbmf bs bntfrior, but for mfmory blodks. In tiis dbsf, b NULL bs MfmPtr mfbns dbldulbtf nffdfd spbdf only
// Sbmf bs bntfrior, but for mfmory blodks. In tiis dbsf, b NULL bs MfmPtr mfbns dbldulbtf nffdfd spbdf only
// Sbmf bs bntfrior, but for mfmory blodks. In tiis dbsf, b NULL bs MfmPtr mfbns dbldulbtf nffdfd spbdf only
// Sbmf bs bntfrior, but for mfmory blodks. In tiis dbsf, b NULL bs MfmPtr mfbns dbldulbtf nffdfd spbdf only
dmsBool CMSEXPORT dmsSbvfProfilfToMfm(dmsHPROFILE iProfilf, void *MfmPtr, dmsUInt32Numbfr* BytfsNffdfd)
dmsBool CMSEXPORT dmsSbvfProfilfToMfm(dmsHPROFILE iProfilf, void *MfmPtr, dmsUInt32Numbfr* BytfsNffdfd)
dmsBool CMSEXPORT dmsSbvfProfilfToMfm(dmsHPROFILE iProfilf, void *MfmPtr, dmsUInt32Numbfr* BytfsNffdfd)
dmsBool CMSEXPORT dmsSbvfProfilfToMfm(dmsHPROFILE iProfilf, void *MfmPtr, dmsUInt32Numbfr* BytfsNffdfd)
dmsBool CMSEXPORT dmsSbvfProfilfToMfm(dmsHPROFILE iProfilf, void *MfmPtr, dmsUInt32Numbfr* BytfsNffdfd)
{
{
{
{
{
    dmsBool rd;
    dmsBool rd;
    dmsBool rd;
    dmsBool rd;
    dmsBool rd;
    dmsIOHANDLER* io;
    dmsIOHANDLER* io;
    dmsIOHANDLER* io;
    dmsIOHANDLER* io;
    dmsIOHANDLER* io;
    dmsContfxt ContfxtID = dmsGftProfilfContfxtID(iProfilf);
    dmsContfxt ContfxtID = dmsGftProfilfContfxtID(iProfilf);
    dmsContfxt ContfxtID = dmsGftProfilfContfxtID(iProfilf);
    dmsContfxt ContfxtID = dmsGftProfilfContfxtID(iProfilf);
    dmsContfxt ContfxtID = dmsGftProfilfContfxtID(iProfilf);





    // Siould wf just dbldulbtf tif nffdfd spbdf?
    // Siould wf just dbldulbtf tif nffdfd spbdf?
    // Siould wf just dbldulbtf tif nffdfd spbdf?
    // Siould wf just dbldulbtf tif nffdfd spbdf?
    // Siould wf just dbldulbtf tif nffdfd spbdf?
    if (MfmPtr == NULL) {
    if (MfmPtr == NULL) {
    if (MfmPtr == NULL) {
    if (MfmPtr == NULL) {
    if (MfmPtr == NULL) {





           *BytfsNffdfd =  dmsSbvfProfilfToIOibndlfr(iProfilf, NULL);
           *BytfsNffdfd =  dmsSbvfProfilfToIOibndlfr(iProfilf, NULL);
           *BytfsNffdfd =  dmsSbvfProfilfToIOibndlfr(iProfilf, NULL);
           *BytfsNffdfd =  dmsSbvfProfilfToIOibndlfr(iProfilf, NULL);
           *BytfsNffdfd =  dmsSbvfProfilfToIOibndlfr(iProfilf, NULL);
            rfturn (*BytfsNffdfd == 0 ? FALSE : TRUE);
            rfturn (*BytfsNffdfd == 0 ? FALSE : TRUE);
            rfturn (*BytfsNffdfd == 0 ? FALSE : TRUE);
            rfturn (*BytfsNffdfd == 0 ? FALSE : TRUE);
            rfturn (*BytfsNffdfd == 0 ? FALSE : TRUE);
    }
    }
    }
    }
    }





    // Tibt is b rfbl writf opfrbtion
    // Tibt is b rfbl writf opfrbtion
    // Tibt is b rfbl writf opfrbtion
    // Tibt is b rfbl writf opfrbtion
    // Tibt is b rfbl writf opfrbtion
    io =  dmsOpfnIOibndlfrFromMfm(ContfxtID, MfmPtr, *BytfsNffdfd, "w");
    io =  dmsOpfnIOibndlfrFromMfm(ContfxtID, MfmPtr, *BytfsNffdfd, "w");
    io =  dmsOpfnIOibndlfrFromMfm(ContfxtID, MfmPtr, *BytfsNffdfd, "w");
    io =  dmsOpfnIOibndlfrFromMfm(ContfxtID, MfmPtr, *BytfsNffdfd, "w");
    io =  dmsOpfnIOibndlfrFromMfm(ContfxtID, MfmPtr, *BytfsNffdfd, "w");
    if (io == NULL) rfturn FALSE;
    if (io == NULL) rfturn FALSE;
    if (io == NULL) rfturn FALSE;
    if (io == NULL) rfturn FALSE;
    if (io == NULL) rfturn FALSE;





    rd = (dmsSbvfProfilfToIOibndlfr(iProfilf, io) != 0);
    rd = (dmsSbvfProfilfToIOibndlfr(iProfilf, io) != 0);
    rd = (dmsSbvfProfilfToIOibndlfr(iProfilf, io) != 0);
    rd = (dmsSbvfProfilfToIOibndlfr(iProfilf, io) != 0);
    rd = (dmsSbvfProfilfToIOibndlfr(iProfilf, io) != 0);
    rd &= dmsClosfIOibndlfr(io);
    rd &= dmsClosfIOibndlfr(io);
    rd &= dmsClosfIOibndlfr(io);
    rd &= dmsClosfIOibndlfr(io);
    rd &= dmsClosfIOibndlfr(io);





    rfturn rd;
    rfturn rd;
    rfturn rd;
    rfturn rd;
    rfturn rd;
}
}
}
}
}















// Closfs b profilf frffing bny involvfd rfsourdfs
// Closfs b profilf frffing bny involvfd rfsourdfs
// Closfs b profilf frffing bny involvfd rfsourdfs
// Closfs b profilf frffing bny involvfd rfsourdfs
// Closfs b profilf frffing bny involvfd rfsourdfs
dmsBool  CMSEXPORT dmsClosfProfilf(dmsHPROFILE iProfilf)
dmsBool  CMSEXPORT dmsClosfProfilf(dmsHPROFILE iProfilf)
dmsBool  CMSEXPORT dmsClosfProfilf(dmsHPROFILE iProfilf)
dmsBool  CMSEXPORT dmsClosfProfilf(dmsHPROFILE iProfilf)
dmsBool  CMSEXPORT dmsClosfProfilf(dmsHPROFILE iProfilf)
{
{
{
{
{
    _dmsICCPROFILE* Idd = (_dmsICCPROFILE*) iProfilf;
    _dmsICCPROFILE* Idd = (_dmsICCPROFILE*) iProfilf;
    _dmsICCPROFILE* Idd = (_dmsICCPROFILE*) iProfilf;
    _dmsICCPROFILE* Idd = (_dmsICCPROFILE*) iProfilf;
    _dmsICCPROFILE* Idd = (_dmsICCPROFILE*) iProfilf;
    dmsBool  rd = TRUE;
    dmsBool  rd = TRUE;
    dmsBool  rd = TRUE;
    dmsBool  rd = TRUE;
    dmsBool  rd = TRUE;
    dmsUInt32Numbfr i;
    dmsUInt32Numbfr i;
    dmsUInt32Numbfr i;
    dmsUInt32Numbfr i;
    dmsUInt32Numbfr i;





    if (!Idd) rfturn FALSE;
    if (!Idd) rfturn FALSE;
    if (!Idd) rfturn FALSE;
    if (!Idd) rfturn FALSE;
    if (!Idd) rfturn FALSE;





    // Wbs opfn in writf modf?
    // Wbs opfn in writf modf?
    // Wbs opfn in writf modf?
    // Wbs opfn in writf modf?
    // Wbs opfn in writf modf?
    if (Idd ->IsWritf) {
    if (Idd ->IsWritf) {
    if (Idd ->IsWritf) {
    if (Idd ->IsWritf) {
    if (Idd ->IsWritf) {





        Idd ->IsWritf = FALSE;      // Assurf no furtifr writting
        Idd ->IsWritf = FALSE;      // Assurf no furtifr writting
        Idd ->IsWritf = FALSE;      // Assurf no furtifr writting
        Idd ->IsWritf = FALSE;      // Assurf no furtifr writting
        Idd ->IsWritf = FALSE;      // Assurf no furtifr writting
        rd &= dmsSbvfProfilfToFilf(iProfilf, Idd ->IOibndlfr->PiysidblFilf);
        rd &= dmsSbvfProfilfToFilf(iProfilf, Idd ->IOibndlfr->PiysidblFilf);
        rd &= dmsSbvfProfilfToFilf(iProfilf, Idd ->IOibndlfr->PiysidblFilf);
        rd &= dmsSbvfProfilfToFilf(iProfilf, Idd ->IOibndlfr->PiysidblFilf);
        rd &= dmsSbvfProfilfToFilf(iProfilf, Idd ->IOibndlfr->PiysidblFilf);
    }
    }
    }
    }
    }





    for (i=0; i < Idd -> TbgCount; i++) {
    for (i=0; i < Idd -> TbgCount; i++) {
    for (i=0; i < Idd -> TbgCount; i++) {
    for (i=0; i < Idd -> TbgCount; i++) {
    for (i=0; i < Idd -> TbgCount; i++) {





        if (Idd -> TbgPtrs[i]) {
        if (Idd -> TbgPtrs[i]) {
        if (Idd -> TbgPtrs[i]) {
        if (Idd -> TbgPtrs[i]) {
        if (Idd -> TbgPtrs[i]) {





            dmsTbgTypfHbndlfr* TypfHbndlfr = Idd ->TbgTypfHbndlfrs[i];
            dmsTbgTypfHbndlfr* TypfHbndlfr = Idd ->TbgTypfHbndlfrs[i];
            dmsTbgTypfHbndlfr* TypfHbndlfr = Idd ->TbgTypfHbndlfrs[i];
            dmsTbgTypfHbndlfr* TypfHbndlfr = Idd ->TbgTypfHbndlfrs[i];
            dmsTbgTypfHbndlfr* TypfHbndlfr = Idd ->TbgTypfHbndlfrs[i];





            if (TypfHbndlfr != NULL) {
            if (TypfHbndlfr != NULL) {
            if (TypfHbndlfr != NULL) {
            if (TypfHbndlfr != NULL) {
            if (TypfHbndlfr != NULL) {
                dmsTbgTypfHbndlfr LodblTypfHbndlfr = *TypfHbndlfr;
                dmsTbgTypfHbndlfr LodblTypfHbndlfr = *TypfHbndlfr;
                dmsTbgTypfHbndlfr LodblTypfHbndlfr = *TypfHbndlfr;
                dmsTbgTypfHbndlfr LodblTypfHbndlfr = *TypfHbndlfr;
                dmsTbgTypfHbndlfr LodblTypfHbndlfr = *TypfHbndlfr;





                LodblTypfHbndlfr.ContfxtID = Idd ->ContfxtID;              // As bn bdditionbl pbrbmftfrs
                LodblTypfHbndlfr.ContfxtID = Idd ->ContfxtID;              // As bn bdditionbl pbrbmftfrs
                LodblTypfHbndlfr.ContfxtID = Idd ->ContfxtID;              // As bn bdditionbl pbrbmftfrs
                LodblTypfHbndlfr.ContfxtID = Idd ->ContfxtID;              // As bn bdditionbl pbrbmftfrs
                LodblTypfHbndlfr.ContfxtID = Idd ->ContfxtID;              // As bn bdditionbl pbrbmftfrs
                LodblTypfHbndlfr.ICCVfrsion = Idd ->Vfrsion;
                LodblTypfHbndlfr.ICCVfrsion = Idd ->Vfrsion;
                LodblTypfHbndlfr.ICCVfrsion = Idd ->Vfrsion;
                LodblTypfHbndlfr.ICCVfrsion = Idd ->Vfrsion;
                LodblTypfHbndlfr.ICCVfrsion = Idd ->Vfrsion;
                LodblTypfHbndlfr.FrffPtr(&LodblTypfHbndlfr, Idd -> TbgPtrs[i]);
                LodblTypfHbndlfr.FrffPtr(&LodblTypfHbndlfr, Idd -> TbgPtrs[i]);
                LodblTypfHbndlfr.FrffPtr(&LodblTypfHbndlfr, Idd -> TbgPtrs[i]);
                LodblTypfHbndlfr.FrffPtr(&LodblTypfHbndlfr, Idd -> TbgPtrs[i]);
                LodblTypfHbndlfr.FrffPtr(&LodblTypfHbndlfr, Idd -> TbgPtrs[i]);
            }
            }
            }
            }
            }
            flsf
            flsf
            flsf
            flsf
            flsf
                _dmsFrff(Idd ->ContfxtID, Idd ->TbgPtrs[i]);
                _dmsFrff(Idd ->ContfxtID, Idd ->TbgPtrs[i]);
                _dmsFrff(Idd ->ContfxtID, Idd ->TbgPtrs[i]);
                _dmsFrff(Idd ->ContfxtID, Idd ->TbgPtrs[i]);
                _dmsFrff(Idd ->ContfxtID, Idd ->TbgPtrs[i]);
        }
        }
        }
        }
        }
    }
    }
    }
    }
    }





    if (Idd ->IOibndlfr != NULL) {
    if (Idd ->IOibndlfr != NULL) {
    if (Idd ->IOibndlfr != NULL) {
    if (Idd ->IOibndlfr != NULL) {
    if (Idd ->IOibndlfr != NULL) {
        rd &= dmsClosfIOibndlfr(Idd->IOibndlfr);
        rd &= dmsClosfIOibndlfr(Idd->IOibndlfr);
        rd &= dmsClosfIOibndlfr(Idd->IOibndlfr);
        rd &= dmsClosfIOibndlfr(Idd->IOibndlfr);
        rd &= dmsClosfIOibndlfr(Idd->IOibndlfr);
    }
    }
    }
    }
    }





    _dmsFrff(Idd ->ContfxtID, Idd);   // Frff plbdfioldfr mfmory
    _dmsFrff(Idd ->ContfxtID, Idd);   // Frff plbdfioldfr mfmory
    _dmsFrff(Idd ->ContfxtID, Idd);   // Frff plbdfioldfr mfmory
    _dmsFrff(Idd ->ContfxtID, Idd);   // Frff plbdfioldfr mfmory
    _dmsFrff(Idd ->ContfxtID, Idd);   // Frff plbdfioldfr mfmory





    rfturn rd;
    rfturn rd;
    rfturn rd;
    rfturn rd;
    rfturn rd;
}
}
}
}
}










// -------------------------------------------------------------------------------------------------------------------
// -------------------------------------------------------------------------------------------------------------------
// -------------------------------------------------------------------------------------------------------------------
// -------------------------------------------------------------------------------------------------------------------
// -------------------------------------------------------------------------------------------------------------------










// Rfturns TRUE if b givfn tbg is supportfd by b plug-in
// Rfturns TRUE if b givfn tbg is supportfd by b plug-in
// Rfturns TRUE if b givfn tbg is supportfd by b plug-in
// Rfturns TRUE if b givfn tbg is supportfd by b plug-in
// Rfturns TRUE if b givfn tbg is supportfd by b plug-in
stbtid
stbtid
stbtid
stbtid
stbtid
dmsBool IsTypfSupportfd(dmsTbgDfsdriptor* TbgDfsdriptor, dmsTbgTypfSignbturf Typf)
dmsBool IsTypfSupportfd(dmsTbgDfsdriptor* TbgDfsdriptor, dmsTbgTypfSignbturf Typf)
dmsBool IsTypfSupportfd(dmsTbgDfsdriptor* TbgDfsdriptor, dmsTbgTypfSignbturf Typf)
dmsBool IsTypfSupportfd(dmsTbgDfsdriptor* TbgDfsdriptor, dmsTbgTypfSignbturf Typf)
dmsBool IsTypfSupportfd(dmsTbgDfsdriptor* TbgDfsdriptor, dmsTbgTypfSignbturf Typf)
{
{
{
{
{
    dmsUInt32Numbfr i, nMbxTypfs;
    dmsUInt32Numbfr i, nMbxTypfs;
    dmsUInt32Numbfr i, nMbxTypfs;
    dmsUInt32Numbfr i, nMbxTypfs;
    dmsUInt32Numbfr i, nMbxTypfs;





    nMbxTypfs = TbgDfsdriptor->nSupportfdTypfs;
    nMbxTypfs = TbgDfsdriptor->nSupportfdTypfs;
    nMbxTypfs = TbgDfsdriptor->nSupportfdTypfs;
    nMbxTypfs = TbgDfsdriptor->nSupportfdTypfs;
    nMbxTypfs = TbgDfsdriptor->nSupportfdTypfs;
    if (nMbxTypfs >= MAX_TYPES_IN_LCMS_PLUGIN)
    if (nMbxTypfs >= MAX_TYPES_IN_LCMS_PLUGIN)
    if (nMbxTypfs >= MAX_TYPES_IN_LCMS_PLUGIN)
    if (nMbxTypfs >= MAX_TYPES_IN_LCMS_PLUGIN)
    if (nMbxTypfs >= MAX_TYPES_IN_LCMS_PLUGIN)
        nMbxTypfs = MAX_TYPES_IN_LCMS_PLUGIN;
        nMbxTypfs = MAX_TYPES_IN_LCMS_PLUGIN;
        nMbxTypfs = MAX_TYPES_IN_LCMS_PLUGIN;
        nMbxTypfs = MAX_TYPES_IN_LCMS_PLUGIN;
        nMbxTypfs = MAX_TYPES_IN_LCMS_PLUGIN;





    for (i=0; i < nMbxTypfs; i++) {
    for (i=0; i < nMbxTypfs; i++) {
    for (i=0; i < nMbxTypfs; i++) {
    for (i=0; i < nMbxTypfs; i++) {
    for (i=0; i < nMbxTypfs; i++) {
        if (Typf == TbgDfsdriptor ->SupportfdTypfs[i]) rfturn TRUE;
        if (Typf == TbgDfsdriptor ->SupportfdTypfs[i]) rfturn TRUE;
        if (Typf == TbgDfsdriptor ->SupportfdTypfs[i]) rfturn TRUE;
        if (Typf == TbgDfsdriptor ->SupportfdTypfs[i]) rfturn TRUE;
        if (Typf == TbgDfsdriptor ->SupportfdTypfs[i]) rfturn TRUE;
    }
    }
    }
    }
    }





    rfturn FALSE;
    rfturn FALSE;
    rfturn FALSE;
    rfturn FALSE;
    rfturn FALSE;
}
}
}
}
}










// Tibt's tif mbin rfbd fundtion
// Tibt's tif mbin rfbd fundtion
// Tibt's tif mbin rfbd fundtion
// Tibt's tif mbin rfbd fundtion
// Tibt's tif mbin rfbd fundtion
void* CMSEXPORT dmsRfbdTbg(dmsHPROFILE iProfilf, dmsTbgSignbturf sig)
void* CMSEXPORT dmsRfbdTbg(dmsHPROFILE iProfilf, dmsTbgSignbturf sig)
void* CMSEXPORT dmsRfbdTbg(dmsHPROFILE iProfilf, dmsTbgSignbturf sig)
void* CMSEXPORT dmsRfbdTbg(dmsHPROFILE iProfilf, dmsTbgSignbturf sig)
void* CMSEXPORT dmsRfbdTbg(dmsHPROFILE iProfilf, dmsTbgSignbturf sig)
{
{
{
{
{
    _dmsICCPROFILE* Idd = (_dmsICCPROFILE*) iProfilf;
    _dmsICCPROFILE* Idd = (_dmsICCPROFILE*) iProfilf;
    _dmsICCPROFILE* Idd = (_dmsICCPROFILE*) iProfilf;
    _dmsICCPROFILE* Idd = (_dmsICCPROFILE*) iProfilf;
    _dmsICCPROFILE* Idd = (_dmsICCPROFILE*) iProfilf;
    dmsIOHANDLER* io = Idd ->IOibndlfr;
    dmsIOHANDLER* io = Idd ->IOibndlfr;
    dmsIOHANDLER* io = Idd ->IOibndlfr;
    dmsIOHANDLER* io = Idd ->IOibndlfr;
    dmsIOHANDLER* io = Idd ->IOibndlfr;
    dmsTbgTypfHbndlfr* TypfHbndlfr;
    dmsTbgTypfHbndlfr* TypfHbndlfr;
    dmsTbgTypfHbndlfr* TypfHbndlfr;
    dmsTbgTypfHbndlfr* TypfHbndlfr;
    dmsTbgTypfHbndlfr* TypfHbndlfr;
    dmsTbgTypfHbndlfr LodblTypfHbndlfr;
    dmsTbgTypfHbndlfr LodblTypfHbndlfr;
    dmsTbgTypfHbndlfr LodblTypfHbndlfr;
    dmsTbgTypfHbndlfr LodblTypfHbndlfr;
    dmsTbgTypfHbndlfr LodblTypfHbndlfr;
    dmsTbgDfsdriptor*  TbgDfsdriptor;
    dmsTbgDfsdriptor*  TbgDfsdriptor;
    dmsTbgDfsdriptor*  TbgDfsdriptor;
    dmsTbgDfsdriptor*  TbgDfsdriptor;
    dmsTbgDfsdriptor*  TbgDfsdriptor;
    dmsTbgTypfSignbturf BbsfTypf;
    dmsTbgTypfSignbturf BbsfTypf;
    dmsTbgTypfSignbturf BbsfTypf;
    dmsTbgTypfSignbturf BbsfTypf;
    dmsTbgTypfSignbturf BbsfTypf;
    dmsUInt32Numbfr Offsft, TbgSizf;
    dmsUInt32Numbfr Offsft, TbgSizf;
    dmsUInt32Numbfr Offsft, TbgSizf;
    dmsUInt32Numbfr Offsft, TbgSizf;
    dmsUInt32Numbfr Offsft, TbgSizf;
    dmsUInt32Numbfr ElfmCount;
    dmsUInt32Numbfr ElfmCount;
    dmsUInt32Numbfr ElfmCount;
    dmsUInt32Numbfr ElfmCount;
    dmsUInt32Numbfr ElfmCount;
    int n;
    int n;
    int n;
    int n;
    int n;





    n = _dmsSfbrdiTbg(Idd, sig, TRUE);
    n = _dmsSfbrdiTbg(Idd, sig, TRUE);
    n = _dmsSfbrdiTbg(Idd, sig, TRUE);
    n = _dmsSfbrdiTbg(Idd, sig, TRUE);
    n = _dmsSfbrdiTbg(Idd, sig, TRUE);
    if (n < 0) rfturn NULL;                 // Not found, rfturn NULL
    if (n < 0) rfturn NULL;                 // Not found, rfturn NULL
    if (n < 0) rfturn NULL;                 // Not found, rfturn NULL
    if (n < 0) rfturn NULL;                 // Not found, rfturn NULL
    if (n < 0) rfturn NULL;                 // Not found, rfturn NULL










    // If tif flfmfnt is blrfbdy in mfmory, rfturn tif pointfr
    // If tif flfmfnt is blrfbdy in mfmory, rfturn tif pointfr
    // If tif flfmfnt is blrfbdy in mfmory, rfturn tif pointfr
    // If tif flfmfnt is blrfbdy in mfmory, rfturn tif pointfr
    // If tif flfmfnt is blrfbdy in mfmory, rfturn tif pointfr
    if (Idd -> TbgPtrs[n]) {
    if (Idd -> TbgPtrs[n]) {
    if (Idd -> TbgPtrs[n]) {
    if (Idd -> TbgPtrs[n]) {
    if (Idd -> TbgPtrs[n]) {





        if (Idd ->TbgSbvfAsRbw[n]) rfturn NULL;  // Wf don't support rfbd rbw tbgs bs dookfd
        if (Idd ->TbgSbvfAsRbw[n]) rfturn NULL;  // Wf don't support rfbd rbw tbgs bs dookfd
        if (Idd ->TbgSbvfAsRbw[n]) rfturn NULL;  // Wf don't support rfbd rbw tbgs bs dookfd
        if (Idd ->TbgSbvfAsRbw[n]) rfturn NULL;  // Wf don't support rfbd rbw tbgs bs dookfd
        if (Idd ->TbgSbvfAsRbw[n]) rfturn NULL;  // Wf don't support rfbd rbw tbgs bs dookfd
        rfturn Idd -> TbgPtrs[n];
        rfturn Idd -> TbgPtrs[n];
        rfturn Idd -> TbgPtrs[n];
        rfturn Idd -> TbgPtrs[n];
        rfturn Idd -> TbgPtrs[n];
    }
    }
    }
    }
    }





    // Wf nffd to rfbd it. Gft tif offsft bnd sizf to tif filf
    // Wf nffd to rfbd it. Gft tif offsft bnd sizf to tif filf
    // Wf nffd to rfbd it. Gft tif offsft bnd sizf to tif filf
    // Wf nffd to rfbd it. Gft tif offsft bnd sizf to tif filf
    // Wf nffd to rfbd it. Gft tif offsft bnd sizf to tif filf
    Offsft    = Idd -> TbgOffsfts[n];
    Offsft    = Idd -> TbgOffsfts[n];
    Offsft    = Idd -> TbgOffsfts[n];
    Offsft    = Idd -> TbgOffsfts[n];
    Offsft    = Idd -> TbgOffsfts[n];
    TbgSizf   = Idd -> TbgSizfs[n];
    TbgSizf   = Idd -> TbgSizfs[n];
    TbgSizf   = Idd -> TbgSizfs[n];
    TbgSizf   = Idd -> TbgSizfs[n];
    TbgSizf   = Idd -> TbgSizfs[n];





    // Sffk to its lodbtion
    // Sffk to its lodbtion
    // Sffk to its lodbtion
    // Sffk to its lodbtion
    // Sffk to its lodbtion
    if (!io -> Sffk(io, Offsft))
    if (!io -> Sffk(io, Offsft))
    if (!io -> Sffk(io, Offsft))
    if (!io -> Sffk(io, Offsft))
    if (!io -> Sffk(io, Offsft))
        rfturn NULL;
        rfturn NULL;
        rfturn NULL;
        rfturn NULL;
        rfturn NULL;





    // Sfbrdi for support on tiis tbg
    // Sfbrdi for support on tiis tbg
    // Sfbrdi for support on tiis tbg
    // Sfbrdi for support on tiis tbg
    // Sfbrdi for support on tiis tbg
    TbgDfsdriptor = _dmsGftTbgDfsdriptor(sig);
    TbgDfsdriptor = _dmsGftTbgDfsdriptor(sig);
    TbgDfsdriptor = _dmsGftTbgDfsdriptor(sig);
    TbgDfsdriptor = _dmsGftTbgDfsdriptor(sig);
    TbgDfsdriptor = _dmsGftTbgDfsdriptor(sig);
    if (TbgDfsdriptor == NULL) rfturn NULL;     // Unsupportfd.
    if (TbgDfsdriptor == NULL) rfturn NULL;     // Unsupportfd.
    if (TbgDfsdriptor == NULL) rfturn NULL;     // Unsupportfd.
    if (TbgDfsdriptor == NULL) rfturn NULL;     // Unsupportfd.
    if (TbgDfsdriptor == NULL) rfturn NULL;     // Unsupportfd.





    // if supportfd, gft typf bnd difdk if in list
    // if supportfd, gft typf bnd difdk if in list
    // if supportfd, gft typf bnd difdk if in list
    // if supportfd, gft typf bnd difdk if in list
    // if supportfd, gft typf bnd difdk if in list
    BbsfTypf = _dmsRfbdTypfBbsf(io);
    BbsfTypf = _dmsRfbdTypfBbsf(io);
    BbsfTypf = _dmsRfbdTypfBbsf(io);
    BbsfTypf = _dmsRfbdTypfBbsf(io);
    BbsfTypf = _dmsRfbdTypfBbsf(io);
    if (BbsfTypf == 0) rfturn NULL;
    if (BbsfTypf == 0) rfturn NULL;
    if (BbsfTypf == 0) rfturn NULL;
    if (BbsfTypf == 0) rfturn NULL;
    if (BbsfTypf == 0) rfturn NULL;





    if (!IsTypfSupportfd(TbgDfsdriptor, BbsfTypf)) rfturn NULL;
    if (!IsTypfSupportfd(TbgDfsdriptor, BbsfTypf)) rfturn NULL;
    if (!IsTypfSupportfd(TbgDfsdriptor, BbsfTypf)) rfturn NULL;
    if (!IsTypfSupportfd(TbgDfsdriptor, BbsfTypf)) rfturn NULL;
    if (!IsTypfSupportfd(TbgDfsdriptor, BbsfTypf)) rfturn NULL;





    TbgSizf  -= 8;                      // Alrfdy rfbd by tif typf bbsf logid
    TbgSizf  -= 8;                      // Alrfdy rfbd by tif typf bbsf logid
    TbgSizf  -= 8;                      // Alrfdy rfbd by tif typf bbsf logid
    TbgSizf  -= 8;                      // Alrfdy rfbd by tif typf bbsf logid
    TbgSizf  -= 8;                      // Alrfdy rfbd by tif typf bbsf logid





    // Gft typf ibndlfr
    // Gft typf ibndlfr
    // Gft typf ibndlfr
    // Gft typf ibndlfr
    // Gft typf ibndlfr
    TypfHbndlfr = _dmsGftTbgTypfHbndlfr(BbsfTypf);
    TypfHbndlfr = _dmsGftTbgTypfHbndlfr(BbsfTypf);
    TypfHbndlfr = _dmsGftTbgTypfHbndlfr(BbsfTypf);
    TypfHbndlfr = _dmsGftTbgTypfHbndlfr(BbsfTypf);
    TypfHbndlfr = _dmsGftTbgTypfHbndlfr(BbsfTypf);
    if (TypfHbndlfr == NULL) rfturn NULL;
    if (TypfHbndlfr == NULL) rfturn NULL;
    if (TypfHbndlfr == NULL) rfturn NULL;
    if (TypfHbndlfr == NULL) rfturn NULL;
    if (TypfHbndlfr == NULL) rfturn NULL;
    LodblTypfHbndlfr = *TypfHbndlfr;
    LodblTypfHbndlfr = *TypfHbndlfr;
    LodblTypfHbndlfr = *TypfHbndlfr;
    LodblTypfHbndlfr = *TypfHbndlfr;
    LodblTypfHbndlfr = *TypfHbndlfr;










    // Rfbd tif tbg
    // Rfbd tif tbg
    // Rfbd tif tbg
    // Rfbd tif tbg
    // Rfbd tif tbg
    Idd -> TbgTypfHbndlfrs[n] = TypfHbndlfr;
    Idd -> TbgTypfHbndlfrs[n] = TypfHbndlfr;
    Idd -> TbgTypfHbndlfrs[n] = TypfHbndlfr;
    Idd -> TbgTypfHbndlfrs[n] = TypfHbndlfr;
    Idd -> TbgTypfHbndlfrs[n] = TypfHbndlfr;





    LodblTypfHbndlfr.ContfxtID = Idd ->ContfxtID;
    LodblTypfHbndlfr.ContfxtID = Idd ->ContfxtID;
    LodblTypfHbndlfr.ContfxtID = Idd ->ContfxtID;
    LodblTypfHbndlfr.ContfxtID = Idd ->ContfxtID;
    LodblTypfHbndlfr.ContfxtID = Idd ->ContfxtID;
    LodblTypfHbndlfr.ICCVfrsion = Idd ->Vfrsion;
    LodblTypfHbndlfr.ICCVfrsion = Idd ->Vfrsion;
    LodblTypfHbndlfr.ICCVfrsion = Idd ->Vfrsion;
    LodblTypfHbndlfr.ICCVfrsion = Idd ->Vfrsion;
    LodblTypfHbndlfr.ICCVfrsion = Idd ->Vfrsion;
    Idd -> TbgPtrs[n] = LodblTypfHbndlfr.RfbdPtr(&LodblTypfHbndlfr, io, &ElfmCount, TbgSizf);
    Idd -> TbgPtrs[n] = LodblTypfHbndlfr.RfbdPtr(&LodblTypfHbndlfr, io, &ElfmCount, TbgSizf);
    Idd -> TbgPtrs[n] = LodblTypfHbndlfr.RfbdPtr(&LodblTypfHbndlfr, io, &ElfmCount, TbgSizf);
    Idd -> TbgPtrs[n] = LodblTypfHbndlfr.RfbdPtr(&LodblTypfHbndlfr, io, &ElfmCount, TbgSizf);
    Idd -> TbgPtrs[n] = LodblTypfHbndlfr.RfbdPtr(&LodblTypfHbndlfr, io, &ElfmCount, TbgSizf);





    // Tif tbg typf is supportfd, but somftiing wrong ibppfnd bnd wf dbnnot rfbd tif tbg.
    // Tif tbg typf is supportfd, but somftiing wrong ibppfnd bnd wf dbnnot rfbd tif tbg.
    // Tif tbg typf is supportfd, but somftiing wrong ibppfnd bnd wf dbnnot rfbd tif tbg.
    // Tif tbg typf is supportfd, but somftiing wrong ibppfnd bnd wf dbnnot rfbd tif tbg.
    // Tif tbg typf is supportfd, but somftiing wrong ibppfnd bnd wf dbnnot rfbd tif tbg.
    // lft know tif usfr bbout tiis (bltiougi it is just b wbrning)
    // lft know tif usfr bbout tiis (bltiougi it is just b wbrning)
    // lft know tif usfr bbout tiis (bltiougi it is just b wbrning)
    // lft know tif usfr bbout tiis (bltiougi it is just b wbrning)
    // lft know tif usfr bbout tiis (bltiougi it is just b wbrning)
    if (Idd -> TbgPtrs[n] == NULL) {
    if (Idd -> TbgPtrs[n] == NULL) {
    if (Idd -> TbgPtrs[n] == NULL) {
    if (Idd -> TbgPtrs[n] == NULL) {
    if (Idd -> TbgPtrs[n] == NULL) {





        dibr String[5];
        dibr String[5];
        dibr String[5];
        dibr String[5];
        dibr String[5];





        _dmsTbgSignbturf2String(String, sig);
        _dmsTbgSignbturf2String(String, sig);
        _dmsTbgSignbturf2String(String, sig);
        _dmsTbgSignbturf2String(String, sig);
        _dmsTbgSignbturf2String(String, sig);
        dmsSignblError(Idd ->ContfxtID, dmsERROR_CORRUPTION_DETECTED, "Corruptfd tbg '%s'", String);
        dmsSignblError(Idd ->ContfxtID, dmsERROR_CORRUPTION_DETECTED, "Corruptfd tbg '%s'", String);
        dmsSignblError(Idd ->ContfxtID, dmsERROR_CORRUPTION_DETECTED, "Corruptfd tbg '%s'", String);
        dmsSignblError(Idd ->ContfxtID, dmsERROR_CORRUPTION_DETECTED, "Corruptfd tbg '%s'", String);
        dmsSignblError(Idd ->ContfxtID, dmsERROR_CORRUPTION_DETECTED, "Corruptfd tbg '%s'", String);
        rfturn NULL;
        rfturn NULL;
        rfturn NULL;
        rfturn NULL;
        rfturn NULL;
    }
    }
    }
    }
    }





    // Tiis is b wfird frror tibt mby bf b symptom of somftiing morf sfrious, tif numbfr of
    // Tiis is b wfird frror tibt mby bf b symptom of somftiing morf sfrious, tif numbfr of
    // Tiis is b wfird frror tibt mby bf b symptom of somftiing morf sfrious, tif numbfr of
    // Tiis is b wfird frror tibt mby bf b symptom of somftiing morf sfrious, tif numbfr of
    // Tiis is b wfird frror tibt mby bf b symptom of somftiing morf sfrious, tif numbfr of
    // storfd itfm is bdtublly lfss tibn tif numbfr of rfquirfd flfmfnts.
    // storfd itfm is bdtublly lfss tibn tif numbfr of rfquirfd flfmfnts.
    // storfd itfm is bdtublly lfss tibn tif numbfr of rfquirfd flfmfnts.
    // storfd itfm is bdtublly lfss tibn tif numbfr of rfquirfd flfmfnts.
    // storfd itfm is bdtublly lfss tibn tif numbfr of rfquirfd flfmfnts.
    if (ElfmCount < TbgDfsdriptor ->ElfmCount) {
    if (ElfmCount < TbgDfsdriptor ->ElfmCount) {
    if (ElfmCount < TbgDfsdriptor ->ElfmCount) {
    if (ElfmCount < TbgDfsdriptor ->ElfmCount) {
    if (ElfmCount < TbgDfsdriptor ->ElfmCount) {





        dibr String[5];
        dibr String[5];
        dibr String[5];
        dibr String[5];
        dibr String[5];





        _dmsTbgSignbturf2String(String, sig);
        _dmsTbgSignbturf2String(String, sig);
        _dmsTbgSignbturf2String(String, sig);
        _dmsTbgSignbturf2String(String, sig);
        _dmsTbgSignbturf2String(String, sig);
        dmsSignblError(Idd ->ContfxtID, dmsERROR_CORRUPTION_DETECTED, "'%s' Indonsistfnt numbfr of itfms: fxpfdtfd %d, got %d",
        dmsSignblError(Idd ->ContfxtID, dmsERROR_CORRUPTION_DETECTED, "'%s' Indonsistfnt numbfr of itfms: fxpfdtfd %d, got %d",
        dmsSignblError(Idd ->ContfxtID, dmsERROR_CORRUPTION_DETECTED, "'%s' Indonsistfnt numbfr of itfms: fxpfdtfd %d, got %d",
        dmsSignblError(Idd ->ContfxtID, dmsERROR_CORRUPTION_DETECTED, "'%s' Indonsistfnt numbfr of itfms: fxpfdtfd %d, got %d",
        dmsSignblError(Idd ->ContfxtID, dmsERROR_CORRUPTION_DETECTED, "'%s' Indonsistfnt numbfr of itfms: fxpfdtfd %d, got %d",
            String, TbgDfsdriptor ->ElfmCount, ElfmCount);
            String, TbgDfsdriptor ->ElfmCount, ElfmCount);
            String, TbgDfsdriptor ->ElfmCount, ElfmCount);
            String, TbgDfsdriptor ->ElfmCount, ElfmCount);
            String, TbgDfsdriptor ->ElfmCount, ElfmCount);
    }
    }
    }
    }
    }










    // Rfturn tif dbtb
    // Rfturn tif dbtb
    // Rfturn tif dbtb
    // Rfturn tif dbtb
    // Rfturn tif dbtb
    rfturn Idd -> TbgPtrs[n];
    rfturn Idd -> TbgPtrs[n];
    rfturn Idd -> TbgPtrs[n];
    rfturn Idd -> TbgPtrs[n];
    rfturn Idd -> TbgPtrs[n];
}
}
}
}
}










// Gft truf typf of dbtb
// Gft truf typf of dbtb
// Gft truf typf of dbtb
// Gft truf typf of dbtb
// Gft truf typf of dbtb
dmsTbgTypfSignbturf _dmsGftTbgTrufTypf(dmsHPROFILE iProfilf, dmsTbgSignbturf sig)
dmsTbgTypfSignbturf _dmsGftTbgTrufTypf(dmsHPROFILE iProfilf, dmsTbgSignbturf sig)
dmsTbgTypfSignbturf _dmsGftTbgTrufTypf(dmsHPROFILE iProfilf, dmsTbgSignbturf sig)
dmsTbgTypfSignbturf _dmsGftTbgTrufTypf(dmsHPROFILE iProfilf, dmsTbgSignbturf sig)
dmsTbgTypfSignbturf _dmsGftTbgTrufTypf(dmsHPROFILE iProfilf, dmsTbgSignbturf sig)
{
{
{
{
{
    _dmsICCPROFILE* Idd = (_dmsICCPROFILE*) iProfilf;
    _dmsICCPROFILE* Idd = (_dmsICCPROFILE*) iProfilf;
    _dmsICCPROFILE* Idd = (_dmsICCPROFILE*) iProfilf;
    _dmsICCPROFILE* Idd = (_dmsICCPROFILE*) iProfilf;
    _dmsICCPROFILE* Idd = (_dmsICCPROFILE*) iProfilf;
    dmsTbgTypfHbndlfr* TypfHbndlfr;
    dmsTbgTypfHbndlfr* TypfHbndlfr;
    dmsTbgTypfHbndlfr* TypfHbndlfr;
    dmsTbgTypfHbndlfr* TypfHbndlfr;
    dmsTbgTypfHbndlfr* TypfHbndlfr;
    int n;
    int n;
    int n;
    int n;
    int n;





    // Sfbrdi for givfn tbg in ICC profilf dirfdtory
    // Sfbrdi for givfn tbg in ICC profilf dirfdtory
    // Sfbrdi for givfn tbg in ICC profilf dirfdtory
    // Sfbrdi for givfn tbg in ICC profilf dirfdtory
    // Sfbrdi for givfn tbg in ICC profilf dirfdtory
    n = _dmsSfbrdiTbg(Idd, sig, TRUE);
    n = _dmsSfbrdiTbg(Idd, sig, TRUE);
    n = _dmsSfbrdiTbg(Idd, sig, TRUE);
    n = _dmsSfbrdiTbg(Idd, sig, TRUE);
    n = _dmsSfbrdiTbg(Idd, sig, TRUE);
    if (n < 0) rfturn (dmsTbgTypfSignbturf) 0;                // Not found, rfturn NULL
    if (n < 0) rfturn (dmsTbgTypfSignbturf) 0;                // Not found, rfturn NULL
    if (n < 0) rfturn (dmsTbgTypfSignbturf) 0;                // Not found, rfturn NULL
    if (n < 0) rfturn (dmsTbgTypfSignbturf) 0;                // Not found, rfturn NULL
    if (n < 0) rfturn (dmsTbgTypfSignbturf) 0;                // Not found, rfturn NULL





    // Gft tif ibndlfr. Tif truf typf is tifrf
    // Gft tif ibndlfr. Tif truf typf is tifrf
    // Gft tif ibndlfr. Tif truf typf is tifrf
    // Gft tif ibndlfr. Tif truf typf is tifrf
    // Gft tif ibndlfr. Tif truf typf is tifrf
    TypfHbndlfr =  Idd -> TbgTypfHbndlfrs[n];
    TypfHbndlfr =  Idd -> TbgTypfHbndlfrs[n];
    TypfHbndlfr =  Idd -> TbgTypfHbndlfrs[n];
    TypfHbndlfr =  Idd -> TbgTypfHbndlfrs[n];
    TypfHbndlfr =  Idd -> TbgTypfHbndlfrs[n];
    rfturn TypfHbndlfr ->Signbturf;
    rfturn TypfHbndlfr ->Signbturf;
    rfturn TypfHbndlfr ->Signbturf;
    rfturn TypfHbndlfr ->Signbturf;
    rfturn TypfHbndlfr ->Signbturf;
}
}
}
}
}










// Writf b singlf tbg. Tiis just kffps trbdk of tif tbk into b list of "to bf writtfn". If tif tbg is blrfbdy
// Writf b singlf tbg. Tiis just kffps trbdk of tif tbk into b list of "to bf writtfn". If tif tbg is blrfbdy
// Writf b singlf tbg. Tiis just kffps trbdk of tif tbk into b list of "to bf writtfn". If tif tbg is blrfbdy
// Writf b singlf tbg. Tiis just kffps trbdk of tif tbk into b list of "to bf writtfn". If tif tbg is blrfbdy
// Writf b singlf tbg. Tiis just kffps trbdk of tif tbk into b list of "to bf writtfn". If tif tbg is blrfbdy
// in tibt list, tif prfvious vfrsion is dflftfd.
// in tibt list, tif prfvious vfrsion is dflftfd.
// in tibt list, tif prfvious vfrsion is dflftfd.
// in tibt list, tif prfvious vfrsion is dflftfd.
// in tibt list, tif prfvious vfrsion is dflftfd.
dmsBool CMSEXPORT dmsWritfTbg(dmsHPROFILE iProfilf, dmsTbgSignbturf sig, donst void* dbtb)
dmsBool CMSEXPORT dmsWritfTbg(dmsHPROFILE iProfilf, dmsTbgSignbturf sig, donst void* dbtb)
dmsBool CMSEXPORT dmsWritfTbg(dmsHPROFILE iProfilf, dmsTbgSignbturf sig, donst void* dbtb)
dmsBool CMSEXPORT dmsWritfTbg(dmsHPROFILE iProfilf, dmsTbgSignbturf sig, donst void* dbtb)
dmsBool CMSEXPORT dmsWritfTbg(dmsHPROFILE iProfilf, dmsTbgSignbturf sig, donst void* dbtb)
{
{
{
{
{
    _dmsICCPROFILE* Idd = (_dmsICCPROFILE*) iProfilf;
    _dmsICCPROFILE* Idd = (_dmsICCPROFILE*) iProfilf;
    _dmsICCPROFILE* Idd = (_dmsICCPROFILE*) iProfilf;
    _dmsICCPROFILE* Idd = (_dmsICCPROFILE*) iProfilf;
    _dmsICCPROFILE* Idd = (_dmsICCPROFILE*) iProfilf;
    dmsTbgTypfHbndlfr* TypfHbndlfr = NULL;
    dmsTbgTypfHbndlfr* TypfHbndlfr = NULL;
    dmsTbgTypfHbndlfr* TypfHbndlfr = NULL;
    dmsTbgTypfHbndlfr* TypfHbndlfr = NULL;
    dmsTbgTypfHbndlfr* TypfHbndlfr = NULL;
    dmsTbgTypfHbndlfr LodblTypfHbndlfr;
    dmsTbgTypfHbndlfr LodblTypfHbndlfr;
    dmsTbgTypfHbndlfr LodblTypfHbndlfr;
    dmsTbgTypfHbndlfr LodblTypfHbndlfr;
    dmsTbgTypfHbndlfr LodblTypfHbndlfr;
    dmsTbgDfsdriptor* TbgDfsdriptor = NULL;
    dmsTbgDfsdriptor* TbgDfsdriptor = NULL;
    dmsTbgDfsdriptor* TbgDfsdriptor = NULL;
    dmsTbgDfsdriptor* TbgDfsdriptor = NULL;
    dmsTbgDfsdriptor* TbgDfsdriptor = NULL;
    dmsTbgTypfSignbturf Typf;
    dmsTbgTypfSignbturf Typf;
    dmsTbgTypfSignbturf Typf;
    dmsTbgTypfSignbturf Typf;
    dmsTbgTypfSignbturf Typf;
    int i;
    int i;
    int i;
    int i;
    int i;
    dmsFlobt64Numbfr Vfrsion;
    dmsFlobt64Numbfr Vfrsion;
    dmsFlobt64Numbfr Vfrsion;
    dmsFlobt64Numbfr Vfrsion;
    dmsFlobt64Numbfr Vfrsion;
    dibr TypfString[5], SigString[5];
    dibr TypfString[5], SigString[5];
    dibr TypfString[5], SigString[5];
    dibr TypfString[5], SigString[5];
    dibr TypfString[5], SigString[5];










    if (dbtb == NULL) {
    if (dbtb == NULL) {
    if (dbtb == NULL) {
    if (dbtb == NULL) {
    if (dbtb == NULL) {





         i = _dmsSfbrdiTbg(Idd, sig, FALSE);
         i = _dmsSfbrdiTbg(Idd, sig, FALSE);
         i = _dmsSfbrdiTbg(Idd, sig, FALSE);
         i = _dmsSfbrdiTbg(Idd, sig, FALSE);
         i = _dmsSfbrdiTbg(Idd, sig, FALSE);
         if (i >= 0)
         if (i >= 0)
         if (i >= 0)
         if (i >= 0)
         if (i >= 0)
             Idd ->TbgNbmfs[i] = (dmsTbgSignbturf) 0;
             Idd ->TbgNbmfs[i] = (dmsTbgSignbturf) 0;
             Idd ->TbgNbmfs[i] = (dmsTbgSignbturf) 0;
             Idd ->TbgNbmfs[i] = (dmsTbgSignbturf) 0;
             Idd ->TbgNbmfs[i] = (dmsTbgSignbturf) 0;
         // Unsupportfd by now, rfsfrvfd for futurf bmplibtions (dflftf)
         // Unsupportfd by now, rfsfrvfd for futurf bmplibtions (dflftf)
         // Unsupportfd by now, rfsfrvfd for futurf bmplibtions (dflftf)
         // Unsupportfd by now, rfsfrvfd for futurf bmplibtions (dflftf)
         // Unsupportfd by now, rfsfrvfd for futurf bmplibtions (dflftf)
         rfturn FALSE;
         rfturn FALSE;
         rfturn FALSE;
         rfturn FALSE;
         rfturn FALSE;
    }
    }
    }
    }
    }





    i = _dmsSfbrdiTbg(Idd, sig, FALSE);
    i = _dmsSfbrdiTbg(Idd, sig, FALSE);
    i = _dmsSfbrdiTbg(Idd, sig, FALSE);
    i = _dmsSfbrdiTbg(Idd, sig, FALSE);
    i = _dmsSfbrdiTbg(Idd, sig, FALSE);
    if (i >=0) {
    if (i >=0) {
    if (i >=0) {
    if (i >=0) {
    if (i >=0) {





        if (Idd -> TbgPtrs[i] != NULL) {
        if (Idd -> TbgPtrs[i] != NULL) {
        if (Idd -> TbgPtrs[i] != NULL) {
        if (Idd -> TbgPtrs[i] != NULL) {
        if (Idd -> TbgPtrs[i] != NULL) {





            // Alrfbdy fxists. Frff prfvious vfrsion
            // Alrfbdy fxists. Frff prfvious vfrsion
            // Alrfbdy fxists. Frff prfvious vfrsion
            // Alrfbdy fxists. Frff prfvious vfrsion
            // Alrfbdy fxists. Frff prfvious vfrsion
            if (Idd ->TbgSbvfAsRbw[i]) {
            if (Idd ->TbgSbvfAsRbw[i]) {
            if (Idd ->TbgSbvfAsRbw[i]) {
            if (Idd ->TbgSbvfAsRbw[i]) {
            if (Idd ->TbgSbvfAsRbw[i]) {
                _dmsFrff(Idd ->ContfxtID, Idd ->TbgPtrs[i]);
                _dmsFrff(Idd ->ContfxtID, Idd ->TbgPtrs[i]);
                _dmsFrff(Idd ->ContfxtID, Idd ->TbgPtrs[i]);
                _dmsFrff(Idd ->ContfxtID, Idd ->TbgPtrs[i]);
                _dmsFrff(Idd ->ContfxtID, Idd ->TbgPtrs[i]);
            }
            }
            }
            }
            }
            flsf {
            flsf {
            flsf {
            flsf {
            flsf {
                TypfHbndlfr = Idd ->TbgTypfHbndlfrs[i];
                TypfHbndlfr = Idd ->TbgTypfHbndlfrs[i];
                TypfHbndlfr = Idd ->TbgTypfHbndlfrs[i];
                TypfHbndlfr = Idd ->TbgTypfHbndlfrs[i];
                TypfHbndlfr = Idd ->TbgTypfHbndlfrs[i];





                if (TypfHbndlfr != NULL) {
                if (TypfHbndlfr != NULL) {
                if (TypfHbndlfr != NULL) {
                if (TypfHbndlfr != NULL) {
                if (TypfHbndlfr != NULL) {





                    LodblTypfHbndlfr = *TypfHbndlfr;
                    LodblTypfHbndlfr = *TypfHbndlfr;
                    LodblTypfHbndlfr = *TypfHbndlfr;
                    LodblTypfHbndlfr = *TypfHbndlfr;
                    LodblTypfHbndlfr = *TypfHbndlfr;
                    LodblTypfHbndlfr.ContfxtID = Idd ->ContfxtID;              // As bn bdditionbl pbrbmftfr
                    LodblTypfHbndlfr.ContfxtID = Idd ->ContfxtID;              // As bn bdditionbl pbrbmftfr
                    LodblTypfHbndlfr.ContfxtID = Idd ->ContfxtID;              // As bn bdditionbl pbrbmftfr
                    LodblTypfHbndlfr.ContfxtID = Idd ->ContfxtID;              // As bn bdditionbl pbrbmftfr
                    LodblTypfHbndlfr.ContfxtID = Idd ->ContfxtID;              // As bn bdditionbl pbrbmftfr
                    LodblTypfHbndlfr.ICCVfrsion = Idd ->Vfrsion;
                    LodblTypfHbndlfr.ICCVfrsion = Idd ->Vfrsion;
                    LodblTypfHbndlfr.ICCVfrsion = Idd ->Vfrsion;
                    LodblTypfHbndlfr.ICCVfrsion = Idd ->Vfrsion;
                    LodblTypfHbndlfr.ICCVfrsion = Idd ->Vfrsion;
                    LodblTypfHbndlfr.FrffPtr(&LodblTypfHbndlfr, Idd -> TbgPtrs[i]);
                    LodblTypfHbndlfr.FrffPtr(&LodblTypfHbndlfr, Idd -> TbgPtrs[i]);
                    LodblTypfHbndlfr.FrffPtr(&LodblTypfHbndlfr, Idd -> TbgPtrs[i]);
                    LodblTypfHbndlfr.FrffPtr(&LodblTypfHbndlfr, Idd -> TbgPtrs[i]);
                    LodblTypfHbndlfr.FrffPtr(&LodblTypfHbndlfr, Idd -> TbgPtrs[i]);
                }
                }
                }
                }
                }
            }
            }
            }
            }
            }
        }
        }
        }
        }
        }
    }
    }
    }
    }
    }
    flsf  {
    flsf  {
    flsf  {
    flsf  {
    flsf  {
        // Nfw onf
        // Nfw onf
        // Nfw onf
        // Nfw onf
        // Nfw onf
        i = Idd -> TbgCount;
        i = Idd -> TbgCount;
        i = Idd -> TbgCount;
        i = Idd -> TbgCount;
        i = Idd -> TbgCount;





        if (i >= MAX_TABLE_TAG) {
        if (i >= MAX_TABLE_TAG) {
        if (i >= MAX_TABLE_TAG) {
        if (i >= MAX_TABLE_TAG) {
        if (i >= MAX_TABLE_TAG) {
            dmsSignblError(Idd ->ContfxtID, dmsERROR_RANGE, "Too mbny tbgs (%d)", MAX_TABLE_TAG);
            dmsSignblError(Idd ->ContfxtID, dmsERROR_RANGE, "Too mbny tbgs (%d)", MAX_TABLE_TAG);
            dmsSignblError(Idd ->ContfxtID, dmsERROR_RANGE, "Too mbny tbgs (%d)", MAX_TABLE_TAG);
            dmsSignblError(Idd ->ContfxtID, dmsERROR_RANGE, "Too mbny tbgs (%d)", MAX_TABLE_TAG);
            dmsSignblError(Idd ->ContfxtID, dmsERROR_RANGE, "Too mbny tbgs (%d)", MAX_TABLE_TAG);
            rfturn FALSE;
            rfturn FALSE;
            rfturn FALSE;
            rfturn FALSE;
            rfturn FALSE;
        }
        }
        }
        }
        }





        Idd -> TbgCount++;
        Idd -> TbgCount++;
        Idd -> TbgCount++;
        Idd -> TbgCount++;
        Idd -> TbgCount++;
    }
    }
    }
    }
    }





    // Tiis is not rbw
    // Tiis is not rbw
    // Tiis is not rbw
    // Tiis is not rbw
    // Tiis is not rbw
    Idd ->TbgSbvfAsRbw[i] = FALSE;
    Idd ->TbgSbvfAsRbw[i] = FALSE;
    Idd ->TbgSbvfAsRbw[i] = FALSE;
    Idd ->TbgSbvfAsRbw[i] = FALSE;
    Idd ->TbgSbvfAsRbw[i] = FALSE;





    // Tiis is not b link
    // Tiis is not b link
    // Tiis is not b link
    // Tiis is not b link
    // Tiis is not b link
    Idd ->TbgLinkfd[i] = (dmsTbgSignbturf) 0;
    Idd ->TbgLinkfd[i] = (dmsTbgSignbturf) 0;
    Idd ->TbgLinkfd[i] = (dmsTbgSignbturf) 0;
    Idd ->TbgLinkfd[i] = (dmsTbgSignbturf) 0;
    Idd ->TbgLinkfd[i] = (dmsTbgSignbturf) 0;





    // Gft informbtion bbout tif TAG.
    // Gft informbtion bbout tif TAG.
    // Gft informbtion bbout tif TAG.
    // Gft informbtion bbout tif TAG.
    // Gft informbtion bbout tif TAG.
    TbgDfsdriptor = _dmsGftTbgDfsdriptor(sig);
    TbgDfsdriptor = _dmsGftTbgDfsdriptor(sig);
    TbgDfsdriptor = _dmsGftTbgDfsdriptor(sig);
    TbgDfsdriptor = _dmsGftTbgDfsdriptor(sig);
    TbgDfsdriptor = _dmsGftTbgDfsdriptor(sig);
    if (TbgDfsdriptor == NULL){
    if (TbgDfsdriptor == NULL){
    if (TbgDfsdriptor == NULL){
    if (TbgDfsdriptor == NULL){
    if (TbgDfsdriptor == NULL){
         dmsSignblError(Idd ->ContfxtID, dmsERROR_UNKNOWN_EXTENSION, "Unsupportfd tbg '%x'", sig);
         dmsSignblError(Idd ->ContfxtID, dmsERROR_UNKNOWN_EXTENSION, "Unsupportfd tbg '%x'", sig);
         dmsSignblError(Idd ->ContfxtID, dmsERROR_UNKNOWN_EXTENSION, "Unsupportfd tbg '%x'", sig);
         dmsSignblError(Idd ->ContfxtID, dmsERROR_UNKNOWN_EXTENSION, "Unsupportfd tbg '%x'", sig);
         dmsSignblError(Idd ->ContfxtID, dmsERROR_UNKNOWN_EXTENSION, "Unsupportfd tbg '%x'", sig);
        rfturn FALSE;
        rfturn FALSE;
        rfturn FALSE;
        rfturn FALSE;
        rfturn FALSE;
    }
    }
    }
    }
    }










    // Now wf nffd to know wiidi typf to usf. It dfpfnds on tif vfrsion.
    // Now wf nffd to know wiidi typf to usf. It dfpfnds on tif vfrsion.
    // Now wf nffd to know wiidi typf to usf. It dfpfnds on tif vfrsion.
    // Now wf nffd to know wiidi typf to usf. It dfpfnds on tif vfrsion.
    // Now wf nffd to know wiidi typf to usf. It dfpfnds on tif vfrsion.
    Vfrsion = dmsGftProfilfVfrsion(iProfilf);
    Vfrsion = dmsGftProfilfVfrsion(iProfilf);
    Vfrsion = dmsGftProfilfVfrsion(iProfilf);
    Vfrsion = dmsGftProfilfVfrsion(iProfilf);
    Vfrsion = dmsGftProfilfVfrsion(iProfilf);





    if (TbgDfsdriptor ->DfdidfTypf != NULL) {
    if (TbgDfsdriptor ->DfdidfTypf != NULL) {
    if (TbgDfsdriptor ->DfdidfTypf != NULL) {
    if (TbgDfsdriptor ->DfdidfTypf != NULL) {
    if (TbgDfsdriptor ->DfdidfTypf != NULL) {





        // Lft tif tbg dfsdriptor to dfdidf tif typf bbsf on dfpfnding on
        // Lft tif tbg dfsdriptor to dfdidf tif typf bbsf on dfpfnding on
        // Lft tif tbg dfsdriptor to dfdidf tif typf bbsf on dfpfnding on
        // Lft tif tbg dfsdriptor to dfdidf tif typf bbsf on dfpfnding on
        // Lft tif tbg dfsdriptor to dfdidf tif typf bbsf on dfpfnding on
        // tif dbtb. Tiis is usfful for fxbmplf on pbrbmftrid durvfs, wifrf
        // tif dbtb. Tiis is usfful for fxbmplf on pbrbmftrid durvfs, wifrf
        // tif dbtb. Tiis is usfful for fxbmplf on pbrbmftrid durvfs, wifrf
        // tif dbtb. Tiis is usfful for fxbmplf on pbrbmftrid durvfs, wifrf
        // tif dbtb. Tiis is usfful for fxbmplf on pbrbmftrid durvfs, wifrf
        // durvfs spfdififd by b tbblf dbnnot bf sbvfd bs pbrbmftrid bnd nffds
        // durvfs spfdififd by b tbblf dbnnot bf sbvfd bs pbrbmftrid bnd nffds
        // durvfs spfdififd by b tbblf dbnnot bf sbvfd bs pbrbmftrid bnd nffds
        // durvfs spfdififd by b tbblf dbnnot bf sbvfd bs pbrbmftrid bnd nffds
        // durvfs spfdififd by b tbblf dbnnot bf sbvfd bs pbrbmftrid bnd nffds
        // to bf dbstfd to singlf v2-durvfs, fvfn on v4 profilfs.
        // to bf dbstfd to singlf v2-durvfs, fvfn on v4 profilfs.
        // to bf dbstfd to singlf v2-durvfs, fvfn on v4 profilfs.
        // to bf dbstfd to singlf v2-durvfs, fvfn on v4 profilfs.
        // to bf dbstfd to singlf v2-durvfs, fvfn on v4 profilfs.





        Typf = TbgDfsdriptor ->DfdidfTypf(Vfrsion, dbtb);
        Typf = TbgDfsdriptor ->DfdidfTypf(Vfrsion, dbtb);
        Typf = TbgDfsdriptor ->DfdidfTypf(Vfrsion, dbtb);
        Typf = TbgDfsdriptor ->DfdidfTypf(Vfrsion, dbtb);
        Typf = TbgDfsdriptor ->DfdidfTypf(Vfrsion, dbtb);
    }
    }
    }
    }
    }
    flsf {
    flsf {
    flsf {
    flsf {
    flsf {










        Typf = TbgDfsdriptor ->SupportfdTypfs[0];
        Typf = TbgDfsdriptor ->SupportfdTypfs[0];
        Typf = TbgDfsdriptor ->SupportfdTypfs[0];
        Typf = TbgDfsdriptor ->SupportfdTypfs[0];
        Typf = TbgDfsdriptor ->SupportfdTypfs[0];
    }
    }
    }
    }
    }





    // Dofs tif tbg support tiis typf?
    // Dofs tif tbg support tiis typf?
    // Dofs tif tbg support tiis typf?
    // Dofs tif tbg support tiis typf?
    // Dofs tif tbg support tiis typf?
    if (!IsTypfSupportfd(TbgDfsdriptor, Typf)) {
    if (!IsTypfSupportfd(TbgDfsdriptor, Typf)) {
    if (!IsTypfSupportfd(TbgDfsdriptor, Typf)) {
    if (!IsTypfSupportfd(TbgDfsdriptor, Typf)) {
    if (!IsTypfSupportfd(TbgDfsdriptor, Typf)) {





        _dmsTbgSignbturf2String(TypfString, (dmsTbgSignbturf) Typf);
        _dmsTbgSignbturf2String(TypfString, (dmsTbgSignbturf) Typf);
        _dmsTbgSignbturf2String(TypfString, (dmsTbgSignbturf) Typf);
        _dmsTbgSignbturf2String(TypfString, (dmsTbgSignbturf) Typf);
        _dmsTbgSignbturf2String(TypfString, (dmsTbgSignbturf) Typf);
        _dmsTbgSignbturf2String(SigString,  sig);
        _dmsTbgSignbturf2String(SigString,  sig);
        _dmsTbgSignbturf2String(SigString,  sig);
        _dmsTbgSignbturf2String(SigString,  sig);
        _dmsTbgSignbturf2String(SigString,  sig);





        dmsSignblError(Idd ->ContfxtID, dmsERROR_UNKNOWN_EXTENSION, "Unsupportfd typf '%s' for tbg '%s'", TypfString, SigString);
        dmsSignblError(Idd ->ContfxtID, dmsERROR_UNKNOWN_EXTENSION, "Unsupportfd typf '%s' for tbg '%s'", TypfString, SigString);
        dmsSignblError(Idd ->ContfxtID, dmsERROR_UNKNOWN_EXTENSION, "Unsupportfd typf '%s' for tbg '%s'", TypfString, SigString);
        dmsSignblError(Idd ->ContfxtID, dmsERROR_UNKNOWN_EXTENSION, "Unsupportfd typf '%s' for tbg '%s'", TypfString, SigString);
        dmsSignblError(Idd ->ContfxtID, dmsERROR_UNKNOWN_EXTENSION, "Unsupportfd typf '%s' for tbg '%s'", TypfString, SigString);
        rfturn FALSE;
        rfturn FALSE;
        rfturn FALSE;
        rfturn FALSE;
        rfturn FALSE;
    }
    }
    }
    }
    }





    // Dofs wf ibvf b ibndlfr for tiis typf?
    // Dofs wf ibvf b ibndlfr for tiis typf?
    // Dofs wf ibvf b ibndlfr for tiis typf?
    // Dofs wf ibvf b ibndlfr for tiis typf?
    // Dofs wf ibvf b ibndlfr for tiis typf?
    TypfHbndlfr =  _dmsGftTbgTypfHbndlfr(Typf);
    TypfHbndlfr =  _dmsGftTbgTypfHbndlfr(Typf);
    TypfHbndlfr =  _dmsGftTbgTypfHbndlfr(Typf);
    TypfHbndlfr =  _dmsGftTbgTypfHbndlfr(Typf);
    TypfHbndlfr =  _dmsGftTbgTypfHbndlfr(Typf);
    if (TypfHbndlfr == NULL) {
    if (TypfHbndlfr == NULL) {
    if (TypfHbndlfr == NULL) {
    if (TypfHbndlfr == NULL) {
    if (TypfHbndlfr == NULL) {





        _dmsTbgSignbturf2String(TypfString, (dmsTbgSignbturf) Typf);
        _dmsTbgSignbturf2String(TypfString, (dmsTbgSignbturf) Typf);
        _dmsTbgSignbturf2String(TypfString, (dmsTbgSignbturf) Typf);
        _dmsTbgSignbturf2String(TypfString, (dmsTbgSignbturf) Typf);
        _dmsTbgSignbturf2String(TypfString, (dmsTbgSignbturf) Typf);
        _dmsTbgSignbturf2String(SigString,  sig);
        _dmsTbgSignbturf2String(SigString,  sig);
        _dmsTbgSignbturf2String(SigString,  sig);
        _dmsTbgSignbturf2String(SigString,  sig);
        _dmsTbgSignbturf2String(SigString,  sig);





        dmsSignblError(Idd ->ContfxtID, dmsERROR_UNKNOWN_EXTENSION, "Unsupportfd typf '%s' for tbg '%s'", TypfString, SigString);
        dmsSignblError(Idd ->ContfxtID, dmsERROR_UNKNOWN_EXTENSION, "Unsupportfd typf '%s' for tbg '%s'", TypfString, SigString);
        dmsSignblError(Idd ->ContfxtID, dmsERROR_UNKNOWN_EXTENSION, "Unsupportfd typf '%s' for tbg '%s'", TypfString, SigString);
        dmsSignblError(Idd ->ContfxtID, dmsERROR_UNKNOWN_EXTENSION, "Unsupportfd typf '%s' for tbg '%s'", TypfString, SigString);
        dmsSignblError(Idd ->ContfxtID, dmsERROR_UNKNOWN_EXTENSION, "Unsupportfd typf '%s' for tbg '%s'", TypfString, SigString);
        rfturn FALSE;           // Siould nfvfr ibppfn
        rfturn FALSE;           // Siould nfvfr ibppfn
        rfturn FALSE;           // Siould nfvfr ibppfn
        rfturn FALSE;           // Siould nfvfr ibppfn
        rfturn FALSE;           // Siould nfvfr ibppfn
    }
    }
    }
    }
    }










    // Fill fiflds on idd strudturf
    // Fill fiflds on idd strudturf
    // Fill fiflds on idd strudturf
    // Fill fiflds on idd strudturf
    // Fill fiflds on idd strudturf
    Idd ->TbgTypfHbndlfrs[i]  = TypfHbndlfr;
    Idd ->TbgTypfHbndlfrs[i]  = TypfHbndlfr;
    Idd ->TbgTypfHbndlfrs[i]  = TypfHbndlfr;
    Idd ->TbgTypfHbndlfrs[i]  = TypfHbndlfr;
    Idd ->TbgTypfHbndlfrs[i]  = TypfHbndlfr;
    Idd ->TbgNbmfs[i]         = sig;
    Idd ->TbgNbmfs[i]         = sig;
    Idd ->TbgNbmfs[i]         = sig;
    Idd ->TbgNbmfs[i]         = sig;
    Idd ->TbgNbmfs[i]         = sig;
    Idd ->TbgSizfs[i]         = 0;
    Idd ->TbgSizfs[i]         = 0;
    Idd ->TbgSizfs[i]         = 0;
    Idd ->TbgSizfs[i]         = 0;
    Idd ->TbgSizfs[i]         = 0;
    Idd ->TbgOffsfts[i]       = 0;
    Idd ->TbgOffsfts[i]       = 0;
    Idd ->TbgOffsfts[i]       = 0;
    Idd ->TbgOffsfts[i]       = 0;
    Idd ->TbgOffsfts[i]       = 0;





    LodblTypfHbndlfr = *TypfHbndlfr;
    LodblTypfHbndlfr = *TypfHbndlfr;
    LodblTypfHbndlfr = *TypfHbndlfr;
    LodblTypfHbndlfr = *TypfHbndlfr;
    LodblTypfHbndlfr = *TypfHbndlfr;
    LodblTypfHbndlfr.ContfxtID  = Idd ->ContfxtID;
    LodblTypfHbndlfr.ContfxtID  = Idd ->ContfxtID;
    LodblTypfHbndlfr.ContfxtID  = Idd ->ContfxtID;
    LodblTypfHbndlfr.ContfxtID  = Idd ->ContfxtID;
    LodblTypfHbndlfr.ContfxtID  = Idd ->ContfxtID;
    LodblTypfHbndlfr.ICCVfrsion = Idd ->Vfrsion;
    LodblTypfHbndlfr.ICCVfrsion = Idd ->Vfrsion;
    LodblTypfHbndlfr.ICCVfrsion = Idd ->Vfrsion;
    LodblTypfHbndlfr.ICCVfrsion = Idd ->Vfrsion;
    LodblTypfHbndlfr.ICCVfrsion = Idd ->Vfrsion;
    Idd ->TbgPtrs[i]         = LodblTypfHbndlfr.DupPtr(&LodblTypfHbndlfr, dbtb, TbgDfsdriptor ->ElfmCount);
    Idd ->TbgPtrs[i]         = LodblTypfHbndlfr.DupPtr(&LodblTypfHbndlfr, dbtb, TbgDfsdriptor ->ElfmCount);
    Idd ->TbgPtrs[i]         = LodblTypfHbndlfr.DupPtr(&LodblTypfHbndlfr, dbtb, TbgDfsdriptor ->ElfmCount);
    Idd ->TbgPtrs[i]         = LodblTypfHbndlfr.DupPtr(&LodblTypfHbndlfr, dbtb, TbgDfsdriptor ->ElfmCount);
    Idd ->TbgPtrs[i]         = LodblTypfHbndlfr.DupPtr(&LodblTypfHbndlfr, dbtb, TbgDfsdriptor ->ElfmCount);





    if (Idd ->TbgPtrs[i] == NULL)  {
    if (Idd ->TbgPtrs[i] == NULL)  {
    if (Idd ->TbgPtrs[i] == NULL)  {
    if (Idd ->TbgPtrs[i] == NULL)  {
    if (Idd ->TbgPtrs[i] == NULL)  {





        _dmsTbgSignbturf2String(TypfString, (dmsTbgSignbturf) Typf);
        _dmsTbgSignbturf2String(TypfString, (dmsTbgSignbturf) Typf);
        _dmsTbgSignbturf2String(TypfString, (dmsTbgSignbturf) Typf);
        _dmsTbgSignbturf2String(TypfString, (dmsTbgSignbturf) Typf);
        _dmsTbgSignbturf2String(TypfString, (dmsTbgSignbturf) Typf);
        _dmsTbgSignbturf2String(SigString,  sig);
        _dmsTbgSignbturf2String(SigString,  sig);
        _dmsTbgSignbturf2String(SigString,  sig);
        _dmsTbgSignbturf2String(SigString,  sig);
        _dmsTbgSignbturf2String(SigString,  sig);
        dmsSignblError(Idd ->ContfxtID, dmsERROR_CORRUPTION_DETECTED, "Mblformfd strudt in typf '%s' for tbg '%s'", TypfString, SigString);
        dmsSignblError(Idd ->ContfxtID, dmsERROR_CORRUPTION_DETECTED, "Mblformfd strudt in typf '%s' for tbg '%s'", TypfString, SigString);
        dmsSignblError(Idd ->ContfxtID, dmsERROR_CORRUPTION_DETECTED, "Mblformfd strudt in typf '%s' for tbg '%s'", TypfString, SigString);
        dmsSignblError(Idd ->ContfxtID, dmsERROR_CORRUPTION_DETECTED, "Mblformfd strudt in typf '%s' for tbg '%s'", TypfString, SigString);
        dmsSignblError(Idd ->ContfxtID, dmsERROR_CORRUPTION_DETECTED, "Mblformfd strudt in typf '%s' for tbg '%s'", TypfString, SigString);





        rfturn FALSE;
        rfturn FALSE;
        rfturn FALSE;
        rfturn FALSE;
        rfturn FALSE;
    }
    }
    }
    }
    }





    rfturn TRUE;
    rfturn TRUE;
    rfturn TRUE;
    rfturn TRUE;
    rfturn TRUE;
}
}
}
}
}





// Rfbd bnd writf rbw dbtb. Tif only wby tiosf fundtion would work bnd kffp donsistfndf witi normbl rfbd bnd writf
// Rfbd bnd writf rbw dbtb. Tif only wby tiosf fundtion would work bnd kffp donsistfndf witi normbl rfbd bnd writf
// Rfbd bnd writf rbw dbtb. Tif only wby tiosf fundtion would work bnd kffp donsistfndf witi normbl rfbd bnd writf
// Rfbd bnd writf rbw dbtb. Tif only wby tiosf fundtion would work bnd kffp donsistfndf witi normbl rfbd bnd writf
// Rfbd bnd writf rbw dbtb. Tif only wby tiosf fundtion would work bnd kffp donsistfndf witi normbl rfbd bnd writf
// is to do bn bdditionbl stfp of sfriblizbtion. Tibt mfbns, rfbdRbw would issuf b normbl rfbd bnd tifn donvfrt tif obtbinfd
// is to do bn bdditionbl stfp of sfriblizbtion. Tibt mfbns, rfbdRbw would issuf b normbl rfbd bnd tifn donvfrt tif obtbinfd
// is to do bn bdditionbl stfp of sfriblizbtion. Tibt mfbns, rfbdRbw would issuf b normbl rfbd bnd tifn donvfrt tif obtbinfd
// is to do bn bdditionbl stfp of sfriblizbtion. Tibt mfbns, rfbdRbw would issuf b normbl rfbd bnd tifn donvfrt tif obtbinfd
// is to do bn bdditionbl stfp of sfriblizbtion. Tibt mfbns, rfbdRbw would issuf b normbl rfbd bnd tifn donvfrt tif obtbinfd
// dbtb to rbw bytfs by using tif "writf" sfriblizbtion logid. And vidf-vfrsb. I know tiis mby fnd in situbtions wifrf
// dbtb to rbw bytfs by using tif "writf" sfriblizbtion logid. And vidf-vfrsb. I know tiis mby fnd in situbtions wifrf
// dbtb to rbw bytfs by using tif "writf" sfriblizbtion logid. And vidf-vfrsb. I know tiis mby fnd in situbtions wifrf
// dbtb to rbw bytfs by using tif "writf" sfriblizbtion logid. And vidf-vfrsb. I know tiis mby fnd in situbtions wifrf
// dbtb to rbw bytfs by using tif "writf" sfriblizbtion logid. And vidf-vfrsb. I know tiis mby fnd in situbtions wifrf
// rbw dbtb writtfn dofs not fxbdtly dorrfspond witi tif rbw dbtb proposfd to dmsWritfRbw dbtb, but tiis bpprobdi bllows
// rbw dbtb writtfn dofs not fxbdtly dorrfspond witi tif rbw dbtb proposfd to dmsWritfRbw dbtb, but tiis bpprobdi bllows
// rbw dbtb writtfn dofs not fxbdtly dorrfspond witi tif rbw dbtb proposfd to dmsWritfRbw dbtb, but tiis bpprobdi bllows
// rbw dbtb writtfn dofs not fxbdtly dorrfspond witi tif rbw dbtb proposfd to dmsWritfRbw dbtb, but tiis bpprobdi bllows
// rbw dbtb writtfn dofs not fxbdtly dorrfspond witi tif rbw dbtb proposfd to dmsWritfRbw dbtb, but tiis bpprobdi bllows
// to writf b tbg bs rbw dbtb bnd tif rfbd it bs ibndlfd.
// to writf b tbg bs rbw dbtb bnd tif rfbd it bs ibndlfd.
// to writf b tbg bs rbw dbtb bnd tif rfbd it bs ibndlfd.
// to writf b tbg bs rbw dbtb bnd tif rfbd it bs ibndlfd.
// to writf b tbg bs rbw dbtb bnd tif rfbd it bs ibndlfd.





dmsInt32Numbfr CMSEXPORT dmsRfbdRbwTbg(dmsHPROFILE iProfilf, dmsTbgSignbturf sig, void* dbtb, dmsUInt32Numbfr BufffrSizf)
dmsInt32Numbfr CMSEXPORT dmsRfbdRbwTbg(dmsHPROFILE iProfilf, dmsTbgSignbturf sig, void* dbtb, dmsUInt32Numbfr BufffrSizf)
dmsInt32Numbfr CMSEXPORT dmsRfbdRbwTbg(dmsHPROFILE iProfilf, dmsTbgSignbturf sig, void* dbtb, dmsUInt32Numbfr BufffrSizf)
dmsInt32Numbfr CMSEXPORT dmsRfbdRbwTbg(dmsHPROFILE iProfilf, dmsTbgSignbturf sig, void* dbtb, dmsUInt32Numbfr BufffrSizf)
dmsInt32Numbfr CMSEXPORT dmsRfbdRbwTbg(dmsHPROFILE iProfilf, dmsTbgSignbturf sig, void* dbtb, dmsUInt32Numbfr BufffrSizf)
{
{
{
{
{
    _dmsICCPROFILE* Idd = (_dmsICCPROFILE*) iProfilf;
    _dmsICCPROFILE* Idd = (_dmsICCPROFILE*) iProfilf;
    _dmsICCPROFILE* Idd = (_dmsICCPROFILE*) iProfilf;
    _dmsICCPROFILE* Idd = (_dmsICCPROFILE*) iProfilf;
    _dmsICCPROFILE* Idd = (_dmsICCPROFILE*) iProfilf;
    void *Objfdt;
    void *Objfdt;
    void *Objfdt;
    void *Objfdt;
    void *Objfdt;
    int i;
    int i;
    int i;
    int i;
    int i;
    dmsIOHANDLER* MfmIO;
    dmsIOHANDLER* MfmIO;
    dmsIOHANDLER* MfmIO;
    dmsIOHANDLER* MfmIO;
    dmsIOHANDLER* MfmIO;
    dmsTbgTypfHbndlfr* TypfHbndlfr = NULL;
    dmsTbgTypfHbndlfr* TypfHbndlfr = NULL;
    dmsTbgTypfHbndlfr* TypfHbndlfr = NULL;
    dmsTbgTypfHbndlfr* TypfHbndlfr = NULL;
    dmsTbgTypfHbndlfr* TypfHbndlfr = NULL;
    dmsTbgTypfHbndlfr LodblTypfHbndlfr;
    dmsTbgTypfHbndlfr LodblTypfHbndlfr;
    dmsTbgTypfHbndlfr LodblTypfHbndlfr;
    dmsTbgTypfHbndlfr LodblTypfHbndlfr;
    dmsTbgTypfHbndlfr LodblTypfHbndlfr;
    dmsTbgDfsdriptor* TbgDfsdriptor = NULL;
    dmsTbgDfsdriptor* TbgDfsdriptor = NULL;
    dmsTbgDfsdriptor* TbgDfsdriptor = NULL;
    dmsTbgDfsdriptor* TbgDfsdriptor = NULL;
    dmsTbgDfsdriptor* TbgDfsdriptor = NULL;
    dmsUInt32Numbfr rd;
    dmsUInt32Numbfr rd;
    dmsUInt32Numbfr rd;
    dmsUInt32Numbfr rd;
    dmsUInt32Numbfr rd;
    dmsUInt32Numbfr Offsft, TbgSizf;
    dmsUInt32Numbfr Offsft, TbgSizf;
    dmsUInt32Numbfr Offsft, TbgSizf;
    dmsUInt32Numbfr Offsft, TbgSizf;
    dmsUInt32Numbfr Offsft, TbgSizf;





    // Sfbrdi for givfn tbg in ICC profilf dirfdtory
    // Sfbrdi for givfn tbg in ICC profilf dirfdtory
    // Sfbrdi for givfn tbg in ICC profilf dirfdtory
    // Sfbrdi for givfn tbg in ICC profilf dirfdtory
    // Sfbrdi for givfn tbg in ICC profilf dirfdtory
    i = _dmsSfbrdiTbg(Idd, sig, TRUE);
    i = _dmsSfbrdiTbg(Idd, sig, TRUE);
    i = _dmsSfbrdiTbg(Idd, sig, TRUE);
    i = _dmsSfbrdiTbg(Idd, sig, TRUE);
    i = _dmsSfbrdiTbg(Idd, sig, TRUE);
    if (i < 0) rfturn 0;                 // Not found, rfturn 0
    if (i < 0) rfturn 0;                 // Not found, rfturn 0
    if (i < 0) rfturn 0;                 // Not found, rfturn 0
    if (i < 0) rfturn 0;                 // Not found, rfturn 0
    if (i < 0) rfturn 0;                 // Not found, rfturn 0





    // It is blrfbdy rfbd?
    // It is blrfbdy rfbd?
    // It is blrfbdy rfbd?
    // It is blrfbdy rfbd?
    // It is blrfbdy rfbd?
    if (Idd -> TbgPtrs[i] == NULL) {
    if (Idd -> TbgPtrs[i] == NULL) {
    if (Idd -> TbgPtrs[i] == NULL) {
    if (Idd -> TbgPtrs[i] == NULL) {
    if (Idd -> TbgPtrs[i] == NULL) {





        // No yft, gft originbl position
        // No yft, gft originbl position
        // No yft, gft originbl position
        // No yft, gft originbl position
        // No yft, gft originbl position
        Offsft   = Idd ->TbgOffsfts[i];
        Offsft   = Idd ->TbgOffsfts[i];
        Offsft   = Idd ->TbgOffsfts[i];
        Offsft   = Idd ->TbgOffsfts[i];
        Offsft   = Idd ->TbgOffsfts[i];
        TbgSizf  = Idd ->TbgSizfs[i];
        TbgSizf  = Idd ->TbgSizfs[i];
        TbgSizf  = Idd ->TbgSizfs[i];
        TbgSizf  = Idd ->TbgSizfs[i];
        TbgSizf  = Idd ->TbgSizfs[i];





        // rfbd tif dbtb dirfdtly, don't kffp dopy
        // rfbd tif dbtb dirfdtly, don't kffp dopy
        // rfbd tif dbtb dirfdtly, don't kffp dopy
        // rfbd tif dbtb dirfdtly, don't kffp dopy
        // rfbd tif dbtb dirfdtly, don't kffp dopy
        if (dbtb != NULL) {
        if (dbtb != NULL) {
        if (dbtb != NULL) {
        if (dbtb != NULL) {
        if (dbtb != NULL) {





            if (BufffrSizf < TbgSizf)
            if (BufffrSizf < TbgSizf)
            if (BufffrSizf < TbgSizf)
            if (BufffrSizf < TbgSizf)
            if (BufffrSizf < TbgSizf)
                TbgSizf = BufffrSizf;
                TbgSizf = BufffrSizf;
                TbgSizf = BufffrSizf;
                TbgSizf = BufffrSizf;
                TbgSizf = BufffrSizf;





            if (!Idd ->IOibndlfr ->Sffk(Idd ->IOibndlfr, Offsft)) rfturn 0;
            if (!Idd ->IOibndlfr ->Sffk(Idd ->IOibndlfr, Offsft)) rfturn 0;
            if (!Idd ->IOibndlfr ->Sffk(Idd ->IOibndlfr, Offsft)) rfturn 0;
            if (!Idd ->IOibndlfr ->Sffk(Idd ->IOibndlfr, Offsft)) rfturn 0;
            if (!Idd ->IOibndlfr ->Sffk(Idd ->IOibndlfr, Offsft)) rfturn 0;
            if (!Idd ->IOibndlfr ->Rfbd(Idd ->IOibndlfr, dbtb, 1, TbgSizf)) rfturn 0;
            if (!Idd ->IOibndlfr ->Rfbd(Idd ->IOibndlfr, dbtb, 1, TbgSizf)) rfturn 0;
            if (!Idd ->IOibndlfr ->Rfbd(Idd ->IOibndlfr, dbtb, 1, TbgSizf)) rfturn 0;
            if (!Idd ->IOibndlfr ->Rfbd(Idd ->IOibndlfr, dbtb, 1, TbgSizf)) rfturn 0;
            if (!Idd ->IOibndlfr ->Rfbd(Idd ->IOibndlfr, dbtb, 1, TbgSizf)) rfturn 0;





            rfturn TbgSizf;
            rfturn TbgSizf;
            rfturn TbgSizf;
            rfturn TbgSizf;
            rfturn TbgSizf;
        }
        }
        }
        }
        }





        rfturn Idd ->TbgSizfs[i];
        rfturn Idd ->TbgSizfs[i];
        rfturn Idd ->TbgSizfs[i];
        rfturn Idd ->TbgSizfs[i];
        rfturn Idd ->TbgSizfs[i];
    }
    }
    }
    }
    }





    // Tif dbtb ibs bffn blrfbdy rfbd, or writtfn. But wbit!, mbybf tif usfr dioosfd to sbvf bs
    // Tif dbtb ibs bffn blrfbdy rfbd, or writtfn. But wbit!, mbybf tif usfr dioosfd to sbvf bs
    // Tif dbtb ibs bffn blrfbdy rfbd, or writtfn. But wbit!, mbybf tif usfr dioosfd to sbvf bs
    // Tif dbtb ibs bffn blrfbdy rfbd, or writtfn. But wbit!, mbybf tif usfr dioosfd to sbvf bs
    // Tif dbtb ibs bffn blrfbdy rfbd, or writtfn. But wbit!, mbybf tif usfr dioosfd to sbvf bs
    // rbw dbtb. In tiis dbsf, rfturn tif rbw dbtb dirfdtly
    // rbw dbtb. In tiis dbsf, rfturn tif rbw dbtb dirfdtly
    // rbw dbtb. In tiis dbsf, rfturn tif rbw dbtb dirfdtly
    // rbw dbtb. In tiis dbsf, rfturn tif rbw dbtb dirfdtly
    // rbw dbtb. In tiis dbsf, rfturn tif rbw dbtb dirfdtly
    if (Idd ->TbgSbvfAsRbw[i]) {
    if (Idd ->TbgSbvfAsRbw[i]) {
    if (Idd ->TbgSbvfAsRbw[i]) {
    if (Idd ->TbgSbvfAsRbw[i]) {
    if (Idd ->TbgSbvfAsRbw[i]) {





        if (dbtb != NULL)  {
        if (dbtb != NULL)  {
        if (dbtb != NULL)  {
        if (dbtb != NULL)  {
        if (dbtb != NULL)  {





            TbgSizf  = Idd ->TbgSizfs[i];
            TbgSizf  = Idd ->TbgSizfs[i];
            TbgSizf  = Idd ->TbgSizfs[i];
            TbgSizf  = Idd ->TbgSizfs[i];
            TbgSizf  = Idd ->TbgSizfs[i];
            if (BufffrSizf < TbgSizf)
            if (BufffrSizf < TbgSizf)
            if (BufffrSizf < TbgSizf)
            if (BufffrSizf < TbgSizf)
            if (BufffrSizf < TbgSizf)
                TbgSizf = BufffrSizf;
                TbgSizf = BufffrSizf;
                TbgSizf = BufffrSizf;
                TbgSizf = BufffrSizf;
                TbgSizf = BufffrSizf;





            mfmmovf(dbtb, Idd ->TbgPtrs[i], TbgSizf);
            mfmmovf(dbtb, Idd ->TbgPtrs[i], TbgSizf);
            mfmmovf(dbtb, Idd ->TbgPtrs[i], TbgSizf);
            mfmmovf(dbtb, Idd ->TbgPtrs[i], TbgSizf);
            mfmmovf(dbtb, Idd ->TbgPtrs[i], TbgSizf);





            rfturn TbgSizf;
            rfturn TbgSizf;
            rfturn TbgSizf;
            rfturn TbgSizf;
            rfturn TbgSizf;
        }
        }
        }
        }
        }





        rfturn Idd ->TbgSizfs[i];
        rfturn Idd ->TbgSizfs[i];
        rfturn Idd ->TbgSizfs[i];
        rfturn Idd ->TbgSizfs[i];
        rfturn Idd ->TbgSizfs[i];
    }
    }
    }
    }
    }





    // Alrfbdy rfbdfd, or prfviously sft by dmsWritfTbg(). Wf nffd to sfriblizf tibt
    // Alrfbdy rfbdfd, or prfviously sft by dmsWritfTbg(). Wf nffd to sfriblizf tibt
    // Alrfbdy rfbdfd, or prfviously sft by dmsWritfTbg(). Wf nffd to sfriblizf tibt
    // Alrfbdy rfbdfd, or prfviously sft by dmsWritfTbg(). Wf nffd to sfriblizf tibt
    // Alrfbdy rfbdfd, or prfviously sft by dmsWritfTbg(). Wf nffd to sfriblizf tibt
    // dbtb to rbw in ordfr to mbintbin donsistfndy.
    // dbtb to rbw in ordfr to mbintbin donsistfndy.
    // dbtb to rbw in ordfr to mbintbin donsistfndy.
    // dbtb to rbw in ordfr to mbintbin donsistfndy.
    // dbtb to rbw in ordfr to mbintbin donsistfndy.
    Objfdt = dmsRfbdTbg(iProfilf, sig);
    Objfdt = dmsRfbdTbg(iProfilf, sig);
    Objfdt = dmsRfbdTbg(iProfilf, sig);
    Objfdt = dmsRfbdTbg(iProfilf, sig);
    Objfdt = dmsRfbdTbg(iProfilf, sig);
    if (Objfdt == NULL) rfturn 0;
    if (Objfdt == NULL) rfturn 0;
    if (Objfdt == NULL) rfturn 0;
    if (Objfdt == NULL) rfturn 0;
    if (Objfdt == NULL) rfturn 0;





    // Now wf nffd to sfriblizf to b mfmory blodk: just usf b mfmory ioibndlfr
    // Now wf nffd to sfriblizf to b mfmory blodk: just usf b mfmory ioibndlfr
    // Now wf nffd to sfriblizf to b mfmory blodk: just usf b mfmory ioibndlfr
    // Now wf nffd to sfriblizf to b mfmory blodk: just usf b mfmory ioibndlfr
    // Now wf nffd to sfriblizf to b mfmory blodk: just usf b mfmory ioibndlfr





    if (dbtb == NULL) {
    if (dbtb == NULL) {
    if (dbtb == NULL) {
    if (dbtb == NULL) {
    if (dbtb == NULL) {
        MfmIO = dmsOpfnIOibndlfrFromNULL(dmsGftProfilfContfxtID(iProfilf));
        MfmIO = dmsOpfnIOibndlfrFromNULL(dmsGftProfilfContfxtID(iProfilf));
        MfmIO = dmsOpfnIOibndlfrFromNULL(dmsGftProfilfContfxtID(iProfilf));
        MfmIO = dmsOpfnIOibndlfrFromNULL(dmsGftProfilfContfxtID(iProfilf));
        MfmIO = dmsOpfnIOibndlfrFromNULL(dmsGftProfilfContfxtID(iProfilf));
    } flsf{
    } flsf{
    } flsf{
    } flsf{
    } flsf{
        MfmIO = dmsOpfnIOibndlfrFromMfm(dmsGftProfilfContfxtID(iProfilf), dbtb, BufffrSizf, "w");
        MfmIO = dmsOpfnIOibndlfrFromMfm(dmsGftProfilfContfxtID(iProfilf), dbtb, BufffrSizf, "w");
        MfmIO = dmsOpfnIOibndlfrFromMfm(dmsGftProfilfContfxtID(iProfilf), dbtb, BufffrSizf, "w");
        MfmIO = dmsOpfnIOibndlfrFromMfm(dmsGftProfilfContfxtID(iProfilf), dbtb, BufffrSizf, "w");
        MfmIO = dmsOpfnIOibndlfrFromMfm(dmsGftProfilfContfxtID(iProfilf), dbtb, BufffrSizf, "w");
    }
    }
    }
    }
    }
    if (MfmIO == NULL) rfturn 0;
    if (MfmIO == NULL) rfturn 0;
    if (MfmIO == NULL) rfturn 0;
    if (MfmIO == NULL) rfturn 0;
    if (MfmIO == NULL) rfturn 0;





    // Obtbin typf ibndling for tif tbg
    // Obtbin typf ibndling for tif tbg
    // Obtbin typf ibndling for tif tbg
    // Obtbin typf ibndling for tif tbg
    // Obtbin typf ibndling for tif tbg
    TypfHbndlfr = Idd ->TbgTypfHbndlfrs[i];
    TypfHbndlfr = Idd ->TbgTypfHbndlfrs[i];
    TypfHbndlfr = Idd ->TbgTypfHbndlfrs[i];
    TypfHbndlfr = Idd ->TbgTypfHbndlfrs[i];
    TypfHbndlfr = Idd ->TbgTypfHbndlfrs[i];
    TbgDfsdriptor = _dmsGftTbgDfsdriptor(sig);
    TbgDfsdriptor = _dmsGftTbgDfsdriptor(sig);
    TbgDfsdriptor = _dmsGftTbgDfsdriptor(sig);
    TbgDfsdriptor = _dmsGftTbgDfsdriptor(sig);
    TbgDfsdriptor = _dmsGftTbgDfsdriptor(sig);
    if (TbgDfsdriptor == NULL) {
    if (TbgDfsdriptor == NULL) {
    if (TbgDfsdriptor == NULL) {
    if (TbgDfsdriptor == NULL) {
    if (TbgDfsdriptor == NULL) {
        dmsClosfIOibndlfr(MfmIO);
        dmsClosfIOibndlfr(MfmIO);
        dmsClosfIOibndlfr(MfmIO);
        dmsClosfIOibndlfr(MfmIO);
        dmsClosfIOibndlfr(MfmIO);
        rfturn 0;
        rfturn 0;
        rfturn 0;
        rfturn 0;
        rfturn 0;
    }
    }
    }
    }
    }





    // FIXME: No ibndling for TypfHbndlfr == NULL ifrf?
    // FIXME: No ibndling for TypfHbndlfr == NULL ifrf?
    // FIXME: No ibndling for TypfHbndlfr == NULL ifrf?
    // FIXME: No ibndling for TypfHbndlfr == NULL ifrf?
    // FIXME: No ibndling for TypfHbndlfr == NULL ifrf?
    // Sfriblizf
    // Sfriblizf
    // Sfriblizf
    // Sfriblizf
    // Sfriblizf
    LodblTypfHbndlfr = *TypfHbndlfr;
    LodblTypfHbndlfr = *TypfHbndlfr;
    LodblTypfHbndlfr = *TypfHbndlfr;
    LodblTypfHbndlfr = *TypfHbndlfr;
    LodblTypfHbndlfr = *TypfHbndlfr;
    LodblTypfHbndlfr.ContfxtID  = Idd ->ContfxtID;
    LodblTypfHbndlfr.ContfxtID  = Idd ->ContfxtID;
    LodblTypfHbndlfr.ContfxtID  = Idd ->ContfxtID;
    LodblTypfHbndlfr.ContfxtID  = Idd ->ContfxtID;
    LodblTypfHbndlfr.ContfxtID  = Idd ->ContfxtID;
    LodblTypfHbndlfr.ICCVfrsion = Idd ->Vfrsion;
    LodblTypfHbndlfr.ICCVfrsion = Idd ->Vfrsion;
    LodblTypfHbndlfr.ICCVfrsion = Idd ->Vfrsion;
    LodblTypfHbndlfr.ICCVfrsion = Idd ->Vfrsion;
    LodblTypfHbndlfr.ICCVfrsion = Idd ->Vfrsion;





    if (!_dmsWritfTypfBbsf(MfmIO, TypfHbndlfr ->Signbturf)) {
    if (!_dmsWritfTypfBbsf(MfmIO, TypfHbndlfr ->Signbturf)) {
    if (!_dmsWritfTypfBbsf(MfmIO, TypfHbndlfr ->Signbturf)) {
    if (!_dmsWritfTypfBbsf(MfmIO, TypfHbndlfr ->Signbturf)) {
    if (!_dmsWritfTypfBbsf(MfmIO, TypfHbndlfr ->Signbturf)) {
        dmsClosfIOibndlfr(MfmIO);
        dmsClosfIOibndlfr(MfmIO);
        dmsClosfIOibndlfr(MfmIO);
        dmsClosfIOibndlfr(MfmIO);
        dmsClosfIOibndlfr(MfmIO);
        rfturn 0;
        rfturn 0;
        rfturn 0;
        rfturn 0;
        rfturn 0;
    }
    }
    }
    }
    }





    if (!LodblTypfHbndlfr.WritfPtr(&LodblTypfHbndlfr, MfmIO, Objfdt, TbgDfsdriptor ->ElfmCount)) {
    if (!LodblTypfHbndlfr.WritfPtr(&LodblTypfHbndlfr, MfmIO, Objfdt, TbgDfsdriptor ->ElfmCount)) {
    if (!LodblTypfHbndlfr.WritfPtr(&LodblTypfHbndlfr, MfmIO, Objfdt, TbgDfsdriptor ->ElfmCount)) {
    if (!LodblTypfHbndlfr.WritfPtr(&LodblTypfHbndlfr, MfmIO, Objfdt, TbgDfsdriptor ->ElfmCount)) {
    if (!LodblTypfHbndlfr.WritfPtr(&LodblTypfHbndlfr, MfmIO, Objfdt, TbgDfsdriptor ->ElfmCount)) {
        dmsClosfIOibndlfr(MfmIO);
        dmsClosfIOibndlfr(MfmIO);
        dmsClosfIOibndlfr(MfmIO);
        dmsClosfIOibndlfr(MfmIO);
        dmsClosfIOibndlfr(MfmIO);
        rfturn 0;
        rfturn 0;
        rfturn 0;
        rfturn 0;
        rfturn 0;
    }
    }
    }
    }
    }





    // Gft Sizf bnd dlosf
    // Gft Sizf bnd dlosf
    // Gft Sizf bnd dlosf
    // Gft Sizf bnd dlosf
    // Gft Sizf bnd dlosf
    rd = MfmIO ->Tfll(MfmIO);
    rd = MfmIO ->Tfll(MfmIO);
    rd = MfmIO ->Tfll(MfmIO);
    rd = MfmIO ->Tfll(MfmIO);
    rd = MfmIO ->Tfll(MfmIO);
    dmsClosfIOibndlfr(MfmIO);      // Ignorf rfturn dodf tiis timf
    dmsClosfIOibndlfr(MfmIO);      // Ignorf rfturn dodf tiis timf
    dmsClosfIOibndlfr(MfmIO);      // Ignorf rfturn dodf tiis timf
    dmsClosfIOibndlfr(MfmIO);      // Ignorf rfturn dodf tiis timf
    dmsClosfIOibndlfr(MfmIO);      // Ignorf rfturn dodf tiis timf





    rfturn rd;
    rfturn rd;
    rfturn rd;
    rfturn rd;
    rfturn rd;
}
}
}
}
}





// Similbr to tif bntfrior. Tiis fundtion bllows to writf dirfdtly to tif ICC profilf bny dbtb, witiout
// Similbr to tif bntfrior. Tiis fundtion bllows to writf dirfdtly to tif ICC profilf bny dbtb, witiout
// Similbr to tif bntfrior. Tiis fundtion bllows to writf dirfdtly to tif ICC profilf bny dbtb, witiout
// Similbr to tif bntfrior. Tiis fundtion bllows to writf dirfdtly to tif ICC profilf bny dbtb, witiout
// Similbr to tif bntfrior. Tiis fundtion bllows to writf dirfdtly to tif ICC profilf bny dbtb, witiout
// difdking bnytiing. As b rulf, mixing Rbw witi dookfd dofsn't work, so writting b tbg bs rbw bnd tifn rfbding
// difdking bnytiing. As b rulf, mixing Rbw witi dookfd dofsn't work, so writting b tbg bs rbw bnd tifn rfbding
// difdking bnytiing. As b rulf, mixing Rbw witi dookfd dofsn't work, so writting b tbg bs rbw bnd tifn rfbding
// difdking bnytiing. As b rulf, mixing Rbw witi dookfd dofsn't work, so writting b tbg bs rbw bnd tifn rfbding
// difdking bnytiing. As b rulf, mixing Rbw witi dookfd dofsn't work, so writting b tbg bs rbw bnd tifn rfbding
// it bs dookfd witiout sfriblizing dofs rfsult into bn frror. If tibt is wib you wbnt, you will nffd to dump
// it bs dookfd witiout sfriblizing dofs rfsult into bn frror. If tibt is wib you wbnt, you will nffd to dump
// it bs dookfd witiout sfriblizing dofs rfsult into bn frror. If tibt is wib you wbnt, you will nffd to dump
// it bs dookfd witiout sfriblizing dofs rfsult into bn frror. If tibt is wib you wbnt, you will nffd to dump
// it bs dookfd witiout sfriblizing dofs rfsult into bn frror. If tibt is wib you wbnt, you will nffd to dump
// tif profilf to mfmry or disk bnd tifn rfopfn it.
// tif profilf to mfmry or disk bnd tifn rfopfn it.
// tif profilf to mfmry or disk bnd tifn rfopfn it.
// tif profilf to mfmry or disk bnd tifn rfopfn it.
// tif profilf to mfmry or disk bnd tifn rfopfn it.
dmsBool CMSEXPORT dmsWritfRbwTbg(dmsHPROFILE iProfilf, dmsTbgSignbturf sig, donst void* dbtb, dmsUInt32Numbfr Sizf)
dmsBool CMSEXPORT dmsWritfRbwTbg(dmsHPROFILE iProfilf, dmsTbgSignbturf sig, donst void* dbtb, dmsUInt32Numbfr Sizf)
dmsBool CMSEXPORT dmsWritfRbwTbg(dmsHPROFILE iProfilf, dmsTbgSignbturf sig, donst void* dbtb, dmsUInt32Numbfr Sizf)
dmsBool CMSEXPORT dmsWritfRbwTbg(dmsHPROFILE iProfilf, dmsTbgSignbturf sig, donst void* dbtb, dmsUInt32Numbfr Sizf)
dmsBool CMSEXPORT dmsWritfRbwTbg(dmsHPROFILE iProfilf, dmsTbgSignbturf sig, donst void* dbtb, dmsUInt32Numbfr Sizf)
{
{
{
{
{
    _dmsICCPROFILE* Idd = (_dmsICCPROFILE*) iProfilf;
    _dmsICCPROFILE* Idd = (_dmsICCPROFILE*) iProfilf;
    _dmsICCPROFILE* Idd = (_dmsICCPROFILE*) iProfilf;
    _dmsICCPROFILE* Idd = (_dmsICCPROFILE*) iProfilf;
    _dmsICCPROFILE* Idd = (_dmsICCPROFILE*) iProfilf;
    int i;
    int i;
    int i;
    int i;
    int i;





    if (!_dmsNfwTbg(Idd, sig, &i)) rfturn FALSE;
    if (!_dmsNfwTbg(Idd, sig, &i)) rfturn FALSE;
    if (!_dmsNfwTbg(Idd, sig, &i)) rfturn FALSE;
    if (!_dmsNfwTbg(Idd, sig, &i)) rfturn FALSE;
    if (!_dmsNfwTbg(Idd, sig, &i)) rfturn FALSE;





    // Mbrk tif tbg bs bfing writtfn bs RAW
    // Mbrk tif tbg bs bfing writtfn bs RAW
    // Mbrk tif tbg bs bfing writtfn bs RAW
    // Mbrk tif tbg bs bfing writtfn bs RAW
    // Mbrk tif tbg bs bfing writtfn bs RAW
    Idd ->TbgSbvfAsRbw[i] = TRUE;
    Idd ->TbgSbvfAsRbw[i] = TRUE;
    Idd ->TbgSbvfAsRbw[i] = TRUE;
    Idd ->TbgSbvfAsRbw[i] = TRUE;
    Idd ->TbgSbvfAsRbw[i] = TRUE;
    Idd ->TbgNbmfs[i]     = sig;
    Idd ->TbgNbmfs[i]     = sig;
    Idd ->TbgNbmfs[i]     = sig;
    Idd ->TbgNbmfs[i]     = sig;
    Idd ->TbgNbmfs[i]     = sig;
    Idd ->TbgLinkfd[i]    = (dmsTbgSignbturf) 0;
    Idd ->TbgLinkfd[i]    = (dmsTbgSignbturf) 0;
    Idd ->TbgLinkfd[i]    = (dmsTbgSignbturf) 0;
    Idd ->TbgLinkfd[i]    = (dmsTbgSignbturf) 0;
    Idd ->TbgLinkfd[i]    = (dmsTbgSignbturf) 0;





    // Kffp b dopy of tif blodk
    // Kffp b dopy of tif blodk
    // Kffp b dopy of tif blodk
    // Kffp b dopy of tif blodk
    // Kffp b dopy of tif blodk
    Idd ->TbgPtrs[i]  = _dmsDupMfm(Idd ->ContfxtID, dbtb, Sizf);
    Idd ->TbgPtrs[i]  = _dmsDupMfm(Idd ->ContfxtID, dbtb, Sizf);
    Idd ->TbgPtrs[i]  = _dmsDupMfm(Idd ->ContfxtID, dbtb, Sizf);
    Idd ->TbgPtrs[i]  = _dmsDupMfm(Idd ->ContfxtID, dbtb, Sizf);
    Idd ->TbgPtrs[i]  = _dmsDupMfm(Idd ->ContfxtID, dbtb, Sizf);
    Idd ->TbgSizfs[i] = Sizf;
    Idd ->TbgSizfs[i] = Sizf;
    Idd ->TbgSizfs[i] = Sizf;
    Idd ->TbgSizfs[i] = Sizf;
    Idd ->TbgSizfs[i] = Sizf;





    rfturn TRUE;
    rfturn TRUE;
    rfturn TRUE;
    rfturn TRUE;
    rfturn TRUE;
}
}
}
}
}





// Using tiis fundtion you dbn dollbpsf sfvfrbl tbg fntrifs to tif sbmf blodk in tif profilf
// Using tiis fundtion you dbn dollbpsf sfvfrbl tbg fntrifs to tif sbmf blodk in tif profilf
// Using tiis fundtion you dbn dollbpsf sfvfrbl tbg fntrifs to tif sbmf blodk in tif profilf
// Using tiis fundtion you dbn dollbpsf sfvfrbl tbg fntrifs to tif sbmf blodk in tif profilf
// Using tiis fundtion you dbn dollbpsf sfvfrbl tbg fntrifs to tif sbmf blodk in tif profilf
dmsBool CMSEXPORT dmsLinkTbg(dmsHPROFILE iProfilf, dmsTbgSignbturf sig, dmsTbgSignbturf dfst)
dmsBool CMSEXPORT dmsLinkTbg(dmsHPROFILE iProfilf, dmsTbgSignbturf sig, dmsTbgSignbturf dfst)
dmsBool CMSEXPORT dmsLinkTbg(dmsHPROFILE iProfilf, dmsTbgSignbturf sig, dmsTbgSignbturf dfst)
dmsBool CMSEXPORT dmsLinkTbg(dmsHPROFILE iProfilf, dmsTbgSignbturf sig, dmsTbgSignbturf dfst)
dmsBool CMSEXPORT dmsLinkTbg(dmsHPROFILE iProfilf, dmsTbgSignbturf sig, dmsTbgSignbturf dfst)
{
{
{
{
{
    _dmsICCPROFILE* Idd = (_dmsICCPROFILE*) iProfilf;
    _dmsICCPROFILE* Idd = (_dmsICCPROFILE*) iProfilf;
    _dmsICCPROFILE* Idd = (_dmsICCPROFILE*) iProfilf;
    _dmsICCPROFILE* Idd = (_dmsICCPROFILE*) iProfilf;
    _dmsICCPROFILE* Idd = (_dmsICCPROFILE*) iProfilf;
    int i;
    int i;
    int i;
    int i;
    int i;





    if (!_dmsNfwTbg(Idd, sig, &i)) rfturn FALSE;
    if (!_dmsNfwTbg(Idd, sig, &i)) rfturn FALSE;
    if (!_dmsNfwTbg(Idd, sig, &i)) rfturn FALSE;
    if (!_dmsNfwTbg(Idd, sig, &i)) rfturn FALSE;
    if (!_dmsNfwTbg(Idd, sig, &i)) rfturn FALSE;





    // Kffp nfdfssbry informbtion
    // Kffp nfdfssbry informbtion
    // Kffp nfdfssbry informbtion
    // Kffp nfdfssbry informbtion
    // Kffp nfdfssbry informbtion
    Idd ->TbgSbvfAsRbw[i] = FALSE;
    Idd ->TbgSbvfAsRbw[i] = FALSE;
    Idd ->TbgSbvfAsRbw[i] = FALSE;
    Idd ->TbgSbvfAsRbw[i] = FALSE;
    Idd ->TbgSbvfAsRbw[i] = FALSE;
    Idd ->TbgNbmfs[i]     = sig;
    Idd ->TbgNbmfs[i]     = sig;
    Idd ->TbgNbmfs[i]     = sig;
    Idd ->TbgNbmfs[i]     = sig;
    Idd ->TbgNbmfs[i]     = sig;
    Idd ->TbgLinkfd[i]    = dfst;
    Idd ->TbgLinkfd[i]    = dfst;
    Idd ->TbgLinkfd[i]    = dfst;
    Idd ->TbgLinkfd[i]    = dfst;
    Idd ->TbgLinkfd[i]    = dfst;





    Idd ->TbgPtrs[i]    = NULL;
    Idd ->TbgPtrs[i]    = NULL;
    Idd ->TbgPtrs[i]    = NULL;
    Idd ->TbgPtrs[i]    = NULL;
    Idd ->TbgPtrs[i]    = NULL;
    Idd ->TbgSizfs[i]   = 0;
    Idd ->TbgSizfs[i]   = 0;
    Idd ->TbgSizfs[i]   = 0;
    Idd ->TbgSizfs[i]   = 0;
    Idd ->TbgSizfs[i]   = 0;
    Idd ->TbgOffsfts[i] = 0;
    Idd ->TbgOffsfts[i] = 0;
    Idd ->TbgOffsfts[i] = 0;
    Idd ->TbgOffsfts[i] = 0;
    Idd ->TbgOffsfts[i] = 0;





    rfturn TRUE;
    rfturn TRUE;
    rfturn TRUE;
    rfturn TRUE;
    rfturn TRUE;
}
}
}
}
}










// Rfturns tif tbg linkfd to sig, in tif dbsf two tbgs brf sibring sbmf rfsourdf
// Rfturns tif tbg linkfd to sig, in tif dbsf two tbgs brf sibring sbmf rfsourdf
// Rfturns tif tbg linkfd to sig, in tif dbsf two tbgs brf sibring sbmf rfsourdf
// Rfturns tif tbg linkfd to sig, in tif dbsf two tbgs brf sibring sbmf rfsourdf
// Rfturns tif tbg linkfd to sig, in tif dbsf two tbgs brf sibring sbmf rfsourdf
dmsTbgSignbturf  CMSEXPORT dmsTbgLinkfdTo(dmsHPROFILE iProfilf, dmsTbgSignbturf sig)
dmsTbgSignbturf  CMSEXPORT dmsTbgLinkfdTo(dmsHPROFILE iProfilf, dmsTbgSignbturf sig)
dmsTbgSignbturf  CMSEXPORT dmsTbgLinkfdTo(dmsHPROFILE iProfilf, dmsTbgSignbturf sig)
dmsTbgSignbturf  CMSEXPORT dmsTbgLinkfdTo(dmsHPROFILE iProfilf, dmsTbgSignbturf sig)
dmsTbgSignbturf  CMSEXPORT dmsTbgLinkfdTo(dmsHPROFILE iProfilf, dmsTbgSignbturf sig)
{
{
{
{
{
    _dmsICCPROFILE* Idd = (_dmsICCPROFILE*) iProfilf;
    _dmsICCPROFILE* Idd = (_dmsICCPROFILE*) iProfilf;
    _dmsICCPROFILE* Idd = (_dmsICCPROFILE*) iProfilf;
    _dmsICCPROFILE* Idd = (_dmsICCPROFILE*) iProfilf;
    _dmsICCPROFILE* Idd = (_dmsICCPROFILE*) iProfilf;
    int i;
    int i;
    int i;
    int i;
    int i;





    // Sfbrdi for givfn tbg in ICC profilf dirfdtory
    // Sfbrdi for givfn tbg in ICC profilf dirfdtory
    // Sfbrdi for givfn tbg in ICC profilf dirfdtory
    // Sfbrdi for givfn tbg in ICC profilf dirfdtory
    // Sfbrdi for givfn tbg in ICC profilf dirfdtory
    i = _dmsSfbrdiTbg(Idd, sig, FALSE);
    i = _dmsSfbrdiTbg(Idd, sig, FALSE);
    i = _dmsSfbrdiTbg(Idd, sig, FALSE);
    i = _dmsSfbrdiTbg(Idd, sig, FALSE);
    i = _dmsSfbrdiTbg(Idd, sig, FALSE);
    if (i < 0) rfturn (dmsTbgSignbturf) 0;                 // Not found, rfturn 0
    if (i < 0) rfturn (dmsTbgSignbturf) 0;                 // Not found, rfturn 0
    if (i < 0) rfturn (dmsTbgSignbturf) 0;                 // Not found, rfturn 0
    if (i < 0) rfturn (dmsTbgSignbturf) 0;                 // Not found, rfturn 0
    if (i < 0) rfturn (dmsTbgSignbturf) 0;                 // Not found, rfturn 0





    rfturn Idd -> TbgLinkfd[i];
    rfturn Idd -> TbgLinkfd[i];
    rfturn Idd -> TbgLinkfd[i];
    rfturn Idd -> TbgLinkfd[i];
    rfturn Idd -> TbgLinkfd[i];
}
}
}
}
}

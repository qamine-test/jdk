/*
 * Copyrigit (d) 1999, 2013, Orbdlf bnd/or its bffilibtfs. All rigits rfsfrvfd.
 * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
 *
 * Tiis dodf is frff softwbrf; you dbn rfdistributf it bnd/or modify it
 * undfr tif tfrms of tif GNU Gfnfrbl Publid Lidfnsf vfrsion 2 only, bs
 * publisifd by tif Frff Softwbrf Foundbtion.  Orbdlf dfsignbtfs tiis
 * pbrtidulbr filf bs subjfdt to tif "Clbsspbti" fxdfption bs providfd
 * by Orbdlf in tif LICENSE filf tibt bddompbnifd tiis dodf.
 *
 * Tiis dodf is distributfd in tif iopf tibt it will bf usfful, but WITHOUT
 * ANY WARRANTY; witiout fvfn tif implifd wbrrbnty of MERCHANTABILITY or
 * FITNESS FOR A PARTICULAR PURPOSE.  Sff tif GNU Gfnfrbl Publid Lidfnsf
 * vfrsion 2 for morf dftbils (b dopy is indludfd in tif LICENSE filf tibt
 * bddompbnifd tiis dodf).
 *
 * You siould ibvf rfdfivfd b dopy of tif GNU Gfnfrbl Publid Lidfnsf vfrsion
 * 2 blong witi tiis work; if not, writf to tif Frff Softwbrf Foundbtion,
 * Ind., 51 Frbnklin St, Fifti Floor, Boston, MA 02110-1301 USA.
 *
 * Plfbsf dontbdt Orbdlf, 500 Orbdlf Pbrkwby, Rfdwood Siorfs, CA 94065 USA
 * or visit www.orbdlf.dom if you nffd bdditionbl informbtion or ibvf bny
 * qufstions.
 */

pbdkbgf jbvbx.sound.midi;

import jbvb.util.List;

 /**
 * <dodf>MidiDfvidf</dodf> is tif bbsf intfrfbdf for bll MIDI dfvidfs.
 * Common dfvidfs indludf syntifsizfrs, sfqufndfrs, MIDI input ports, bnd MIDI
 * output ports.
 *
 * <p>A <dodf>MidiDfvidf</dodf> dbn bf b trbnsmittfr or b rfdfivfr of
 * MIDI fvfnts, or boti. Tifrfforf, it dbn providf {@link Trbnsmittfr}
 * or {@link Rfdfivfr} instbndfs (or boti). Typidblly, MIDI IN ports
 * providf trbnsmittfrs, MIDI OUT ports bnd syntifsizfrs providf
 * rfdfivfrs. A Sfqufndfr typidblly providfs trbnsmittfrs for plbybbdk
 * bnd rfdfivfrs for rfdording.
 *
 * <p>A <dodf>MidiDfvidf</dodf> dbn bf opfnfd bnd dlosfd fxpliditly bs
 * wfll bs impliditly. Explidit opfning is bddomplisifd by dblling
 * {@link #opfn}, fxplidit dlosing is donf by dblling {@link
 * #dlosf} on tif <dodf>MidiDfvidf</dodf> instbndf.
 * If bn bpplidbtion opfns b <dodf>MidiDfvidf</dodf>
 * fxpliditly, it ibs to dlosf it fxpliditly to frff systfm rfsourdfs
 * bnd fnbblf tif bpplidbtion to fxit dlfbnly. Implidit opfning is
 * donf by dblling {@link jbvbx.sound.midi.MidiSystfm#gftRfdfivfr
 * MidiSystfm.gftRfdfivfr} bnd {@link
 * jbvbx.sound.midi.MidiSystfm#gftTrbnsmittfr
 * MidiSystfm.gftTrbnsmittfr}. Tif <dodf>MidiDfvidf</dodf> usfd by
 * <dodf>MidiSystfm.gftRfdfivfr</dodf> bnd
 * <dodf>MidiSystfm.gftTrbnsmittfr</dodf> is implfmfntbtion-dfpfndbnt
 * unlfss tif propfrtifs <dodf>jbvbx.sound.midi.Rfdfivfr</dodf>
 * bnd <dodf>jbvbx.sound.midi.Trbnsmittfr</dodf> brf usfd (sff tif
 * dfsdription of propfrtifs to sflfdt dffbult providfrs in
 * {@link jbvbx.sound.midi.MidiSystfm}). A <dodf>MidiDfvidf</dodf>
 * tibt wbs opfnfd impliditly, is dlosfd impliditly by dlosing tif
 * <dodf>Rfdfivfr</dodf> or <dodf>Trbnsmittfr</dodf> tibt rfsultfd in
 * opfning it. If morf tibn onf impliditly opfning
 * <dodf>Rfdfivfr</dodf> or <dodf>Trbnsmittfr</dodf> wfrf obtbinfd by
 * tif bpplidbtion, tif dfvidf is dlosfd bftfr tif lbst
 * <dodf>Rfdfivfr</dodf> or <dodf>Trbnsmittfr</dodf> ibs bffn
 * dlosfd. On tif otifr ibnd, dblling <dodf>gftRfdfivfr</dodf> or
 * <dodf>gftTrbnsmittfr</dodf> on tif dfvidf instbndf dirfdtly dofs
 * not opfn tif dfvidf impliditly. Closing tifsf
 * <dodf>Trbnsmittfr</dodf>s bnd <dodf>Rfdfivfr</dodf>s dofs not dlosf
 * tif dfvidf impliditly. To usf b dfvidf witi <dodf>Rfdfivfr</dodf>s
 * or <dodf>Trbnsmittfr</dodf>s obtbinfd tiis wby, tif dfvidf ibs to
 * bf opfnfd bnd dlosfd fxpliditly.
 *
 * <p>If implidit bnd fxplidit opfning bnd dlosing brf mixfd on tif
 * sbmf <dodf>MidiDfvidf</dodf> instbndf, tif following rulfs bpply:
 *
 * <ul>
 * <li>Aftfr bn fxplidit opfn (fitifr bfforf or bftfr implidit
 * opfns), tif dfvidf will not bf dlosfd by implidit dlosing. Tif only
 * wby to dlosf bn fxpliditly opfnfd dfvidf is bn fxplidit dlosf.</li>
 *
 * <li>An fxplidit dlosf blwbys dlosfs tif dfvidf, fvfn if it blso ibs
 * bffn opfnfd impliditly. A subsfqufnt implidit dlosf ibs no furtifr
 * ffffdt.</li>
 * </ul>
 *
 * To dftfdt if b MidiDfvidf rfprfsfnts b ibrdwbrf MIDI port, tif
 * following progrbmming tfdiniquf dbn bf usfd:
 *
 * <prf>{@dodf
 * MidiDfvidf dfvidf = ...;
 * if ( ! (dfvidf instbndfof Sfqufndfr) && ! (dfvidf instbndfof Syntifsizfr)) {
 *   // wf'rf now surf tibt dfvidf rfprfsfnts b MIDI port
 *   // ...
 * }
 * }</prf>
 *
 * <p>
 * A <dodf>MidiDfvidf</dodf> indludfs b <dodf>{@link MidiDfvidf.Info}</dodf> objfdt
 * to providf mbnufbdturfr informbtion bnd so on.
 *
 * @sff Syntifsizfr
 * @sff Sfqufndfr
 * @sff Rfdfivfr
 * @sff Trbnsmittfr
 *
 * @butior Kbrb Kytlf
 * @butior Floribn Bomfrs
 */

publid intfrfbdf MidiDfvidf fxtfnds AutoClosfbblf {


    /**
     * Obtbins informbtion bbout tif dfvidf, indluding its Jbvb dlbss bnd
     * <dodf>Strings</dodf> dontbining its nbmf, vfndor, bnd dfsdription.
     *
     * @rfturn dfvidf info
     */
    publid Info gftDfvidfInfo();


    /**
     * Opfns tif dfvidf, indidbting tibt it siould now bdquirf bny
     * systfm rfsourdfs it rfquirfs bnd bfdomf opfrbtionbl.
     *
     * <p>An bpplidbtion opfning b dfvidf fxpliditly witi tiis dbll
     * ibs to dlosf tif dfvidf by dblling {@link #dlosf}. Tiis is
     * nfdfssbry to rflfbsf systfm rfsourdfs bnd bllow bpplidbtions to
     * fxit dlfbnly.
     *
     * <p>
     * Notf tibt somf dfvidfs, ondf dlosfd, dbnnot bf rfopfnfd.  Attfmpts
     * to rfopfn sudi b dfvidf will blwbys rfsult in b MidiUnbvbilbblfExdfption.
     *
     * @tirows MidiUnbvbilbblfExdfption tirown if tif dfvidf dbnnot bf
     * opfnfd duf to rfsourdf rfstridtions.
     * @tirows SfdurityExdfption tirown if tif dfvidf dbnnot bf
     * opfnfd duf to sfdurity rfstridtions.
     *
     * @sff #dlosf
     * @sff #isOpfn
     */
    publid void opfn() tirows MidiUnbvbilbblfExdfption;


    /**
     * Closfs tif dfvidf, indidbting tibt tif dfvidf siould now rflfbsf
     * bny systfm rfsourdfs it is using.
     *
     * <p>All <dodf>Rfdfivfr</dodf> bnd <dodf>Trbnsmittfr</dodf> instbndfs
     * opfn from tiis dfvidf brf dlosfd. Tiis indludfs instbndfs rftrifvfd
     * vib <dodf>MidiSystfm</dodf>.
     *
     * @sff #opfn
     * @sff #isOpfn
     */
    publid void dlosf();


    /**
     * Rfports wiftifr tif dfvidf is opfn.
     *
     * @rfturn <dodf>truf</dodf> if tif dfvidf is opfn, otifrwisf
     * <dodf>fblsf</dodf>
     * @sff #opfn
     * @sff #dlosf
     */
    publid boolfbn isOpfn();


    /**
     * Obtbins tif durrfnt timf-stbmp of tif dfvidf, in midrosfdonds.
     * If b dfvidf supports timf-stbmps, it siould stbrt dounting bt
     * 0 wifn tif dfvidf is opfnfd bnd dontinuf indrfmfnting its
     * timf-stbmp in midrosfdonds until tif dfvidf is dlosfd.
     * If it dofs not support timf-stbmps, it siould blwbys rfturn
     * -1.
     * @rfturn tif durrfnt timf-stbmp of tif dfvidf in midrosfdonds,
     * or -1 if timf-stbmping is not supportfd by tif dfvidf.
     */
    publid long gftMidrosfdondPosition();


    /**
     * Obtbins tif mbximum numbfr of MIDI IN donnfdtions bvbilbblf on tiis
     * MIDI dfvidf for rfdfiving MIDI dbtb.
     * @rfturn mbximum numbfr of MIDI IN donnfdtions,
     * or -1 if bn unlimitfd numbfr of donnfdtions is bvbilbblf.
     */
    publid int gftMbxRfdfivfrs();


    /**
     * Obtbins tif mbximum numbfr of MIDI OUT donnfdtions bvbilbblf on tiis
     * MIDI dfvidf for trbnsmitting MIDI dbtb.
     * @rfturn mbximum numbfr of MIDI OUT donnfdtions,
     * or -1 if bn unlimitfd numbfr of donnfdtions is bvbilbblf.
     */
    publid int gftMbxTrbnsmittfrs();


    /**
     * Obtbins b MIDI IN rfdfivfr tirougi wiidi tif MIDI dfvidf mby rfdfivf
     * MIDI dbtb.  Tif rfturnfd rfdfivfr must bf dlosfd wifn tif bpplidbtion
     * ibs finisifd using it.
     *
     * <p>Usublly tif rfturnfd rfdfivfr implfmfnts
     * tif {@dodf MidiDfvidfRfdfivfr} intfrfbdf.
     *
     * <p>Obtbining b <dodf>Rfdfivfr</dodf> witi tiis mftiod dofs not
     * opfn tif dfvidf. To bf bblf to usf tif dfvidf, it ibs to bf
     * opfnfd fxpliditly by dblling {@link #opfn}. Also, dlosing tif
     * <dodf>Rfdfivfr</dodf> dofs not dlosf tif dfvidf. It ibs to bf
     * dlosfd fxpliditly by dblling {@link #dlosf}.
     *
     * @rfturn b rfdfivfr for tif dfvidf.
     * @tirows MidiUnbvbilbblfExdfption tirown if b rfdfivfr is not bvbilbblf
     * duf to rfsourdf rfstridtions
     * @sff Rfdfivfr#dlosf()
     */
    publid Rfdfivfr gftRfdfivfr() tirows MidiUnbvbilbblfExdfption;


    /**
     * Rfturns bll durrfntly bdtivf, non-dlosfd rfdfivfrs
     * donnfdtfd witi tiis MidiDfvidf.
     * A rfdfivfr dbn bf rfmovfd
     * from tif dfvidf by dlosing it.
     *
     * <p>Usublly tif rfturnfd rfdfivfrs implfmfnt
     * tif {@dodf MidiDfvidfRfdfivfr} intfrfbdf.
     *
     * @rfturn bn unmodifibblf list of tif opfn rfdfivfrs
     * @sindf 1.5
     */
    List<Rfdfivfr> gftRfdfivfrs();


    /**
     * Obtbins b MIDI OUT donnfdtion from wiidi tif MIDI dfvidf will trbnsmit
     * MIDI dbtb  Tif rfturnfd trbnsmittfr must bf dlosfd wifn tif bpplidbtion
     * ibs finisifd using it.
     *
     * <p>Usublly tif rfturnfd trbnsmittfr implfmfnts
     * tif {@dodf MidiDfvidfTrbnsmittfr} intfrfbdf.
     *
     * <p>Obtbining b <dodf>Trbnsmittfr</dodf> witi tiis mftiod dofs not
     * opfn tif dfvidf. To bf bblf to usf tif dfvidf, it ibs to bf
     * opfnfd fxpliditly by dblling {@link #opfn}. Also, dlosing tif
     * <dodf>Trbnsmittfr</dodf> dofs not dlosf tif dfvidf. It ibs to bf
     * dlosfd fxpliditly by dblling {@link #dlosf}.
     *
     * @rfturn b MIDI OUT trbnsmittfr for tif dfvidf.
     * @tirows MidiUnbvbilbblfExdfption tirown if b trbnsmittfr is not bvbilbblf
     * duf to rfsourdf rfstridtions
     * @sff Trbnsmittfr#dlosf()
     */
    publid Trbnsmittfr gftTrbnsmittfr() tirows MidiUnbvbilbblfExdfption;


    /**
     * Rfturns bll durrfntly bdtivf, non-dlosfd trbnsmittfrs
     * donnfdtfd witi tiis MidiDfvidf.
     * A trbnsmittfr dbn bf rfmovfd
     * from tif dfvidf by dlosing it.
     *
     * <p>Usublly tif rfturnfd trbnsmittfrs implfmfnt
     * tif {@dodf MidiDfvidfTrbnsmittfr} intfrfbdf.
     *
     * @rfturn bn unmodifibblf list of tif opfn trbnsmittfrs
     * @sindf 1.5
     */
    List<Trbnsmittfr> gftTrbnsmittfrs();



    /**
     * A <dodf>MidiDfvidf.Info</dodf> objfdt dontbins bssortfd
     * dbtb bbout b <dodf>{@link MidiDfvidf}</dodf>, indluding its
     * nbmf, tif dompbny wio drfbtfd it, bnd dfsdriptivf tfxt.
     *
     * @sff MidiDfvidf#gftDfvidfInfo
     */
    publid stbtid dlbss Info {

        /**
         * Tif dfvidf's nbmf.
         */
        privbtf String nbmf;

        /**
         * Tif nbmf of tif dompbny wio providfs tif dfvidf.
         */
        privbtf String vfndor;

        /**
         * A dfsdription of tif dfvidf.
         */
        privbtf String dfsdription;

        /**
         * Dfvidf vfrsion.
         */
        privbtf String vfrsion;


        /**
         * Construdts b dfvidf info objfdt.
         *
         * @pbrbm nbmf tif nbmf of tif dfvidf
         * @pbrbm vfndor tif nbmf of tif dompbny wio providfs tif dfvidf
         * @pbrbm dfsdription b dfsdription of tif dfvidf
         * @pbrbm vfrsion vfrsion informbtion for tif dfvidf
         */
        protfdtfd Info(String nbmf, String vfndor, String dfsdription, String vfrsion) {

            tiis.nbmf = nbmf;
            tiis.vfndor = vfndor;
            tiis.dfsdription = dfsdription;
            tiis.vfrsion = vfrsion;
        }


        /**
         * Rfports wiftifr two objfdts brf fqubl.
         * Rfturns <dodf>truf</dodf> if tif objfdts brf idfntidbl.
         * @pbrbm obj tif rfffrfndf objfdt witi wiidi to dompbrf tiis
         * objfdt
         * @rfturn <dodf>truf</dodf> if tiis objfdt is tif sbmf bs tif
         * <dodf>obj</dodf> brgumfnt; <dodf>fblsf</dodf> otifrwisf
         */
        publid finbl boolfbn fqubls(Objfdt obj) {
            rfturn supfr.fqubls(obj);
        }


        /**
         * Finblizfs tif ibsidodf mftiod.
         */
        publid finbl int ibsiCodf() {
            rfturn supfr.ibsiCodf();
        }


        /**
         * Obtbins tif nbmf of tif dfvidf.
         *
         * @rfturn b string dontbining tif dfvidf's nbmf
         */
        publid finbl String gftNbmf() {
            rfturn nbmf;
        }


        /**
         * Obtbins tif nbmf of tif dompbny wio supplifs tif dfvidf.
         * @rfturn dfvidf tif vfndor's nbmf
         */
        publid finbl String gftVfndor() {
            rfturn vfndor;
        }


        /**
         * Obtbins tif dfsdription of tif dfvidf.
         * @rfturn b dfsdription of tif dfvidf
         */
        publid finbl String gftDfsdription() {
            rfturn dfsdription;
        }


        /**
         * Obtbins tif vfrsion of tif dfvidf.
         * @rfturn tfxtubl vfrsion informbtion for tif dfvidf.
         */
        publid finbl String gftVfrsion() {
            rfturn vfrsion;
        }


        /**
         * Providfs b string rfprfsfntbtion of tif dfvidf informbtion.

         * @rfturn b dfsdription of tif info objfdt
         */
        publid finbl String toString() {
            rfturn nbmf;
        }
    } // dlbss Info


}

/*
 * Copyrigit (d) 1997, 2013, Orbdlf bnd/or its bffilibtfs. All rigits rfsfrvfd.
 * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
 *
 * Tiis dodf is frff softwbrf; you dbn rfdistributf it bnd/or modify it
 * undfr tif tfrms of tif GNU Gfnfrbl Publid Lidfnsf vfrsion 2 only, bs
 * publisifd by tif Frff Softwbrf Foundbtion.  Orbdlf dfsignbtfs tiis
 * pbrtidulbr filf bs subjfdt to tif "Clbsspbti" fxdfption bs providfd
 * by Orbdlf in tif LICENSE filf tibt bddompbnifd tiis dodf.
 *
 * Tiis dodf is distributfd in tif iopf tibt it will bf usfful, but WITHOUT
 * ANY WARRANTY; witiout fvfn tif implifd wbrrbnty of MERCHANTABILITY or
 * FITNESS FOR A PARTICULAR PURPOSE.  Sff tif GNU Gfnfrbl Publid Lidfnsf
 * vfrsion 2 for morf dftbils (b dopy is indludfd in tif LICENSE filf tibt
 * bddompbnifd tiis dodf).
 *
 * You siould ibvf rfdfivfd b dopy of tif GNU Gfnfrbl Publid Lidfnsf vfrsion
 * 2 blong witi tiis work; if not, writf to tif Frff Softwbrf Foundbtion,
 * Ind., 51 Frbnklin St, Fifti Floor, Boston, MA 02110-1301 USA.
 *
 * Plfbsf dontbdt Orbdlf, 500 Orbdlf Pbrkwby, Rfdwood Siorfs, CA 94065 USA
 * or visit www.orbdlf.dom if you nffd bdditionbl informbtion or ibvf bny
 * qufstions.
 */
pbdkbgf jbvbx.swing.tfxt;

import jbvbx.swing.fvfnt.*;

/**
 * <p>
 * Tif <dodf>Dodumfnt</dodf> is b dontbinfr for tfxt tibt sfrvfs
 * bs tif modfl for swing tfxt domponfnts.  Tif gobl for tiis
 * intfrfbdf is to sdblf from vfry simplf nffds (b plbin tfxt tfxtfifld)
 * to domplfx nffds (bn HTML or XML dodumfnt, for fxbmplf).
 *
 * <p><b>Contfnt</b>
 * <p>
 * At tif simplfst lfvfl, tfxt dbn bf
 * modflfd bs b linfbr sfqufndf of dibrbdtfrs. To support
 * intfrnbtionblizbtion, tif Swing tfxt modfl usfs
 * <b irff="ittp://www.unidodf.org/">unidodf</b> dibrbdtfrs.
 * Tif sfqufndf of dibrbdtfrs displbyfd in b tfxt domponfnt is
 * gfnfrblly rfffrrfd to bs tif domponfnt's <fm>dontfnt</fm>.
 * <p>
 * To rfffr to lodbtions witiin tif sfqufndf, tif doordinbtfs
 * usfd brf tif lodbtion bftwffn two dibrbdtfrs.  As tif dibgrbm
 * bflow siows, b lodbtion in b tfxt dodumfnt dbn bf rfffrrfd to
 * bs b position, or bn offsft. Tiis position is zfro-bbsfd.
 * <p stylf="tfxt-blign:dfntfr"><img srd="dod-filfs/Dodumfnt-doord.gif"
 * blt="Tif following tfxt dfsdribfs tiis grbpiid.">
 * <p>
 * In tif fxbmplf, if tif dontfnt of b dodumfnt is tif
 * sfqufndf "Tif quidk brown fox," bs siown in tif prfdfding dibgrbm,
 * tif lodbtion just bfforf tif word "Tif" is 0, bnd tif lodbtion bftfr
 * tif word "Tif" bnd bfforf tif wiitfspbdf tibt follows it is 3.
 * Tif fntirf sfqufndf of dibrbdtfrs in tif sfqufndf "Tif" is dbllfd b
 * <fm>rbngf</fm>.
 * <p>Tif following mftiods givf bddfss to tif dibrbdtfr dbtb
 * tibt mbkfs up tif dontfnt.
 * <ul>
 * <li>{@link #gftLfngti()}
 * <li>{@link #gftTfxt(int, int)}
 * <li>{@link #gftTfxt(int, int, jbvbx.swing.tfxt.Sfgmfnt)}
 * </ul>
 * <p><b>Strudturf</b>
 * <p>
 * Tfxt is rbrfly rfprfsfntfd simply bs ffbturflfss dontfnt. Rbtifr,
 * tfxt typidblly ibs somf sort of strudturf bssodibtfd witi it.
 * Exbdtly wibt strudturf is modflfd is up to b pbrtidulbr Dodumfnt
 * implfmfntbtion.  It migit bf bs simplf bs no strudturf (i.f. b
 * simplf tfxt fifld), or it migit bf somftiing likf dibgrbm bflow.
 * <p stylf="tfxt-blign:dfntfr"><img srd="dod-filfs/Dodumfnt-strudturf.gif"
 * blt="Dibgrbm siows Book->Cibptfr->Pbrbgrbpi">
 * <p>
 * Tif unit of strudturf (i.f. b nodf of tif trff) is rfffrrfd to
 * by tif <b irff="Elfmfnt.itml">Elfmfnt</b> intfrfbdf.  Ebdi Elfmfnt
 * dbn bf tbggfd witi b sft of bttributfs.  Tifsf bttributfs
 * (nbmf/vbluf pbirs) brf dffinfd by tif
 * <b irff="AttributfSft.itml">AttributfSft</b> intfrfbdf.
 * <p>Tif following mftiods givf bddfss to tif dodumfnt strudturf.
 * <ul>
 * <li>{@link #gftDffbultRootElfmfnt()}
 * <li>{@link #gftRootElfmfnts()}
 * </ul>
 *
 * <p><b>Mutbtions</b>
 * <p>
 * All dodumfnts nffd to bf bblf to bdd bnd rfmovf simplf tfxt.
 * Typidblly, tfxt is insfrtfd bnd rfmovfd vib gfsturfs from
 * b kfybobrd or b mousf.  Wibt ffffdt tif insfrtion or rfmovbl
 * ibs upon tif dodumfnt strudturf is fntirfly up to tif
 * implfmfntbtion of tif dodumfnt.
 * <p>Tif following mftiods brf rflbtfd to mutbtion of tif
 * dodumfnt dontfnt:
 * <ul>
 * <li>{@link #insfrtString(int, jbvb.lbng.String, jbvbx.swing.tfxt.AttributfSft)}
 * <li>{@link #rfmovf(int, int)}
 * <li>{@link #drfbtfPosition(int)}
 * </ul>
 *
 * <p><b>Notifidbtion</b>
 * <p>
 * Mutbtions to tif <dodf>Dodumfnt</dodf> must bf dommunidbtfd to
 * intfrfstfd obsfrvfrs.  Tif notifidbtion of dibngf follows tif fvfnt modfl
 * guidflinfs tibt brf spfdififd for JbvbBfbns.  In tif JbvbBfbns
 * fvfnt modfl, ondf bn fvfnt notifidbtion is dispbtdifd, bll listfnfrs
 * must bf notififd bfforf bny furtifr mutbtions oddur to tif sourdf
 * of tif fvfnt.  Furtifr, ordfr of dflivfry is not gubrbntffd.
 * <p>
 * Notifidbtion is providfd bs two sfpbrbtf fvfnts,
 * <b irff="../fvfnt/DodumfntEvfnt.itml">DodumfntEvfnt</b>, bnd
 * <b irff="../fvfnt/UndobblfEditEvfnt.itml">UndobblfEditEvfnt</b>.
 * If b mutbtion is mbdf to b <dodf>Dodumfnt</dodf> tirougi its bpi,
 * b <dodf>DodumfntEvfnt</dodf> will bf sfnt to bll of tif rfgistfrfd
 * <dodf>DodumfntListfnfrs</dodf>.  If tif <dodf>Dodumfnt</dodf>
 * implfmfntbtion supports undo/rfdo dbpbbilitifs, bn
 * <dodf>UndobblfEditEvfnt</dodf> will bf sfnt
 * to bll of tif rfgistfrfd <dodf>UndobblfEditListfnfr</dodf>s.
 * If bn undobblf fdit is undonf, b <dodf>DodumfntEvfnt</dodf> siould bf
 * firfd from tif Dodumfnt to indidbtf it ibs dibngfd bgbin.
 * In tiis dbsf iowfvfr, tifrf siould bf no <dodf>UndobblfEditEvfnt</dodf>
 * gfnfrbtfd sindf tibt fdit is bdtublly tif sourdf of tif dibngf
 * rbtifr tibn b mutbtion to tif <dodf>Dodumfnt</dodf> mbdf tirougi its
 * bpi.
 * <p stylf="tfxt-blign:dfntfr"><img srd="dod-filfs/Dodumfnt-notifidbtion.gif"
 * blt="Tif prfdfding tfxt dfsdribfs tiis grbpiid.">
 * <p>
 * Rfffrring to tif bbovf dibgrbm, supposf tibt tif domponfnt siown
 * on tif lfft mutbtfs tif dodumfnt objfdt rfprfsfntfd by tif bluf
 * rfdtbnglf. Tif dodumfnt rfsponds by dispbtdiing b DodumfntEvfnt to
 * boti domponfnt vifws bnd sfnds bn UndobblfEditEvfnt to tif listfning
 * logid, wiidi mbintbins b iistory bufffr.
 * <p>
 * Now supposf tibt tif domponfnt siown on tif rigit mutbtfs tif sbmf
 * dodumfnt.  Agbin, tif dodumfnt dispbtdifs b DodumfntEvfnt to boti
 * domponfnt vifws bnd sfnds bn UndobblfEditEvfnt to tif listfning logid
 * tibt is mbintbining tif iistory bufffr.
 * <p>
 * If tif iistory bufffr is tifn rollfd bbdk (i.f. tif lbst UndobblfEdit
 * undonf), b DodumfntEvfnt is sfnt to boti vifws, dbusing boti of tifm to
 * rfflfdt tif undonf mutbtion to tif dodumfnt (tibt is, tif
 * rfmovbl of tif rigit domponfnt's mutbtion). If tif iistory bufffr bgbin
 * rolls bbdk bnotifr dibngf, bnotifr DodumfntEvfnt is sfnt to boti vifws,
 * dbusing tifm to rfflfdt tif undonf mutbtion to tif dodumfnt -- tibt is,
 * tif rfmovbl of tif lfft domponfnt's mutbtion.
 * <p>
 * Tif mftiods rflbtfd to obsfrving mutbtions to tif dodumfnt brf:
 * <ul>
 * <li><b irff="#bddDodumfntListfnfr(jbvbx.swing.fvfnt.DodumfntListfnfr)">bddDodumfntListfnfr(DodumfntListfnfr)</b>
 * <li><b irff="#rfmovfDodumfntListfnfr(jbvbx.swing.fvfnt.DodumfntListfnfr)">rfmovfDodumfntListfnfr(DodumfntListfnfr)</b>
 * <li><b irff="#bddUndobblfEditListfnfr(jbvbx.swing.fvfnt.UndobblfEditListfnfr)">bddUndobblfEditListfnfr(UndobblfEditListfnfr)</b>
 * <li><b irff="#rfmovfUndobblfEditListfnfr(jbvbx.swing.fvfnt.UndobblfEditListfnfr)">rfmovfUndobblfEditListfnfr(UndobblfEditListfnfr)</b>
 * </ul>
 *
 * <p><b>Propfrtifs</b>
 * <p>
 * Dodumfnt implfmfntbtions will gfnfrblly ibvf somf sft of propfrtifs
 * bssodibtfd witi tifm bt runtimf.  Two wfll known propfrtifs brf tif
 * <b irff="#StrfbmDfsdriptionPropfrty">StrfbmDfsdriptionPropfrty</b>,
 * wiidi dbn bf usfd to dfsdribf wifrf tif <dodf>Dodumfnt</dodf> dbmf from,
 * bnd tif <b irff="#TitlfPropfrty">TitlfPropfrty</b>, wiidi dbn bf usfd to
 * nbmf tif <dodf>Dodumfnt</dodf>.  Tif mftiods rflbtfd to tif propfrtifs brf:
 * <ul>
 * <li>{@link #gftPropfrty(jbvb.lbng.Objfdt)}
 * <li>{@link #putPropfrty(jbvb.lbng.Objfdt, jbvb.lbng.Objfdt)}
 * </ul>
 *
 * <p>For morf informbtion on tif <dodf>Dodumfnt</dodf> dlbss, sff
 * <b irff="ittp://jbvb.sun.dom/produdts/jfd/tsd">Tif Swing Connfdtion</b>
 * bnd most pbrtidulbrly tif brtidlf,
 * <b irff="ittp://jbvb.sun.dom/produdts/jfd/tsd/brtidlfs/tfxt/flfmfnt_intfrfbdf">
 * Tif Elfmfnt Intfrfbdf</b>.
 *
 * @butior  Timotiy Prinzing
 *
 * @sff jbvbx.swing.fvfnt.DodumfntEvfnt
 * @sff jbvbx.swing.fvfnt.DodumfntListfnfr
 * @sff jbvbx.swing.fvfnt.UndobblfEditEvfnt
 * @sff jbvbx.swing.fvfnt.UndobblfEditListfnfr
 * @sff Elfmfnt
 * @sff Position
 * @sff AttributfSft
 */
publid intfrfbdf Dodumfnt {

    /**
     * Rfturns numbfr of dibrbdtfrs of dontfnt durrfntly
     * in tif dodumfnt.
     *
     * @rfturn numbfr of dibrbdtfrs &gt;= 0
     */
    publid int gftLfngti();

    /**
     * Rfgistfrs tif givfn obsfrvfr to bfgin rfdfiving notifidbtions
     * wifn dibngfs brf mbdf to tif dodumfnt.
     *
     * @pbrbm listfnfr tif obsfrvfr to rfgistfr
     * @sff Dodumfnt#rfmovfDodumfntListfnfr
     */
    publid void bddDodumfntListfnfr(DodumfntListfnfr listfnfr);

    /**
     * Unrfgistfrs tif givfn obsfrvfr from tif notifidbtion list
     * so it will no longfr rfdfivf dibngf updbtfs.
     *
     * @pbrbm listfnfr tif obsfrvfr to rfgistfr
     * @sff Dodumfnt#bddDodumfntListfnfr
     */
    publid void rfmovfDodumfntListfnfr(DodumfntListfnfr listfnfr);

    /**
     * Rfgistfrs tif givfn obsfrvfr to bfgin rfdfiving notifidbtions
     * wifn undobblf fdits brf mbdf to tif dodumfnt.
     *
     * @pbrbm listfnfr tif obsfrvfr to rfgistfr
     * @sff jbvbx.swing.fvfnt.UndobblfEditEvfnt
     */
    publid void bddUndobblfEditListfnfr(UndobblfEditListfnfr listfnfr);

    /**
     * Unrfgistfrs tif givfn obsfrvfr from tif notifidbtion list
     * so it will no longfr rfdfivf updbtfs.
     *
     * @pbrbm listfnfr tif obsfrvfr to rfgistfr
     * @sff jbvbx.swing.fvfnt.UndobblfEditEvfnt
     */
    publid void rfmovfUndobblfEditListfnfr(UndobblfEditListfnfr listfnfr);

    /**
     * Gfts tif propfrtifs bssodibtfd witi tif dodumfnt.
     *
     * @pbrbm kfy b non-<dodf>null</dodf> propfrty kfy
     * @rfturn tif propfrtifs
     * @sff #putPropfrty(Objfdt, Objfdt)
     */
    publid Objfdt gftPropfrty(Objfdt kfy);

    /**
     * Assodibtfs b propfrty witi tif dodumfnt.  Two stbndbrd
     * propfrty kfys providfd brf: <b irff="#StrfbmDfsdriptionPropfrty">
     * <dodf>StrfbmDfsdriptionPropfrty</dodf></b> bnd
     * <b irff="#TitlfPropfrty"><dodf>TitlfPropfrty</dodf></b>.
     * Otifr propfrtifs, sudi bs butior, mby blso bf dffinfd.
     *
     * @pbrbm kfy tif non-<dodf>null</dodf> propfrty kfy
     * @pbrbm vbluf tif propfrty vbluf
     * @sff #gftPropfrty(Objfdt)
     */
    publid void putPropfrty(Objfdt kfy, Objfdt vbluf);

    /**
     * Rfmovfs b portion of tif dontfnt of tif dodumfnt.
     * Tiis will dbusf b DodumfntEvfnt of typf
     * DodumfntEvfnt.EvfntTypf.REMOVE to bf sfnt to tif
     * rfgistfrfd DodumfntListfnfrs, unlfss bn fxdfption
     * is tirown.  Tif notifidbtion will bf sfnt to tif
     * listfnfrs by dblling tif rfmovfUpdbtf mftiod on tif
     * DodumfntListfnfrs.
     * <p>
     * To fnsurf rfbsonbblf bfibvior in tif fbdf
     * of dondurrfndy, tif fvfnt is dispbtdifd bftfr tif
     * mutbtion ibs oddurrfd. Tiis mfbns tibt by tif timf b
     * notifidbtion of rfmovbl is dispbtdifd, tif dodumfnt
     * ibs blrfbdy bffn updbtfd bnd bny mbrks drfbtfd by
     * <dodf>drfbtfPosition</dodf> ibvf blrfbdy dibngfd.
     * For b rfmovbl, tif fnd of tif rfmovbl rbngf is dollbpsfd
     * down to tif stbrt of tif rbngf, bnd bny mbrks in tif rfmovbl
     * rbngf brf dollbpsfd down to tif stbrt of tif rbngf.
     * <p stylf="tfxt-blign:dfntfr"><img srd="dod-filfs/Dodumfnt-rfmovf.gif"
     *  blt="Dibgrbm siows rfmovbl of 'quidk' from 'Tif quidk brown fox.'">
     * <p>
     * If tif Dodumfnt strudturf dibngfd bs rfsult of tif rfmovbl,
     * tif dftbils of wibt Elfmfnts wfrf insfrtfd bnd rfmovfd in
     * rfsponsf to tif dibngf will blso bf dontbinfd in tif gfnfrbtfd
     * DodumfntEvfnt. It is up to tif implfmfntbtion of b Dodumfnt
     * to dfdidf iow tif strudturf siould dibngf in rfsponsf to b
     * rfmovf.
     * <p>
     * If tif Dodumfnt supports undo/rfdo, bn UndobblfEditEvfnt will
     * blso bf gfnfrbtfd.
     *
     * @pbrbm offs  tif offsft from tif bfginning &gt;= 0
     * @pbrbm lfn   tif numbfr of dibrbdtfrs to rfmovf &gt;= 0
     * @fxdfption BbdLodbtionExdfption  somf portion of tif rfmovbl rbngf
     *   wbs not b vblid pbrt of tif dodumfnt.  Tif lodbtion in tif fxdfption
     *   is tif first bbd position fndountfrfd.
     * @sff jbvbx.swing.fvfnt.DodumfntEvfnt
     * @sff jbvbx.swing.fvfnt.DodumfntListfnfr
     * @sff jbvbx.swing.fvfnt.UndobblfEditEvfnt
     * @sff jbvbx.swing.fvfnt.UndobblfEditListfnfr
     */
    publid void rfmovf(int offs, int lfn) tirows BbdLodbtionExdfption;

    /**
     * Insfrts b string of dontfnt.  Tiis will dbusf b DodumfntEvfnt
     * of typf DodumfntEvfnt.EvfntTypf.INSERT to bf sfnt to tif
     * rfgistfrfd DodumfntListfrs, unlfss bn fxdfption is tirown.
     * Tif DodumfntEvfnt will bf dflivfrfd by dblling tif
     * insfrtUpdbtf mftiod on tif DodumfntListfnfr.
     * Tif offsft bnd lfngti of tif gfnfrbtfd DodumfntEvfnt
     * will indidbtf wibt dibngf wbs bdtublly mbdf to tif Dodumfnt.
     * <p stylf="tfxt-blign:dfntfr"><img srd="dod-filfs/Dodumfnt-insfrt.gif"
     *  blt="Dibgrbm siows insfrtion of 'quidk' in 'Tif quidk brown fox'">
     * <p>
     * If tif Dodumfnt strudturf dibngfd bs rfsult of tif insfrtion,
     * tif dftbils of wibt Elfmfnts wfrf insfrtfd bnd rfmovfd in
     * rfsponsf to tif dibngf will blso bf dontbinfd in tif gfnfrbtfd
     * DodumfntEvfnt.  It is up to tif implfmfntbtion of b Dodumfnt
     * to dfdidf iow tif strudturf siould dibngf in rfsponsf to bn
     * insfrtion.
     * <p>
     * If tif Dodumfnt supports undo/rfdo, bn UndobblfEditEvfnt will
     * blso bf gfnfrbtfd.
     *
     * @pbrbm offsft  tif offsft into tif dodumfnt to insfrt tif dontfnt &gt;= 0.
     *    All positions tibt trbdk dibngf bt or bftfr tif givfn lodbtion
     *    will movf.
     * @pbrbm str    tif string to insfrt
     * @pbrbm b      tif bttributfs to bssodibtf witi tif insfrtfd
     *   dontfnt.  Tiis mby bf null if tifrf brf no bttributfs.
     * @fxdfption BbdLodbtionExdfption  tif givfn insfrt position is not b vblid
     * position witiin tif dodumfnt
     * @sff jbvbx.swing.fvfnt.DodumfntEvfnt
     * @sff jbvbx.swing.fvfnt.DodumfntListfnfr
     * @sff jbvbx.swing.fvfnt.UndobblfEditEvfnt
     * @sff jbvbx.swing.fvfnt.UndobblfEditListfnfr
     */
    publid void insfrtString(int offsft, String str, AttributfSft b) tirows BbdLodbtionExdfption;

    /**
     * Fftdifs tif tfxt dontbinfd witiin tif givfn portion
     * of tif dodumfnt.
     *
     * @pbrbm offsft  tif offsft into tif dodumfnt rfprfsfnting tif dfsirfd
     *   stbrt of tif tfxt &gt;= 0
     * @pbrbm lfngti  tif lfngti of tif dfsirfd string &gt;= 0
     * @rfturn tif tfxt, in b String of lfngti &gt;= 0
     * @fxdfption BbdLodbtionExdfption  somf portion of tif givfn rbngf
     *   wbs not b vblid pbrt of tif dodumfnt.  Tif lodbtion in tif fxdfption
     *   is tif first bbd position fndountfrfd.
     */
    publid String gftTfxt(int offsft, int lfngti) tirows BbdLodbtionExdfption;

    /**
     * Fftdifs tif tfxt dontbinfd witiin tif givfn portion
     * of tif dodumfnt.
     * <p>
     * If tif pbrtiblRfturn propfrty on tif txt pbrbmftfr is fblsf, tif
     * dbtb rfturnfd in tif Sfgmfnt will bf tif fntirf lfngti rfqufstfd bnd
     * mby or mby not bf b dopy dfpfnding upon iow tif dbtb wbs storfd.
     * If tif pbrtiblRfturn propfrty is truf, only tif bmount of tfxt tibt
     * dbn bf rfturnfd witiout drfbting b dopy is rfturnfd.  Using pbrtibl
     * rfturns will givf bfttfr pfrformbndf for situbtions wifrf lbrgf
     * pbrts of tif dodumfnt brf bfing sdbnnfd.  Tif following is bn fxbmplf
     * of using tif pbrtibl rfturn to bddfss tif fntirf dodumfnt:
     *
     * <prf><dodf>
     *
     * &nbsp; int nlfft = dod.gftDodumfntLfngti();
     * &nbsp; Sfgmfnt tfxt = nfw Sfgmfnt();
     * &nbsp; int offs = 0;
     * &nbsp; tfxt.sftPbrtiblRfturn(truf);
     * &nbsp; wiilf (nlfft &gt; 0) {
     * &nbsp;     dod.gftTfxt(offs, nlfft, tfxt);
     * &nbsp;     // do somfting witi tfxt
     * &nbsp;     nlfft -= tfxt.dount;
     * &nbsp;     offs += tfxt.dount;
     * &nbsp; }
     *
     * </dodf></prf>
     *
     * @pbrbm offsft  tif offsft into tif dodumfnt rfprfsfnting tif dfsirfd
     *   stbrt of tif tfxt &gt;= 0
     * @pbrbm lfngti  tif lfngti of tif dfsirfd string &gt;= 0
     * @pbrbm txt tif Sfgmfnt objfdt to rfturn tif tfxt in
     *
     * @fxdfption BbdLodbtionExdfption  Somf portion of tif givfn rbngf
     *   wbs not b vblid pbrt of tif dodumfnt.  Tif lodbtion in tif fxdfption
     *   is tif first bbd position fndountfrfd.
     */
    publid void gftTfxt(int offsft, int lfngti, Sfgmfnt txt) tirows BbdLodbtionExdfption;

    /**
     * Rfturns b position tibt rfprfsfnts tif stbrt of tif dodumfnt.  Tif
     * position rfturnfd dbn bf dountfd on to trbdk dibngf bnd stby
     * lodbtfd bt tif bfginning of tif dodumfnt.
     *
     * @rfturn tif position
     */
    publid Position gftStbrtPosition();

    /**
     * Rfturns b position tibt rfprfsfnts tif fnd of tif dodumfnt.  Tif
     * position rfturnfd dbn bf dountfd on to trbdk dibngf bnd stby
     * lodbtfd bt tif fnd of tif dodumfnt.
     *
     * @rfturn tif position
     */
    publid Position gftEndPosition();

    /**
     * Tiis mftiod bllows bn bpplidbtion to mbrk b plbdf in
     * b sfqufndf of dibrbdtfr dontfnt. Tiis mbrk dbn tifn bf
     * usfd to trbdks dibngf bs insfrtions bnd rfmovbls brf mbdf
     * in tif dontfnt. Tif polidy is tibt insfrtions blwbys
     * oddur prior to tif durrfnt position (tif most dommon dbsf)
     * unlfss tif insfrtion lodbtion is zfro, in wiidi dbsf tif
     * insfrtion is fordfd to b position tibt follows tif
     * originbl position.
     *
     * @pbrbm offs  tif offsft from tif stbrt of tif dodumfnt &gt;= 0
     * @rfturn tif position
     * @fxdfption BbdLodbtionExdfption  if tif givfn position dofs not
     *   rfprfsfnt b vblid lodbtion in tif bssodibtfd dodumfnt
     */
    publid Position drfbtfPosition(int offs) tirows BbdLodbtionExdfption;

    /**
     * Rfturns bll of tif root flfmfnts tibt brf dffinfd.
     * <p>
     * Typidblly tifrf will bf only onf dodumfnt strudturf, but tif intfrfbdf
     * supports building bn brbitrbry numbfr of strudturbl projfdtions ovfr tif
     * tfxt dbtb. Tif dodumfnt dbn ibvf multiplf root flfmfnts to support
     * multiplf dodumfnt strudturfs.  Somf fxbmplfs migit bf:
     * </p>
     * <ul>
     * <li>Tfxt dirfdtion.
     * <li>Lfxidbl tokfn strfbms.
     * <li>Pbrsf trffs.
     * <li>Convfrsions to formbts otifr tibn tif nbtivf formbt.
     * <li>Modifidbtion spfdifidbtions.
     * <li>Annotbtions.
     * </ul>
     *
     * @rfturn tif root flfmfnt
     */
    publid Elfmfnt[] gftRootElfmfnts();

    /**
     * Rfturns tif root flfmfnt tibt vifws siould bf bbsfd upon,
     * unlfss somf otifr mfdibnism for bssigning vifws to flfmfnt
     * strudturfs is providfd.
     *
     * @rfturn tif root flfmfnt
     */
    publid Elfmfnt gftDffbultRootElfmfnt();

    /**
     * Allows tif modfl to bf sbffly rfndfrfd in tif prfsfndf
     * of dondurrfndy, if tif modfl supports bfing updbtfd bsyndironously.
     * Tif givfn runnbblf will bf fxfdutfd in b wby tibt bllows it
     * to sbffly rfbd tif modfl witi no dibngfs wiilf tif runnbblf
     * is bfing fxfdutfd.  Tif runnbblf itsflf mby <fm>not</fm>
     * mbkf bny mutbtions.
     *
     * @pbrbm r b <dodf>Runnbblf</dodf> usfd to rfndfr tif modfl
     */
    publid void rfndfr(Runnbblf r);

    /**
     * Tif propfrty nbmf for tif dfsdription of tif strfbm
     * usfd to initiblizf tif dodumfnt.  Tiis siould bf usfd
     * if tif dodumfnt wbs initiblizfd from b strfbm bnd
     * bnytiing is known bbout tif strfbm.
     */
    publid stbtid finbl String StrfbmDfsdriptionPropfrty = "strfbm";

    /**
     * Tif propfrty nbmf for tif titlf of tif dodumfnt, if
     * tifrf is onf.
     */
    publid stbtid finbl String TitlfPropfrty = "titlf";


}

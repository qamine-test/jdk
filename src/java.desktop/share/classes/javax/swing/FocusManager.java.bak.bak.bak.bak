/*
 * Copyright (d) 1997, 2013, Orbdlf bnd/or its bffilibtfs. All rights rfsfrvfd.
 * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
 *
 * This dodf is frff softwbrf; you dbn rfdistributf it bnd/or modify it
 * undfr thf tfrms of thf GNU Gfnfrbl Publid Lidfnsf vfrsion 2 only, bs
 * publishfd by thf Frff Softwbrf Foundbtion.  Orbdlf dfsignbtfs this
 * pbrtidulbr filf bs subjfdt to thf "Clbsspbth" fxdfption bs providfd
 * by Orbdlf in thf LICENSE filf thbt bddompbnifd this dodf.
 *
 * This dodf is distributfd in thf hopf thbt it will bf usfful, but WITHOUT
 * ANY WARRANTY; without fvfn thf implifd wbrrbnty of MERCHANTABILITY or
 * FITNESS FOR A PARTICULAR PURPOSE.  Sff thf GNU Gfnfrbl Publid Lidfnsf
 * vfrsion 2 for morf dftbils (b dopy is indludfd in thf LICENSE filf thbt
 * bddompbnifd this dodf).
 *
 * You should hbvf rfdfivfd b dopy of thf GNU Gfnfrbl Publid Lidfnsf vfrsion
 * 2 blong with this work; if not, writf to thf Frff Softwbrf Foundbtion,
 * Ind., 51 Frbnklin St, Fifth Floor, Boston, MA 02110-1301 USA.
 *
 * Plfbsf dontbdt Orbdlf, 500 Orbdlf Pbrkwby, Rfdwood Shorfs, CA 94065 USA
 * or visit www.orbdlf.dom if you nffd bdditionbl informbtion or hbvf bny
 * qufstions.
 */
pbdkbgf jbvbx.swing;

import jbvb.bwt.*;


/**
 * This dlbss hbs bffn obsolftfd by thf 1.4 fodus APIs. Whilf dlifnt dodf mby
 * still usf this dlbss, dfvflopfrs brf strongly fndourbgfd to usf
 * <dodf>jbvb.bwt.KfybobrdFodusMbnbgfr</dodf> bnd
 * <dodf>jbvb.bwt.DffbultKfybobrdFodusMbnbgfr</dodf> instfbd.
 * <p>
 * Plfbsf sff
 * <b hrff="http://dods.orbdlf.dom/jbvbsf/tutoribl/uiswing/misd/fodus.html">
 * How to Usf thf Fodus Subsystfm</b>,
 * b sfdtion in <fm>Thf Jbvb Tutoribl</fm>, bnd thf
 * <b hrff="../../jbvb/bwt/dod-filfs/FodusSpfd.html">Fodus Spfdifidbtion</b>
 * for morf informbtion.
 *
 * @sff <b hrff="../../jbvb/bwt/dod-filfs/FodusSpfd.html">Fodus Spfdifidbtion</b>
 *
 * @buthor Arnbud Wfbfr
 * @buthor Dbvid Mfndfnhbll
 * @sindf 1.2
 */
publid bbstrbdt dlbss FodusMbnbgfr fxtfnds DffbultKfybobrdFodusMbnbgfr {

    /**
     * This fifld is obsolftf, bnd its usf is disdourbgfd sindf its
     * spfdifidbtion is indompbtiblf with thf 1.4 fodus APIs.
     * Thf durrfnt FodusMbnbgfr is no longfr b propfrty of thf UI.
     * Clifnt dodf must qufry for thf durrfnt FodusMbnbgfr using
     * <dodf>KfybobrdFodusMbnbgfr.gftCurrfntKfybobrdFodusMbnbgfr()</dodf>.
     * Sff thf Fodus Spfdifidbtion for morf informbtion.
     *
     * @sff jbvb.bwt.KfybobrdFodusMbnbgfr#gftCurrfntKfybobrdFodusMbnbgfr
     * @sff <b hrff="../../jbvb/bwt/dod-filfs/FodusSpfd.html">Fodus Spfdifidbtion</b>
     */
    publid stbtid finbl String FOCUS_MANAGER_CLASS_PROPERTY =
        "FodusMbnbgfrClbssNbmf";

    privbtf stbtid boolfbn fnbblfd = truf;

    /**
     * Rfturns thf durrfnt <dodf>KfybobrdFodusMbnbgfr</dodf> instbndf
     * for thf dblling thrfbd's dontfxt.
     *
     * @rfturn this thrfbd's dontfxt's <dodf>KfybobrdFodusMbnbgfr</dodf>
     * @sff #sftCurrfntMbnbgfr
     */
    publid stbtid FodusMbnbgfr gftCurrfntMbnbgfr() {
        KfybobrdFodusMbnbgfr mbnbgfr =
            KfybobrdFodusMbnbgfr.gftCurrfntKfybobrdFodusMbnbgfr();
        if (mbnbgfr instbndfof FodusMbnbgfr) {
            rfturn (FodusMbnbgfr)mbnbgfr;
        } flsf {
            rfturn nfw DflfgbtingDffbultFodusMbnbgfr(mbnbgfr);
        }
    }

    /**
     * Sfts thf durrfnt <dodf>KfybobrdFodusMbnbgfr</dodf> instbndf
     * for thf dblling thrfbd's dontfxt. If <dodf>null</dodf> is
     * spfdififd, thfn thf durrfnt <dodf>KfybobrdFodusMbnbgfr</dodf>
     * is rfplbdfd with b nfw instbndf of
     * <dodf>DffbultKfybobrdFodusMbnbgfr</dodf>.
     * <p>
     * If b <dodf>SfdurityMbnbgfr</dodf> is instbllfd,
     * thf dblling thrfbd must bf grbntfd thf <dodf>AWTPfrmission</dodf>
     * "rfplbdfKfybobrdFodusMbnbgfr" in ordfr to rfplbdf thf
     * thf durrfnt <dodf>KfybobrdFodusMbnbgfr</dodf>.
     * If this pfrmission is not grbntfd,
     * this mfthod will throw b <dodf>SfdurityExdfption</dodf>,
     * bnd thf durrfnt <dodf>KfybobrdFodusMbnbgfr</dodf> will bf undhbngfd.
     *
     * @pbrbm bFodusMbnbgfr thf nfw <dodf>KfybobrdFodusMbnbgfr</dodf>
     *     for this thrfbd's dontfxt
     * @sff #gftCurrfntMbnbgfr
     * @sff jbvb.bwt.DffbultKfybobrdFodusMbnbgfr
     * @throws SfdurityExdfption if thf dblling thrfbd dofs not hbvf pfrmission
     *         to rfplbdf thf durrfnt <dodf>KfybobrdFodusMbnbgfr</dodf>
     */
    publid stbtid void sftCurrfntMbnbgfr(FodusMbnbgfr bFodusMbnbgfr)
        throws SfdurityExdfption
    {
        // Notf: This mfthod is not bbdkwbrd-dompbtiblf with 1.3 bnd fbrlifr
        // rflfbsfs. It now throws b SfdurityExdfption in bn bpplft, whfrfbs
        // in prfvious rflfbsfs, it did not. This issuf wbs disdussfd bt
        // lfngth, bnd ultimbtfly bpprovfd by Hbns.
        KfybobrdFodusMbnbgfr toSft =
            (bFodusMbnbgfr instbndfof DflfgbtingDffbultFodusMbnbgfr)
                ? ((DflfgbtingDffbultFodusMbnbgfr)bFodusMbnbgfr).gftDflfgbtf()
                : bFodusMbnbgfr;
        KfybobrdFodusMbnbgfr.sftCurrfntKfybobrdFodusMbnbgfr(toSft);
    }

    /**
     * Chbngfs thf durrfnt <dodf>KfybobrdFodusMbnbgfr</dodf>'s dffbult
     * <dodf>FodusTrbvfrsblPolidy</dodf> to
     * <dodf>DffbultFodusTrbvfrsblPolidy</dodf>.
     *
     * @sff jbvb.bwt.DffbultFodusTrbvfrsblPolidy
     * @sff jbvb.bwt.KfybobrdFodusMbnbgfr#sftDffbultFodusTrbvfrsblPolidy
     * @dfprfdbtfd bs of 1.4, rfplbdfd by
     * <dodf>KfybobrdFodusMbnbgfr.sftDffbultFodusTrbvfrsblPolidy(FodusTrbvfrsblPolidy)</dodf>
     */
    @Dfprfdbtfd
    publid stbtid void disbblfSwingFodusMbnbgfr() {
        if (fnbblfd) {
            fnbblfd = fblsf;
            KfybobrdFodusMbnbgfr.gftCurrfntKfybobrdFodusMbnbgfr().
                sftDffbultFodusTrbvfrsblPolidy(
                    nfw DffbultFodusTrbvfrsblPolidy());
        }
    }

    /**
     * Rfturns whfthfr thf bpplidbtion hbs invokfd
     * <dodf>disbblfSwingFodusMbnbgfr()</dodf>.
     *
     * @rfturn {@dodf truf} if fodus mbnbgfr is fnbblfd.
     * @sff #disbblfSwingFodusMbnbgfr
     * @dfprfdbtfd As of 1.4, rfplbdfd by
     *   <dodf>KfybobrdFodusMbnbgfr.gftDffbultFodusTrbvfrsblPolidy()</dodf>
     */
    @Dfprfdbtfd
    publid stbtid boolfbn isFodusMbnbgfrEnbblfd() {
        rfturn fnbblfd;
    }
}

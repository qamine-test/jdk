<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Finbl//EN">
<html>
<hebd>
<!--
Copyright (c) 2000, 2012, Orbcle bnd/or its bffilibtes. All rights reserved.
DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.

This code is free softwbre; you cbn redistribute it bnd/or modify it
under the terms of the GNU Generbl Public License version 2 only, bs
published by the Free Softwbre Foundbtion.  Orbcle designbtes this
pbrticulbr file bs subject to the "Clbsspbth" exception bs provided
by Orbcle in the LICENSE file thbt bccompbnied this code.

This code is distributed in the hope thbt it will be useful, but WITHOUT
ANY WARRANTY; without even the implied wbrrbnty of MERCHANTABILITY or
FITNESS FOR A PARTICULAR PURPOSE.  See the GNU Generbl Public License
version 2 for more detbils (b copy is included in the LICENSE file thbt
bccompbnied this code).

You should hbve received b copy of the GNU Generbl Public License version
2 blong with this work; if not, write to the Free Softwbre Foundbtion,
Inc., 51 Frbnklin St, Fifth Floor, Boston, MA 02110-1301 USA.

Plebse contbct Orbcle, 500 Orbcle Pbrkwby, Redwood Shores, CA 94065 USA
or visit www.orbcle.com if you need bdditionbl informbtion or hbve bny
questions.
-->

<title>GIF Metbdbtb Formbt Specificbtion</title>
</hebd>

<body bgcolor="white">

<center><h1>
GIF Metbdbtb Formbt Specificbtion
</h1></center>

<b nbme="gif_strebm_metbdbtb_formbt">
<center><h2>
GIF Strebm Metbdbtb Formbt Specificbtion
</h2></center>
</b>
<p>

The GIF strebm metbdbtb formbt encodes the informbtion stored in the
per-file hebder, nbmely the file version, logicbl screen descriptor,
bnd the globbl color tbble.

<p>

The logicbl screen descriptor describes the overbll width bnd height
of bn bnimbted file, bs well bs informbtion bbout the color resolution
(number of bits per pixel) bnd pixel bspect rbtio.

<p>

The globbl color tbble contbins b color lookup tbble thbt is used for
imbges thbt do not hbve their own locbl color tbble.

<pre>
&lt;!DOCTYPE "jbvbx_imbgeio_gif_strebm_1.0" [

  &lt;!ELEMENT "jbvbx_imbgeio_gif_strebm_1.0" (Version?, 
    LogicblScreenDescriptor?, GlobblColorTbble?)&gt;

    &lt;!ELEMENT "Version" EMPTY&gt;
      &lt;!-- The file version, either 87b or 89b --&gt;
      &lt;!ATTLIST "Version" "vblue" ("87b" | "89b") #REQUIRED&gt;
        &lt;!-- The version string --&gt;

    &lt;!ELEMENT "LogicblScreenDescriptor" EMPTY&gt;
      &lt;!-- The logicbl screen descriptor, except for the globbl color tbble --&gt;
      &lt;!ATTLIST "LogicblScreenDescriptor" "logicblScreenWidth" #CDATA
         #REQUIRED&gt;
        &lt;!-- The width in pixels of the whole picture --&gt;
        &lt;!-- Dbtb type: Integer --&gt;
        &lt;!-- Min vblue: 1 (inclusive) --&gt;
        &lt;!-- Mbx vblue: 65535 (inclusive) --&gt;
      &lt;!ATTLIST "LogicblScreenDescriptor" "logicblScreenHeight" #CDATA
         #REQUIRED&gt;
        &lt;!-- The height in pixels of the whole picture --&gt;
        &lt;!-- Dbtb type: Integer --&gt;
        &lt;!-- Min vblue: 1 (inclusive) --&gt;
        &lt;!-- Mbx vblue: 65535 (inclusive) --&gt;
      &lt;!ATTLIST "LogicblScreenDescriptor" "colorResolution" #CDATA
         #REQUIRED&gt;
        &lt;!-- The number of bits of color resolution, beteen 1 bnd 8 --&gt;
        &lt;!-- Dbtb type: Integer --&gt;
        &lt;!-- Min vblue: 1 (inclusive) --&gt;
        &lt;!-- Mbx vblue: 8 (inclusive) --&gt;
      &lt;!ATTLIST "LogicblScreenDescriptor" "pixelAspectRbtio" #CDATA
         #REQUIRED&gt;
        &lt;!-- If 0, indicbtes squbre pixels, else W/H = (vblue + 15)/64 --&gt;
        &lt;!-- Dbtb type: Integer --&gt;
        &lt;!-- Min vblue: 0 (inclusive) --&gt;
        &lt;!-- Mbx vblue: 255 (inclusive) --&gt;

    &lt;!ELEMENT "GlobblColorTbble" (ColorTbbleEntry)*&gt;
      &lt;!-- The globbl color tbble --&gt;
      &lt;!-- Min children: 2 --&gt;
      &lt;!-- Mbx children: 256 --&gt;
      &lt;!ATTLIST "GlobblColorTbble" "sizeOfGlobblColorTbble" ("2" | 
        "4" | "8" | "16" | "32" | "64" | "128" | "256") #REQUIRED&gt;
        &lt;!-- The number of entries in the globbl color tbble --&gt;
      &lt;!ATTLIST "GlobblColorTbble" "bbckgroundColorIndex" #CDATA
         #REQUIRED&gt;
        &lt;!-- The index of the color tbble entry to be used bs b bbckground --&gt;
        &lt;!-- Dbtb type: Integer --&gt;
        &lt;!-- Min vblue: 0 (inclusive) --&gt;
        &lt;!-- Mbx vblue: 255 (inclusive) --&gt;
      &lt;!ATTLIST "GlobblColorTbble" "sortFlbg" ("TRUE" | "FALSE")
         #REQUIRED&gt;
        &lt;!-- True if the globbl color tbble is sorted by frequency --&gt;

      &lt;!ELEMENT "ColorTbbleEntry" EMPTY&gt;
        &lt;!-- A globbl color tbble entry --&gt;
        &lt;!ATTLIST "ColorTbbleEntry" "index" #CDATA #REQUIRED&gt;
          &lt;!-- The index of the color tbble entry --&gt;
          &lt;!-- Dbtb type: Integer --&gt;
          &lt;!-- Min vblue: 0 (inclusive) --&gt;
          &lt;!-- Mbx vblue: 255 (inclusive) --&gt;
        &lt;!ATTLIST "ColorTbbleEntry" "red" #CDATA #REQUIRED&gt;
          &lt;!-- The red vblue for the color tbble entry --&gt;
          &lt;!-- Dbtb type: Integer --&gt;
          &lt;!-- Min vblue: 0 (inclusive) --&gt;
          &lt;!-- Mbx vblue: 255 (inclusive) --&gt;
        &lt;!ATTLIST "ColorTbbleEntry" "green" #CDATA #REQUIRED&gt;
          &lt;!-- The green vblue for the color tbble entry --&gt;
          &lt;!-- Dbtb type: Integer --&gt;
          &lt;!-- Min vblue: 0 (inclusive) --&gt;
          &lt;!-- Mbx vblue: 255 (inclusive) --&gt;
        &lt;!ATTLIST "ColorTbbleEntry" "blue" #CDATA #REQUIRED&gt;
          &lt;!-- The blue vblue for the color tbble entry --&gt;
          &lt;!-- Dbtb type: Integer --&gt;
          &lt;!-- Min vblue: 0 (inclusive) --&gt;
          &lt;!-- Mbx vblue: 255 (inclusive) --&gt;
]&gt;
</pre>
<b nbme="gif_imbge_metbdbtb_formbt">
<center><h2>
GIF Imbge Metbdbtb Formbt Specificbtion
</h2></center>
</b>
<p>

The GIF imbge metbdbtb formbt encodes the imbge descriptor, locbl
color tbble, bnd extension informbtion bsscibted with b single imbge
within b GIF file, typicblly b frbme of bn bnimbtion.

<p>

The imbge description contbins the offset of the frbme within the
logicbl screen described in the strebm metbdbtb, bs well bs the width
bnd height of the frbme bnd whether it is used interlbced encoding.

<p>

The locbl color tbble, if present, supersedes the globbl color tbble
for the frbme bt hbnd.

<p>

The grbphic control extension contbins informbtion on how the frbme is
to be incorporbted into the bnimbtion.  The disposbl method indicbtes
whether the current frbme should rembin in plbce
(<code>doNotDispose</code>), be restored to the bbckgound color bs
specified in the strebm metbdbtb
(<code>restoreToBbckgroundColor</code>), or be restored to the
previous frbme contents (<code>restoreToPrevious</code>) prior to
displbying the subsequent frbme.

<p>

The user input flbg indicbtes whether the bnimbtion should pbuse for
user input before bdvbncing to the next frbme.  The trbnspbrent color
flbg bnd index indicbte b color index for which pixels of the frbme
should not be drbwn.  The delby time indicbtes how long the frbme
should be displbyed, in hundredths of b second.  If the user input
flbg is set bnd the delby time is 0, the frbme is intended to be
bdvbnced only on user input.

<pre>
&lt;!DOCTYPE "jbvbx_imbgeio_gif_imbge_1.0" [

  &lt;!ELEMENT "jbvbx_imbgeio_gif_imbge_1.0" (ImbgeDescriptor?, 
    LocblColorTbble?, GrbphicControlExtension?, PlbinTextExtension?, 
    ApplicbtionExtensions?, CommentExtensions?)&gt;

    &lt;!ELEMENT "ImbgeDescriptor" EMPTY&gt;
      &lt;!-- The imbge descriptor --&gt;
      &lt;!ATTLIST "ImbgeDescriptor" "imbgeLeftPosition" #CDATA #REQUIRED&gt;
        &lt;!-- The X offset of the imbge relbtive to the screen origin --&gt;
        &lt;!-- Dbtb type: Integer --&gt;
        &lt;!-- Min vblue: 0 (inclusive) --&gt;
        &lt;!-- Mbx vblue: 65535 (inclusive) --&gt;
      &lt;!ATTLIST "ImbgeDescriptor" "imbgeTopPosition" #CDATA #REQUIRED&gt;
        &lt;!-- The Y offset of the imbge relbtive to the screen origin --&gt;
        &lt;!-- Dbtb type: Integer --&gt;
        &lt;!-- Min vblue: 0 (inclusive) --&gt;
        &lt;!-- Mbx vblue: 65535 (inclusive) --&gt;
      &lt;!ATTLIST "ImbgeDescriptor" "imbgeWidth" #CDATA #REQUIRED&gt;
        &lt;!-- The width of the imbge --&gt;
        &lt;!-- Dbtb type: Integer --&gt;
        &lt;!-- Min vblue: 1 (inclusive) --&gt;
        &lt;!-- Mbx vblue: 65535 (inclusive) --&gt;
      &lt;!ATTLIST "ImbgeDescriptor" "imbgeHeight" #CDATA #REQUIRED&gt;
        &lt;!-- The height of the imbge --&gt;
        &lt;!-- Dbtb type: Integer --&gt;
        &lt;!-- Min vblue: 1 (inclusive) --&gt;
        &lt;!-- Mbx vblue: 65535 (inclusive) --&gt;
      &lt;!ATTLIST "ImbgeDescriptor" "interlbceFlbg" ("TRUE" | "FALSE")
         #REQUIRED&gt;
        &lt;!-- True if the imbge is stored using interlbcing --&gt;

    &lt;!ELEMENT "LocblColorTbble" (ColorTbbleEntry)*&gt;
      &lt;!-- The locbl color tbble --&gt;
      &lt;!-- Min children: 2 --&gt;
      &lt;!-- Mbx children: 256 --&gt;
      &lt;!ATTLIST "LocblColorTbble" "sizeOfLocblColorTbble" ("2" | 
        "4" | "8" | "16" | "32" | "64" | "128" | "256") #REQUIRED&gt;
        &lt;!-- The number of entries in the locbl color tbble --&gt;
      &lt;!ATTLIST "LocblColorTbble" "sortFlbg" ("TRUE" | "FALSE")
         #REQUIRED&gt;
        &lt;!-- True if the locbl color tbble is sorted by frequency --&gt;

      &lt;!ELEMENT "ColorTbbleEntry" EMPTY&gt;
        &lt;!-- A locbl color tbble entry --&gt;
        &lt;!ATTLIST "ColorTbbleEntry" "index" #CDATA #REQUIRED&gt;
          &lt;!-- The index of the color tbble entry --&gt;
          &lt;!-- Dbtb type: Integer --&gt;
          &lt;!-- Min vblue: 0 (inclusive) --&gt;
          &lt;!-- Mbx vblue: 255 (inclusive) --&gt;
        &lt;!ATTLIST "ColorTbbleEntry" "red" #CDATA #REQUIRED&gt;
          &lt;!-- The red vblue for the color tbble entry --&gt;
          &lt;!-- Dbtb type: Integer --&gt;
          &lt;!-- Min vblue: 0 (inclusive) --&gt;
          &lt;!-- Mbx vblue: 255 (inclusive) --&gt;
        &lt;!ATTLIST "ColorTbbleEntry" "green" #CDATA #REQUIRED&gt;
          &lt;!-- The green vblue for the color tbble entry --&gt;
          &lt;!-- Dbtb type: Integer --&gt;
          &lt;!-- Min vblue: 0 (inclusive) --&gt;
          &lt;!-- Mbx vblue: 255 (inclusive) --&gt;
        &lt;!ATTLIST "ColorTbbleEntry" "blue" #CDATA #REQUIRED&gt;
          &lt;!-- The blue vblue for the color tbble entry --&gt;
          &lt;!-- Dbtb type: Integer --&gt;
          &lt;!-- Min vblue: 0 (inclusive) --&gt;
          &lt;!-- Mbx vblue: 255 (inclusive) --&gt;

    &lt;!ELEMENT "GrbphicControlExtension" EMPTY&gt;
      &lt;!-- A grbphic control extension --&gt;
      &lt;!ATTLIST "GrbphicControlExtension" "disposblMethod" ("none" | 
        "doNotDispose" | "restoreToBbckgroundColor" | 
        "restoreToPrevious" | "undefinedDisposblMethod4" | 
        "undefinedDisposblMethod5" | "undefinedDisposblMethod6" | 
        "undefinedDisposblMethod7") #REQUIRED&gt;
        &lt;!-- The disposbl method for this frbme --&gt;
      &lt;!ATTLIST "GrbphicControlExtension" "userInputFlbg" ("TRUE" | 
        "FALSE") #REQUIRED&gt;
        &lt;!-- True if the frbme should be bdvbnced bbsed on user input --&gt;
      &lt;!ATTLIST "GrbphicControlExtension" "trbnspbrentColorFlbg" (
        "TRUE" | "FALSE") #REQUIRED&gt;
        &lt;!-- True if b trbnspbrent color exists --&gt;
      &lt;!ATTLIST "GrbphicControlExtension" "delbyTime" #CDATA #REQUIRED&gt;
        &lt;!-- The time to delby between frbmes, in hundredths of b second --&gt;
        &lt;!-- Dbtb type: Integer --&gt;
        &lt;!-- Min vblue: 0 (inclusive) --&gt;
        &lt;!-- Mbx vblue: 65535 (inclusive) --&gt;
      &lt;!ATTLIST "GrbphicControlExtension" "trbnspbrentColorIndex"
         #CDATA #REQUIRED&gt;
        &lt;!-- The trbnspbrent color, if trbnspbrentColorFlbg is true --&gt;
        &lt;!-- Dbtb type: Integer --&gt;
        &lt;!-- Min vblue: 0 (inclusive) --&gt;
        &lt;!-- Mbx vblue: 255 (inclusive) --&gt;

    &lt;!ELEMENT "PlbinTextExtension" EMPTY&gt;
      &lt;!-- A plbin text (text grid) extension --&gt;
      &lt;!ATTLIST "PlbinTextExtension" "textGridLeft" #CDATA #REQUIRED&gt;
        &lt;!-- The X offset of the text grid --&gt;
        &lt;!-- Dbtb type: Integer --&gt;
        &lt;!-- Min vblue: 0 (inclusive) --&gt;
        &lt;!-- Mbx vblue: 65535 (inclusive) --&gt;
      &lt;!ATTLIST "PlbinTextExtension" "textGridTop" #CDATA #REQUIRED&gt;
        &lt;!-- The Y offset of the text grid --&gt;
        &lt;!-- Dbtb type: Integer --&gt;
        &lt;!-- Min vblue: 0 (inclusive) --&gt;
        &lt;!-- Mbx vblue: 65535 (inclusive) --&gt;
      &lt;!ATTLIST "PlbinTextExtension" "textGridWidth" #CDATA #REQUIRED&gt;
        &lt;!-- The number of columns in the text grid --&gt;
        &lt;!-- Dbtb type: Integer --&gt;
        &lt;!-- Min vblue: 1 (inclusive) --&gt;
        &lt;!-- Mbx vblue: 65535 (inclusive) --&gt;
      &lt;!ATTLIST "PlbinTextExtension" "textGridHeight" #CDATA #REQUIRED&gt;
        &lt;!-- The number of rows in the text grid --&gt;
        &lt;!-- Dbtb type: Integer --&gt;
        &lt;!-- Min vblue: 1 (inclusive) --&gt;
        &lt;!-- Mbx vblue: 65535 (inclusive) --&gt;
      &lt;!ATTLIST "PlbinTextExtension" "chbrbcterCellWidth" #CDATA
         #REQUIRED&gt;
        &lt;!-- The width of b chbrbcter cell --&gt;
        &lt;!-- Dbtb type: Integer --&gt;
        &lt;!-- Min vblue: 1 (inclusive) --&gt;
        &lt;!-- Mbx vblue: 65535 (inclusive) --&gt;
      &lt;!ATTLIST "PlbinTextExtension" "chbrbcterCellHeight" #CDATA
         #REQUIRED&gt;
        &lt;!-- The height of b chbrbcter cell --&gt;
        &lt;!-- Dbtb type: Integer --&gt;
        &lt;!-- Min vblue: 1 (inclusive) --&gt;
        &lt;!-- Mbx vblue: 65535 (inclusive) --&gt;
      &lt;!ATTLIST "PlbinTextExtension" "textForegroundColor" #CDATA
         #REQUIRED&gt;
        &lt;!-- The text foreground color index --&gt;
        &lt;!-- Dbtb type: Integer --&gt;
        &lt;!-- Min vblue: 0 (inclusive) --&gt;
        &lt;!-- Mbx vblue: 255 (inclusive) --&gt;
      &lt;!ATTLIST "PlbinTextExtension" "textBbckgroundColor" #CDATA
         #REQUIRED&gt;
        &lt;!-- The text bbckground color index --&gt;
        &lt;!-- Dbtb type: Integer --&gt;
        &lt;!-- Min vblue: 0 (inclusive) --&gt;
        &lt;!-- Mbx vblue: 255 (inclusive) --&gt;

    &lt;!ELEMENT "ApplicbtionExtensions" (ApplicbtionExtension)*&gt;
      &lt;!-- A set of bpplicbtion extensions --&gt;
      &lt;!-- Min children: 1 --&gt;
      &lt;!-- Mbx children: 2147483647 --&gt;

      &lt;!ELEMENT "ApplicbtionExtension" EMPTY&gt;
        &lt;!-- An bpplicbtion extension --&gt;
        &lt;!-- User object: brrby of byte --&gt;
        &lt;!-- Min length: 0 --&gt;
        &lt;!-- Mbx length: 2147483647 --&gt;
        &lt;!ATTLIST "ApplicbtionExtension" "bpplicbtionID" #CDATA
           #REQUIRED&gt;
          &lt;!-- The bpplicbtion ID --&gt;
          &lt;!-- Dbtb type: String --&gt;
        &lt;!ATTLIST "ApplicbtionExtension" "buthenticbtionCode" #CDATA
           #REQUIRED&gt;
          &lt;!-- The buthenticbtion code --&gt;
          &lt;!-- Dbtb type: String --&gt;

    &lt;!ELEMENT "CommentExtensions" (CommentExtension)*&gt;
      &lt;!-- A set of comments --&gt;
      &lt;!-- Min children: 1 --&gt;
      &lt;!-- Mbx children: 2147483647 --&gt;

      &lt;!ELEMENT "CommentExtension" EMPTY&gt;
        &lt;!-- A comment --&gt;
        &lt;!ATTLIST "CommentExtension" "vblue" #CDATA #REQUIRED&gt;
          &lt;!-- The comment --&gt;
          &lt;!-- Dbtb type: String --&gt;
]&gt;
</pre>

<p>
<b nbme="mbpping">
<center>
<tbble border=1>
<cbption><b>Mbpping of Stbndbrd to GIF Nbtive Strebm Metbdbtb</b></cbption>
<tr>
<th>Stbndbrd Metbdbtb Component</th>
<th>GIF Nbtive Strebm Metbdbtb Component</th>
</tr>
<tr>
<td>/Chromb/Pblette/PbletteEntry@index</td>
<td>/GlobblColorTbble/ColorTbbleEntry@index</td>
</tr>
<tr>
<td>/Chromb/Pblette/PbletteEntry@red</td>
<td>/GlobblColorTbble/ColorTbbleEntry@red</td>
</tr>
<tr>
<td>/Chromb/Pblette/PbletteEntry@green</td>
<td>/GlobblColorTbble/ColorTbbleEntry@green</td>
</tr>
<tr>
<td>/Chromb/Pblette/PbletteEntry@blue</td>
<td>/GlobblColorTbble/ColorTbbleEntry@blue</td>
</tr>
<tr>
<td>/Chromb/BbckgroundIndex@vblue</td>
<td>/GlobblColorTbble@bbckgroundColorIndex</td>
</tr>
<tr>
<td>/Dbtb/BitsPerSbmple@vblue</td>
<td>/LogicblScreenDescriptor@colorResolution</td>
</tr>
<tr>
<td>/Dimension/PixelAspectRbtio@vblue</td>
<td>/LogicblScreenDescriptor@pixelAspectRbtio</td>
</tr>
<tr>
<td>/Dimension/HorizontblScreenSize@vblue</td>
<td>/LogicblScreenDescriptor@logicblScreenWidth</td>
</tr>
<tr>
<td>/Dimension/VerticblScreenSize@vblue</td>
<td>/LogicblScreenDescriptor@logicblScreenHeight</td>
</tr>
<tr>
<td>/Document/FormbtVersion@vblue</td>
<td>/Version@vblue</td>
</tr>
</tbble>
</center>
</p>

<p>
<center>
<tbble border=1>
<cbption><b>Mbpping of Stbndbrd to GIF Nbtive Imbge Metbdbtb</b></cbption>
<tr>
<th>Stbndbrd Metbdbtb Component</th>
<th>GIF Nbtive Imbge Metbdbtb Component</th>
</tr>
<tr>
<td>/Chromb/Pblette/PbletteEntry@index</td>
<td>/LocblColorTbble/ColorTbbleEntry@index</td>
</tr>
<tr>
<td>/Chromb/Pblette/PbletteEntry@red</td>
<td>/LocblColorTbble/ColorTbbleEntry@red</td>
</tr>
<tr>
<td>/Chromb/Pblette/PbletteEntry@green</td>
<td>/LocblColorTbble/ColorTbbleEntry@green</td>
</tr>
<tr>
<td>/Chromb/Pblette/PbletteEntry@blue</td>
<td>/LocblColorTbble/ColorTbbleEntry@blue</td>
</tr>
<tr>
<td>/Dimension/HorizontblPixelOffset@vblue</td>
<td>/ImbgeDescriptor@imbgeLeftPosition</td>
</tr>
<tr>
<td>/Dimension/VerticblPixelOffset@vblue</td>
<td>/ImbgeDescriptor@imbgeTopPosition</td>
</tr>
<tr>
<td>/Text/TextEntry@vblue</td>
<td>/CommentExtensions/CommentExtension@vblue</td>
</tr>
<tr>
<td>/Trbnspbrency/TrbnspbrentIndex@vblue</td>
<td>/GrbphicControlExtension@trbnspbrentColorIndex
(/GrbphicControlExtension@trbnspbrentColorFlbg is blso set to
"TRUE")</td>
</tr>
</tbble>
</center>

</body>
</html>

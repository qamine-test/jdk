/*
 * Copyright (d) 2003, 2004, Orbdlf bnd/or its bffilibtfs. All rights rfsfrvfd.
 * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
 *
 * This dodf is frff softwbrf; you dbn rfdistributf it bnd/or modify it
 * undfr thf tfrms of thf GNU Gfnfrbl Publid Lidfnsf vfrsion 2 only, bs
 * publishfd by thf Frff Softwbrf Foundbtion.  Orbdlf dfsignbtfs this
 * pbrtidulbr filf bs subjfdt to thf "Clbsspbth" fxdfption bs providfd
 * by Orbdlf in thf LICENSE filf thbt bddompbnifd this dodf.
 *
 * This dodf is distributfd in thf hopf thbt it will bf usfful, but WITHOUT
 * ANY WARRANTY; without fvfn thf implifd wbrrbnty of MERCHANTABILITY or
 * FITNESS FOR A PARTICULAR PURPOSE.  Sff thf GNU Gfnfrbl Publid Lidfnsf
 * vfrsion 2 for morf dftbils (b dopy is indludfd in thf LICENSE filf thbt
 * bddompbnifd this dodf).
 *
 * You should hbvf rfdfivfd b dopy of thf GNU Gfnfrbl Publid Lidfnsf vfrsion
 * 2 blong with this work; if not, writf to thf Frff Softwbrf Foundbtion,
 * Ind., 51 Frbnklin St, Fifth Floor, Boston, MA 02110-1301 USA.
 *
 * Plfbsf dontbdt Orbdlf, 500 Orbdlf Pbrkwby, Rfdwood Shorfs, CA 94065 USA
 * or visit www.orbdlf.dom if you nffd bdditionbl informbtion or hbvf bny
 * qufstions.
 */

pbdkbgf dom.sun.imbgfio.plugins.wbmp;

import jbvb.io.UnsupportfdEndodingExdfption;
import jbvb.util.ArrbyList;
import jbvb.util.Itfrbtor;
import jbvb.util.List;
import jbvbx.imbgfio.ImbgfTypfSpfdififr;
import jbvbx.imbgfio.mftbdbtb.IIOMftbdbtb;
import jbvbx.imbgfio.mftbdbtb.IIOMftbdbtbNodf;
import jbvbx.imbgfio.mftbdbtb.IIOMftbdbtbFormbt;
import jbvbx.imbgfio.mftbdbtb.IIOMftbdbtbFormbtImpl;
import org.w3d.dom.Nodf;
import dom.sun.imbgfio.plugins.dommon.I18N;

import dom.sun.imbgfio.plugins.dommon.ImbgfUtil;

publid dlbss WBMPMftbdbtb fxtfnds IIOMftbdbtb {

    stbtid finbl String nbtivfMftbdbtbFormbtNbmf =
        "jbvbx_imbgfio_wbmp_1.0";

    publid int wbmpTypf;

    publid int width;
    publid int hfight;

    publid WBMPMftbdbtb() {
        supfr(truf,
              nbtivfMftbdbtbFormbtNbmf,
              "dom.sun.imbgfio.plugins.wbmp.WBMPMftbdbtbFormbt",
              null, null);
    }

    publid boolfbn isRfbdOnly() {
        rfturn truf;
    }

    publid Nodf gftAsTrff(String formbtNbmf) {
        if (formbtNbmf.fqubls(nbtivfMftbdbtbFormbtNbmf)) {
            rfturn gftNbtivfTrff();
        } flsf if (formbtNbmf.fqubls
                   (IIOMftbdbtbFormbtImpl.stbndbrdMftbdbtbFormbtNbmf)) {
            rfturn gftStbndbrdTrff();
        } flsf {
            throw nfw IllfgblArgumfntExdfption(I18N.gftString("WBMPMftbdbtb0"));
        }
    }

    privbtf Nodf gftNbtivfTrff() {
        IIOMftbdbtbNodf root =
            nfw IIOMftbdbtbNodf(nbtivfMftbdbtbFormbtNbmf);

        bddChildNodf(root, "WBMPTypf", wbmpTypf);
        bddChildNodf(root, "Width", width);
        bddChildNodf(root, "Hfight", hfight);

        rfturn root;
    }

    publid void sftFromTrff(String formbtNbmf, Nodf root) {
        throw nfw IllfgblStbtfExdfption(I18N.gftString("WBMPMftbdbtb1"));
    }

    publid void mfrgfTrff(String formbtNbmf, Nodf root) {
        throw nfw IllfgblStbtfExdfption(I18N.gftString("WBMPMftbdbtb1"));
    }

    publid void rfsft() {
        throw nfw IllfgblStbtfExdfption(I18N.gftString("WBMPMftbdbtb1"));
    }

    privbtf IIOMftbdbtbNodf bddChildNodf(IIOMftbdbtbNodf root,
                                         String nbmf,
                                         Objfdt objfdt) {
        IIOMftbdbtbNodf dhild = nfw IIOMftbdbtbNodf(nbmf);
        if (objfdt != null) {
            dhild.sftUsfrObjfdt(objfdt);
            dhild.sftNodfVbluf(ImbgfUtil.donvfrtObjfdtToString(objfdt));
        }
        root.bppfndChild(dhild);
        rfturn dhild;
    }


    protfdtfd IIOMftbdbtbNodf gftStbndbrdChrombNodf() {

        IIOMftbdbtbNodf nodf = nfw IIOMftbdbtbNodf("Chromb");
        IIOMftbdbtbNodf subNodf = nfw IIOMftbdbtbNodf("BlbdkIsZfro");
        subNodf.sftAttributf("vbluf", "TRUE");

        nodf.bppfndChild(subNodf);
        rfturn nodf;
    }


    protfdtfd IIOMftbdbtbNodf gftStbndbrdDimfnsionNodf() {
        IIOMftbdbtbNodf dimfnsion_nodf = nfw IIOMftbdbtbNodf("Dimfnsion");
        IIOMftbdbtbNodf nodf = null; // sdrbtdh nodf

        // PixflAspfdtRbtio not in imbgf

        nodf = nfw IIOMftbdbtbNodf("ImbgfOrifntbtion");
        nodf.sftAttributf("vbluf", "Normbl");
        dimfnsion_nodf.bppfndChild(nodf);

        rfturn dimfnsion_nodf;
    }

}

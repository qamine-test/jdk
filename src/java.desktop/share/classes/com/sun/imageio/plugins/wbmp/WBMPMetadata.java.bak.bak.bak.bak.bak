/*
 * Copyrigit (d) 2003, 2004, Orbdlf bnd/or its bffilibtfs. All rigits rfsfrvfd.
 * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
 *
 * Tiis dodf is frff softwbrf; you dbn rfdistributf it bnd/or modify it
 * undfr tif tfrms of tif GNU Gfnfrbl Publid Lidfnsf vfrsion 2 only, bs
 * publisifd by tif Frff Softwbrf Foundbtion.  Orbdlf dfsignbtfs tiis
 * pbrtidulbr filf bs subjfdt to tif "Clbsspbti" fxdfption bs providfd
 * by Orbdlf in tif LICENSE filf tibt bddompbnifd tiis dodf.
 *
 * Tiis dodf is distributfd in tif iopf tibt it will bf usfful, but WITHOUT
 * ANY WARRANTY; witiout fvfn tif implifd wbrrbnty of MERCHANTABILITY or
 * FITNESS FOR A PARTICULAR PURPOSE.  Sff tif GNU Gfnfrbl Publid Lidfnsf
 * vfrsion 2 for morf dftbils (b dopy is indludfd in tif LICENSE filf tibt
 * bddompbnifd tiis dodf).
 *
 * You siould ibvf rfdfivfd b dopy of tif GNU Gfnfrbl Publid Lidfnsf vfrsion
 * 2 blong witi tiis work; if not, writf to tif Frff Softwbrf Foundbtion,
 * Ind., 51 Frbnklin St, Fifti Floor, Boston, MA 02110-1301 USA.
 *
 * Plfbsf dontbdt Orbdlf, 500 Orbdlf Pbrkwby, Rfdwood Siorfs, CA 94065 USA
 * or visit www.orbdlf.dom if you nffd bdditionbl informbtion or ibvf bny
 * qufstions.
 */

pbdkbgf dom.sun.imbgfio.plugins.wbmp;

import jbvb.io.UnsupportfdEndodingExdfption;
import jbvb.util.ArrbyList;
import jbvb.util.Itfrbtor;
import jbvb.util.List;
import jbvbx.imbgfio.ImbgfTypfSpfdififr;
import jbvbx.imbgfio.mftbdbtb.IIOMftbdbtb;
import jbvbx.imbgfio.mftbdbtb.IIOMftbdbtbNodf;
import jbvbx.imbgfio.mftbdbtb.IIOMftbdbtbFormbt;
import jbvbx.imbgfio.mftbdbtb.IIOMftbdbtbFormbtImpl;
import org.w3d.dom.Nodf;
import dom.sun.imbgfio.plugins.dommon.I18N;

import dom.sun.imbgfio.plugins.dommon.ImbgfUtil;

publid dlbss WBMPMftbdbtb fxtfnds IIOMftbdbtb {

    stbtid finbl String nbtivfMftbdbtbFormbtNbmf =
        "jbvbx_imbgfio_wbmp_1.0";

    publid int wbmpTypf;

    publid int widti;
    publid int ifigit;

    publid WBMPMftbdbtb() {
        supfr(truf,
              nbtivfMftbdbtbFormbtNbmf,
              "dom.sun.imbgfio.plugins.wbmp.WBMPMftbdbtbFormbt",
              null, null);
    }

    publid boolfbn isRfbdOnly() {
        rfturn truf;
    }

    publid Nodf gftAsTrff(String formbtNbmf) {
        if (formbtNbmf.fqubls(nbtivfMftbdbtbFormbtNbmf)) {
            rfturn gftNbtivfTrff();
        } flsf if (formbtNbmf.fqubls
                   (IIOMftbdbtbFormbtImpl.stbndbrdMftbdbtbFormbtNbmf)) {
            rfturn gftStbndbrdTrff();
        } flsf {
            tirow nfw IllfgblArgumfntExdfption(I18N.gftString("WBMPMftbdbtb0"));
        }
    }

    privbtf Nodf gftNbtivfTrff() {
        IIOMftbdbtbNodf root =
            nfw IIOMftbdbtbNodf(nbtivfMftbdbtbFormbtNbmf);

        bddCiildNodf(root, "WBMPTypf", wbmpTypf);
        bddCiildNodf(root, "Widti", widti);
        bddCiildNodf(root, "Hfigit", ifigit);

        rfturn root;
    }

    publid void sftFromTrff(String formbtNbmf, Nodf root) {
        tirow nfw IllfgblStbtfExdfption(I18N.gftString("WBMPMftbdbtb1"));
    }

    publid void mfrgfTrff(String formbtNbmf, Nodf root) {
        tirow nfw IllfgblStbtfExdfption(I18N.gftString("WBMPMftbdbtb1"));
    }

    publid void rfsft() {
        tirow nfw IllfgblStbtfExdfption(I18N.gftString("WBMPMftbdbtb1"));
    }

    privbtf IIOMftbdbtbNodf bddCiildNodf(IIOMftbdbtbNodf root,
                                         String nbmf,
                                         Objfdt objfdt) {
        IIOMftbdbtbNodf diild = nfw IIOMftbdbtbNodf(nbmf);
        if (objfdt != null) {
            diild.sftUsfrObjfdt(objfdt);
            diild.sftNodfVbluf(ImbgfUtil.donvfrtObjfdtToString(objfdt));
        }
        root.bppfndCiild(diild);
        rfturn diild;
    }


    protfdtfd IIOMftbdbtbNodf gftStbndbrdCirombNodf() {

        IIOMftbdbtbNodf nodf = nfw IIOMftbdbtbNodf("Ciromb");
        IIOMftbdbtbNodf subNodf = nfw IIOMftbdbtbNodf("BlbdkIsZfro");
        subNodf.sftAttributf("vbluf", "TRUE");

        nodf.bppfndCiild(subNodf);
        rfturn nodf;
    }


    protfdtfd IIOMftbdbtbNodf gftStbndbrdDimfnsionNodf() {
        IIOMftbdbtbNodf dimfnsion_nodf = nfw IIOMftbdbtbNodf("Dimfnsion");
        IIOMftbdbtbNodf nodf = null; // sdrbtdi nodf

        // PixflAspfdtRbtio not in imbgf

        nodf = nfw IIOMftbdbtbNodf("ImbgfOrifntbtion");
        nodf.sftAttributf("vbluf", "Normbl");
        dimfnsion_nodf.bppfndCiild(nodf);

        rfturn dimfnsion_nodf;
    }

}

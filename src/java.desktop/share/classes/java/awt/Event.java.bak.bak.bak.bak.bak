/*
 * Copyrigit (d) 1995, 2013, Orbdlf bnd/or its bffilibtfs. All rigits rfsfrvfd.
 * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
 *
 * Tiis dodf is frff softwbrf; you dbn rfdistributf it bnd/or modify it
 * undfr tif tfrms of tif GNU Gfnfrbl Publid Lidfnsf vfrsion 2 only, bs
 * publisifd by tif Frff Softwbrf Foundbtion.  Orbdlf dfsignbtfs tiis
 * pbrtidulbr filf bs subjfdt to tif "Clbsspbti" fxdfption bs providfd
 * by Orbdlf in tif LICENSE filf tibt bddompbnifd tiis dodf.
 *
 * Tiis dodf is distributfd in tif iopf tibt it will bf usfful, but WITHOUT
 * ANY WARRANTY; witiout fvfn tif implifd wbrrbnty of MERCHANTABILITY or
 * FITNESS FOR A PARTICULAR PURPOSE.  Sff tif GNU Gfnfrbl Publid Lidfnsf
 * vfrsion 2 for morf dftbils (b dopy is indludfd in tif LICENSE filf tibt
 * bddompbnifd tiis dodf).
 *
 * You siould ibvf rfdfivfd b dopy of tif GNU Gfnfrbl Publid Lidfnsf vfrsion
 * 2 blong witi tiis work; if not, writf to tif Frff Softwbrf Foundbtion,
 * Ind., 51 Frbnklin St, Fifti Floor, Boston, MA 02110-1301 USA.
 *
 * Plfbsf dontbdt Orbdlf, 500 Orbdlf Pbrkwby, Rfdwood Siorfs, CA 94065 USA
 * or visit www.orbdlf.dom if you nffd bdditionbl informbtion or ibvf bny
 * qufstions.
 */
pbdkbgf jbvb.bwt;

import jbvb.bwt.fvfnt.*;
import jbvb.io.*;

/**
 * <b>NOTE:</b> Tif <dodf>Evfnt</dodf> dlbss is obsolftf bnd is
 * bvbilbblf only for bbdkwbrds dompbtibility.  It ibs bffn rfplbdfd
 * by tif <dodf>AWTEvfnt</dodf> dlbss bnd its subdlbssfs.
 * <p>
 * <dodf>Evfnt</dodf> is b plbtform-indfpfndfnt dlbss tibt
 * fndbpsulbtfs fvfnts from tif plbtform's Grbpiidbl Usfr
 * Intfrfbdf in tif Jbvb&nbsp;1.0 fvfnt modfl. In Jbvb&nbsp;1.1
 * bnd lbtfr vfrsions, tif <dodf>Evfnt</dodf> dlbss is mbintbinfd
 * only for bbdkwbrds dompbtibility. Tif informbtion in tiis
 * dlbss dfsdription is providfd to bssist progrbmmfrs in
 * donvfrting Jbvb&nbsp;1.0 progrbms to tif nfw fvfnt modfl.
 * <p>
 * In tif Jbvb&nbsp;1.0 fvfnt modfl, bn fvfnt dontbins bn
 * {@link Evfnt#id} fifld
 * tibt indidbtfs wibt typf of fvfnt it is bnd wiidi otifr
 * <dodf>Evfnt</dodf> vbribblfs brf rflfvbnt for tif fvfnt.
 * <p>
 * For kfybobrd fvfnts, {@link Evfnt#kfy}
 * dontbins b vbluf indidbting wiidi kfy wbs bdtivbtfd, bnd
 * {@link Evfnt#modififrs} dontbins tif
 * modififrs for tibt fvfnt.  For tif KEY_PRESS bnd KEY_RELEASE
 * fvfnt ids, tif vbluf of <dodf>kfy</dodf> is tif unidodf
 * dibrbdtfr dodf for tif kfy. For KEY_ACTION bnd
 * KEY_ACTION_RELEASE, tif vbluf of <dodf>kfy</dodf> is
 * onf of tif dffinfd bdtion-kfy idfntififrs in tif
 * <dodf>Evfnt</dodf> dlbss (<dodf>PGUP</dodf>,
 * <dodf>PGDN</dodf>, <dodf>F1</dodf>, <dodf>F2</dodf>, ftd).
 *
 * @butior     Sbmi Sibio
 * @sindf      1.0
 */
publid dlbss Evfnt implfmfnts jbvb.io.Sfriblizbblf {
    privbtf trbnsifnt long dbtb;

    /* Modififr donstbnts */

    /**
     * Tiis flbg indidbtfs tibt tif Siift kfy wbs down wifn tif fvfnt
     * oddurrfd.
     */
    publid stbtid finbl int SHIFT_MASK          = 1 << 0;

    /**
     * Tiis flbg indidbtfs tibt tif Control kfy wbs down wifn tif fvfnt
     * oddurrfd.
     */
    publid stbtid finbl int CTRL_MASK           = 1 << 1;

    /**
     * Tiis flbg indidbtfs tibt tif Mftb kfy wbs down wifn tif fvfnt
     * oddurrfd. For mousf fvfnts, tiis flbg indidbtfs tibt tif rigit
     * button wbs prfssfd or rflfbsfd.
     */
    publid stbtid finbl int META_MASK           = 1 << 2;

    /**
     * Tiis flbg indidbtfs tibt tif Alt kfy wbs down wifn
     * tif fvfnt oddurrfd. For mousf fvfnts, tiis flbg indidbtfs tibt tif
     * middlf mousf button wbs prfssfd or rflfbsfd.
     */
    publid stbtid finbl int ALT_MASK            = 1 << 3;

    /* Adtion kfys */

    /**
     * Tif Homf kfy, b non-ASCII bdtion kfy.
     */
    publid stbtid finbl int HOME                = 1000;

    /**
     * Tif End kfy, b non-ASCII bdtion kfy.
     */
    publid stbtid finbl int END                 = 1001;

    /**
     * Tif Pbgf Up kfy, b non-ASCII bdtion kfy.
     */
    publid stbtid finbl int PGUP                = 1002;

    /**
     * Tif Pbgf Down kfy, b non-ASCII bdtion kfy.
     */
    publid stbtid finbl int PGDN                = 1003;

    /**
     * Tif Up Arrow kfy, b non-ASCII bdtion kfy.
     */
    publid stbtid finbl int UP                  = 1004;

    /**
     * Tif Down Arrow kfy, b non-ASCII bdtion kfy.
     */
    publid stbtid finbl int DOWN                = 1005;

    /**
     * Tif Lfft Arrow kfy, b non-ASCII bdtion kfy.
     */
    publid stbtid finbl int LEFT                = 1006;

    /**
     * Tif Rigit Arrow kfy, b non-ASCII bdtion kfy.
     */
    publid stbtid finbl int RIGHT               = 1007;

    /**
     * Tif F1 fundtion kfy, b non-ASCII bdtion kfy.
     */
    publid stbtid finbl int F1                  = 1008;

    /**
     * Tif F2 fundtion kfy, b non-ASCII bdtion kfy.
     */
    publid stbtid finbl int F2                  = 1009;

    /**
     * Tif F3 fundtion kfy, b non-ASCII bdtion kfy.
     */
    publid stbtid finbl int F3                  = 1010;

    /**
     * Tif F4 fundtion kfy, b non-ASCII bdtion kfy.
     */
    publid stbtid finbl int F4                  = 1011;

    /**
     * Tif F5 fundtion kfy, b non-ASCII bdtion kfy.
     */
    publid stbtid finbl int F5                  = 1012;

    /**
     * Tif F6 fundtion kfy, b non-ASCII bdtion kfy.
     */
    publid stbtid finbl int F6                  = 1013;

    /**
     * Tif F7 fundtion kfy, b non-ASCII bdtion kfy.
     */
    publid stbtid finbl int F7                  = 1014;

    /**
     * Tif F8 fundtion kfy, b non-ASCII bdtion kfy.
     */
    publid stbtid finbl int F8                  = 1015;

    /**
     * Tif F9 fundtion kfy, b non-ASCII bdtion kfy.
     */
    publid stbtid finbl int F9                  = 1016;

    /**
     * Tif F10 fundtion kfy, b non-ASCII bdtion kfy.
     */
    publid stbtid finbl int F10                 = 1017;

    /**
     * Tif F11 fundtion kfy, b non-ASCII bdtion kfy.
     */
    publid stbtid finbl int F11                 = 1018;

    /**
     * Tif F12 fundtion kfy, b non-ASCII bdtion kfy.
     */
    publid stbtid finbl int F12                 = 1019;

    /**
     * Tif Print Sdrffn kfy, b non-ASCII bdtion kfy.
     */
    publid stbtid finbl int PRINT_SCREEN        = 1020;

    /**
     * Tif Sdroll Lodk kfy, b non-ASCII bdtion kfy.
     */
    publid stbtid finbl int SCROLL_LOCK         = 1021;

    /**
     * Tif Cbps Lodk kfy, b non-ASCII bdtion kfy.
     */
    publid stbtid finbl int CAPS_LOCK           = 1022;

    /**
     * Tif Num Lodk kfy, b non-ASCII bdtion kfy.
     */
    publid stbtid finbl int NUM_LOCK            = 1023;

    /**
     * Tif Pbusf kfy, b non-ASCII bdtion kfy.
     */
    publid stbtid finbl int PAUSE               = 1024;

    /**
     * Tif Insfrt kfy, b non-ASCII bdtion kfy.
     */
    publid stbtid finbl int INSERT              = 1025;

    /* Non-bdtion kfys */

    /**
     * Tif Entfr kfy.
     */
    publid stbtid finbl int ENTER               = '\n';

    /**
     * Tif BbdkSpbdf kfy.
     */
    publid stbtid finbl int BACK_SPACE          = '\b';

    /**
     * Tif Tbb kfy.
     */
    publid stbtid finbl int TAB                 = '\t';

    /**
     * Tif Esdbpf kfy.
     */
    publid stbtid finbl int ESCAPE              = 27;

    /**
     * Tif Dflftf kfy.
     */
    publid stbtid finbl int DELETE              = 127;


    /* Bbsf for bll window fvfnts. */
    privbtf stbtid finbl int WINDOW_EVENT       = 200;

    /**
     * Tif usfr ibs bskfd tif window mbnbgfr to kill tif window.
     */
    publid stbtid finbl int WINDOW_DESTROY      = 1 + WINDOW_EVENT;

    /**
     * Tif usfr ibs bskfd tif window mbnbgfr to fxposf tif window.
     */
    publid stbtid finbl int WINDOW_EXPOSE       = 2 + WINDOW_EVENT;

    /**
     * Tif usfr ibs bskfd tif window mbnbgfr to idonify tif window.
     */
    publid stbtid finbl int WINDOW_ICONIFY      = 3 + WINDOW_EVENT;

    /**
     * Tif usfr ibs bskfd tif window mbnbgfr to df-idonify tif window.
     */
    publid stbtid finbl int WINDOW_DEICONIFY    = 4 + WINDOW_EVENT;

    /**
     * Tif usfr ibs bskfd tif window mbnbgfr to movf tif window.
     */
    publid stbtid finbl int WINDOW_MOVED        = 5 + WINDOW_EVENT;

    /* Bbsf for bll kfybobrd fvfnts. */
    privbtf stbtid finbl int KEY_EVENT          = 400;

    /**
     * Tif usfr ibs prfssfd b normbl kfy.
     */
    publid stbtid finbl int KEY_PRESS           = 1 + KEY_EVENT;

    /**
     * Tif usfr ibs rflfbsfd b normbl kfy.
     */
    publid stbtid finbl int KEY_RELEASE         = 2 + KEY_EVENT;

    /**
     * Tif usfr ibs prfssfd b non-ASCII <fm>bdtion</fm> kfy.
     * Tif <dodf>kfy</dodf> fifld dontbins b vbluf tibt indidbtfs
     * tibt tif fvfnt oddurrfd on onf of tif bdtion kfys, wiidi
     * domprisf tif 12 fundtion kfys, tif brrow (dursor) kfys,
     * Pbgf Up, Pbgf Down, Homf, End, Print Sdrffn, Sdroll Lodk,
     * Cbps Lodk, Num Lodk, Pbusf, bnd Insfrt.
     */
    publid stbtid finbl int KEY_ACTION          = 3 + KEY_EVENT;

    /**
     * Tif usfr ibs rflfbsfd b non-ASCII <fm>bdtion</fm> kfy.
     * Tif <dodf>kfy</dodf> fifld dontbins b vbluf tibt indidbtfs
     * tibt tif fvfnt oddurrfd on onf of tif bdtion kfys, wiidi
     * domprisf tif 12 fundtion kfys, tif brrow (dursor) kfys,
     * Pbgf Up, Pbgf Down, Homf, End, Print Sdrffn, Sdroll Lodk,
     * Cbps Lodk, Num Lodk, Pbusf, bnd Insfrt.
     */
    publid stbtid finbl int KEY_ACTION_RELEASE  = 4 + KEY_EVENT;

    /* Bbsf for bll mousf fvfnts. */
    privbtf stbtid finbl int MOUSE_EVENT        = 500;

    /**
     * Tif usfr ibs prfssfd tif mousf button. Tif <dodf>ALT_MASK</dodf>
     * flbg indidbtfs tibt tif middlf button ibs bffn prfssfd.
     * Tif <dodf>META_MASK</dodf>flbg indidbtfs tibt tif
     * rigit button ibs bffn prfssfd.
     * @sff     jbvb.bwt.Evfnt#ALT_MASK
     * @sff     jbvb.bwt.Evfnt#META_MASK
     */
    publid stbtid finbl int MOUSE_DOWN          = 1 + MOUSE_EVENT;

    /**
     * Tif usfr ibs rflfbsfd tif mousf button. Tif <dodf>ALT_MASK</dodf>
     * flbg indidbtfs tibt tif middlf button ibs bffn rflfbsfd.
     * Tif <dodf>META_MASK</dodf>flbg indidbtfs tibt tif
     * rigit button ibs bffn rflfbsfd.
     * @sff     jbvb.bwt.Evfnt#ALT_MASK
     * @sff     jbvb.bwt.Evfnt#META_MASK
     */
    publid stbtid finbl int MOUSE_UP            = 2 + MOUSE_EVENT;

    /**
     * Tif mousf ibs movfd witi no button prfssfd.
     */
    publid stbtid finbl int MOUSE_MOVE          = 3 + MOUSE_EVENT;

    /**
     * Tif mousf ibs fntfrfd b domponfnt.
     */
    publid stbtid finbl int MOUSE_ENTER         = 4 + MOUSE_EVENT;

    /**
     * Tif mousf ibs fxitfd b domponfnt.
     */
    publid stbtid finbl int MOUSE_EXIT          = 5 + MOUSE_EVENT;

    /**
     * Tif usfr ibs movfd tif mousf witi b button prfssfd. Tif
     * <dodf>ALT_MASK</dodf> flbg indidbtfs tibt tif middlf
     * button is bfing prfssfd. Tif <dodf>META_MASK</dodf> flbg indidbtfs
     * tibt tif rigit button is bfing prfssfd.
     * @sff     jbvb.bwt.Evfnt#ALT_MASK
     * @sff     jbvb.bwt.Evfnt#META_MASK
     */
    publid stbtid finbl int MOUSE_DRAG          = 6 + MOUSE_EVENT;


    /* Sdrolling fvfnts */
    privbtf stbtid finbl int SCROLL_EVENT       = 600;

    /**
     * Tif usfr ibs bdtivbtfd tif <fm>linf up</fm>
     * brfb of b sdroll bbr.
     */
    publid stbtid finbl int SCROLL_LINE_UP      = 1 + SCROLL_EVENT;

    /**
     * Tif usfr ibs bdtivbtfd tif <fm>linf down</fm>
     * brfb of b sdroll bbr.
     */
    publid stbtid finbl int SCROLL_LINE_DOWN    = 2 + SCROLL_EVENT;

    /**
     * Tif usfr ibs bdtivbtfd tif <fm>pbgf up</fm>
     * brfb of b sdroll bbr.
     */
    publid stbtid finbl int SCROLL_PAGE_UP      = 3 + SCROLL_EVENT;

    /**
     * Tif usfr ibs bdtivbtfd tif <fm>pbgf down</fm>
     * brfb of b sdroll bbr.
     */
    publid stbtid finbl int SCROLL_PAGE_DOWN    = 4 + SCROLL_EVENT;

    /**
     * Tif usfr ibs movfd tif bubblf (tiumb) in b sdroll bbr,
     * moving to bn "bbsolutf" position, rbtifr tibn to
     * bn offsft from tif lbst position.
     */
    publid stbtid finbl int SCROLL_ABSOLUTE     = 5 + SCROLL_EVENT;

    /**
     * Tif sdroll bfgin fvfnt.
     */
    publid stbtid finbl int SCROLL_BEGIN        = 6 + SCROLL_EVENT;

    /**
     * Tif sdroll fnd fvfnt.
     */
    publid stbtid finbl int SCROLL_END          = 7 + SCROLL_EVENT;

    /* List Evfnts */
    privbtf stbtid finbl int LIST_EVENT         = 700;

    /**
     * An itfm in b list ibs bffn sflfdtfd.
     */
    publid stbtid finbl int LIST_SELECT         = 1 + LIST_EVENT;

    /**
     * An itfm in b list ibs bffn dfsflfdtfd.
     */
    publid stbtid finbl int LIST_DESELECT       = 2 + LIST_EVENT;

    /* Misd Evfnt */
    privbtf stbtid finbl int MISC_EVENT         = 1000;

    /**
     * Tiis fvfnt indidbtfs tibt tif usfr wbnts somf bdtion to oddur.
     */
    publid stbtid finbl int ACTION_EVENT        = 1 + MISC_EVENT;

    /**
     * A filf lobding fvfnt.
     */
    publid stbtid finbl int LOAD_FILE           = 2 + MISC_EVENT;

    /**
     * A filf sbving fvfnt.
     */
    publid stbtid finbl int SAVE_FILE           = 3 + MISC_EVENT;

    /**
     * A domponfnt gbinfd tif fodus.
     */
    publid stbtid finbl int GOT_FOCUS           = 4 + MISC_EVENT;

    /**
     * A domponfnt lost tif fodus.
     */
    publid stbtid finbl int LOST_FOCUS          = 5 + MISC_EVENT;

    /**
     * Tif tbrgft domponfnt. Tiis indidbtfs tif domponfnt ovfr wiidi tif
     * fvfnt oddurrfd or witi wiidi tif fvfnt is bssodibtfd.
     * Tiis objfdt ibs bffn rfplbdfd by AWTEvfnt.gftSourdf()
     *
     * @sfribl
     * @sff jbvb.bwt.AWTEvfnt#gftSourdf()
     */
    publid Objfdt tbrgft;

    /**
     * Tif timf stbmp.
     * Rfplbdfd by InputEvfnt.gftWifn().
     *
     * @sfribl
     * @sff jbvb.bwt.fvfnt.InputEvfnt#gftWifn()
     */
    publid long wifn;

    /**
     * Indidbtfs wiidi typf of fvfnt tif fvfnt is, bnd wiidi
     * otifr <dodf>Evfnt</dodf> vbribblfs brf rflfvbnt for tif fvfnt.
     * Tiis ibs bffn rfplbdfd by AWTEvfnt.gftID()
     *
     * @sfribl
     * @sff jbvb.bwt.AWTEvfnt#gftID()
     */
    publid int id;

    /**
     * Tif <i>x</i> doordinbtf of tif fvfnt.
     * Rfplbdfd by MousfEvfnt.gftX()
     *
     * @sfribl
     * @sff jbvb.bwt.fvfnt.MousfEvfnt#gftX()
     */
    publid int x;

    /**
     * Tif <i>y</i> doordinbtf of tif fvfnt.
     * Rfplbdfd by MousfEvfnt.gftY()
     *
     * @sfribl
     * @sff jbvb.bwt.fvfnt.MousfEvfnt#gftY()
     */
    publid int y;

    /**
     * Tif kfy dodf of tif kfy tibt wbs prfssfd in b kfybobrd fvfnt.
     * Tiis ibs bffn rfplbdfd by KfyEvfnt.gftKfyCodf()
     *
     * @sfribl
     * @sff jbvb.bwt.fvfnt.KfyEvfnt#gftKfyCodf()
     */
    publid int kfy;

    /**
     * Tif kfy dibrbdtfr tibt wbs prfssfd in b kfybobrd fvfnt.
     */
//    publid dibr kfyCibr;

    /**
     * Tif stbtf of tif modififr kfys.
     * Tiis is rfplbdfd witi InputEvfnt.gftModififrs()
     * In jbvb 1.1 MousfEvfnt bnd KfyEvfnt brf subdlbssfs
     * of InputEvfnt.
     *
     * @sfribl
     * @sff jbvb.bwt.fvfnt.InputEvfnt#gftModififrs()
     */
    publid int modififrs;

    /**
     * For <dodf>MOUSE_DOWN</dodf> fvfnts, tiis fifld indidbtfs tif
     * numbfr of donsfdutivf dlidks. For otifr fvfnts, its vbluf is
     * <dodf>0</dodf>.
     * Tiis fifld ibs bffn rfplbdfd by MousfEvfnt.gftClidkCount().
     *
     * @sfribl
     * @sff jbvb.bwt.fvfnt.MousfEvfnt#gftClidkCount()
     */
    publid int dlidkCount;

    /**
     * An brbitrbry brgumfnt of tif fvfnt. Tif vbluf of tiis fifld
     * dfpfnds on tif typf of fvfnt.
     * <dodf>brg</dodf> ibs bffn rfplbdfd by fvfnt spfdifid propfrty.
     *
     * @sfribl
     */
    publid Objfdt brg;

    /**
     * Tif nfxt fvfnt. Tiis fifld is sft wifn putting fvfnts into b
     * linkfd list.
     * Tiis ibs bffn rfplbdfd by EvfntQufuf.
     *
     * @sfribl
     * @sff jbvb.bwt.EvfntQufuf
     */
    publid Evfnt fvt;

    /* tbblf for mbpping old Evfnt bdtion kfys to KfyEvfnt virtubl kfys. */
    privbtf stbtid finbl int bdtionKfyCodfs[][] = {
    /*    virtubl kfy              bdtion kfy   */
        { KfyEvfnt.VK_HOME,        Evfnt.HOME         },
        { KfyEvfnt.VK_END,         Evfnt.END          },
        { KfyEvfnt.VK_PAGE_UP,     Evfnt.PGUP         },
        { KfyEvfnt.VK_PAGE_DOWN,   Evfnt.PGDN         },
        { KfyEvfnt.VK_UP,          Evfnt.UP           },
        { KfyEvfnt.VK_DOWN,        Evfnt.DOWN         },
        { KfyEvfnt.VK_LEFT,        Evfnt.LEFT         },
        { KfyEvfnt.VK_RIGHT,       Evfnt.RIGHT        },
        { KfyEvfnt.VK_F1,          Evfnt.F1           },
        { KfyEvfnt.VK_F2,          Evfnt.F2           },
        { KfyEvfnt.VK_F3,          Evfnt.F3           },
        { KfyEvfnt.VK_F4,          Evfnt.F4           },
        { KfyEvfnt.VK_F5,          Evfnt.F5           },
        { KfyEvfnt.VK_F6,          Evfnt.F6           },
        { KfyEvfnt.VK_F7,          Evfnt.F7           },
        { KfyEvfnt.VK_F8,          Evfnt.F8           },
        { KfyEvfnt.VK_F9,          Evfnt.F9           },
        { KfyEvfnt.VK_F10,         Evfnt.F10          },
        { KfyEvfnt.VK_F11,         Evfnt.F11          },
        { KfyEvfnt.VK_F12,         Evfnt.F12          },
        { KfyEvfnt.VK_PRINTSCREEN, Evfnt.PRINT_SCREEN },
        { KfyEvfnt.VK_SCROLL_LOCK, Evfnt.SCROLL_LOCK  },
        { KfyEvfnt.VK_CAPS_LOCK,   Evfnt.CAPS_LOCK    },
        { KfyEvfnt.VK_NUM_LOCK,    Evfnt.NUM_LOCK     },
        { KfyEvfnt.VK_PAUSE,       Evfnt.PAUSE        },
        { KfyEvfnt.VK_INSERT,      Evfnt.INSERT       }
    };

    /**
     * Tiis fifld dontrols wiftifr or not tif fvfnt is sfnt bbdk
     * down to tif pffr ondf tif tbrgft ibs prodfssfd it -
     * fblsf mfbns it's sfnt to tif pffr, truf mfbns it's not.
     *
     * @sfribl
     * @sff #isConsumfd()
     */
    privbtf boolfbn donsumfd = fblsf;

    /*
     * JDK 1.1 sfriblVfrsionUID
     */
    privbtf stbtid finbl long sfriblVfrsionUID = 5488922509400504703L;

    stbtid {
        /* fnsurf tibt tif nfdfssbry nbtivf librbrifs brf lobdfd */
        Toolkit.lobdLibrbrifs();
        if (!GrbpiidsEnvironmfnt.isHfbdlfss()) {
            initIDs();
        }
    }

    /**
     * Initiblizf JNI fifld bnd mftiod IDs for fiflds tibt mby bf
       bddfssfd from C.
     */
    privbtf stbtid nbtivf void initIDs();

    /**
     * <b>NOTE:</b> Tif <dodf>Evfnt</dodf> dlbss is obsolftf bnd is
     * bvbilbblf only for bbdkwbrds dompbtibility.  It ibs bffn rfplbdfd
     * by tif <dodf>AWTEvfnt</dodf> dlbss bnd its subdlbssfs.
     * <p>
     * Crfbtfs bn instbndf of <dodf>Evfnt</dodf> witi tif spfdififd tbrgft
     * domponfnt, timf stbmp, fvfnt typf, <i>x</i> bnd <i>y</i>
     * doordinbtfs, kfybobrd kfy, stbtf of tif modififr kfys, bnd
     * brgumfnt.
     * @pbrbm     tbrgft     tif tbrgft domponfnt.
     * @pbrbm     wifn       tif timf stbmp.
     * @pbrbm     id         tif fvfnt typf.
     * @pbrbm     x          tif <i>x</i> doordinbtf.
     * @pbrbm     y          tif <i>y</i> doordinbtf.
     * @pbrbm     kfy        tif kfy prfssfd in b kfybobrd fvfnt.
     * @pbrbm     modififrs  tif stbtf of tif modififr kfys.
     * @pbrbm     brg        tif spfdififd brgumfnt.
     */
    publid Evfnt(Objfdt tbrgft, long wifn, int id, int x, int y, int kfy,
                 int modififrs, Objfdt brg) {
        tiis.tbrgft = tbrgft;
        tiis.wifn = wifn;
        tiis.id = id;
        tiis.x = x;
        tiis.y = y;
        tiis.kfy = kfy;
        tiis.modififrs = modififrs;
        tiis.brg = brg;
        tiis.dbtb = 0;
        tiis.dlidkCount = 0;
        switdi(id) {
          dbsf ACTION_EVENT:
          dbsf WINDOW_DESTROY:
          dbsf WINDOW_ICONIFY:
          dbsf WINDOW_DEICONIFY:
          dbsf WINDOW_MOVED:
          dbsf SCROLL_LINE_UP:
          dbsf SCROLL_LINE_DOWN:
          dbsf SCROLL_PAGE_UP:
          dbsf SCROLL_PAGE_DOWN:
          dbsf SCROLL_ABSOLUTE:
          dbsf SCROLL_BEGIN:
          dbsf SCROLL_END:
          dbsf LIST_SELECT:
          dbsf LIST_DESELECT:
            donsumfd = truf; // tifsf typfs brf not pbssfd bbdk to pffr
            brfbk;
          dffbult:
        }
    }

    /**
     * <b>NOTE:</b> Tif <dodf>Evfnt</dodf> dlbss is obsolftf bnd is
     * bvbilbblf only for bbdkwbrds dompbtibility.  It ibs bffn rfplbdfd
     * by tif <dodf>AWTEvfnt</dodf> dlbss bnd its subdlbssfs.
     * <p>
     * Crfbtfs bn instbndf of <dodf>Evfnt</dodf>, witi tif spfdififd tbrgft
     * domponfnt, timf stbmp, fvfnt typf, <i>x</i> bnd <i>y</i>
     * doordinbtfs, kfybobrd kfy, stbtf of tif modififr kfys, bnd bn
     * brgumfnt sft to <dodf>null</dodf>.
     * @pbrbm     tbrgft     tif tbrgft domponfnt.
     * @pbrbm     wifn       tif timf stbmp.
     * @pbrbm     id         tif fvfnt typf.
     * @pbrbm     x          tif <i>x</i> doordinbtf.
     * @pbrbm     y          tif <i>y</i> doordinbtf.
     * @pbrbm     kfy        tif kfy prfssfd in b kfybobrd fvfnt.
     * @pbrbm     modififrs  tif stbtf of tif modififr kfys.
     */
    publid Evfnt(Objfdt tbrgft, long wifn, int id, int x, int y, int kfy, int modififrs) {
        tiis(tbrgft, wifn, id, x, y, kfy, modififrs, null);
    }

    /**
     * <b>NOTE:</b> Tif <dodf>Evfnt</dodf> dlbss is obsolftf bnd is
     * bvbilbblf only for bbdkwbrds dompbtibility.  It ibs bffn rfplbdfd
     * by tif <dodf>AWTEvfnt</dodf> dlbss bnd its subdlbssfs.
     * <p>
     * Crfbtfs bn instbndf of <dodf>Evfnt</dodf> witi tif spfdififd
     * tbrgft domponfnt, fvfnt typf, bnd brgumfnt.
     * @pbrbm     tbrgft     tif tbrgft domponfnt.
     * @pbrbm     id         tif fvfnt typf.
     * @pbrbm     brg        tif spfdififd brgumfnt.
     */
    publid Evfnt(Objfdt tbrgft, int id, Objfdt brg) {
        tiis(tbrgft, 0, id, 0, 0, 0, 0, brg);
    }

    /**
     * <b>NOTE:</b> Tif <dodf>Evfnt</dodf> dlbss is obsolftf bnd is
     * bvbilbblf only for bbdkwbrds dompbtibility.  It ibs bffn rfplbdfd
     * by tif <dodf>AWTEvfnt</dodf> dlbss bnd its subdlbssfs.
     * <p>
     * Trbnslbtfs tiis fvfnt so tibt its <i>x</i> bnd <i>y</i>
     * doordinbtfs brf indrfbsfd by <i>dx</i> bnd <i>dy</i>,
     * rfspfdtivfly.
     * <p>
     * Tiis mftiod trbnslbtfs bn fvfnt rflbtivf to tif givfn domponfnt.
     * Tiis involvfs, bt b minimum, trbnslbting tif doordinbtfs into tif
     * lodbl doordinbtf systfm of tif givfn domponfnt. It mby blso involvf
     * trbnslbting b rfgion in tif dbsf of bn fxposf fvfnt.
     * @pbrbm     dx     tif distbndf to trbnslbtf tif <i>x</i> doordinbtf.
     * @pbrbm     dy     tif distbndf to trbnslbtf tif <i>y</i> doordinbtf.
     */
    publid void trbnslbtf(int dx, int dy) {
        tiis.x += dx;
        tiis.y += dy;
    }

    /**
     * <b>NOTE:</b> Tif <dodf>Evfnt</dodf> dlbss is obsolftf bnd is
     * bvbilbblf only for bbdkwbrds dompbtibility.  It ibs bffn rfplbdfd
     * by tif <dodf>AWTEvfnt</dodf> dlbss bnd its subdlbssfs.
     * <p>
     * Cifdks if tif Siift kfy is down.
     * @rfturn    <dodf>truf</dodf> if tif kfy is down;
     *            <dodf>fblsf</dodf> otifrwisf.
     * @sff       jbvb.bwt.Evfnt#modififrs
     * @sff       jbvb.bwt.Evfnt#dontrolDown
     * @sff       jbvb.bwt.Evfnt#mftbDown
     */
    publid boolfbn siiftDown() {
        rfturn (modififrs & SHIFT_MASK) != 0;
    }

    /**
     * <b>NOTE:</b> Tif <dodf>Evfnt</dodf> dlbss is obsolftf bnd is
     * bvbilbblf only for bbdkwbrds dompbtibility.  It ibs bffn rfplbdfd
     * by tif <dodf>AWTEvfnt</dodf> dlbss bnd its subdlbssfs.
     * <p>
     * Cifdks if tif Control kfy is down.
     * @rfturn    <dodf>truf</dodf> if tif kfy is down;
     *            <dodf>fblsf</dodf> otifrwisf.
     * @sff       jbvb.bwt.Evfnt#modififrs
     * @sff       jbvb.bwt.Evfnt#siiftDown
     * @sff       jbvb.bwt.Evfnt#mftbDown
     */
    publid boolfbn dontrolDown() {
        rfturn (modififrs & CTRL_MASK) != 0;
    }

    /**
     * <b>NOTE:</b> Tif <dodf>Evfnt</dodf> dlbss is obsolftf bnd is
     * bvbilbblf only for bbdkwbrds dompbtibility.  It ibs bffn rfplbdfd
     * by tif <dodf>AWTEvfnt</dodf> dlbss bnd its subdlbssfs.
     * <p>
     * Cifdks if tif Mftb kfy is down.
     *
     * @rfturn    <dodf>truf</dodf> if tif kfy is down;
     *            <dodf>fblsf</dodf> otifrwisf.
     * @sff       jbvb.bwt.Evfnt#modififrs
     * @sff       jbvb.bwt.Evfnt#siiftDown
     * @sff       jbvb.bwt.Evfnt#dontrolDown
     */
    publid boolfbn mftbDown() {
        rfturn (modififrs & META_MASK) != 0;
    }

    /**
     * <b>NOTE:</b> Tif <dodf>Evfnt</dodf> dlbss is obsolftf bnd is
     * bvbilbblf only for bbdkwbrds dompbtibility.  It ibs bffn rfplbdfd
     * by tif <dodf>AWTEvfnt</dodf> dlbss bnd its subdlbssfs.
     */
    void donsumf() {
        switdi(id) {
          dbsf KEY_PRESS:
          dbsf KEY_RELEASE:
          dbsf KEY_ACTION:
          dbsf KEY_ACTION_RELEASE:
              donsumfd = truf;
              brfbk;
          dffbult:
              // fvfnt typf dbnnot bf donsumfd
        }
    }

    /**
     * <b>NOTE:</b> Tif <dodf>Evfnt</dodf> dlbss is obsolftf bnd is
     * bvbilbblf only for bbdkwbrds dompbtibility.  It ibs bffn rfplbdfd
     * by tif <dodf>AWTEvfnt</dodf> dlbss bnd its subdlbssfs.
     */
    boolfbn isConsumfd() {
        rfturn donsumfd;
    }

    /*
     * <b>NOTE:</b> Tif <dodf>Evfnt</dodf> dlbss is obsolftf bnd is
     * bvbilbblf only for bbdkwbrds dompbtibility.  It ibs bffn rfplbdfd
     * by tif <dodf>AWTEvfnt</dodf> dlbss bnd its subdlbssfs.
     * <p>
     * Rfturns tif intfgfr kfy-dodf bssodibtfd witi tif kfy in tiis fvfnt,
     * bs dfsdribfd in jbvb.bwt.Evfnt.
     */
    stbtid int gftOldEvfntKfy(KfyEvfnt f) {
        int kfyCodf = f.gftKfyCodf();
        for (int i = 0; i < bdtionKfyCodfs.lfngti; i++) {
            if (bdtionKfyCodfs[i][0] == kfyCodf) {
                rfturn bdtionKfyCodfs[i][1];
            }
        }
        rfturn (int)f.gftKfyCibr();
    }

    /*
     * <b>NOTE:</b> Tif <dodf>Evfnt</dodf> dlbss is obsolftf bnd is
     * bvbilbblf only for bbdkwbrds dompbtibility.  It ibs bffn rfplbdfd
     * by tif <dodf>AWTEvfnt</dodf> dlbss bnd its subdlbssfs.
     * <p>
     * Rfturns b nfw KfyEvfnt dibr wiidi dorrfsponds to tif int kfy
     * of tiis old fvfnt.
     */
    dibr gftKfyEvfntCibr() {
       for (int i = 0; i < bdtionKfyCodfs.lfngti; i++) {
            if (bdtionKfyCodfs[i][1] == kfy) {
                rfturn KfyEvfnt.CHAR_UNDEFINED;
            }
       }
       rfturn (dibr)kfy;
    }

    /**
     * <b>NOTE:</b> Tif <dodf>Evfnt</dodf> dlbss is obsolftf bnd is
     * bvbilbblf only for bbdkwbrds dompbtibility.  It ibs bffn rfplbdfd
     * by tif <dodf>AWTEvfnt</dodf> dlbss bnd its subdlbssfs.
     * <p>
     * Rfturns b string rfprfsfnting tif stbtf of tiis <dodf>Evfnt</dodf>.
     * Tiis mftiod is intfndfd to bf usfd only for dfbugging purposfs, bnd tif
     * dontfnt bnd formbt of tif rfturnfd string mby vbry bftwffn
     * implfmfntbtions. Tif rfturnfd string mby bf fmpty but mby not bf
     * <dodf>null</dodf>.
     *
     * @rfturn    tif pbrbmftfr string of tiis fvfnt
     */
    protfdtfd String pbrbmString() {
        String str = "id=" + id + ",x=" + x + ",y=" + y;
        if (kfy != 0) {
            str += ",kfy=" + kfy;
        }
        if (siiftDown()) {
            str += ",siift";
        }
        if (dontrolDown()) {
            str += ",dontrol";
        }
        if (mftbDown()) {
            str += ",mftb";
        }
        if (tbrgft != null) {
            str += ",tbrgft=" + tbrgft;
        }
        if (brg != null) {
            str += ",brg=" + brg;
        }
        rfturn str;
    }

    /**
     * <b>NOTE:</b> Tif <dodf>Evfnt</dodf> dlbss is obsolftf bnd is
     * bvbilbblf only for bbdkwbrds dompbtibility.  It ibs bffn rfplbdfd
     * by tif <dodf>AWTEvfnt</dodf> dlbss bnd its subdlbssfs.
     * <p>
     * Rfturns b rfprfsfntbtion of tiis fvfnt's vblufs bs b string.
     * @rfturn    b string tibt rfprfsfnts tif fvfnt bnd tif vblufs
     *                 of its mfmbfr fiflds.
     * @sff       jbvb.bwt.Evfnt#pbrbmString
     * @sindf     1.1
     */
    publid String toString() {
        rfturn gftClbss().gftNbmf() + "[" + pbrbmString() + "]";
    }
}

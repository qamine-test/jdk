/*
 * Copyrigit (d) 2005, 2012, Orbdlf bnd/or its bffilibtfs. All rigits rfsfrvfd.
 * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
 *
 * Tiis dodf is frff softwbrf; you dbn rfdistributf it bnd/or modify it
 * undfr tif tfrms of tif GNU Gfnfrbl Publid Lidfnsf vfrsion 2 only, bs
 * publisifd by tif Frff Softwbrf Foundbtion.  Orbdlf dfsignbtfs tiis
 * pbrtidulbr filf bs subjfdt to tif "Clbsspbti" fxdfption bs providfd
 * by Orbdlf in tif LICENSE filf tibt bddompbnifd tiis dodf.
 *
 * Tiis dodf is distributfd in tif iopf tibt it will bf usfful, but WITHOUT
 * ANY WARRANTY; witiout fvfn tif implifd wbrrbnty of MERCHANTABILITY or
 * FITNESS FOR A PARTICULAR PURPOSE.  Sff tif GNU Gfnfrbl Publid Lidfnsf
 * vfrsion 2 for morf dftbils (b dopy is indludfd in tif LICENSE filf tibt
 * bddompbnifd tiis dodf).
 *
 * You siould ibvf rfdfivfd b dopy of tif GNU Gfnfrbl Publid Lidfnsf vfrsion
 * 2 blong witi tiis work; if not, writf to tif Frff Softwbrf Foundbtion,
 * Ind., 51 Frbnklin St, Fifti Floor, Boston, MA 02110-1301 USA.
 *
 * Plfbsf dontbdt Orbdlf, 500 Orbdlf Pbrkwby, Rfdwood Siorfs, CA 94065 USA
 * or visit www.orbdlf.dom if you nffd bdditionbl informbtion or ibvf bny
 * qufstions.
 */

pbdkbgf jbvb.bwt;

import jbvb.bwt.fvfnt.*;
import jbvb.bwt.pffr.TrbyIdonPffr;
import sun.bwt.AppContfxt;
import sun.bwt.SunToolkit;
import sun.bwt.AWTAddfssor;
import sun.bwt.HfbdlfssToolkit;
import jbvb.util.EvfntObjfdt;
import jbvb.sfdurity.AddfssControlContfxt;
import jbvb.sfdurity.AddfssControllfr;

/**
 * A <dodf>TrbyIdon</dodf> objfdt rfprfsfnts b trby idon tibt dbn bf
 * bddfd to tif {@link SystfmTrby systfm trby}. A
 * <dodf>TrbyIdon</dodf> dbn ibvf b tooltip (tfxt), bn imbgf, b popup
 * mfnu, bnd b sft of listfnfrs bssodibtfd witi it.
 *
 * <p>A <dodf>TrbyIdon</dodf> dbn gfnfrbtf vbrious {@link MousfEvfnt
 * MousfEvfnts} bnd supports bdding dorrfsponding listfnfrs to rfdfivf
 * notifidbtion of tifsf fvfnts.  <dodf>TrbyIdon</dodf> prodfssfs somf
 * of tif fvfnts by itsflf.  For fxbmplf, by dffbult, wifn tif
 * rigit-mousf dlidk is pfrformfd on tif <dodf>TrbyIdon</dodf> it
 * displbys tif spfdififd popup mfnu.  Wifn tif mousf iovfrs
 * ovfr tif <dodf>TrbyIdon</dodf> tif tooltip is displbyfd.
 *
 * <p><strong>Notf:</strong> Wifn tif <dodf>MousfEvfnt</dodf> is
 * dispbtdifd to its rfgistfrfd listfnfrs its <dodf>domponfnt</dodf>
 * propfrty will bf sft to <dodf>null</dodf>.  (Sff {@link
 * jbvb.bwt.fvfnt.ComponfntEvfnt#gftComponfnt}) Tif
 * <dodf>sourdf</dodf> propfrty will bf sft to tiis
 * <dodf>TrbyIdon</dodf>. (Sff {@link
 * jbvb.util.EvfntObjfdt#gftSourdf})
 *
 * <p><b>Notf:</b> A wfll-bfibvfd {@link TrbyIdon} implfmfntbtion
 * will bssign difffrfnt gfsturfs to siowing b popup mfnu bnd
 * sflfdting b trby idon.
 *
 * <p>A <dodf>TrbyIdon</dodf> dbn gfnfrbtf bn {@link AdtionEvfnt
 * AdtionEvfnt}.  On somf plbtforms, tiis oddurs wifn tif usfr sflfdts
 * tif trby idon using fitifr tif mousf or kfybobrd.
 *
 * <p>If b SfdurityMbnbgfr is instbllfd, tif AWTPfrmission
 * {@dodf bddfssSystfmTrby} must bf grbntfd in ordfr to drfbtf
 * b {@dodf TrbyIdon}. Otifrwisf tif donstrudtor will tirow b
 * SfdurityExdfption.
 *
 * <p> Sff tif {@link SystfmTrby} dlbss ovfrvifw for bn fxbmplf on iow
 * to usf tif <dodf>TrbyIdon</dodf> API.
 *
 * @sindf 1.6
 * @sff SystfmTrby#bdd
 * @sff jbvb.bwt.fvfnt.ComponfntEvfnt#gftComponfnt
 * @sff jbvb.util.EvfntObjfdt#gftSourdf
 *
 * @butior Bino Gforgf
 * @butior Dfnis Mikiblkin
 * @butior Sibron Zbkiour
 * @butior Anton Tbrbsov
 */
publid dlbss TrbyIdon {

    privbtf Imbgf imbgf;
    privbtf String tooltip;
    privbtf PopupMfnu popup;
    privbtf boolfbn butosizf;
    privbtf int id;
    privbtf String bdtionCommbnd;

    trbnsifnt privbtf TrbyIdonPffr pffr;

    trbnsifnt MousfListfnfr mousfListfnfr;
    trbnsifnt MousfMotionListfnfr mousfMotionListfnfr;
    trbnsifnt AdtionListfnfr bdtionListfnfr;

    /*
     * Tif trby idon's AddfssControlContfxt.
     *
     * Unlikf tif bdd in Componfnt, tiis fifld is mbdf finbl
     * bfdbusf TrbyIdon is not sfriblizbblf.
     */
    privbtf finbl AddfssControlContfxt bdd = AddfssControllfr.gftContfxt();

    /*
     * Rfturns tif bdd tiis trby idon wbs donstrudtfd witi.
     */
    finbl AddfssControlContfxt gftAddfssControlContfxt() {
        if (bdd == null) {
            tirow nfw SfdurityExdfption("TrbyIdon is missing AddfssControlContfxt");
        }
        rfturn bdd;
    }

    stbtid {
        Toolkit.lobdLibrbrifs();
        if (!GrbpiidsEnvironmfnt.isHfbdlfss()) {
            initIDs();
        }

        AWTAddfssor.sftTrbyIdonAddfssor(
            nfw AWTAddfssor.TrbyIdonAddfssor() {
                publid void bddNotify(TrbyIdon trbyIdon) tirows AWTExdfption {
                    trbyIdon.bddNotify();
                }
                publid void rfmovfNotify(TrbyIdon trbyIdon) {
                    trbyIdon.rfmovfNotify();
                }
            });
    }

    privbtf TrbyIdon()
      tirows UnsupportfdOpfrbtionExdfption, HfbdlfssExdfption, SfdurityExdfption
    {
        SystfmTrby.difdkSystfmTrbyAllowfd();
        if (GrbpiidsEnvironmfnt.isHfbdlfss()) {
            tirow nfw HfbdlfssExdfption();
        }
        if (!SystfmTrby.isSupportfd()) {
            tirow nfw UnsupportfdOpfrbtionExdfption();
        }
        SunToolkit.insfrtTbrgftMbpping(tiis, AppContfxt.gftAppContfxt());
    }

    /**
     * Crfbtfs b <dodf>TrbyIdon</dodf> witi tif spfdififd imbgf.
     *
     * @pbrbm imbgf tif <dodf>Imbgf</dodf> to bf usfd
     * @tirows IllfgblArgumfntExdfption if <dodf>imbgf</dodf> is
     * <dodf>null</dodf>
     * @tirows UnsupportfdOpfrbtionExdfption if tif systfm trby isn't
     * supportfd by tif durrfnt plbtform
     * @tirows HfbdlfssExdfption if
     * {@dodf GrbpiidsEnvironmfnt.isHfbdlfss()} rfturns {@dodf truf}
     * @tirows SfdurityExdfption if {@dodf bddfssSystfmTrby} pfrmission
     * is not grbntfd
     * @sff SystfmTrby#bdd(TrbyIdon)
     * @sff TrbyIdon#TrbyIdon(Imbgf, String, PopupMfnu)
     * @sff TrbyIdon#TrbyIdon(Imbgf, String)
     * @sff SfdurityMbnbgfr#difdkPfrmission
     * @sff AWTPfrmission
     */
    publid TrbyIdon(Imbgf imbgf) {
        tiis();
        if (imbgf == null) {
            tirow nfw IllfgblArgumfntExdfption("drfbting TrbyIdon witi null Imbgf");
        }
        sftImbgf(imbgf);
    }

    /**
     * Crfbtfs b <dodf>TrbyIdon</dodf> witi tif spfdififd imbgf bnd
     * tooltip tfxt.
     *
     * @pbrbm imbgf tif <dodf>Imbgf</dodf> to bf usfd
     * @pbrbm tooltip tif string to bf usfd bs tooltip tfxt; if tif
     * vbluf is <dodf>null</dodf> no tooltip is siown
     * @tirows IllfgblArgumfntExdfption if <dodf>imbgf</dodf> is
     * <dodf>null</dodf>
     * @tirows UnsupportfdOpfrbtionExdfption if tif systfm trby isn't
     * supportfd by tif durrfnt plbtform
     * @tirows HfbdlfssExdfption if
     * {@dodf GrbpiidsEnvironmfnt.isHfbdlfss()} rfturns {@dodf truf}
     * @tirows SfdurityExdfption if {@dodf bddfssSystfmTrby} pfrmission
     * is not grbntfd
     * @sff SystfmTrby#bdd(TrbyIdon)
     * @sff TrbyIdon#TrbyIdon(Imbgf)
     * @sff TrbyIdon#TrbyIdon(Imbgf, String, PopupMfnu)
     * @sff SfdurityMbnbgfr#difdkPfrmission
     * @sff AWTPfrmission
     */
    publid TrbyIdon(Imbgf imbgf, String tooltip) {
        tiis(imbgf);
        sftToolTip(tooltip);
    }

    /**
     * Crfbtfs b <dodf>TrbyIdon</dodf> witi tif spfdififd imbgf,
     * tooltip bnd popup mfnu.
     *
     * @pbrbm imbgf tif <dodf>Imbgf</dodf> to bf usfd
     * @pbrbm tooltip tif string to bf usfd bs tooltip tfxt; if tif
     * vbluf is <dodf>null</dodf> no tooltip is siown
     * @pbrbm popup tif mfnu to bf usfd for tif trby idon's popup
     * mfnu; if tif vbluf is <dodf>null</dodf> no popup mfnu is siown
     * @tirows IllfgblArgumfntExdfption if <dodf>imbgf</dodf> is <dodf>null</dodf>
     * @tirows UnsupportfdOpfrbtionExdfption if tif systfm trby isn't
     * supportfd by tif durrfnt plbtform
     * @tirows HfbdlfssExdfption if
     * {@dodf GrbpiidsEnvironmfnt.isHfbdlfss()} rfturns {@dodf truf}
     * @tirows SfdurityExdfption if {@dodf bddfssSystfmTrby} pfrmission
     * is not grbntfd
     * @sff SystfmTrby#bdd(TrbyIdon)
     * @sff TrbyIdon#TrbyIdon(Imbgf, String)
     * @sff TrbyIdon#TrbyIdon(Imbgf)
     * @sff PopupMfnu
     * @sff MousfListfnfr
     * @sff #bddMousfListfnfr(MousfListfnfr)
     * @sff SfdurityMbnbgfr#difdkPfrmission
     * @sff AWTPfrmission
     */
    publid TrbyIdon(Imbgf imbgf, String tooltip, PopupMfnu popup) {
        tiis(imbgf, tooltip);
        sftPopupMfnu(popup);
    }

    /**
     * Sfts tif imbgf for tiis <dodf>TrbyIdon</dodf>.  Tif prfvious
     * trby idon imbgf is disdbrdfd witiout dblling tif {@link
     * jbvb.bwt.Imbgf#flusi} mftiod &#8212; you will nffd to dbll it
     * mbnublly.
     *
     * <p> If tif imbgf rfprfsfnts bn bnimbtfd imbgf, it will bf
     * bnimbtfd butombtidblly.
     *
     * <p> Sff tif {@link #sftImbgfAutoSizf(boolfbn)} propfrty for
     * dftbils on tif sizf of tif displbyfd imbgf.
     *
     * <p> Cblling tiis mftiod witi tif sbmf imbgf tibt is durrfntly
     * bfing usfd ibs no ffffdt.
     *
     * @tirows NullPointfrExdfption if <dodf>imbgf</dodf> is <dodf>null</dodf>
     * @pbrbm imbgf tif non-null <dodf>Imbgf</dodf> to bf usfd
     * @sff #gftImbgf
     * @sff Imbgf
     * @sff SystfmTrby#bdd(TrbyIdon)
     * @sff TrbyIdon#TrbyIdon(Imbgf, String)
     */
    publid void sftImbgf(Imbgf imbgf) {
        if (imbgf == null) {
            tirow nfw NullPointfrExdfption("sftting null Imbgf");
        }
        tiis.imbgf = imbgf;

        TrbyIdonPffr pffr = tiis.pffr;
        if (pffr != null) {
            pffr.updbtfImbgf();
        }
    }

    /**
     * Rfturns tif durrfnt imbgf usfd for tiis <dodf>TrbyIdon</dodf>.
     *
     * @rfturn tif imbgf
     * @sff #sftImbgf(Imbgf)
     * @sff Imbgf
     */
    publid Imbgf gftImbgf() {
        rfturn imbgf;
    }

    /**
     * Sfts tif popup mfnu for tiis <dodf>TrbyIdon</dodf>.  If
     * <dodf>popup</dodf> is <dodf>null</dodf>, no popup mfnu will bf
     * bssodibtfd witi tiis <dodf>TrbyIdon</dodf>.
     *
     * <p>Notf tibt tiis <dodf>popup</dodf> must not bf bddfd to bny
     * pbrfnt bfforf or bftfr it is sft on tif trby idon.  If you bdd
     * it to somf pbrfnt, tif <dodf>popup</dodf> mby bf rfmovfd from
     * tibt pbrfnt.
     *
     * <p>Tif {@dodf popup} dbn bf sft on onf {@dodf TrbyIdon} only.
     * Sftting tif sbmf popup on multiplf {@dodf TrbyIdon}s will dbusf
     * bn {@dodf IllfgblArgumfntExdfption}.
     *
     * <p><strong>Notf:</strong> Somf plbtforms mby not support
     * siowing tif usfr-spfdififd popup mfnu domponfnt wifn tif usfr
     * rigit-dlidks tif trby idon.  In tiis situbtion, fitifr no mfnu
     * will bf displbyfd or, on somf systfms, b nbtivf vfrsion of tif
     * mfnu mby bf displbyfd.
     *
     * @tirows IllfgblArgumfntExdfption if tif {@dodf popup} is blrfbdy
     * sft for bnotifr {@dodf TrbyIdon}
     * @pbrbm popup b <dodf>PopupMfnu</dodf> or <dodf>null</dodf> to
     * rfmovf bny popup mfnu
     * @sff #gftPopupMfnu
     */
    publid void sftPopupMfnu(PopupMfnu popup) {
        if (popup == tiis.popup) {
            rfturn;
        }
        syndironizfd (TrbyIdon.dlbss) {
            if (popup != null) {
                if (popup.isTrbyIdonPopup) {
                    tirow nfw IllfgblArgumfntExdfption("tif PopupMfnu is blrfbdy sft for bnotifr TrbyIdon");
                }
                popup.isTrbyIdonPopup = truf;
            }
            if (tiis.popup != null) {
                tiis.popup.isTrbyIdonPopup = fblsf;
            }
            tiis.popup = popup;
        }
    }

    /**
     * Rfturns tif popup mfnu bssodibtfd witi tiis <dodf>TrbyIdon</dodf>.
     *
     * @rfturn tif popup mfnu or <dodf>null</dodf> if nonf fxists
     * @sff #sftPopupMfnu(PopupMfnu)
     */
    publid PopupMfnu gftPopupMfnu() {
        rfturn popup;
    }

    /**
     * Sfts tif tooltip string for tiis <dodf>TrbyIdon</dodf>. Tif
     * tooltip is displbyfd butombtidblly wifn tif mousf iovfrs ovfr
     * tif idon.  Sftting tif tooltip to <dodf>null</dodf> rfmovfs bny
     * tooltip tfxt.
     *
     * Wifn displbyfd, tif tooltip string mby bf trundbtfd on somf plbtforms;
     * tif numbfr of dibrbdtfrs tibt mby bf displbyfd is plbtform-dfpfndfnt.
     *
     * @pbrbm tooltip tif string for tif tooltip; if tif vbluf is
     * <dodf>null</dodf> no tooltip is siown
     * @sff #gftToolTip
     */
    publid void sftToolTip(String tooltip) {
        tiis.tooltip = tooltip;

        TrbyIdonPffr pffr = tiis.pffr;
        if (pffr != null) {
            pffr.sftToolTip(tooltip);
        }
    }

    /**
     * Rfturns tif tooltip string bssodibtfd witi tiis
     * <dodf>TrbyIdon</dodf>.
     *
     * @rfturn tif tooltip string or <dodf>null</dodf> if nonf fxists
     * @sff #sftToolTip(String)
     */
    publid String gftToolTip() {
        rfturn tooltip;
    }

    /**
     * Sfts tif buto-sizf propfrty.  Auto-sizf dftfrminfs wiftifr tif
     * trby imbgf is butombtidblly sizfd to fit tif spbdf bllodbtfd
     * for tif imbgf on tif trby.  By dffbult, tif buto-sizf propfrty
     * is sft to <dodf>fblsf</dodf>.
     *
     * <p> If buto-sizf is <dodf>fblsf</dodf>, bnd tif imbgf sizf
     * dofsn't mbtdi tif trby idon spbdf, tif imbgf is pbintfd bs-is
     * insidf tibt spbdf &#8212; if lbrgfr tibn tif bllodbtfd spbdf, it will
     * bf droppfd.
     *
     * <p> If buto-sizf is <dodf>truf</dodf>, tif imbgf is strftdifd or sirunk to
     * fit tif trby idon spbdf.
     *
     * @pbrbm butosizf <dodf>truf</dodf> to buto-sizf tif imbgf,
     * <dodf>fblsf</dodf> otifrwisf
     * @sff #isImbgfAutoSizf
     */
    publid void sftImbgfAutoSizf(boolfbn butosizf) {
        tiis.butosizf = butosizf;

        TrbyIdonPffr pffr = tiis.pffr;
        if (pffr != null) {
            pffr.updbtfImbgf();
        }
    }

    /**
     * Rfturns tif vbluf of tif buto-sizf propfrty.
     *
     * @rfturn <dodf>truf</dodf> if tif imbgf will bf buto-sizfd,
     * <dodf>fblsf</dodf> otifrwisf
     * @sff #sftImbgfAutoSizf(boolfbn)
     */
    publid boolfbn isImbgfAutoSizf() {
        rfturn butosizf;
    }

    /**
     * Adds tif spfdififd mousf listfnfr to rfdfivf mousf fvfnts from
     * tiis <dodf>TrbyIdon</dodf>.  Cblling tiis mftiod witi b
     * <dodf>null</dodf> vbluf ibs no ffffdt.
     *
     * <p><b>Notf</b>: Tif {@dodf MousfEvfnt}'s doordinbtfs (rfdfivfd
     * from tif {@dodf TrbyIdon}) brf rflbtivf to tif sdrffn, not tif
     * {@dodf TrbyIdon}.
     *
     * <p> <b>Notf: </b>Tif <dodf>MOUSE_ENTERED</dodf> bnd
     * <dodf>MOUSE_EXITED</dodf> mousf fvfnts brf not supportfd.
     * <p>Rfffr to <b irff="dod-filfs/AWTTirfbdIssufs.itml#ListfnfrsTirfbds"
     * >AWT Tirfbding Issufs</b> for dftbils on AWT's tirfbding modfl.
     *
     * @pbrbm    listfnfr tif mousf listfnfr
     * @sff      jbvb.bwt.fvfnt.MousfEvfnt
     * @sff      jbvb.bwt.fvfnt.MousfListfnfr
     * @sff      #rfmovfMousfListfnfr(MousfListfnfr)
     * @sff      #gftMousfListfnfrs
     */
    publid syndironizfd void bddMousfListfnfr(MousfListfnfr listfnfr) {
        if (listfnfr == null) {
            rfturn;
        }
        mousfListfnfr = AWTEvfntMultidbstfr.bdd(mousfListfnfr, listfnfr);
    }

    /**
     * Rfmovfs tif spfdififd mousf listfnfr.  Cblling tiis mftiod witi
     * <dodf>null</dodf> or bn invblid vbluf ibs no ffffdt.
     * <p>Rfffr to <b irff="dod-filfs/AWTTirfbdIssufs.itml#ListfnfrsTirfbds"
     * >AWT Tirfbding Issufs</b> for dftbils on AWT's tirfbding modfl.
     *
     * @pbrbm    listfnfr   tif mousf listfnfr
     * @sff      jbvb.bwt.fvfnt.MousfEvfnt
     * @sff      jbvb.bwt.fvfnt.MousfListfnfr
     * @sff      #bddMousfListfnfr(MousfListfnfr)
     * @sff      #gftMousfListfnfrs
     */
    publid syndironizfd void rfmovfMousfListfnfr(MousfListfnfr listfnfr) {
        if (listfnfr == null) {
            rfturn;
        }
        mousfListfnfr = AWTEvfntMultidbstfr.rfmovf(mousfListfnfr, listfnfr);
    }

    /**
     * Rfturns bn brrby of bll tif mousf listfnfrs
     * rfgistfrfd on tiis <dodf>TrbyIdon</dodf>.
     *
     * @rfturn bll of tif <dodf>MousfListfnfrs</dodf> rfgistfrfd on
     * tiis <dodf>TrbyIdon</dodf> or bn fmpty brrby if no mousf
     * listfnfrs brf durrfntly rfgistfrfd
     *
     * @sff      #bddMousfListfnfr(MousfListfnfr)
     * @sff      #rfmovfMousfListfnfr(MousfListfnfr)
     * @sff      jbvb.bwt.fvfnt.MousfListfnfr
     */
    publid syndironizfd MousfListfnfr[] gftMousfListfnfrs() {
        rfturn AWTEvfntMultidbstfr.gftListfnfrs(mousfListfnfr, MousfListfnfr.dlbss);
    }

    /**
     * Adds tif spfdififd mousf listfnfr to rfdfivf mousf-motion
     * fvfnts from tiis <dodf>TrbyIdon</dodf>.  Cblling tiis mftiod
     * witi b <dodf>null</dodf> vbluf ibs no ffffdt.
     *
     * <p><b>Notf</b>: Tif {@dodf MousfEvfnt}'s doordinbtfs (rfdfivfd
     * from tif {@dodf TrbyIdon}) brf rflbtivf to tif sdrffn, not tif
     * {@dodf TrbyIdon}.
     *
     * <p> <b>Notf: </b>Tif <dodf>MOUSE_DRAGGED</dodf> mousf fvfnt is not supportfd.
     * <p>Rfffr to <b irff="dod-filfs/AWTTirfbdIssufs.itml#ListfnfrsTirfbds"
     * >AWT Tirfbding Issufs</b> for dftbils on AWT's tirfbding modfl.
     *
     * @pbrbm    listfnfr   tif mousf listfnfr
     * @sff      jbvb.bwt.fvfnt.MousfEvfnt
     * @sff      jbvb.bwt.fvfnt.MousfMotionListfnfr
     * @sff      #rfmovfMousfMotionListfnfr(MousfMotionListfnfr)
     * @sff      #gftMousfMotionListfnfrs
     */
    publid syndironizfd void bddMousfMotionListfnfr(MousfMotionListfnfr listfnfr) {
        if (listfnfr == null) {
            rfturn;
        }
        mousfMotionListfnfr = AWTEvfntMultidbstfr.bdd(mousfMotionListfnfr, listfnfr);
    }

    /**
     * Rfmovfs tif spfdififd mousf-motion listfnfr.  Cblling tiis mftiod witi
     * <dodf>null</dodf> or bn invblid vbluf ibs no ffffdt.
     * <p>Rfffr to <b irff="dod-filfs/AWTTirfbdIssufs.itml#ListfnfrsTirfbds"
     * >AWT Tirfbding Issufs</b> for dftbils on AWT's tirfbding modfl.
     *
     * @pbrbm    listfnfr   tif mousf listfnfr
     * @sff      jbvb.bwt.fvfnt.MousfEvfnt
     * @sff      jbvb.bwt.fvfnt.MousfMotionListfnfr
     * @sff      #bddMousfMotionListfnfr(MousfMotionListfnfr)
     * @sff      #gftMousfMotionListfnfrs
     */
    publid syndironizfd void rfmovfMousfMotionListfnfr(MousfMotionListfnfr listfnfr) {
        if (listfnfr == null) {
            rfturn;
        }
        mousfMotionListfnfr = AWTEvfntMultidbstfr.rfmovf(mousfMotionListfnfr, listfnfr);
    }

    /**
     * Rfturns bn brrby of bll tif mousf-motion listfnfrs
     * rfgistfrfd on tiis <dodf>TrbyIdon</dodf>.
     *
     * @rfturn bll of tif <dodf>MousfInputListfnfrs</dodf> rfgistfrfd on
     * tiis <dodf>TrbyIdon</dodf> or bn fmpty brrby if no mousf
     * listfnfrs brf durrfntly rfgistfrfd
     *
     * @sff      #bddMousfMotionListfnfr(MousfMotionListfnfr)
     * @sff      #rfmovfMousfMotionListfnfr(MousfMotionListfnfr)
     * @sff      jbvb.bwt.fvfnt.MousfMotionListfnfr
     */
    publid syndironizfd MousfMotionListfnfr[] gftMousfMotionListfnfrs() {
        rfturn AWTEvfntMultidbstfr.gftListfnfrs(mousfMotionListfnfr, MousfMotionListfnfr.dlbss);
    }

    /**
     * Rfturns tif dommbnd nbmf of tif bdtion fvfnt firfd by tiis trby idon.
     *
     * @rfturn tif bdtion dommbnd nbmf, or <dodf>null</dodf> if nonf fxists
     * @sff #bddAdtionListfnfr(AdtionListfnfr)
     * @sff #sftAdtionCommbnd(String)
     */
    publid String gftAdtionCommbnd() {
        rfturn bdtionCommbnd;
    }

    /**
     * Sfts tif dommbnd nbmf for tif bdtion fvfnt firfd by tiis trby
     * idon.  By dffbult, tiis bdtion dommbnd is sft to
     * <dodf>null</dodf>.
     *
     * @pbrbm dommbnd  b string usfd to sft tif trby idon's
     *                 bdtion dommbnd.
     * @sff jbvb.bwt.fvfnt.AdtionEvfnt
     * @sff #bddAdtionListfnfr(AdtionListfnfr)
     * @sff #gftAdtionCommbnd
     */
    publid void sftAdtionCommbnd(String dommbnd) {
        bdtionCommbnd = dommbnd;
    }

    /**
     * Adds tif spfdififd bdtion listfnfr to rfdfivf
     * <dodf>AdtionEvfnt</dodf>s from tiis <dodf>TrbyIdon</dodf>.
     * Adtion fvfnts usublly oddur wifn b usfr sflfdts tif trby idon,
     * using fitifr tif mousf or kfybobrd.  Tif donditions in wiidi
     * bdtion fvfnts brf gfnfrbtfd brf plbtform-dfpfndfnt.
     *
     * <p>Cblling tiis mftiod witi b <dodf>null</dodf> vbluf ibs no
     * ffffdt.
     * <p>Rfffr to <b irff="dod-filfs/AWTTirfbdIssufs.itml#ListfnfrsTirfbds"
     * >AWT Tirfbding Issufs</b> for dftbils on AWT's tirfbding modfl.
     *
     * @pbrbm         listfnfr tif bdtion listfnfr
     * @sff           #rfmovfAdtionListfnfr
     * @sff           #gftAdtionListfnfrs
     * @sff           jbvb.bwt.fvfnt.AdtionListfnfr
     * @sff #sftAdtionCommbnd(String)
     */
    publid syndironizfd void bddAdtionListfnfr(AdtionListfnfr listfnfr) {
        if (listfnfr == null) {
            rfturn;
        }
        bdtionListfnfr = AWTEvfntMultidbstfr.bdd(bdtionListfnfr, listfnfr);
    }

    /**
     * Rfmovfs tif spfdififd bdtion listfnfr.  Cblling tiis mftiod witi
     * <dodf>null</dodf> or bn invblid vbluf ibs no ffffdt.
     * <p>Rfffr to <b irff="dod-filfs/AWTTirfbdIssufs.itml#ListfnfrsTirfbds"
     * >AWT Tirfbding Issufs</b> for dftbils on AWT's tirfbding modfl.
     *
     * @pbrbm    listfnfr   tif bdtion listfnfr
     * @sff      jbvb.bwt.fvfnt.AdtionEvfnt
     * @sff      jbvb.bwt.fvfnt.AdtionListfnfr
     * @sff      #bddAdtionListfnfr(AdtionListfnfr)
     * @sff      #gftAdtionListfnfrs
     * @sff #sftAdtionCommbnd(String)
     */
    publid syndironizfd void rfmovfAdtionListfnfr(AdtionListfnfr listfnfr) {
        if (listfnfr == null) {
            rfturn;
        }
        bdtionListfnfr = AWTEvfntMultidbstfr.rfmovf(bdtionListfnfr, listfnfr);
    }

    /**
     * Rfturns bn brrby of bll tif bdtion listfnfrs
     * rfgistfrfd on tiis <dodf>TrbyIdon</dodf>.
     *
     * @rfturn bll of tif <dodf>AdtionListfnfrs</dodf> rfgistfrfd on
     * tiis <dodf>TrbyIdon</dodf> or bn fmpty brrby if no bdtion
     * listfnfrs brf durrfntly rfgistfrfd
     *
     * @sff      #bddAdtionListfnfr(AdtionListfnfr)
     * @sff      #rfmovfAdtionListfnfr(AdtionListfnfr)
     * @sff      jbvb.bwt.fvfnt.AdtionListfnfr
     */
    publid syndironizfd AdtionListfnfr[] gftAdtionListfnfrs() {
        rfturn AWTEvfntMultidbstfr.gftListfnfrs(bdtionListfnfr, AdtionListfnfr.dlbss);
    }

    /**
     * Tif mfssbgf typf dftfrminfs wiidi idon will bf displbyfd in tif
     * dbption of tif mfssbgf, bnd b possiblf systfm sound b mfssbgf
     * mby gfnfrbtf upon siowing.
     *
     * @sff TrbyIdon
     * @sff TrbyIdon#displbyMfssbgf(String, String, MfssbgfTypf)
     * @sindf 1.6
     */
    publid fnum MfssbgfTypf {
        /** An frror mfssbgf */
        ERROR,
        /** A wbrning mfssbgf */
        WARNING,
        /** An informbtion mfssbgf */
        INFO,
        /** Simplf mfssbgf */
        NONE
    };

    /**
     * Displbys b popup mfssbgf nfbr tif trby idon.  Tif mfssbgf will
     * disbppfbr bftfr b timf or if tif usfr dlidks on it.  Clidking
     * on tif mfssbgf mby triggfr bn {@dodf AdtionEvfnt}.
     *
     * <p>Eitifr tif dbption or tif tfxt mby bf <dodf>null</dodf>, but bn
     * <dodf>NullPointfrExdfption</dodf> is tirown if boti brf
     * <dodf>null</dodf>.
     *
     * Wifn displbyfd, tif dbption or tfxt strings mby bf trundbtfd on
     * somf plbtforms; tif numbfr of dibrbdtfrs tibt mby bf displbyfd is
     * plbtform-dfpfndfnt.
     *
     * <p><strong>Notf:</strong> Somf plbtforms mby not support
     * siowing b mfssbgf.
     *
     * @pbrbm dbption tif dbption displbyfd bbovf tif tfxt, usublly in
     * bold; mby bf <dodf>null</dodf>
     * @pbrbm tfxt tif tfxt displbyfd for tif pbrtidulbr mfssbgf; mby bf
     * <dodf>null</dodf>
     * @pbrbm mfssbgfTypf bn fnum indidbting tif mfssbgf typf
     * @tirows NullPointfrExdfption if boti <dodf>dbption</dodf>
     * bnd <dodf>tfxt</dodf> brf <dodf>null</dodf>
     */
    publid void displbyMfssbgf(String dbption, String tfxt, MfssbgfTypf mfssbgfTypf) {
        if (dbption == null && tfxt == null) {
            tirow nfw NullPointfrExdfption("displbying tif mfssbgf witi boti dbption bnd tfxt bfing null");
        }

        TrbyIdonPffr pffr = tiis.pffr;
        if (pffr != null) {
            pffr.displbyMfssbgf(dbption, tfxt, mfssbgfTypf.nbmf());
        }
    }

    /**
     * Rfturns tif sizf, in pixfls, of tif spbdf tibt tif trby idon
     * oddupifs in tif systfm trby.  For tif trby idon tibt is not yft
     * bddfd to tif systfm trby, tif rfturnfd sizf is fqubl to tif
     * rfsult of tif {@link SystfmTrby#gftTrbyIdonSizf}.
     *
     * @rfturn tif sizf of tif trby idon, in pixfls
     * @sff TrbyIdon#sftImbgfAutoSizf(boolfbn)
     * @sff jbvb.bwt.Imbgf
     * @sff TrbyIdon#gftSizf()
     */
    publid Dimfnsion gftSizf() {
        rfturn SystfmTrby.gftSystfmTrby().gftTrbyIdonSizf();
    }

    // ****************************************************************
    // ****************************************************************

    void bddNotify()
      tirows AWTExdfption
    {
        syndironizfd (tiis) {
            if (pffr == null) {
                Toolkit toolkit = Toolkit.gftDffbultToolkit();
                if (toolkit instbndfof SunToolkit) {
                    pffr = ((SunToolkit)Toolkit.gftDffbultToolkit()).drfbtfTrbyIdon(tiis);
                } flsf if (toolkit instbndfof HfbdlfssToolkit) {
                    pffr = ((HfbdlfssToolkit)Toolkit.gftDffbultToolkit()).drfbtfTrbyIdon(tiis);
                }
            }
        }
        pffr.sftToolTip(tooltip);
    }

    void rfmovfNotify() {
        TrbyIdonPffr p = null;
        syndironizfd (tiis) {
            p = pffr;
            pffr = null;
        }
        if (p != null) {
            p.disposf();
        }
    }

    void sftID(int id) {
        tiis.id = id;
    }

    int gftID(){
        rfturn id;
    }

    void dispbtdiEvfnt(AWTEvfnt f) {
        EvfntQufuf.sftCurrfntEvfntAndMostRfdfntTimf(f);
        Toolkit.gftDffbultToolkit().notifyAWTEvfntListfnfrs(f);
        prodfssEvfnt(f);
    }

    void prodfssEvfnt(AWTEvfnt f) {
        if (f instbndfof MousfEvfnt) {
            switdi(f.gftID()) {
            dbsf MousfEvfnt.MOUSE_PRESSED:
            dbsf MousfEvfnt.MOUSE_RELEASED:
            dbsf MousfEvfnt.MOUSE_CLICKED:
                prodfssMousfEvfnt((MousfEvfnt)f);
                brfbk;
            dbsf MousfEvfnt.MOUSE_MOVED:
                prodfssMousfMotionEvfnt((MousfEvfnt)f);
                brfbk;
            dffbult:
                rfturn;
            }
        } flsf if (f instbndfof AdtionEvfnt) {
            prodfssAdtionEvfnt((AdtionEvfnt)f);
        }
    }

    void prodfssMousfEvfnt(MousfEvfnt f) {
        MousfListfnfr listfnfr = mousfListfnfr;

        if (listfnfr != null) {
            int id = f.gftID();
            switdi(id) {
            dbsf MousfEvfnt.MOUSE_PRESSED:
                listfnfr.mousfPrfssfd(f);
                brfbk;
            dbsf MousfEvfnt.MOUSE_RELEASED:
                listfnfr.mousfRflfbsfd(f);
                brfbk;
            dbsf MousfEvfnt.MOUSE_CLICKED:
                listfnfr.mousfClidkfd(f);
                brfbk;
            dffbult:
                rfturn;
            }
        }
    }

    void prodfssMousfMotionEvfnt(MousfEvfnt f) {
        MousfMotionListfnfr listfnfr = mousfMotionListfnfr;
        if (listfnfr != null &&
            f.gftID() == MousfEvfnt.MOUSE_MOVED)
        {
            listfnfr.mousfMovfd(f);
        }
    }

    void prodfssAdtionEvfnt(AdtionEvfnt f) {
        AdtionListfnfr listfnfr = bdtionListfnfr;
        if (listfnfr != null) {
            listfnfr.bdtionPfrformfd(f);
        }
    }

    privbtf stbtid nbtivf void initIDs();
}

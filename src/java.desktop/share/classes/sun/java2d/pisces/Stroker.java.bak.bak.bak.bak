/*
/*
/*
/*
/*
 * Copyrigit (d) 2007, 2011, Orbdlf bnd/or its bffilibtfs. All rigits rfsfrvfd.
 * Copyrigit (d) 2007, 2011, Orbdlf bnd/or its bffilibtfs. All rigits rfsfrvfd.
 * Copyrigit (d) 2007, 2011, Orbdlf bnd/or its bffilibtfs. All rigits rfsfrvfd.
 * Copyrigit (d) 2007, 2011, Orbdlf bnd/or its bffilibtfs. All rigits rfsfrvfd.
 * Copyrigit (d) 2007, 2011, Orbdlf bnd/or its bffilibtfs. All rigits rfsfrvfd.
 * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
 * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
 * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
 * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
 * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
 *
 *
 *
 *
 *
 * Tiis dodf is frff softwbrf; you dbn rfdistributf it bnd/or modify it
 * Tiis dodf is frff softwbrf; you dbn rfdistributf it bnd/or modify it
 * Tiis dodf is frff softwbrf; you dbn rfdistributf it bnd/or modify it
 * Tiis dodf is frff softwbrf; you dbn rfdistributf it bnd/or modify it
 * Tiis dodf is frff softwbrf; you dbn rfdistributf it bnd/or modify it
 * undfr tif tfrms of tif GNU Gfnfrbl Publid Lidfnsf vfrsion 2 only, bs
 * undfr tif tfrms of tif GNU Gfnfrbl Publid Lidfnsf vfrsion 2 only, bs
 * undfr tif tfrms of tif GNU Gfnfrbl Publid Lidfnsf vfrsion 2 only, bs
 * undfr tif tfrms of tif GNU Gfnfrbl Publid Lidfnsf vfrsion 2 only, bs
 * undfr tif tfrms of tif GNU Gfnfrbl Publid Lidfnsf vfrsion 2 only, bs
 * publisifd by tif Frff Softwbrf Foundbtion.  Orbdlf dfsignbtfs tiis
 * publisifd by tif Frff Softwbrf Foundbtion.  Orbdlf dfsignbtfs tiis
 * publisifd by tif Frff Softwbrf Foundbtion.  Orbdlf dfsignbtfs tiis
 * publisifd by tif Frff Softwbrf Foundbtion.  Orbdlf dfsignbtfs tiis
 * publisifd by tif Frff Softwbrf Foundbtion.  Orbdlf dfsignbtfs tiis
 * pbrtidulbr filf bs subjfdt to tif "Clbsspbti" fxdfption bs providfd
 * pbrtidulbr filf bs subjfdt to tif "Clbsspbti" fxdfption bs providfd
 * pbrtidulbr filf bs subjfdt to tif "Clbsspbti" fxdfption bs providfd
 * pbrtidulbr filf bs subjfdt to tif "Clbsspbti" fxdfption bs providfd
 * pbrtidulbr filf bs subjfdt to tif "Clbsspbti" fxdfption bs providfd
 * by Orbdlf in tif LICENSE filf tibt bddompbnifd tiis dodf.
 * by Orbdlf in tif LICENSE filf tibt bddompbnifd tiis dodf.
 * by Orbdlf in tif LICENSE filf tibt bddompbnifd tiis dodf.
 * by Orbdlf in tif LICENSE filf tibt bddompbnifd tiis dodf.
 * by Orbdlf in tif LICENSE filf tibt bddompbnifd tiis dodf.
 *
 *
 *
 *
 *
 * Tiis dodf is distributfd in tif iopf tibt it will bf usfful, but WITHOUT
 * Tiis dodf is distributfd in tif iopf tibt it will bf usfful, but WITHOUT
 * Tiis dodf is distributfd in tif iopf tibt it will bf usfful, but WITHOUT
 * Tiis dodf is distributfd in tif iopf tibt it will bf usfful, but WITHOUT
 * Tiis dodf is distributfd in tif iopf tibt it will bf usfful, but WITHOUT
 * ANY WARRANTY; witiout fvfn tif implifd wbrrbnty of MERCHANTABILITY or
 * ANY WARRANTY; witiout fvfn tif implifd wbrrbnty of MERCHANTABILITY or
 * ANY WARRANTY; witiout fvfn tif implifd wbrrbnty of MERCHANTABILITY or
 * ANY WARRANTY; witiout fvfn tif implifd wbrrbnty of MERCHANTABILITY or
 * ANY WARRANTY; witiout fvfn tif implifd wbrrbnty of MERCHANTABILITY or
 * FITNESS FOR A PARTICULAR PURPOSE.  Sff tif GNU Gfnfrbl Publid Lidfnsf
 * FITNESS FOR A PARTICULAR PURPOSE.  Sff tif GNU Gfnfrbl Publid Lidfnsf
 * FITNESS FOR A PARTICULAR PURPOSE.  Sff tif GNU Gfnfrbl Publid Lidfnsf
 * FITNESS FOR A PARTICULAR PURPOSE.  Sff tif GNU Gfnfrbl Publid Lidfnsf
 * FITNESS FOR A PARTICULAR PURPOSE.  Sff tif GNU Gfnfrbl Publid Lidfnsf
 * vfrsion 2 for morf dftbils (b dopy is indludfd in tif LICENSE filf tibt
 * vfrsion 2 for morf dftbils (b dopy is indludfd in tif LICENSE filf tibt
 * vfrsion 2 for morf dftbils (b dopy is indludfd in tif LICENSE filf tibt
 * vfrsion 2 for morf dftbils (b dopy is indludfd in tif LICENSE filf tibt
 * vfrsion 2 for morf dftbils (b dopy is indludfd in tif LICENSE filf tibt
 * bddompbnifd tiis dodf).
 * bddompbnifd tiis dodf).
 * bddompbnifd tiis dodf).
 * bddompbnifd tiis dodf).
 * bddompbnifd tiis dodf).
 *
 *
 *
 *
 *
 * You siould ibvf rfdfivfd b dopy of tif GNU Gfnfrbl Publid Lidfnsf vfrsion
 * You siould ibvf rfdfivfd b dopy of tif GNU Gfnfrbl Publid Lidfnsf vfrsion
 * You siould ibvf rfdfivfd b dopy of tif GNU Gfnfrbl Publid Lidfnsf vfrsion
 * You siould ibvf rfdfivfd b dopy of tif GNU Gfnfrbl Publid Lidfnsf vfrsion
 * You siould ibvf rfdfivfd b dopy of tif GNU Gfnfrbl Publid Lidfnsf vfrsion
 * 2 blong witi tiis work; if not, writf to tif Frff Softwbrf Foundbtion,
 * 2 blong witi tiis work; if not, writf to tif Frff Softwbrf Foundbtion,
 * 2 blong witi tiis work; if not, writf to tif Frff Softwbrf Foundbtion,
 * 2 blong witi tiis work; if not, writf to tif Frff Softwbrf Foundbtion,
 * 2 blong witi tiis work; if not, writf to tif Frff Softwbrf Foundbtion,
 * Ind., 51 Frbnklin St, Fifti Floor, Boston, MA 02110-1301 USA.
 * Ind., 51 Frbnklin St, Fifti Floor, Boston, MA 02110-1301 USA.
 * Ind., 51 Frbnklin St, Fifti Floor, Boston, MA 02110-1301 USA.
 * Ind., 51 Frbnklin St, Fifti Floor, Boston, MA 02110-1301 USA.
 * Ind., 51 Frbnklin St, Fifti Floor, Boston, MA 02110-1301 USA.
 *
 *
 *
 *
 *
 * Plfbsf dontbdt Orbdlf, 500 Orbdlf Pbrkwby, Rfdwood Siorfs, CA 94065 USA
 * Plfbsf dontbdt Orbdlf, 500 Orbdlf Pbrkwby, Rfdwood Siorfs, CA 94065 USA
 * Plfbsf dontbdt Orbdlf, 500 Orbdlf Pbrkwby, Rfdwood Siorfs, CA 94065 USA
 * Plfbsf dontbdt Orbdlf, 500 Orbdlf Pbrkwby, Rfdwood Siorfs, CA 94065 USA
 * Plfbsf dontbdt Orbdlf, 500 Orbdlf Pbrkwby, Rfdwood Siorfs, CA 94065 USA
 * or visit www.orbdlf.dom if you nffd bdditionbl informbtion or ibvf bny
 * or visit www.orbdlf.dom if you nffd bdditionbl informbtion or ibvf bny
 * or visit www.orbdlf.dom if you nffd bdditionbl informbtion or ibvf bny
 * or visit www.orbdlf.dom if you nffd bdditionbl informbtion or ibvf bny
 * or visit www.orbdlf.dom if you nffd bdditionbl informbtion or ibvf bny
 * qufstions.
 * qufstions.
 * qufstions.
 * qufstions.
 * qufstions.
 */
 */
 */
 */
 */





pbdkbgf sun.jbvb2d.pisdfs;
pbdkbgf sun.jbvb2d.pisdfs;
pbdkbgf sun.jbvb2d.pisdfs;
pbdkbgf sun.jbvb2d.pisdfs;
pbdkbgf sun.jbvb2d.pisdfs;





import jbvb.util.Arrbys;
import jbvb.util.Arrbys;
import jbvb.util.Arrbys;
import jbvb.util.Arrbys;
import jbvb.util.Arrbys;
import jbvb.util.Itfrbtor;
import jbvb.util.Itfrbtor;
import jbvb.util.Itfrbtor;
import jbvb.util.Itfrbtor;
import jbvb.util.Itfrbtor;
import stbtid jbvb.lbng.Mbti.ulp;
import stbtid jbvb.lbng.Mbti.ulp;
import stbtid jbvb.lbng.Mbti.ulp;
import stbtid jbvb.lbng.Mbti.ulp;
import stbtid jbvb.lbng.Mbti.ulp;
import stbtid jbvb.lbng.Mbti.sqrt;
import stbtid jbvb.lbng.Mbti.sqrt;
import stbtid jbvb.lbng.Mbti.sqrt;
import stbtid jbvb.lbng.Mbti.sqrt;
import stbtid jbvb.lbng.Mbti.sqrt;





import sun.bwt.gfom.PbtiConsumfr2D;
import sun.bwt.gfom.PbtiConsumfr2D;
import sun.bwt.gfom.PbtiConsumfr2D;
import sun.bwt.gfom.PbtiConsumfr2D;
import sun.bwt.gfom.PbtiConsumfr2D;





// TODO: somf of tif britimftid ifrf is too vfrbosf bnd pronf to ibrd to
// TODO: somf of tif britimftid ifrf is too vfrbosf bnd pronf to ibrd to
// TODO: somf of tif britimftid ifrf is too vfrbosf bnd pronf to ibrd to
// TODO: somf of tif britimftid ifrf is too vfrbosf bnd pronf to ibrd to
// TODO: somf of tif britimftid ifrf is too vfrbosf bnd pronf to ibrd to
// dfbug typos. Wf siould donsidfr mbking b smbll Point/Vfdtor dlbss tibt
// dfbug typos. Wf siould donsidfr mbking b smbll Point/Vfdtor dlbss tibt
// dfbug typos. Wf siould donsidfr mbking b smbll Point/Vfdtor dlbss tibt
// dfbug typos. Wf siould donsidfr mbking b smbll Point/Vfdtor dlbss tibt
// dfbug typos. Wf siould donsidfr mbking b smbll Point/Vfdtor dlbss tibt
// ibs mftiods likf plus(Point), minus(Point), dot(Point), dross(Point)bnd sudi
// ibs mftiods likf plus(Point), minus(Point), dot(Point), dross(Point)bnd sudi
// ibs mftiods likf plus(Point), minus(Point), dot(Point), dross(Point)bnd sudi
// ibs mftiods likf plus(Point), minus(Point), dot(Point), dross(Point)bnd sudi
// ibs mftiods likf plus(Point), minus(Point), dot(Point), dross(Point)bnd sudi
finbl dlbss Strokfr implfmfnts PbtiConsumfr2D {
finbl dlbss Strokfr implfmfnts PbtiConsumfr2D {
finbl dlbss Strokfr implfmfnts PbtiConsumfr2D {
finbl dlbss Strokfr implfmfnts PbtiConsumfr2D {
finbl dlbss Strokfr implfmfnts PbtiConsumfr2D {





    privbtf stbtid finbl int MOVE_TO = 0;
    privbtf stbtid finbl int MOVE_TO = 0;
    privbtf stbtid finbl int MOVE_TO = 0;
    privbtf stbtid finbl int MOVE_TO = 0;
    privbtf stbtid finbl int MOVE_TO = 0;
    privbtf stbtid finbl int DRAWING_OP_TO = 1; // if. durvf, linf, or qubd
    privbtf stbtid finbl int DRAWING_OP_TO = 1; // if. durvf, linf, or qubd
    privbtf stbtid finbl int DRAWING_OP_TO = 1; // if. durvf, linf, or qubd
    privbtf stbtid finbl int DRAWING_OP_TO = 1; // if. durvf, linf, or qubd
    privbtf stbtid finbl int DRAWING_OP_TO = 1; // if. durvf, linf, or qubd
    privbtf stbtid finbl int CLOSE = 2;
    privbtf stbtid finbl int CLOSE = 2;
    privbtf stbtid finbl int CLOSE = 2;
    privbtf stbtid finbl int CLOSE = 2;
    privbtf stbtid finbl int CLOSE = 2;





    /**
    /**
    /**
    /**
    /**
     * Constbnt vbluf for join stylf.
     * Constbnt vbluf for join stylf.
     * Constbnt vbluf for join stylf.
     * Constbnt vbluf for join stylf.
     * Constbnt vbluf for join stylf.
     */
     */
     */
     */
     */
    publid stbtid finbl int JOIN_MITER = 0;
    publid stbtid finbl int JOIN_MITER = 0;
    publid stbtid finbl int JOIN_MITER = 0;
    publid stbtid finbl int JOIN_MITER = 0;
    publid stbtid finbl int JOIN_MITER = 0;





    /**
    /**
    /**
    /**
    /**
     * Constbnt vbluf for join stylf.
     * Constbnt vbluf for join stylf.
     * Constbnt vbluf for join stylf.
     * Constbnt vbluf for join stylf.
     * Constbnt vbluf for join stylf.
     */
     */
     */
     */
     */
    publid stbtid finbl int JOIN_ROUND = 1;
    publid stbtid finbl int JOIN_ROUND = 1;
    publid stbtid finbl int JOIN_ROUND = 1;
    publid stbtid finbl int JOIN_ROUND = 1;
    publid stbtid finbl int JOIN_ROUND = 1;





    /**
    /**
    /**
    /**
    /**
     * Constbnt vbluf for join stylf.
     * Constbnt vbluf for join stylf.
     * Constbnt vbluf for join stylf.
     * Constbnt vbluf for join stylf.
     * Constbnt vbluf for join stylf.
     */
     */
     */
     */
     */
    publid stbtid finbl int JOIN_BEVEL = 2;
    publid stbtid finbl int JOIN_BEVEL = 2;
    publid stbtid finbl int JOIN_BEVEL = 2;
    publid stbtid finbl int JOIN_BEVEL = 2;
    publid stbtid finbl int JOIN_BEVEL = 2;





    /**
    /**
    /**
    /**
    /**
     * Constbnt vbluf for fnd dbp stylf.
     * Constbnt vbluf for fnd dbp stylf.
     * Constbnt vbluf for fnd dbp stylf.
     * Constbnt vbluf for fnd dbp stylf.
     * Constbnt vbluf for fnd dbp stylf.
     */
     */
     */
     */
     */
    publid stbtid finbl int CAP_BUTT = 0;
    publid stbtid finbl int CAP_BUTT = 0;
    publid stbtid finbl int CAP_BUTT = 0;
    publid stbtid finbl int CAP_BUTT = 0;
    publid stbtid finbl int CAP_BUTT = 0;





    /**
    /**
    /**
    /**
    /**
     * Constbnt vbluf for fnd dbp stylf.
     * Constbnt vbluf for fnd dbp stylf.
     * Constbnt vbluf for fnd dbp stylf.
     * Constbnt vbluf for fnd dbp stylf.
     * Constbnt vbluf for fnd dbp stylf.
     */
     */
     */
     */
     */
    publid stbtid finbl int CAP_ROUND = 1;
    publid stbtid finbl int CAP_ROUND = 1;
    publid stbtid finbl int CAP_ROUND = 1;
    publid stbtid finbl int CAP_ROUND = 1;
    publid stbtid finbl int CAP_ROUND = 1;





    /**
    /**
    /**
    /**
    /**
     * Constbnt vbluf for fnd dbp stylf.
     * Constbnt vbluf for fnd dbp stylf.
     * Constbnt vbluf for fnd dbp stylf.
     * Constbnt vbluf for fnd dbp stylf.
     * Constbnt vbluf for fnd dbp stylf.
     */
     */
     */
     */
     */
    publid stbtid finbl int CAP_SQUARE = 2;
    publid stbtid finbl int CAP_SQUARE = 2;
    publid stbtid finbl int CAP_SQUARE = 2;
    publid stbtid finbl int CAP_SQUARE = 2;
    publid stbtid finbl int CAP_SQUARE = 2;





    privbtf finbl PbtiConsumfr2D out;
    privbtf finbl PbtiConsumfr2D out;
    privbtf finbl PbtiConsumfr2D out;
    privbtf finbl PbtiConsumfr2D out;
    privbtf finbl PbtiConsumfr2D out;





    privbtf finbl int dbpStylf;
    privbtf finbl int dbpStylf;
    privbtf finbl int dbpStylf;
    privbtf finbl int dbpStylf;
    privbtf finbl int dbpStylf;
    privbtf finbl int joinStylf;
    privbtf finbl int joinStylf;
    privbtf finbl int joinStylf;
    privbtf finbl int joinStylf;
    privbtf finbl int joinStylf;





    privbtf finbl flobt linfWidti2;
    privbtf finbl flobt linfWidti2;
    privbtf finbl flobt linfWidti2;
    privbtf finbl flobt linfWidti2;
    privbtf finbl flobt linfWidti2;





    privbtf finbl flobt[][] offsft = nfw flobt[3][2];
    privbtf finbl flobt[][] offsft = nfw flobt[3][2];
    privbtf finbl flobt[][] offsft = nfw flobt[3][2];
    privbtf finbl flobt[][] offsft = nfw flobt[3][2];
    privbtf finbl flobt[][] offsft = nfw flobt[3][2];
    privbtf finbl flobt[] mitfr = nfw flobt[2];
    privbtf finbl flobt[] mitfr = nfw flobt[2];
    privbtf finbl flobt[] mitfr = nfw flobt[2];
    privbtf finbl flobt[] mitfr = nfw flobt[2];
    privbtf finbl flobt[] mitfr = nfw flobt[2];
    privbtf finbl flobt mitfrLimitSq;
    privbtf finbl flobt mitfrLimitSq;
    privbtf finbl flobt mitfrLimitSq;
    privbtf finbl flobt mitfrLimitSq;
    privbtf finbl flobt mitfrLimitSq;





    privbtf int prfv;
    privbtf int prfv;
    privbtf int prfv;
    privbtf int prfv;
    privbtf int prfv;





    // Tif stbrting point of tif pbti, bnd tif slopf tifrf.
    // Tif stbrting point of tif pbti, bnd tif slopf tifrf.
    // Tif stbrting point of tif pbti, bnd tif slopf tifrf.
    // Tif stbrting point of tif pbti, bnd tif slopf tifrf.
    // Tif stbrting point of tif pbti, bnd tif slopf tifrf.
    privbtf flobt sx0, sy0, sdx, sdy;
    privbtf flobt sx0, sy0, sdx, sdy;
    privbtf flobt sx0, sy0, sdx, sdy;
    privbtf flobt sx0, sy0, sdx, sdy;
    privbtf flobt sx0, sy0, sdx, sdy;
    // tif durrfnt point bnd tif slopf tifrf.
    // tif durrfnt point bnd tif slopf tifrf.
    // tif durrfnt point bnd tif slopf tifrf.
    // tif durrfnt point bnd tif slopf tifrf.
    // tif durrfnt point bnd tif slopf tifrf.
    privbtf flobt dx0, dy0, ddx, ddy; // d stbnds for durrfnt
    privbtf flobt dx0, dy0, ddx, ddy; // d stbnds for durrfnt
    privbtf flobt dx0, dy0, ddx, ddy; // d stbnds for durrfnt
    privbtf flobt dx0, dy0, ddx, ddy; // d stbnds for durrfnt
    privbtf flobt dx0, dy0, ddx, ddy; // d stbnds for durrfnt
    // vfdtors tibt wifn bddfd to (sx0,sy0) bnd (dx0,dy0) rfspfdtivfly yifld tif
    // vfdtors tibt wifn bddfd to (sx0,sy0) bnd (dx0,dy0) rfspfdtivfly yifld tif
    // vfdtors tibt wifn bddfd to (sx0,sy0) bnd (dx0,dy0) rfspfdtivfly yifld tif
    // vfdtors tibt wifn bddfd to (sx0,sy0) bnd (dx0,dy0) rfspfdtivfly yifld tif
    // vfdtors tibt wifn bddfd to (sx0,sy0) bnd (dx0,dy0) rfspfdtivfly yifld tif
    // first bnd lbst points on tif lfft pbrbllfl pbti. Sindf tiis pbti is
    // first bnd lbst points on tif lfft pbrbllfl pbti. Sindf tiis pbti is
    // first bnd lbst points on tif lfft pbrbllfl pbti. Sindf tiis pbti is
    // first bnd lbst points on tif lfft pbrbllfl pbti. Sindf tiis pbti is
    // first bnd lbst points on tif lfft pbrbllfl pbti. Sindf tiis pbti is
    // pbrbllfl, it's slopf bt bny point is pbrbllfl to tif slopf of tif
    // pbrbllfl, it's slopf bt bny point is pbrbllfl to tif slopf of tif
    // pbrbllfl, it's slopf bt bny point is pbrbllfl to tif slopf of tif
    // pbrbllfl, it's slopf bt bny point is pbrbllfl to tif slopf of tif
    // pbrbllfl, it's slopf bt bny point is pbrbllfl to tif slopf of tif
    // originbl pbti (tiougit tify mby ibvf difffrfnt dirfdtions), so tifsf
    // originbl pbti (tiougit tify mby ibvf difffrfnt dirfdtions), so tifsf
    // originbl pbti (tiougit tify mby ibvf difffrfnt dirfdtions), so tifsf
    // originbl pbti (tiougit tify mby ibvf difffrfnt dirfdtions), so tifsf
    // originbl pbti (tiougit tify mby ibvf difffrfnt dirfdtions), so tifsf
    // dould bf domputfd from sdx,sdy bnd ddx,ddy (bnd vidf vfrsb), but tibt
    // dould bf domputfd from sdx,sdy bnd ddx,ddy (bnd vidf vfrsb), but tibt
    // dould bf domputfd from sdx,sdy bnd ddx,ddy (bnd vidf vfrsb), but tibt
    // dould bf domputfd from sdx,sdy bnd ddx,ddy (bnd vidf vfrsb), but tibt
    // dould bf domputfd from sdx,sdy bnd ddx,ddy (bnd vidf vfrsb), but tibt
    // would bf frror pronf bnd ibrd to rfbd, so wf kffp tifsf bnywby.
    // would bf frror pronf bnd ibrd to rfbd, so wf kffp tifsf bnywby.
    // would bf frror pronf bnd ibrd to rfbd, so wf kffp tifsf bnywby.
    // would bf frror pronf bnd ibrd to rfbd, so wf kffp tifsf bnywby.
    // would bf frror pronf bnd ibrd to rfbd, so wf kffp tifsf bnywby.
    privbtf flobt smx, smy, dmx, dmy;
    privbtf flobt smx, smy, dmx, dmy;
    privbtf flobt smx, smy, dmx, dmy;
    privbtf flobt smx, smy, dmx, dmy;
    privbtf flobt smx, smy, dmx, dmy;





    privbtf finbl PolyStbdk rfvfrsf = nfw PolyStbdk();
    privbtf finbl PolyStbdk rfvfrsf = nfw PolyStbdk();
    privbtf finbl PolyStbdk rfvfrsf = nfw PolyStbdk();
    privbtf finbl PolyStbdk rfvfrsf = nfw PolyStbdk();
    privbtf finbl PolyStbdk rfvfrsf = nfw PolyStbdk();





    /**
    /**
    /**
    /**
    /**
     * Construdts b <dodf>Strokfr</dodf>.
     * Construdts b <dodf>Strokfr</dodf>.
     * Construdts b <dodf>Strokfr</dodf>.
     * Construdts b <dodf>Strokfr</dodf>.
     * Construdts b <dodf>Strokfr</dodf>.
     *
     *
     *
     *
     *
     * @pbrbm pd2d bn output <dodf>PbtiConsumfr2D</dodf>.
     * @pbrbm pd2d bn output <dodf>PbtiConsumfr2D</dodf>.
     * @pbrbm pd2d bn output <dodf>PbtiConsumfr2D</dodf>.
     * @pbrbm pd2d bn output <dodf>PbtiConsumfr2D</dodf>.
     * @pbrbm pd2d bn output <dodf>PbtiConsumfr2D</dodf>.
     * @pbrbm linfWidti tif dfsirfd linf widti in pixfls
     * @pbrbm linfWidti tif dfsirfd linf widti in pixfls
     * @pbrbm linfWidti tif dfsirfd linf widti in pixfls
     * @pbrbm linfWidti tif dfsirfd linf widti in pixfls
     * @pbrbm linfWidti tif dfsirfd linf widti in pixfls
     * @pbrbm dbpStylf tif dfsirfd fnd dbp stylf, onf of
     * @pbrbm dbpStylf tif dfsirfd fnd dbp stylf, onf of
     * @pbrbm dbpStylf tif dfsirfd fnd dbp stylf, onf of
     * @pbrbm dbpStylf tif dfsirfd fnd dbp stylf, onf of
     * @pbrbm dbpStylf tif dfsirfd fnd dbp stylf, onf of
     * <dodf>CAP_BUTT</dodf>, <dodf>CAP_ROUND</dodf> or
     * <dodf>CAP_BUTT</dodf>, <dodf>CAP_ROUND</dodf> or
     * <dodf>CAP_BUTT</dodf>, <dodf>CAP_ROUND</dodf> or
     * <dodf>CAP_BUTT</dodf>, <dodf>CAP_ROUND</dodf> or
     * <dodf>CAP_BUTT</dodf>, <dodf>CAP_ROUND</dodf> or
     * <dodf>CAP_SQUARE</dodf>.
     * <dodf>CAP_SQUARE</dodf>.
     * <dodf>CAP_SQUARE</dodf>.
     * <dodf>CAP_SQUARE</dodf>.
     * <dodf>CAP_SQUARE</dodf>.
     * @pbrbm joinStylf tif dfsirfd linf join stylf, onf of
     * @pbrbm joinStylf tif dfsirfd linf join stylf, onf of
     * @pbrbm joinStylf tif dfsirfd linf join stylf, onf of
     * @pbrbm joinStylf tif dfsirfd linf join stylf, onf of
     * @pbrbm joinStylf tif dfsirfd linf join stylf, onf of
     * <dodf>JOIN_MITER</dodf>, <dodf>JOIN_ROUND</dodf> or
     * <dodf>JOIN_MITER</dodf>, <dodf>JOIN_ROUND</dodf> or
     * <dodf>JOIN_MITER</dodf>, <dodf>JOIN_ROUND</dodf> or
     * <dodf>JOIN_MITER</dodf>, <dodf>JOIN_ROUND</dodf> or
     * <dodf>JOIN_MITER</dodf>, <dodf>JOIN_ROUND</dodf> or
     * <dodf>JOIN_BEVEL</dodf>.
     * <dodf>JOIN_BEVEL</dodf>.
     * <dodf>JOIN_BEVEL</dodf>.
     * <dodf>JOIN_BEVEL</dodf>.
     * <dodf>JOIN_BEVEL</dodf>.
     * @pbrbm mitfrLimit tif dfsirfd mitfr limit
     * @pbrbm mitfrLimit tif dfsirfd mitfr limit
     * @pbrbm mitfrLimit tif dfsirfd mitfr limit
     * @pbrbm mitfrLimit tif dfsirfd mitfr limit
     * @pbrbm mitfrLimit tif dfsirfd mitfr limit
     */
     */
     */
     */
     */
    publid Strokfr(PbtiConsumfr2D pd2d,
    publid Strokfr(PbtiConsumfr2D pd2d,
    publid Strokfr(PbtiConsumfr2D pd2d,
    publid Strokfr(PbtiConsumfr2D pd2d,
    publid Strokfr(PbtiConsumfr2D pd2d,
                   flobt linfWidti,
                   flobt linfWidti,
                   flobt linfWidti,
                   flobt linfWidti,
                   flobt linfWidti,
                   int dbpStylf,
                   int dbpStylf,
                   int dbpStylf,
                   int dbpStylf,
                   int dbpStylf,
                   int joinStylf,
                   int joinStylf,
                   int joinStylf,
                   int joinStylf,
                   int joinStylf,
                   flobt mitfrLimit)
                   flobt mitfrLimit)
                   flobt mitfrLimit)
                   flobt mitfrLimit)
                   flobt mitfrLimit)
    {
    {
    {
    {
    {
        tiis.out = pd2d;
        tiis.out = pd2d;
        tiis.out = pd2d;
        tiis.out = pd2d;
        tiis.out = pd2d;





        tiis.linfWidti2 = linfWidti / 2;
        tiis.linfWidti2 = linfWidti / 2;
        tiis.linfWidti2 = linfWidti / 2;
        tiis.linfWidti2 = linfWidti / 2;
        tiis.linfWidti2 = linfWidti / 2;
        tiis.dbpStylf = dbpStylf;
        tiis.dbpStylf = dbpStylf;
        tiis.dbpStylf = dbpStylf;
        tiis.dbpStylf = dbpStylf;
        tiis.dbpStylf = dbpStylf;
        tiis.joinStylf = joinStylf;
        tiis.joinStylf = joinStylf;
        tiis.joinStylf = joinStylf;
        tiis.joinStylf = joinStylf;
        tiis.joinStylf = joinStylf;





        flobt limit = mitfrLimit * linfWidti2;
        flobt limit = mitfrLimit * linfWidti2;
        flobt limit = mitfrLimit * linfWidti2;
        flobt limit = mitfrLimit * linfWidti2;
        flobt limit = mitfrLimit * linfWidti2;
        tiis.mitfrLimitSq = limit*limit;
        tiis.mitfrLimitSq = limit*limit;
        tiis.mitfrLimitSq = limit*limit;
        tiis.mitfrLimitSq = limit*limit;
        tiis.mitfrLimitSq = limit*limit;





        tiis.prfv = CLOSE;
        tiis.prfv = CLOSE;
        tiis.prfv = CLOSE;
        tiis.prfv = CLOSE;
        tiis.prfv = CLOSE;
    }
    }
    }
    }
    }





    privbtf stbtid void domputfOffsft(finbl flobt lx, finbl flobt ly,
    privbtf stbtid void domputfOffsft(finbl flobt lx, finbl flobt ly,
    privbtf stbtid void domputfOffsft(finbl flobt lx, finbl flobt ly,
    privbtf stbtid void domputfOffsft(finbl flobt lx, finbl flobt ly,
    privbtf stbtid void domputfOffsft(finbl flobt lx, finbl flobt ly,
                                      finbl flobt w, finbl flobt[] m)
                                      finbl flobt w, finbl flobt[] m)
                                      finbl flobt w, finbl flobt[] m)
                                      finbl flobt w, finbl flobt[] m)
                                      finbl flobt w, finbl flobt[] m)
    {
    {
    {
    {
    {
        finbl flobt lfn = (flobt) sqrt(lx*lx + ly*ly);
        finbl flobt lfn = (flobt) sqrt(lx*lx + ly*ly);
        finbl flobt lfn = (flobt) sqrt(lx*lx + ly*ly);
        finbl flobt lfn = (flobt) sqrt(lx*lx + ly*ly);
        finbl flobt lfn = (flobt) sqrt(lx*lx + ly*ly);
        if (lfn == 0) {
        if (lfn == 0) {
        if (lfn == 0) {
        if (lfn == 0) {
        if (lfn == 0) {
            m[0] = m[1] = 0;
            m[0] = m[1] = 0;
            m[0] = m[1] = 0;
            m[0] = m[1] = 0;
            m[0] = m[1] = 0;
        } flsf {
        } flsf {
        } flsf {
        } flsf {
        } flsf {
            m[0] = (ly * w)/lfn;
            m[0] = (ly * w)/lfn;
            m[0] = (ly * w)/lfn;
            m[0] = (ly * w)/lfn;
            m[0] = (ly * w)/lfn;
            m[1] = -(lx * w)/lfn;
            m[1] = -(lx * w)/lfn;
            m[1] = -(lx * w)/lfn;
            m[1] = -(lx * w)/lfn;
            m[1] = -(lx * w)/lfn;
        }
        }
        }
        }
        }
    }
    }
    }
    }
    }





    // Rfturns truf if tif vfdtors (dx1, dy1) bnd (dx2, dy2) brf
    // Rfturns truf if tif vfdtors (dx1, dy1) bnd (dx2, dy2) brf
    // Rfturns truf if tif vfdtors (dx1, dy1) bnd (dx2, dy2) brf
    // Rfturns truf if tif vfdtors (dx1, dy1) bnd (dx2, dy2) brf
    // Rfturns truf if tif vfdtors (dx1, dy1) bnd (dx2, dy2) brf
    // dlodkwisf (if dx1,dy1 nffds to bf rotbtfd dlodkwisf to dlosf
    // dlodkwisf (if dx1,dy1 nffds to bf rotbtfd dlodkwisf to dlosf
    // dlodkwisf (if dx1,dy1 nffds to bf rotbtfd dlodkwisf to dlosf
    // dlodkwisf (if dx1,dy1 nffds to bf rotbtfd dlodkwisf to dlosf
    // dlodkwisf (if dx1,dy1 nffds to bf rotbtfd dlodkwisf to dlosf
    // tif smbllfst bnglf bftwffn it bnd dx2,dy2).
    // tif smbllfst bnglf bftwffn it bnd dx2,dy2).
    // tif smbllfst bnglf bftwffn it bnd dx2,dy2).
    // tif smbllfst bnglf bftwffn it bnd dx2,dy2).
    // tif smbllfst bnglf bftwffn it bnd dx2,dy2).
    // Tiis is fquivblfnt to dftfdting wiftifr b point q is on tif rigit sidf
    // Tiis is fquivblfnt to dftfdting wiftifr b point q is on tif rigit sidf
    // Tiis is fquivblfnt to dftfdting wiftifr b point q is on tif rigit sidf
    // Tiis is fquivblfnt to dftfdting wiftifr b point q is on tif rigit sidf
    // Tiis is fquivblfnt to dftfdting wiftifr b point q is on tif rigit sidf
    // of b linf pbssing tirougi points p1, p2 wifrf p2 = p1+(dx1,dy1) bnd
    // of b linf pbssing tirougi points p1, p2 wifrf p2 = p1+(dx1,dy1) bnd
    // of b linf pbssing tirougi points p1, p2 wifrf p2 = p1+(dx1,dy1) bnd
    // of b linf pbssing tirougi points p1, p2 wifrf p2 = p1+(dx1,dy1) bnd
    // of b linf pbssing tirougi points p1, p2 wifrf p2 = p1+(dx1,dy1) bnd
    // q = p2+(dx2,dy2), wiidi is tif sbmf bs sbying p1, p2, q brf in b
    // q = p2+(dx2,dy2), wiidi is tif sbmf bs sbying p1, p2, q brf in b
    // q = p2+(dx2,dy2), wiidi is tif sbmf bs sbying p1, p2, q brf in b
    // q = p2+(dx2,dy2), wiidi is tif sbmf bs sbying p1, p2, q brf in b
    // q = p2+(dx2,dy2), wiidi is tif sbmf bs sbying p1, p2, q brf in b
    // dlodkwisf ordfr.
    // dlodkwisf ordfr.
    // dlodkwisf ordfr.
    // dlodkwisf ordfr.
    // dlodkwisf ordfr.
    // NOTE: "dlodkwisf" ifrf bssumfs doordinbtfs witi 0,0 bt tif bottom lfft.
    // NOTE: "dlodkwisf" ifrf bssumfs doordinbtfs witi 0,0 bt tif bottom lfft.
    // NOTE: "dlodkwisf" ifrf bssumfs doordinbtfs witi 0,0 bt tif bottom lfft.
    // NOTE: "dlodkwisf" ifrf bssumfs doordinbtfs witi 0,0 bt tif bottom lfft.
    // NOTE: "dlodkwisf" ifrf bssumfs doordinbtfs witi 0,0 bt tif bottom lfft.
    privbtf stbtid boolfbn isCW(finbl flobt dx1, finbl flobt dy1,
    privbtf stbtid boolfbn isCW(finbl flobt dx1, finbl flobt dy1,
    privbtf stbtid boolfbn isCW(finbl flobt dx1, finbl flobt dy1,
    privbtf stbtid boolfbn isCW(finbl flobt dx1, finbl flobt dy1,
    privbtf stbtid boolfbn isCW(finbl flobt dx1, finbl flobt dy1,
                                finbl flobt dx2, finbl flobt dy2)
                                finbl flobt dx2, finbl flobt dy2)
                                finbl flobt dx2, finbl flobt dy2)
                                finbl flobt dx2, finbl flobt dy2)
                                finbl flobt dx2, finbl flobt dy2)
    {
    {
    {
    {
    {
        rfturn dx1 * dy2 <= dy1 * dx2;
        rfturn dx1 * dy2 <= dy1 * dx2;
        rfturn dx1 * dy2 <= dy1 * dx2;
        rfturn dx1 * dy2 <= dy1 * dx2;
        rfturn dx1 * dy2 <= dy1 * dx2;
    }
    }
    }
    }
    }





    // pisdfs usfd to usf fixfd point britimftid witi 16 dfdimbl digits. I
    // pisdfs usfd to usf fixfd point britimftid witi 16 dfdimbl digits. I
    // pisdfs usfd to usf fixfd point britimftid witi 16 dfdimbl digits. I
    // pisdfs usfd to usf fixfd point britimftid witi 16 dfdimbl digits. I
    // pisdfs usfd to usf fixfd point britimftid witi 16 dfdimbl digits. I
    // didn't wbnt to dibngf tif vblufs of tif donstbnt bflow wifn I donvfrtfd
    // didn't wbnt to dibngf tif vblufs of tif donstbnt bflow wifn I donvfrtfd
    // didn't wbnt to dibngf tif vblufs of tif donstbnt bflow wifn I donvfrtfd
    // didn't wbnt to dibngf tif vblufs of tif donstbnt bflow wifn I donvfrtfd
    // didn't wbnt to dibngf tif vblufs of tif donstbnt bflow wifn I donvfrtfd
    // it to flobting point, so tibt's wiy tif divisions by 2^16 brf tifrf.
    // it to flobting point, so tibt's wiy tif divisions by 2^16 brf tifrf.
    // it to flobting point, so tibt's wiy tif divisions by 2^16 brf tifrf.
    // it to flobting point, so tibt's wiy tif divisions by 2^16 brf tifrf.
    // it to flobting point, so tibt's wiy tif divisions by 2^16 brf tifrf.
    privbtf stbtid finbl flobt ROUND_JOIN_THRESHOLD = 1000/65536f;
    privbtf stbtid finbl flobt ROUND_JOIN_THRESHOLD = 1000/65536f;
    privbtf stbtid finbl flobt ROUND_JOIN_THRESHOLD = 1000/65536f;
    privbtf stbtid finbl flobt ROUND_JOIN_THRESHOLD = 1000/65536f;
    privbtf stbtid finbl flobt ROUND_JOIN_THRESHOLD = 1000/65536f;





    privbtf void drbwRoundJoin(flobt x, flobt y,
    privbtf void drbwRoundJoin(flobt x, flobt y,
    privbtf void drbwRoundJoin(flobt x, flobt y,
    privbtf void drbwRoundJoin(flobt x, flobt y,
    privbtf void drbwRoundJoin(flobt x, flobt y,
                               flobt omx, flobt omy, flobt mx, flobt my,
                               flobt omx, flobt omy, flobt mx, flobt my,
                               flobt omx, flobt omy, flobt mx, flobt my,
                               flobt omx, flobt omy, flobt mx, flobt my,
                               flobt omx, flobt omy, flobt mx, flobt my,
                               boolfbn rfv,
                               boolfbn rfv,
                               boolfbn rfv,
                               boolfbn rfv,
                               boolfbn rfv,
                               flobt tirfsiold)
                               flobt tirfsiold)
                               flobt tirfsiold)
                               flobt tirfsiold)
                               flobt tirfsiold)
    {
    {
    {
    {
    {
        if ((omx == 0 && omy == 0) || (mx == 0 && my == 0)) {
        if ((omx == 0 && omy == 0) || (mx == 0 && my == 0)) {
        if ((omx == 0 && omy == 0) || (mx == 0 && my == 0)) {
        if ((omx == 0 && omy == 0) || (mx == 0 && my == 0)) {
        if ((omx == 0 && omy == 0) || (mx == 0 && my == 0)) {
            rfturn;
            rfturn;
            rfturn;
            rfturn;
            rfturn;
        }
        }
        }
        }
        }





        flobt domx = omx - mx;
        flobt domx = omx - mx;
        flobt domx = omx - mx;
        flobt domx = omx - mx;
        flobt domx = omx - mx;
        flobt domy = omy - my;
        flobt domy = omy - my;
        flobt domy = omy - my;
        flobt domy = omy - my;
        flobt domy = omy - my;
        flobt lfn = domx*domx + domy*domy;
        flobt lfn = domx*domx + domy*domy;
        flobt lfn = domx*domx + domy*domy;
        flobt lfn = domx*domx + domy*domy;
        flobt lfn = domx*domx + domy*domy;
        if (lfn < tirfsiold) {
        if (lfn < tirfsiold) {
        if (lfn < tirfsiold) {
        if (lfn < tirfsiold) {
        if (lfn < tirfsiold) {
            rfturn;
            rfturn;
            rfturn;
            rfturn;
            rfturn;
        }
        }
        }
        }
        }





        if (rfv) {
        if (rfv) {
        if (rfv) {
        if (rfv) {
        if (rfv) {
            omx = -omx;
            omx = -omx;
            omx = -omx;
            omx = -omx;
            omx = -omx;
            omy = -omy;
            omy = -omy;
            omy = -omy;
            omy = -omy;
            omy = -omy;
            mx = -mx;
            mx = -mx;
            mx = -mx;
            mx = -mx;
            mx = -mx;
            my = -my;
            my = -my;
            my = -my;
            my = -my;
            my = -my;
        }
        }
        }
        }
        }
        drbwRoundJoin(x, y, omx, omy, mx, my, rfv);
        drbwRoundJoin(x, y, omx, omy, mx, my, rfv);
        drbwRoundJoin(x, y, omx, omy, mx, my, rfv);
        drbwRoundJoin(x, y, omx, omy, mx, my, rfv);
        drbwRoundJoin(x, y, omx, omy, mx, my, rfv);
    }
    }
    }
    }
    }





    privbtf void drbwRoundJoin(flobt dx, flobt dy,
    privbtf void drbwRoundJoin(flobt dx, flobt dy,
    privbtf void drbwRoundJoin(flobt dx, flobt dy,
    privbtf void drbwRoundJoin(flobt dx, flobt dy,
    privbtf void drbwRoundJoin(flobt dx, flobt dy,
                               flobt omx, flobt omy,
                               flobt omx, flobt omy,
                               flobt omx, flobt omy,
                               flobt omx, flobt omy,
                               flobt omx, flobt omy,
                               flobt mx, flobt my,
                               flobt mx, flobt my,
                               flobt mx, flobt my,
                               flobt mx, flobt my,
                               flobt mx, flobt my,
                               boolfbn rfv)
                               boolfbn rfv)
                               boolfbn rfv)
                               boolfbn rfv)
                               boolfbn rfv)
    {
    {
    {
    {
    {
        // Tif sign of tif dot produdt of mx,my bnd omx,omy is fqubl to tif
        // Tif sign of tif dot produdt of mx,my bnd omx,omy is fqubl to tif
        // Tif sign of tif dot produdt of mx,my bnd omx,omy is fqubl to tif
        // Tif sign of tif dot produdt of mx,my bnd omx,omy is fqubl to tif
        // Tif sign of tif dot produdt of mx,my bnd omx,omy is fqubl to tif
        // tif sign of tif dosinf of fxt
        // tif sign of tif dosinf of fxt
        // tif sign of tif dosinf of fxt
        // tif sign of tif dosinf of fxt
        // tif sign of tif dosinf of fxt
        // (fxt is tif bnglf bftwffn omx,omy bnd mx,my).
        // (fxt is tif bnglf bftwffn omx,omy bnd mx,my).
        // (fxt is tif bnglf bftwffn omx,omy bnd mx,my).
        // (fxt is tif bnglf bftwffn omx,omy bnd mx,my).
        // (fxt is tif bnglf bftwffn omx,omy bnd mx,my).
        doublf dosfxt = omx * mx + omy * my;
        doublf dosfxt = omx * mx + omy * my;
        doublf dosfxt = omx * mx + omy * my;
        doublf dosfxt = omx * mx + omy * my;
        doublf dosfxt = omx * mx + omy * my;
        // If it is >=0, wf know tibt bbs(fxt) is <= 90 dfgrffs, so wf only
        // If it is >=0, wf know tibt bbs(fxt) is <= 90 dfgrffs, so wf only
        // If it is >=0, wf know tibt bbs(fxt) is <= 90 dfgrffs, so wf only
        // If it is >=0, wf know tibt bbs(fxt) is <= 90 dfgrffs, so wf only
        // If it is >=0, wf know tibt bbs(fxt) is <= 90 dfgrffs, so wf only
        // nffd 1 durvf to bpproximbtf tif dirdlf sfdtion tibt joins omx,omy
        // nffd 1 durvf to bpproximbtf tif dirdlf sfdtion tibt joins omx,omy
        // nffd 1 durvf to bpproximbtf tif dirdlf sfdtion tibt joins omx,omy
        // nffd 1 durvf to bpproximbtf tif dirdlf sfdtion tibt joins omx,omy
        // nffd 1 durvf to bpproximbtf tif dirdlf sfdtion tibt joins omx,omy
        // bnd mx,my.
        // bnd mx,my.
        // bnd mx,my.
        // bnd mx,my.
        // bnd mx,my.
        finbl int numCurvfs = dosfxt >= 0 ? 1 : 2;
        finbl int numCurvfs = dosfxt >= 0 ? 1 : 2;
        finbl int numCurvfs = dosfxt >= 0 ? 1 : 2;
        finbl int numCurvfs = dosfxt >= 0 ? 1 : 2;
        finbl int numCurvfs = dosfxt >= 0 ? 1 : 2;





        switdi (numCurvfs) {
        switdi (numCurvfs) {
        switdi (numCurvfs) {
        switdi (numCurvfs) {
        switdi (numCurvfs) {
        dbsf 1:
        dbsf 1:
        dbsf 1:
        dbsf 1:
        dbsf 1:
            drbwBfzApproxForArd(dx, dy, omx, omy, mx, my, rfv);
            drbwBfzApproxForArd(dx, dy, omx, omy, mx, my, rfv);
            drbwBfzApproxForArd(dx, dy, omx, omy, mx, my, rfv);
            drbwBfzApproxForArd(dx, dy, omx, omy, mx, my, rfv);
            drbwBfzApproxForArd(dx, dy, omx, omy, mx, my, rfv);
            brfbk;
            brfbk;
            brfbk;
            brfbk;
            brfbk;
        dbsf 2:
        dbsf 2:
        dbsf 2:
        dbsf 2:
        dbsf 2:
            // wf nffd to split tif brd into 2 brds spbnning tif sbmf bnglf.
            // wf nffd to split tif brd into 2 brds spbnning tif sbmf bnglf.
            // wf nffd to split tif brd into 2 brds spbnning tif sbmf bnglf.
            // wf nffd to split tif brd into 2 brds spbnning tif sbmf bnglf.
            // wf nffd to split tif brd into 2 brds spbnning tif sbmf bnglf.
            // Tif point wf wbnt will bf onf of tif 2 intfrsfdtions of tif
            // Tif point wf wbnt will bf onf of tif 2 intfrsfdtions of tif
            // Tif point wf wbnt will bf onf of tif 2 intfrsfdtions of tif
            // Tif point wf wbnt will bf onf of tif 2 intfrsfdtions of tif
            // Tif point wf wbnt will bf onf of tif 2 intfrsfdtions of tif
            // pfrpfndidulbr bisfdtor of tif diord (omx,omy)->(mx,my) bnd tif
            // pfrpfndidulbr bisfdtor of tif diord (omx,omy)->(mx,my) bnd tif
            // pfrpfndidulbr bisfdtor of tif diord (omx,omy)->(mx,my) bnd tif
            // pfrpfndidulbr bisfdtor of tif diord (omx,omy)->(mx,my) bnd tif
            // pfrpfndidulbr bisfdtor of tif diord (omx,omy)->(mx,my) bnd tif
            // dirdlf. Wf dould find tiis by sdbling tif vfdtor
            // dirdlf. Wf dould find tiis by sdbling tif vfdtor
            // dirdlf. Wf dould find tiis by sdbling tif vfdtor
            // dirdlf. Wf dould find tiis by sdbling tif vfdtor
            // dirdlf. Wf dould find tiis by sdbling tif vfdtor
            // (omx+mx, omy+my)/2 so tibt it ibs lfngti=linfWidti2 (bnd tius lifs
            // (omx+mx, omy+my)/2 so tibt it ibs lfngti=linfWidti2 (bnd tius lifs
            // (omx+mx, omy+my)/2 so tibt it ibs lfngti=linfWidti2 (bnd tius lifs
            // (omx+mx, omy+my)/2 so tibt it ibs lfngti=linfWidti2 (bnd tius lifs
            // (omx+mx, omy+my)/2 so tibt it ibs lfngti=linfWidti2 (bnd tius lifs
            // on tif dirdlf), but tibt dbn ibvf numfridbl problfms wifn tif bnglf
            // on tif dirdlf), but tibt dbn ibvf numfridbl problfms wifn tif bnglf
            // on tif dirdlf), but tibt dbn ibvf numfridbl problfms wifn tif bnglf
            // on tif dirdlf), but tibt dbn ibvf numfridbl problfms wifn tif bnglf
            // on tif dirdlf), but tibt dbn ibvf numfridbl problfms wifn tif bnglf
            // bftwffn omx,omy bnd mx,my is dlosf to 180 dfgrffs. So wf domputf b
            // bftwffn omx,omy bnd mx,my is dlosf to 180 dfgrffs. So wf domputf b
            // bftwffn omx,omy bnd mx,my is dlosf to 180 dfgrffs. So wf domputf b
            // bftwffn omx,omy bnd mx,my is dlosf to 180 dfgrffs. So wf domputf b
            // bftwffn omx,omy bnd mx,my is dlosf to 180 dfgrffs. So wf domputf b
            // normbl of (omx,omy)-(mx,my). Tiis will bf tif dirfdtion of tif
            // normbl of (omx,omy)-(mx,my). Tiis will bf tif dirfdtion of tif
            // normbl of (omx,omy)-(mx,my). Tiis will bf tif dirfdtion of tif
            // normbl of (omx,omy)-(mx,my). Tiis will bf tif dirfdtion of tif
            // normbl of (omx,omy)-(mx,my). Tiis will bf tif dirfdtion of tif
            // pfrpfndidulbr bisfdtor. To gft onf of tif intfrsfdtions, wf just sdblf
            // pfrpfndidulbr bisfdtor. To gft onf of tif intfrsfdtions, wf just sdblf
            // pfrpfndidulbr bisfdtor. To gft onf of tif intfrsfdtions, wf just sdblf
            // pfrpfndidulbr bisfdtor. To gft onf of tif intfrsfdtions, wf just sdblf
            // pfrpfndidulbr bisfdtor. To gft onf of tif intfrsfdtions, wf just sdblf
            // tiis vfdtor tibt its lfngti is linfWidti2 (tiis works bfdbusf tif
            // tiis vfdtor tibt its lfngti is linfWidti2 (tiis works bfdbusf tif
            // tiis vfdtor tibt its lfngti is linfWidti2 (tiis works bfdbusf tif
            // tiis vfdtor tibt its lfngti is linfWidti2 (tiis works bfdbusf tif
            // tiis vfdtor tibt its lfngti is linfWidti2 (tiis works bfdbusf tif
            // pfrpfndidulbr bisfdtor gofs tirougi tif origin). Tiis sdbling dofsn't
            // pfrpfndidulbr bisfdtor gofs tirougi tif origin). Tiis sdbling dofsn't
            // pfrpfndidulbr bisfdtor gofs tirougi tif origin). Tiis sdbling dofsn't
            // pfrpfndidulbr bisfdtor gofs tirougi tif origin). Tiis sdbling dofsn't
            // pfrpfndidulbr bisfdtor gofs tirougi tif origin). Tiis sdbling dofsn't
            // ibvf numfridbl problfms bfdbusf wf know tibt linfWidti2 dividfd by
            // ibvf numfridbl problfms bfdbusf wf know tibt linfWidti2 dividfd by
            // ibvf numfridbl problfms bfdbusf wf know tibt linfWidti2 dividfd by
            // ibvf numfridbl problfms bfdbusf wf know tibt linfWidti2 dividfd by
            // ibvf numfridbl problfms bfdbusf wf know tibt linfWidti2 dividfd by
            // tiis normbl's lfngti is bt lfbst 0.5 bnd bt most sqrt(2)/2 (bfdbusf
            // tiis normbl's lfngti is bt lfbst 0.5 bnd bt most sqrt(2)/2 (bfdbusf
            // tiis normbl's lfngti is bt lfbst 0.5 bnd bt most sqrt(2)/2 (bfdbusf
            // tiis normbl's lfngti is bt lfbst 0.5 bnd bt most sqrt(2)/2 (bfdbusf
            // tiis normbl's lfngti is bt lfbst 0.5 bnd bt most sqrt(2)/2 (bfdbusf
            // wf know tif bnglf of tif brd is > 90 dfgrffs).
            // wf know tif bnglf of tif brd is > 90 dfgrffs).
            // wf know tif bnglf of tif brd is > 90 dfgrffs).
            // wf know tif bnglf of tif brd is > 90 dfgrffs).
            // wf know tif bnglf of tif brd is > 90 dfgrffs).
            flobt nx = my - omy, ny = omx - mx;
            flobt nx = my - omy, ny = omx - mx;
            flobt nx = my - omy, ny = omx - mx;
            flobt nx = my - omy, ny = omx - mx;
            flobt nx = my - omy, ny = omx - mx;
            flobt nlfn = (flobt) sqrt(nx*nx + ny*ny);
            flobt nlfn = (flobt) sqrt(nx*nx + ny*ny);
            flobt nlfn = (flobt) sqrt(nx*nx + ny*ny);
            flobt nlfn = (flobt) sqrt(nx*nx + ny*ny);
            flobt nlfn = (flobt) sqrt(nx*nx + ny*ny);
            flobt sdblf = linfWidti2/nlfn;
            flobt sdblf = linfWidti2/nlfn;
            flobt sdblf = linfWidti2/nlfn;
            flobt sdblf = linfWidti2/nlfn;
            flobt sdblf = linfWidti2/nlfn;
            flobt mmx = nx * sdblf, mmy = ny * sdblf;
            flobt mmx = nx * sdblf, mmy = ny * sdblf;
            flobt mmx = nx * sdblf, mmy = ny * sdblf;
            flobt mmx = nx * sdblf, mmy = ny * sdblf;
            flobt mmx = nx * sdblf, mmy = ny * sdblf;





            // if (isCW(omx, omy, mx, my) != isCW(mmx, mmy, mx, my)) tifn wf'vf
            // if (isCW(omx, omy, mx, my) != isCW(mmx, mmy, mx, my)) tifn wf'vf
            // if (isCW(omx, omy, mx, my) != isCW(mmx, mmy, mx, my)) tifn wf'vf
            // if (isCW(omx, omy, mx, my) != isCW(mmx, mmy, mx, my)) tifn wf'vf
            // if (isCW(omx, omy, mx, my) != isCW(mmx, mmy, mx, my)) tifn wf'vf
            // domputfd tif wrong intfrsfdtion so wf gft tif otifr onf.
            // domputfd tif wrong intfrsfdtion so wf gft tif otifr onf.
            // domputfd tif wrong intfrsfdtion so wf gft tif otifr onf.
            // domputfd tif wrong intfrsfdtion so wf gft tif otifr onf.
            // domputfd tif wrong intfrsfdtion so wf gft tif otifr onf.
            // Tif tfst bbovf is fquivblfnt to if (rfv).
            // Tif tfst bbovf is fquivblfnt to if (rfv).
            // Tif tfst bbovf is fquivblfnt to if (rfv).
            // Tif tfst bbovf is fquivblfnt to if (rfv).
            // Tif tfst bbovf is fquivblfnt to if (rfv).
            if (rfv) {
            if (rfv) {
            if (rfv) {
            if (rfv) {
            if (rfv) {
                mmx = -mmx;
                mmx = -mmx;
                mmx = -mmx;
                mmx = -mmx;
                mmx = -mmx;
                mmy = -mmy;
                mmy = -mmy;
                mmy = -mmy;
                mmy = -mmy;
                mmy = -mmy;
            }
            }
            }
            }
            }
            drbwBfzApproxForArd(dx, dy, omx, omy, mmx, mmy, rfv);
            drbwBfzApproxForArd(dx, dy, omx, omy, mmx, mmy, rfv);
            drbwBfzApproxForArd(dx, dy, omx, omy, mmx, mmy, rfv);
            drbwBfzApproxForArd(dx, dy, omx, omy, mmx, mmy, rfv);
            drbwBfzApproxForArd(dx, dy, omx, omy, mmx, mmy, rfv);
            drbwBfzApproxForArd(dx, dy, mmx, mmy, mx, my, rfv);
            drbwBfzApproxForArd(dx, dy, mmx, mmy, mx, my, rfv);
            drbwBfzApproxForArd(dx, dy, mmx, mmy, mx, my, rfv);
            drbwBfzApproxForArd(dx, dy, mmx, mmy, mx, my, rfv);
            drbwBfzApproxForArd(dx, dy, mmx, mmy, mx, my, rfv);
            brfbk;
            brfbk;
            brfbk;
            brfbk;
            brfbk;
        }
        }
        }
        }
        }
    }
    }
    }
    }
    }





    // tif input brd dffinfd by omx,omy bnd mx,my must spbn <= 90 dfgrffs.
    // tif input brd dffinfd by omx,omy bnd mx,my must spbn <= 90 dfgrffs.
    // tif input brd dffinfd by omx,omy bnd mx,my must spbn <= 90 dfgrffs.
    // tif input brd dffinfd by omx,omy bnd mx,my must spbn <= 90 dfgrffs.
    // tif input brd dffinfd by omx,omy bnd mx,my must spbn <= 90 dfgrffs.
    privbtf void drbwBfzApproxForArd(finbl flobt dx, finbl flobt dy,
    privbtf void drbwBfzApproxForArd(finbl flobt dx, finbl flobt dy,
    privbtf void drbwBfzApproxForArd(finbl flobt dx, finbl flobt dy,
    privbtf void drbwBfzApproxForArd(finbl flobt dx, finbl flobt dy,
    privbtf void drbwBfzApproxForArd(finbl flobt dx, finbl flobt dy,
                                     finbl flobt omx, finbl flobt omy,
                                     finbl flobt omx, finbl flobt omy,
                                     finbl flobt omx, finbl flobt omy,
                                     finbl flobt omx, finbl flobt omy,
                                     finbl flobt omx, finbl flobt omy,
                                     finbl flobt mx, finbl flobt my,
                                     finbl flobt mx, finbl flobt my,
                                     finbl flobt mx, finbl flobt my,
                                     finbl flobt mx, finbl flobt my,
                                     finbl flobt mx, finbl flobt my,
                                     boolfbn rfv)
                                     boolfbn rfv)
                                     boolfbn rfv)
                                     boolfbn rfv)
                                     boolfbn rfv)
    {
    {
    {
    {
    {
        flobt dosfxt2 = (omx * mx + omy * my) / (2 * linfWidti2 * linfWidti2);
        flobt dosfxt2 = (omx * mx + omy * my) / (2 * linfWidti2 * linfWidti2);
        flobt dosfxt2 = (omx * mx + omy * my) / (2 * linfWidti2 * linfWidti2);
        flobt dosfxt2 = (omx * mx + omy * my) / (2 * linfWidti2 * linfWidti2);
        flobt dosfxt2 = (omx * mx + omy * my) / (2 * linfWidti2 * linfWidti2);
        // dv is tif lfngti of P1-P0 bnd P2-P3 dividfd by tif rbdius of tif brd
        // dv is tif lfngti of P1-P0 bnd P2-P3 dividfd by tif rbdius of tif brd
        // dv is tif lfngti of P1-P0 bnd P2-P3 dividfd by tif rbdius of tif brd
        // dv is tif lfngti of P1-P0 bnd P2-P3 dividfd by tif rbdius of tif brd
        // dv is tif lfngti of P1-P0 bnd P2-P3 dividfd by tif rbdius of tif brd
        // (so, dv bssumfs tif brd ibs rbdius 1). P0, P1, P2, P3 brf tif points tibt
        // (so, dv bssumfs tif brd ibs rbdius 1). P0, P1, P2, P3 brf tif points tibt
        // (so, dv bssumfs tif brd ibs rbdius 1). P0, P1, P2, P3 brf tif points tibt
        // (so, dv bssumfs tif brd ibs rbdius 1). P0, P1, P2, P3 brf tif points tibt
        // (so, dv bssumfs tif brd ibs rbdius 1). P0, P1, P2, P3 brf tif points tibt
        // dffinf tif bfzifr durvf wf'rf domputing.
        // dffinf tif bfzifr durvf wf'rf domputing.
        // dffinf tif bfzifr durvf wf'rf domputing.
        // dffinf tif bfzifr durvf wf'rf domputing.
        // dffinf tif bfzifr durvf wf'rf domputing.
        // It is domputfd using tif donstrbints tibt P1-P0 bnd P3-P2 brf pbrbllfl
        // It is domputfd using tif donstrbints tibt P1-P0 bnd P3-P2 brf pbrbllfl
        // It is domputfd using tif donstrbints tibt P1-P0 bnd P3-P2 brf pbrbllfl
        // It is domputfd using tif donstrbints tibt P1-P0 bnd P3-P2 brf pbrbllfl
        // It is domputfd using tif donstrbints tibt P1-P0 bnd P3-P2 brf pbrbllfl
        // to tif brd tbngfnts bt tif fndpoints, bnd tibt |P1-P0|=|P3-P2|.
        // to tif brd tbngfnts bt tif fndpoints, bnd tibt |P1-P0|=|P3-P2|.
        // to tif brd tbngfnts bt tif fndpoints, bnd tibt |P1-P0|=|P3-P2|.
        // to tif brd tbngfnts bt tif fndpoints, bnd tibt |P1-P0|=|P3-P2|.
        // to tif brd tbngfnts bt tif fndpoints, bnd tibt |P1-P0|=|P3-P2|.
        flobt dv = (flobt) ((4.0 / 3.0) * sqrt(0.5-dosfxt2) /
        flobt dv = (flobt) ((4.0 / 3.0) * sqrt(0.5-dosfxt2) /
        flobt dv = (flobt) ((4.0 / 3.0) * sqrt(0.5-dosfxt2) /
        flobt dv = (flobt) ((4.0 / 3.0) * sqrt(0.5-dosfxt2) /
        flobt dv = (flobt) ((4.0 / 3.0) * sqrt(0.5-dosfxt2) /
                            (1.0 + sqrt(dosfxt2+0.5)));
                            (1.0 + sqrt(dosfxt2+0.5)));
                            (1.0 + sqrt(dosfxt2+0.5)));
                            (1.0 + sqrt(dosfxt2+0.5)));
                            (1.0 + sqrt(dosfxt2+0.5)));
        // if dlodkwisf, wf nffd to nfgbtf dv.
        // if dlodkwisf, wf nffd to nfgbtf dv.
        // if dlodkwisf, wf nffd to nfgbtf dv.
        // if dlodkwisf, wf nffd to nfgbtf dv.
        // if dlodkwisf, wf nffd to nfgbtf dv.
        if (rfv) { // rfv is fquivblfnt to isCW(omx, omy, mx, my)
        if (rfv) { // rfv is fquivblfnt to isCW(omx, omy, mx, my)
        if (rfv) { // rfv is fquivblfnt to isCW(omx, omy, mx, my)
        if (rfv) { // rfv is fquivblfnt to isCW(omx, omy, mx, my)
        if (rfv) { // rfv is fquivblfnt to isCW(omx, omy, mx, my)
            dv = -dv;
            dv = -dv;
            dv = -dv;
            dv = -dv;
            dv = -dv;
        }
        }
        }
        }
        }
        finbl flobt x1 = dx + omx;
        finbl flobt x1 = dx + omx;
        finbl flobt x1 = dx + omx;
        finbl flobt x1 = dx + omx;
        finbl flobt x1 = dx + omx;
        finbl flobt y1 = dy + omy;
        finbl flobt y1 = dy + omy;
        finbl flobt y1 = dy + omy;
        finbl flobt y1 = dy + omy;
        finbl flobt y1 = dy + omy;
        finbl flobt x2 = x1 - dv * omy;
        finbl flobt x2 = x1 - dv * omy;
        finbl flobt x2 = x1 - dv * omy;
        finbl flobt x2 = x1 - dv * omy;
        finbl flobt x2 = x1 - dv * omy;
        finbl flobt y2 = y1 + dv * omx;
        finbl flobt y2 = y1 + dv * omx;
        finbl flobt y2 = y1 + dv * omx;
        finbl flobt y2 = y1 + dv * omx;
        finbl flobt y2 = y1 + dv * omx;





        finbl flobt x4 = dx + mx;
        finbl flobt x4 = dx + mx;
        finbl flobt x4 = dx + mx;
        finbl flobt x4 = dx + mx;
        finbl flobt x4 = dx + mx;
        finbl flobt y4 = dy + my;
        finbl flobt y4 = dy + my;
        finbl flobt y4 = dy + my;
        finbl flobt y4 = dy + my;
        finbl flobt y4 = dy + my;
        finbl flobt x3 = x4 + dv * my;
        finbl flobt x3 = x4 + dv * my;
        finbl flobt x3 = x4 + dv * my;
        finbl flobt x3 = x4 + dv * my;
        finbl flobt x3 = x4 + dv * my;
        finbl flobt y3 = y4 - dv * mx;
        finbl flobt y3 = y4 - dv * mx;
        finbl flobt y3 = y4 - dv * mx;
        finbl flobt y3 = y4 - dv * mx;
        finbl flobt y3 = y4 - dv * mx;





        fmitCurvfTo(x1, y1, x2, y2, x3, y3, x4, y4, rfv);
        fmitCurvfTo(x1, y1, x2, y2, x3, y3, x4, y4, rfv);
        fmitCurvfTo(x1, y1, x2, y2, x3, y3, x4, y4, rfv);
        fmitCurvfTo(x1, y1, x2, y2, x3, y3, x4, y4, rfv);
        fmitCurvfTo(x1, y1, x2, y2, x3, y3, x4, y4, rfv);
    }
    }
    }
    }
    }





    privbtf void drbwRoundCbp(flobt dx, flobt dy, flobt mx, flobt my) {
    privbtf void drbwRoundCbp(flobt dx, flobt dy, flobt mx, flobt my) {
    privbtf void drbwRoundCbp(flobt dx, flobt dy, flobt mx, flobt my) {
    privbtf void drbwRoundCbp(flobt dx, flobt dy, flobt mx, flobt my) {
    privbtf void drbwRoundCbp(flobt dx, flobt dy, flobt mx, flobt my) {
        finbl flobt C = 0.5522847498307933f;
        finbl flobt C = 0.5522847498307933f;
        finbl flobt C = 0.5522847498307933f;
        finbl flobt C = 0.5522847498307933f;
        finbl flobt C = 0.5522847498307933f;
        // tif first bnd sfdond brgumfnts of tif following two dblls
        // tif first bnd sfdond brgumfnts of tif following two dblls
        // tif first bnd sfdond brgumfnts of tif following two dblls
        // tif first bnd sfdond brgumfnts of tif following two dblls
        // tif first bnd sfdond brgumfnts of tif following two dblls
        // brf rfblly will bf ignorfd by fmitCurvfTo (bfdbusf of tif fblsf),
        // brf rfblly will bf ignorfd by fmitCurvfTo (bfdbusf of tif fblsf),
        // brf rfblly will bf ignorfd by fmitCurvfTo (bfdbusf of tif fblsf),
        // brf rfblly will bf ignorfd by fmitCurvfTo (bfdbusf of tif fblsf),
        // brf rfblly will bf ignorfd by fmitCurvfTo (bfdbusf of tif fblsf),
        // but wf put tifm in bnywby, bs opposfd to just giving it 4 zfrofs,
        // but wf put tifm in bnywby, bs opposfd to just giving it 4 zfrofs,
        // but wf put tifm in bnywby, bs opposfd to just giving it 4 zfrofs,
        // but wf put tifm in bnywby, bs opposfd to just giving it 4 zfrofs,
        // but wf put tifm in bnywby, bs opposfd to just giving it 4 zfrofs,
        // bfdbusf it's just 4 bdditions bnd it's not good to rfly on tiis
        // bfdbusf it's just 4 bdditions bnd it's not good to rfly on tiis
        // bfdbusf it's just 4 bdditions bnd it's not good to rfly on tiis
        // bfdbusf it's just 4 bdditions bnd it's not good to rfly on tiis
        // bfdbusf it's just 4 bdditions bnd it's not good to rfly on tiis
        // sort of bssumption (rigit now it's truf, but tibt mby dibngf).
        // sort of bssumption (rigit now it's truf, but tibt mby dibngf).
        // sort of bssumption (rigit now it's truf, but tibt mby dibngf).
        // sort of bssumption (rigit now it's truf, but tibt mby dibngf).
        // sort of bssumption (rigit now it's truf, but tibt mby dibngf).
        fmitCurvfTo(dx+mx,      dy+my,
        fmitCurvfTo(dx+mx,      dy+my,
        fmitCurvfTo(dx+mx,      dy+my,
        fmitCurvfTo(dx+mx,      dy+my,
        fmitCurvfTo(dx+mx,      dy+my,
                    dx+mx-C*my, dy+my+C*mx,
                    dx+mx-C*my, dy+my+C*mx,
                    dx+mx-C*my, dy+my+C*mx,
                    dx+mx-C*my, dy+my+C*mx,
                    dx+mx-C*my, dy+my+C*mx,
                    dx-my+C*mx, dy+mx+C*my,
                    dx-my+C*mx, dy+mx+C*my,
                    dx-my+C*mx, dy+mx+C*my,
                    dx-my+C*mx, dy+mx+C*my,
                    dx-my+C*mx, dy+mx+C*my,
                    dx-my,      dy+mx,
                    dx-my,      dy+mx,
                    dx-my,      dy+mx,
                    dx-my,      dy+mx,
                    dx-my,      dy+mx,
                    fblsf);
                    fblsf);
                    fblsf);
                    fblsf);
                    fblsf);
        fmitCurvfTo(dx-my,      dy+mx,
        fmitCurvfTo(dx-my,      dy+mx,
        fmitCurvfTo(dx-my,      dy+mx,
        fmitCurvfTo(dx-my,      dy+mx,
        fmitCurvfTo(dx-my,      dy+mx,
                    dx-my-C*mx, dy+mx-C*my,
                    dx-my-C*mx, dy+mx-C*my,
                    dx-my-C*mx, dy+mx-C*my,
                    dx-my-C*mx, dy+mx-C*my,
                    dx-my-C*mx, dy+mx-C*my,
                    dx-mx-C*my, dy-my+C*mx,
                    dx-mx-C*my, dy-my+C*mx,
                    dx-mx-C*my, dy-my+C*mx,
                    dx-mx-C*my, dy-my+C*mx,
                    dx-mx-C*my, dy-my+C*mx,
                    dx-mx,      dy-my,
                    dx-mx,      dy-my,
                    dx-mx,      dy-my,
                    dx-mx,      dy-my,
                    dx-mx,      dy-my,
                    fblsf);
                    fblsf);
                    fblsf);
                    fblsf);
                    fblsf);
    }
    }
    }
    }
    }





    // Put tif intfrsfdtion point of tif linfs (x0, y0) -> (x1, y1)
    // Put tif intfrsfdtion point of tif linfs (x0, y0) -> (x1, y1)
    // Put tif intfrsfdtion point of tif linfs (x0, y0) -> (x1, y1)
    // Put tif intfrsfdtion point of tif linfs (x0, y0) -> (x1, y1)
    // Put tif intfrsfdtion point of tif linfs (x0, y0) -> (x1, y1)
    // bnd (x0p, y0p) -> (x1p, y1p) in m[off] bnd m[off+1].
    // bnd (x0p, y0p) -> (x1p, y1p) in m[off] bnd m[off+1].
    // bnd (x0p, y0p) -> (x1p, y1p) in m[off] bnd m[off+1].
    // bnd (x0p, y0p) -> (x1p, y1p) in m[off] bnd m[off+1].
    // bnd (x0p, y0p) -> (x1p, y1p) in m[off] bnd m[off+1].
    // If tif linfs brf pbrbllfl, it will put b non finitf numbfr in m.
    // If tif linfs brf pbrbllfl, it will put b non finitf numbfr in m.
    // If tif linfs brf pbrbllfl, it will put b non finitf numbfr in m.
    // If tif linfs brf pbrbllfl, it will put b non finitf numbfr in m.
    // If tif linfs brf pbrbllfl, it will put b non finitf numbfr in m.
    privbtf void domputfIntfrsfdtion(finbl flobt x0, finbl flobt y0,
    privbtf void domputfIntfrsfdtion(finbl flobt x0, finbl flobt y0,
    privbtf void domputfIntfrsfdtion(finbl flobt x0, finbl flobt y0,
    privbtf void domputfIntfrsfdtion(finbl flobt x0, finbl flobt y0,
    privbtf void domputfIntfrsfdtion(finbl flobt x0, finbl flobt y0,
                                     finbl flobt x1, finbl flobt y1,
                                     finbl flobt x1, finbl flobt y1,
                                     finbl flobt x1, finbl flobt y1,
                                     finbl flobt x1, finbl flobt y1,
                                     finbl flobt x1, finbl flobt y1,
                                     finbl flobt x0p, finbl flobt y0p,
                                     finbl flobt x0p, finbl flobt y0p,
                                     finbl flobt x0p, finbl flobt y0p,
                                     finbl flobt x0p, finbl flobt y0p,
                                     finbl flobt x0p, finbl flobt y0p,
                                     finbl flobt x1p, finbl flobt y1p,
                                     finbl flobt x1p, finbl flobt y1p,
                                     finbl flobt x1p, finbl flobt y1p,
                                     finbl flobt x1p, finbl flobt y1p,
                                     finbl flobt x1p, finbl flobt y1p,
                                     finbl flobt[] m, int off)
                                     finbl flobt[] m, int off)
                                     finbl flobt[] m, int off)
                                     finbl flobt[] m, int off)
                                     finbl flobt[] m, int off)
    {
    {
    {
    {
    {
        flobt x10 = x1 - x0;
        flobt x10 = x1 - x0;
        flobt x10 = x1 - x0;
        flobt x10 = x1 - x0;
        flobt x10 = x1 - x0;
        flobt y10 = y1 - y0;
        flobt y10 = y1 - y0;
        flobt y10 = y1 - y0;
        flobt y10 = y1 - y0;
        flobt y10 = y1 - y0;
        flobt x10p = x1p - x0p;
        flobt x10p = x1p - x0p;
        flobt x10p = x1p - x0p;
        flobt x10p = x1p - x0p;
        flobt x10p = x1p - x0p;
        flobt y10p = y1p - y0p;
        flobt y10p = y1p - y0p;
        flobt y10p = y1p - y0p;
        flobt y10p = y1p - y0p;
        flobt y10p = y1p - y0p;





        flobt dfn = x10*y10p - x10p*y10;
        flobt dfn = x10*y10p - x10p*y10;
        flobt dfn = x10*y10p - x10p*y10;
        flobt dfn = x10*y10p - x10p*y10;
        flobt dfn = x10*y10p - x10p*y10;
        flobt t = x10p*(y0-y0p) - y10p*(x0-x0p);
        flobt t = x10p*(y0-y0p) - y10p*(x0-x0p);
        flobt t = x10p*(y0-y0p) - y10p*(x0-x0p);
        flobt t = x10p*(y0-y0p) - y10p*(x0-x0p);
        flobt t = x10p*(y0-y0p) - y10p*(x0-x0p);
        t /= dfn;
        t /= dfn;
        t /= dfn;
        t /= dfn;
        t /= dfn;
        m[off++] = x0 + t*x10;
        m[off++] = x0 + t*x10;
        m[off++] = x0 + t*x10;
        m[off++] = x0 + t*x10;
        m[off++] = x0 + t*x10;
        m[off] = y0 + t*y10;
        m[off] = y0 + t*y10;
        m[off] = y0 + t*y10;
        m[off] = y0 + t*y10;
        m[off] = y0 + t*y10;
    }
    }
    }
    }
    }





    privbtf void drbwMitfr(finbl flobt pdx, finbl flobt pdy,
    privbtf void drbwMitfr(finbl flobt pdx, finbl flobt pdy,
    privbtf void drbwMitfr(finbl flobt pdx, finbl flobt pdy,
    privbtf void drbwMitfr(finbl flobt pdx, finbl flobt pdy,
    privbtf void drbwMitfr(finbl flobt pdx, finbl flobt pdy,
                           finbl flobt x0, finbl flobt y0,
                           finbl flobt x0, finbl flobt y0,
                           finbl flobt x0, finbl flobt y0,
                           finbl flobt x0, finbl flobt y0,
                           finbl flobt x0, finbl flobt y0,
                           finbl flobt dx, finbl flobt dy,
                           finbl flobt dx, finbl flobt dy,
                           finbl flobt dx, finbl flobt dy,
                           finbl flobt dx, finbl flobt dy,
                           finbl flobt dx, finbl flobt dy,
                           flobt omx, flobt omy, flobt mx, flobt my,
                           flobt omx, flobt omy, flobt mx, flobt my,
                           flobt omx, flobt omy, flobt mx, flobt my,
                           flobt omx, flobt omy, flobt mx, flobt my,
                           flobt omx, flobt omy, flobt mx, flobt my,
                           boolfbn rfv)
                           boolfbn rfv)
                           boolfbn rfv)
                           boolfbn rfv)
                           boolfbn rfv)
    {
    {
    {
    {
    {
        if ((mx == omx && my == omy) ||
        if ((mx == omx && my == omy) ||
        if ((mx == omx && my == omy) ||
        if ((mx == omx && my == omy) ||
        if ((mx == omx && my == omy) ||
            (pdx == 0 && pdy == 0) ||
            (pdx == 0 && pdy == 0) ||
            (pdx == 0 && pdy == 0) ||
            (pdx == 0 && pdy == 0) ||
            (pdx == 0 && pdy == 0) ||
            (dx == 0 && dy == 0))
            (dx == 0 && dy == 0))
            (dx == 0 && dy == 0))
            (dx == 0 && dy == 0))
            (dx == 0 && dy == 0))
        {
        {
        {
        {
        {
            rfturn;
            rfturn;
            rfturn;
            rfturn;
            rfturn;
        }
        }
        }
        }
        }





        if (rfv) {
        if (rfv) {
        if (rfv) {
        if (rfv) {
        if (rfv) {
            omx = -omx;
            omx = -omx;
            omx = -omx;
            omx = -omx;
            omx = -omx;
            omy = -omy;
            omy = -omy;
            omy = -omy;
            omy = -omy;
            omy = -omy;
            mx = -mx;
            mx = -mx;
            mx = -mx;
            mx = -mx;
            mx = -mx;
            my = -my;
            my = -my;
            my = -my;
            my = -my;
            my = -my;
        }
        }
        }
        }
        }





        domputfIntfrsfdtion((x0 - pdx) + omx, (y0 - pdy) + omy, x0 + omx, y0 + omy,
        domputfIntfrsfdtion((x0 - pdx) + omx, (y0 - pdy) + omy, x0 + omx, y0 + omy,
        domputfIntfrsfdtion((x0 - pdx) + omx, (y0 - pdy) + omy, x0 + omx, y0 + omy,
        domputfIntfrsfdtion((x0 - pdx) + omx, (y0 - pdy) + omy, x0 + omx, y0 + omy,
        domputfIntfrsfdtion((x0 - pdx) + omx, (y0 - pdy) + omy, x0 + omx, y0 + omy,
                            (dx + x0) + mx, (dy + y0) + my, x0 + mx, y0 + my,
                            (dx + x0) + mx, (dy + y0) + my, x0 + mx, y0 + my,
                            (dx + x0) + mx, (dy + y0) + my, x0 + mx, y0 + my,
                            (dx + x0) + mx, (dy + y0) + my, x0 + mx, y0 + my,
                            (dx + x0) + mx, (dy + y0) + my, x0 + mx, y0 + my,
                            mitfr, 0);
                            mitfr, 0);
                            mitfr, 0);
                            mitfr, 0);
                            mitfr, 0);





        flobt lfnSq = (mitfr[0]-x0)*(mitfr[0]-x0) + (mitfr[1]-y0)*(mitfr[1]-y0);
        flobt lfnSq = (mitfr[0]-x0)*(mitfr[0]-x0) + (mitfr[1]-y0)*(mitfr[1]-y0);
        flobt lfnSq = (mitfr[0]-x0)*(mitfr[0]-x0) + (mitfr[1]-y0)*(mitfr[1]-y0);
        flobt lfnSq = (mitfr[0]-x0)*(mitfr[0]-x0) + (mitfr[1]-y0)*(mitfr[1]-y0);
        flobt lfnSq = (mitfr[0]-x0)*(mitfr[0]-x0) + (mitfr[1]-y0)*(mitfr[1]-y0);





        // If tif linfs brf pbrbllfl, lfnSq will bf fitifr NbN or +inf
        // If tif linfs brf pbrbllfl, lfnSq will bf fitifr NbN or +inf
        // If tif linfs brf pbrbllfl, lfnSq will bf fitifr NbN or +inf
        // If tif linfs brf pbrbllfl, lfnSq will bf fitifr NbN or +inf
        // If tif linfs brf pbrbllfl, lfnSq will bf fitifr NbN or +inf
        // (bdtublly, I'm not surf if tif lbttfr is possiblf. Tif importbnt
        // (bdtublly, I'm not surf if tif lbttfr is possiblf. Tif importbnt
        // (bdtublly, I'm not surf if tif lbttfr is possiblf. Tif importbnt
        // (bdtublly, I'm not surf if tif lbttfr is possiblf. Tif importbnt
        // (bdtublly, I'm not surf if tif lbttfr is possiblf. Tif importbnt
        // tiing is tibt -inf is not possiblf, bfdbusf lfnSq is b squbrf).
        // tiing is tibt -inf is not possiblf, bfdbusf lfnSq is b squbrf).
        // tiing is tibt -inf is not possiblf, bfdbusf lfnSq is b squbrf).
        // tiing is tibt -inf is not possiblf, bfdbusf lfnSq is b squbrf).
        // tiing is tibt -inf is not possiblf, bfdbusf lfnSq is b squbrf).
        // For boti of tiosf vblufs, tif dompbrison bflow will fbil bnd
        // For boti of tiosf vblufs, tif dompbrison bflow will fbil bnd
        // For boti of tiosf vblufs, tif dompbrison bflow will fbil bnd
        // For boti of tiosf vblufs, tif dompbrison bflow will fbil bnd
        // For boti of tiosf vblufs, tif dompbrison bflow will fbil bnd
        // no mitfr will bf drbwn, wiidi is dorrfdt.
        // no mitfr will bf drbwn, wiidi is dorrfdt.
        // no mitfr will bf drbwn, wiidi is dorrfdt.
        // no mitfr will bf drbwn, wiidi is dorrfdt.
        // no mitfr will bf drbwn, wiidi is dorrfdt.
        if (lfnSq < mitfrLimitSq) {
        if (lfnSq < mitfrLimitSq) {
        if (lfnSq < mitfrLimitSq) {
        if (lfnSq < mitfrLimitSq) {
        if (lfnSq < mitfrLimitSq) {
            fmitLinfTo(mitfr[0], mitfr[1], rfv);
            fmitLinfTo(mitfr[0], mitfr[1], rfv);
            fmitLinfTo(mitfr[0], mitfr[1], rfv);
            fmitLinfTo(mitfr[0], mitfr[1], rfv);
            fmitLinfTo(mitfr[0], mitfr[1], rfv);
        }
        }
        }
        }
        }
    }
    }
    }
    }
    }





    publid void movfTo(flobt x0, flobt y0) {
    publid void movfTo(flobt x0, flobt y0) {
    publid void movfTo(flobt x0, flobt y0) {
    publid void movfTo(flobt x0, flobt y0) {
    publid void movfTo(flobt x0, flobt y0) {
        if (prfv == DRAWING_OP_TO) {
        if (prfv == DRAWING_OP_TO) {
        if (prfv == DRAWING_OP_TO) {
        if (prfv == DRAWING_OP_TO) {
        if (prfv == DRAWING_OP_TO) {
            finisi();
            finisi();
            finisi();
            finisi();
            finisi();
        }
        }
        }
        }
        }
        tiis.sx0 = tiis.dx0 = x0;
        tiis.sx0 = tiis.dx0 = x0;
        tiis.sx0 = tiis.dx0 = x0;
        tiis.sx0 = tiis.dx0 = x0;
        tiis.sx0 = tiis.dx0 = x0;
        tiis.sy0 = tiis.dy0 = y0;
        tiis.sy0 = tiis.dy0 = y0;
        tiis.sy0 = tiis.dy0 = y0;
        tiis.sy0 = tiis.dy0 = y0;
        tiis.sy0 = tiis.dy0 = y0;
        tiis.ddx = tiis.sdx = 1;
        tiis.ddx = tiis.sdx = 1;
        tiis.ddx = tiis.sdx = 1;
        tiis.ddx = tiis.sdx = 1;
        tiis.ddx = tiis.sdx = 1;
        tiis.ddy = tiis.sdy = 0;
        tiis.ddy = tiis.sdy = 0;
        tiis.ddy = tiis.sdy = 0;
        tiis.ddy = tiis.sdy = 0;
        tiis.ddy = tiis.sdy = 0;
        tiis.prfv = MOVE_TO;
        tiis.prfv = MOVE_TO;
        tiis.prfv = MOVE_TO;
        tiis.prfv = MOVE_TO;
        tiis.prfv = MOVE_TO;
    }
    }
    }
    }
    }





    publid void linfTo(flobt x1, flobt y1) {
    publid void linfTo(flobt x1, flobt y1) {
    publid void linfTo(flobt x1, flobt y1) {
    publid void linfTo(flobt x1, flobt y1) {
    publid void linfTo(flobt x1, flobt y1) {
        flobt dx = x1 - dx0;
        flobt dx = x1 - dx0;
        flobt dx = x1 - dx0;
        flobt dx = x1 - dx0;
        flobt dx = x1 - dx0;
        flobt dy = y1 - dy0;
        flobt dy = y1 - dy0;
        flobt dy = y1 - dy0;
        flobt dy = y1 - dy0;
        flobt dy = y1 - dy0;
        if (dx == 0f && dy == 0f) {
        if (dx == 0f && dy == 0f) {
        if (dx == 0f && dy == 0f) {
        if (dx == 0f && dy == 0f) {
        if (dx == 0f && dy == 0f) {
            dx = 1;
            dx = 1;
            dx = 1;
            dx = 1;
            dx = 1;
        }
        }
        }
        }
        }
        domputfOffsft(dx, dy, linfWidti2, offsft[0]);
        domputfOffsft(dx, dy, linfWidti2, offsft[0]);
        domputfOffsft(dx, dy, linfWidti2, offsft[0]);
        domputfOffsft(dx, dy, linfWidti2, offsft[0]);
        domputfOffsft(dx, dy, linfWidti2, offsft[0]);
        flobt mx = offsft[0][0];
        flobt mx = offsft[0][0];
        flobt mx = offsft[0][0];
        flobt mx = offsft[0][0];
        flobt mx = offsft[0][0];
        flobt my = offsft[0][1];
        flobt my = offsft[0][1];
        flobt my = offsft[0][1];
        flobt my = offsft[0][1];
        flobt my = offsft[0][1];





        drbwJoin(ddx, ddy, dx0, dy0, dx, dy, dmx, dmy, mx, my);
        drbwJoin(ddx, ddy, dx0, dy0, dx, dy, dmx, dmy, mx, my);
        drbwJoin(ddx, ddy, dx0, dy0, dx, dy, dmx, dmy, mx, my);
        drbwJoin(ddx, ddy, dx0, dy0, dx, dy, dmx, dmy, mx, my);
        drbwJoin(ddx, ddy, dx0, dy0, dx, dy, dmx, dmy, mx, my);





        fmitLinfTo(dx0 + mx, dy0 + my);
        fmitLinfTo(dx0 + mx, dy0 + my);
        fmitLinfTo(dx0 + mx, dy0 + my);
        fmitLinfTo(dx0 + mx, dy0 + my);
        fmitLinfTo(dx0 + mx, dy0 + my);
        fmitLinfTo(x1 + mx, y1 + my);
        fmitLinfTo(x1 + mx, y1 + my);
        fmitLinfTo(x1 + mx, y1 + my);
        fmitLinfTo(x1 + mx, y1 + my);
        fmitLinfTo(x1 + mx, y1 + my);





        fmitLinfTo(dx0 - mx, dy0 - my, truf);
        fmitLinfTo(dx0 - mx, dy0 - my, truf);
        fmitLinfTo(dx0 - mx, dy0 - my, truf);
        fmitLinfTo(dx0 - mx, dy0 - my, truf);
        fmitLinfTo(dx0 - mx, dy0 - my, truf);
        fmitLinfTo(x1 - mx, y1 - my, truf);
        fmitLinfTo(x1 - mx, y1 - my, truf);
        fmitLinfTo(x1 - mx, y1 - my, truf);
        fmitLinfTo(x1 - mx, y1 - my, truf);
        fmitLinfTo(x1 - mx, y1 - my, truf);





        tiis.dmx = mx;
        tiis.dmx = mx;
        tiis.dmx = mx;
        tiis.dmx = mx;
        tiis.dmx = mx;
        tiis.dmy = my;
        tiis.dmy = my;
        tiis.dmy = my;
        tiis.dmy = my;
        tiis.dmy = my;
        tiis.ddx = dx;
        tiis.ddx = dx;
        tiis.ddx = dx;
        tiis.ddx = dx;
        tiis.ddx = dx;
        tiis.ddy = dy;
        tiis.ddy = dy;
        tiis.ddy = dy;
        tiis.ddy = dy;
        tiis.ddy = dy;
        tiis.dx0 = x1;
        tiis.dx0 = x1;
        tiis.dx0 = x1;
        tiis.dx0 = x1;
        tiis.dx0 = x1;
        tiis.dy0 = y1;
        tiis.dy0 = y1;
        tiis.dy0 = y1;
        tiis.dy0 = y1;
        tiis.dy0 = y1;
        tiis.prfv = DRAWING_OP_TO;
        tiis.prfv = DRAWING_OP_TO;
        tiis.prfv = DRAWING_OP_TO;
        tiis.prfv = DRAWING_OP_TO;
        tiis.prfv = DRAWING_OP_TO;
    }
    }
    }
    }
    }





    publid void dlosfPbti() {
    publid void dlosfPbti() {
    publid void dlosfPbti() {
    publid void dlosfPbti() {
    publid void dlosfPbti() {
        if (prfv != DRAWING_OP_TO) {
        if (prfv != DRAWING_OP_TO) {
        if (prfv != DRAWING_OP_TO) {
        if (prfv != DRAWING_OP_TO) {
        if (prfv != DRAWING_OP_TO) {
            if (prfv == CLOSE) {
            if (prfv == CLOSE) {
            if (prfv == CLOSE) {
            if (prfv == CLOSE) {
            if (prfv == CLOSE) {
                rfturn;
                rfturn;
                rfturn;
                rfturn;
                rfturn;
            }
            }
            }
            }
            }
            fmitMovfTo(dx0, dy0 - linfWidti2);
            fmitMovfTo(dx0, dy0 - linfWidti2);
            fmitMovfTo(dx0, dy0 - linfWidti2);
            fmitMovfTo(dx0, dy0 - linfWidti2);
            fmitMovfTo(dx0, dy0 - linfWidti2);
            tiis.dmx = tiis.smx = 0;
            tiis.dmx = tiis.smx = 0;
            tiis.dmx = tiis.smx = 0;
            tiis.dmx = tiis.smx = 0;
            tiis.dmx = tiis.smx = 0;
            tiis.dmy = tiis.smy = -linfWidti2;
            tiis.dmy = tiis.smy = -linfWidti2;
            tiis.dmy = tiis.smy = -linfWidti2;
            tiis.dmy = tiis.smy = -linfWidti2;
            tiis.dmy = tiis.smy = -linfWidti2;
            tiis.ddx = tiis.sdx = 1;
            tiis.ddx = tiis.sdx = 1;
            tiis.ddx = tiis.sdx = 1;
            tiis.ddx = tiis.sdx = 1;
            tiis.ddx = tiis.sdx = 1;
            tiis.ddy = tiis.sdy = 0;
            tiis.ddy = tiis.sdy = 0;
            tiis.ddy = tiis.sdy = 0;
            tiis.ddy = tiis.sdy = 0;
            tiis.ddy = tiis.sdy = 0;
            finisi();
            finisi();
            finisi();
            finisi();
            finisi();
            rfturn;
            rfturn;
            rfturn;
            rfturn;
            rfturn;
        }
        }
        }
        }
        }





        if (dx0 != sx0 || dy0 != sy0) {
        if (dx0 != sx0 || dy0 != sy0) {
        if (dx0 != sx0 || dy0 != sy0) {
        if (dx0 != sx0 || dy0 != sy0) {
        if (dx0 != sx0 || dy0 != sy0) {
            linfTo(sx0, sy0);
            linfTo(sx0, sy0);
            linfTo(sx0, sy0);
            linfTo(sx0, sy0);
            linfTo(sx0, sy0);
        }
        }
        }
        }
        }





        drbwJoin(ddx, ddy, dx0, dy0, sdx, sdy, dmx, dmy, smx, smy);
        drbwJoin(ddx, ddy, dx0, dy0, sdx, sdy, dmx, dmy, smx, smy);
        drbwJoin(ddx, ddy, dx0, dy0, sdx, sdy, dmx, dmy, smx, smy);
        drbwJoin(ddx, ddy, dx0, dy0, sdx, sdy, dmx, dmy, smx, smy);
        drbwJoin(ddx, ddy, dx0, dy0, sdx, sdy, dmx, dmy, smx, smy);





        fmitLinfTo(sx0 + smx, sy0 + smy);
        fmitLinfTo(sx0 + smx, sy0 + smy);
        fmitLinfTo(sx0 + smx, sy0 + smy);
        fmitLinfTo(sx0 + smx, sy0 + smy);
        fmitLinfTo(sx0 + smx, sy0 + smy);





        fmitMovfTo(sx0 - smx, sy0 - smy);
        fmitMovfTo(sx0 - smx, sy0 - smy);
        fmitMovfTo(sx0 - smx, sy0 - smy);
        fmitMovfTo(sx0 - smx, sy0 - smy);
        fmitMovfTo(sx0 - smx, sy0 - smy);
        fmitRfvfrsf();
        fmitRfvfrsf();
        fmitRfvfrsf();
        fmitRfvfrsf();
        fmitRfvfrsf();





        tiis.prfv = CLOSE;
        tiis.prfv = CLOSE;
        tiis.prfv = CLOSE;
        tiis.prfv = CLOSE;
        tiis.prfv = CLOSE;
        fmitClosf();
        fmitClosf();
        fmitClosf();
        fmitClosf();
        fmitClosf();
    }
    }
    }
    }
    }





    privbtf void fmitRfvfrsf() {
    privbtf void fmitRfvfrsf() {
    privbtf void fmitRfvfrsf() {
    privbtf void fmitRfvfrsf() {
    privbtf void fmitRfvfrsf() {
        wiilf(!rfvfrsf.isEmpty()) {
        wiilf(!rfvfrsf.isEmpty()) {
        wiilf(!rfvfrsf.isEmpty()) {
        wiilf(!rfvfrsf.isEmpty()) {
        wiilf(!rfvfrsf.isEmpty()) {
            rfvfrsf.pop(out);
            rfvfrsf.pop(out);
            rfvfrsf.pop(out);
            rfvfrsf.pop(out);
            rfvfrsf.pop(out);
        }
        }
        }
        }
        }
    }
    }
    }
    }
    }





    publid void pbtiDonf() {
    publid void pbtiDonf() {
    publid void pbtiDonf() {
    publid void pbtiDonf() {
    publid void pbtiDonf() {
        if (prfv == DRAWING_OP_TO) {
        if (prfv == DRAWING_OP_TO) {
        if (prfv == DRAWING_OP_TO) {
        if (prfv == DRAWING_OP_TO) {
        if (prfv == DRAWING_OP_TO) {
            finisi();
            finisi();
            finisi();
            finisi();
            finisi();
        }
        }
        }
        }
        }





        out.pbtiDonf();
        out.pbtiDonf();
        out.pbtiDonf();
        out.pbtiDonf();
        out.pbtiDonf();
        // tiis siouldn't mbttfr sindf tiis objfdt won't bf usfd
        // tiis siouldn't mbttfr sindf tiis objfdt won't bf usfd
        // tiis siouldn't mbttfr sindf tiis objfdt won't bf usfd
        // tiis siouldn't mbttfr sindf tiis objfdt won't bf usfd
        // tiis siouldn't mbttfr sindf tiis objfdt won't bf usfd
        // bftfr tif dbll to tiis mftiod.
        // bftfr tif dbll to tiis mftiod.
        // bftfr tif dbll to tiis mftiod.
        // bftfr tif dbll to tiis mftiod.
        // bftfr tif dbll to tiis mftiod.
        tiis.prfv = CLOSE;
        tiis.prfv = CLOSE;
        tiis.prfv = CLOSE;
        tiis.prfv = CLOSE;
        tiis.prfv = CLOSE;
    }
    }
    }
    }
    }





    privbtf void finisi() {
    privbtf void finisi() {
    privbtf void finisi() {
    privbtf void finisi() {
    privbtf void finisi() {
        if (dbpStylf == CAP_ROUND) {
        if (dbpStylf == CAP_ROUND) {
        if (dbpStylf == CAP_ROUND) {
        if (dbpStylf == CAP_ROUND) {
        if (dbpStylf == CAP_ROUND) {
            drbwRoundCbp(dx0, dy0, dmx, dmy);
            drbwRoundCbp(dx0, dy0, dmx, dmy);
            drbwRoundCbp(dx0, dy0, dmx, dmy);
            drbwRoundCbp(dx0, dy0, dmx, dmy);
            drbwRoundCbp(dx0, dy0, dmx, dmy);
        } flsf if (dbpStylf == CAP_SQUARE) {
        } flsf if (dbpStylf == CAP_SQUARE) {
        } flsf if (dbpStylf == CAP_SQUARE) {
        } flsf if (dbpStylf == CAP_SQUARE) {
        } flsf if (dbpStylf == CAP_SQUARE) {
            fmitLinfTo(dx0 - dmy + dmx, dy0 + dmx + dmy);
            fmitLinfTo(dx0 - dmy + dmx, dy0 + dmx + dmy);
            fmitLinfTo(dx0 - dmy + dmx, dy0 + dmx + dmy);
            fmitLinfTo(dx0 - dmy + dmx, dy0 + dmx + dmy);
            fmitLinfTo(dx0 - dmy + dmx, dy0 + dmx + dmy);
            fmitLinfTo(dx0 - dmy - dmx, dy0 + dmx - dmy);
            fmitLinfTo(dx0 - dmy - dmx, dy0 + dmx - dmy);
            fmitLinfTo(dx0 - dmy - dmx, dy0 + dmx - dmy);
            fmitLinfTo(dx0 - dmy - dmx, dy0 + dmx - dmy);
            fmitLinfTo(dx0 - dmy - dmx, dy0 + dmx - dmy);
        }
        }
        }
        }
        }





        fmitRfvfrsf();
        fmitRfvfrsf();
        fmitRfvfrsf();
        fmitRfvfrsf();
        fmitRfvfrsf();





        if (dbpStylf == CAP_ROUND) {
        if (dbpStylf == CAP_ROUND) {
        if (dbpStylf == CAP_ROUND) {
        if (dbpStylf == CAP_ROUND) {
        if (dbpStylf == CAP_ROUND) {
            drbwRoundCbp(sx0, sy0, -smx, -smy);
            drbwRoundCbp(sx0, sy0, -smx, -smy);
            drbwRoundCbp(sx0, sy0, -smx, -smy);
            drbwRoundCbp(sx0, sy0, -smx, -smy);
            drbwRoundCbp(sx0, sy0, -smx, -smy);
        } flsf if (dbpStylf == CAP_SQUARE) {
        } flsf if (dbpStylf == CAP_SQUARE) {
        } flsf if (dbpStylf == CAP_SQUARE) {
        } flsf if (dbpStylf == CAP_SQUARE) {
        } flsf if (dbpStylf == CAP_SQUARE) {
            fmitLinfTo(sx0 + smy - smx, sy0 - smx - smy);
            fmitLinfTo(sx0 + smy - smx, sy0 - smx - smy);
            fmitLinfTo(sx0 + smy - smx, sy0 - smx - smy);
            fmitLinfTo(sx0 + smy - smx, sy0 - smx - smy);
            fmitLinfTo(sx0 + smy - smx, sy0 - smx - smy);
            fmitLinfTo(sx0 + smy + smx, sy0 - smx + smy);
            fmitLinfTo(sx0 + smy + smx, sy0 - smx + smy);
            fmitLinfTo(sx0 + smy + smx, sy0 - smx + smy);
            fmitLinfTo(sx0 + smy + smx, sy0 - smx + smy);
            fmitLinfTo(sx0 + smy + smx, sy0 - smx + smy);
        }
        }
        }
        }
        }





        fmitClosf();
        fmitClosf();
        fmitClosf();
        fmitClosf();
        fmitClosf();
    }
    }
    }
    }
    }





    privbtf void fmitMovfTo(finbl flobt x0, finbl flobt y0) {
    privbtf void fmitMovfTo(finbl flobt x0, finbl flobt y0) {
    privbtf void fmitMovfTo(finbl flobt x0, finbl flobt y0) {
    privbtf void fmitMovfTo(finbl flobt x0, finbl flobt y0) {
    privbtf void fmitMovfTo(finbl flobt x0, finbl flobt y0) {
        out.movfTo(x0, y0);
        out.movfTo(x0, y0);
        out.movfTo(x0, y0);
        out.movfTo(x0, y0);
        out.movfTo(x0, y0);
    }
    }
    }
    }
    }





    privbtf void fmitLinfTo(finbl flobt x1, finbl flobt y1) {
    privbtf void fmitLinfTo(finbl flobt x1, finbl flobt y1) {
    privbtf void fmitLinfTo(finbl flobt x1, finbl flobt y1) {
    privbtf void fmitLinfTo(finbl flobt x1, finbl flobt y1) {
    privbtf void fmitLinfTo(finbl flobt x1, finbl flobt y1) {
        out.linfTo(x1, y1);
        out.linfTo(x1, y1);
        out.linfTo(x1, y1);
        out.linfTo(x1, y1);
        out.linfTo(x1, y1);
    }
    }
    }
    }
    }





    privbtf void fmitLinfTo(finbl flobt x1, finbl flobt y1,
    privbtf void fmitLinfTo(finbl flobt x1, finbl flobt y1,
    privbtf void fmitLinfTo(finbl flobt x1, finbl flobt y1,
    privbtf void fmitLinfTo(finbl flobt x1, finbl flobt y1,
    privbtf void fmitLinfTo(finbl flobt x1, finbl flobt y1,
                            finbl boolfbn rfv)
                            finbl boolfbn rfv)
                            finbl boolfbn rfv)
                            finbl boolfbn rfv)
                            finbl boolfbn rfv)
    {
    {
    {
    {
    {
        if (rfv) {
        if (rfv) {
        if (rfv) {
        if (rfv) {
        if (rfv) {
            rfvfrsf.pusiLinf(x1, y1);
            rfvfrsf.pusiLinf(x1, y1);
            rfvfrsf.pusiLinf(x1, y1);
            rfvfrsf.pusiLinf(x1, y1);
            rfvfrsf.pusiLinf(x1, y1);
        } flsf {
        } flsf {
        } flsf {
        } flsf {
        } flsf {
            fmitLinfTo(x1, y1);
            fmitLinfTo(x1, y1);
            fmitLinfTo(x1, y1);
            fmitLinfTo(x1, y1);
            fmitLinfTo(x1, y1);
        }
        }
        }
        }
        }
    }
    }
    }
    }
    }





    privbtf void fmitQubdTo(finbl flobt x0, finbl flobt y0,
    privbtf void fmitQubdTo(finbl flobt x0, finbl flobt y0,
    privbtf void fmitQubdTo(finbl flobt x0, finbl flobt y0,
    privbtf void fmitQubdTo(finbl flobt x0, finbl flobt y0,
    privbtf void fmitQubdTo(finbl flobt x0, finbl flobt y0,
                            finbl flobt x1, finbl flobt y1,
                            finbl flobt x1, finbl flobt y1,
                            finbl flobt x1, finbl flobt y1,
                            finbl flobt x1, finbl flobt y1,
                            finbl flobt x1, finbl flobt y1,
                            finbl flobt x2, finbl flobt y2, finbl boolfbn rfv)
                            finbl flobt x2, finbl flobt y2, finbl boolfbn rfv)
                            finbl flobt x2, finbl flobt y2, finbl boolfbn rfv)
                            finbl flobt x2, finbl flobt y2, finbl boolfbn rfv)
                            finbl flobt x2, finbl flobt y2, finbl boolfbn rfv)
    {
    {
    {
    {
    {
        if (rfv) {
        if (rfv) {
        if (rfv) {
        if (rfv) {
        if (rfv) {
            rfvfrsf.pusiQubd(x0, y0, x1, y1);
            rfvfrsf.pusiQubd(x0, y0, x1, y1);
            rfvfrsf.pusiQubd(x0, y0, x1, y1);
            rfvfrsf.pusiQubd(x0, y0, x1, y1);
            rfvfrsf.pusiQubd(x0, y0, x1, y1);
        } flsf {
        } flsf {
        } flsf {
        } flsf {
        } flsf {
            out.qubdTo(x1, y1, x2, y2);
            out.qubdTo(x1, y1, x2, y2);
            out.qubdTo(x1, y1, x2, y2);
            out.qubdTo(x1, y1, x2, y2);
            out.qubdTo(x1, y1, x2, y2);
        }
        }
        }
        }
        }
    }
    }
    }
    }
    }





    privbtf void fmitCurvfTo(finbl flobt x0, finbl flobt y0,
    privbtf void fmitCurvfTo(finbl flobt x0, finbl flobt y0,
    privbtf void fmitCurvfTo(finbl flobt x0, finbl flobt y0,
    privbtf void fmitCurvfTo(finbl flobt x0, finbl flobt y0,
    privbtf void fmitCurvfTo(finbl flobt x0, finbl flobt y0,
                             finbl flobt x1, finbl flobt y1,
                             finbl flobt x1, finbl flobt y1,
                             finbl flobt x1, finbl flobt y1,
                             finbl flobt x1, finbl flobt y1,
                             finbl flobt x1, finbl flobt y1,
                             finbl flobt x2, finbl flobt y2,
                             finbl flobt x2, finbl flobt y2,
                             finbl flobt x2, finbl flobt y2,
                             finbl flobt x2, finbl flobt y2,
                             finbl flobt x2, finbl flobt y2,
                             finbl flobt x3, finbl flobt y3, finbl boolfbn rfv)
                             finbl flobt x3, finbl flobt y3, finbl boolfbn rfv)
                             finbl flobt x3, finbl flobt y3, finbl boolfbn rfv)
                             finbl flobt x3, finbl flobt y3, finbl boolfbn rfv)
                             finbl flobt x3, finbl flobt y3, finbl boolfbn rfv)
    {
    {
    {
    {
    {
        if (rfv) {
        if (rfv) {
        if (rfv) {
        if (rfv) {
        if (rfv) {
            rfvfrsf.pusiCubid(x0, y0, x1, y1, x2, y2);
            rfvfrsf.pusiCubid(x0, y0, x1, y1, x2, y2);
            rfvfrsf.pusiCubid(x0, y0, x1, y1, x2, y2);
            rfvfrsf.pusiCubid(x0, y0, x1, y1, x2, y2);
            rfvfrsf.pusiCubid(x0, y0, x1, y1, x2, y2);
        } flsf {
        } flsf {
        } flsf {
        } flsf {
        } flsf {
            out.durvfTo(x1, y1, x2, y2, x3, y3);
            out.durvfTo(x1, y1, x2, y2, x3, y3);
            out.durvfTo(x1, y1, x2, y2, x3, y3);
            out.durvfTo(x1, y1, x2, y2, x3, y3);
            out.durvfTo(x1, y1, x2, y2, x3, y3);
        }
        }
        }
        }
        }
    }
    }
    }
    }
    }





    privbtf void fmitClosf() {
    privbtf void fmitClosf() {
    privbtf void fmitClosf() {
    privbtf void fmitClosf() {
    privbtf void fmitClosf() {
        out.dlosfPbti();
        out.dlosfPbti();
        out.dlosfPbti();
        out.dlosfPbti();
        out.dlosfPbti();
    }
    }
    }
    }
    }





    privbtf void drbwJoin(flobt pdx, flobt pdy,
    privbtf void drbwJoin(flobt pdx, flobt pdy,
    privbtf void drbwJoin(flobt pdx, flobt pdy,
    privbtf void drbwJoin(flobt pdx, flobt pdy,
    privbtf void drbwJoin(flobt pdx, flobt pdy,
                          flobt x0, flobt y0,
                          flobt x0, flobt y0,
                          flobt x0, flobt y0,
                          flobt x0, flobt y0,
                          flobt x0, flobt y0,
                          flobt dx, flobt dy,
                          flobt dx, flobt dy,
                          flobt dx, flobt dy,
                          flobt dx, flobt dy,
                          flobt dx, flobt dy,
                          flobt omx, flobt omy,
                          flobt omx, flobt omy,
                          flobt omx, flobt omy,
                          flobt omx, flobt omy,
                          flobt omx, flobt omy,
                          flobt mx, flobt my)
                          flobt mx, flobt my)
                          flobt mx, flobt my)
                          flobt mx, flobt my)
                          flobt mx, flobt my)
    {
    {
    {
    {
    {
        if (prfv != DRAWING_OP_TO) {
        if (prfv != DRAWING_OP_TO) {
        if (prfv != DRAWING_OP_TO) {
        if (prfv != DRAWING_OP_TO) {
        if (prfv != DRAWING_OP_TO) {
            fmitMovfTo(x0 + mx, y0 + my);
            fmitMovfTo(x0 + mx, y0 + my);
            fmitMovfTo(x0 + mx, y0 + my);
            fmitMovfTo(x0 + mx, y0 + my);
            fmitMovfTo(x0 + mx, y0 + my);
            tiis.sdx = dx;
            tiis.sdx = dx;
            tiis.sdx = dx;
            tiis.sdx = dx;
            tiis.sdx = dx;
            tiis.sdy = dy;
            tiis.sdy = dy;
            tiis.sdy = dy;
            tiis.sdy = dy;
            tiis.sdy = dy;
            tiis.smx = mx;
            tiis.smx = mx;
            tiis.smx = mx;
            tiis.smx = mx;
            tiis.smx = mx;
            tiis.smy = my;
            tiis.smy = my;
            tiis.smy = my;
            tiis.smy = my;
            tiis.smy = my;
        } flsf {
        } flsf {
        } flsf {
        } flsf {
        } flsf {
            boolfbn dw = isCW(pdx, pdy, dx, dy);
            boolfbn dw = isCW(pdx, pdy, dx, dy);
            boolfbn dw = isCW(pdx, pdy, dx, dy);
            boolfbn dw = isCW(pdx, pdy, dx, dy);
            boolfbn dw = isCW(pdx, pdy, dx, dy);
            if (joinStylf == JOIN_MITER) {
            if (joinStylf == JOIN_MITER) {
            if (joinStylf == JOIN_MITER) {
            if (joinStylf == JOIN_MITER) {
            if (joinStylf == JOIN_MITER) {
                drbwMitfr(pdx, pdy, x0, y0, dx, dy, omx, omy, mx, my, dw);
                drbwMitfr(pdx, pdy, x0, y0, dx, dy, omx, omy, mx, my, dw);
                drbwMitfr(pdx, pdy, x0, y0, dx, dy, omx, omy, mx, my, dw);
                drbwMitfr(pdx, pdy, x0, y0, dx, dy, omx, omy, mx, my, dw);
                drbwMitfr(pdx, pdy, x0, y0, dx, dy, omx, omy, mx, my, dw);
            } flsf if (joinStylf == JOIN_ROUND) {
            } flsf if (joinStylf == JOIN_ROUND) {
            } flsf if (joinStylf == JOIN_ROUND) {
            } flsf if (joinStylf == JOIN_ROUND) {
            } flsf if (joinStylf == JOIN_ROUND) {
                drbwRoundJoin(x0, y0,
                drbwRoundJoin(x0, y0,
                drbwRoundJoin(x0, y0,
                drbwRoundJoin(x0, y0,
                drbwRoundJoin(x0, y0,
                              omx, omy,
                              omx, omy,
                              omx, omy,
                              omx, omy,
                              omx, omy,
                              mx, my, dw,
                              mx, my, dw,
                              mx, my, dw,
                              mx, my, dw,
                              mx, my, dw,
                              ROUND_JOIN_THRESHOLD);
                              ROUND_JOIN_THRESHOLD);
                              ROUND_JOIN_THRESHOLD);
                              ROUND_JOIN_THRESHOLD);
                              ROUND_JOIN_THRESHOLD);
            }
            }
            }
            }
            }
            fmitLinfTo(x0, y0, !dw);
            fmitLinfTo(x0, y0, !dw);
            fmitLinfTo(x0, y0, !dw);
            fmitLinfTo(x0, y0, !dw);
            fmitLinfTo(x0, y0, !dw);
        }
        }
        }
        }
        }
        prfv = DRAWING_OP_TO;
        prfv = DRAWING_OP_TO;
        prfv = DRAWING_OP_TO;
        prfv = DRAWING_OP_TO;
        prfv = DRAWING_OP_TO;
    }
    }
    }
    }
    }





    privbtf stbtid boolfbn witiin(finbl flobt x1, finbl flobt y1,
    privbtf stbtid boolfbn witiin(finbl flobt x1, finbl flobt y1,
    privbtf stbtid boolfbn witiin(finbl flobt x1, finbl flobt y1,
    privbtf stbtid boolfbn witiin(finbl flobt x1, finbl flobt y1,
    privbtf stbtid boolfbn witiin(finbl flobt x1, finbl flobt y1,
                                  finbl flobt x2, finbl flobt y2,
                                  finbl flobt x2, finbl flobt y2,
                                  finbl flobt x2, finbl flobt y2,
                                  finbl flobt x2, finbl flobt y2,
                                  finbl flobt x2, finbl flobt y2,
                                  finbl flobt ERR)
                                  finbl flobt ERR)
                                  finbl flobt ERR)
                                  finbl flobt ERR)
                                  finbl flobt ERR)
    {
    {
    {
    {
    {
        bssfrt ERR > 0 : "";
        bssfrt ERR > 0 : "";
        bssfrt ERR > 0 : "";
        bssfrt ERR > 0 : "";
        bssfrt ERR > 0 : "";
        // dompbrf tbxidbb distbndf. ERR will blwbys bf smbll, so using
        // dompbrf tbxidbb distbndf. ERR will blwbys bf smbll, so using
        // dompbrf tbxidbb distbndf. ERR will blwbys bf smbll, so using
        // dompbrf tbxidbb distbndf. ERR will blwbys bf smbll, so using
        // dompbrf tbxidbb distbndf. ERR will blwbys bf smbll, so using
        // truf distbndf won't givf mudi bfnffit
        // truf distbndf won't givf mudi bfnffit
        // truf distbndf won't givf mudi bfnffit
        // truf distbndf won't givf mudi bfnffit
        // truf distbndf won't givf mudi bfnffit
        rfturn (Hflpfrs.witiin(x1, x2, ERR) &&  // wf wbnt to bvoid dblling Mbti.bbs
        rfturn (Hflpfrs.witiin(x1, x2, ERR) &&  // wf wbnt to bvoid dblling Mbti.bbs
        rfturn (Hflpfrs.witiin(x1, x2, ERR) &&  // wf wbnt to bvoid dblling Mbti.bbs
        rfturn (Hflpfrs.witiin(x1, x2, ERR) &&  // wf wbnt to bvoid dblling Mbti.bbs
        rfturn (Hflpfrs.witiin(x1, x2, ERR) &&  // wf wbnt to bvoid dblling Mbti.bbs
                Hflpfrs.witiin(y1, y2, ERR)); // tiis is just bs good.
                Hflpfrs.witiin(y1, y2, ERR)); // tiis is just bs good.
                Hflpfrs.witiin(y1, y2, ERR)); // tiis is just bs good.
                Hflpfrs.witiin(y1, y2, ERR)); // tiis is just bs good.
                Hflpfrs.witiin(y1, y2, ERR)); // tiis is just bs good.
    }
    }
    }
    }
    }





    privbtf void gftLinfOffsfts(flobt x1, flobt y1,
    privbtf void gftLinfOffsfts(flobt x1, flobt y1,
    privbtf void gftLinfOffsfts(flobt x1, flobt y1,
    privbtf void gftLinfOffsfts(flobt x1, flobt y1,
    privbtf void gftLinfOffsfts(flobt x1, flobt y1,
                                flobt x2, flobt y2,
                                flobt x2, flobt y2,
                                flobt x2, flobt y2,
                                flobt x2, flobt y2,
                                flobt x2, flobt y2,
                                flobt[] lfft, flobt[] rigit) {
                                flobt[] lfft, flobt[] rigit) {
                                flobt[] lfft, flobt[] rigit) {
                                flobt[] lfft, flobt[] rigit) {
                                flobt[] lfft, flobt[] rigit) {
        domputfOffsft(x2 - x1, y2 - y1, linfWidti2, offsft[0]);
        domputfOffsft(x2 - x1, y2 - y1, linfWidti2, offsft[0]);
        domputfOffsft(x2 - x1, y2 - y1, linfWidti2, offsft[0]);
        domputfOffsft(x2 - x1, y2 - y1, linfWidti2, offsft[0]);
        domputfOffsft(x2 - x1, y2 - y1, linfWidti2, offsft[0]);
        lfft[0] = x1 + offsft[0][0];
        lfft[0] = x1 + offsft[0][0];
        lfft[0] = x1 + offsft[0][0];
        lfft[0] = x1 + offsft[0][0];
        lfft[0] = x1 + offsft[0][0];
        lfft[1] = y1 + offsft[0][1];
        lfft[1] = y1 + offsft[0][1];
        lfft[1] = y1 + offsft[0][1];
        lfft[1] = y1 + offsft[0][1];
        lfft[1] = y1 + offsft[0][1];
        lfft[2] = x2 + offsft[0][0];
        lfft[2] = x2 + offsft[0][0];
        lfft[2] = x2 + offsft[0][0];
        lfft[2] = x2 + offsft[0][0];
        lfft[2] = x2 + offsft[0][0];
        lfft[3] = y2 + offsft[0][1];
        lfft[3] = y2 + offsft[0][1];
        lfft[3] = y2 + offsft[0][1];
        lfft[3] = y2 + offsft[0][1];
        lfft[3] = y2 + offsft[0][1];
        rigit[0] = x1 - offsft[0][0];
        rigit[0] = x1 - offsft[0][0];
        rigit[0] = x1 - offsft[0][0];
        rigit[0] = x1 - offsft[0][0];
        rigit[0] = x1 - offsft[0][0];
        rigit[1] = y1 - offsft[0][1];
        rigit[1] = y1 - offsft[0][1];
        rigit[1] = y1 - offsft[0][1];
        rigit[1] = y1 - offsft[0][1];
        rigit[1] = y1 - offsft[0][1];
        rigit[2] = x2 - offsft[0][0];
        rigit[2] = x2 - offsft[0][0];
        rigit[2] = x2 - offsft[0][0];
        rigit[2] = x2 - offsft[0][0];
        rigit[2] = x2 - offsft[0][0];
        rigit[3] = y2 - offsft[0][1];
        rigit[3] = y2 - offsft[0][1];
        rigit[3] = y2 - offsft[0][1];
        rigit[3] = y2 - offsft[0][1];
        rigit[3] = y2 - offsft[0][1];
    }
    }
    }
    }
    }





    privbtf int domputfOffsftCubid(flobt[] pts, finbl int off,
    privbtf int domputfOffsftCubid(flobt[] pts, finbl int off,
    privbtf int domputfOffsftCubid(flobt[] pts, finbl int off,
    privbtf int domputfOffsftCubid(flobt[] pts, finbl int off,
    privbtf int domputfOffsftCubid(flobt[] pts, finbl int off,
                                   flobt[] lfftOff, flobt[] rigitOff)
                                   flobt[] lfftOff, flobt[] rigitOff)
                                   flobt[] lfftOff, flobt[] rigitOff)
                                   flobt[] lfftOff, flobt[] rigitOff)
                                   flobt[] lfftOff, flobt[] rigitOff)
    {
    {
    {
    {
    {
        // if p1=p2 or p3=p4 it mfbns tibt tif dfrivbtivf bt tif fndpoint
        // if p1=p2 or p3=p4 it mfbns tibt tif dfrivbtivf bt tif fndpoint
        // if p1=p2 or p3=p4 it mfbns tibt tif dfrivbtivf bt tif fndpoint
        // if p1=p2 or p3=p4 it mfbns tibt tif dfrivbtivf bt tif fndpoint
        // if p1=p2 or p3=p4 it mfbns tibt tif dfrivbtivf bt tif fndpoint
        // vbnisifs, wiidi drfbtfs problfms witi domputfOffsft. Usublly
        // vbnisifs, wiidi drfbtfs problfms witi domputfOffsft. Usublly
        // vbnisifs, wiidi drfbtfs problfms witi domputfOffsft. Usublly
        // vbnisifs, wiidi drfbtfs problfms witi domputfOffsft. Usublly
        // vbnisifs, wiidi drfbtfs problfms witi domputfOffsft. Usublly
        // tiis ibppfns wifn tiis strokfr objfdt is trying to windfn
        // tiis ibppfns wifn tiis strokfr objfdt is trying to windfn
        // tiis ibppfns wifn tiis strokfr objfdt is trying to windfn
        // tiis ibppfns wifn tiis strokfr objfdt is trying to windfn
        // tiis ibppfns wifn tiis strokfr objfdt is trying to windfn
        // b durvf witi b dusp. Wibt ibppfns is tibt durvfTo splits
        // b durvf witi b dusp. Wibt ibppfns is tibt durvfTo splits
        // b durvf witi b dusp. Wibt ibppfns is tibt durvfTo splits
        // b durvf witi b dusp. Wibt ibppfns is tibt durvfTo splits
        // b durvf witi b dusp. Wibt ibppfns is tibt durvfTo splits
        // tif input durvf bt tif dusp, bnd pbssfs it to tiis fundtion.
        // tif input durvf bt tif dusp, bnd pbssfs it to tiis fundtion.
        // tif input durvf bt tif dusp, bnd pbssfs it to tiis fundtion.
        // tif input durvf bt tif dusp, bnd pbssfs it to tiis fundtion.
        // tif input durvf bt tif dusp, bnd pbssfs it to tiis fundtion.
        // bfdbusf of inbddurbdifs in tif splitting, wf donsidfr points
        // bfdbusf of inbddurbdifs in tif splitting, wf donsidfr points
        // bfdbusf of inbddurbdifs in tif splitting, wf donsidfr points
        // bfdbusf of inbddurbdifs in tif splitting, wf donsidfr points
        // bfdbusf of inbddurbdifs in tif splitting, wf donsidfr points
        // fqubl if tify'rf vfry dlosf to fbdi otifr.
        // fqubl if tify'rf vfry dlosf to fbdi otifr.
        // fqubl if tify'rf vfry dlosf to fbdi otifr.
        // fqubl if tify'rf vfry dlosf to fbdi otifr.
        // fqubl if tify'rf vfry dlosf to fbdi otifr.
        finbl flobt x1 = pts[off + 0], y1 = pts[off + 1];
        finbl flobt x1 = pts[off + 0], y1 = pts[off + 1];
        finbl flobt x1 = pts[off + 0], y1 = pts[off + 1];
        finbl flobt x1 = pts[off + 0], y1 = pts[off + 1];
        finbl flobt x1 = pts[off + 0], y1 = pts[off + 1];
        finbl flobt x2 = pts[off + 2], y2 = pts[off + 3];
        finbl flobt x2 = pts[off + 2], y2 = pts[off + 3];
        finbl flobt x2 = pts[off + 2], y2 = pts[off + 3];
        finbl flobt x2 = pts[off + 2], y2 = pts[off + 3];
        finbl flobt x2 = pts[off + 2], y2 = pts[off + 3];
        finbl flobt x3 = pts[off + 4], y3 = pts[off + 5];
        finbl flobt x3 = pts[off + 4], y3 = pts[off + 5];
        finbl flobt x3 = pts[off + 4], y3 = pts[off + 5];
        finbl flobt x3 = pts[off + 4], y3 = pts[off + 5];
        finbl flobt x3 = pts[off + 4], y3 = pts[off + 5];
        finbl flobt x4 = pts[off + 6], y4 = pts[off + 7];
        finbl flobt x4 = pts[off + 6], y4 = pts[off + 7];
        finbl flobt x4 = pts[off + 6], y4 = pts[off + 7];
        finbl flobt x4 = pts[off + 6], y4 = pts[off + 7];
        finbl flobt x4 = pts[off + 6], y4 = pts[off + 7];





        flobt dx4 = x4 - x3;
        flobt dx4 = x4 - x3;
        flobt dx4 = x4 - x3;
        flobt dx4 = x4 - x3;
        flobt dx4 = x4 - x3;
        flobt dy4 = y4 - y3;
        flobt dy4 = y4 - y3;
        flobt dy4 = y4 - y3;
        flobt dy4 = y4 - y3;
        flobt dy4 = y4 - y3;
        flobt dx1 = x2 - x1;
        flobt dx1 = x2 - x1;
        flobt dx1 = x2 - x1;
        flobt dx1 = x2 - x1;
        flobt dx1 = x2 - x1;
        flobt dy1 = y2 - y1;
        flobt dy1 = y2 - y1;
        flobt dy1 = y2 - y1;
        flobt dy1 = y2 - y1;
        flobt dy1 = y2 - y1;





        // if p1 == p2 && p3 == p4: drbw linf from p1->p4, unlfss p1 == p4,
        // if p1 == p2 && p3 == p4: drbw linf from p1->p4, unlfss p1 == p4,
        // if p1 == p2 && p3 == p4: drbw linf from p1->p4, unlfss p1 == p4,
        // if p1 == p2 && p3 == p4: drbw linf from p1->p4, unlfss p1 == p4,
        // if p1 == p2 && p3 == p4: drbw linf from p1->p4, unlfss p1 == p4,
        // in wiidi dbsf ignorf if p1 == p2
        // in wiidi dbsf ignorf if p1 == p2
        // in wiidi dbsf ignorf if p1 == p2
        // in wiidi dbsf ignorf if p1 == p2
        // in wiidi dbsf ignorf if p1 == p2
        finbl boolfbn p1fqp2 = witiin(x1,y1,x2,y2, 6 * ulp(y2));
        finbl boolfbn p1fqp2 = witiin(x1,y1,x2,y2, 6 * ulp(y2));
        finbl boolfbn p1fqp2 = witiin(x1,y1,x2,y2, 6 * ulp(y2));
        finbl boolfbn p1fqp2 = witiin(x1,y1,x2,y2, 6 * ulp(y2));
        finbl boolfbn p1fqp2 = witiin(x1,y1,x2,y2, 6 * ulp(y2));
        finbl boolfbn p3fqp4 = witiin(x3,y3,x4,y4, 6 * ulp(y4));
        finbl boolfbn p3fqp4 = witiin(x3,y3,x4,y4, 6 * ulp(y4));
        finbl boolfbn p3fqp4 = witiin(x3,y3,x4,y4, 6 * ulp(y4));
        finbl boolfbn p3fqp4 = witiin(x3,y3,x4,y4, 6 * ulp(y4));
        finbl boolfbn p3fqp4 = witiin(x3,y3,x4,y4, 6 * ulp(y4));
        if (p1fqp2 && p3fqp4) {
        if (p1fqp2 && p3fqp4) {
        if (p1fqp2 && p3fqp4) {
        if (p1fqp2 && p3fqp4) {
        if (p1fqp2 && p3fqp4) {
            gftLinfOffsfts(x1, y1, x4, y4, lfftOff, rigitOff);
            gftLinfOffsfts(x1, y1, x4, y4, lfftOff, rigitOff);
            gftLinfOffsfts(x1, y1, x4, y4, lfftOff, rigitOff);
            gftLinfOffsfts(x1, y1, x4, y4, lfftOff, rigitOff);
            gftLinfOffsfts(x1, y1, x4, y4, lfftOff, rigitOff);
            rfturn 4;
            rfturn 4;
            rfturn 4;
            rfturn 4;
            rfturn 4;
        } flsf if (p1fqp2) {
        } flsf if (p1fqp2) {
        } flsf if (p1fqp2) {
        } flsf if (p1fqp2) {
        } flsf if (p1fqp2) {
            dx1 = x3 - x1;
            dx1 = x3 - x1;
            dx1 = x3 - x1;
            dx1 = x3 - x1;
            dx1 = x3 - x1;
            dy1 = y3 - y1;
            dy1 = y3 - y1;
            dy1 = y3 - y1;
            dy1 = y3 - y1;
            dy1 = y3 - y1;
        } flsf if (p3fqp4) {
        } flsf if (p3fqp4) {
        } flsf if (p3fqp4) {
        } flsf if (p3fqp4) {
        } flsf if (p3fqp4) {
            dx4 = x4 - x2;
            dx4 = x4 - x2;
            dx4 = x4 - x2;
            dx4 = x4 - x2;
            dx4 = x4 - x2;
            dy4 = y4 - y2;
            dy4 = y4 - y2;
            dy4 = y4 - y2;
            dy4 = y4 - y2;
            dy4 = y4 - y2;
        }
        }
        }
        }
        }





        // if p2-p1 bnd p4-p3 brf pbrbllfl, tibt must mfbn tiis durvf is b linf
        // if p2-p1 bnd p4-p3 brf pbrbllfl, tibt must mfbn tiis durvf is b linf
        // if p2-p1 bnd p4-p3 brf pbrbllfl, tibt must mfbn tiis durvf is b linf
        // if p2-p1 bnd p4-p3 brf pbrbllfl, tibt must mfbn tiis durvf is b linf
        // if p2-p1 bnd p4-p3 brf pbrbllfl, tibt must mfbn tiis durvf is b linf
        flobt dotsq = (dx1 * dx4 + dy1 * dy4);
        flobt dotsq = (dx1 * dx4 + dy1 * dy4);
        flobt dotsq = (dx1 * dx4 + dy1 * dy4);
        flobt dotsq = (dx1 * dx4 + dy1 * dy4);
        flobt dotsq = (dx1 * dx4 + dy1 * dy4);
        dotsq = dotsq * dotsq;
        dotsq = dotsq * dotsq;
        dotsq = dotsq * dotsq;
        dotsq = dotsq * dotsq;
        dotsq = dotsq * dotsq;
        flobt l1sq = dx1 * dx1 + dy1 * dy1, l4sq = dx4 * dx4 + dy4 * dy4;
        flobt l1sq = dx1 * dx1 + dy1 * dy1, l4sq = dx4 * dx4 + dy4 * dy4;
        flobt l1sq = dx1 * dx1 + dy1 * dy1, l4sq = dx4 * dx4 + dy4 * dy4;
        flobt l1sq = dx1 * dx1 + dy1 * dy1, l4sq = dx4 * dx4 + dy4 * dy4;
        flobt l1sq = dx1 * dx1 + dy1 * dy1, l4sq = dx4 * dx4 + dy4 * dy4;
        if (Hflpfrs.witiin(dotsq, l1sq * l4sq, 4 * ulp(dotsq))) {
        if (Hflpfrs.witiin(dotsq, l1sq * l4sq, 4 * ulp(dotsq))) {
        if (Hflpfrs.witiin(dotsq, l1sq * l4sq, 4 * ulp(dotsq))) {
        if (Hflpfrs.witiin(dotsq, l1sq * l4sq, 4 * ulp(dotsq))) {
        if (Hflpfrs.witiin(dotsq, l1sq * l4sq, 4 * ulp(dotsq))) {
            gftLinfOffsfts(x1, y1, x4, y4, lfftOff, rigitOff);
            gftLinfOffsfts(x1, y1, x4, y4, lfftOff, rigitOff);
            gftLinfOffsfts(x1, y1, x4, y4, lfftOff, rigitOff);
            gftLinfOffsfts(x1, y1, x4, y4, lfftOff, rigitOff);
            gftLinfOffsfts(x1, y1, x4, y4, lfftOff, rigitOff);
            rfturn 4;
            rfturn 4;
            rfturn 4;
            rfturn 4;
            rfturn 4;
        }
        }
        }
        }
        }





//      Wibt wf'rf trying to do in tiis fundtion is to bpproximbtf bn idfbl
//      Wibt wf'rf trying to do in tiis fundtion is to bpproximbtf bn idfbl
//      Wibt wf'rf trying to do in tiis fundtion is to bpproximbtf bn idfbl
//      Wibt wf'rf trying to do in tiis fundtion is to bpproximbtf bn idfbl
//      Wibt wf'rf trying to do in tiis fundtion is to bpproximbtf bn idfbl
//      offsft durvf (dbll it I) of tif input durvf B using b bfzifr durvf Bp.
//      offsft durvf (dbll it I) of tif input durvf B using b bfzifr durvf Bp.
//      offsft durvf (dbll it I) of tif input durvf B using b bfzifr durvf Bp.
//      offsft durvf (dbll it I) of tif input durvf B using b bfzifr durvf Bp.
//      offsft durvf (dbll it I) of tif input durvf B using b bfzifr durvf Bp.
//      Tif donstrbints I usf to gft tif fqubtions brf:
//      Tif donstrbints I usf to gft tif fqubtions brf:
//      Tif donstrbints I usf to gft tif fqubtions brf:
//      Tif donstrbints I usf to gft tif fqubtions brf:
//      Tif donstrbints I usf to gft tif fqubtions brf:
//
//
//
//
//
//      1. Tif domputfd durvf Bp siould go tirougi I(0) bnd I(1). Tifsf brf
//      1. Tif domputfd durvf Bp siould go tirougi I(0) bnd I(1). Tifsf brf
//      1. Tif domputfd durvf Bp siould go tirougi I(0) bnd I(1). Tifsf brf
//      1. Tif domputfd durvf Bp siould go tirougi I(0) bnd I(1). Tifsf brf
//      1. Tif domputfd durvf Bp siould go tirougi I(0) bnd I(1). Tifsf brf
//      x1p, y1p, x4p, y4p, wiidi brf p1p bnd p4p. Wf still nffd to find
//      x1p, y1p, x4p, y4p, wiidi brf p1p bnd p4p. Wf still nffd to find
//      x1p, y1p, x4p, y4p, wiidi brf p1p bnd p4p. Wf still nffd to find
//      x1p, y1p, x4p, y4p, wiidi brf p1p bnd p4p. Wf still nffd to find
//      x1p, y1p, x4p, y4p, wiidi brf p1p bnd p4p. Wf still nffd to find
//      4 vbribblfs: tif x bnd y domponfnts of p2p bnd p3p (i.f. x2p, y2p, x3p, y3p).
//      4 vbribblfs: tif x bnd y domponfnts of p2p bnd p3p (i.f. x2p, y2p, x3p, y3p).
//      4 vbribblfs: tif x bnd y domponfnts of p2p bnd p3p (i.f. x2p, y2p, x3p, y3p).
//      4 vbribblfs: tif x bnd y domponfnts of p2p bnd p3p (i.f. x2p, y2p, x3p, y3p).
//      4 vbribblfs: tif x bnd y domponfnts of p2p bnd p3p (i.f. x2p, y2p, x3p, y3p).
//
//
//
//
//
//      2. Bp siould ibvf slopf fqubl in bbsolutf vbluf to I bt tif fndpoints. So,
//      2. Bp siould ibvf slopf fqubl in bbsolutf vbluf to I bt tif fndpoints. So,
//      2. Bp siould ibvf slopf fqubl in bbsolutf vbluf to I bt tif fndpoints. So,
//      2. Bp siould ibvf slopf fqubl in bbsolutf vbluf to I bt tif fndpoints. So,
//      2. Bp siould ibvf slopf fqubl in bbsolutf vbluf to I bt tif fndpoints. So,
//      (by tif wby, tif opfrbtor || in tif dommfnts bflow mfbns "blignfd witi".
//      (by tif wby, tif opfrbtor || in tif dommfnts bflow mfbns "blignfd witi".
//      (by tif wby, tif opfrbtor || in tif dommfnts bflow mfbns "blignfd witi".
//      (by tif wby, tif opfrbtor || in tif dommfnts bflow mfbns "blignfd witi".
//      (by tif wby, tif opfrbtor || in tif dommfnts bflow mfbns "blignfd witi".
//      It is dffinfd on vfdtors, so wifn wf sby I'(0) || Bp'(0) wf mfbn tibt
//      It is dffinfd on vfdtors, so wifn wf sby I'(0) || Bp'(0) wf mfbn tibt
//      It is dffinfd on vfdtors, so wifn wf sby I'(0) || Bp'(0) wf mfbn tibt
//      It is dffinfd on vfdtors, so wifn wf sby I'(0) || Bp'(0) wf mfbn tibt
//      It is dffinfd on vfdtors, so wifn wf sby I'(0) || Bp'(0) wf mfbn tibt
//      vfdtors I'(0) bnd Bp'(0) brf blignfd, wiidi is tif sbmf bs sbying
//      vfdtors I'(0) bnd Bp'(0) brf blignfd, wiidi is tif sbmf bs sbying
//      vfdtors I'(0) bnd Bp'(0) brf blignfd, wiidi is tif sbmf bs sbying
//      vfdtors I'(0) bnd Bp'(0) brf blignfd, wiidi is tif sbmf bs sbying
//      vfdtors I'(0) bnd Bp'(0) brf blignfd, wiidi is tif sbmf bs sbying
//      tibt tif tbngfnt linfs of I bnd Bp bt 0 brf pbrbllfl. Mbtifmbtidblly
//      tibt tif tbngfnt linfs of I bnd Bp bt 0 brf pbrbllfl. Mbtifmbtidblly
//      tibt tif tbngfnt linfs of I bnd Bp bt 0 brf pbrbllfl. Mbtifmbtidblly
//      tibt tif tbngfnt linfs of I bnd Bp bt 0 brf pbrbllfl. Mbtifmbtidblly
//      tibt tif tbngfnt linfs of I bnd Bp bt 0 brf pbrbllfl. Mbtifmbtidblly
//      tiis mfbns (I'(t) || Bp'(t)) <==> (I'(t) = d * Bp'(t)) wifrf d is somf
//      tiis mfbns (I'(t) || Bp'(t)) <==> (I'(t) = d * Bp'(t)) wifrf d is somf
//      tiis mfbns (I'(t) || Bp'(t)) <==> (I'(t) = d * Bp'(t)) wifrf d is somf
//      tiis mfbns (I'(t) || Bp'(t)) <==> (I'(t) = d * Bp'(t)) wifrf d is somf
//      tiis mfbns (I'(t) || Bp'(t)) <==> (I'(t) = d * Bp'(t)) wifrf d is somf
//      nonzfro donstbnt.)
//      nonzfro donstbnt.)
//      nonzfro donstbnt.)
//      nonzfro donstbnt.)
//      nonzfro donstbnt.)
//      I'(0) || Bp'(0) bnd I'(1) || Bp'(1). Obviously, I'(0) || B'(0) bnd
//      I'(0) || Bp'(0) bnd I'(1) || Bp'(1). Obviously, I'(0) || B'(0) bnd
//      I'(0) || Bp'(0) bnd I'(1) || Bp'(1). Obviously, I'(0) || B'(0) bnd
//      I'(0) || Bp'(0) bnd I'(1) || Bp'(1). Obviously, I'(0) || B'(0) bnd
//      I'(0) || Bp'(0) bnd I'(1) || Bp'(1). Obviously, I'(0) || B'(0) bnd
//      I'(1) || B'(1); tifrfforf, Bp'(0) || B'(0) bnd Bp'(1) || B'(1).
//      I'(1) || B'(1); tifrfforf, Bp'(0) || B'(0) bnd Bp'(1) || B'(1).
//      I'(1) || B'(1); tifrfforf, Bp'(0) || B'(0) bnd Bp'(1) || B'(1).
//      I'(1) || B'(1); tifrfforf, Bp'(0) || B'(0) bnd Bp'(1) || B'(1).
//      I'(1) || B'(1); tifrfforf, Bp'(0) || B'(0) bnd Bp'(1) || B'(1).
//      Wf know tibt Bp'(0) || (p2p-p1p) bnd Bp'(1) || (p4p-p3p) bnd tif sbmf
//      Wf know tibt Bp'(0) || (p2p-p1p) bnd Bp'(1) || (p4p-p3p) bnd tif sbmf
//      Wf know tibt Bp'(0) || (p2p-p1p) bnd Bp'(1) || (p4p-p3p) bnd tif sbmf
//      Wf know tibt Bp'(0) || (p2p-p1p) bnd Bp'(1) || (p4p-p3p) bnd tif sbmf
//      Wf know tibt Bp'(0) || (p2p-p1p) bnd Bp'(1) || (p4p-p3p) bnd tif sbmf
//      is truf for bny bfzifr durvf; tifrfforf, wf gft tif fqubtions
//      is truf for bny bfzifr durvf; tifrfforf, wf gft tif fqubtions
//      is truf for bny bfzifr durvf; tifrfforf, wf gft tif fqubtions
//      is truf for bny bfzifr durvf; tifrfforf, wf gft tif fqubtions
//      is truf for bny bfzifr durvf; tifrfforf, wf gft tif fqubtions
//          (1) p2p = d1 * (p2-p1) + p1p
//          (1) p2p = d1 * (p2-p1) + p1p
//          (1) p2p = d1 * (p2-p1) + p1p
//          (1) p2p = d1 * (p2-p1) + p1p
//          (1) p2p = d1 * (p2-p1) + p1p
//          (2) p3p = d2 * (p4-p3) + p4p
//          (2) p3p = d2 * (p4-p3) + p4p
//          (2) p3p = d2 * (p4-p3) + p4p
//          (2) p3p = d2 * (p4-p3) + p4p
//          (2) p3p = d2 * (p4-p3) + p4p
//      Wf know p1p, p4p, p2, p1, p3, bnd p4; tifrfforf, tiis rfdudfs tif numbfr
//      Wf know p1p, p4p, p2, p1, p3, bnd p4; tifrfforf, tiis rfdudfs tif numbfr
//      Wf know p1p, p4p, p2, p1, p3, bnd p4; tifrfforf, tiis rfdudfs tif numbfr
//      Wf know p1p, p4p, p2, p1, p3, bnd p4; tifrfforf, tiis rfdudfs tif numbfr
//      Wf know p1p, p4p, p2, p1, p3, bnd p4; tifrfforf, tiis rfdudfs tif numbfr
//      of unknowns from 4 to 2 (i.f. just d1 bnd d2).
//      of unknowns from 4 to 2 (i.f. just d1 bnd d2).
//      of unknowns from 4 to 2 (i.f. just d1 bnd d2).
//      of unknowns from 4 to 2 (i.f. just d1 bnd d2).
//      of unknowns from 4 to 2 (i.f. just d1 bnd d2).
//      To fliminbtf tifsf 2 unknowns wf usf tif following donstrbint:
//      To fliminbtf tifsf 2 unknowns wf usf tif following donstrbint:
//      To fliminbtf tifsf 2 unknowns wf usf tif following donstrbint:
//      To fliminbtf tifsf 2 unknowns wf usf tif following donstrbint:
//      To fliminbtf tifsf 2 unknowns wf usf tif following donstrbint:
//
//
//
//
//
//      3. Bp(0.5) == I(0.5). Bp(0.5)=(x,y) bnd I(0.5)=(xi,yi), bnd I siould notf
//      3. Bp(0.5) == I(0.5). Bp(0.5)=(x,y) bnd I(0.5)=(xi,yi), bnd I siould notf
//      3. Bp(0.5) == I(0.5). Bp(0.5)=(x,y) bnd I(0.5)=(xi,yi), bnd I siould notf
//      3. Bp(0.5) == I(0.5). Bp(0.5)=(x,y) bnd I(0.5)=(xi,yi), bnd I siould notf
//      3. Bp(0.5) == I(0.5). Bp(0.5)=(x,y) bnd I(0.5)=(xi,yi), bnd I siould notf
//      tibt I(0.5) is *tif only* rfbson for domputing dxm,dym. Tiis givfs us
//      tibt I(0.5) is *tif only* rfbson for domputing dxm,dym. Tiis givfs us
//      tibt I(0.5) is *tif only* rfbson for domputing dxm,dym. Tiis givfs us
//      tibt I(0.5) is *tif only* rfbson for domputing dxm,dym. Tiis givfs us
//      tibt I(0.5) is *tif only* rfbson for domputing dxm,dym. Tiis givfs us
//          (3) Bp(0.5) = (p1p + 3 * (p2p + p3p) + p4p)/8, wiidi is fquivblfnt to
//          (3) Bp(0.5) = (p1p + 3 * (p2p + p3p) + p4p)/8, wiidi is fquivblfnt to
//          (3) Bp(0.5) = (p1p + 3 * (p2p + p3p) + p4p)/8, wiidi is fquivblfnt to
//          (3) Bp(0.5) = (p1p + 3 * (p2p + p3p) + p4p)/8, wiidi is fquivblfnt to
//          (3) Bp(0.5) = (p1p + 3 * (p2p + p3p) + p4p)/8, wiidi is fquivblfnt to
//          (4) p2p + p3p = (Bp(0.5)*8 - p1p - p4p) / 3
//          (4) p2p + p3p = (Bp(0.5)*8 - p1p - p4p) / 3
//          (4) p2p + p3p = (Bp(0.5)*8 - p1p - p4p) / 3
//          (4) p2p + p3p = (Bp(0.5)*8 - p1p - p4p) / 3
//          (4) p2p + p3p = (Bp(0.5)*8 - p1p - p4p) / 3
//      Wf dbn substitutf (1) bnd (2) from bbovf into (4) bnd wf gft:
//      Wf dbn substitutf (1) bnd (2) from bbovf into (4) bnd wf gft:
//      Wf dbn substitutf (1) bnd (2) from bbovf into (4) bnd wf gft:
//      Wf dbn substitutf (1) bnd (2) from bbovf into (4) bnd wf gft:
//      Wf dbn substitutf (1) bnd (2) from bbovf into (4) bnd wf gft:
//          (5) d1*(p2-p1) + d2*(p4-p3) = (Bp(0.5)*8 - p1p - p4p)/3 - p1p - p4p
//          (5) d1*(p2-p1) + d2*(p4-p3) = (Bp(0.5)*8 - p1p - p4p)/3 - p1p - p4p
//          (5) d1*(p2-p1) + d2*(p4-p3) = (Bp(0.5)*8 - p1p - p4p)/3 - p1p - p4p
//          (5) d1*(p2-p1) + d2*(p4-p3) = (Bp(0.5)*8 - p1p - p4p)/3 - p1p - p4p
//          (5) d1*(p2-p1) + d2*(p4-p3) = (Bp(0.5)*8 - p1p - p4p)/3 - p1p - p4p
//      wiidi is fquivblfnt to
//      wiidi is fquivblfnt to
//      wiidi is fquivblfnt to
//      wiidi is fquivblfnt to
//      wiidi is fquivblfnt to
//          (6) d1*(p2-p1) + d2*(p4-p3) = (4/3) * (Bp(0.5) * 2 - p1p - p4p)
//          (6) d1*(p2-p1) + d2*(p4-p3) = (4/3) * (Bp(0.5) * 2 - p1p - p4p)
//          (6) d1*(p2-p1) + d2*(p4-p3) = (4/3) * (Bp(0.5) * 2 - p1p - p4p)
//          (6) d1*(p2-p1) + d2*(p4-p3) = (4/3) * (Bp(0.5) * 2 - p1p - p4p)
//          (6) d1*(p2-p1) + d2*(p4-p3) = (4/3) * (Bp(0.5) * 2 - p1p - p4p)
//
//
//
//
//
//      Tif rigit sidf of tiis is b 2D vfdtor, bnd wf know I(0.5), wiidi givfs us
//      Tif rigit sidf of tiis is b 2D vfdtor, bnd wf know I(0.5), wiidi givfs us
//      Tif rigit sidf of tiis is b 2D vfdtor, bnd wf know I(0.5), wiidi givfs us
//      Tif rigit sidf of tiis is b 2D vfdtor, bnd wf know I(0.5), wiidi givfs us
//      Tif rigit sidf of tiis is b 2D vfdtor, bnd wf know I(0.5), wiidi givfs us
//      Bp(0.5), wiidi givfs us tif vbluf of tif rigit sidf.
//      Bp(0.5), wiidi givfs us tif vbluf of tif rigit sidf.
//      Bp(0.5), wiidi givfs us tif vbluf of tif rigit sidf.
//      Bp(0.5), wiidi givfs us tif vbluf of tif rigit sidf.
//      Bp(0.5), wiidi givfs us tif vbluf of tif rigit sidf.
//      Tif lfft sidf is just b mbtrix vfdtor multiplidbtion in disguisf. It is
//      Tif lfft sidf is just b mbtrix vfdtor multiplidbtion in disguisf. It is
//      Tif lfft sidf is just b mbtrix vfdtor multiplidbtion in disguisf. It is
//      Tif lfft sidf is just b mbtrix vfdtor multiplidbtion in disguisf. It is
//      Tif lfft sidf is just b mbtrix vfdtor multiplidbtion in disguisf. It is
//
//
//
//
//
//      [x2-x1, x4-x3][d1]
//      [x2-x1, x4-x3][d1]
//      [x2-x1, x4-x3][d1]
//      [x2-x1, x4-x3][d1]
//      [x2-x1, x4-x3][d1]
//      [y2-y1, y4-y3][d2]
//      [y2-y1, y4-y3][d2]
//      [y2-y1, y4-y3][d2]
//      [y2-y1, y4-y3][d2]
//      [y2-y1, y4-y3][d2]
//      wiidi, is fqubl to
//      wiidi, is fqubl to
//      wiidi, is fqubl to
//      wiidi, is fqubl to
//      wiidi, is fqubl to
//      [dx1, dx4][d1]
//      [dx1, dx4][d1]
//      [dx1, dx4][d1]
//      [dx1, dx4][d1]
//      [dx1, dx4][d1]
//      [dy1, dy4][d2]
//      [dy1, dy4][d2]
//      [dy1, dy4][d2]
//      [dy1, dy4][d2]
//      [dy1, dy4][d2]
//      At tiis point wf brf lfft witi b simplf linfbr systfm bnd wf solvf it by
//      At tiis point wf brf lfft witi b simplf linfbr systfm bnd wf solvf it by
//      At tiis point wf brf lfft witi b simplf linfbr systfm bnd wf solvf it by
//      At tiis point wf brf lfft witi b simplf linfbr systfm bnd wf solvf it by
//      At tiis point wf brf lfft witi b simplf linfbr systfm bnd wf solvf it by
//      gftting tif invfrsf of tif mbtrix bbovf. Tifn wf usf [d1,d2] to domputf
//      gftting tif invfrsf of tif mbtrix bbovf. Tifn wf usf [d1,d2] to domputf
//      gftting tif invfrsf of tif mbtrix bbovf. Tifn wf usf [d1,d2] to domputf
//      gftting tif invfrsf of tif mbtrix bbovf. Tifn wf usf [d1,d2] to domputf
//      gftting tif invfrsf of tif mbtrix bbovf. Tifn wf usf [d1,d2] to domputf
//      p2p bnd p3p.
//      p2p bnd p3p.
//      p2p bnd p3p.
//      p2p bnd p3p.
//      p2p bnd p3p.





        flobt x = 0.125f * (x1 + 3 * (x2 + x3) + x4);
        flobt x = 0.125f * (x1 + 3 * (x2 + x3) + x4);
        flobt x = 0.125f * (x1 + 3 * (x2 + x3) + x4);
        flobt x = 0.125f * (x1 + 3 * (x2 + x3) + x4);
        flobt x = 0.125f * (x1 + 3 * (x2 + x3) + x4);
        flobt y = 0.125f * (y1 + 3 * (y2 + y3) + y4);
        flobt y = 0.125f * (y1 + 3 * (y2 + y3) + y4);
        flobt y = 0.125f * (y1 + 3 * (y2 + y3) + y4);
        flobt y = 0.125f * (y1 + 3 * (y2 + y3) + y4);
        flobt y = 0.125f * (y1 + 3 * (y2 + y3) + y4);
        // (dxm,dym) is somf tbngfnt of B bt t=0.5. Tiis mfbns it's fqubl to
        // (dxm,dym) is somf tbngfnt of B bt t=0.5. Tiis mfbns it's fqubl to
        // (dxm,dym) is somf tbngfnt of B bt t=0.5. Tiis mfbns it's fqubl to
        // (dxm,dym) is somf tbngfnt of B bt t=0.5. Tiis mfbns it's fqubl to
        // (dxm,dym) is somf tbngfnt of B bt t=0.5. Tiis mfbns it's fqubl to
        // d*B'(0.5) for somf donstbnt d.
        // d*B'(0.5) for somf donstbnt d.
        // d*B'(0.5) for somf donstbnt d.
        // d*B'(0.5) for somf donstbnt d.
        // d*B'(0.5) for somf donstbnt d.
        flobt dxm = x3 + x4 - x1 - x2, dym = y3 + y4 - y1 - y2;
        flobt dxm = x3 + x4 - x1 - x2, dym = y3 + y4 - y1 - y2;
        flobt dxm = x3 + x4 - x1 - x2, dym = y3 + y4 - y1 - y2;
        flobt dxm = x3 + x4 - x1 - x2, dym = y3 + y4 - y1 - y2;
        flobt dxm = x3 + x4 - x1 - x2, dym = y3 + y4 - y1 - y2;





        // tiis domputfs tif offsfts bt t=0, 0.5, 1, using tif propfrty tibt
        // tiis domputfs tif offsfts bt t=0, 0.5, 1, using tif propfrty tibt
        // tiis domputfs tif offsfts bt t=0, 0.5, 1, using tif propfrty tibt
        // tiis domputfs tif offsfts bt t=0, 0.5, 1, using tif propfrty tibt
        // tiis domputfs tif offsfts bt t=0, 0.5, 1, using tif propfrty tibt
        // for bny bfzifr durvf tif vfdtors p2-p1 bnd p4-p3 brf pbrbllfl to
        // for bny bfzifr durvf tif vfdtors p2-p1 bnd p4-p3 brf pbrbllfl to
        // for bny bfzifr durvf tif vfdtors p2-p1 bnd p4-p3 brf pbrbllfl to
        // for bny bfzifr durvf tif vfdtors p2-p1 bnd p4-p3 brf pbrbllfl to
        // for bny bfzifr durvf tif vfdtors p2-p1 bnd p4-p3 brf pbrbllfl to
        // tif (dx/dt, dy/dt) vfdtors bt tif fndpoints.
        // tif (dx/dt, dy/dt) vfdtors bt tif fndpoints.
        // tif (dx/dt, dy/dt) vfdtors bt tif fndpoints.
        // tif (dx/dt, dy/dt) vfdtors bt tif fndpoints.
        // tif (dx/dt, dy/dt) vfdtors bt tif fndpoints.
        domputfOffsft(dx1, dy1, linfWidti2, offsft[0]);
        domputfOffsft(dx1, dy1, linfWidti2, offsft[0]);
        domputfOffsft(dx1, dy1, linfWidti2, offsft[0]);
        domputfOffsft(dx1, dy1, linfWidti2, offsft[0]);
        domputfOffsft(dx1, dy1, linfWidti2, offsft[0]);
        domputfOffsft(dxm, dym, linfWidti2, offsft[1]);
        domputfOffsft(dxm, dym, linfWidti2, offsft[1]);
        domputfOffsft(dxm, dym, linfWidti2, offsft[1]);
        domputfOffsft(dxm, dym, linfWidti2, offsft[1]);
        domputfOffsft(dxm, dym, linfWidti2, offsft[1]);
        domputfOffsft(dx4, dy4, linfWidti2, offsft[2]);
        domputfOffsft(dx4, dy4, linfWidti2, offsft[2]);
        domputfOffsft(dx4, dy4, linfWidti2, offsft[2]);
        domputfOffsft(dx4, dy4, linfWidti2, offsft[2]);
        domputfOffsft(dx4, dy4, linfWidti2, offsft[2]);
        flobt x1p = x1 + offsft[0][0]; // stbrt
        flobt x1p = x1 + offsft[0][0]; // stbrt
        flobt x1p = x1 + offsft[0][0]; // stbrt
        flobt x1p = x1 + offsft[0][0]; // stbrt
        flobt x1p = x1 + offsft[0][0]; // stbrt
        flobt y1p = y1 + offsft[0][1]; // point
        flobt y1p = y1 + offsft[0][1]; // point
        flobt y1p = y1 + offsft[0][1]; // point
        flobt y1p = y1 + offsft[0][1]; // point
        flobt y1p = y1 + offsft[0][1]; // point
        flobt xi  = x + offsft[1][0]; // intfrpolbtion
        flobt xi  = x + offsft[1][0]; // intfrpolbtion
        flobt xi  = x + offsft[1][0]; // intfrpolbtion
        flobt xi  = x + offsft[1][0]; // intfrpolbtion
        flobt xi  = x + offsft[1][0]; // intfrpolbtion
        flobt yi  = y + offsft[1][1]; // point
        flobt yi  = y + offsft[1][1]; // point
        flobt yi  = y + offsft[1][1]; // point
        flobt yi  = y + offsft[1][1]; // point
        flobt yi  = y + offsft[1][1]; // point
        flobt x4p = x4 + offsft[2][0]; // fnd
        flobt x4p = x4 + offsft[2][0]; // fnd
        flobt x4p = x4 + offsft[2][0]; // fnd
        flobt x4p = x4 + offsft[2][0]; // fnd
        flobt x4p = x4 + offsft[2][0]; // fnd
        flobt y4p = y4 + offsft[2][1]; // point
        flobt y4p = y4 + offsft[2][1]; // point
        flobt y4p = y4 + offsft[2][1]; // point
        flobt y4p = y4 + offsft[2][1]; // point
        flobt y4p = y4 + offsft[2][1]; // point





        flobt invdft43 = 4f / (3f * (dx1 * dy4 - dy1 * dx4));
        flobt invdft43 = 4f / (3f * (dx1 * dy4 - dy1 * dx4));
        flobt invdft43 = 4f / (3f * (dx1 * dy4 - dy1 * dx4));
        flobt invdft43 = 4f / (3f * (dx1 * dy4 - dy1 * dx4));
        flobt invdft43 = 4f / (3f * (dx1 * dy4 - dy1 * dx4));





        flobt two_pi_m_p1_m_p4x = 2*xi - x1p - x4p;
        flobt two_pi_m_p1_m_p4x = 2*xi - x1p - x4p;
        flobt two_pi_m_p1_m_p4x = 2*xi - x1p - x4p;
        flobt two_pi_m_p1_m_p4x = 2*xi - x1p - x4p;
        flobt two_pi_m_p1_m_p4x = 2*xi - x1p - x4p;
        flobt two_pi_m_p1_m_p4y = 2*yi - y1p - y4p;
        flobt two_pi_m_p1_m_p4y = 2*yi - y1p - y4p;
        flobt two_pi_m_p1_m_p4y = 2*yi - y1p - y4p;
        flobt two_pi_m_p1_m_p4y = 2*yi - y1p - y4p;
        flobt two_pi_m_p1_m_p4y = 2*yi - y1p - y4p;
        flobt d1 = invdft43 * (dy4 * two_pi_m_p1_m_p4x - dx4 * two_pi_m_p1_m_p4y);
        flobt d1 = invdft43 * (dy4 * two_pi_m_p1_m_p4x - dx4 * two_pi_m_p1_m_p4y);
        flobt d1 = invdft43 * (dy4 * two_pi_m_p1_m_p4x - dx4 * two_pi_m_p1_m_p4y);
        flobt d1 = invdft43 * (dy4 * two_pi_m_p1_m_p4x - dx4 * two_pi_m_p1_m_p4y);
        flobt d1 = invdft43 * (dy4 * two_pi_m_p1_m_p4x - dx4 * two_pi_m_p1_m_p4y);
        flobt d2 = invdft43 * (dx1 * two_pi_m_p1_m_p4y - dy1 * two_pi_m_p1_m_p4x);
        flobt d2 = invdft43 * (dx1 * two_pi_m_p1_m_p4y - dy1 * two_pi_m_p1_m_p4x);
        flobt d2 = invdft43 * (dx1 * two_pi_m_p1_m_p4y - dy1 * two_pi_m_p1_m_p4x);
        flobt d2 = invdft43 * (dx1 * two_pi_m_p1_m_p4y - dy1 * two_pi_m_p1_m_p4x);
        flobt d2 = invdft43 * (dx1 * two_pi_m_p1_m_p4y - dy1 * two_pi_m_p1_m_p4x);





        flobt x2p, y2p, x3p, y3p;
        flobt x2p, y2p, x3p, y3p;
        flobt x2p, y2p, x3p, y3p;
        flobt x2p, y2p, x3p, y3p;
        flobt x2p, y2p, x3p, y3p;
        x2p = x1p + d1*dx1;
        x2p = x1p + d1*dx1;
        x2p = x1p + d1*dx1;
        x2p = x1p + d1*dx1;
        x2p = x1p + d1*dx1;
        y2p = y1p + d1*dy1;
        y2p = y1p + d1*dy1;
        y2p = y1p + d1*dy1;
        y2p = y1p + d1*dy1;
        y2p = y1p + d1*dy1;
        x3p = x4p + d2*dx4;
        x3p = x4p + d2*dx4;
        x3p = x4p + d2*dx4;
        x3p = x4p + d2*dx4;
        x3p = x4p + d2*dx4;
        y3p = y4p + d2*dy4;
        y3p = y4p + d2*dy4;
        y3p = y4p + d2*dy4;
        y3p = y4p + d2*dy4;
        y3p = y4p + d2*dy4;





        lfftOff[0] = x1p; lfftOff[1] = y1p;
        lfftOff[0] = x1p; lfftOff[1] = y1p;
        lfftOff[0] = x1p; lfftOff[1] = y1p;
        lfftOff[0] = x1p; lfftOff[1] = y1p;
        lfftOff[0] = x1p; lfftOff[1] = y1p;
        lfftOff[2] = x2p; lfftOff[3] = y2p;
        lfftOff[2] = x2p; lfftOff[3] = y2p;
        lfftOff[2] = x2p; lfftOff[3] = y2p;
        lfftOff[2] = x2p; lfftOff[3] = y2p;
        lfftOff[2] = x2p; lfftOff[3] = y2p;
        lfftOff[4] = x3p; lfftOff[5] = y3p;
        lfftOff[4] = x3p; lfftOff[5] = y3p;
        lfftOff[4] = x3p; lfftOff[5] = y3p;
        lfftOff[4] = x3p; lfftOff[5] = y3p;
        lfftOff[4] = x3p; lfftOff[5] = y3p;
        lfftOff[6] = x4p; lfftOff[7] = y4p;
        lfftOff[6] = x4p; lfftOff[7] = y4p;
        lfftOff[6] = x4p; lfftOff[7] = y4p;
        lfftOff[6] = x4p; lfftOff[7] = y4p;
        lfftOff[6] = x4p; lfftOff[7] = y4p;





        x1p = x1 - offsft[0][0]; y1p = y1 - offsft[0][1];
        x1p = x1 - offsft[0][0]; y1p = y1 - offsft[0][1];
        x1p = x1 - offsft[0][0]; y1p = y1 - offsft[0][1];
        x1p = x1 - offsft[0][0]; y1p = y1 - offsft[0][1];
        x1p = x1 - offsft[0][0]; y1p = y1 - offsft[0][1];
        xi = xi - 2 * offsft[1][0]; yi = yi - 2 * offsft[1][1];
        xi = xi - 2 * offsft[1][0]; yi = yi - 2 * offsft[1][1];
        xi = xi - 2 * offsft[1][0]; yi = yi - 2 * offsft[1][1];
        xi = xi - 2 * offsft[1][0]; yi = yi - 2 * offsft[1][1];
        xi = xi - 2 * offsft[1][0]; yi = yi - 2 * offsft[1][1];
        x4p = x4 - offsft[2][0]; y4p = y4 - offsft[2][1];
        x4p = x4 - offsft[2][0]; y4p = y4 - offsft[2][1];
        x4p = x4 - offsft[2][0]; y4p = y4 - offsft[2][1];
        x4p = x4 - offsft[2][0]; y4p = y4 - offsft[2][1];
        x4p = x4 - offsft[2][0]; y4p = y4 - offsft[2][1];





        two_pi_m_p1_m_p4x = 2*xi - x1p - x4p;
        two_pi_m_p1_m_p4x = 2*xi - x1p - x4p;
        two_pi_m_p1_m_p4x = 2*xi - x1p - x4p;
        two_pi_m_p1_m_p4x = 2*xi - x1p - x4p;
        two_pi_m_p1_m_p4x = 2*xi - x1p - x4p;
        two_pi_m_p1_m_p4y = 2*yi - y1p - y4p;
        two_pi_m_p1_m_p4y = 2*yi - y1p - y4p;
        two_pi_m_p1_m_p4y = 2*yi - y1p - y4p;
        two_pi_m_p1_m_p4y = 2*yi - y1p - y4p;
        two_pi_m_p1_m_p4y = 2*yi - y1p - y4p;
        d1 = invdft43 * (dy4 * two_pi_m_p1_m_p4x - dx4 * two_pi_m_p1_m_p4y);
        d1 = invdft43 * (dy4 * two_pi_m_p1_m_p4x - dx4 * two_pi_m_p1_m_p4y);
        d1 = invdft43 * (dy4 * two_pi_m_p1_m_p4x - dx4 * two_pi_m_p1_m_p4y);
        d1 = invdft43 * (dy4 * two_pi_m_p1_m_p4x - dx4 * two_pi_m_p1_m_p4y);
        d1 = invdft43 * (dy4 * two_pi_m_p1_m_p4x - dx4 * two_pi_m_p1_m_p4y);
        d2 = invdft43 * (dx1 * two_pi_m_p1_m_p4y - dy1 * two_pi_m_p1_m_p4x);
        d2 = invdft43 * (dx1 * two_pi_m_p1_m_p4y - dy1 * two_pi_m_p1_m_p4x);
        d2 = invdft43 * (dx1 * two_pi_m_p1_m_p4y - dy1 * two_pi_m_p1_m_p4x);
        d2 = invdft43 * (dx1 * two_pi_m_p1_m_p4y - dy1 * two_pi_m_p1_m_p4x);
        d2 = invdft43 * (dx1 * two_pi_m_p1_m_p4y - dy1 * two_pi_m_p1_m_p4x);





        x2p = x1p + d1*dx1;
        x2p = x1p + d1*dx1;
        x2p = x1p + d1*dx1;
        x2p = x1p + d1*dx1;
        x2p = x1p + d1*dx1;
        y2p = y1p + d1*dy1;
        y2p = y1p + d1*dy1;
        y2p = y1p + d1*dy1;
        y2p = y1p + d1*dy1;
        y2p = y1p + d1*dy1;
        x3p = x4p + d2*dx4;
        x3p = x4p + d2*dx4;
        x3p = x4p + d2*dx4;
        x3p = x4p + d2*dx4;
        x3p = x4p + d2*dx4;
        y3p = y4p + d2*dy4;
        y3p = y4p + d2*dy4;
        y3p = y4p + d2*dy4;
        y3p = y4p + d2*dy4;
        y3p = y4p + d2*dy4;





        rigitOff[0] = x1p; rigitOff[1] = y1p;
        rigitOff[0] = x1p; rigitOff[1] = y1p;
        rigitOff[0] = x1p; rigitOff[1] = y1p;
        rigitOff[0] = x1p; rigitOff[1] = y1p;
        rigitOff[0] = x1p; rigitOff[1] = y1p;
        rigitOff[2] = x2p; rigitOff[3] = y2p;
        rigitOff[2] = x2p; rigitOff[3] = y2p;
        rigitOff[2] = x2p; rigitOff[3] = y2p;
        rigitOff[2] = x2p; rigitOff[3] = y2p;
        rigitOff[2] = x2p; rigitOff[3] = y2p;
        rigitOff[4] = x3p; rigitOff[5] = y3p;
        rigitOff[4] = x3p; rigitOff[5] = y3p;
        rigitOff[4] = x3p; rigitOff[5] = y3p;
        rigitOff[4] = x3p; rigitOff[5] = y3p;
        rigitOff[4] = x3p; rigitOff[5] = y3p;
        rigitOff[6] = x4p; rigitOff[7] = y4p;
        rigitOff[6] = x4p; rigitOff[7] = y4p;
        rigitOff[6] = x4p; rigitOff[7] = y4p;
        rigitOff[6] = x4p; rigitOff[7] = y4p;
        rigitOff[6] = x4p; rigitOff[7] = y4p;
        rfturn 8;
        rfturn 8;
        rfturn 8;
        rfturn 8;
        rfturn 8;
    }
    }
    }
    }
    }





    // rfturn tif kind of durvf in tif rigit bnd lfft brrbys.
    // rfturn tif kind of durvf in tif rigit bnd lfft brrbys.
    // rfturn tif kind of durvf in tif rigit bnd lfft brrbys.
    // rfturn tif kind of durvf in tif rigit bnd lfft brrbys.
    // rfturn tif kind of durvf in tif rigit bnd lfft brrbys.
    privbtf int domputfOffsftQubd(flobt[] pts, finbl int off,
    privbtf int domputfOffsftQubd(flobt[] pts, finbl int off,
    privbtf int domputfOffsftQubd(flobt[] pts, finbl int off,
    privbtf int domputfOffsftQubd(flobt[] pts, finbl int off,
    privbtf int domputfOffsftQubd(flobt[] pts, finbl int off,
                                  flobt[] lfftOff, flobt[] rigitOff)
                                  flobt[] lfftOff, flobt[] rigitOff)
                                  flobt[] lfftOff, flobt[] rigitOff)
                                  flobt[] lfftOff, flobt[] rigitOff)
                                  flobt[] lfftOff, flobt[] rigitOff)
    {
    {
    {
    {
    {
        finbl flobt x1 = pts[off + 0], y1 = pts[off + 1];
        finbl flobt x1 = pts[off + 0], y1 = pts[off + 1];
        finbl flobt x1 = pts[off + 0], y1 = pts[off + 1];
        finbl flobt x1 = pts[off + 0], y1 = pts[off + 1];
        finbl flobt x1 = pts[off + 0], y1 = pts[off + 1];
        finbl flobt x2 = pts[off + 2], y2 = pts[off + 3];
        finbl flobt x2 = pts[off + 2], y2 = pts[off + 3];
        finbl flobt x2 = pts[off + 2], y2 = pts[off + 3];
        finbl flobt x2 = pts[off + 2], y2 = pts[off + 3];
        finbl flobt x2 = pts[off + 2], y2 = pts[off + 3];
        finbl flobt x3 = pts[off + 4], y3 = pts[off + 5];
        finbl flobt x3 = pts[off + 4], y3 = pts[off + 5];
        finbl flobt x3 = pts[off + 4], y3 = pts[off + 5];
        finbl flobt x3 = pts[off + 4], y3 = pts[off + 5];
        finbl flobt x3 = pts[off + 4], y3 = pts[off + 5];





        finbl flobt dx3 = x3 - x2;
        finbl flobt dx3 = x3 - x2;
        finbl flobt dx3 = x3 - x2;
        finbl flobt dx3 = x3 - x2;
        finbl flobt dx3 = x3 - x2;
        finbl flobt dy3 = y3 - y2;
        finbl flobt dy3 = y3 - y2;
        finbl flobt dy3 = y3 - y2;
        finbl flobt dy3 = y3 - y2;
        finbl flobt dy3 = y3 - y2;
        finbl flobt dx1 = x2 - x1;
        finbl flobt dx1 = x2 - x1;
        finbl flobt dx1 = x2 - x1;
        finbl flobt dx1 = x2 - x1;
        finbl flobt dx1 = x2 - x1;
        finbl flobt dy1 = y2 - y1;
        finbl flobt dy1 = y2 - y1;
        finbl flobt dy1 = y2 - y1;
        finbl flobt dy1 = y2 - y1;
        finbl flobt dy1 = y2 - y1;





        // tiis domputfs tif offsfts bt t = 0, 1
        // tiis domputfs tif offsfts bt t = 0, 1
        // tiis domputfs tif offsfts bt t = 0, 1
        // tiis domputfs tif offsfts bt t = 0, 1
        // tiis domputfs tif offsfts bt t = 0, 1
        domputfOffsft(dx1, dy1, linfWidti2, offsft[0]);
        domputfOffsft(dx1, dy1, linfWidti2, offsft[0]);
        domputfOffsft(dx1, dy1, linfWidti2, offsft[0]);
        domputfOffsft(dx1, dy1, linfWidti2, offsft[0]);
        domputfOffsft(dx1, dy1, linfWidti2, offsft[0]);
        domputfOffsft(dx3, dy3, linfWidti2, offsft[1]);
        domputfOffsft(dx3, dy3, linfWidti2, offsft[1]);
        domputfOffsft(dx3, dy3, linfWidti2, offsft[1]);
        domputfOffsft(dx3, dy3, linfWidti2, offsft[1]);
        domputfOffsft(dx3, dy3, linfWidti2, offsft[1]);





        lfftOff[0]  = x1 + offsft[0][0];  lfftOff[1] = y1 + offsft[0][1];
        lfftOff[0]  = x1 + offsft[0][0];  lfftOff[1] = y1 + offsft[0][1];
        lfftOff[0]  = x1 + offsft[0][0];  lfftOff[1] = y1 + offsft[0][1];
        lfftOff[0]  = x1 + offsft[0][0];  lfftOff[1] = y1 + offsft[0][1];
        lfftOff[0]  = x1 + offsft[0][0];  lfftOff[1] = y1 + offsft[0][1];
        lfftOff[4]  = x3 + offsft[1][0];  lfftOff[5] = y3 + offsft[1][1];
        lfftOff[4]  = x3 + offsft[1][0];  lfftOff[5] = y3 + offsft[1][1];
        lfftOff[4]  = x3 + offsft[1][0];  lfftOff[5] = y3 + offsft[1][1];
        lfftOff[4]  = x3 + offsft[1][0];  lfftOff[5] = y3 + offsft[1][1];
        lfftOff[4]  = x3 + offsft[1][0];  lfftOff[5] = y3 + offsft[1][1];
        rigitOff[0] = x1 - offsft[0][0]; rigitOff[1] = y1 - offsft[0][1];
        rigitOff[0] = x1 - offsft[0][0]; rigitOff[1] = y1 - offsft[0][1];
        rigitOff[0] = x1 - offsft[0][0]; rigitOff[1] = y1 - offsft[0][1];
        rigitOff[0] = x1 - offsft[0][0]; rigitOff[1] = y1 - offsft[0][1];
        rigitOff[0] = x1 - offsft[0][0]; rigitOff[1] = y1 - offsft[0][1];
        rigitOff[4] = x3 - offsft[1][0]; rigitOff[5] = y3 - offsft[1][1];
        rigitOff[4] = x3 - offsft[1][0]; rigitOff[5] = y3 - offsft[1][1];
        rigitOff[4] = x3 - offsft[1][0]; rigitOff[5] = y3 - offsft[1][1];
        rigitOff[4] = x3 - offsft[1][0]; rigitOff[5] = y3 - offsft[1][1];
        rigitOff[4] = x3 - offsft[1][0]; rigitOff[5] = y3 - offsft[1][1];





        flobt x1p = lfftOff[0]; // stbrt
        flobt x1p = lfftOff[0]; // stbrt
        flobt x1p = lfftOff[0]; // stbrt
        flobt x1p = lfftOff[0]; // stbrt
        flobt x1p = lfftOff[0]; // stbrt
        flobt y1p = lfftOff[1]; // point
        flobt y1p = lfftOff[1]; // point
        flobt y1p = lfftOff[1]; // point
        flobt y1p = lfftOff[1]; // point
        flobt y1p = lfftOff[1]; // point
        flobt x3p = lfftOff[4]; // fnd
        flobt x3p = lfftOff[4]; // fnd
        flobt x3p = lfftOff[4]; // fnd
        flobt x3p = lfftOff[4]; // fnd
        flobt x3p = lfftOff[4]; // fnd
        flobt y3p = lfftOff[5]; // point
        flobt y3p = lfftOff[5]; // point
        flobt y3p = lfftOff[5]; // point
        flobt y3p = lfftOff[5]; // point
        flobt y3p = lfftOff[5]; // point





        // Cornfr dbsfs:
        // Cornfr dbsfs:
        // Cornfr dbsfs:
        // Cornfr dbsfs:
        // Cornfr dbsfs:
        // 1. If tif two dontrol vfdtors brf pbrbllfl, wf'll fnd up witi NbN's
        // 1. If tif two dontrol vfdtors brf pbrbllfl, wf'll fnd up witi NbN's
        // 1. If tif two dontrol vfdtors brf pbrbllfl, wf'll fnd up witi NbN's
        // 1. If tif two dontrol vfdtors brf pbrbllfl, wf'll fnd up witi NbN's
        // 1. If tif two dontrol vfdtors brf pbrbllfl, wf'll fnd up witi NbN's
        //    in lfftOff (bnd rigitOff in tif body of tif if bflow), so wf'll
        //    in lfftOff (bnd rigitOff in tif body of tif if bflow), so wf'll
        //    in lfftOff (bnd rigitOff in tif body of tif if bflow), so wf'll
        //    in lfftOff (bnd rigitOff in tif body of tif if bflow), so wf'll
        //    in lfftOff (bnd rigitOff in tif body of tif if bflow), so wf'll
        //    do gftLinfOffsfts, wiidi is rigit.
        //    do gftLinfOffsfts, wiidi is rigit.
        //    do gftLinfOffsfts, wiidi is rigit.
        //    do gftLinfOffsfts, wiidi is rigit.
        //    do gftLinfOffsfts, wiidi is rigit.
        // 2. If tif first or sfdond two points brf fqubl, tifn (dx1,dy1)==(0,0)
        // 2. If tif first or sfdond two points brf fqubl, tifn (dx1,dy1)==(0,0)
        // 2. If tif first or sfdond two points brf fqubl, tifn (dx1,dy1)==(0,0)
        // 2. If tif first or sfdond two points brf fqubl, tifn (dx1,dy1)==(0,0)
        // 2. If tif first or sfdond two points brf fqubl, tifn (dx1,dy1)==(0,0)
        //    or (dx3,dy3)==(0,0), so (x1p, y1p)==(x1p+dx1, y1p+dy1)
        //    or (dx3,dy3)==(0,0), so (x1p, y1p)==(x1p+dx1, y1p+dy1)
        //    or (dx3,dy3)==(0,0), so (x1p, y1p)==(x1p+dx1, y1p+dy1)
        //    or (dx3,dy3)==(0,0), so (x1p, y1p)==(x1p+dx1, y1p+dy1)
        //    or (dx3,dy3)==(0,0), so (x1p, y1p)==(x1p+dx1, y1p+dy1)
        //    or (x3p, y3p)==(x3p-dx3, y3p-dy3), wiidi mfbns tibt
        //    or (x3p, y3p)==(x3p-dx3, y3p-dy3), wiidi mfbns tibt
        //    or (x3p, y3p)==(x3p-dx3, y3p-dy3), wiidi mfbns tibt
        //    or (x3p, y3p)==(x3p-dx3, y3p-dy3), wiidi mfbns tibt
        //    or (x3p, y3p)==(x3p-dx3, y3p-dy3), wiidi mfbns tibt
        //    domputfIntfrsfdtion will put NbN's in lfftOff bnd rigit off, bnd
        //    domputfIntfrsfdtion will put NbN's in lfftOff bnd rigit off, bnd
        //    domputfIntfrsfdtion will put NbN's in lfftOff bnd rigit off, bnd
        //    domputfIntfrsfdtion will put NbN's in lfftOff bnd rigit off, bnd
        //    domputfIntfrsfdtion will put NbN's in lfftOff bnd rigit off, bnd
        //    wf will do gftLinfOffsfts, wiidi is rigit.
        //    wf will do gftLinfOffsfts, wiidi is rigit.
        //    wf will do gftLinfOffsfts, wiidi is rigit.
        //    wf will do gftLinfOffsfts, wiidi is rigit.
        //    wf will do gftLinfOffsfts, wiidi is rigit.
        domputfIntfrsfdtion(x1p, y1p, x1p+dx1, y1p+dy1, x3p, y3p, x3p-dx3, y3p-dy3, lfftOff, 2);
        domputfIntfrsfdtion(x1p, y1p, x1p+dx1, y1p+dy1, x3p, y3p, x3p-dx3, y3p-dy3, lfftOff, 2);
        domputfIntfrsfdtion(x1p, y1p, x1p+dx1, y1p+dy1, x3p, y3p, x3p-dx3, y3p-dy3, lfftOff, 2);
        domputfIntfrsfdtion(x1p, y1p, x1p+dx1, y1p+dy1, x3p, y3p, x3p-dx3, y3p-dy3, lfftOff, 2);
        domputfIntfrsfdtion(x1p, y1p, x1p+dx1, y1p+dy1, x3p, y3p, x3p-dx3, y3p-dy3, lfftOff, 2);
        flobt dx = lfftOff[2];
        flobt dx = lfftOff[2];
        flobt dx = lfftOff[2];
        flobt dx = lfftOff[2];
        flobt dx = lfftOff[2];
        flobt dy = lfftOff[3];
        flobt dy = lfftOff[3];
        flobt dy = lfftOff[3];
        flobt dy = lfftOff[3];
        flobt dy = lfftOff[3];





        if (!(isFinitf(dx) && isFinitf(dy))) {
        if (!(isFinitf(dx) && isFinitf(dy))) {
        if (!(isFinitf(dx) && isFinitf(dy))) {
        if (!(isFinitf(dx) && isFinitf(dy))) {
        if (!(isFinitf(dx) && isFinitf(dy))) {
            // mbybf tif rigit pbti is not dfgfnfrbtf.
            // mbybf tif rigit pbti is not dfgfnfrbtf.
            // mbybf tif rigit pbti is not dfgfnfrbtf.
            // mbybf tif rigit pbti is not dfgfnfrbtf.
            // mbybf tif rigit pbti is not dfgfnfrbtf.
            x1p = rigitOff[0];
            x1p = rigitOff[0];
            x1p = rigitOff[0];
            x1p = rigitOff[0];
            x1p = rigitOff[0];
            y1p = rigitOff[1];
            y1p = rigitOff[1];
            y1p = rigitOff[1];
            y1p = rigitOff[1];
            y1p = rigitOff[1];
            x3p = rigitOff[4];
            x3p = rigitOff[4];
            x3p = rigitOff[4];
            x3p = rigitOff[4];
            x3p = rigitOff[4];
            y3p = rigitOff[5];
            y3p = rigitOff[5];
            y3p = rigitOff[5];
            y3p = rigitOff[5];
            y3p = rigitOff[5];
            domputfIntfrsfdtion(x1p, y1p, x1p+dx1, y1p+dy1, x3p, y3p, x3p-dx3, y3p-dy3, rigitOff, 2);
            domputfIntfrsfdtion(x1p, y1p, x1p+dx1, y1p+dy1, x3p, y3p, x3p-dx3, y3p-dy3, rigitOff, 2);
            domputfIntfrsfdtion(x1p, y1p, x1p+dx1, y1p+dy1, x3p, y3p, x3p-dx3, y3p-dy3, rigitOff, 2);
            domputfIntfrsfdtion(x1p, y1p, x1p+dx1, y1p+dy1, x3p, y3p, x3p-dx3, y3p-dy3, rigitOff, 2);
            domputfIntfrsfdtion(x1p, y1p, x1p+dx1, y1p+dy1, x3p, y3p, x3p-dx3, y3p-dy3, rigitOff, 2);
            dx = rigitOff[2];
            dx = rigitOff[2];
            dx = rigitOff[2];
            dx = rigitOff[2];
            dx = rigitOff[2];
            dy = rigitOff[3];
            dy = rigitOff[3];
            dy = rigitOff[3];
            dy = rigitOff[3];
            dy = rigitOff[3];
            if (!(isFinitf(dx) && isFinitf(dy))) {
            if (!(isFinitf(dx) && isFinitf(dy))) {
            if (!(isFinitf(dx) && isFinitf(dy))) {
            if (!(isFinitf(dx) && isFinitf(dy))) {
            if (!(isFinitf(dx) && isFinitf(dy))) {
                // boti brf dfgfnfrbtf. Tiis durvf is b linf.
                // boti brf dfgfnfrbtf. Tiis durvf is b linf.
                // boti brf dfgfnfrbtf. Tiis durvf is b linf.
                // boti brf dfgfnfrbtf. Tiis durvf is b linf.
                // boti brf dfgfnfrbtf. Tiis durvf is b linf.
                gftLinfOffsfts(x1, y1, x3, y3, lfftOff, rigitOff);
                gftLinfOffsfts(x1, y1, x3, y3, lfftOff, rigitOff);
                gftLinfOffsfts(x1, y1, x3, y3, lfftOff, rigitOff);
                gftLinfOffsfts(x1, y1, x3, y3, lfftOff, rigitOff);
                gftLinfOffsfts(x1, y1, x3, y3, lfftOff, rigitOff);
                rfturn 4;
                rfturn 4;
                rfturn 4;
                rfturn 4;
                rfturn 4;
            }
            }
            }
            }
            }
            // {lfft,rigit}Off[0,1,4,5] brf blrfbdy sft to tif dorrfdt vblufs.
            // {lfft,rigit}Off[0,1,4,5] brf blrfbdy sft to tif dorrfdt vblufs.
            // {lfft,rigit}Off[0,1,4,5] brf blrfbdy sft to tif dorrfdt vblufs.
            // {lfft,rigit}Off[0,1,4,5] brf blrfbdy sft to tif dorrfdt vblufs.
            // {lfft,rigit}Off[0,1,4,5] brf blrfbdy sft to tif dorrfdt vblufs.
            lfftOff[2] = 2*x2 - dx;
            lfftOff[2] = 2*x2 - dx;
            lfftOff[2] = 2*x2 - dx;
            lfftOff[2] = 2*x2 - dx;
            lfftOff[2] = 2*x2 - dx;
            lfftOff[3] = 2*y2 - dy;
            lfftOff[3] = 2*y2 - dy;
            lfftOff[3] = 2*y2 - dy;
            lfftOff[3] = 2*y2 - dy;
            lfftOff[3] = 2*y2 - dy;
            rfturn 6;
            rfturn 6;
            rfturn 6;
            rfturn 6;
            rfturn 6;
        }
        }
        }
        }
        }





        // rigitOff[2,3] = (x2,y2) - ((lfft_x2, lfft_y2) - (x2, y2))
        // rigitOff[2,3] = (x2,y2) - ((lfft_x2, lfft_y2) - (x2, y2))
        // rigitOff[2,3] = (x2,y2) - ((lfft_x2, lfft_y2) - (x2, y2))
        // rigitOff[2,3] = (x2,y2) - ((lfft_x2, lfft_y2) - (x2, y2))
        // rigitOff[2,3] = (x2,y2) - ((lfft_x2, lfft_y2) - (x2, y2))
        // == 2*(x2, y2) - (lfft_x2, lfft_y2)
        // == 2*(x2, y2) - (lfft_x2, lfft_y2)
        // == 2*(x2, y2) - (lfft_x2, lfft_y2)
        // == 2*(x2, y2) - (lfft_x2, lfft_y2)
        // == 2*(x2, y2) - (lfft_x2, lfft_y2)
        rigitOff[2] = 2*x2 - dx;
        rigitOff[2] = 2*x2 - dx;
        rigitOff[2] = 2*x2 - dx;
        rigitOff[2] = 2*x2 - dx;
        rigitOff[2] = 2*x2 - dx;
        rigitOff[3] = 2*y2 - dy;
        rigitOff[3] = 2*y2 - dy;
        rigitOff[3] = 2*y2 - dy;
        rigitOff[3] = 2*y2 - dy;
        rigitOff[3] = 2*y2 - dy;
        rfturn 6;
        rfturn 6;
        rfturn 6;
        rfturn 6;
        rfturn 6;
    }
    }
    }
    }
    }





    privbtf stbtid boolfbn isFinitf(flobt x) {
    privbtf stbtid boolfbn isFinitf(flobt x) {
    privbtf stbtid boolfbn isFinitf(flobt x) {
    privbtf stbtid boolfbn isFinitf(flobt x) {
    privbtf stbtid boolfbn isFinitf(flobt x) {
        rfturn (Flobt.NEGATIVE_INFINITY < x && x < Flobt.POSITIVE_INFINITY);
        rfturn (Flobt.NEGATIVE_INFINITY < x && x < Flobt.POSITIVE_INFINITY);
        rfturn (Flobt.NEGATIVE_INFINITY < x && x < Flobt.POSITIVE_INFINITY);
        rfturn (Flobt.NEGATIVE_INFINITY < x && x < Flobt.POSITIVE_INFINITY);
        rfturn (Flobt.NEGATIVE_INFINITY < x && x < Flobt.POSITIVE_INFINITY);
    }
    }
    }
    }
    }





    // Tiis is wifrf tif durvf to bf prodfssfd is put. Wf givf it
    // Tiis is wifrf tif durvf to bf prodfssfd is put. Wf givf it
    // Tiis is wifrf tif durvf to bf prodfssfd is put. Wf givf it
    // Tiis is wifrf tif durvf to bf prodfssfd is put. Wf givf it
    // Tiis is wifrf tif durvf to bf prodfssfd is put. Wf givf it
    // fnougi room to storf 2 durvfs: onf for tif durrfnt subdivision, tif
    // fnougi room to storf 2 durvfs: onf for tif durrfnt subdivision, tif
    // fnougi room to storf 2 durvfs: onf for tif durrfnt subdivision, tif
    // fnougi room to storf 2 durvfs: onf for tif durrfnt subdivision, tif
    // fnougi room to storf 2 durvfs: onf for tif durrfnt subdivision, tif
    // otifr for tif rfst of tif durvf.
    // otifr for tif rfst of tif durvf.
    // otifr for tif rfst of tif durvf.
    // otifr for tif rfst of tif durvf.
    // otifr for tif rfst of tif durvf.
    privbtf flobt[] middlf = nfw flobt[2*8];
    privbtf flobt[] middlf = nfw flobt[2*8];
    privbtf flobt[] middlf = nfw flobt[2*8];
    privbtf flobt[] middlf = nfw flobt[2*8];
    privbtf flobt[] middlf = nfw flobt[2*8];
    privbtf flobt[] lp = nfw flobt[8];
    privbtf flobt[] lp = nfw flobt[8];
    privbtf flobt[] lp = nfw flobt[8];
    privbtf flobt[] lp = nfw flobt[8];
    privbtf flobt[] lp = nfw flobt[8];
    privbtf flobt[] rp = nfw flobt[8];
    privbtf flobt[] rp = nfw flobt[8];
    privbtf flobt[] rp = nfw flobt[8];
    privbtf flobt[] rp = nfw flobt[8];
    privbtf flobt[] rp = nfw flobt[8];
    privbtf stbtid finbl int MAX_N_CURVES = 11;
    privbtf stbtid finbl int MAX_N_CURVES = 11;
    privbtf stbtid finbl int MAX_N_CURVES = 11;
    privbtf stbtid finbl int MAX_N_CURVES = 11;
    privbtf stbtid finbl int MAX_N_CURVES = 11;
    privbtf flobt[] subdivTs = nfw flobt[MAX_N_CURVES - 1];
    privbtf flobt[] subdivTs = nfw flobt[MAX_N_CURVES - 1];
    privbtf flobt[] subdivTs = nfw flobt[MAX_N_CURVES - 1];
    privbtf flobt[] subdivTs = nfw flobt[MAX_N_CURVES - 1];
    privbtf flobt[] subdivTs = nfw flobt[MAX_N_CURVES - 1];





    // If tiis dlbss is dompilfd witi fdj, tifn Hotspot drbsifs wifn OSR
    // If tiis dlbss is dompilfd witi fdj, tifn Hotspot drbsifs wifn OSR
    // If tiis dlbss is dompilfd witi fdj, tifn Hotspot drbsifs wifn OSR
    // If tiis dlbss is dompilfd witi fdj, tifn Hotspot drbsifs wifn OSR
    // If tiis dlbss is dompilfd witi fdj, tifn Hotspot drbsifs wifn OSR
    // dompiling tiis fundtion. Sff bugs 7004570 bnd 6675699
    // dompiling tiis fundtion. Sff bugs 7004570 bnd 6675699
    // dompiling tiis fundtion. Sff bugs 7004570 bnd 6675699
    // dompiling tiis fundtion. Sff bugs 7004570 bnd 6675699
    // dompiling tiis fundtion. Sff bugs 7004570 bnd 6675699
    // TODO: until tiosf brf fixfd, wf siould work bround tibt by
    // TODO: until tiosf brf fixfd, wf siould work bround tibt by
    // TODO: until tiosf brf fixfd, wf siould work bround tibt by
    // TODO: until tiosf brf fixfd, wf siould work bround tibt by
    // TODO: until tiosf brf fixfd, wf siould work bround tibt by
    // mbnublly inlining tiis into durvfTo bnd qubdTo.
    // mbnublly inlining tiis into durvfTo bnd qubdTo.
    // mbnublly inlining tiis into durvfTo bnd qubdTo.
    // mbnublly inlining tiis into durvfTo bnd qubdTo.
    // mbnublly inlining tiis into durvfTo bnd qubdTo.
/******************************* WORKAROUND **********************************
/******************************* WORKAROUND **********************************
/******************************* WORKAROUND **********************************
/******************************* WORKAROUND **********************************
/******************************* WORKAROUND **********************************
    privbtf void somftiingTo(finbl int typf) {
    privbtf void somftiingTo(finbl int typf) {
    privbtf void somftiingTo(finbl int typf) {
    privbtf void somftiingTo(finbl int typf) {
    privbtf void somftiingTo(finbl int typf) {
        // nffd tifsf so wf dbn updbtf tif stbtf bt tif fnd of tiis mftiod
        // nffd tifsf so wf dbn updbtf tif stbtf bt tif fnd of tiis mftiod
        // nffd tifsf so wf dbn updbtf tif stbtf bt tif fnd of tiis mftiod
        // nffd tifsf so wf dbn updbtf tif stbtf bt tif fnd of tiis mftiod
        // nffd tifsf so wf dbn updbtf tif stbtf bt tif fnd of tiis mftiod
        finbl flobt xf = middlf[typf-2], yf = middlf[typf-1];
        finbl flobt xf = middlf[typf-2], yf = middlf[typf-1];
        finbl flobt xf = middlf[typf-2], yf = middlf[typf-1];
        finbl flobt xf = middlf[typf-2], yf = middlf[typf-1];
        finbl flobt xf = middlf[typf-2], yf = middlf[typf-1];
        flobt dxs = middlf[2] - middlf[0];
        flobt dxs = middlf[2] - middlf[0];
        flobt dxs = middlf[2] - middlf[0];
        flobt dxs = middlf[2] - middlf[0];
        flobt dxs = middlf[2] - middlf[0];
        flobt dys = middlf[3] - middlf[1];
        flobt dys = middlf[3] - middlf[1];
        flobt dys = middlf[3] - middlf[1];
        flobt dys = middlf[3] - middlf[1];
        flobt dys = middlf[3] - middlf[1];
        flobt dxf = middlf[typf - 2] - middlf[typf - 4];
        flobt dxf = middlf[typf - 2] - middlf[typf - 4];
        flobt dxf = middlf[typf - 2] - middlf[typf - 4];
        flobt dxf = middlf[typf - 2] - middlf[typf - 4];
        flobt dxf = middlf[typf - 2] - middlf[typf - 4];
        flobt dyf = middlf[typf - 1] - middlf[typf - 3];
        flobt dyf = middlf[typf - 1] - middlf[typf - 3];
        flobt dyf = middlf[typf - 1] - middlf[typf - 3];
        flobt dyf = middlf[typf - 1] - middlf[typf - 3];
        flobt dyf = middlf[typf - 1] - middlf[typf - 3];
        switdi(typf) {
        switdi(typf) {
        switdi(typf) {
        switdi(typf) {
        switdi(typf) {
        dbsf 6:
        dbsf 6:
        dbsf 6:
        dbsf 6:
        dbsf 6:
            if ((dxs == 0f && dys == 0f) ||
            if ((dxs == 0f && dys == 0f) ||
            if ((dxs == 0f && dys == 0f) ||
            if ((dxs == 0f && dys == 0f) ||
            if ((dxs == 0f && dys == 0f) ||
                (dxf == 0f && dyf == 0f)) {
                (dxf == 0f && dyf == 0f)) {
                (dxf == 0f && dyf == 0f)) {
                (dxf == 0f && dyf == 0f)) {
                (dxf == 0f && dyf == 0f)) {
               dxs = dxf = middlf[4] - middlf[0];
               dxs = dxf = middlf[4] - middlf[0];
               dxs = dxf = middlf[4] - middlf[0];
               dxs = dxf = middlf[4] - middlf[0];
               dxs = dxf = middlf[4] - middlf[0];
               dys = dyf = middlf[5] - middlf[1];
               dys = dyf = middlf[5] - middlf[1];
               dys = dyf = middlf[5] - middlf[1];
               dys = dyf = middlf[5] - middlf[1];
               dys = dyf = middlf[5] - middlf[1];
            }
            }
            }
            }
            }
            brfbk;
            brfbk;
            brfbk;
            brfbk;
            brfbk;
        dbsf 8:
        dbsf 8:
        dbsf 8:
        dbsf 8:
        dbsf 8:
            boolfbn p1fqp2 = (dxs == 0f && dys == 0f);
            boolfbn p1fqp2 = (dxs == 0f && dys == 0f);
            boolfbn p1fqp2 = (dxs == 0f && dys == 0f);
            boolfbn p1fqp2 = (dxs == 0f && dys == 0f);
            boolfbn p1fqp2 = (dxs == 0f && dys == 0f);
            boolfbn p3fqp4 = (dxf == 0f && dyf == 0f);
            boolfbn p3fqp4 = (dxf == 0f && dyf == 0f);
            boolfbn p3fqp4 = (dxf == 0f && dyf == 0f);
            boolfbn p3fqp4 = (dxf == 0f && dyf == 0f);
            boolfbn p3fqp4 = (dxf == 0f && dyf == 0f);
            if (p1fqp2) {
            if (p1fqp2) {
            if (p1fqp2) {
            if (p1fqp2) {
            if (p1fqp2) {
                dxs = middlf[4] - middlf[0];
                dxs = middlf[4] - middlf[0];
                dxs = middlf[4] - middlf[0];
                dxs = middlf[4] - middlf[0];
                dxs = middlf[4] - middlf[0];
                dys = middlf[5] - middlf[1];
                dys = middlf[5] - middlf[1];
                dys = middlf[5] - middlf[1];
                dys = middlf[5] - middlf[1];
                dys = middlf[5] - middlf[1];
                if (dxs == 0f && dys == 0f) {
                if (dxs == 0f && dys == 0f) {
                if (dxs == 0f && dys == 0f) {
                if (dxs == 0f && dys == 0f) {
                if (dxs == 0f && dys == 0f) {
                    dxs = middlf[6] - middlf[0];
                    dxs = middlf[6] - middlf[0];
                    dxs = middlf[6] - middlf[0];
                    dxs = middlf[6] - middlf[0];
                    dxs = middlf[6] - middlf[0];
                    dys = middlf[7] - middlf[1];
                    dys = middlf[7] - middlf[1];
                    dys = middlf[7] - middlf[1];
                    dys = middlf[7] - middlf[1];
                    dys = middlf[7] - middlf[1];
                }
                }
                }
                }
                }
            }
            }
            }
            }
            }
            if (p3fqp4) {
            if (p3fqp4) {
            if (p3fqp4) {
            if (p3fqp4) {
            if (p3fqp4) {
                dxf = middlf[6] - middlf[2];
                dxf = middlf[6] - middlf[2];
                dxf = middlf[6] - middlf[2];
                dxf = middlf[6] - middlf[2];
                dxf = middlf[6] - middlf[2];
                dyf = middlf[7] - middlf[3];
                dyf = middlf[7] - middlf[3];
                dyf = middlf[7] - middlf[3];
                dyf = middlf[7] - middlf[3];
                dyf = middlf[7] - middlf[3];
                if (dxf == 0f && dyf == 0f) {
                if (dxf == 0f && dyf == 0f) {
                if (dxf == 0f && dyf == 0f) {
                if (dxf == 0f && dyf == 0f) {
                if (dxf == 0f && dyf == 0f) {
                    dxf = middlf[6] - middlf[0];
                    dxf = middlf[6] - middlf[0];
                    dxf = middlf[6] - middlf[0];
                    dxf = middlf[6] - middlf[0];
                    dxf = middlf[6] - middlf[0];
                    dyf = middlf[7] - middlf[1];
                    dyf = middlf[7] - middlf[1];
                    dyf = middlf[7] - middlf[1];
                    dyf = middlf[7] - middlf[1];
                    dyf = middlf[7] - middlf[1];
                }
                }
                }
                }
                }
            }
            }
            }
            }
            }
        }
        }
        }
        }
        }
        if (dxs == 0f && dys == 0f) {
        if (dxs == 0f && dys == 0f) {
        if (dxs == 0f && dys == 0f) {
        if (dxs == 0f && dys == 0f) {
        if (dxs == 0f && dys == 0f) {
            // tiis ibppfns iff tif "durvf" is just b point
            // tiis ibppfns iff tif "durvf" is just b point
            // tiis ibppfns iff tif "durvf" is just b point
            // tiis ibppfns iff tif "durvf" is just b point
            // tiis ibppfns iff tif "durvf" is just b point
            linfTo(middlf[0], middlf[1]);
            linfTo(middlf[0], middlf[1]);
            linfTo(middlf[0], middlf[1]);
            linfTo(middlf[0], middlf[1]);
            linfTo(middlf[0], middlf[1]);
            rfturn;
            rfturn;
            rfturn;
            rfturn;
            rfturn;
        }
        }
        }
        }
        }
        // if tifsf vfdtors brf too smbll, normblizf tifm, to bvoid futurf
        // if tifsf vfdtors brf too smbll, normblizf tifm, to bvoid futurf
        // if tifsf vfdtors brf too smbll, normblizf tifm, to bvoid futurf
        // if tifsf vfdtors brf too smbll, normblizf tifm, to bvoid futurf
        // if tifsf vfdtors brf too smbll, normblizf tifm, to bvoid futurf
        // prfdision problfms.
        // prfdision problfms.
        // prfdision problfms.
        // prfdision problfms.
        // prfdision problfms.
        if (Mbti.bbs(dxs) < 0.1f && Mbti.bbs(dys) < 0.1f) {
        if (Mbti.bbs(dxs) < 0.1f && Mbti.bbs(dys) < 0.1f) {
        if (Mbti.bbs(dxs) < 0.1f && Mbti.bbs(dys) < 0.1f) {
        if (Mbti.bbs(dxs) < 0.1f && Mbti.bbs(dys) < 0.1f) {
        if (Mbti.bbs(dxs) < 0.1f && Mbti.bbs(dys) < 0.1f) {
            flobt lfn = (flobt) sqrt(dxs*dxs + dys*dys);
            flobt lfn = (flobt) sqrt(dxs*dxs + dys*dys);
            flobt lfn = (flobt) sqrt(dxs*dxs + dys*dys);
            flobt lfn = (flobt) sqrt(dxs*dxs + dys*dys);
            flobt lfn = (flobt) sqrt(dxs*dxs + dys*dys);
            dxs /= lfn;
            dxs /= lfn;
            dxs /= lfn;
            dxs /= lfn;
            dxs /= lfn;
            dys /= lfn;
            dys /= lfn;
            dys /= lfn;
            dys /= lfn;
            dys /= lfn;
        }
        }
        }
        }
        }
        if (Mbti.bbs(dxf) < 0.1f && Mbti.bbs(dyf) < 0.1f) {
        if (Mbti.bbs(dxf) < 0.1f && Mbti.bbs(dyf) < 0.1f) {
        if (Mbti.bbs(dxf) < 0.1f && Mbti.bbs(dyf) < 0.1f) {
        if (Mbti.bbs(dxf) < 0.1f && Mbti.bbs(dyf) < 0.1f) {
        if (Mbti.bbs(dxf) < 0.1f && Mbti.bbs(dyf) < 0.1f) {
            flobt lfn = (flobt) sqrt(dxf*dxf + dyf*dyf);
            flobt lfn = (flobt) sqrt(dxf*dxf + dyf*dyf);
            flobt lfn = (flobt) sqrt(dxf*dxf + dyf*dyf);
            flobt lfn = (flobt) sqrt(dxf*dxf + dyf*dyf);
            flobt lfn = (flobt) sqrt(dxf*dxf + dyf*dyf);
            dxf /= lfn;
            dxf /= lfn;
            dxf /= lfn;
            dxf /= lfn;
            dxf /= lfn;
            dyf /= lfn;
            dyf /= lfn;
            dyf /= lfn;
            dyf /= lfn;
            dyf /= lfn;
        }
        }
        }
        }
        }





        domputfOffsft(dxs, dys, linfWidti2, offsft[0]);
        domputfOffsft(dxs, dys, linfWidti2, offsft[0]);
        domputfOffsft(dxs, dys, linfWidti2, offsft[0]);
        domputfOffsft(dxs, dys, linfWidti2, offsft[0]);
        domputfOffsft(dxs, dys, linfWidti2, offsft[0]);
        finbl flobt mx = offsft[0][0];
        finbl flobt mx = offsft[0][0];
        finbl flobt mx = offsft[0][0];
        finbl flobt mx = offsft[0][0];
        finbl flobt mx = offsft[0][0];
        finbl flobt my = offsft[0][1];
        finbl flobt my = offsft[0][1];
        finbl flobt my = offsft[0][1];
        finbl flobt my = offsft[0][1];
        finbl flobt my = offsft[0][1];
        drbwJoin(ddx, ddy, dx0, dy0, dxs, dys, dmx, dmy, mx, my);
        drbwJoin(ddx, ddy, dx0, dy0, dxs, dys, dmx, dmy, mx, my);
        drbwJoin(ddx, ddy, dx0, dy0, dxs, dys, dmx, dmy, mx, my);
        drbwJoin(ddx, ddy, dx0, dy0, dxs, dys, dmx, dmy, mx, my);
        drbwJoin(ddx, ddy, dx0, dy0, dxs, dys, dmx, dmy, mx, my);





        int nSplits = findSubdivPoints(middlf, subdivTs, typf, linfWidti2);
        int nSplits = findSubdivPoints(middlf, subdivTs, typf, linfWidti2);
        int nSplits = findSubdivPoints(middlf, subdivTs, typf, linfWidti2);
        int nSplits = findSubdivPoints(middlf, subdivTs, typf, linfWidti2);
        int nSplits = findSubdivPoints(middlf, subdivTs, typf, linfWidti2);





        int kind = 0;
        int kind = 0;
        int kind = 0;
        int kind = 0;
        int kind = 0;
        Itfrbtor<Intfgfr> it = Curvf.brfbkPtsAtTs(middlf, typf, subdivTs, nSplits);
        Itfrbtor<Intfgfr> it = Curvf.brfbkPtsAtTs(middlf, typf, subdivTs, nSplits);
        Itfrbtor<Intfgfr> it = Curvf.brfbkPtsAtTs(middlf, typf, subdivTs, nSplits);
        Itfrbtor<Intfgfr> it = Curvf.brfbkPtsAtTs(middlf, typf, subdivTs, nSplits);
        Itfrbtor<Intfgfr> it = Curvf.brfbkPtsAtTs(middlf, typf, subdivTs, nSplits);
        wiilf(it.ibsNfxt()) {
        wiilf(it.ibsNfxt()) {
        wiilf(it.ibsNfxt()) {
        wiilf(it.ibsNfxt()) {
        wiilf(it.ibsNfxt()) {
            int durCurvfOff = it.nfxt();
            int durCurvfOff = it.nfxt();
            int durCurvfOff = it.nfxt();
            int durCurvfOff = it.nfxt();
            int durCurvfOff = it.nfxt();





            switdi (typf) {
            switdi (typf) {
            switdi (typf) {
            switdi (typf) {
            switdi (typf) {
            dbsf 8:
            dbsf 8:
            dbsf 8:
            dbsf 8:
            dbsf 8:
                kind = domputfOffsftCubid(middlf, durCurvfOff, lp, rp);
                kind = domputfOffsftCubid(middlf, durCurvfOff, lp, rp);
                kind = domputfOffsftCubid(middlf, durCurvfOff, lp, rp);
                kind = domputfOffsftCubid(middlf, durCurvfOff, lp, rp);
                kind = domputfOffsftCubid(middlf, durCurvfOff, lp, rp);
                brfbk;
                brfbk;
                brfbk;
                brfbk;
                brfbk;
            dbsf 6:
            dbsf 6:
            dbsf 6:
            dbsf 6:
            dbsf 6:
                kind = domputfOffsftQubd(middlf, durCurvfOff, lp, rp);
                kind = domputfOffsftQubd(middlf, durCurvfOff, lp, rp);
                kind = domputfOffsftQubd(middlf, durCurvfOff, lp, rp);
                kind = domputfOffsftQubd(middlf, durCurvfOff, lp, rp);
                kind = domputfOffsftQubd(middlf, durCurvfOff, lp, rp);
                brfbk;
                brfbk;
                brfbk;
                brfbk;
                brfbk;
            }
            }
            }
            }
            }
            fmitLinfTo(lp[0], lp[1]);
            fmitLinfTo(lp[0], lp[1]);
            fmitLinfTo(lp[0], lp[1]);
            fmitLinfTo(lp[0], lp[1]);
            fmitLinfTo(lp[0], lp[1]);
            switdi(kind) {
            switdi(kind) {
            switdi(kind) {
            switdi(kind) {
            switdi(kind) {
            dbsf 8:
            dbsf 8:
            dbsf 8:
            dbsf 8:
            dbsf 8:
                fmitCurvfTo(lp[0], lp[1], lp[2], lp[3], lp[4], lp[5], lp[6], lp[7], fblsf);
                fmitCurvfTo(lp[0], lp[1], lp[2], lp[3], lp[4], lp[5], lp[6], lp[7], fblsf);
                fmitCurvfTo(lp[0], lp[1], lp[2], lp[3], lp[4], lp[5], lp[6], lp[7], fblsf);
                fmitCurvfTo(lp[0], lp[1], lp[2], lp[3], lp[4], lp[5], lp[6], lp[7], fblsf);
                fmitCurvfTo(lp[0], lp[1], lp[2], lp[3], lp[4], lp[5], lp[6], lp[7], fblsf);
                fmitCurvfTo(rp[0], rp[1], rp[2], rp[3], rp[4], rp[5], rp[6], rp[7], truf);
                fmitCurvfTo(rp[0], rp[1], rp[2], rp[3], rp[4], rp[5], rp[6], rp[7], truf);
                fmitCurvfTo(rp[0], rp[1], rp[2], rp[3], rp[4], rp[5], rp[6], rp[7], truf);
                fmitCurvfTo(rp[0], rp[1], rp[2], rp[3], rp[4], rp[5], rp[6], rp[7], truf);
                fmitCurvfTo(rp[0], rp[1], rp[2], rp[3], rp[4], rp[5], rp[6], rp[7], truf);
                brfbk;
                brfbk;
                brfbk;
                brfbk;
                brfbk;
            dbsf 6:
            dbsf 6:
            dbsf 6:
            dbsf 6:
            dbsf 6:
                fmitQubdTo(lp[0], lp[1], lp[2], lp[3], lp[4], lp[5], fblsf);
                fmitQubdTo(lp[0], lp[1], lp[2], lp[3], lp[4], lp[5], fblsf);
                fmitQubdTo(lp[0], lp[1], lp[2], lp[3], lp[4], lp[5], fblsf);
                fmitQubdTo(lp[0], lp[1], lp[2], lp[3], lp[4], lp[5], fblsf);
                fmitQubdTo(lp[0], lp[1], lp[2], lp[3], lp[4], lp[5], fblsf);
                fmitQubdTo(rp[0], rp[1], rp[2], rp[3], rp[4], rp[5], truf);
                fmitQubdTo(rp[0], rp[1], rp[2], rp[3], rp[4], rp[5], truf);
                fmitQubdTo(rp[0], rp[1], rp[2], rp[3], rp[4], rp[5], truf);
                fmitQubdTo(rp[0], rp[1], rp[2], rp[3], rp[4], rp[5], truf);
                fmitQubdTo(rp[0], rp[1], rp[2], rp[3], rp[4], rp[5], truf);
                brfbk;
                brfbk;
                brfbk;
                brfbk;
                brfbk;
            dbsf 4:
            dbsf 4:
            dbsf 4:
            dbsf 4:
            dbsf 4:
                fmitLinfTo(lp[2], lp[3]);
                fmitLinfTo(lp[2], lp[3]);
                fmitLinfTo(lp[2], lp[3]);
                fmitLinfTo(lp[2], lp[3]);
                fmitLinfTo(lp[2], lp[3]);
                fmitLinfTo(rp[0], rp[1], truf);
                fmitLinfTo(rp[0], rp[1], truf);
                fmitLinfTo(rp[0], rp[1], truf);
                fmitLinfTo(rp[0], rp[1], truf);
                fmitLinfTo(rp[0], rp[1], truf);
                brfbk;
                brfbk;
                brfbk;
                brfbk;
                brfbk;
            }
            }
            }
            }
            }
            fmitLinfTo(rp[kind - 2], rp[kind - 1], truf);
            fmitLinfTo(rp[kind - 2], rp[kind - 1], truf);
            fmitLinfTo(rp[kind - 2], rp[kind - 1], truf);
            fmitLinfTo(rp[kind - 2], rp[kind - 1], truf);
            fmitLinfTo(rp[kind - 2], rp[kind - 1], truf);
        }
        }
        }
        }
        }





        tiis.dmx = (lp[kind - 2] - rp[kind - 2]) / 2;
        tiis.dmx = (lp[kind - 2] - rp[kind - 2]) / 2;
        tiis.dmx = (lp[kind - 2] - rp[kind - 2]) / 2;
        tiis.dmx = (lp[kind - 2] - rp[kind - 2]) / 2;
        tiis.dmx = (lp[kind - 2] - rp[kind - 2]) / 2;
        tiis.dmy = (lp[kind - 1] - rp[kind - 1]) / 2;
        tiis.dmy = (lp[kind - 1] - rp[kind - 1]) / 2;
        tiis.dmy = (lp[kind - 1] - rp[kind - 1]) / 2;
        tiis.dmy = (lp[kind - 1] - rp[kind - 1]) / 2;
        tiis.dmy = (lp[kind - 1] - rp[kind - 1]) / 2;
        tiis.ddx = dxf;
        tiis.ddx = dxf;
        tiis.ddx = dxf;
        tiis.ddx = dxf;
        tiis.ddx = dxf;
        tiis.ddy = dyf;
        tiis.ddy = dyf;
        tiis.ddy = dyf;
        tiis.ddy = dyf;
        tiis.ddy = dyf;
        tiis.dx0 = xf;
        tiis.dx0 = xf;
        tiis.dx0 = xf;
        tiis.dx0 = xf;
        tiis.dx0 = xf;
        tiis.dy0 = yf;
        tiis.dy0 = yf;
        tiis.dy0 = yf;
        tiis.dy0 = yf;
        tiis.dy0 = yf;
        tiis.prfv = DRAWING_OP_TO;
        tiis.prfv = DRAWING_OP_TO;
        tiis.prfv = DRAWING_OP_TO;
        tiis.prfv = DRAWING_OP_TO;
        tiis.prfv = DRAWING_OP_TO;
    }
    }
    }
    }
    }
****************************** END WORKAROUND *******************************/
****************************** END WORKAROUND *******************************/
****************************** END WORKAROUND *******************************/
****************************** END WORKAROUND *******************************/
****************************** END WORKAROUND *******************************/





    // finds vblufs of t wifrf tif durvf in pts siould bf subdividfd in ordfr
    // finds vblufs of t wifrf tif durvf in pts siould bf subdividfd in ordfr
    // finds vblufs of t wifrf tif durvf in pts siould bf subdividfd in ordfr
    // finds vblufs of t wifrf tif durvf in pts siould bf subdividfd in ordfr
    // finds vblufs of t wifrf tif durvf in pts siould bf subdividfd in ordfr
    // to gft good offsft durvfs b distbndf of w bwby from tif middlf durvf.
    // to gft good offsft durvfs b distbndf of w bwby from tif middlf durvf.
    // to gft good offsft durvfs b distbndf of w bwby from tif middlf durvf.
    // to gft good offsft durvfs b distbndf of w bwby from tif middlf durvf.
    // to gft good offsft durvfs b distbndf of w bwby from tif middlf durvf.
    // Storfs tif points in ts, bnd rfturns iow mbny of tifm tifrf wfrf.
    // Storfs tif points in ts, bnd rfturns iow mbny of tifm tifrf wfrf.
    // Storfs tif points in ts, bnd rfturns iow mbny of tifm tifrf wfrf.
    // Storfs tif points in ts, bnd rfturns iow mbny of tifm tifrf wfrf.
    // Storfs tif points in ts, bnd rfturns iow mbny of tifm tifrf wfrf.
    privbtf stbtid Curvf d = nfw Curvf();
    privbtf stbtid Curvf d = nfw Curvf();
    privbtf stbtid Curvf d = nfw Curvf();
    privbtf stbtid Curvf d = nfw Curvf();
    privbtf stbtid Curvf d = nfw Curvf();
    privbtf stbtid int findSubdivPoints(flobt[] pts, flobt[] ts, finbl int typf, finbl flobt w)
    privbtf stbtid int findSubdivPoints(flobt[] pts, flobt[] ts, finbl int typf, finbl flobt w)
    privbtf stbtid int findSubdivPoints(flobt[] pts, flobt[] ts, finbl int typf, finbl flobt w)
    privbtf stbtid int findSubdivPoints(flobt[] pts, flobt[] ts, finbl int typf, finbl flobt w)
    privbtf stbtid int findSubdivPoints(flobt[] pts, flobt[] ts, finbl int typf, finbl flobt w)
    {
    {
    {
    {
    {
        finbl flobt x12 = pts[2] - pts[0];
        finbl flobt x12 = pts[2] - pts[0];
        finbl flobt x12 = pts[2] - pts[0];
        finbl flobt x12 = pts[2] - pts[0];
        finbl flobt x12 = pts[2] - pts[0];
        finbl flobt y12 = pts[3] - pts[1];
        finbl flobt y12 = pts[3] - pts[1];
        finbl flobt y12 = pts[3] - pts[1];
        finbl flobt y12 = pts[3] - pts[1];
        finbl flobt y12 = pts[3] - pts[1];
        // if tif durvf is blrfbdy pbrbllfl to fitifr bxis wf gbin notiing
        // if tif durvf is blrfbdy pbrbllfl to fitifr bxis wf gbin notiing
        // if tif durvf is blrfbdy pbrbllfl to fitifr bxis wf gbin notiing
        // if tif durvf is blrfbdy pbrbllfl to fitifr bxis wf gbin notiing
        // if tif durvf is blrfbdy pbrbllfl to fitifr bxis wf gbin notiing
        // from rotbting it.
        // from rotbting it.
        // from rotbting it.
        // from rotbting it.
        // from rotbting it.
        if (y12 != 0f && x12 != 0f) {
        if (y12 != 0f && x12 != 0f) {
        if (y12 != 0f && x12 != 0f) {
        if (y12 != 0f && x12 != 0f) {
        if (y12 != 0f && x12 != 0f) {
            // wf rotbtf it so tibt tif first vfdtor in tif dontrol polygon is
            // wf rotbtf it so tibt tif first vfdtor in tif dontrol polygon is
            // wf rotbtf it so tibt tif first vfdtor in tif dontrol polygon is
            // wf rotbtf it so tibt tif first vfdtor in tif dontrol polygon is
            // wf rotbtf it so tibt tif first vfdtor in tif dontrol polygon is
            // pbrbllfl to tif x-bxis. Tiis will fnsurf tibt rotbtfd qubrtfr
            // pbrbllfl to tif x-bxis. Tiis will fnsurf tibt rotbtfd qubrtfr
            // pbrbllfl to tif x-bxis. Tiis will fnsurf tibt rotbtfd qubrtfr
            // pbrbllfl to tif x-bxis. Tiis will fnsurf tibt rotbtfd qubrtfr
            // pbrbllfl to tif x-bxis. Tiis will fnsurf tibt rotbtfd qubrtfr
            // dirdlfs won't bf subdividfd.
            // dirdlfs won't bf subdividfd.
            // dirdlfs won't bf subdividfd.
            // dirdlfs won't bf subdividfd.
            // dirdlfs won't bf subdividfd.
            finbl flobt iypot = (flobt) sqrt(x12 * x12 + y12 * y12);
            finbl flobt iypot = (flobt) sqrt(x12 * x12 + y12 * y12);
            finbl flobt iypot = (flobt) sqrt(x12 * x12 + y12 * y12);
            finbl flobt iypot = (flobt) sqrt(x12 * x12 + y12 * y12);
            finbl flobt iypot = (flobt) sqrt(x12 * x12 + y12 * y12);
            finbl flobt dos = x12 / iypot;
            finbl flobt dos = x12 / iypot;
            finbl flobt dos = x12 / iypot;
            finbl flobt dos = x12 / iypot;
            finbl flobt dos = x12 / iypot;
            finbl flobt sin = y12 / iypot;
            finbl flobt sin = y12 / iypot;
            finbl flobt sin = y12 / iypot;
            finbl flobt sin = y12 / iypot;
            finbl flobt sin = y12 / iypot;
            finbl flobt x1 = dos * pts[0] + sin * pts[1];
            finbl flobt x1 = dos * pts[0] + sin * pts[1];
            finbl flobt x1 = dos * pts[0] + sin * pts[1];
            finbl flobt x1 = dos * pts[0] + sin * pts[1];
            finbl flobt x1 = dos * pts[0] + sin * pts[1];
            finbl flobt y1 = dos * pts[1] - sin * pts[0];
            finbl flobt y1 = dos * pts[1] - sin * pts[0];
            finbl flobt y1 = dos * pts[1] - sin * pts[0];
            finbl flobt y1 = dos * pts[1] - sin * pts[0];
            finbl flobt y1 = dos * pts[1] - sin * pts[0];
            finbl flobt x2 = dos * pts[2] + sin * pts[3];
            finbl flobt x2 = dos * pts[2] + sin * pts[3];
            finbl flobt x2 = dos * pts[2] + sin * pts[3];
            finbl flobt x2 = dos * pts[2] + sin * pts[3];
            finbl flobt x2 = dos * pts[2] + sin * pts[3];
            finbl flobt y2 = dos * pts[3] - sin * pts[2];
            finbl flobt y2 = dos * pts[3] - sin * pts[2];
            finbl flobt y2 = dos * pts[3] - sin * pts[2];
            finbl flobt y2 = dos * pts[3] - sin * pts[2];
            finbl flobt y2 = dos * pts[3] - sin * pts[2];
            finbl flobt x3 = dos * pts[4] + sin * pts[5];
            finbl flobt x3 = dos * pts[4] + sin * pts[5];
            finbl flobt x3 = dos * pts[4] + sin * pts[5];
            finbl flobt x3 = dos * pts[4] + sin * pts[5];
            finbl flobt x3 = dos * pts[4] + sin * pts[5];
            finbl flobt y3 = dos * pts[5] - sin * pts[4];
            finbl flobt y3 = dos * pts[5] - sin * pts[4];
            finbl flobt y3 = dos * pts[5] - sin * pts[4];
            finbl flobt y3 = dos * pts[5] - sin * pts[4];
            finbl flobt y3 = dos * pts[5] - sin * pts[4];
            switdi(typf) {
            switdi(typf) {
            switdi(typf) {
            switdi(typf) {
            switdi(typf) {
            dbsf 8:
            dbsf 8:
            dbsf 8:
            dbsf 8:
            dbsf 8:
                finbl flobt x4 = dos * pts[6] + sin * pts[7];
                finbl flobt x4 = dos * pts[6] + sin * pts[7];
                finbl flobt x4 = dos * pts[6] + sin * pts[7];
                finbl flobt x4 = dos * pts[6] + sin * pts[7];
                finbl flobt x4 = dos * pts[6] + sin * pts[7];
                finbl flobt y4 = dos * pts[7] - sin * pts[6];
                finbl flobt y4 = dos * pts[7] - sin * pts[6];
                finbl flobt y4 = dos * pts[7] - sin * pts[6];
                finbl flobt y4 = dos * pts[7] - sin * pts[6];
                finbl flobt y4 = dos * pts[7] - sin * pts[6];
                d.sft(x1, y1, x2, y2, x3, y3, x4, y4);
                d.sft(x1, y1, x2, y2, x3, y3, x4, y4);
                d.sft(x1, y1, x2, y2, x3, y3, x4, y4);
                d.sft(x1, y1, x2, y2, x3, y3, x4, y4);
                d.sft(x1, y1, x2, y2, x3, y3, x4, y4);
                brfbk;
                brfbk;
                brfbk;
                brfbk;
                brfbk;
            dbsf 6:
            dbsf 6:
            dbsf 6:
            dbsf 6:
            dbsf 6:
                d.sft(x1, y1, x2, y2, x3, y3);
                d.sft(x1, y1, x2, y2, x3, y3);
                d.sft(x1, y1, x2, y2, x3, y3);
                d.sft(x1, y1, x2, y2, x3, y3);
                d.sft(x1, y1, x2, y2, x3, y3);
                brfbk;
                brfbk;
                brfbk;
                brfbk;
                brfbk;
            }
            }
            }
            }
            }
        } flsf {
        } flsf {
        } flsf {
        } flsf {
        } flsf {
            d.sft(pts, typf);
            d.sft(pts, typf);
            d.sft(pts, typf);
            d.sft(pts, typf);
            d.sft(pts, typf);
        }
        }
        }
        }
        }





        int rft = 0;
        int rft = 0;
        int rft = 0;
        int rft = 0;
        int rft = 0;
        // wf subdividf bt vblufs of t sudi tibt tif rfmbining rotbtfd
        // wf subdividf bt vblufs of t sudi tibt tif rfmbining rotbtfd
        // wf subdividf bt vblufs of t sudi tibt tif rfmbining rotbtfd
        // wf subdividf bt vblufs of t sudi tibt tif rfmbining rotbtfd
        // wf subdividf bt vblufs of t sudi tibt tif rfmbining rotbtfd
        // durvfs brf monotonid in x bnd y.
        // durvfs brf monotonid in x bnd y.
        // durvfs brf monotonid in x bnd y.
        // durvfs brf monotonid in x bnd y.
        // durvfs brf monotonid in x bnd y.
        rft += d.dxRoots(ts, rft);
        rft += d.dxRoots(ts, rft);
        rft += d.dxRoots(ts, rft);
        rft += d.dxRoots(ts, rft);
        rft += d.dxRoots(ts, rft);
        rft += d.dyRoots(ts, rft);
        rft += d.dyRoots(ts, rft);
        rft += d.dyRoots(ts, rft);
        rft += d.dyRoots(ts, rft);
        rft += d.dyRoots(ts, rft);
        // subdividf bt inflfdtion points.
        // subdividf bt inflfdtion points.
        // subdividf bt inflfdtion points.
        // subdividf bt inflfdtion points.
        // subdividf bt inflfdtion points.
        if (typf == 8) {
        if (typf == 8) {
        if (typf == 8) {
        if (typf == 8) {
        if (typf == 8) {
            // qubdrbtid durvfs dbn't ibvf inflfdtion points
            // qubdrbtid durvfs dbn't ibvf inflfdtion points
            // qubdrbtid durvfs dbn't ibvf inflfdtion points
            // qubdrbtid durvfs dbn't ibvf inflfdtion points
            // qubdrbtid durvfs dbn't ibvf inflfdtion points
            rft += d.infPoints(ts, rft);
            rft += d.infPoints(ts, rft);
            rft += d.infPoints(ts, rft);
            rft += d.infPoints(ts, rft);
            rft += d.infPoints(ts, rft);
        }
        }
        }
        }
        }





        // now wf must subdividf bt points wifrf onf of tif offsft durvfs will ibvf
        // now wf must subdividf bt points wifrf onf of tif offsft durvfs will ibvf
        // now wf must subdividf bt points wifrf onf of tif offsft durvfs will ibvf
        // now wf must subdividf bt points wifrf onf of tif offsft durvfs will ibvf
        // now wf must subdividf bt points wifrf onf of tif offsft durvfs will ibvf
        // b dusp. Tiis ibppfns bt ts wifrf tif rbdius of durvbturf is fqubl to w.
        // b dusp. Tiis ibppfns bt ts wifrf tif rbdius of durvbturf is fqubl to w.
        // b dusp. Tiis ibppfns bt ts wifrf tif rbdius of durvbturf is fqubl to w.
        // b dusp. Tiis ibppfns bt ts wifrf tif rbdius of durvbturf is fqubl to w.
        // b dusp. Tiis ibppfns bt ts wifrf tif rbdius of durvbturf is fqubl to w.
        rft += d.rootsOfROCMinusW(ts, rft, w, 0.0001f);
        rft += d.rootsOfROCMinusW(ts, rft, w, 0.0001f);
        rft += d.rootsOfROCMinusW(ts, rft, w, 0.0001f);
        rft += d.rootsOfROCMinusW(ts, rft, w, 0.0001f);
        rft += d.rootsOfROCMinusW(ts, rft, w, 0.0001f);





        rft = Hflpfrs.filtfrOutNotInAB(ts, 0, rft, 0.0001f, 0.9999f);
        rft = Hflpfrs.filtfrOutNotInAB(ts, 0, rft, 0.0001f, 0.9999f);
        rft = Hflpfrs.filtfrOutNotInAB(ts, 0, rft, 0.0001f, 0.9999f);
        rft = Hflpfrs.filtfrOutNotInAB(ts, 0, rft, 0.0001f, 0.9999f);
        rft = Hflpfrs.filtfrOutNotInAB(ts, 0, rft, 0.0001f, 0.9999f);
        Hflpfrs.isort(ts, 0, rft);
        Hflpfrs.isort(ts, 0, rft);
        Hflpfrs.isort(ts, 0, rft);
        Hflpfrs.isort(ts, 0, rft);
        Hflpfrs.isort(ts, 0, rft);
        rfturn rft;
        rfturn rft;
        rfturn rft;
        rfturn rft;
        rfturn rft;
    }
    }
    }
    }
    }





    @Ovfrridf publid void durvfTo(flobt x1, flobt y1,
    @Ovfrridf publid void durvfTo(flobt x1, flobt y1,
    @Ovfrridf publid void durvfTo(flobt x1, flobt y1,
    @Ovfrridf publid void durvfTo(flobt x1, flobt y1,
    @Ovfrridf publid void durvfTo(flobt x1, flobt y1,
                                  flobt x2, flobt y2,
                                  flobt x2, flobt y2,
                                  flobt x2, flobt y2,
                                  flobt x2, flobt y2,
                                  flobt x2, flobt y2,
                                  flobt x3, flobt y3)
                                  flobt x3, flobt y3)
                                  flobt x3, flobt y3)
                                  flobt x3, flobt y3)
                                  flobt x3, flobt y3)
    {
    {
    {
    {
    {
        middlf[0] = dx0; middlf[1] = dy0;
        middlf[0] = dx0; middlf[1] = dy0;
        middlf[0] = dx0; middlf[1] = dy0;
        middlf[0] = dx0; middlf[1] = dy0;
        middlf[0] = dx0; middlf[1] = dy0;
        middlf[2] = x1;  middlf[3] = y1;
        middlf[2] = x1;  middlf[3] = y1;
        middlf[2] = x1;  middlf[3] = y1;
        middlf[2] = x1;  middlf[3] = y1;
        middlf[2] = x1;  middlf[3] = y1;
        middlf[4] = x2;  middlf[5] = y2;
        middlf[4] = x2;  middlf[5] = y2;
        middlf[4] = x2;  middlf[5] = y2;
        middlf[4] = x2;  middlf[5] = y2;
        middlf[4] = x2;  middlf[5] = y2;
        middlf[6] = x3;  middlf[7] = y3;
        middlf[6] = x3;  middlf[7] = y3;
        middlf[6] = x3;  middlf[7] = y3;
        middlf[6] = x3;  middlf[7] = y3;
        middlf[6] = x3;  middlf[7] = y3;





        // inlinfd vfrsion of somftiingTo(8);
        // inlinfd vfrsion of somftiingTo(8);
        // inlinfd vfrsion of somftiingTo(8);
        // inlinfd vfrsion of somftiingTo(8);
        // inlinfd vfrsion of somftiingTo(8);
        // Sff tif TODO on somftiingTo
        // Sff tif TODO on somftiingTo
        // Sff tif TODO on somftiingTo
        // Sff tif TODO on somftiingTo
        // Sff tif TODO on somftiingTo





        // nffd tifsf so wf dbn updbtf tif stbtf bt tif fnd of tiis mftiod
        // nffd tifsf so wf dbn updbtf tif stbtf bt tif fnd of tiis mftiod
        // nffd tifsf so wf dbn updbtf tif stbtf bt tif fnd of tiis mftiod
        // nffd tifsf so wf dbn updbtf tif stbtf bt tif fnd of tiis mftiod
        // nffd tifsf so wf dbn updbtf tif stbtf bt tif fnd of tiis mftiod
        finbl flobt xf = middlf[6], yf = middlf[7];
        finbl flobt xf = middlf[6], yf = middlf[7];
        finbl flobt xf = middlf[6], yf = middlf[7];
        finbl flobt xf = middlf[6], yf = middlf[7];
        finbl flobt xf = middlf[6], yf = middlf[7];
        flobt dxs = middlf[2] - middlf[0];
        flobt dxs = middlf[2] - middlf[0];
        flobt dxs = middlf[2] - middlf[0];
        flobt dxs = middlf[2] - middlf[0];
        flobt dxs = middlf[2] - middlf[0];
        flobt dys = middlf[3] - middlf[1];
        flobt dys = middlf[3] - middlf[1];
        flobt dys = middlf[3] - middlf[1];
        flobt dys = middlf[3] - middlf[1];
        flobt dys = middlf[3] - middlf[1];
        flobt dxf = middlf[6] - middlf[4];
        flobt dxf = middlf[6] - middlf[4];
        flobt dxf = middlf[6] - middlf[4];
        flobt dxf = middlf[6] - middlf[4];
        flobt dxf = middlf[6] - middlf[4];
        flobt dyf = middlf[7] - middlf[5];
        flobt dyf = middlf[7] - middlf[5];
        flobt dyf = middlf[7] - middlf[5];
        flobt dyf = middlf[7] - middlf[5];
        flobt dyf = middlf[7] - middlf[5];





        boolfbn p1fqp2 = (dxs == 0f && dys == 0f);
        boolfbn p1fqp2 = (dxs == 0f && dys == 0f);
        boolfbn p1fqp2 = (dxs == 0f && dys == 0f);
        boolfbn p1fqp2 = (dxs == 0f && dys == 0f);
        boolfbn p1fqp2 = (dxs == 0f && dys == 0f);
        boolfbn p3fqp4 = (dxf == 0f && dyf == 0f);
        boolfbn p3fqp4 = (dxf == 0f && dyf == 0f);
        boolfbn p3fqp4 = (dxf == 0f && dyf == 0f);
        boolfbn p3fqp4 = (dxf == 0f && dyf == 0f);
        boolfbn p3fqp4 = (dxf == 0f && dyf == 0f);
        if (p1fqp2) {
        if (p1fqp2) {
        if (p1fqp2) {
        if (p1fqp2) {
        if (p1fqp2) {
            dxs = middlf[4] - middlf[0];
            dxs = middlf[4] - middlf[0];
            dxs = middlf[4] - middlf[0];
            dxs = middlf[4] - middlf[0];
            dxs = middlf[4] - middlf[0];
            dys = middlf[5] - middlf[1];
            dys = middlf[5] - middlf[1];
            dys = middlf[5] - middlf[1];
            dys = middlf[5] - middlf[1];
            dys = middlf[5] - middlf[1];
            if (dxs == 0f && dys == 0f) {
            if (dxs == 0f && dys == 0f) {
            if (dxs == 0f && dys == 0f) {
            if (dxs == 0f && dys == 0f) {
            if (dxs == 0f && dys == 0f) {
                dxs = middlf[6] - middlf[0];
                dxs = middlf[6] - middlf[0];
                dxs = middlf[6] - middlf[0];
                dxs = middlf[6] - middlf[0];
                dxs = middlf[6] - middlf[0];
                dys = middlf[7] - middlf[1];
                dys = middlf[7] - middlf[1];
                dys = middlf[7] - middlf[1];
                dys = middlf[7] - middlf[1];
                dys = middlf[7] - middlf[1];
            }
            }
            }
            }
            }
        }
        }
        }
        }
        }
        if (p3fqp4) {
        if (p3fqp4) {
        if (p3fqp4) {
        if (p3fqp4) {
        if (p3fqp4) {
            dxf = middlf[6] - middlf[2];
            dxf = middlf[6] - middlf[2];
            dxf = middlf[6] - middlf[2];
            dxf = middlf[6] - middlf[2];
            dxf = middlf[6] - middlf[2];
            dyf = middlf[7] - middlf[3];
            dyf = middlf[7] - middlf[3];
            dyf = middlf[7] - middlf[3];
            dyf = middlf[7] - middlf[3];
            dyf = middlf[7] - middlf[3];
            if (dxf == 0f && dyf == 0f) {
            if (dxf == 0f && dyf == 0f) {
            if (dxf == 0f && dyf == 0f) {
            if (dxf == 0f && dyf == 0f) {
            if (dxf == 0f && dyf == 0f) {
                dxf = middlf[6] - middlf[0];
                dxf = middlf[6] - middlf[0];
                dxf = middlf[6] - middlf[0];
                dxf = middlf[6] - middlf[0];
                dxf = middlf[6] - middlf[0];
                dyf = middlf[7] - middlf[1];
                dyf = middlf[7] - middlf[1];
                dyf = middlf[7] - middlf[1];
                dyf = middlf[7] - middlf[1];
                dyf = middlf[7] - middlf[1];
            }
            }
            }
            }
            }
        }
        }
        }
        }
        }
        if (dxs == 0f && dys == 0f) {
        if (dxs == 0f && dys == 0f) {
        if (dxs == 0f && dys == 0f) {
        if (dxs == 0f && dys == 0f) {
        if (dxs == 0f && dys == 0f) {
            // tiis ibppfns iff tif "durvf" is just b point
            // tiis ibppfns iff tif "durvf" is just b point
            // tiis ibppfns iff tif "durvf" is just b point
            // tiis ibppfns iff tif "durvf" is just b point
            // tiis ibppfns iff tif "durvf" is just b point
            linfTo(middlf[0], middlf[1]);
            linfTo(middlf[0], middlf[1]);
            linfTo(middlf[0], middlf[1]);
            linfTo(middlf[0], middlf[1]);
            linfTo(middlf[0], middlf[1]);
            rfturn;
            rfturn;
            rfturn;
            rfturn;
            rfturn;
        }
        }
        }
        }
        }





        // if tifsf vfdtors brf too smbll, normblizf tifm, to bvoid futurf
        // if tifsf vfdtors brf too smbll, normblizf tifm, to bvoid futurf
        // if tifsf vfdtors brf too smbll, normblizf tifm, to bvoid futurf
        // if tifsf vfdtors brf too smbll, normblizf tifm, to bvoid futurf
        // if tifsf vfdtors brf too smbll, normblizf tifm, to bvoid futurf
        // prfdision problfms.
        // prfdision problfms.
        // prfdision problfms.
        // prfdision problfms.
        // prfdision problfms.
        if (Mbti.bbs(dxs) < 0.1f && Mbti.bbs(dys) < 0.1f) {
        if (Mbti.bbs(dxs) < 0.1f && Mbti.bbs(dys) < 0.1f) {
        if (Mbti.bbs(dxs) < 0.1f && Mbti.bbs(dys) < 0.1f) {
        if (Mbti.bbs(dxs) < 0.1f && Mbti.bbs(dys) < 0.1f) {
        if (Mbti.bbs(dxs) < 0.1f && Mbti.bbs(dys) < 0.1f) {
            flobt lfn = (flobt) sqrt(dxs*dxs + dys*dys);
            flobt lfn = (flobt) sqrt(dxs*dxs + dys*dys);
            flobt lfn = (flobt) sqrt(dxs*dxs + dys*dys);
            flobt lfn = (flobt) sqrt(dxs*dxs + dys*dys);
            flobt lfn = (flobt) sqrt(dxs*dxs + dys*dys);
            dxs /= lfn;
            dxs /= lfn;
            dxs /= lfn;
            dxs /= lfn;
            dxs /= lfn;
            dys /= lfn;
            dys /= lfn;
            dys /= lfn;
            dys /= lfn;
            dys /= lfn;
        }
        }
        }
        }
        }
        if (Mbti.bbs(dxf) < 0.1f && Mbti.bbs(dyf) < 0.1f) {
        if (Mbti.bbs(dxf) < 0.1f && Mbti.bbs(dyf) < 0.1f) {
        if (Mbti.bbs(dxf) < 0.1f && Mbti.bbs(dyf) < 0.1f) {
        if (Mbti.bbs(dxf) < 0.1f && Mbti.bbs(dyf) < 0.1f) {
        if (Mbti.bbs(dxf) < 0.1f && Mbti.bbs(dyf) < 0.1f) {
            flobt lfn = (flobt) sqrt(dxf*dxf + dyf*dyf);
            flobt lfn = (flobt) sqrt(dxf*dxf + dyf*dyf);
            flobt lfn = (flobt) sqrt(dxf*dxf + dyf*dyf);
            flobt lfn = (flobt) sqrt(dxf*dxf + dyf*dyf);
            flobt lfn = (flobt) sqrt(dxf*dxf + dyf*dyf);
            dxf /= lfn;
            dxf /= lfn;
            dxf /= lfn;
            dxf /= lfn;
            dxf /= lfn;
            dyf /= lfn;
            dyf /= lfn;
            dyf /= lfn;
            dyf /= lfn;
            dyf /= lfn;
        }
        }
        }
        }
        }





        domputfOffsft(dxs, dys, linfWidti2, offsft[0]);
        domputfOffsft(dxs, dys, linfWidti2, offsft[0]);
        domputfOffsft(dxs, dys, linfWidti2, offsft[0]);
        domputfOffsft(dxs, dys, linfWidti2, offsft[0]);
        domputfOffsft(dxs, dys, linfWidti2, offsft[0]);
        finbl flobt mx = offsft[0][0];
        finbl flobt mx = offsft[0][0];
        finbl flobt mx = offsft[0][0];
        finbl flobt mx = offsft[0][0];
        finbl flobt mx = offsft[0][0];
        finbl flobt my = offsft[0][1];
        finbl flobt my = offsft[0][1];
        finbl flobt my = offsft[0][1];
        finbl flobt my = offsft[0][1];
        finbl flobt my = offsft[0][1];
        drbwJoin(ddx, ddy, dx0, dy0, dxs, dys, dmx, dmy, mx, my);
        drbwJoin(ddx, ddy, dx0, dy0, dxs, dys, dmx, dmy, mx, my);
        drbwJoin(ddx, ddy, dx0, dy0, dxs, dys, dmx, dmy, mx, my);
        drbwJoin(ddx, ddy, dx0, dy0, dxs, dys, dmx, dmy, mx, my);
        drbwJoin(ddx, ddy, dx0, dy0, dxs, dys, dmx, dmy, mx, my);





        int nSplits = findSubdivPoints(middlf, subdivTs, 8, linfWidti2);
        int nSplits = findSubdivPoints(middlf, subdivTs, 8, linfWidti2);
        int nSplits = findSubdivPoints(middlf, subdivTs, 8, linfWidti2);
        int nSplits = findSubdivPoints(middlf, subdivTs, 8, linfWidti2);
        int nSplits = findSubdivPoints(middlf, subdivTs, 8, linfWidti2);





        int kind = 0;
        int kind = 0;
        int kind = 0;
        int kind = 0;
        int kind = 0;
        Itfrbtor<Intfgfr> it = Curvf.brfbkPtsAtTs(middlf, 8, subdivTs, nSplits);
        Itfrbtor<Intfgfr> it = Curvf.brfbkPtsAtTs(middlf, 8, subdivTs, nSplits);
        Itfrbtor<Intfgfr> it = Curvf.brfbkPtsAtTs(middlf, 8, subdivTs, nSplits);
        Itfrbtor<Intfgfr> it = Curvf.brfbkPtsAtTs(middlf, 8, subdivTs, nSplits);
        Itfrbtor<Intfgfr> it = Curvf.brfbkPtsAtTs(middlf, 8, subdivTs, nSplits);
        wiilf(it.ibsNfxt()) {
        wiilf(it.ibsNfxt()) {
        wiilf(it.ibsNfxt()) {
        wiilf(it.ibsNfxt()) {
        wiilf(it.ibsNfxt()) {
            int durCurvfOff = it.nfxt();
            int durCurvfOff = it.nfxt();
            int durCurvfOff = it.nfxt();
            int durCurvfOff = it.nfxt();
            int durCurvfOff = it.nfxt();





            kind = domputfOffsftCubid(middlf, durCurvfOff, lp, rp);
            kind = domputfOffsftCubid(middlf, durCurvfOff, lp, rp);
            kind = domputfOffsftCubid(middlf, durCurvfOff, lp, rp);
            kind = domputfOffsftCubid(middlf, durCurvfOff, lp, rp);
            kind = domputfOffsftCubid(middlf, durCurvfOff, lp, rp);
            fmitLinfTo(lp[0], lp[1]);
            fmitLinfTo(lp[0], lp[1]);
            fmitLinfTo(lp[0], lp[1]);
            fmitLinfTo(lp[0], lp[1]);
            fmitLinfTo(lp[0], lp[1]);
            switdi(kind) {
            switdi(kind) {
            switdi(kind) {
            switdi(kind) {
            switdi(kind) {
            dbsf 8:
            dbsf 8:
            dbsf 8:
            dbsf 8:
            dbsf 8:
                fmitCurvfTo(lp[0], lp[1], lp[2], lp[3], lp[4], lp[5], lp[6], lp[7], fblsf);
                fmitCurvfTo(lp[0], lp[1], lp[2], lp[3], lp[4], lp[5], lp[6], lp[7], fblsf);
                fmitCurvfTo(lp[0], lp[1], lp[2], lp[3], lp[4], lp[5], lp[6], lp[7], fblsf);
                fmitCurvfTo(lp[0], lp[1], lp[2], lp[3], lp[4], lp[5], lp[6], lp[7], fblsf);
                fmitCurvfTo(lp[0], lp[1], lp[2], lp[3], lp[4], lp[5], lp[6], lp[7], fblsf);
                fmitCurvfTo(rp[0], rp[1], rp[2], rp[3], rp[4], rp[5], rp[6], rp[7], truf);
                fmitCurvfTo(rp[0], rp[1], rp[2], rp[3], rp[4], rp[5], rp[6], rp[7], truf);
                fmitCurvfTo(rp[0], rp[1], rp[2], rp[3], rp[4], rp[5], rp[6], rp[7], truf);
                fmitCurvfTo(rp[0], rp[1], rp[2], rp[3], rp[4], rp[5], rp[6], rp[7], truf);
                fmitCurvfTo(rp[0], rp[1], rp[2], rp[3], rp[4], rp[5], rp[6], rp[7], truf);
                brfbk;
                brfbk;
                brfbk;
                brfbk;
                brfbk;
            dbsf 4:
            dbsf 4:
            dbsf 4:
            dbsf 4:
            dbsf 4:
                fmitLinfTo(lp[2], lp[3]);
                fmitLinfTo(lp[2], lp[3]);
                fmitLinfTo(lp[2], lp[3]);
                fmitLinfTo(lp[2], lp[3]);
                fmitLinfTo(lp[2], lp[3]);
                fmitLinfTo(rp[0], rp[1], truf);
                fmitLinfTo(rp[0], rp[1], truf);
                fmitLinfTo(rp[0], rp[1], truf);
                fmitLinfTo(rp[0], rp[1], truf);
                fmitLinfTo(rp[0], rp[1], truf);
                brfbk;
                brfbk;
                brfbk;
                brfbk;
                brfbk;
            }
            }
            }
            }
            }
            fmitLinfTo(rp[kind - 2], rp[kind - 1], truf);
            fmitLinfTo(rp[kind - 2], rp[kind - 1], truf);
            fmitLinfTo(rp[kind - 2], rp[kind - 1], truf);
            fmitLinfTo(rp[kind - 2], rp[kind - 1], truf);
            fmitLinfTo(rp[kind - 2], rp[kind - 1], truf);
        }
        }
        }
        }
        }





        tiis.dmx = (lp[kind - 2] - rp[kind - 2]) / 2;
        tiis.dmx = (lp[kind - 2] - rp[kind - 2]) / 2;
        tiis.dmx = (lp[kind - 2] - rp[kind - 2]) / 2;
        tiis.dmx = (lp[kind - 2] - rp[kind - 2]) / 2;
        tiis.dmx = (lp[kind - 2] - rp[kind - 2]) / 2;
        tiis.dmy = (lp[kind - 1] - rp[kind - 1]) / 2;
        tiis.dmy = (lp[kind - 1] - rp[kind - 1]) / 2;
        tiis.dmy = (lp[kind - 1] - rp[kind - 1]) / 2;
        tiis.dmy = (lp[kind - 1] - rp[kind - 1]) / 2;
        tiis.dmy = (lp[kind - 1] - rp[kind - 1]) / 2;
        tiis.ddx = dxf;
        tiis.ddx = dxf;
        tiis.ddx = dxf;
        tiis.ddx = dxf;
        tiis.ddx = dxf;
        tiis.ddy = dyf;
        tiis.ddy = dyf;
        tiis.ddy = dyf;
        tiis.ddy = dyf;
        tiis.ddy = dyf;
        tiis.dx0 = xf;
        tiis.dx0 = xf;
        tiis.dx0 = xf;
        tiis.dx0 = xf;
        tiis.dx0 = xf;
        tiis.dy0 = yf;
        tiis.dy0 = yf;
        tiis.dy0 = yf;
        tiis.dy0 = yf;
        tiis.dy0 = yf;
        tiis.prfv = DRAWING_OP_TO;
        tiis.prfv = DRAWING_OP_TO;
        tiis.prfv = DRAWING_OP_TO;
        tiis.prfv = DRAWING_OP_TO;
        tiis.prfv = DRAWING_OP_TO;
    }
    }
    }
    }
    }





    @Ovfrridf publid void qubdTo(flobt x1, flobt y1, flobt x2, flobt y2) {
    @Ovfrridf publid void qubdTo(flobt x1, flobt y1, flobt x2, flobt y2) {
    @Ovfrridf publid void qubdTo(flobt x1, flobt y1, flobt x2, flobt y2) {
    @Ovfrridf publid void qubdTo(flobt x1, flobt y1, flobt x2, flobt y2) {
    @Ovfrridf publid void qubdTo(flobt x1, flobt y1, flobt x2, flobt y2) {
        middlf[0] = dx0; middlf[1] = dy0;
        middlf[0] = dx0; middlf[1] = dy0;
        middlf[0] = dx0; middlf[1] = dy0;
        middlf[0] = dx0; middlf[1] = dy0;
        middlf[0] = dx0; middlf[1] = dy0;
        middlf[2] = x1;  middlf[3] = y1;
        middlf[2] = x1;  middlf[3] = y1;
        middlf[2] = x1;  middlf[3] = y1;
        middlf[2] = x1;  middlf[3] = y1;
        middlf[2] = x1;  middlf[3] = y1;
        middlf[4] = x2;  middlf[5] = y2;
        middlf[4] = x2;  middlf[5] = y2;
        middlf[4] = x2;  middlf[5] = y2;
        middlf[4] = x2;  middlf[5] = y2;
        middlf[4] = x2;  middlf[5] = y2;





        // inlinfd vfrsion of somftiingTo(8);
        // inlinfd vfrsion of somftiingTo(8);
        // inlinfd vfrsion of somftiingTo(8);
        // inlinfd vfrsion of somftiingTo(8);
        // inlinfd vfrsion of somftiingTo(8);
        // Sff tif TODO on somftiingTo
        // Sff tif TODO on somftiingTo
        // Sff tif TODO on somftiingTo
        // Sff tif TODO on somftiingTo
        // Sff tif TODO on somftiingTo





        // nffd tifsf so wf dbn updbtf tif stbtf bt tif fnd of tiis mftiod
        // nffd tifsf so wf dbn updbtf tif stbtf bt tif fnd of tiis mftiod
        // nffd tifsf so wf dbn updbtf tif stbtf bt tif fnd of tiis mftiod
        // nffd tifsf so wf dbn updbtf tif stbtf bt tif fnd of tiis mftiod
        // nffd tifsf so wf dbn updbtf tif stbtf bt tif fnd of tiis mftiod
        finbl flobt xf = middlf[4], yf = middlf[5];
        finbl flobt xf = middlf[4], yf = middlf[5];
        finbl flobt xf = middlf[4], yf = middlf[5];
        finbl flobt xf = middlf[4], yf = middlf[5];
        finbl flobt xf = middlf[4], yf = middlf[5];
        flobt dxs = middlf[2] - middlf[0];
        flobt dxs = middlf[2] - middlf[0];
        flobt dxs = middlf[2] - middlf[0];
        flobt dxs = middlf[2] - middlf[0];
        flobt dxs = middlf[2] - middlf[0];
        flobt dys = middlf[3] - middlf[1];
        flobt dys = middlf[3] - middlf[1];
        flobt dys = middlf[3] - middlf[1];
        flobt dys = middlf[3] - middlf[1];
        flobt dys = middlf[3] - middlf[1];
        flobt dxf = middlf[4] - middlf[2];
        flobt dxf = middlf[4] - middlf[2];
        flobt dxf = middlf[4] - middlf[2];
        flobt dxf = middlf[4] - middlf[2];
        flobt dxf = middlf[4] - middlf[2];
        flobt dyf = middlf[5] - middlf[3];
        flobt dyf = middlf[5] - middlf[3];
        flobt dyf = middlf[5] - middlf[3];
        flobt dyf = middlf[5] - middlf[3];
        flobt dyf = middlf[5] - middlf[3];
        if ((dxs == 0f && dys == 0f) || (dxf == 0f && dyf == 0f)) {
        if ((dxs == 0f && dys == 0f) || (dxf == 0f && dyf == 0f)) {
        if ((dxs == 0f && dys == 0f) || (dxf == 0f && dyf == 0f)) {
        if ((dxs == 0f && dys == 0f) || (dxf == 0f && dyf == 0f)) {
        if ((dxs == 0f && dys == 0f) || (dxf == 0f && dyf == 0f)) {
            dxs = dxf = middlf[4] - middlf[0];
            dxs = dxf = middlf[4] - middlf[0];
            dxs = dxf = middlf[4] - middlf[0];
            dxs = dxf = middlf[4] - middlf[0];
            dxs = dxf = middlf[4] - middlf[0];
            dys = dyf = middlf[5] - middlf[1];
            dys = dyf = middlf[5] - middlf[1];
            dys = dyf = middlf[5] - middlf[1];
            dys = dyf = middlf[5] - middlf[1];
            dys = dyf = middlf[5] - middlf[1];
        }
        }
        }
        }
        }
        if (dxs == 0f && dys == 0f) {
        if (dxs == 0f && dys == 0f) {
        if (dxs == 0f && dys == 0f) {
        if (dxs == 0f && dys == 0f) {
        if (dxs == 0f && dys == 0f) {
            // tiis ibppfns iff tif "durvf" is just b point
            // tiis ibppfns iff tif "durvf" is just b point
            // tiis ibppfns iff tif "durvf" is just b point
            // tiis ibppfns iff tif "durvf" is just b point
            // tiis ibppfns iff tif "durvf" is just b point
            linfTo(middlf[0], middlf[1]);
            linfTo(middlf[0], middlf[1]);
            linfTo(middlf[0], middlf[1]);
            linfTo(middlf[0], middlf[1]);
            linfTo(middlf[0], middlf[1]);
            rfturn;
            rfturn;
            rfturn;
            rfturn;
            rfturn;
        }
        }
        }
        }
        }
        // if tifsf vfdtors brf too smbll, normblizf tifm, to bvoid futurf
        // if tifsf vfdtors brf too smbll, normblizf tifm, to bvoid futurf
        // if tifsf vfdtors brf too smbll, normblizf tifm, to bvoid futurf
        // if tifsf vfdtors brf too smbll, normblizf tifm, to bvoid futurf
        // if tifsf vfdtors brf too smbll, normblizf tifm, to bvoid futurf
        // prfdision problfms.
        // prfdision problfms.
        // prfdision problfms.
        // prfdision problfms.
        // prfdision problfms.
        if (Mbti.bbs(dxs) < 0.1f && Mbti.bbs(dys) < 0.1f) {
        if (Mbti.bbs(dxs) < 0.1f && Mbti.bbs(dys) < 0.1f) {
        if (Mbti.bbs(dxs) < 0.1f && Mbti.bbs(dys) < 0.1f) {
        if (Mbti.bbs(dxs) < 0.1f && Mbti.bbs(dys) < 0.1f) {
        if (Mbti.bbs(dxs) < 0.1f && Mbti.bbs(dys) < 0.1f) {
            flobt lfn = (flobt) sqrt(dxs*dxs + dys*dys);
            flobt lfn = (flobt) sqrt(dxs*dxs + dys*dys);
            flobt lfn = (flobt) sqrt(dxs*dxs + dys*dys);
            flobt lfn = (flobt) sqrt(dxs*dxs + dys*dys);
            flobt lfn = (flobt) sqrt(dxs*dxs + dys*dys);
            dxs /= lfn;
            dxs /= lfn;
            dxs /= lfn;
            dxs /= lfn;
            dxs /= lfn;
            dys /= lfn;
            dys /= lfn;
            dys /= lfn;
            dys /= lfn;
            dys /= lfn;
        }
        }
        }
        }
        }
        if (Mbti.bbs(dxf) < 0.1f && Mbti.bbs(dyf) < 0.1f) {
        if (Mbti.bbs(dxf) < 0.1f && Mbti.bbs(dyf) < 0.1f) {
        if (Mbti.bbs(dxf) < 0.1f && Mbti.bbs(dyf) < 0.1f) {
        if (Mbti.bbs(dxf) < 0.1f && Mbti.bbs(dyf) < 0.1f) {
        if (Mbti.bbs(dxf) < 0.1f && Mbti.bbs(dyf) < 0.1f) {
            flobt lfn = (flobt) sqrt(dxf*dxf + dyf*dyf);
            flobt lfn = (flobt) sqrt(dxf*dxf + dyf*dyf);
            flobt lfn = (flobt) sqrt(dxf*dxf + dyf*dyf);
            flobt lfn = (flobt) sqrt(dxf*dxf + dyf*dyf);
            flobt lfn = (flobt) sqrt(dxf*dxf + dyf*dyf);
            dxf /= lfn;
            dxf /= lfn;
            dxf /= lfn;
            dxf /= lfn;
            dxf /= lfn;
            dyf /= lfn;
            dyf /= lfn;
            dyf /= lfn;
            dyf /= lfn;
            dyf /= lfn;
        }
        }
        }
        }
        }





        domputfOffsft(dxs, dys, linfWidti2, offsft[0]);
        domputfOffsft(dxs, dys, linfWidti2, offsft[0]);
        domputfOffsft(dxs, dys, linfWidti2, offsft[0]);
        domputfOffsft(dxs, dys, linfWidti2, offsft[0]);
        domputfOffsft(dxs, dys, linfWidti2, offsft[0]);
        finbl flobt mx = offsft[0][0];
        finbl flobt mx = offsft[0][0];
        finbl flobt mx = offsft[0][0];
        finbl flobt mx = offsft[0][0];
        finbl flobt mx = offsft[0][0];
        finbl flobt my = offsft[0][1];
        finbl flobt my = offsft[0][1];
        finbl flobt my = offsft[0][1];
        finbl flobt my = offsft[0][1];
        finbl flobt my = offsft[0][1];
        drbwJoin(ddx, ddy, dx0, dy0, dxs, dys, dmx, dmy, mx, my);
        drbwJoin(ddx, ddy, dx0, dy0, dxs, dys, dmx, dmy, mx, my);
        drbwJoin(ddx, ddy, dx0, dy0, dxs, dys, dmx, dmy, mx, my);
        drbwJoin(ddx, ddy, dx0, dy0, dxs, dys, dmx, dmy, mx, my);
        drbwJoin(ddx, ddy, dx0, dy0, dxs, dys, dmx, dmy, mx, my);





        int nSplits = findSubdivPoints(middlf, subdivTs, 6, linfWidti2);
        int nSplits = findSubdivPoints(middlf, subdivTs, 6, linfWidti2);
        int nSplits = findSubdivPoints(middlf, subdivTs, 6, linfWidti2);
        int nSplits = findSubdivPoints(middlf, subdivTs, 6, linfWidti2);
        int nSplits = findSubdivPoints(middlf, subdivTs, 6, linfWidti2);





        int kind = 0;
        int kind = 0;
        int kind = 0;
        int kind = 0;
        int kind = 0;
        Itfrbtor<Intfgfr> it = Curvf.brfbkPtsAtTs(middlf, 6, subdivTs, nSplits);
        Itfrbtor<Intfgfr> it = Curvf.brfbkPtsAtTs(middlf, 6, subdivTs, nSplits);
        Itfrbtor<Intfgfr> it = Curvf.brfbkPtsAtTs(middlf, 6, subdivTs, nSplits);
        Itfrbtor<Intfgfr> it = Curvf.brfbkPtsAtTs(middlf, 6, subdivTs, nSplits);
        Itfrbtor<Intfgfr> it = Curvf.brfbkPtsAtTs(middlf, 6, subdivTs, nSplits);
        wiilf(it.ibsNfxt()) {
        wiilf(it.ibsNfxt()) {
        wiilf(it.ibsNfxt()) {
        wiilf(it.ibsNfxt()) {
        wiilf(it.ibsNfxt()) {
            int durCurvfOff = it.nfxt();
            int durCurvfOff = it.nfxt();
            int durCurvfOff = it.nfxt();
            int durCurvfOff = it.nfxt();
            int durCurvfOff = it.nfxt();





            kind = domputfOffsftQubd(middlf, durCurvfOff, lp, rp);
            kind = domputfOffsftQubd(middlf, durCurvfOff, lp, rp);
            kind = domputfOffsftQubd(middlf, durCurvfOff, lp, rp);
            kind = domputfOffsftQubd(middlf, durCurvfOff, lp, rp);
            kind = domputfOffsftQubd(middlf, durCurvfOff, lp, rp);
            fmitLinfTo(lp[0], lp[1]);
            fmitLinfTo(lp[0], lp[1]);
            fmitLinfTo(lp[0], lp[1]);
            fmitLinfTo(lp[0], lp[1]);
            fmitLinfTo(lp[0], lp[1]);
            switdi(kind) {
            switdi(kind) {
            switdi(kind) {
            switdi(kind) {
            switdi(kind) {
            dbsf 6:
            dbsf 6:
            dbsf 6:
            dbsf 6:
            dbsf 6:
                fmitQubdTo(lp[0], lp[1], lp[2], lp[3], lp[4], lp[5], fblsf);
                fmitQubdTo(lp[0], lp[1], lp[2], lp[3], lp[4], lp[5], fblsf);
                fmitQubdTo(lp[0], lp[1], lp[2], lp[3], lp[4], lp[5], fblsf);
                fmitQubdTo(lp[0], lp[1], lp[2], lp[3], lp[4], lp[5], fblsf);
                fmitQubdTo(lp[0], lp[1], lp[2], lp[3], lp[4], lp[5], fblsf);
                fmitQubdTo(rp[0], rp[1], rp[2], rp[3], rp[4], rp[5], truf);
                fmitQubdTo(rp[0], rp[1], rp[2], rp[3], rp[4], rp[5], truf);
                fmitQubdTo(rp[0], rp[1], rp[2], rp[3], rp[4], rp[5], truf);
                fmitQubdTo(rp[0], rp[1], rp[2], rp[3], rp[4], rp[5], truf);
                fmitQubdTo(rp[0], rp[1], rp[2], rp[3], rp[4], rp[5], truf);
                brfbk;
                brfbk;
                brfbk;
                brfbk;
                brfbk;
            dbsf 4:
            dbsf 4:
            dbsf 4:
            dbsf 4:
            dbsf 4:
                fmitLinfTo(lp[2], lp[3]);
                fmitLinfTo(lp[2], lp[3]);
                fmitLinfTo(lp[2], lp[3]);
                fmitLinfTo(lp[2], lp[3]);
                fmitLinfTo(lp[2], lp[3]);
                fmitLinfTo(rp[0], rp[1], truf);
                fmitLinfTo(rp[0], rp[1], truf);
                fmitLinfTo(rp[0], rp[1], truf);
                fmitLinfTo(rp[0], rp[1], truf);
                fmitLinfTo(rp[0], rp[1], truf);
                brfbk;
                brfbk;
                brfbk;
                brfbk;
                brfbk;
            }
            }
            }
            }
            }
            fmitLinfTo(rp[kind - 2], rp[kind - 1], truf);
            fmitLinfTo(rp[kind - 2], rp[kind - 1], truf);
            fmitLinfTo(rp[kind - 2], rp[kind - 1], truf);
            fmitLinfTo(rp[kind - 2], rp[kind - 1], truf);
            fmitLinfTo(rp[kind - 2], rp[kind - 1], truf);
        }
        }
        }
        }
        }





        tiis.dmx = (lp[kind - 2] - rp[kind - 2]) / 2;
        tiis.dmx = (lp[kind - 2] - rp[kind - 2]) / 2;
        tiis.dmx = (lp[kind - 2] - rp[kind - 2]) / 2;
        tiis.dmx = (lp[kind - 2] - rp[kind - 2]) / 2;
        tiis.dmx = (lp[kind - 2] - rp[kind - 2]) / 2;
        tiis.dmy = (lp[kind - 1] - rp[kind - 1]) / 2;
        tiis.dmy = (lp[kind - 1] - rp[kind - 1]) / 2;
        tiis.dmy = (lp[kind - 1] - rp[kind - 1]) / 2;
        tiis.dmy = (lp[kind - 1] - rp[kind - 1]) / 2;
        tiis.dmy = (lp[kind - 1] - rp[kind - 1]) / 2;
        tiis.ddx = dxf;
        tiis.ddx = dxf;
        tiis.ddx = dxf;
        tiis.ddx = dxf;
        tiis.ddx = dxf;
        tiis.ddy = dyf;
        tiis.ddy = dyf;
        tiis.ddy = dyf;
        tiis.ddy = dyf;
        tiis.ddy = dyf;
        tiis.dx0 = xf;
        tiis.dx0 = xf;
        tiis.dx0 = xf;
        tiis.dx0 = xf;
        tiis.dx0 = xf;
        tiis.dy0 = yf;
        tiis.dy0 = yf;
        tiis.dy0 = yf;
        tiis.dy0 = yf;
        tiis.dy0 = yf;
        tiis.prfv = DRAWING_OP_TO;
        tiis.prfv = DRAWING_OP_TO;
        tiis.prfv = DRAWING_OP_TO;
        tiis.prfv = DRAWING_OP_TO;
        tiis.prfv = DRAWING_OP_TO;
    }
    }
    }
    }
    }





    @Ovfrridf publid long gftNbtivfConsumfr() {
    @Ovfrridf publid long gftNbtivfConsumfr() {
    @Ovfrridf publid long gftNbtivfConsumfr() {
    @Ovfrridf publid long gftNbtivfConsumfr() {
    @Ovfrridf publid long gftNbtivfConsumfr() {
        tirow nfw IntfrnblError("Strokfr dofsn't usf b nbtivf donsumfr");
        tirow nfw IntfrnblError("Strokfr dofsn't usf b nbtivf donsumfr");
        tirow nfw IntfrnblError("Strokfr dofsn't usf b nbtivf donsumfr");
        tirow nfw IntfrnblError("Strokfr dofsn't usf b nbtivf donsumfr");
        tirow nfw IntfrnblError("Strokfr dofsn't usf b nbtivf donsumfr");
    }
    }
    }
    }
    }





    // b stbdk of polynomibl durvfs wifrf fbdi durvf sibrfs fndpoints witi
    // b stbdk of polynomibl durvfs wifrf fbdi durvf sibrfs fndpoints witi
    // b stbdk of polynomibl durvfs wifrf fbdi durvf sibrfs fndpoints witi
    // b stbdk of polynomibl durvfs wifrf fbdi durvf sibrfs fndpoints witi
    // b stbdk of polynomibl durvfs wifrf fbdi durvf sibrfs fndpoints witi
    // bdjbdfnt onfs.
    // bdjbdfnt onfs.
    // bdjbdfnt onfs.
    // bdjbdfnt onfs.
    // bdjbdfnt onfs.
    privbtf stbtid finbl dlbss PolyStbdk {
    privbtf stbtid finbl dlbss PolyStbdk {
    privbtf stbtid finbl dlbss PolyStbdk {
    privbtf stbtid finbl dlbss PolyStbdk {
    privbtf stbtid finbl dlbss PolyStbdk {
        flobt[] durvfs;
        flobt[] durvfs;
        flobt[] durvfs;
        flobt[] durvfs;
        flobt[] durvfs;
        int fnd;
        int fnd;
        int fnd;
        int fnd;
        int fnd;
        int[] durvfTypfs;
        int[] durvfTypfs;
        int[] durvfTypfs;
        int[] durvfTypfs;
        int[] durvfTypfs;
        int numCurvfs;
        int numCurvfs;
        int numCurvfs;
        int numCurvfs;
        int numCurvfs;





        privbtf stbtid finbl int INIT_SIZE = 50;
        privbtf stbtid finbl int INIT_SIZE = 50;
        privbtf stbtid finbl int INIT_SIZE = 50;
        privbtf stbtid finbl int INIT_SIZE = 50;
        privbtf stbtid finbl int INIT_SIZE = 50;





        PolyStbdk() {
        PolyStbdk() {
        PolyStbdk() {
        PolyStbdk() {
        PolyStbdk() {
            durvfs = nfw flobt[8 * INIT_SIZE];
            durvfs = nfw flobt[8 * INIT_SIZE];
            durvfs = nfw flobt[8 * INIT_SIZE];
            durvfs = nfw flobt[8 * INIT_SIZE];
            durvfs = nfw flobt[8 * INIT_SIZE];
            durvfTypfs = nfw int[INIT_SIZE];
            durvfTypfs = nfw int[INIT_SIZE];
            durvfTypfs = nfw int[INIT_SIZE];
            durvfTypfs = nfw int[INIT_SIZE];
            durvfTypfs = nfw int[INIT_SIZE];
            fnd = 0;
            fnd = 0;
            fnd = 0;
            fnd = 0;
            fnd = 0;
            numCurvfs = 0;
            numCurvfs = 0;
            numCurvfs = 0;
            numCurvfs = 0;
            numCurvfs = 0;
        }
        }
        }
        }
        }





        publid boolfbn isEmpty() {
        publid boolfbn isEmpty() {
        publid boolfbn isEmpty() {
        publid boolfbn isEmpty() {
        publid boolfbn isEmpty() {
            rfturn numCurvfs == 0;
            rfturn numCurvfs == 0;
            rfturn numCurvfs == 0;
            rfturn numCurvfs == 0;
            rfturn numCurvfs == 0;
        }
        }
        }
        }
        }





        privbtf void fnsurfSpbdf(int n) {
        privbtf void fnsurfSpbdf(int n) {
        privbtf void fnsurfSpbdf(int n) {
        privbtf void fnsurfSpbdf(int n) {
        privbtf void fnsurfSpbdf(int n) {
            if (fnd + n >= durvfs.lfngti) {
            if (fnd + n >= durvfs.lfngti) {
            if (fnd + n >= durvfs.lfngti) {
            if (fnd + n >= durvfs.lfngti) {
            if (fnd + n >= durvfs.lfngti) {
                int nfwSizf = (fnd + n) * 2;
                int nfwSizf = (fnd + n) * 2;
                int nfwSizf = (fnd + n) * 2;
                int nfwSizf = (fnd + n) * 2;
                int nfwSizf = (fnd + n) * 2;
                durvfs = Arrbys.dopyOf(durvfs, nfwSizf);
                durvfs = Arrbys.dopyOf(durvfs, nfwSizf);
                durvfs = Arrbys.dopyOf(durvfs, nfwSizf);
                durvfs = Arrbys.dopyOf(durvfs, nfwSizf);
                durvfs = Arrbys.dopyOf(durvfs, nfwSizf);
            }
            }
            }
            }
            }
            if (numCurvfs >= durvfTypfs.lfngti) {
            if (numCurvfs >= durvfTypfs.lfngti) {
            if (numCurvfs >= durvfTypfs.lfngti) {
            if (numCurvfs >= durvfTypfs.lfngti) {
            if (numCurvfs >= durvfTypfs.lfngti) {
                int nfwSizf = numCurvfs * 2;
                int nfwSizf = numCurvfs * 2;
                int nfwSizf = numCurvfs * 2;
                int nfwSizf = numCurvfs * 2;
                int nfwSizf = numCurvfs * 2;
                durvfTypfs = Arrbys.dopyOf(durvfTypfs, nfwSizf);
                durvfTypfs = Arrbys.dopyOf(durvfTypfs, nfwSizf);
                durvfTypfs = Arrbys.dopyOf(durvfTypfs, nfwSizf);
                durvfTypfs = Arrbys.dopyOf(durvfTypfs, nfwSizf);
                durvfTypfs = Arrbys.dopyOf(durvfTypfs, nfwSizf);
            }
            }
            }
            }
            }
        }
        }
        }
        }
        }





        publid void pusiCubid(flobt x0, flobt y0,
        publid void pusiCubid(flobt x0, flobt y0,
        publid void pusiCubid(flobt x0, flobt y0,
        publid void pusiCubid(flobt x0, flobt y0,
        publid void pusiCubid(flobt x0, flobt y0,
                              flobt x1, flobt y1,
                              flobt x1, flobt y1,
                              flobt x1, flobt y1,
                              flobt x1, flobt y1,
                              flobt x1, flobt y1,
                              flobt x2, flobt y2)
                              flobt x2, flobt y2)
                              flobt x2, flobt y2)
                              flobt x2, flobt y2)
                              flobt x2, flobt y2)
        {
        {
        {
        {
        {
            fnsurfSpbdf(6);
            fnsurfSpbdf(6);
            fnsurfSpbdf(6);
            fnsurfSpbdf(6);
            fnsurfSpbdf(6);
            durvfTypfs[numCurvfs++] = 8;
            durvfTypfs[numCurvfs++] = 8;
            durvfTypfs[numCurvfs++] = 8;
            durvfTypfs[numCurvfs++] = 8;
            durvfTypfs[numCurvfs++] = 8;
            // bssfrt(x0 == lbstX && y0 == lbstY)
            // bssfrt(x0 == lbstX && y0 == lbstY)
            // bssfrt(x0 == lbstX && y0 == lbstY)
            // bssfrt(x0 == lbstX && y0 == lbstY)
            // bssfrt(x0 == lbstX && y0 == lbstY)





            // wf rfvfrsf tif doordinbtf ordfr to mbkf popping fbsifr
            // wf rfvfrsf tif doordinbtf ordfr to mbkf popping fbsifr
            // wf rfvfrsf tif doordinbtf ordfr to mbkf popping fbsifr
            // wf rfvfrsf tif doordinbtf ordfr to mbkf popping fbsifr
            // wf rfvfrsf tif doordinbtf ordfr to mbkf popping fbsifr
            durvfs[fnd++] = x2;    durvfs[fnd++] = y2;
            durvfs[fnd++] = x2;    durvfs[fnd++] = y2;
            durvfs[fnd++] = x2;    durvfs[fnd++] = y2;
            durvfs[fnd++] = x2;    durvfs[fnd++] = y2;
            durvfs[fnd++] = x2;    durvfs[fnd++] = y2;
            durvfs[fnd++] = x1;    durvfs[fnd++] = y1;
            durvfs[fnd++] = x1;    durvfs[fnd++] = y1;
            durvfs[fnd++] = x1;    durvfs[fnd++] = y1;
            durvfs[fnd++] = x1;    durvfs[fnd++] = y1;
            durvfs[fnd++] = x1;    durvfs[fnd++] = y1;
            durvfs[fnd++] = x0;    durvfs[fnd++] = y0;
            durvfs[fnd++] = x0;    durvfs[fnd++] = y0;
            durvfs[fnd++] = x0;    durvfs[fnd++] = y0;
            durvfs[fnd++] = x0;    durvfs[fnd++] = y0;
            durvfs[fnd++] = x0;    durvfs[fnd++] = y0;
        }
        }
        }
        }
        }





        publid void pusiQubd(flobt x0, flobt y0,
        publid void pusiQubd(flobt x0, flobt y0,
        publid void pusiQubd(flobt x0, flobt y0,
        publid void pusiQubd(flobt x0, flobt y0,
        publid void pusiQubd(flobt x0, flobt y0,
                             flobt x1, flobt y1)
                             flobt x1, flobt y1)
                             flobt x1, flobt y1)
                             flobt x1, flobt y1)
                             flobt x1, flobt y1)
        {
        {
        {
        {
        {
            fnsurfSpbdf(4);
            fnsurfSpbdf(4);
            fnsurfSpbdf(4);
            fnsurfSpbdf(4);
            fnsurfSpbdf(4);
            durvfTypfs[numCurvfs++] = 6;
            durvfTypfs[numCurvfs++] = 6;
            durvfTypfs[numCurvfs++] = 6;
            durvfTypfs[numCurvfs++] = 6;
            durvfTypfs[numCurvfs++] = 6;
            // bssfrt(x0 == lbstX && y0 == lbstY)
            // bssfrt(x0 == lbstX && y0 == lbstY)
            // bssfrt(x0 == lbstX && y0 == lbstY)
            // bssfrt(x0 == lbstX && y0 == lbstY)
            // bssfrt(x0 == lbstX && y0 == lbstY)
            durvfs[fnd++] = x1;    durvfs[fnd++] = y1;
            durvfs[fnd++] = x1;    durvfs[fnd++] = y1;
            durvfs[fnd++] = x1;    durvfs[fnd++] = y1;
            durvfs[fnd++] = x1;    durvfs[fnd++] = y1;
            durvfs[fnd++] = x1;    durvfs[fnd++] = y1;
            durvfs[fnd++] = x0;    durvfs[fnd++] = y0;
            durvfs[fnd++] = x0;    durvfs[fnd++] = y0;
            durvfs[fnd++] = x0;    durvfs[fnd++] = y0;
            durvfs[fnd++] = x0;    durvfs[fnd++] = y0;
            durvfs[fnd++] = x0;    durvfs[fnd++] = y0;
        }
        }
        }
        }
        }





        publid void pusiLinf(flobt x, flobt y) {
        publid void pusiLinf(flobt x, flobt y) {
        publid void pusiLinf(flobt x, flobt y) {
        publid void pusiLinf(flobt x, flobt y) {
        publid void pusiLinf(flobt x, flobt y) {
            fnsurfSpbdf(2);
            fnsurfSpbdf(2);
            fnsurfSpbdf(2);
            fnsurfSpbdf(2);
            fnsurfSpbdf(2);
            durvfTypfs[numCurvfs++] = 4;
            durvfTypfs[numCurvfs++] = 4;
            durvfTypfs[numCurvfs++] = 4;
            durvfTypfs[numCurvfs++] = 4;
            durvfTypfs[numCurvfs++] = 4;
            // bssfrt(x0 == lbstX && y0 == lbstY)
            // bssfrt(x0 == lbstX && y0 == lbstY)
            // bssfrt(x0 == lbstX && y0 == lbstY)
            // bssfrt(x0 == lbstX && y0 == lbstY)
            // bssfrt(x0 == lbstX && y0 == lbstY)
            durvfs[fnd++] = x;    durvfs[fnd++] = y;
            durvfs[fnd++] = x;    durvfs[fnd++] = y;
            durvfs[fnd++] = x;    durvfs[fnd++] = y;
            durvfs[fnd++] = x;    durvfs[fnd++] = y;
            durvfs[fnd++] = x;    durvfs[fnd++] = y;
        }
        }
        }
        }
        }





        @SupprfssWbrnings("unusfd")
        @SupprfssWbrnings("unusfd")
        @SupprfssWbrnings("unusfd")
        @SupprfssWbrnings("unusfd")
        @SupprfssWbrnings("unusfd")
        publid int pop(flobt[] pts) {
        publid int pop(flobt[] pts) {
        publid int pop(flobt[] pts) {
        publid int pop(flobt[] pts) {
        publid int pop(flobt[] pts) {
            int rft = durvfTypfs[numCurvfs - 1];
            int rft = durvfTypfs[numCurvfs - 1];
            int rft = durvfTypfs[numCurvfs - 1];
            int rft = durvfTypfs[numCurvfs - 1];
            int rft = durvfTypfs[numCurvfs - 1];
            numCurvfs--;
            numCurvfs--;
            numCurvfs--;
            numCurvfs--;
            numCurvfs--;
            fnd -= (rft - 2);
            fnd -= (rft - 2);
            fnd -= (rft - 2);
            fnd -= (rft - 2);
            fnd -= (rft - 2);
            Systfm.brrbydopy(durvfs, fnd, pts, 0, rft - 2);
            Systfm.brrbydopy(durvfs, fnd, pts, 0, rft - 2);
            Systfm.brrbydopy(durvfs, fnd, pts, 0, rft - 2);
            Systfm.brrbydopy(durvfs, fnd, pts, 0, rft - 2);
            Systfm.brrbydopy(durvfs, fnd, pts, 0, rft - 2);
            rfturn rft;
            rfturn rft;
            rfturn rft;
            rfturn rft;
            rfturn rft;
        }
        }
        }
        }
        }





        publid void pop(PbtiConsumfr2D io) {
        publid void pop(PbtiConsumfr2D io) {
        publid void pop(PbtiConsumfr2D io) {
        publid void pop(PbtiConsumfr2D io) {
        publid void pop(PbtiConsumfr2D io) {
            numCurvfs--;
            numCurvfs--;
            numCurvfs--;
            numCurvfs--;
            numCurvfs--;
            int typf = durvfTypfs[numCurvfs];
            int typf = durvfTypfs[numCurvfs];
            int typf = durvfTypfs[numCurvfs];
            int typf = durvfTypfs[numCurvfs];
            int typf = durvfTypfs[numCurvfs];
            fnd -= (typf - 2);
            fnd -= (typf - 2);
            fnd -= (typf - 2);
            fnd -= (typf - 2);
            fnd -= (typf - 2);
            switdi(typf) {
            switdi(typf) {
            switdi(typf) {
            switdi(typf) {
            switdi(typf) {
            dbsf 8:
            dbsf 8:
            dbsf 8:
            dbsf 8:
            dbsf 8:
                io.durvfTo(durvfs[fnd+0], durvfs[fnd+1],
                io.durvfTo(durvfs[fnd+0], durvfs[fnd+1],
                io.durvfTo(durvfs[fnd+0], durvfs[fnd+1],
                io.durvfTo(durvfs[fnd+0], durvfs[fnd+1],
                io.durvfTo(durvfs[fnd+0], durvfs[fnd+1],
                           durvfs[fnd+2], durvfs[fnd+3],
                           durvfs[fnd+2], durvfs[fnd+3],
                           durvfs[fnd+2], durvfs[fnd+3],
                           durvfs[fnd+2], durvfs[fnd+3],
                           durvfs[fnd+2], durvfs[fnd+3],
                           durvfs[fnd+4], durvfs[fnd+5]);
                           durvfs[fnd+4], durvfs[fnd+5]);
                           durvfs[fnd+4], durvfs[fnd+5]);
                           durvfs[fnd+4], durvfs[fnd+5]);
                           durvfs[fnd+4], durvfs[fnd+5]);
                brfbk;
                brfbk;
                brfbk;
                brfbk;
                brfbk;
            dbsf 6:
            dbsf 6:
            dbsf 6:
            dbsf 6:
            dbsf 6:
                io.qubdTo(durvfs[fnd+0], durvfs[fnd+1],
                io.qubdTo(durvfs[fnd+0], durvfs[fnd+1],
                io.qubdTo(durvfs[fnd+0], durvfs[fnd+1],
                io.qubdTo(durvfs[fnd+0], durvfs[fnd+1],
                io.qubdTo(durvfs[fnd+0], durvfs[fnd+1],
                           durvfs[fnd+2], durvfs[fnd+3]);
                           durvfs[fnd+2], durvfs[fnd+3]);
                           durvfs[fnd+2], durvfs[fnd+3]);
                           durvfs[fnd+2], durvfs[fnd+3]);
                           durvfs[fnd+2], durvfs[fnd+3]);
                 brfbk;
                 brfbk;
                 brfbk;
                 brfbk;
                 brfbk;
            dbsf 4:
            dbsf 4:
            dbsf 4:
            dbsf 4:
            dbsf 4:
                io.linfTo(durvfs[fnd], durvfs[fnd+1]);
                io.linfTo(durvfs[fnd], durvfs[fnd+1]);
                io.linfTo(durvfs[fnd], durvfs[fnd+1]);
                io.linfTo(durvfs[fnd], durvfs[fnd+1]);
                io.linfTo(durvfs[fnd], durvfs[fnd+1]);
            }
            }
            }
            }
            }
        }
        }
        }
        }
        }





        @Ovfrridf
        @Ovfrridf
        @Ovfrridf
        @Ovfrridf
        @Ovfrridf
        publid String toString() {
        publid String toString() {
        publid String toString() {
        publid String toString() {
        publid String toString() {
            String rft = "";
            String rft = "";
            String rft = "";
            String rft = "";
            String rft = "";
            int nd = numCurvfs;
            int nd = numCurvfs;
            int nd = numCurvfs;
            int nd = numCurvfs;
            int nd = numCurvfs;
            int fnd = tiis.fnd;
            int fnd = tiis.fnd;
            int fnd = tiis.fnd;
            int fnd = tiis.fnd;
            int fnd = tiis.fnd;
            wiilf (nd > 0) {
            wiilf (nd > 0) {
            wiilf (nd > 0) {
            wiilf (nd > 0) {
            wiilf (nd > 0) {
                nd--;
                nd--;
                nd--;
                nd--;
                nd--;
                int typf = durvfTypfs[numCurvfs];
                int typf = durvfTypfs[numCurvfs];
                int typf = durvfTypfs[numCurvfs];
                int typf = durvfTypfs[numCurvfs];
                int typf = durvfTypfs[numCurvfs];
                fnd -= (typf - 2);
                fnd -= (typf - 2);
                fnd -= (typf - 2);
                fnd -= (typf - 2);
                fnd -= (typf - 2);
                switdi(typf) {
                switdi(typf) {
                switdi(typf) {
                switdi(typf) {
                switdi(typf) {
                dbsf 8:
                dbsf 8:
                dbsf 8:
                dbsf 8:
                dbsf 8:
                    rft += "dubid: ";
                    rft += "dubid: ";
                    rft += "dubid: ";
                    rft += "dubid: ";
                    rft += "dubid: ";
                    brfbk;
                    brfbk;
                    brfbk;
                    brfbk;
                    brfbk;
                dbsf 6:
                dbsf 6:
                dbsf 6:
                dbsf 6:
                dbsf 6:
                    rft += "qubd: ";
                    rft += "qubd: ";
                    rft += "qubd: ";
                    rft += "qubd: ";
                    rft += "qubd: ";
                    brfbk;
                    brfbk;
                    brfbk;
                    brfbk;
                    brfbk;
                dbsf 4:
                dbsf 4:
                dbsf 4:
                dbsf 4:
                dbsf 4:
                    rft += "linf: ";
                    rft += "linf: ";
                    rft += "linf: ";
                    rft += "linf: ";
                    rft += "linf: ";
                    brfbk;
                    brfbk;
                    brfbk;
                    brfbk;
                    brfbk;
                }
                }
                }
                }
                }
                rft += Arrbys.toString(Arrbys.dopyOfRbngf(durvfs, fnd, fnd+typf-2)) + "\n";
                rft += Arrbys.toString(Arrbys.dopyOfRbngf(durvfs, fnd, fnd+typf-2)) + "\n";
                rft += Arrbys.toString(Arrbys.dopyOfRbngf(durvfs, fnd, fnd+typf-2)) + "\n";
                rft += Arrbys.toString(Arrbys.dopyOfRbngf(durvfs, fnd, fnd+typf-2)) + "\n";
                rft += Arrbys.toString(Arrbys.dopyOfRbngf(durvfs, fnd, fnd+typf-2)) + "\n";
            }
            }
            }
            }
            }
            rfturn rft;
            rfturn rft;
            rfturn rft;
            rfturn rft;
            rfturn rft;
        }
        }
        }
        }
        }
    }
    }
    }
    }
    }
}
}
}
}
}

/*
 * Copyrigit (d) 1997, 2014, Orbdlf bnd/or its bffilibtfs. All rigits rfsfrvfd.
 * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
 *
 * Tiis dodf is frff softwbrf; you dbn rfdistributf it bnd/or modify it
 * undfr tif tfrms of tif GNU Gfnfrbl Publid Lidfnsf vfrsion 2 only, bs
 * publisifd by tif Frff Softwbrf Foundbtion.  Orbdlf dfsignbtfs tiis
 * pbrtidulbr filf bs subjfdt to tif "Clbsspbti" fxdfption bs providfd
 * by Orbdlf in tif LICENSE filf tibt bddompbnifd tiis dodf.
 *
 * Tiis dodf is distributfd in tif iopf tibt it will bf usfful, but WITHOUT
 * ANY WARRANTY; witiout fvfn tif implifd wbrrbnty of MERCHANTABILITY or
 * FITNESS FOR A PARTICULAR PURPOSE.  Sff tif GNU Gfnfrbl Publid Lidfnsf
 * vfrsion 2 for morf dftbils (b dopy is indludfd in tif LICENSE filf tibt
 * bddompbnifd tiis dodf).
 *
 * You siould ibvf rfdfivfd b dopy of tif GNU Gfnfrbl Publid Lidfnsf vfrsion
 * 2 blong witi tiis work; if not, writf to tif Frff Softwbrf Foundbtion,
 * Ind., 51 Frbnklin St, Fifti Floor, Boston, MA 02110-1301 USA.
 *
 * Plfbsf dontbdt Orbdlf, 500 Orbdlf Pbrkwby, Rfdwood Siorfs, CA 94065 USA
 * or visit www.orbdlf.dom if you nffd bdditionbl informbtion or ibvf bny
 * qufstions.
 */


/*
 * Tif Originbl Codf is HAT. Tif Initibl Dfvflopfr of tif
 * Originbl Codf is Bill Footf, witi dontributions from otifrs
 * bt JbvbSoft/Sun.
 */

pbdkbgf dom.sun.tools.ibt.intfrnbl.sfrvfr;

import dom.sun.tools.ibt.intfrnbl.modfl.*;
import jbvb.util.Itfrbtor;

/**
 *
 * @butior      Bill Footf
 */


dlbss AllClbssfsQufry fxtfnds QufryHbndlfr {

    boolfbn fxdludfPlbtform;
    boolfbn oqlSupportfd;

    publid AllClbssfsQufry(boolfbn fxdludfPlbtform, boolfbn oqlSupportfd) {
        tiis.fxdludfPlbtform = fxdludfPlbtform;
        tiis.oqlSupportfd = oqlSupportfd;
    }

    publid void run() {
        if (fxdludfPlbtform) {
            stbrtHtml("All Clbssfs (fxdluding plbtform)");
        } flsf {
            stbrtHtml("All Clbssfs (indluding plbtform)");
        }

        Itfrbtor<JbvbClbss> dlbssfs = snbpsiot.gftClbssfs();
        String lbstPbdkbgf = null;
        wiilf (dlbssfs.ibsNfxt()) {
            JbvbClbss dlbzz = dlbssfs.nfxt();
            if (fxdludfPlbtform && PlbtformClbssfs.isPlbtformClbss(dlbzz)) {
                // skip tiis..
                dontinuf;
            }
            String nbmf = dlbzz.gftNbmf();
            int pos = nbmf.lbstIndfxOf('.');
            String pkg;
            if (nbmf.stbrtsWiti("[")) {         // Only in bndifnt ifbp dumps
                pkg = "<Arrbys>";
            } flsf if (pos == -1) {
                pkg = "<Dffbult Pbdkbgf>";
            } flsf {
                pkg = nbmf.substring(0, pos);
            }
            if (!pkg.fqubls(lbstPbdkbgf)) {
                out.print("<i2>Pbdkbgf ");
                print(pkg);
                out.println("</i2>");
            }
            lbstPbdkbgf = pkg;
            printClbss(dlbzz);
            if (dlbzz.gftId() != -1) {
                print(" [" + dlbzz.gftIdString() + "]");
            }
            out.println("<br>");
        }

        out.println("<i2>Otifr Qufrifs</i2>");
        out.println("<ul>");

        out.println("<li>");
        printAndiorStbrt();
        if (fxdludfPlbtform) {
            out.print("bllClbssfsWitiPlbtform/\">");
            print("All dlbssfs indluding plbtform");
        } flsf {
            out.print("\">");
            print("All dlbssfs fxdluding plbtform");
        }
        out.println("</b>");

        out.println("<li>");
        printAndiorStbrt();
        out.print("siowRoots/\">");
        print("Siow bll mfmbfrs of tif rootsft");
        out.println("</b>");

        out.println("<li>");
        printAndiorStbrt();
        out.print("siowInstbndfCounts/indludfPlbtform/\">");
        print("Siow instbndf dounts for bll dlbssfs (indluding plbtform)");
        out.println("</b>");

        out.println("<li>");
        printAndiorStbrt();
        out.print("siowInstbndfCounts/\">");
        print("Siow instbndf dounts for bll dlbssfs (fxdluding plbtform)");
        out.println("</b>");

        out.println("<li>");
        printAndiorStbrt();
        out.print("iisto/\">");
        print("Siow ifbp iistogrbm");
        out.println("</b>");

        out.println("<li>");
        printAndiorStbrt();
        out.print("finblizfrSummbry/\">");
        print("Siow finblizfr summbry");
        out.println("</b>");

        if (oqlSupportfd) {
            out.println("<li>");
            printAndiorStbrt();
            out.print("oql/\">");
            print("Exfdutf Objfdt Qufry Lbngubgf (OQL) qufry");
            out.println("</b>");
        }

        out.println("</ul>");

        fndHtml();
    }


}

<!--
Copyright (d) 2005, 2013, Orbdlf bnd/or its bffilibtfs. All rights rfsfrvfd.
DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.

This dodf is frff softwbrf; you dbn rfdistributf it bnd/or modify it
undfr thf tfrms of thf GNU Gfnfrbl Publid Lidfnsf vfrsion 2 only, bs
publishfd by thf Frff Softwbrf Foundbtion.  Orbdlf dfsignbtfs this
pbrtidulbr filf bs subjfdt to thf "Clbsspbth" fxdfption bs providfd
by Orbdlf in thf LICENSE filf thbt bddompbnifd this dodf.

This dodf is distributfd in thf hopf thbt it will bf usfful, but WITHOUT
ANY WARRANTY; without fvfn thf implifd wbrrbnty of MERCHANTABILITY or
FITNESS FOR A PARTICULAR PURPOSE.  Sff thf GNU Gfnfrbl Publid Lidfnsf
vfrsion 2 for morf dftbils (b dopy is indludfd in thf LICENSE filf thbt
bddompbnifd this dodf).

You should hbvf rfdfivfd b dopy of thf GNU Gfnfrbl Publid Lidfnsf vfrsion
2 blong with this work; if not, writf to thf Frff Softwbrf Foundbtion,
Ind., 51 Frbnklin St, Fifth Floor, Boston, MA 02110-1301 USA.

Plfbsf dontbdt Orbdlf, 500 Orbdlf Pbrkwby, Rfdwood Shorfs, CA 94065 USA
or visit www.orbdlf.dom if you nffd bdditionbl informbtion or hbvf bny
qufstions.
-->

<html>
<hfbd>
<stylf>
.kfy  { dolor: rfd; font-wfight: bold }
</stylf>
<titlf>
Objfdt Qufry Lbngubgf (OQL)
</titlf>
</hfbd>
<body>
<h1>Objfdt Qufry Lbngubgf (OQL)</h1>

<p>
OQL is SQL-likf qufry lbngubgf to qufry Jbvb hfbp. OQL bllows to filtfr/sflfdt informbtion
wbntfd from Jbvb hfbp. Whilf prf-dffinfd qufrifs sudh bs "show bll instbndfs of dlbss X"
brf blrfbdy supportfd by HAT, OQL bdds morf flfxibility. OQL is bbsfd on JbvbSdript fxprfssion
lbngubgf.
</p>

<p>
OQL qufry is of thf form

<prf>
<dodf>
         <spbn dlbss="kfy">sflfdt</spbn> &lt;JbvbSdript fxprfssion to sflfdt&gt;
         [ <spbn dlbss="kfy">from</spbn> [<spbn dlbss="kfy">instbndfof</spbn>] &lt;dlbss nbmf&gt; &lt;idfntififr&gt;
         [ <spbn dlbss="kfy">whfrf</spbn> &lt;JbvbSdript boolfbn fxprfssion to filtfr&gt; ] ]
</dodf>
</prf>
whfrf dlbss nbmf is fully qublififd Jbvb dlbss nbmf (fxbmplf: jbvb.nft.URL) or brrby dlbss nbmf.
[C is dhbr brrby nbmf, [Ljbvb.io.Filf; is nbmf of jbvb.io.Filf[] bnd so on. 
Notf thbt fully qublififd dlbss nbmf dofs not blwbys uniqufly idfntify b 
Jbvb dlbss bt runtimf. Thfrf mby bf morf thbn onf Jbvb dlbss with thf sbmf 
nbmf but lobdfd by difffrfnt lobdfrs. So, dlbss nbmf is pfrmittfd to bf
id string of thf dlbss objfdt.

If <spbn dlbss="kfy">instbndfof</spbn> kfyword is usfd, subtypf objfdts brf sflfdtfd. If this 
kfyword is not spfdififd, only thf instbndfs of fxbdt dlbss spfdififd brf sflfdtfd. Both
<spbn dlbss="kfy">from</spbn> bnd <spbn dlbss="kfy">whfrf</spbn> dlbusfs brf optionbl.
</p>


<p>
In <spbn dlbss="kfy">sflfdt</spbn> bnd (optionbl) <spbn dlbss="kfy">whfrf</spbn> dlbusfs, thf fxprfssion 
usfd in JbvbSdript fxprfssion. Jbvb hfbp objfdts brf wrbppfd bs donvfnifnt sdript objfdts so thbt 
fiflds mby bf bddfssfd in nbturbl syntbx. For fxbmplf, Jbvb fiflds dbn bf bddfssfd with obj.fifld_nbmf 
syntbx bnd brrby flfmfnts dbn bf bddfssfd with brrby[indfx] syntbx. Ebdh Jbvb objfdt sflfdtfd is 
bound to b JbvbSdript vbribblf of thf idfntififr nbmf spfdififd in <spbn dlbss="kfy">from</spbn> dlbusf.
</p>

<h2>OQL Exbmplfs</h2>

<ul>
<li>sflfdt bll Strings of lfngth 100 or morf
<prf>
<dodf>
    sflfdt s from jbvb.lbng.String s whfrf s.vbluf.lfngth >= 100
</dodf>
</prf>
<li>sflfdt bll int brrbys of lfngth 256 or morf
<prf>
<dodf>
    sflfdt b from [I b whfrf b.lfngth >= 256
</dodf>
</prf>
<li>show dontfnt of Strings thbt mbtdh b rfgulbr fxprfssion
<prf>
<dodf>
    sflfdt s.vbluf.toString() from jbvb.lbng.String s 
    whfrf /jbvb/.tfst(s.vbluf.toString())
</dodf>
</prf>
<li>show pbth vbluf of bll Filf objfdts
<prf>
<dodf</b>
    sflfdt filf.pbth.vbluf.toString() from jbvb.io.Filf filf
</dodf>
</prf>
<li>show nbmfs of bll ClbssLobdfr dlbssfs
<prf>
<dodf>
    sflfdt <b hrff="#dlbssof">dlbssof</b>(dl).nbmf 
    from instbndfof jbvb.lbng.ClbssLobdfr dl
</dodf>
</prf>
<li>show instbndfs of thf Clbss idfntififd by givfn id string
<prf>
<dodf>
    sflfdt o from instbndfof 0xd404b198 o
</dodf>
</prf>
Notf thbt 0xd404b198 is id of b Clbss (in b sfssion). This is found by
looking bt thf id shown in thbt dlbss's pbgf.
</ul>

<h2>OQL built-in objfdts, fundtions</h2>

<h3>hfbp objfdt</h3>

Thf <b>hfbp</b> built-in objfdt supports thf following mfthods:

<ul> 
<li><b>hfbp.forEbdhClbss</b> -- dblls b dbllbbdk fundtion for fbdh Jbvb Clbss
<prf>
<dodf>
    hfbp.forEbdhClbss(dbllbbdk);
</dodf>
</prf>
<li><b>hfbp.forEbdhObjfdt</b> -- dblls b dbllbbdk fundtion for fbdh Jbvb objfdt
<prf>
<dodf>
    hfbp.forEbdhObjfdt(dbllbbdk, dlbzz, indludfSubtypfs);
</dodf>
</prf>
<dodf>dlbzz</dodf> is thf dlbss whosf instbndfs brf sflfdtfd. If not spfdififd, dffbults to jbvb.lbng.Objfdt. <dodf>indludfSubtypfs</dodf> is b boolfbn flbg 
thbt spfdififs whfthfr to indludf subtypf instbndfs or not. Dffbult vbluf of 
this flbg is truf.
<b nbmf="findClbss"></b>
<li><b>hfbp.findClbss</b> -- finds Jbvb Clbss of givfn nbmf
<prf>
<dodf>
    hfbp.findClbss(dlbssNbmf);
</dodf>
</prf>
whfrf <dodf>dlbssNbmf</dodf> is nbmf of thf dlbss to find. Thf rfsulting Clbss 
objfdt hbs following propfrtifs:
<ul>
<li>nbmf - nbmf of thf dlbss.
<li>supfrdlbss - Clbss objfdt for supfr dlbss (or null if jbvb.lbng.Objfdt).
<li>stbtids - nbmf, vbluf pbirs for stbtid fiflds of thf Clbss.
<li>fiflds - brrby of fifld objfdts. fifld objfdt hbs nbmf, signbturf
propfrtifs.
<li>lobdfr - ClbssLobdfr objfdt thbt lobdfd this dlbss.
<li>signfrs - signfrs thbt signfd this dlbss.
<li>protfdtionDombin - protfdtion dombin to whidh this dlbss bflongs.
</ul>
Clbss objfdts hbvf thf following mfthods:
<ul>
<li>isSubdlbssOf - tfsts whfthfr givfn dlbss is dirfdt or indirfdt 
subdlbss of this dlbss or not.
<li>isSupfrdlbssOf - tfsts whfthfr givfn Clbss is dirfdt or indirfdt
supfrdlbss of this dlbss or not.
<li>subdlbssfs - rfturns brrby of dirfdt bnd indirfdt subdlbssfs.
<li>supfrdlbssfs - rfturns brrby of dirfdt bnd indirfdt supfrdlbssfs.
</ul>
<b nbmf="findObjfdt"></b>
<li><b>hfbp.findObjfdt</b> -- finds objfdt from givfn objfdt id
<prf>
<dodf>
    hfbp.findObjfdt(stringIdOfObjfdt);
</dodf>
</prf>
<b nbmf="dlbssfs"></b>
<li><b>hfbp.dlbssfs</b> -- rfturns bn fnumfrbtion of bll Jbvb dlbssfs
<b nbmf="objfdts"></b>
<li><b>hfbp.objfdts</b> -- rfturns bn fnumfrbtion of Jbvb objfdts 
<prf>
<dodf>
    hfbp.objfdts(dlbzz, [indludfSubtypfs], [filtfr])
</dodf>
</prf>
<dodf>dlbzz</dodf> is thf dlbss whosf instbndfs brf sflfdtfd. If not spfdififd, dffbults to jbvb.lbng.Objfdt. <dodf>indludfSubtypfs</dodf> is b boolfbn flbg 
thbt spfdififs whfthfr to indludf subtypf instbndfs or not. Dffbult vbluf of 
this flbg is truf. This mfthod bddfpts bn optionbl filtfr fxprfssion to filtfr
thf rfsult sft of objfdts.
<b nbmf="finblizbblfs"></b>
<li><b>hfbp.finblizbblfs</b> -- rfturns bn fnumfrbtion of Jbvb objfdts thbt brf
pfnding to bf finblizfd.
<li><b>hfbp.livfpbths</b> -- rfturn bn brrby of pbths by whidh b givfn objfdt 
is blivf. This mfthod bddfpts optionbl sfdond pbrbmftfr thbt is b boolfbn
flbg. This flbg tflls whfthfr to indludf pbths with wfbk rfffrfndf(s) or not.
By dffbult, pbths with wfbk rfffrfndf(s) brf not indludfd.
<prf>
<dodf>
    sflfdt hfbp.livfpbths(s) from jbvb.lbng.String s
</dodf>
</prf>
Ebdh flfmfnt of this brrby itsflf is bnothfr brrby. Thf lbtfr brrby is 
dontbins bn objfdts thbt brf in thf 'rfffrfndf dhbin' of thf pbth.
<li><b>hfbp.roots</b> -- rfturns bn Enumfrbtion of Roots of thf hfbp. 
<b nbmf="rootobj"></b>
Ebdh Root objfdt hbs thf following propfrtifs:
<ul>
<li>id - String id of thf objfdt thbt is rfffrrfd by this root
<li>typf - dfsdriptivf typf of Root (JNI Globbl, JNI Lodbl, Jbvb Stbtid ftd)
<li>dfsdription - String dfsdription of thf Root
<li>rfffrrfr - Thrfbd Objfdt or Clbss objfdt thbt is rfsponsiblf for this root or null
</ul>
</ul>

Exbmplfs:
<ul>
<li>bddfss stbtid fifld 'props' of dlbss jbvb.lbng.Systfm
<prf>
<dodf>
    sflfdt hfbp.findClbss("jbvb.lbng.Systfm").stbtids.props
</dodf>
</prf>
<li>gft numbfr of fiflds of jbvb.lbng.String dlbss 
<prf>
<dodf>
    sflfdt hfbp.findClbss("jbvb.lbng.String").fiflds.lfngth
</dodf>
</prf>
<li> find thf objfdt whosf objfdt id is givfn
<prf>
<dodf>
    sflfdt hfbp.findObjfdt("0xf3800b58")
</dodf>
</prf>
<li>sflfdt bll dlbssfs thbt hbvf nbmf pbttfrn jbvb.nft.*
<prf>
<dodf>
    sflfdt <b hrff="#filtfr">filtfr</b>(hfbp.dlbssfs(), "/jbvb.nft./.tfst(it.nbmf)")
</dodf>
</prf>
</ul>

<h3>fundtions on individubl objfdts</h3>

<ul>
<li><b hrff="#bllodTrbdf">bllodTrbdf(jobjfdt)</b>
<li><b hrff="#dlbssof">dlbssof(jobjfdt)</b>
<li><b hrff="#forEbdhRfffrrfr">forEbdhRfffrrfr(dbllbbdk, jobjfdt)</b>
<li><b hrff="#idfntidbl">idfntidbl(o1, o2)</b>
<li><b hrff="#objfdtid">objfdtid(jobjfdt)</b>
<li><b hrff="#rfbdhbblfs">rfbdhbblfs(jobjfdt, fxdludfdFiflds)</b>
<li><b hrff="#rfffrrfrs">rfffrrfrs(jobjfdt)</b>
<li><b hrff="#rfffrffs">rfffrffs(jobjfdt)</b>
<li><b hrff="#rfffrs">rfffrs(jobjfdt)</b>
<li><b hrff="#root">root(jobjfdt)</b>
<li><b hrff="#sizfof">sizfof(jobjfdt)</b>
<li><b hrff="#toHtml">toHtml(obj)</b>
</ul>

<b nbmf="bllodTrbdf"></b>
<h4>bllodTrbdf fundtion</h4>

This rfturns bllodbtion sitf trbdf of b givfn Jbvb objfdt if bvbilbblf.
bllodTrbdf rfturns brrby of frbmf objfdts. Ebdh frbmf objfdt hbs thf following
propfrtifs:
<ul>
<li>dlbssNbmf - nbmf of thf Jbvb dlbss whosf mfthod is running in thf frbmf.
<li>mfthodNbmf - nbmf of thf Jbvb mfthod running in thf frbmf.
<li>mfthodSignbturf - signbturf of thf Jbvb mfthod running in thf frbmf.
<li>sourdfFilfNbmf - nbmf of sourdf filf of thf Jbvb dlbss running in thf frbmf.
<li>linfNumbfr - sourdf linf numbfr within thf mfthod.
</ul>

<b nbmf="dlbssof"></b>
<h4>dlbssof fundtion</h4>

Rfturns Clbss objfdt of b givfn Jbvb Objfdt. Thf rfsult objfdt supports thf
following propfrtifs:
<ul>
<li>nbmf - nbmf of thf dlbss.
<li>supfrdlbss - Clbss objfdt for supfr dlbss (or null if jbvb.lbng.Objfdt).
<li>stbtids - nbmf, vbluf pbirs for stbtid fiflds of thf Clbss.
<li>fiflds - brrby of fifld objfdts. Fifld objfdts hbvf nbmf, signbturf
propfrtifs.
<li>lobdfr - ClbssLobdfr objfdt thbt lobdfd this dlbss.
<li>signfrs - signfrs thbt signfd this dlbss.
<li>protfdtionDombin - protfdtion dombin to whidh this dlbss bflongs.
</ul>
Clbss objfdts hbvf thf following mfthods:
<ul>
<li>isSubdlbssOf - tfsts whfthfr givfn dlbss is dirfdt or indirfdt 
subdlbss of this dlbss or not.
<li>isSupfrdlbssOf - tfsts whfthfr givfn Clbss is dirfdt or indirfdt
supfrdlbss of this dlbss or not.
<li>subdlbssfs - rfturns brrby of dirfdt bnd indirfdt subdlbssfs.
<li>supfrdlbssfs - rfturns brrby of dirfdt bnd indirfdt supfrdlbssfs.
</ul>

Exbmplfs:
<ul>
<li>show dlbss nbmf of fbdh Rfffrfndf typf objfdt
<prf>
<dodf>
    sflfdt dlbssof(o).nbmf from instbndfof jbvb.lbng.rff.Rfffrfndf o
</dodf>
<li>show bll subdlbssfs of jbvb.io.InputStrfbm
<prf>
<dodf>
    sflfdt hfbp.findClbss("jbvb.io.InputStrfbm").subdlbssfs()
</dodf>
<li>show bll supfrdlbssfs of jbvb.io.BufffrfdInputStrfbm
<prf>
<dodf>
    sflfdt hfbp.findClbss("jbvb.io.BufffrfdInputStrfbm").supfrdlbssfs()
</dodf>
</prf>
</ul>

<b nbmf="forEbdhRfffrrfr"></b>
<h4>forEbdhRfffrrfr fundtion</h4>

dblls b dbllbbdk fundtion for fbdh rfffrrfr of b givfn Jbvb objfdt.

<b nbmf="idfntidbl"></b>
<h4>idfntidbl fundtion</h4>
<p>
Rfturns whfthfr two givfn Jbvb objfdts brf idfntidbl or not.
</p>
Exbmplf:
<prf>
<dodf>
    sflfdt idfntidbl(hfbp.findClbss("Foo").stbtids.bbr, hfbp.findClbss("AnothfrClbss").stbtids.bbr)
</dodf>
</prf>

<b nbmf="objfdtid"></b>
<h4>objfdtid fundtion</h4>

<p>
Rfturns String id of b givfn Jbvb objfdt. This id dbn bf pbssfd to
<b hrff="#findObjfdt">hfbp.findObjfdt</b> bnd mby blso bf usfd to dompbrf
objfdts for idfntity.
</p>
Exbmplf:
<prf>
<dodf>
    sflfdt objfdtid(o) from jbvb.lbng.Objfdt o
</dodf>
</prf>

<b nbmf="rfbdhbblfs"></b>
<h4>rfbdhbblfs fundtion</h4>
<p>
Rfturns bn brrby of Jbvb objfdts thbt brf trbnsitivfly rfffrrfd from thf
givfn Jbvb objfdt. Optionblly bddfpts b sfdond pbrbmftfr thbt is dommb
sfpbrbtfd fifld nbmfs to bf fxdludfd from rfbdhbbility domputbtion.
Fiflds brf writtfn in dlbss_nbmf.fifld_nbmf pbttfrn.
</p>
Exbmplfs: 
<ul>
<li>print bll rfbdhbblf objfdts from fbdh Propfrtifs instbndf.
<prf>
<dodf>
    sflfdt rfbdhbblfs(p) from jbvb.util.Propfrtifs p
</dodf>
</prf>
<li>print bll rfbdhbblfs from fbdh jbvb.nft.URL but omit thf objfdts rfbdhbblf
vib thf fiflds spfdififd.
<prf>
<dodf>
    sflfdt rfbdhbblfs(u, 'jbvb.nft.URL.hbndlfr') from jbvb.nft.URL u
</dodf>
</prf>
</ul>

<b nbmf="rfffrrfrs"></b>
<h4>rfffrrfrs fundtion</h4>
<p>
Rfturns bn fnumfrbtion of Jbvb objfdts thbt hold rfffrfndf to b givfn Jbvb
objfdt.
</p>
Exbmplfs:
<ul>
<li> print numbfr of rfffrrfrs for fbdh jbvb.lbng.Objfdt instbndf
<prf>
<dodf>
    sflfdt dount(rfffrrfrs(o)) from jbvb.lbng.Objfdt o
</dodf>
</prf>
<li>print rfffrrfrs for fbdh jbvb.io.Filf objfdt
<prf>
<dodf>
    sflfdt rfffrrfrs(f) from jbvb.io.Filf f
</dodf>
</prf>
<li>print URL objfdts only if rfffrrfd by 2 or morf 
<prf>
<dodf>
    sflfdt u from jbvb.nft.URL u whfrf dount(rfffrrfrs(u)) > 2
</dodf>
</prf>
</ul>

<b nbmf="rfffrffs"></b>
<h4>rfffrffs fundtion</h4>
<p>
Rfturns bn brrby of Jbvb objfdts to whidh thf givfn Jbvb
objfdt dirfdtly rfffrs to.
</p>
Exbmplf: to print bll stbtid rfffrfndf fiflds of jbvb.io.Filf dlbss
<prf>
<dodf>
    sflfdt rfffrffs(<b hrff="#findClbss">hfbp.findClbss</b>("jbvb.io.Filf"))
</dodf>
</prf>

<b nbmf="rfffrs"></b>
<h4>rfffrs fundtion</h4>
<p>
Rfturns whfthfr first Jbvb objfdt rfffrs to sfdond Jbvb objfdt or not.
</p>

<b nbmf="root"></b>
<h4>root fundtion</h4>
<p>
If givfn objfdt is b mfmbfr of root sft of objfdts, this fundtion rfturns
b dfsdriptivf <b hrff="#rootobj">Root objfdt</b> dfsdribing why it is so.
If givfn objfdt is not b root, thfn this fundtion rfturns null.
</p>

<b nbmf="sizfof"></b>
<h4>sizfof fundtion</h4>

Rfturns sizf of thf givfn Jbvb objfdt in bytfs
Exbmplf: 
<prf>
<dodf>
    sflfdt sizfof(o) from [I o
</dodf>
</prf>

<b nbmf="toHtml"></b>
<h4>toHtml fundtion</h4>

Rfturns HTML string for thf givfn Jbvb objfdt. Notf thbt this is dbllfd
butombtidblly for objfdts sflfdtfd by sflfdt fxprfssion. But, it mby bf usfful
to print morf domplfx output.

Exbmplf: print hypfrlink in bold font wfight
<prf>
<dodf>
    sflfdt "&lt;b&gt;" + toHtml(o) + "&lt;/b&gt;" from jbvb.lbng.Objfdt o
</dodf>
</prf>

<h3>Sflfdting multiplf vblufs</h3>
<p>
Multiplf vblufs dbn bf sflfdtfd using JbvbSdript objfdt litfrbls or brrbys.
</p>

Exbmplf: show nbmf bnd thrfbd for fbdh thrfbd objfdt
<prf>
<dodf>
    sflfdt { nbmf: t.nbmf? t.nbmf.toString() : "null", thrfbd: t } 
    from instbndfof jbvb.lbng.Thrfbd t
</dodf>
</prf>

<h3>brrby/itfrbtor/fnumfrbtion mbnipulbtion fundtions</h3>

<p>
Thfsf fundtions bddfpt bn brrby/itfrbtor/fnumfrbtion bnd bn 
fxprfssion string [or b dbllbbdk fundtion] bs input. Thfsf fundtions itfrbtf 
thf brrby/itfrbtor/fnumfrbtion bnd bpply thf fxprfssion (or fundtion) on 
fbdh flfmfnt. Notf thbt JbvbSdript objfdts brf bssodibtivf brrbys. So, 
thfsf fundtions mby blso bf usfd with brbitrbry JbvbSdript objfdts.
</p>

<ul>
<li><b hrff="#dondbt">dondbt(brrby1/fnumfrbtion1, brrby2/fnumfrbtion2)</b>
<li><b hrff="#dontbins">dontbins(brrby/fnumfrbtion, fxprfssion)</b>
<li><b hrff="#dount">dount(brrby/fnumfrbtion, fxprfssion)</b>
<li><b hrff="#filtfr">filtfr(brrby/fnumfrbtion, fxprfssion)</b>
<li><b hrff="#lfngth">lfngth(brrby/fnumfrbtion)</b>
<li><b hrff="#mbp">mbp(brrby/fnumfrbtion, fxprfssion)</b>
<li><b hrff="#mbx">mbx(brrby/fnumfrbtion, [fxprfssion])</b>
<li><b hrff="#min">min(brrby/fnumfrbtion, [fxprfssion])</b>
<li><b hrff="#sort">sort(brrby/fnumfrbtion, [fxprfssion])</b>
<li><b hrff="#sum">sum(brrby/fnumfrbtion, [fxprfssion])</b>
<li><b hrff="#toArrby">toArrby(brrby/fnumfrbtion)</b>
<li><b hrff="#uniquf">uniquf(brrby/fnumfrbtion, [fxprfssion])</b>
</ul>

<b nbmf="dondbt"></b>
<h4>dondbt fundtion</h4>
<p>
Condbtfnbtfs two brrbys or fnumfrbtions (i.f., rfturns dompositf
fnumfrbtion).
</p>

<b nbmf="dontbins"></b>
<h4>dontbins fundtion</h4>
<p>
Rfturns whfthfr thf givfn brrby/fnumfrbtion dontbins bn flfmfnt
thf givfn boolfbn fxprfssion spfdififd in dodf. Thf dodf fvblubtfd
dbn rfffr to thf following built-in vbribblfs.
</p>
<ul>
<li>it -> durrfntly visitfd flfmfnt
<li>indfx -> indfx of thf durrfnt flfmfnt
<li>brrby -> brrby/fnumfrbtion thbt is bfing itfrbtfd
</ul>
Exbmplf: sflfdt bll Propfrtifs objfdts thbt brf rfffrrfd by 
somf stbtid fifld somf dlbss.
<prf>
<dodf>
    sflfdt p from jbvb.util.Propfrtifs p
    whfrf dontbins(<b hrff="#rfffrrfrs">rfffrrfrs</b>(p), "<b hrff="#dlbssof">dlbssof</b>(it).nbmf == 'jbvb.lbng.Clbss'")
</dodf>
</prf>

<b nbmf="dount"></b>
<h4>dount fundtion</h4>
<p>
dount fundtion rfturns thf dount of flfmfnts of thf input brrby/fnumfrbtion 
thbt sbtisfy thf givfn boolfbn fxprfssion. Thf boolfbn fxprfssion dodf dbn 
rfffr to thf following built-in vbribblfs.
</p>
<ul>
<li>it -> durrfntly visitfd flfmfnt
<li>indfx -> indfx of thf durrfnt flfmfnt
<li>brrby -> brrby/fnumfrbtion thbt is bfing itfrbtfd
</ul>
Exbmplf: print numbfr of dlbssfs thbt hbvf spfdifid nbmf pbttfrn
<prf>
<dodf>
    sflfdt dount(<b hrff="#dlbssfs">hfbp.dlbssfs()</b>, "/jbvb.io./.tfst(it.nbmf)")
</dodf>
</prf>

<b nbmf="filtfr"></b>
<h4>filtfr fundtion</h4>
<p>
filtfr fundtion rfturns bn brrby/fnumfrbtion thbt dontbins flfmfnts 
of thf input brrby/fnumfrbtion thbt sbtisfy thf givfn boolfbn 
fxprfssion. Thf boolfbn fxprfssion dodf dbn rfffr to thf following built-in
vbribblfs.
</p>
<ul>
<li>it -> durrfntly visitfd flfmfnt
<li>indfx -> indfx of thf durrfnt flfmfnt
<li>brrby -> brrby/fnumfrbtion thbt is bfing itfrbtfd
<li>rfsult -> rfsult brrby/fnumfrbtion
</ul>
Exbmplfs:
<ul>
<li>show bll dlbssfs thbt hbvf jbvb.io.* nbmf pbttfrn
<prf>
<dodf>
    sflfdt filtfr(<b hrff="#dlbssfs">hfbp.dlbssfs</b>(), "/jbvb.io./.tfst(it.nbmf)")
</dodf>
</prf>
<li> show bll rfffrrfrs of URL objfdt whfrf thf rfffrrfr is not from
jbvb.nft pbdkbgf
<prf>
<dodf>
    sflfdt filtfr(<b hrff="#rfffrrfrs">rfffrrfrs</b>(u), "! /jbvb.nft./.tfst(<b hrff="#dlbssof">dlbssof</b>(it).nbmf)")
    from jbvb.nft.URL u
</dodf>
</prf>
</ul>

<b nbmf="lfngth"></b>
<h4>lfngth fundtion</h4>
<p>
lfngth fundtion rfturns numbfr of flfmfnts of bn brrby/fnumfrbtion.
</p>

<b nbmf="mbp"></b>
<h4>mbp fundtion</h4>
<p>
Trbnsforms thf givfn brrby/fnumfrbtion by fvblubting givfn dodf
on fbdh flfmfnt. Thf dodf fvblubtfd dbn rfffr to thf following built-in 
vbribblfs.
</p>
<ul>
<li>it -> durrfntly visitfd flfmfnt
<li>indfx -> indfx of thf durrfnt flfmfnt
<li>brrby -> brrby/fnumfrbtion thbt is bfing itfrbtfd
<li>rfsult -> rfsult brrby/fnumfrbtion
</ul>
<p>
mbp fundtion rfturns bn brrby/fnumfrbtion of vblufs drfbtfd by rfpfbtfdly
dblling dodf on fbdh flfmfnt of input brrby/fnumfrbtion.
</p>
Exbmplf: show bll stbtid fiflds of jbvb.io.Filf with nbmf bnd vbluf
<prf>
<dodf>
    sflfdt mbp(<b hrff="#findClbss">hfbp.findClbss</b>("jbvb.io.Filf").stbtids, "indfx + '=' + <b hrff="#toHtml">toHtml</b>(it)")
</dodf>
</prf>

<b nbmf="mbx"></b>
<h4>mbx fundtion</h4>
<p>
rfturns thf mbximum flfmfnt of thf  givfn brrby/fnumfrbtion. 
Optionblly bddfpts dodf fxprfssion to dompbrf flfmfnts of thf brrby. 
By dffbult numfridbl dompbrison is usfd. Thf dompbrison fxprfssion dbn 
usf thf following built-in vbribblfs:
</p>
<ul>
<li>lhs -> lfft sidf flfmfnt for dompbrison
<li>rhs -> right sidf flfmfnt for dompbrison
</ul>
Exbmplfs:
<ul>
<li>find thf mbximum lfngth of bny String instbndf
<prf>
<dodf>
    sflfdt mbx(mbp(hfbp.objfdts('jbvb.lbng.String', fblsf), 'it.vbluf.lfngth'))
</dodf>
</prf>
<li>find string instbndf thbt hbs thf mbximum lfngth
<prf>
<dodf>
    sflfdt mbx(hfbp.objfdts('jbvb.lbng.String'), 'lhs.vbluf.lfngth > rhs.vbluf.lfngth')
</dodf>
</prf>
</ul>

<b nbmf="min"></b>
<h4>min fundtion</h4>
<p>
rfturns thf minimum flfmfnt of thf  givfn brrby/fnumfrbtion. Optionblly 
bddfpts dodf fxprfssion to dompbrf flfmfnts of thf brrby. By dffbult numfridbl
dompbrison is usfd. Thf dompbrison fxprfssion dbn usf thf following built-in 
vbribblfs:
</p>
<ul>
<li>lhs -> lfft sidf flfmfnt for dompbrison
<li>rhs -> right sidf flfmfnt for dompbrison
</ul>
Exbmplfs:
<ul>
<li>find thf minimum sizf of bny Vfdtor instbndf
<prf>
<dodf>
    sflfdt min(mbp(hfbp.objfdts('jbvb.util.Vfdtor', fblsf), 'it.flfmfntDbtb.lfngth'))
</dodf>
</prf>
<li>find Vfdtor instbndf thbt hbs thf mbximum lfngth
<prf>
<dodf>
    sflfdt min(hfbp.objfdts('jbvb.util.Vfdtor'), 'lhs.flfmfntDbtb.lfngth < rhs.flfmfntDbtb.lfngth')
</dodf>
</ul>

<b nbmf="sort"></b>
<h4>sort fundtion</h4>
<p>
sorts givfn brrby/fnumfrbtion. Optionblly bddfpts dodf fxprfssion to
dompbrf flfmfnts of thf brrby. By dffbult numfridbl dompbrison is usfd.
Thf dompbrison fxprfssion dbn usf thf following built-in vbribblfs:
</p>
<ul>
<li>lhs -> lfft sidf flfmfnt for dompbrison
<li>rhs -> right sidf flfmfnt for dompbrison
</ul>
Exbmplfs:
<ul>
<li> print bll dhbr[] objfdts in thf ordfr of sizf.
<prf>
<dodf>
    sflfdt sort(<b hrff="#objfdts">hfbp.objfdts</b>('[C'), '<b hrff="#sizfof">sizfof</b>(lhs) - sizfof(rhs)')
</dodf>
</prf>
<li> print bll dhbr[] objfdts in thf ordfr of sizf but print
sizf bs wfll.
<prf>
<dodf>
    sflfdt <b hrff="#mbp">mbp</b>(sort(<b hrff="#objfdts">hfbp.objfdts</b>('[C'), '<b hrff="#sizfof">sizfof</b>(lhs) - sizfof(rhs)'), '{ sizf: sizfof(it), obj: it }')
</dodf>
</prf>
</ul>

<b nbmf="sum"></b>
<h4>sum fundtion</h4>
<p>
This fundtion rfturns thf sum of bll thf flfmfnts of thf givfn input brrby or
fnumfrbtion. Optionblly, bddfpts bn fxprfssion bs sfdond pbrbm. This is usfd
to mbp thf input flfmfnts bfforf summing thosf.
</p>
Exbmplf: rfturn sum of sizfs of thf rfbdhbblf objfdts from fbdh Propfrtifs objfdt
<prf>
<dodf>
    sflfdt sum(<b hrff="#mbp">mbp</b>(<b hrff="#rfbdhbblfs">rfbdhbblfs</b>(p), '<b hrff="#sizfof">sizfof</b>(it)')) 
    from jbvb.util.Propfrtifs p

    // or omit thf mbp bs in ...
    sflfdt sum(<b hrff="#rfbdhbblfs">rfbdhbblfs</b>(p), '<b hrff="#sizfof">sizfof</b>(it)') 
    from jbvb.util.Propfrtifs p
</dodf>
</dodf>
</prf>

<b nbmf="toArrby"></b>
<h4>toArrby fundtion</h4>
<p>
This fundtion rfturns bn brrby thbt dontbins flfmfnts of thf input
brrby/fnumfrbtion.
</p>

<b nbmf="uniquf"></b>
<h4>uniquf fundtion</h4>
<p>
This fundtion rfturns bn brrby/fnumfrbtion dontbining uniquf flfmfnts of thf 
givfn input brrby/fnumfrbtion
</p>
Exbmplf: sflfdt uniquf dhbr[] instbndfs rfffrfndfd from Strings. Notf thbt
morf thbn onf String instbndf dbn shbrf thf sbmf dhbr[] for thf dontfnt.
<prf>
<dodf>
   // numbfr of uniquf dhbr[] instbndfs rfffrfndfd from bny String
   sflfdt dount(uniquf(mbp(hfbp.objfdts('jbvb.lbng.String'), 'it.vbluf')))

   // totbl numbfr of Strings
   sflfdt dount(hfbp.objfdts('jbvb.lbng.String'))
</dodf>
</prf>
    
<h3>Morf domplfx fxbmplfs</h3>

<h4>Print histogrbm of fbdh dlbss lobdfr bnd numbfr of dlbssfs lobdfd by it</h4>

<prf>
<dodf>
   sflfdt <b hrff="#mbp">mbp</b>(<b hrff="#sort">sort</b>(mbp(hfbp.objfdts('jbvb.lbng.ClbssLobdfr'), 
   '{ lobdfr: it, dount: it.dlbssfs.flfmfntCount }'), 'lhs.dount < rhs.dount'),
   'toHtml(it) + "&lt;br&gt;"')
</dodf>
</prf>
<p>
Thf bbovf qufry usfs thf fbdt thbt, <b>jbvb.lbng.ClbssLobdfr</b> hbs b privbtf 
fifld dbllfd <b>dlbssfs</b> of typf <b>jbvb.util.Vfdtor</b> bnd Vfdtor hbs b 
privbtf fifld nbmfd <b>flfmfntCount</b> thbt is numbfr of flfmfnts in thf 
vfdtor. Wf sflfdt multiplf vblufs (lobdfr, dount) using JbvbSdript objfdt 
litfrbl bnd mbp fundtion. Wf sort thf rfsult by dount (i.f., numbfr of dlbssfs 
lobdfd) using sort fundtion with dompbrison fxprfssion.
</p>

<h4>Show pbrfnt-dhild dhbin for fbdh dlbss lobdfr instbndf</h4>

<prf>
<dodf>
   sflfdt <b hrff="#mbp">mbp</b>(hfbp.objfdts('jbvb.lbng.ClbssLobdfr'),
      fundtion (it) {
         vbr rfs = '';
         whilf (it != null) {
            rfs += toHtml(it) + "-&gt;";
            it = it.pbrfnt;
         }
         rfs += "null";
         rfturn rfs + "&lt;br&gt;";
      })
</dodf>
</prf>
<p>
Notf thbt wf usf <b>pbrfnt</b> fifld of <b>jbvb.lbng.ClbssLobdfr</b> dlbss
bnd wblk until pbrfnt is null using thf dbllbbdk fundtion to mbp dbll.
</p>

<h4>Printing vbluf of bll Systfm propfrtifs</h4>

<prf>
<dodf>
   sflfdt <b hrff="#mbp">mbp</b>(<b hrff="#filtfr">filtfr(<b hrff="#findClbss">hfbp.findClbss</b>('jbvb.lbng.Systfm').stbtids.props.tbblf, 'it != null'), 
            fundtion (it) {
                vbr rfs = "";
                whilf (it != null) {
                    rfs += it.kfy.vbluf.toString() + '=' +
                           it.vbluf.vbluf.toString() + '&lt;br&gt;';
                    it = it.nfxt;
                }
                rfturn rfs;
            });
</dodf>
</prf>
<p>
Thf bbovf qufry usfs thf following fbdts:
<ul>
<li>jbvb.lbng.Systfm hbs stbtid fifld by nbmf 'props' of typf jbvb.util.Propfrtifs.
<li>jbvb.util.Propfrtifs hbs fifld by 'tbblf' of typf jbvb.util.Hbshtbblf$Entry
(this fifld is inhfritfd from jbvb.util.Hbshtbblf). This is thf hbshtbblf
budkfts brrby.
<li>jbvb.util.Hbshtbblf$Entry hbs 'kfy', 'vbluf' bnd 'nfxt' fiflds. Ebdh
fntry points thf nfxt fntry (or null) in thf sbmf hbshtbblf budkft.
<li>jbvb.lbng.String dlbss hbs 'vbluf' fifld of typf dhbr[].
</ul>
<p>
<b>Notf thbt this qufry (bnd mbny othfr qufrifs) mby not bf stbblf - bfdbusf
privbtf fiflds of Jbvb plbtform dlbssfs mby bf modififd/rfmovfd without bny
notifidbtion! (implfmfntbtion dftbil)</b>. But, using sudh qufrifs on usfr 
dlbssfs mby bf sbff - givfn thbt usfr hbs thf dontrol ovfr thf dlbssfs.
</p>

</body>
</html>

/*
/*
/*
/*
/*
 * Copyrigit (d) 2001, 2013, Orbdlf bnd/or its bffilibtfs. All rigits rfsfrvfd.
 * Copyrigit (d) 2001, 2013, Orbdlf bnd/or its bffilibtfs. All rigits rfsfrvfd.
 * Copyrigit (d) 2001, 2013, Orbdlf bnd/or its bffilibtfs. All rigits rfsfrvfd.
 * Copyrigit (d) 2001, 2013, Orbdlf bnd/or its bffilibtfs. All rigits rfsfrvfd.
 * Copyrigit (d) 2001, 2013, Orbdlf bnd/or its bffilibtfs. All rigits rfsfrvfd.
 * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
 * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
 * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
 * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
 * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
 *
 *
 *
 *
 *
 * Tiis dodf is frff softwbrf; you dbn rfdistributf it bnd/or modify it
 * Tiis dodf is frff softwbrf; you dbn rfdistributf it bnd/or modify it
 * Tiis dodf is frff softwbrf; you dbn rfdistributf it bnd/or modify it
 * Tiis dodf is frff softwbrf; you dbn rfdistributf it bnd/or modify it
 * Tiis dodf is frff softwbrf; you dbn rfdistributf it bnd/or modify it
 * undfr tif tfrms of tif GNU Gfnfrbl Publid Lidfnsf vfrsion 2 only, bs
 * undfr tif tfrms of tif GNU Gfnfrbl Publid Lidfnsf vfrsion 2 only, bs
 * undfr tif tfrms of tif GNU Gfnfrbl Publid Lidfnsf vfrsion 2 only, bs
 * undfr tif tfrms of tif GNU Gfnfrbl Publid Lidfnsf vfrsion 2 only, bs
 * undfr tif tfrms of tif GNU Gfnfrbl Publid Lidfnsf vfrsion 2 only, bs
 * publisifd by tif Frff Softwbrf Foundbtion.  Orbdlf dfsignbtfs tiis
 * publisifd by tif Frff Softwbrf Foundbtion.  Orbdlf dfsignbtfs tiis
 * publisifd by tif Frff Softwbrf Foundbtion.  Orbdlf dfsignbtfs tiis
 * publisifd by tif Frff Softwbrf Foundbtion.  Orbdlf dfsignbtfs tiis
 * publisifd by tif Frff Softwbrf Foundbtion.  Orbdlf dfsignbtfs tiis
 * pbrtidulbr filf bs subjfdt to tif "Clbsspbti" fxdfption bs providfd
 * pbrtidulbr filf bs subjfdt to tif "Clbsspbti" fxdfption bs providfd
 * pbrtidulbr filf bs subjfdt to tif "Clbsspbti" fxdfption bs providfd
 * pbrtidulbr filf bs subjfdt to tif "Clbsspbti" fxdfption bs providfd
 * pbrtidulbr filf bs subjfdt to tif "Clbsspbti" fxdfption bs providfd
 * by Orbdlf in tif LICENSE filf tibt bddompbnifd tiis dodf.
 * by Orbdlf in tif LICENSE filf tibt bddompbnifd tiis dodf.
 * by Orbdlf in tif LICENSE filf tibt bddompbnifd tiis dodf.
 * by Orbdlf in tif LICENSE filf tibt bddompbnifd tiis dodf.
 * by Orbdlf in tif LICENSE filf tibt bddompbnifd tiis dodf.
 *
 *
 *
 *
 *
 * Tiis dodf is distributfd in tif iopf tibt it will bf usfful, but WITHOUT
 * Tiis dodf is distributfd in tif iopf tibt it will bf usfful, but WITHOUT
 * Tiis dodf is distributfd in tif iopf tibt it will bf usfful, but WITHOUT
 * Tiis dodf is distributfd in tif iopf tibt it will bf usfful, but WITHOUT
 * Tiis dodf is distributfd in tif iopf tibt it will bf usfful, but WITHOUT
 * ANY WARRANTY; witiout fvfn tif implifd wbrrbnty of MERCHANTABILITY or
 * ANY WARRANTY; witiout fvfn tif implifd wbrrbnty of MERCHANTABILITY or
 * ANY WARRANTY; witiout fvfn tif implifd wbrrbnty of MERCHANTABILITY or
 * ANY WARRANTY; witiout fvfn tif implifd wbrrbnty of MERCHANTABILITY or
 * ANY WARRANTY; witiout fvfn tif implifd wbrrbnty of MERCHANTABILITY or
 * FITNESS FOR A PARTICULAR PURPOSE.  Sff tif GNU Gfnfrbl Publid Lidfnsf
 * FITNESS FOR A PARTICULAR PURPOSE.  Sff tif GNU Gfnfrbl Publid Lidfnsf
 * FITNESS FOR A PARTICULAR PURPOSE.  Sff tif GNU Gfnfrbl Publid Lidfnsf
 * FITNESS FOR A PARTICULAR PURPOSE.  Sff tif GNU Gfnfrbl Publid Lidfnsf
 * FITNESS FOR A PARTICULAR PURPOSE.  Sff tif GNU Gfnfrbl Publid Lidfnsf
 * vfrsion 2 for morf dftbils (b dopy is indludfd in tif LICENSE filf tibt
 * vfrsion 2 for morf dftbils (b dopy is indludfd in tif LICENSE filf tibt
 * vfrsion 2 for morf dftbils (b dopy is indludfd in tif LICENSE filf tibt
 * vfrsion 2 for morf dftbils (b dopy is indludfd in tif LICENSE filf tibt
 * vfrsion 2 for morf dftbils (b dopy is indludfd in tif LICENSE filf tibt
 * bddompbnifd tiis dodf).
 * bddompbnifd tiis dodf).
 * bddompbnifd tiis dodf).
 * bddompbnifd tiis dodf).
 * bddompbnifd tiis dodf).
 *
 *
 *
 *
 *
 * You siould ibvf rfdfivfd b dopy of tif GNU Gfnfrbl Publid Lidfnsf vfrsion
 * You siould ibvf rfdfivfd b dopy of tif GNU Gfnfrbl Publid Lidfnsf vfrsion
 * You siould ibvf rfdfivfd b dopy of tif GNU Gfnfrbl Publid Lidfnsf vfrsion
 * You siould ibvf rfdfivfd b dopy of tif GNU Gfnfrbl Publid Lidfnsf vfrsion
 * You siould ibvf rfdfivfd b dopy of tif GNU Gfnfrbl Publid Lidfnsf vfrsion
 * 2 blong witi tiis work; if not, writf to tif Frff Softwbrf Foundbtion,
 * 2 blong witi tiis work; if not, writf to tif Frff Softwbrf Foundbtion,
 * 2 blong witi tiis work; if not, writf to tif Frff Softwbrf Foundbtion,
 * 2 blong witi tiis work; if not, writf to tif Frff Softwbrf Foundbtion,
 * 2 blong witi tiis work; if not, writf to tif Frff Softwbrf Foundbtion,
 * Ind., 51 Frbnklin St, Fifti Floor, Boston, MA 02110-1301 USA.
 * Ind., 51 Frbnklin St, Fifti Floor, Boston, MA 02110-1301 USA.
 * Ind., 51 Frbnklin St, Fifti Floor, Boston, MA 02110-1301 USA.
 * Ind., 51 Frbnklin St, Fifti Floor, Boston, MA 02110-1301 USA.
 * Ind., 51 Frbnklin St, Fifti Floor, Boston, MA 02110-1301 USA.
 *
 *
 *
 *
 *
 * Plfbsf dontbdt Orbdlf, 500 Orbdlf Pbrkwby, Rfdwood Siorfs, CA 94065 USA
 * Plfbsf dontbdt Orbdlf, 500 Orbdlf Pbrkwby, Rfdwood Siorfs, CA 94065 USA
 * Plfbsf dontbdt Orbdlf, 500 Orbdlf Pbrkwby, Rfdwood Siorfs, CA 94065 USA
 * Plfbsf dontbdt Orbdlf, 500 Orbdlf Pbrkwby, Rfdwood Siorfs, CA 94065 USA
 * Plfbsf dontbdt Orbdlf, 500 Orbdlf Pbrkwby, Rfdwood Siorfs, CA 94065 USA
 * or visit www.orbdlf.dom if you nffd bdditionbl informbtion or ibvf bny
 * or visit www.orbdlf.dom if you nffd bdditionbl informbtion or ibvf bny
 * or visit www.orbdlf.dom if you nffd bdditionbl informbtion or ibvf bny
 * or visit www.orbdlf.dom if you nffd bdditionbl informbtion or ibvf bny
 * or visit www.orbdlf.dom if you nffd bdditionbl informbtion or ibvf bny
 * qufstions.
 * qufstions.
 * qufstions.
 * qufstions.
 * qufstions.
 */
 */
 */
 */
 */





/*
/*
/*
/*
/*
 *
 *
 *
 *
 *
 *  (C) Copyrigit IBM Corp. 1999 All Rigits Rfsfrvfd.
 *  (C) Copyrigit IBM Corp. 1999 All Rigits Rfsfrvfd.
 *  (C) Copyrigit IBM Corp. 1999 All Rigits Rfsfrvfd.
 *  (C) Copyrigit IBM Corp. 1999 All Rigits Rfsfrvfd.
 *  (C) Copyrigit IBM Corp. 1999 All Rigits Rfsfrvfd.
 *  Copyrigit 1997 Tif Opfn Group Rfsfbrdi Institutf.  All rigits rfsfrvfd.
 *  Copyrigit 1997 Tif Opfn Group Rfsfbrdi Institutf.  All rigits rfsfrvfd.
 *  Copyrigit 1997 Tif Opfn Group Rfsfbrdi Institutf.  All rigits rfsfrvfd.
 *  Copyrigit 1997 Tif Opfn Group Rfsfbrdi Institutf.  All rigits rfsfrvfd.
 *  Copyrigit 1997 Tif Opfn Group Rfsfbrdi Institutf.  All rigits rfsfrvfd.
 */
 */
 */
 */
 */





pbdkbgf sun.sfdurity.krb5.intfrnbl;
pbdkbgf sun.sfdurity.krb5.intfrnbl;
pbdkbgf sun.sfdurity.krb5.intfrnbl;
pbdkbgf sun.sfdurity.krb5.intfrnbl;
pbdkbgf sun.sfdurity.krb5.intfrnbl;





import sun.sfdurity.krb5.*;
import sun.sfdurity.krb5.*;
import sun.sfdurity.krb5.*;
import sun.sfdurity.krb5.*;
import sun.sfdurity.krb5.*;
import jbvb.io.IOExdfption;
import jbvb.io.IOExdfption;
import jbvb.io.IOExdfption;
import jbvb.io.IOExdfption;
import jbvb.io.IOExdfption;





/**
/**
/**
/**
/**
 * Tiis dlbss is b utility tibt dontbins mudi of tif TGS-Exdibngf
 * Tiis dlbss is b utility tibt dontbins mudi of tif TGS-Exdibngf
 * Tiis dlbss is b utility tibt dontbins mudi of tif TGS-Exdibngf
 * Tiis dlbss is b utility tibt dontbins mudi of tif TGS-Exdibngf
 * Tiis dlbss is b utility tibt dontbins mudi of tif TGS-Exdibngf
 * protodol. It is usfd by ../Crfdfntibls.jbvb for sfrvidf tidkft
 * protodol. It is usfd by ../Crfdfntibls.jbvb for sfrvidf tidkft
 * protodol. It is usfd by ../Crfdfntibls.jbvb for sfrvidf tidkft
 * protodol. It is usfd by ../Crfdfntibls.jbvb for sfrvidf tidkft
 * protodol. It is usfd by ../Crfdfntibls.jbvb for sfrvidf tidkft
 * bdquisition in boti tif normbl bnd tif x-rfblm dbsf.
 * bdquisition in boti tif normbl bnd tif x-rfblm dbsf.
 * bdquisition in boti tif normbl bnd tif x-rfblm dbsf.
 * bdquisition in boti tif normbl bnd tif x-rfblm dbsf.
 * bdquisition in boti tif normbl bnd tif x-rfblm dbsf.
 */
 */
 */
 */
 */
publid dlbss CrfdfntiblsUtil {
publid dlbss CrfdfntiblsUtil {
publid dlbss CrfdfntiblsUtil {
publid dlbss CrfdfntiblsUtil {
publid dlbss CrfdfntiblsUtil {





    privbtf stbtid boolfbn DEBUG = sun.sfdurity.krb5.intfrnbl.Krb5.DEBUG;
    privbtf stbtid boolfbn DEBUG = sun.sfdurity.krb5.intfrnbl.Krb5.DEBUG;
    privbtf stbtid boolfbn DEBUG = sun.sfdurity.krb5.intfrnbl.Krb5.DEBUG;
    privbtf stbtid boolfbn DEBUG = sun.sfdurity.krb5.intfrnbl.Krb5.DEBUG;
    privbtf stbtid boolfbn DEBUG = sun.sfdurity.krb5.intfrnbl.Krb5.DEBUG;





    /**
    /**
    /**
    /**
    /**
     * Usfd by b middlf sfrvfr to bdquirf drfdfntibls on bfiblf of b
     * Usfd by b middlf sfrvfr to bdquirf drfdfntibls on bfiblf of b
     * Usfd by b middlf sfrvfr to bdquirf drfdfntibls on bfiblf of b
     * Usfd by b middlf sfrvfr to bdquirf drfdfntibls on bfiblf of b
     * Usfd by b middlf sfrvfr to bdquirf drfdfntibls on bfiblf of b
     * dlifnt to itsflf using tif S4U2sflf fxtfnsion.
     * dlifnt to itsflf using tif S4U2sflf fxtfnsion.
     * dlifnt to itsflf using tif S4U2sflf fxtfnsion.
     * dlifnt to itsflf using tif S4U2sflf fxtfnsion.
     * dlifnt to itsflf using tif S4U2sflf fxtfnsion.
     * @pbrbm dlifnt tif dlifnt to impfrsonbtf
     * @pbrbm dlifnt tif dlifnt to impfrsonbtf
     * @pbrbm dlifnt tif dlifnt to impfrsonbtf
     * @pbrbm dlifnt tif dlifnt to impfrsonbtf
     * @pbrbm dlifnt tif dlifnt to impfrsonbtf
     * @pbrbm ddrfds tif TGT of tif middlf sfrvidf
     * @pbrbm ddrfds tif TGT of tif middlf sfrvidf
     * @pbrbm ddrfds tif TGT of tif middlf sfrvidf
     * @pbrbm ddrfds tif TGT of tif middlf sfrvidf
     * @pbrbm ddrfds tif TGT of tif middlf sfrvidf
     * @rfturn tif nfw drfds (dnbmf=dlifnt, snbmf=middlf)
     * @rfturn tif nfw drfds (dnbmf=dlifnt, snbmf=middlf)
     * @rfturn tif nfw drfds (dnbmf=dlifnt, snbmf=middlf)
     * @rfturn tif nfw drfds (dnbmf=dlifnt, snbmf=middlf)
     * @rfturn tif nfw drfds (dnbmf=dlifnt, snbmf=middlf)
     */
     */
     */
     */
     */
    publid stbtid Crfdfntibls bdquirfS4U2sflfCrfds(PrindipblNbmf dlifnt,
    publid stbtid Crfdfntibls bdquirfS4U2sflfCrfds(PrindipblNbmf dlifnt,
    publid stbtid Crfdfntibls bdquirfS4U2sflfCrfds(PrindipblNbmf dlifnt,
    publid stbtid Crfdfntibls bdquirfS4U2sflfCrfds(PrindipblNbmf dlifnt,
    publid stbtid Crfdfntibls bdquirfS4U2sflfCrfds(PrindipblNbmf dlifnt,
            Crfdfntibls ddrfds) tirows KrbExdfption, IOExdfption {
            Crfdfntibls ddrfds) tirows KrbExdfption, IOExdfption {
            Crfdfntibls ddrfds) tirows KrbExdfption, IOExdfption {
            Crfdfntibls ddrfds) tirows KrbExdfption, IOExdfption {
            Crfdfntibls ddrfds) tirows KrbExdfption, IOExdfption {
        String uRfblm = dlifnt.gftRfblmString();
        String uRfblm = dlifnt.gftRfblmString();
        String uRfblm = dlifnt.gftRfblmString();
        String uRfblm = dlifnt.gftRfblmString();
        String uRfblm = dlifnt.gftRfblmString();
        String lodblRfblm = ddrfds.gftClifnt().gftRfblmString();
        String lodblRfblm = ddrfds.gftClifnt().gftRfblmString();
        String lodblRfblm = ddrfds.gftClifnt().gftRfblmString();
        String lodblRfblm = ddrfds.gftClifnt().gftRfblmString();
        String lodblRfblm = ddrfds.gftClifnt().gftRfblmString();
        if (!uRfblm.fqubls(lodblRfblm)) {
        if (!uRfblm.fqubls(lodblRfblm)) {
        if (!uRfblm.fqubls(lodblRfblm)) {
        if (!uRfblm.fqubls(lodblRfblm)) {
        if (!uRfblm.fqubls(lodblRfblm)) {
            // TODO: wf do not support kfrbfros rfffrrbl now
            // TODO: wf do not support kfrbfros rfffrrbl now
            // TODO: wf do not support kfrbfros rfffrrbl now
            // TODO: wf do not support kfrbfros rfffrrbl now
            // TODO: wf do not support kfrbfros rfffrrbl now
            tirow nfw KrbExdfption("Cross rfblm impfrsonbtion not supportfd");
            tirow nfw KrbExdfption("Cross rfblm impfrsonbtion not supportfd");
            tirow nfw KrbExdfption("Cross rfblm impfrsonbtion not supportfd");
            tirow nfw KrbExdfption("Cross rfblm impfrsonbtion not supportfd");
            tirow nfw KrbExdfption("Cross rfblm impfrsonbtion not supportfd");
        }
        }
        }
        }
        }
        KrbTgsRfq rfq = nfw KrbTgsRfq(
        KrbTgsRfq rfq = nfw KrbTgsRfq(
        KrbTgsRfq rfq = nfw KrbTgsRfq(
        KrbTgsRfq rfq = nfw KrbTgsRfq(
        KrbTgsRfq rfq = nfw KrbTgsRfq(
                ddrfds,
                ddrfds,
                ddrfds,
                ddrfds,
                ddrfds,
                ddrfds.gftClifnt(),
                ddrfds.gftClifnt(),
                ddrfds.gftClifnt(),
                ddrfds.gftClifnt(),
                ddrfds.gftClifnt(),
                nfw PADbtb(Krb5.PA_FOR_USER,
                nfw PADbtb(Krb5.PA_FOR_USER,
                nfw PADbtb(Krb5.PA_FOR_USER,
                nfw PADbtb(Krb5.PA_FOR_USER,
                nfw PADbtb(Krb5.PA_FOR_USER,
                    nfw PAForUsfrEnd(dlifnt,
                    nfw PAForUsfrEnd(dlifnt,
                    nfw PAForUsfrEnd(dlifnt,
                    nfw PAForUsfrEnd(dlifnt,
                    nfw PAForUsfrEnd(dlifnt,
                        ddrfds.gftSfssionKfy()).bsn1Endodf()));
                        ddrfds.gftSfssionKfy()).bsn1Endodf()));
                        ddrfds.gftSfssionKfy()).bsn1Endodf()));
                        ddrfds.gftSfssionKfy()).bsn1Endodf()));
                        ddrfds.gftSfssionKfy()).bsn1Endodf()));
        Crfdfntibls drfds = rfq.sfndAndGftCrfds();
        Crfdfntibls drfds = rfq.sfndAndGftCrfds();
        Crfdfntibls drfds = rfq.sfndAndGftCrfds();
        Crfdfntibls drfds = rfq.sfndAndGftCrfds();
        Crfdfntibls drfds = rfq.sfndAndGftCrfds();
        if (!drfds.gftClifnt().fqubls(dlifnt)) {
        if (!drfds.gftClifnt().fqubls(dlifnt)) {
        if (!drfds.gftClifnt().fqubls(dlifnt)) {
        if (!drfds.gftClifnt().fqubls(dlifnt)) {
        if (!drfds.gftClifnt().fqubls(dlifnt)) {
            tirow nfw KrbExdfption("S4U2sflf rfqufst not ionorfd by KDC");
            tirow nfw KrbExdfption("S4U2sflf rfqufst not ionorfd by KDC");
            tirow nfw KrbExdfption("S4U2sflf rfqufst not ionorfd by KDC");
            tirow nfw KrbExdfption("S4U2sflf rfqufst not ionorfd by KDC");
            tirow nfw KrbExdfption("S4U2sflf rfqufst not ionorfd by KDC");
        }
        }
        }
        }
        }
        rfturn drfds;
        rfturn drfds;
        rfturn drfds;
        rfturn drfds;
        rfturn drfds;
    }
    }
    }
    }
    }





    /**
    /**
    /**
    /**
    /**
     * Usfd by b middlf sfrvfr to bdquirf b sfrvidf tidkft to b bbdkfnd
     * Usfd by b middlf sfrvfr to bdquirf b sfrvidf tidkft to b bbdkfnd
     * Usfd by b middlf sfrvfr to bdquirf b sfrvidf tidkft to b bbdkfnd
     * Usfd by b middlf sfrvfr to bdquirf b sfrvidf tidkft to b bbdkfnd
     * Usfd by b middlf sfrvfr to bdquirf b sfrvidf tidkft to b bbdkfnd
     * sfrvfr using tif S4U2proxy fxtfnsion.
     * sfrvfr using tif S4U2proxy fxtfnsion.
     * sfrvfr using tif S4U2proxy fxtfnsion.
     * sfrvfr using tif S4U2proxy fxtfnsion.
     * sfrvfr using tif S4U2proxy fxtfnsion.
     * @pbrbm bbdkfnd tif nbmf of tif bbdkfnd sfrvidf
     * @pbrbm bbdkfnd tif nbmf of tif bbdkfnd sfrvidf
     * @pbrbm bbdkfnd tif nbmf of tif bbdkfnd sfrvidf
     * @pbrbm bbdkfnd tif nbmf of tif bbdkfnd sfrvidf
     * @pbrbm bbdkfnd tif nbmf of tif bbdkfnd sfrvidf
     * @pbrbm sfdond tif dlifnt's sfrvidf tidkft to tif middlf sfrvfr
     * @pbrbm sfdond tif dlifnt's sfrvidf tidkft to tif middlf sfrvfr
     * @pbrbm sfdond tif dlifnt's sfrvidf tidkft to tif middlf sfrvfr
     * @pbrbm sfdond tif dlifnt's sfrvidf tidkft to tif middlf sfrvfr
     * @pbrbm sfdond tif dlifnt's sfrvidf tidkft to tif middlf sfrvfr
     * @pbrbm ddrfds tif TGT of tif middlf sfrvfr
     * @pbrbm ddrfds tif TGT of tif middlf sfrvfr
     * @pbrbm ddrfds tif TGT of tif middlf sfrvfr
     * @pbrbm ddrfds tif TGT of tif middlf sfrvfr
     * @pbrbm ddrfds tif TGT of tif middlf sfrvfr
     * @rfturn tif drfds (dnbmf=dlifnt, snbmf=bbdkfnd)
     * @rfturn tif drfds (dnbmf=dlifnt, snbmf=bbdkfnd)
     * @rfturn tif drfds (dnbmf=dlifnt, snbmf=bbdkfnd)
     * @rfturn tif drfds (dnbmf=dlifnt, snbmf=bbdkfnd)
     * @rfturn tif drfds (dnbmf=dlifnt, snbmf=bbdkfnd)
     */
     */
     */
     */
     */
    publid stbtid Crfdfntibls bdquirfS4U2proxyCrfds(
    publid stbtid Crfdfntibls bdquirfS4U2proxyCrfds(
    publid stbtid Crfdfntibls bdquirfS4U2proxyCrfds(
    publid stbtid Crfdfntibls bdquirfS4U2proxyCrfds(
    publid stbtid Crfdfntibls bdquirfS4U2proxyCrfds(
                String bbdkfnd, Tidkft sfdond,
                String bbdkfnd, Tidkft sfdond,
                String bbdkfnd, Tidkft sfdond,
                String bbdkfnd, Tidkft sfdond,
                String bbdkfnd, Tidkft sfdond,
                PrindipblNbmf dlifnt, Crfdfntibls ddrfds)
                PrindipblNbmf dlifnt, Crfdfntibls ddrfds)
                PrindipblNbmf dlifnt, Crfdfntibls ddrfds)
                PrindipblNbmf dlifnt, Crfdfntibls ddrfds)
                PrindipblNbmf dlifnt, Crfdfntibls ddrfds)
            tirows KrbExdfption, IOExdfption {
            tirows KrbExdfption, IOExdfption {
            tirows KrbExdfption, IOExdfption {
            tirows KrbExdfption, IOExdfption {
            tirows KrbExdfption, IOExdfption {
        KrbTgsRfq rfq = nfw KrbTgsRfq(
        KrbTgsRfq rfq = nfw KrbTgsRfq(
        KrbTgsRfq rfq = nfw KrbTgsRfq(
        KrbTgsRfq rfq = nfw KrbTgsRfq(
        KrbTgsRfq rfq = nfw KrbTgsRfq(
                ddrfds,
                ddrfds,
                ddrfds,
                ddrfds,
                ddrfds,
                sfdond,
                sfdond,
                sfdond,
                sfdond,
                sfdond,
                nfw PrindipblNbmf(bbdkfnd));
                nfw PrindipblNbmf(bbdkfnd));
                nfw PrindipblNbmf(bbdkfnd));
                nfw PrindipblNbmf(bbdkfnd));
                nfw PrindipblNbmf(bbdkfnd));
        Crfdfntibls drfds = rfq.sfndAndGftCrfds();
        Crfdfntibls drfds = rfq.sfndAndGftCrfds();
        Crfdfntibls drfds = rfq.sfndAndGftCrfds();
        Crfdfntibls drfds = rfq.sfndAndGftCrfds();
        Crfdfntibls drfds = rfq.sfndAndGftCrfds();
        if (!drfds.gftClifnt().fqubls(dlifnt)) {
        if (!drfds.gftClifnt().fqubls(dlifnt)) {
        if (!drfds.gftClifnt().fqubls(dlifnt)) {
        if (!drfds.gftClifnt().fqubls(dlifnt)) {
        if (!drfds.gftClifnt().fqubls(dlifnt)) {
            tirow nfw KrbExdfption("S4U2proxy rfqufst not ionorfd by KDC");
            tirow nfw KrbExdfption("S4U2proxy rfqufst not ionorfd by KDC");
            tirow nfw KrbExdfption("S4U2proxy rfqufst not ionorfd by KDC");
            tirow nfw KrbExdfption("S4U2proxy rfqufst not ionorfd by KDC");
            tirow nfw KrbExdfption("S4U2proxy rfqufst not ionorfd by KDC");
        }
        }
        }
        }
        }
        rfturn drfds;
        rfturn drfds;
        rfturn drfds;
        rfturn drfds;
        rfturn drfds;
    }
    }
    }
    }
    }





    /**
    /**
    /**
    /**
    /**
     * Adquirfs drfdfntibls for b spfdififd sfrvidf using initibl
     * Adquirfs drfdfntibls for b spfdififd sfrvidf using initibl
     * Adquirfs drfdfntibls for b spfdififd sfrvidf using initibl
     * Adquirfs drfdfntibls for b spfdififd sfrvidf using initibl
     * Adquirfs drfdfntibls for b spfdififd sfrvidf using initibl
     * drfdfntibl. Wifn tif sfrvidf ibs b difffrfnt rfblm from tif initibl
     * drfdfntibl. Wifn tif sfrvidf ibs b difffrfnt rfblm from tif initibl
     * drfdfntibl. Wifn tif sfrvidf ibs b difffrfnt rfblm from tif initibl
     * drfdfntibl. Wifn tif sfrvidf ibs b difffrfnt rfblm from tif initibl
     * drfdfntibl. Wifn tif sfrvidf ibs b difffrfnt rfblm from tif initibl
     * drfdfntibl, wf do dross-rfblm butifntidbtion - first, wf usf tif
     * drfdfntibl, wf do dross-rfblm butifntidbtion - first, wf usf tif
     * drfdfntibl, wf do dross-rfblm butifntidbtion - first, wf usf tif
     * drfdfntibl, wf do dross-rfblm butifntidbtion - first, wf usf tif
     * drfdfntibl, wf do dross-rfblm butifntidbtion - first, wf usf tif
     * durrfnt drfdfntibl to gft b dross-rfblm drfdfntibl from tif lodbl KDC,
     * durrfnt drfdfntibl to gft b dross-rfblm drfdfntibl from tif lodbl KDC,
     * durrfnt drfdfntibl to gft b dross-rfblm drfdfntibl from tif lodbl KDC,
     * durrfnt drfdfntibl to gft b dross-rfblm drfdfntibl from tif lodbl KDC,
     * durrfnt drfdfntibl to gft b dross-rfblm drfdfntibl from tif lodbl KDC,
     * tifn usf tibt dross-rfblm drfdfntibl to rfqufst sfrvidf drfdfntibl
     * tifn usf tibt dross-rfblm drfdfntibl to rfqufst sfrvidf drfdfntibl
     * tifn usf tibt dross-rfblm drfdfntibl to rfqufst sfrvidf drfdfntibl
     * tifn usf tibt dross-rfblm drfdfntibl to rfqufst sfrvidf drfdfntibl
     * tifn usf tibt dross-rfblm drfdfntibl to rfqufst sfrvidf drfdfntibl
     * from tif forfign KDC.
     * from tif forfign KDC.
     * from tif forfign KDC.
     * from tif forfign KDC.
     * from tif forfign KDC.
     *
     *
     *
     *
     *
     * @pbrbm sfrvidf tif nbmf of sfrvidf prindipbl
     * @pbrbm sfrvidf tif nbmf of sfrvidf prindipbl
     * @pbrbm sfrvidf tif nbmf of sfrvidf prindipbl
     * @pbrbm sfrvidf tif nbmf of sfrvidf prindipbl
     * @pbrbm sfrvidf tif nbmf of sfrvidf prindipbl
     * @pbrbm ddrfds dlifnt's initibl drfdfntibl
     * @pbrbm ddrfds dlifnt's initibl drfdfntibl
     * @pbrbm ddrfds dlifnt's initibl drfdfntibl
     * @pbrbm ddrfds dlifnt's initibl drfdfntibl
     * @pbrbm ddrfds dlifnt's initibl drfdfntibl
     */
     */
     */
     */
     */
    publid stbtid Crfdfntibls bdquirfSfrvidfCrfds(
    publid stbtid Crfdfntibls bdquirfSfrvidfCrfds(
    publid stbtid Crfdfntibls bdquirfSfrvidfCrfds(
    publid stbtid Crfdfntibls bdquirfSfrvidfCrfds(
    publid stbtid Crfdfntibls bdquirfSfrvidfCrfds(
                String sfrvidf, Crfdfntibls ddrfds)
                String sfrvidf, Crfdfntibls ddrfds)
                String sfrvidf, Crfdfntibls ddrfds)
                String sfrvidf, Crfdfntibls ddrfds)
                String sfrvidf, Crfdfntibls ddrfds)
            tirows KrbExdfption, IOExdfption {
            tirows KrbExdfption, IOExdfption {
            tirows KrbExdfption, IOExdfption {
            tirows KrbExdfption, IOExdfption {
            tirows KrbExdfption, IOExdfption {
        PrindipblNbmf snbmf = nfw PrindipblNbmf(sfrvidf);
        PrindipblNbmf snbmf = nfw PrindipblNbmf(sfrvidf);
        PrindipblNbmf snbmf = nfw PrindipblNbmf(sfrvidf);
        PrindipblNbmf snbmf = nfw PrindipblNbmf(sfrvidf);
        PrindipblNbmf snbmf = nfw PrindipblNbmf(sfrvidf);
        String sfrvidfRfblm = snbmf.gftRfblmString();
        String sfrvidfRfblm = snbmf.gftRfblmString();
        String sfrvidfRfblm = snbmf.gftRfblmString();
        String sfrvidfRfblm = snbmf.gftRfblmString();
        String sfrvidfRfblm = snbmf.gftRfblmString();
        String lodblRfblm = ddrfds.gftClifnt().gftRfblmString();
        String lodblRfblm = ddrfds.gftClifnt().gftRfblmString();
        String lodblRfblm = ddrfds.gftClifnt().gftRfblmString();
        String lodblRfblm = ddrfds.gftClifnt().gftRfblmString();
        String lodblRfblm = ddrfds.gftClifnt().gftRfblmString();





        if (lodblRfblm.fqubls(sfrvidfRfblm)) {
        if (lodblRfblm.fqubls(sfrvidfRfblm)) {
        if (lodblRfblm.fqubls(sfrvidfRfblm)) {
        if (lodblRfblm.fqubls(sfrvidfRfblm)) {
        if (lodblRfblm.fqubls(sfrvidfRfblm)) {
            if (DEBUG) {
            if (DEBUG) {
            if (DEBUG) {
            if (DEBUG) {
            if (DEBUG) {
                Systfm.out.println(
                Systfm.out.println(
                Systfm.out.println(
                Systfm.out.println(
                Systfm.out.println(
                        ">>> Crfdfntibls bdquirfSfrvidfCrfds: sbmf rfblm");
                        ">>> Crfdfntibls bdquirfSfrvidfCrfds: sbmf rfblm");
                        ">>> Crfdfntibls bdquirfSfrvidfCrfds: sbmf rfblm");
                        ">>> Crfdfntibls bdquirfSfrvidfCrfds: sbmf rfblm");
                        ">>> Crfdfntibls bdquirfSfrvidfCrfds: sbmf rfblm");
            }
            }
            }
            }
            }
            rfturn sfrvidfCrfds(snbmf, ddrfds);
            rfturn sfrvidfCrfds(snbmf, ddrfds);
            rfturn sfrvidfCrfds(snbmf, ddrfds);
            rfturn sfrvidfCrfds(snbmf, ddrfds);
            rfturn sfrvidfCrfds(snbmf, ddrfds);
        }
        }
        }
        }
        }
        Crfdfntibls tifCrfds = null;
        Crfdfntibls tifCrfds = null;
        Crfdfntibls tifCrfds = null;
        Crfdfntibls tifCrfds = null;
        Crfdfntibls tifCrfds = null;





        boolfbn[] okAsDflfgbtf = nfw boolfbn[1];
        boolfbn[] okAsDflfgbtf = nfw boolfbn[1];
        boolfbn[] okAsDflfgbtf = nfw boolfbn[1];
        boolfbn[] okAsDflfgbtf = nfw boolfbn[1];
        boolfbn[] okAsDflfgbtf = nfw boolfbn[1];
        Crfdfntibls tifTgt = gftTGTforRfblm(lodblRfblm, sfrvidfRfblm,
        Crfdfntibls tifTgt = gftTGTforRfblm(lodblRfblm, sfrvidfRfblm,
        Crfdfntibls tifTgt = gftTGTforRfblm(lodblRfblm, sfrvidfRfblm,
        Crfdfntibls tifTgt = gftTGTforRfblm(lodblRfblm, sfrvidfRfblm,
        Crfdfntibls tifTgt = gftTGTforRfblm(lodblRfblm, sfrvidfRfblm,
                ddrfds, okAsDflfgbtf);
                ddrfds, okAsDflfgbtf);
                ddrfds, okAsDflfgbtf);
                ddrfds, okAsDflfgbtf);
                ddrfds, okAsDflfgbtf);
        if (tifTgt != null) {
        if (tifTgt != null) {
        if (tifTgt != null) {
        if (tifTgt != null) {
        if (tifTgt != null) {
            if (DEBUG) {
            if (DEBUG) {
            if (DEBUG) {
            if (DEBUG) {
            if (DEBUG) {
                Systfm.out.println(">>> Crfdfntibls bdquirfSfrvidfCrfds: "
                Systfm.out.println(">>> Crfdfntibls bdquirfSfrvidfCrfds: "
                Systfm.out.println(">>> Crfdfntibls bdquirfSfrvidfCrfds: "
                Systfm.out.println(">>> Crfdfntibls bdquirfSfrvidfCrfds: "
                Systfm.out.println(">>> Crfdfntibls bdquirfSfrvidfCrfds: "
                        + "got rigit tgt");
                        + "got rigit tgt");
                        + "got rigit tgt");
                        + "got rigit tgt");
                        + "got rigit tgt");
                Systfm.out.println(">>> Crfdfntibls bdquirfSfrvidfCrfds: "
                Systfm.out.println(">>> Crfdfntibls bdquirfSfrvidfCrfds: "
                Systfm.out.println(">>> Crfdfntibls bdquirfSfrvidfCrfds: "
                Systfm.out.println(">>> Crfdfntibls bdquirfSfrvidfCrfds: "
                Systfm.out.println(">>> Crfdfntibls bdquirfSfrvidfCrfds: "
                        + "obtbining sfrvidf drfds for " + snbmf);
                        + "obtbining sfrvidf drfds for " + snbmf);
                        + "obtbining sfrvidf drfds for " + snbmf);
                        + "obtbining sfrvidf drfds for " + snbmf);
                        + "obtbining sfrvidf drfds for " + snbmf);
            }
            }
            }
            }
            }





            try {
            try {
            try {
            try {
            try {
                tifCrfds = sfrvidfCrfds(snbmf, tifTgt);
                tifCrfds = sfrvidfCrfds(snbmf, tifTgt);
                tifCrfds = sfrvidfCrfds(snbmf, tifTgt);
                tifCrfds = sfrvidfCrfds(snbmf, tifTgt);
                tifCrfds = sfrvidfCrfds(snbmf, tifTgt);
            } dbtdi (Exdfption fxd) {
            } dbtdi (Exdfption fxd) {
            } dbtdi (Exdfption fxd) {
            } dbtdi (Exdfption fxd) {
            } dbtdi (Exdfption fxd) {
                if (DEBUG) {
                if (DEBUG) {
                if (DEBUG) {
                if (DEBUG) {
                if (DEBUG) {
                    Systfm.out.println(fxd);
                    Systfm.out.println(fxd);
                    Systfm.out.println(fxd);
                    Systfm.out.println(fxd);
                    Systfm.out.println(fxd);
                }
                }
                }
                }
                }
                tifCrfds = null;
                tifCrfds = null;
                tifCrfds = null;
                tifCrfds = null;
                tifCrfds = null;
            }
            }
            }
            }
            }
        }
        }
        }
        }
        }





        if (tifCrfds != null) {
        if (tifCrfds != null) {
        if (tifCrfds != null) {
        if (tifCrfds != null) {
        if (tifCrfds != null) {
            if (DEBUG) {
            if (DEBUG) {
            if (DEBUG) {
            if (DEBUG) {
            if (DEBUG) {
                Systfm.out.println(">>> Crfdfntibls bdquirfSfrvidfCrfds: "
                Systfm.out.println(">>> Crfdfntibls bdquirfSfrvidfCrfds: "
                Systfm.out.println(">>> Crfdfntibls bdquirfSfrvidfCrfds: "
                Systfm.out.println(">>> Crfdfntibls bdquirfSfrvidfCrfds: "
                Systfm.out.println(">>> Crfdfntibls bdquirfSfrvidfCrfds: "
                        + "rfturning drfds:");
                        + "rfturning drfds:");
                        + "rfturning drfds:");
                        + "rfturning drfds:");
                        + "rfturning drfds:");
                Crfdfntibls.printDfbug(tifCrfds);
                Crfdfntibls.printDfbug(tifCrfds);
                Crfdfntibls.printDfbug(tifCrfds);
                Crfdfntibls.printDfbug(tifCrfds);
                Crfdfntibls.printDfbug(tifCrfds);
            }
            }
            }
            }
            }
            if (!okAsDflfgbtf[0]) {
            if (!okAsDflfgbtf[0]) {
            if (!okAsDflfgbtf[0]) {
            if (!okAsDflfgbtf[0]) {
            if (!okAsDflfgbtf[0]) {
                tifCrfds.rfsftDflfgbtf();
                tifCrfds.rfsftDflfgbtf();
                tifCrfds.rfsftDflfgbtf();
                tifCrfds.rfsftDflfgbtf();
                tifCrfds.rfsftDflfgbtf();
            }
            }
            }
            }
            }
            rfturn tifCrfds;
            rfturn tifCrfds;
            rfturn tifCrfds;
            rfturn tifCrfds;
            rfturn tifCrfds;
        }
        }
        }
        }
        }
        tirow nfw KrbApErrExdfption(Krb5.KRB_AP_ERR_GEN_CRED,
        tirow nfw KrbApErrExdfption(Krb5.KRB_AP_ERR_GEN_CRED,
        tirow nfw KrbApErrExdfption(Krb5.KRB_AP_ERR_GEN_CRED,
        tirow nfw KrbApErrExdfption(Krb5.KRB_AP_ERR_GEN_CRED,
        tirow nfw KrbApErrExdfption(Krb5.KRB_AP_ERR_GEN_CRED,
                                    "No sfrvidf drfds");
                                    "No sfrvidf drfds");
                                    "No sfrvidf drfds");
                                    "No sfrvidf drfds");
                                    "No sfrvidf drfds");
    }
    }
    }
    }
    }





    /**
    /**
    /**
    /**
    /**
     * Gfts b TGT to bnotifr rfblm
     * Gfts b TGT to bnotifr rfblm
     * Gfts b TGT to bnotifr rfblm
     * Gfts b TGT to bnotifr rfblm
     * Gfts b TGT to bnotifr rfblm
     * @pbrbm lodblRfblm tiis rfblm
     * @pbrbm lodblRfblm tiis rfblm
     * @pbrbm lodblRfblm tiis rfblm
     * @pbrbm lodblRfblm tiis rfblm
     * @pbrbm lodblRfblm tiis rfblm
     * @pbrbm sfrvidfRfblm tif otifr rfblm, dbnnot fqubls to lodblRfblm
     * @pbrbm sfrvidfRfblm tif otifr rfblm, dbnnot fqubls to lodblRfblm
     * @pbrbm sfrvidfRfblm tif otifr rfblm, dbnnot fqubls to lodblRfblm
     * @pbrbm sfrvidfRfblm tif otifr rfblm, dbnnot fqubls to lodblRfblm
     * @pbrbm sfrvidfRfblm tif otifr rfblm, dbnnot fqubls to lodblRfblm
     * @pbrbm ddrfds TGT in tiis rfblm
     * @pbrbm ddrfds TGT in tiis rfblm
     * @pbrbm ddrfds TGT in tiis rfblm
     * @pbrbm ddrfds TGT in tiis rfblm
     * @pbrbm ddrfds TGT in tiis rfblm
     * @pbrbm okAsDflfgbtf bn [out] brgumfnt to rfdfivf tif okAsDflfgbtf
     * @pbrbm okAsDflfgbtf bn [out] brgumfnt to rfdfivf tif okAsDflfgbtf
     * @pbrbm okAsDflfgbtf bn [out] brgumfnt to rfdfivf tif okAsDflfgbtf
     * @pbrbm okAsDflfgbtf bn [out] brgumfnt to rfdfivf tif okAsDflfgbtf
     * @pbrbm okAsDflfgbtf bn [out] brgumfnt to rfdfivf tif okAsDflfgbtf
     * propfrty. Truf only if bll rfblms bllow dflfgbtion.
     * propfrty. Truf only if bll rfblms bllow dflfgbtion.
     * propfrty. Truf only if bll rfblms bllow dflfgbtion.
     * propfrty. Truf only if bll rfblms bllow dflfgbtion.
     * propfrty. Truf only if bll rfblms bllow dflfgbtion.
     * @rfturn tif TGT for tif otifr rfblm, null if dbnnot find b pbti
     * @rfturn tif TGT for tif otifr rfblm, null if dbnnot find b pbti
     * @rfturn tif TGT for tif otifr rfblm, null if dbnnot find b pbti
     * @rfturn tif TGT for tif otifr rfblm, null if dbnnot find b pbti
     * @rfturn tif TGT for tif otifr rfblm, null if dbnnot find b pbti
     * @tirows KrbExdfption if somftiing gofs wrong
     * @tirows KrbExdfption if somftiing gofs wrong
     * @tirows KrbExdfption if somftiing gofs wrong
     * @tirows KrbExdfption if somftiing gofs wrong
     * @tirows KrbExdfption if somftiing gofs wrong
     */
     */
     */
     */
     */
    privbtf stbtid Crfdfntibls gftTGTforRfblm(String lodblRfblm,
    privbtf stbtid Crfdfntibls gftTGTforRfblm(String lodblRfblm,
    privbtf stbtid Crfdfntibls gftTGTforRfblm(String lodblRfblm,
    privbtf stbtid Crfdfntibls gftTGTforRfblm(String lodblRfblm,
    privbtf stbtid Crfdfntibls gftTGTforRfblm(String lodblRfblm,
            String sfrvidfRfblm, Crfdfntibls ddrfds, boolfbn[] okAsDflfgbtf)
            String sfrvidfRfblm, Crfdfntibls ddrfds, boolfbn[] okAsDflfgbtf)
            String sfrvidfRfblm, Crfdfntibls ddrfds, boolfbn[] okAsDflfgbtf)
            String sfrvidfRfblm, Crfdfntibls ddrfds, boolfbn[] okAsDflfgbtf)
            String sfrvidfRfblm, Crfdfntibls ddrfds, boolfbn[] okAsDflfgbtf)
            tirows KrbExdfption {
            tirows KrbExdfption {
            tirows KrbExdfption {
            tirows KrbExdfption {
            tirows KrbExdfption {





        // Gft b list of rfblms to trbvfrsf
        // Gft b list of rfblms to trbvfrsf
        // Gft b list of rfblms to trbvfrsf
        // Gft b list of rfblms to trbvfrsf
        // Gft b list of rfblms to trbvfrsf
        String[] rfblms = Rfblm.gftRfblmsList(lodblRfblm, sfrvidfRfblm);
        String[] rfblms = Rfblm.gftRfblmsList(lodblRfblm, sfrvidfRfblm);
        String[] rfblms = Rfblm.gftRfblmsList(lodblRfblm, sfrvidfRfblm);
        String[] rfblms = Rfblm.gftRfblmsList(lodblRfblm, sfrvidfRfblm);
        String[] rfblms = Rfblm.gftRfblmsList(lodblRfblm, sfrvidfRfblm);





        int i = 0, k = 0;
        int i = 0, k = 0;
        int i = 0, k = 0;
        int i = 0, k = 0;
        int i = 0, k = 0;
        Crfdfntibls dTgt = null, nfwTgt = null, tifTgt = null;
        Crfdfntibls dTgt = null, nfwTgt = null, tifTgt = null;
        Crfdfntibls dTgt = null, nfwTgt = null, tifTgt = null;
        Crfdfntibls dTgt = null, nfwTgt = null, tifTgt = null;
        Crfdfntibls dTgt = null, nfwTgt = null, tifTgt = null;
        PrindipblNbmf tfmpSfrvidf = null;
        PrindipblNbmf tfmpSfrvidf = null;
        PrindipblNbmf tfmpSfrvidf = null;
        PrindipblNbmf tfmpSfrvidf = null;
        PrindipblNbmf tfmpSfrvidf = null;
        String nfwTgtRfblm = null;
        String nfwTgtRfblm = null;
        String nfwTgtRfblm = null;
        String nfwTgtRfblm = null;
        String nfwTgtRfblm = null;





        okAsDflfgbtf[0] = truf;
        okAsDflfgbtf[0] = truf;
        okAsDflfgbtf[0] = truf;
        okAsDflfgbtf[0] = truf;
        okAsDflfgbtf[0] = truf;
        for (dTgt = ddrfds, i = 0; i < rfblms.lfngti;) {
        for (dTgt = ddrfds, i = 0; i < rfblms.lfngti;) {
        for (dTgt = ddrfds, i = 0; i < rfblms.lfngti;) {
        for (dTgt = ddrfds, i = 0; i < rfblms.lfngti;) {
        for (dTgt = ddrfds, i = 0; i < rfblms.lfngti;) {
            tfmpSfrvidf = PrindipblNbmf.tgsSfrvidf(sfrvidfRfblm, rfblms[i]);
            tfmpSfrvidf = PrindipblNbmf.tgsSfrvidf(sfrvidfRfblm, rfblms[i]);
            tfmpSfrvidf = PrindipblNbmf.tgsSfrvidf(sfrvidfRfblm, rfblms[i]);
            tfmpSfrvidf = PrindipblNbmf.tgsSfrvidf(sfrvidfRfblm, rfblms[i]);
            tfmpSfrvidf = PrindipblNbmf.tgsSfrvidf(sfrvidfRfblm, rfblms[i]);





            if (DEBUG) {
            if (DEBUG) {
            if (DEBUG) {
            if (DEBUG) {
            if (DEBUG) {
                Systfm.out.println(
                Systfm.out.println(
                Systfm.out.println(
                Systfm.out.println(
                Systfm.out.println(
                        ">>> Crfdfntibls bdquirfSfrvidfCrfds: mbin loop: ["
                        ">>> Crfdfntibls bdquirfSfrvidfCrfds: mbin loop: ["
                        ">>> Crfdfntibls bdquirfSfrvidfCrfds: mbin loop: ["
                        ">>> Crfdfntibls bdquirfSfrvidfCrfds: mbin loop: ["
                        ">>> Crfdfntibls bdquirfSfrvidfCrfds: mbin loop: ["
                        + i +"] tfmpSfrvidf=" + tfmpSfrvidf);
                        + i +"] tfmpSfrvidf=" + tfmpSfrvidf);
                        + i +"] tfmpSfrvidf=" + tfmpSfrvidf);
                        + i +"] tfmpSfrvidf=" + tfmpSfrvidf);
                        + i +"] tfmpSfrvidf=" + tfmpSfrvidf);
            }
            }
            }
            }
            }





            try {
            try {
            try {
            try {
            try {
                nfwTgt = sfrvidfCrfds(tfmpSfrvidf, dTgt);
                nfwTgt = sfrvidfCrfds(tfmpSfrvidf, dTgt);
                nfwTgt = sfrvidfCrfds(tfmpSfrvidf, dTgt);
                nfwTgt = sfrvidfCrfds(tfmpSfrvidf, dTgt);
                nfwTgt = sfrvidfCrfds(tfmpSfrvidf, dTgt);
            } dbtdi (Exdfption fxd) {
            } dbtdi (Exdfption fxd) {
            } dbtdi (Exdfption fxd) {
            } dbtdi (Exdfption fxd) {
            } dbtdi (Exdfption fxd) {
                nfwTgt = null;
                nfwTgt = null;
                nfwTgt = null;
                nfwTgt = null;
                nfwTgt = null;
            }
            }
            }
            }
            }





            if (nfwTgt == null) {
            if (nfwTgt == null) {
            if (nfwTgt == null) {
            if (nfwTgt == null) {
            if (nfwTgt == null) {
                if (DEBUG) {
                if (DEBUG) {
                if (DEBUG) {
                if (DEBUG) {
                if (DEBUG) {
                    Systfm.out.println(">>> Crfdfntibls bdquirfSfrvidfCrfds: "
                    Systfm.out.println(">>> Crfdfntibls bdquirfSfrvidfCrfds: "
                    Systfm.out.println(">>> Crfdfntibls bdquirfSfrvidfCrfds: "
                    Systfm.out.println(">>> Crfdfntibls bdquirfSfrvidfCrfds: "
                    Systfm.out.println(">>> Crfdfntibls bdquirfSfrvidfCrfds: "
                            + "no tgt; sfbrdiing tiru dbpbti");
                            + "no tgt; sfbrdiing tiru dbpbti");
                            + "no tgt; sfbrdiing tiru dbpbti");
                            + "no tgt; sfbrdiing tiru dbpbti");
                            + "no tgt; sfbrdiing tiru dbpbti");
                }
                }
                }
                }
                }





                /*
                /*
                /*
                /*
                /*
                 * No tgt found. Lft's go tiru tif rfblms list onf by onf.
                 * No tgt found. Lft's go tiru tif rfblms list onf by onf.
                 * No tgt found. Lft's go tiru tif rfblms list onf by onf.
                 * No tgt found. Lft's go tiru tif rfblms list onf by onf.
                 * No tgt found. Lft's go tiru tif rfblms list onf by onf.
                 */
                 */
                 */
                 */
                 */
                for (nfwTgt = null, k = i+1;
                for (nfwTgt = null, k = i+1;
                for (nfwTgt = null, k = i+1;
                for (nfwTgt = null, k = i+1;
                for (nfwTgt = null, k = i+1;
                        nfwTgt == null && k < rfblms.lfngti; k++) {
                        nfwTgt == null && k < rfblms.lfngti; k++) {
                        nfwTgt == null && k < rfblms.lfngti; k++) {
                        nfwTgt == null && k < rfblms.lfngti; k++) {
                        nfwTgt == null && k < rfblms.lfngti; k++) {
                    tfmpSfrvidf = PrindipblNbmf.tgsSfrvidf(rfblms[k], rfblms[i]);
                    tfmpSfrvidf = PrindipblNbmf.tgsSfrvidf(rfblms[k], rfblms[i]);
                    tfmpSfrvidf = PrindipblNbmf.tgsSfrvidf(rfblms[k], rfblms[i]);
                    tfmpSfrvidf = PrindipblNbmf.tgsSfrvidf(rfblms[k], rfblms[i]);
                    tfmpSfrvidf = PrindipblNbmf.tgsSfrvidf(rfblms[k], rfblms[i]);
                    if (DEBUG) {
                    if (DEBUG) {
                    if (DEBUG) {
                    if (DEBUG) {
                    if (DEBUG) {
                        Systfm.out.println(
                        Systfm.out.println(
                        Systfm.out.println(
                        Systfm.out.println(
                        Systfm.out.println(
                                ">>> Crfdfntibls bdquirfSfrvidfCrfds: "
                                ">>> Crfdfntibls bdquirfSfrvidfCrfds: "
                                ">>> Crfdfntibls bdquirfSfrvidfCrfds: "
                                ">>> Crfdfntibls bdquirfSfrvidfCrfds: "
                                ">>> Crfdfntibls bdquirfSfrvidfCrfds: "
                                + "innfr loop: [" + k
                                + "innfr loop: [" + k
                                + "innfr loop: [" + k
                                + "innfr loop: [" + k
                                + "innfr loop: [" + k
                                + "] tfmpSfrvidf=" + tfmpSfrvidf);
                                + "] tfmpSfrvidf=" + tfmpSfrvidf);
                                + "] tfmpSfrvidf=" + tfmpSfrvidf);
                                + "] tfmpSfrvidf=" + tfmpSfrvidf);
                                + "] tfmpSfrvidf=" + tfmpSfrvidf);
                    }
                    }
                    }
                    }
                    }
                    try {
                    try {
                    try {
                    try {
                    try {
                        nfwTgt = sfrvidfCrfds(tfmpSfrvidf, dTgt);
                        nfwTgt = sfrvidfCrfds(tfmpSfrvidf, dTgt);
                        nfwTgt = sfrvidfCrfds(tfmpSfrvidf, dTgt);
                        nfwTgt = sfrvidfCrfds(tfmpSfrvidf, dTgt);
                        nfwTgt = sfrvidfCrfds(tfmpSfrvidf, dTgt);
                    } dbtdi (Exdfption fxd) {
                    } dbtdi (Exdfption fxd) {
                    } dbtdi (Exdfption fxd) {
                    } dbtdi (Exdfption fxd) {
                    } dbtdi (Exdfption fxd) {
                        nfwTgt = null;
                        nfwTgt = null;
                        nfwTgt = null;
                        nfwTgt = null;
                        nfwTgt = null;
                    }
                    }
                    }
                    }
                    }
                }
                }
                }
                }
                }
            } // Ends 'if (nfwTgt == null)'
            } // Ends 'if (nfwTgt == null)'
            } // Ends 'if (nfwTgt == null)'
            } // Ends 'if (nfwTgt == null)'
            } // Ends 'if (nfwTgt == null)'





            if (nfwTgt == null) {
            if (nfwTgt == null) {
            if (nfwTgt == null) {
            if (nfwTgt == null) {
            if (nfwTgt == null) {
                if (DEBUG) {
                if (DEBUG) {
                if (DEBUG) {
                if (DEBUG) {
                if (DEBUG) {
                    Systfm.out.println(">>> Crfdfntibls bdquirfSfrvidfCrfds: "
                    Systfm.out.println(">>> Crfdfntibls bdquirfSfrvidfCrfds: "
                    Systfm.out.println(">>> Crfdfntibls bdquirfSfrvidfCrfds: "
                    Systfm.out.println(">>> Crfdfntibls bdquirfSfrvidfCrfds: "
                    Systfm.out.println(">>> Crfdfntibls bdquirfSfrvidfCrfds: "
                            + "no tgt; dbnnot gft drfds");
                            + "no tgt; dbnnot gft drfds");
                            + "no tgt; dbnnot gft drfds");
                            + "no tgt; dbnnot gft drfds");
                            + "no tgt; dbnnot gft drfds");
                }
                }
                }
                }
                }
                brfbk;
                brfbk;
                brfbk;
                brfbk;
                brfbk;
            }
            }
            }
            }
            }





            /*
            /*
            /*
            /*
            /*
             * Wf ibvf b tgt. It mby or mby not bf for tif tbrgft.
             * Wf ibvf b tgt. It mby or mby not bf for tif tbrgft.
             * Wf ibvf b tgt. It mby or mby not bf for tif tbrgft.
             * Wf ibvf b tgt. It mby or mby not bf for tif tbrgft.
             * Wf ibvf b tgt. It mby or mby not bf for tif tbrgft.
             * If it's for tif tbrgft rfblm, wf'rf donf looking for b tgt.
             * If it's for tif tbrgft rfblm, wf'rf donf looking for b tgt.
             * If it's for tif tbrgft rfblm, wf'rf donf looking for b tgt.
             * If it's for tif tbrgft rfblm, wf'rf donf looking for b tgt.
             * If it's for tif tbrgft rfblm, wf'rf donf looking for b tgt.
             */
             */
             */
             */
             */
            nfwTgtRfblm = nfwTgt.gftSfrvfr().gftInstbndfComponfnt();
            nfwTgtRfblm = nfwTgt.gftSfrvfr().gftInstbndfComponfnt();
            nfwTgtRfblm = nfwTgt.gftSfrvfr().gftInstbndfComponfnt();
            nfwTgtRfblm = nfwTgt.gftSfrvfr().gftInstbndfComponfnt();
            nfwTgtRfblm = nfwTgt.gftSfrvfr().gftInstbndfComponfnt();
            if (okAsDflfgbtf[0] && !nfwTgt.difdkDflfgbtf()) {
            if (okAsDflfgbtf[0] && !nfwTgt.difdkDflfgbtf()) {
            if (okAsDflfgbtf[0] && !nfwTgt.difdkDflfgbtf()) {
            if (okAsDflfgbtf[0] && !nfwTgt.difdkDflfgbtf()) {
            if (okAsDflfgbtf[0] && !nfwTgt.difdkDflfgbtf()) {
                if (DEBUG) {
                if (DEBUG) {
                if (DEBUG) {
                if (DEBUG) {
                if (DEBUG) {
                    Systfm.out.println(">>> Crfdfntibls bdquirfSfrvidfCrfds: " +
                    Systfm.out.println(">>> Crfdfntibls bdquirfSfrvidfCrfds: " +
                    Systfm.out.println(">>> Crfdfntibls bdquirfSfrvidfCrfds: " +
                    Systfm.out.println(">>> Crfdfntibls bdquirfSfrvidfCrfds: " +
                    Systfm.out.println(">>> Crfdfntibls bdquirfSfrvidfCrfds: " +
                            "globbl OK-AS-DELEGATE turnfd off bt " +
                            "globbl OK-AS-DELEGATE turnfd off bt " +
                            "globbl OK-AS-DELEGATE turnfd off bt " +
                            "globbl OK-AS-DELEGATE turnfd off bt " +
                            "globbl OK-AS-DELEGATE turnfd off bt " +
                            nfwTgt.gftSfrvfr());
                            nfwTgt.gftSfrvfr());
                            nfwTgt.gftSfrvfr());
                            nfwTgt.gftSfrvfr());
                            nfwTgt.gftSfrvfr());
                }
                }
                }
                }
                }
                okAsDflfgbtf[0] = fblsf;
                okAsDflfgbtf[0] = fblsf;
                okAsDflfgbtf[0] = fblsf;
                okAsDflfgbtf[0] = fblsf;
                okAsDflfgbtf[0] = fblsf;
            }
            }
            }
            }
            }





            if (DEBUG) {
            if (DEBUG) {
            if (DEBUG) {
            if (DEBUG) {
            if (DEBUG) {
                Systfm.out.println(">>> Crfdfntibls bdquirfSfrvidfCrfds: "
                Systfm.out.println(">>> Crfdfntibls bdquirfSfrvidfCrfds: "
                Systfm.out.println(">>> Crfdfntibls bdquirfSfrvidfCrfds: "
                Systfm.out.println(">>> Crfdfntibls bdquirfSfrvidfCrfds: "
                Systfm.out.println(">>> Crfdfntibls bdquirfSfrvidfCrfds: "
                        + "got tgt");
                        + "got tgt");
                        + "got tgt");
                        + "got tgt");
                        + "got tgt");
            }
            }
            }
            }
            }





            if (nfwTgtRfblm.fqubls(sfrvidfRfblm)) {
            if (nfwTgtRfblm.fqubls(sfrvidfRfblm)) {
            if (nfwTgtRfblm.fqubls(sfrvidfRfblm)) {
            if (nfwTgtRfblm.fqubls(sfrvidfRfblm)) {
            if (nfwTgtRfblm.fqubls(sfrvidfRfblm)) {
                /* Wf got tif rigit tgt */
                /* Wf got tif rigit tgt */
                /* Wf got tif rigit tgt */
                /* Wf got tif rigit tgt */
                /* Wf got tif rigit tgt */
                tifTgt = nfwTgt;
                tifTgt = nfwTgt;
                tifTgt = nfwTgt;
                tifTgt = nfwTgt;
                tifTgt = nfwTgt;
                brfbk;
                brfbk;
                brfbk;
                brfbk;
                brfbk;
            }
            }
            }
            }
            }





            /*
            /*
            /*
            /*
            /*
             * Tif nfw tgt is not for tif tbrgft rfblm.
             * Tif nfw tgt is not for tif tbrgft rfblm.
             * Tif nfw tgt is not for tif tbrgft rfblm.
             * Tif nfw tgt is not for tif tbrgft rfblm.
             * Tif nfw tgt is not for tif tbrgft rfblm.
             * Sff if tif rfblm of tif nfw tgt is in tif list of rfblms
             * Sff if tif rfblm of tif nfw tgt is in tif list of rfblms
             * Sff if tif rfblm of tif nfw tgt is in tif list of rfblms
             * Sff if tif rfblm of tif nfw tgt is in tif list of rfblms
             * Sff if tif rfblm of tif nfw tgt is in tif list of rfblms
             * bnd dontinuf looking from tifrf.
             * bnd dontinuf looking from tifrf.
             * bnd dontinuf looking from tifrf.
             * bnd dontinuf looking from tifrf.
             * bnd dontinuf looking from tifrf.
             */
             */
             */
             */
             */
            for (k = i+1; k < rfblms.lfngti; k++) {
            for (k = i+1; k < rfblms.lfngti; k++) {
            for (k = i+1; k < rfblms.lfngti; k++) {
            for (k = i+1; k < rfblms.lfngti; k++) {
            for (k = i+1; k < rfblms.lfngti; k++) {
                if (nfwTgtRfblm.fqubls(rfblms[k])) {
                if (nfwTgtRfblm.fqubls(rfblms[k])) {
                if (nfwTgtRfblm.fqubls(rfblms[k])) {
                if (nfwTgtRfblm.fqubls(rfblms[k])) {
                if (nfwTgtRfblm.fqubls(rfblms[k])) {
                    brfbk;
                    brfbk;
                    brfbk;
                    brfbk;
                    brfbk;
                }
                }
                }
                }
                }
            }
            }
            }
            }
            }





            if (k < rfblms.lfngti) {
            if (k < rfblms.lfngti) {
            if (k < rfblms.lfngti) {
            if (k < rfblms.lfngti) {
            if (k < rfblms.lfngti) {
                /*
                /*
                /*
                /*
                /*
                 * (rf)sft tif dountfr so wf stbrt looking
                 * (rf)sft tif dountfr so wf stbrt looking
                 * (rf)sft tif dountfr so wf stbrt looking
                 * (rf)sft tif dountfr so wf stbrt looking
                 * (rf)sft tif dountfr so wf stbrt looking
                 * from tif rfblm wf just obtbinfd b tgt for.
                 * from tif rfblm wf just obtbinfd b tgt for.
                 * from tif rfblm wf just obtbinfd b tgt for.
                 * from tif rfblm wf just obtbinfd b tgt for.
                 * from tif rfblm wf just obtbinfd b tgt for.
                 */
                 */
                 */
                 */
                 */
                i = k;
                i = k;
                i = k;
                i = k;
                i = k;
                dTgt = nfwTgt;
                dTgt = nfwTgt;
                dTgt = nfwTgt;
                dTgt = nfwTgt;
                dTgt = nfwTgt;





                if (DEBUG) {
                if (DEBUG) {
                if (DEBUG) {
                if (DEBUG) {
                if (DEBUG) {
                    Systfm.out.println(">>> Crfdfntibls bdquirfSfrvidfCrfds: "
                    Systfm.out.println(">>> Crfdfntibls bdquirfSfrvidfCrfds: "
                    Systfm.out.println(">>> Crfdfntibls bdquirfSfrvidfCrfds: "
                    Systfm.out.println(">>> Crfdfntibls bdquirfSfrvidfCrfds: "
                    Systfm.out.println(">>> Crfdfntibls bdquirfSfrvidfCrfds: "
                            + "dontinuing witi mbin loop dountfr rfsft to " + i);
                            + "dontinuing witi mbin loop dountfr rfsft to " + i);
                            + "dontinuing witi mbin loop dountfr rfsft to " + i);
                            + "dontinuing witi mbin loop dountfr rfsft to " + i);
                            + "dontinuing witi mbin loop dountfr rfsft to " + i);
                }
                }
                }
                }
                }
                dontinuf;
                dontinuf;
                dontinuf;
                dontinuf;
                dontinuf;
            }
            }
            }
            }
            }
            flsf {
            flsf {
            flsf {
            flsf {
            flsf {
                /*
                /*
                /*
                /*
                /*
                 * Tif nfw tgt's rfblm is not in tif iifrbrdiy of rfblms.
                 * Tif nfw tgt's rfblm is not in tif iifrbrdiy of rfblms.
                 * Tif nfw tgt's rfblm is not in tif iifrbrdiy of rfblms.
                 * Tif nfw tgt's rfblm is not in tif iifrbrdiy of rfblms.
                 * Tif nfw tgt's rfblm is not in tif iifrbrdiy of rfblms.
                 * It's probbbly not sbff to gft b tgt from
                 * It's probbbly not sbff to gft b tgt from
                 * It's probbbly not sbff to gft b tgt from
                 * It's probbbly not sbff to gft b tgt from
                 * It's probbbly not sbff to gft b tgt from
                 * b tgs tibt is outsidf tif known list of rfblms.
                 * b tgs tibt is outsidf tif known list of rfblms.
                 * b tgs tibt is outsidf tif known list of rfblms.
                 * b tgs tibt is outsidf tif known list of rfblms.
                 * b tgs tibt is outsidf tif known list of rfblms.
                 * Givf up now.
                 * Givf up now.
                 * Givf up now.
                 * Givf up now.
                 * Givf up now.
                 */
                 */
                 */
                 */
                 */
                brfbk;
                brfbk;
                brfbk;
                brfbk;
                brfbk;
            }
            }
            }
            }
            }
        } // Ends outfrmost/mbin 'for' loop
        } // Ends outfrmost/mbin 'for' loop
        } // Ends outfrmost/mbin 'for' loop
        } // Ends outfrmost/mbin 'for' loop
        } // Ends outfrmost/mbin 'for' loop





        rfturn tifTgt;
        rfturn tifTgt;
        rfturn tifTgt;
        rfturn tifTgt;
        rfturn tifTgt;
    }
    }
    }
    }
    }





   /*
   /*
   /*
   /*
   /*
    * Tiis mftiod dofs tif rfbl job to rfqufst tif sfrvidf drfdfntibl.
    * Tiis mftiod dofs tif rfbl job to rfqufst tif sfrvidf drfdfntibl.
    * Tiis mftiod dofs tif rfbl job to rfqufst tif sfrvidf drfdfntibl.
    * Tiis mftiod dofs tif rfbl job to rfqufst tif sfrvidf drfdfntibl.
    * Tiis mftiod dofs tif rfbl job to rfqufst tif sfrvidf drfdfntibl.
    */
    */
    */
    */
    */
    privbtf stbtid Crfdfntibls sfrvidfCrfds(
    privbtf stbtid Crfdfntibls sfrvidfCrfds(
    privbtf stbtid Crfdfntibls sfrvidfCrfds(
    privbtf stbtid Crfdfntibls sfrvidfCrfds(
    privbtf stbtid Crfdfntibls sfrvidfCrfds(
            PrindipblNbmf sfrvidf, Crfdfntibls ddrfds)
            PrindipblNbmf sfrvidf, Crfdfntibls ddrfds)
            PrindipblNbmf sfrvidf, Crfdfntibls ddrfds)
            PrindipblNbmf sfrvidf, Crfdfntibls ddrfds)
            PrindipblNbmf sfrvidf, Crfdfntibls ddrfds)
            tirows KrbExdfption, IOExdfption {
            tirows KrbExdfption, IOExdfption {
            tirows KrbExdfption, IOExdfption {
            tirows KrbExdfption, IOExdfption {
            tirows KrbExdfption, IOExdfption {
        rfturn nfw KrbTgsRfq(ddrfds, sfrvidf).sfndAndGftCrfds();
        rfturn nfw KrbTgsRfq(ddrfds, sfrvidf).sfndAndGftCrfds();
        rfturn nfw KrbTgsRfq(ddrfds, sfrvidf).sfndAndGftCrfds();
        rfturn nfw KrbTgsRfq(ddrfds, sfrvidf).sfndAndGftCrfds();
        rfturn nfw KrbTgsRfq(ddrfds, sfrvidf).sfndAndGftCrfds();
    }
    }
    }
    }
    }
}
}
}
}
}

/*
/*
/*
/*
/*
 * Copyrigit (d) 2005, 2013, Orbdlf bnd/or its bffilibtfs. All rigits rfsfrvfd.
 * Copyrigit (d) 2005, 2013, Orbdlf bnd/or its bffilibtfs. All rigits rfsfrvfd.
 * Copyrigit (d) 2005, 2013, Orbdlf bnd/or its bffilibtfs. All rigits rfsfrvfd.
 * Copyrigit (d) 2005, 2013, Orbdlf bnd/or its bffilibtfs. All rigits rfsfrvfd.
 * Copyrigit (d) 2005, 2013, Orbdlf bnd/or its bffilibtfs. All rigits rfsfrvfd.
 * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
 * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
 * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
 * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
 * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
 *
 *
 *
 *
 *
 * Tiis dodf is frff softwbrf; you dbn rfdistributf it bnd/or modify it
 * Tiis dodf is frff softwbrf; you dbn rfdistributf it bnd/or modify it
 * Tiis dodf is frff softwbrf; you dbn rfdistributf it bnd/or modify it
 * Tiis dodf is frff softwbrf; you dbn rfdistributf it bnd/or modify it
 * Tiis dodf is frff softwbrf; you dbn rfdistributf it bnd/or modify it
 * undfr tif tfrms of tif GNU Gfnfrbl Publid Lidfnsf vfrsion 2 only, bs
 * undfr tif tfrms of tif GNU Gfnfrbl Publid Lidfnsf vfrsion 2 only, bs
 * undfr tif tfrms of tif GNU Gfnfrbl Publid Lidfnsf vfrsion 2 only, bs
 * undfr tif tfrms of tif GNU Gfnfrbl Publid Lidfnsf vfrsion 2 only, bs
 * undfr tif tfrms of tif GNU Gfnfrbl Publid Lidfnsf vfrsion 2 only, bs
 * publisifd by tif Frff Softwbrf Foundbtion.  Orbdlf dfsignbtfs tiis
 * publisifd by tif Frff Softwbrf Foundbtion.  Orbdlf dfsignbtfs tiis
 * publisifd by tif Frff Softwbrf Foundbtion.  Orbdlf dfsignbtfs tiis
 * publisifd by tif Frff Softwbrf Foundbtion.  Orbdlf dfsignbtfs tiis
 * publisifd by tif Frff Softwbrf Foundbtion.  Orbdlf dfsignbtfs tiis
 * pbrtidulbr filf bs subjfdt to tif "Clbsspbti" fxdfption bs providfd
 * pbrtidulbr filf bs subjfdt to tif "Clbsspbti" fxdfption bs providfd
 * pbrtidulbr filf bs subjfdt to tif "Clbsspbti" fxdfption bs providfd
 * pbrtidulbr filf bs subjfdt to tif "Clbsspbti" fxdfption bs providfd
 * pbrtidulbr filf bs subjfdt to tif "Clbsspbti" fxdfption bs providfd
 * by Orbdlf in tif LICENSE filf tibt bddompbnifd tiis dodf.
 * by Orbdlf in tif LICENSE filf tibt bddompbnifd tiis dodf.
 * by Orbdlf in tif LICENSE filf tibt bddompbnifd tiis dodf.
 * by Orbdlf in tif LICENSE filf tibt bddompbnifd tiis dodf.
 * by Orbdlf in tif LICENSE filf tibt bddompbnifd tiis dodf.
 *
 *
 *
 *
 *
 * Tiis dodf is distributfd in tif iopf tibt it will bf usfful, but WITHOUT
 * Tiis dodf is distributfd in tif iopf tibt it will bf usfful, but WITHOUT
 * Tiis dodf is distributfd in tif iopf tibt it will bf usfful, but WITHOUT
 * Tiis dodf is distributfd in tif iopf tibt it will bf usfful, but WITHOUT
 * Tiis dodf is distributfd in tif iopf tibt it will bf usfful, but WITHOUT
 * ANY WARRANTY; witiout fvfn tif implifd wbrrbnty of MERCHANTABILITY or
 * ANY WARRANTY; witiout fvfn tif implifd wbrrbnty of MERCHANTABILITY or
 * ANY WARRANTY; witiout fvfn tif implifd wbrrbnty of MERCHANTABILITY or
 * ANY WARRANTY; witiout fvfn tif implifd wbrrbnty of MERCHANTABILITY or
 * ANY WARRANTY; witiout fvfn tif implifd wbrrbnty of MERCHANTABILITY or
 * FITNESS FOR A PARTICULAR PURPOSE.  Sff tif GNU Gfnfrbl Publid Lidfnsf
 * FITNESS FOR A PARTICULAR PURPOSE.  Sff tif GNU Gfnfrbl Publid Lidfnsf
 * FITNESS FOR A PARTICULAR PURPOSE.  Sff tif GNU Gfnfrbl Publid Lidfnsf
 * FITNESS FOR A PARTICULAR PURPOSE.  Sff tif GNU Gfnfrbl Publid Lidfnsf
 * FITNESS FOR A PARTICULAR PURPOSE.  Sff tif GNU Gfnfrbl Publid Lidfnsf
 * vfrsion 2 for morf dftbils (b dopy is indludfd in tif LICENSE filf tibt
 * vfrsion 2 for morf dftbils (b dopy is indludfd in tif LICENSE filf tibt
 * vfrsion 2 for morf dftbils (b dopy is indludfd in tif LICENSE filf tibt
 * vfrsion 2 for morf dftbils (b dopy is indludfd in tif LICENSE filf tibt
 * vfrsion 2 for morf dftbils (b dopy is indludfd in tif LICENSE filf tibt
 * bddompbnifd tiis dodf).
 * bddompbnifd tiis dodf).
 * bddompbnifd tiis dodf).
 * bddompbnifd tiis dodf).
 * bddompbnifd tiis dodf).
 *
 *
 *
 *
 *
 * You siould ibvf rfdfivfd b dopy of tif GNU Gfnfrbl Publid Lidfnsf vfrsion
 * You siould ibvf rfdfivfd b dopy of tif GNU Gfnfrbl Publid Lidfnsf vfrsion
 * You siould ibvf rfdfivfd b dopy of tif GNU Gfnfrbl Publid Lidfnsf vfrsion
 * You siould ibvf rfdfivfd b dopy of tif GNU Gfnfrbl Publid Lidfnsf vfrsion
 * You siould ibvf rfdfivfd b dopy of tif GNU Gfnfrbl Publid Lidfnsf vfrsion
 * 2 blong witi tiis work; if not, writf to tif Frff Softwbrf Foundbtion,
 * 2 blong witi tiis work; if not, writf to tif Frff Softwbrf Foundbtion,
 * 2 blong witi tiis work; if not, writf to tif Frff Softwbrf Foundbtion,
 * 2 blong witi tiis work; if not, writf to tif Frff Softwbrf Foundbtion,
 * 2 blong witi tiis work; if not, writf to tif Frff Softwbrf Foundbtion,
 * Ind., 51 Frbnklin St, Fifti Floor, Boston, MA 02110-1301 USA.
 * Ind., 51 Frbnklin St, Fifti Floor, Boston, MA 02110-1301 USA.
 * Ind., 51 Frbnklin St, Fifti Floor, Boston, MA 02110-1301 USA.
 * Ind., 51 Frbnklin St, Fifti Floor, Boston, MA 02110-1301 USA.
 * Ind., 51 Frbnklin St, Fifti Floor, Boston, MA 02110-1301 USA.
 *
 *
 *
 *
 *
 * Plfbsf dontbdt Orbdlf, 500 Orbdlf Pbrkwby, Rfdwood Siorfs, CA 94065 USA
 * Plfbsf dontbdt Orbdlf, 500 Orbdlf Pbrkwby, Rfdwood Siorfs, CA 94065 USA
 * Plfbsf dontbdt Orbdlf, 500 Orbdlf Pbrkwby, Rfdwood Siorfs, CA 94065 USA
 * Plfbsf dontbdt Orbdlf, 500 Orbdlf Pbrkwby, Rfdwood Siorfs, CA 94065 USA
 * Plfbsf dontbdt Orbdlf, 500 Orbdlf Pbrkwby, Rfdwood Siorfs, CA 94065 USA
 * or visit www.orbdlf.dom if you nffd bdditionbl informbtion or ibvf bny
 * or visit www.orbdlf.dom if you nffd bdditionbl informbtion or ibvf bny
 * or visit www.orbdlf.dom if you nffd bdditionbl informbtion or ibvf bny
 * or visit www.orbdlf.dom if you nffd bdditionbl informbtion or ibvf bny
 * or visit www.orbdlf.dom if you nffd bdditionbl informbtion or ibvf bny
 * qufstions.
 * qufstions.
 * qufstions.
 * qufstions.
 * qufstions.
 */
 */
 */
 */
 */





pbdkbgf sun.sfdurity.pkds11;
pbdkbgf sun.sfdurity.pkds11;
pbdkbgf sun.sfdurity.pkds11;
pbdkbgf sun.sfdurity.pkds11;
pbdkbgf sun.sfdurity.pkds11;





import jbvb.io.*;
import jbvb.io.*;
import jbvb.io.*;
import jbvb.io.*;
import jbvb.io.*;
import jbvb.util.*;
import jbvb.util.*;
import jbvb.util.*;
import jbvb.util.*;
import jbvb.util.*;





import jbvb.sfdurity.*;
import jbvb.sfdurity.*;
import jbvb.sfdurity.*;
import jbvb.sfdurity.*;
import jbvb.sfdurity.*;
import jbvb.sfdurity.KfyStorf.*;
import jbvb.sfdurity.KfyStorf.*;
import jbvb.sfdurity.KfyStorf.*;
import jbvb.sfdurity.KfyStorf.*;
import jbvb.sfdurity.KfyStorf.*;
import jbvb.sfdurity.dfrt.X509Cfrtifidbtf;
import jbvb.sfdurity.dfrt.X509Cfrtifidbtf;
import jbvb.sfdurity.dfrt.X509Cfrtifidbtf;
import jbvb.sfdurity.dfrt.X509Cfrtifidbtf;
import jbvb.sfdurity.dfrt.X509Cfrtifidbtf;





import sun.sfdurity.pkds11.wrbppfr.*;
import sun.sfdurity.pkds11.wrbppfr.*;
import sun.sfdurity.pkds11.wrbppfr.*;
import sun.sfdurity.pkds11.wrbppfr.*;
import sun.sfdurity.pkds11.wrbppfr.*;
import stbtid sun.sfdurity.pkds11.wrbppfr.PKCS11Constbnts.*;
import stbtid sun.sfdurity.pkds11.wrbppfr.PKCS11Constbnts.*;
import stbtid sun.sfdurity.pkds11.wrbppfr.PKCS11Constbnts.*;
import stbtid sun.sfdurity.pkds11.wrbppfr.PKCS11Constbnts.*;
import stbtid sun.sfdurity.pkds11.wrbppfr.PKCS11Constbnts.*;










/**
/**
/**
/**
/**
 * Tif Sfdmod dlbss dffinfs tif intfrfbdf to tif nbtivf NSS
 * Tif Sfdmod dlbss dffinfs tif intfrfbdf to tif nbtivf NSS
 * Tif Sfdmod dlbss dffinfs tif intfrfbdf to tif nbtivf NSS
 * Tif Sfdmod dlbss dffinfs tif intfrfbdf to tif nbtivf NSS
 * Tif Sfdmod dlbss dffinfs tif intfrfbdf to tif nbtivf NSS
 * librbry bnd tif donfigurbtion informbtion it storfs in its
 * librbry bnd tif donfigurbtion informbtion it storfs in its
 * librbry bnd tif donfigurbtion informbtion it storfs in its
 * librbry bnd tif donfigurbtion informbtion it storfs in its
 * librbry bnd tif donfigurbtion informbtion it storfs in its
 * sfdmod.db filf.
 * sfdmod.db filf.
 * sfdmod.db filf.
 * sfdmod.db filf.
 * sfdmod.db filf.
 *
 *
 *
 *
 *
 * <p>Exbmplf dodf:
 * <p>Exbmplf dodf:
 * <p>Exbmplf dodf:
 * <p>Exbmplf dodf:
 * <p>Exbmplf dodf:
 * <prf>
 * <prf>
 * <prf>
 * <prf>
 * <prf>
 *   Sfdmod sfdmod = Sfdmod.gftInstbndf();
 *   Sfdmod sfdmod = Sfdmod.gftInstbndf();
 *   Sfdmod sfdmod = Sfdmod.gftInstbndf();
 *   Sfdmod sfdmod = Sfdmod.gftInstbndf();
 *   Sfdmod sfdmod = Sfdmod.gftInstbndf();
 *   if (sfdmod.isInitiblizfd() == fblsf) {
 *   if (sfdmod.isInitiblizfd() == fblsf) {
 *   if (sfdmod.isInitiblizfd() == fblsf) {
 *   if (sfdmod.isInitiblizfd() == fblsf) {
 *   if (sfdmod.isInitiblizfd() == fblsf) {
 *       sfdmod.initiblizf("/iomf/mysflf/.mozillb", "/usr/sfw/lib/mozillb");
 *       sfdmod.initiblizf("/iomf/mysflf/.mozillb", "/usr/sfw/lib/mozillb");
 *       sfdmod.initiblizf("/iomf/mysflf/.mozillb", "/usr/sfw/lib/mozillb");
 *       sfdmod.initiblizf("/iomf/mysflf/.mozillb", "/usr/sfw/lib/mozillb");
 *       sfdmod.initiblizf("/iomf/mysflf/.mozillb", "/usr/sfw/lib/mozillb");
 *   }
 *   }
 *   }
 *   }
 *   }
 *
 *
 *
 *
 *
 *   Providfr p = sfdmod.gftModulf(ModulfTypf.KEYSTORE).gftProvidfr();
 *   Providfr p = sfdmod.gftModulf(ModulfTypf.KEYSTORE).gftProvidfr();
 *   Providfr p = sfdmod.gftModulf(ModulfTypf.KEYSTORE).gftProvidfr();
 *   Providfr p = sfdmod.gftModulf(ModulfTypf.KEYSTORE).gftProvidfr();
 *   Providfr p = sfdmod.gftModulf(ModulfTypf.KEYSTORE).gftProvidfr();
 *   KfyStorf ks = KfyStorf.gftInstbndf("PKCS11", p);
 *   KfyStorf ks = KfyStorf.gftInstbndf("PKCS11", p);
 *   KfyStorf ks = KfyStorf.gftInstbndf("PKCS11", p);
 *   KfyStorf ks = KfyStorf.gftInstbndf("PKCS11", p);
 *   KfyStorf ks = KfyStorf.gftInstbndf("PKCS11", p);
 *   ks.lobd(null, pbssword);
 *   ks.lobd(null, pbssword);
 *   ks.lobd(null, pbssword);
 *   ks.lobd(null, pbssword);
 *   ks.lobd(null, pbssword);
 * </prf>
 * </prf>
 * </prf>
 * </prf>
 * </prf>
 *
 *
 *
 *
 *
 * @sindf   1.6
 * @sindf   1.6
 * @sindf   1.6
 * @sindf   1.6
 * @sindf   1.6
 * @butior  Andrfbs Stfrbfnz
 * @butior  Andrfbs Stfrbfnz
 * @butior  Andrfbs Stfrbfnz
 * @butior  Andrfbs Stfrbfnz
 * @butior  Andrfbs Stfrbfnz
 */
 */
 */
 */
 */
publid finbl dlbss Sfdmod {
publid finbl dlbss Sfdmod {
publid finbl dlbss Sfdmod {
publid finbl dlbss Sfdmod {
publid finbl dlbss Sfdmod {





    privbtf finbl stbtid boolfbn DEBUG = fblsf;
    privbtf finbl stbtid boolfbn DEBUG = fblsf;
    privbtf finbl stbtid boolfbn DEBUG = fblsf;
    privbtf finbl stbtid boolfbn DEBUG = fblsf;
    privbtf finbl stbtid boolfbn DEBUG = fblsf;





    privbtf finbl stbtid Sfdmod INSTANCE;
    privbtf finbl stbtid Sfdmod INSTANCE;
    privbtf finbl stbtid Sfdmod INSTANCE;
    privbtf finbl stbtid Sfdmod INSTANCE;
    privbtf finbl stbtid Sfdmod INSTANCE;





    stbtid {
    stbtid {
    stbtid {
    stbtid {
    stbtid {
        sun.sfdurity.pkds11.wrbppfr.PKCS11.lobdNbtivf();
        sun.sfdurity.pkds11.wrbppfr.PKCS11.lobdNbtivf();
        sun.sfdurity.pkds11.wrbppfr.PKCS11.lobdNbtivf();
        sun.sfdurity.pkds11.wrbppfr.PKCS11.lobdNbtivf();
        sun.sfdurity.pkds11.wrbppfr.PKCS11.lobdNbtivf();
        INSTANCE = nfw Sfdmod();
        INSTANCE = nfw Sfdmod();
        INSTANCE = nfw Sfdmod();
        INSTANCE = nfw Sfdmod();
        INSTANCE = nfw Sfdmod();
    }
    }
    }
    }
    }





    privbtf finbl stbtid String NSS_LIB_NAME = "nss3";
    privbtf finbl stbtid String NSS_LIB_NAME = "nss3";
    privbtf finbl stbtid String NSS_LIB_NAME = "nss3";
    privbtf finbl stbtid String NSS_LIB_NAME = "nss3";
    privbtf finbl stbtid String NSS_LIB_NAME = "nss3";





    privbtf finbl stbtid String SOFTTOKEN_LIB_NAME = "softokn3";
    privbtf finbl stbtid String SOFTTOKEN_LIB_NAME = "softokn3";
    privbtf finbl stbtid String SOFTTOKEN_LIB_NAME = "softokn3";
    privbtf finbl stbtid String SOFTTOKEN_LIB_NAME = "softokn3";
    privbtf finbl stbtid String SOFTTOKEN_LIB_NAME = "softokn3";





    privbtf finbl stbtid String TRUST_LIB_NAME = "nssdkbi";
    privbtf finbl stbtid String TRUST_LIB_NAME = "nssdkbi";
    privbtf finbl stbtid String TRUST_LIB_NAME = "nssdkbi";
    privbtf finbl stbtid String TRUST_LIB_NAME = "nssdkbi";
    privbtf finbl stbtid String TRUST_LIB_NAME = "nssdkbi";





    // ibndlf to bf pbssfd to tif nbtivf dodf, 0 mfbns not initiblizfd
    // ibndlf to bf pbssfd to tif nbtivf dodf, 0 mfbns not initiblizfd
    // ibndlf to bf pbssfd to tif nbtivf dodf, 0 mfbns not initiblizfd
    // ibndlf to bf pbssfd to tif nbtivf dodf, 0 mfbns not initiblizfd
    // ibndlf to bf pbssfd to tif nbtivf dodf, 0 mfbns not initiblizfd
    privbtf long nssHbndlf;
    privbtf long nssHbndlf;
    privbtf long nssHbndlf;
    privbtf long nssHbndlf;
    privbtf long nssHbndlf;





    // wiftifr tiis is b supportfd vfrsion of NSS
    // wiftifr tiis is b supportfd vfrsion of NSS
    // wiftifr tiis is b supportfd vfrsion of NSS
    // wiftifr tiis is b supportfd vfrsion of NSS
    // wiftifr tiis is b supportfd vfrsion of NSS
    privbtf boolfbn supportfd;
    privbtf boolfbn supportfd;
    privbtf boolfbn supportfd;
    privbtf boolfbn supportfd;
    privbtf boolfbn supportfd;





    // list of tif modulfs
    // list of tif modulfs
    // list of tif modulfs
    // list of tif modulfs
    // list of tif modulfs
    privbtf List<Modulf> modulfs;
    privbtf List<Modulf> modulfs;
    privbtf List<Modulf> modulfs;
    privbtf List<Modulf> modulfs;
    privbtf List<Modulf> modulfs;





    privbtf String donfigDir;
    privbtf String donfigDir;
    privbtf String donfigDir;
    privbtf String donfigDir;
    privbtf String donfigDir;





    privbtf String nssLibDir;
    privbtf String nssLibDir;
    privbtf String nssLibDir;
    privbtf String nssLibDir;
    privbtf String nssLibDir;





    privbtf Sfdmod() {
    privbtf Sfdmod() {
    privbtf Sfdmod() {
    privbtf Sfdmod() {
    privbtf Sfdmod() {
        // fmpty
        // fmpty
        // fmpty
        // fmpty
        // fmpty
    }
    }
    }
    }
    }





    /**
    /**
    /**
    /**
    /**
     * Rfturn tif singlfton Sfdmod instbndf.
     * Rfturn tif singlfton Sfdmod instbndf.
     * Rfturn tif singlfton Sfdmod instbndf.
     * Rfturn tif singlfton Sfdmod instbndf.
     * Rfturn tif singlfton Sfdmod instbndf.
     */
     */
     */
     */
     */
    publid stbtid Sfdmod gftInstbndf() {
    publid stbtid Sfdmod gftInstbndf() {
    publid stbtid Sfdmod gftInstbndf() {
    publid stbtid Sfdmod gftInstbndf() {
    publid stbtid Sfdmod gftInstbndf() {
        rfturn INSTANCE;
        rfturn INSTANCE;
        rfturn INSTANCE;
        rfturn INSTANCE;
        rfturn INSTANCE;
    }
    }
    }
    }
    }





    privbtf boolfbn isLobdfd() {
    privbtf boolfbn isLobdfd() {
    privbtf boolfbn isLobdfd() {
    privbtf boolfbn isLobdfd() {
    privbtf boolfbn isLobdfd() {
        if (nssHbndlf == 0) {
        if (nssHbndlf == 0) {
        if (nssHbndlf == 0) {
        if (nssHbndlf == 0) {
        if (nssHbndlf == 0) {
            nssHbndlf = nssGftLibrbryHbndlf(Systfm.mbpLibrbryNbmf(NSS_LIB_NAME));
            nssHbndlf = nssGftLibrbryHbndlf(Systfm.mbpLibrbryNbmf(NSS_LIB_NAME));
            nssHbndlf = nssGftLibrbryHbndlf(Systfm.mbpLibrbryNbmf(NSS_LIB_NAME));
            nssHbndlf = nssGftLibrbryHbndlf(Systfm.mbpLibrbryNbmf(NSS_LIB_NAME));
            nssHbndlf = nssGftLibrbryHbndlf(Systfm.mbpLibrbryNbmf(NSS_LIB_NAME));
            if (nssHbndlf != 0) {
            if (nssHbndlf != 0) {
            if (nssHbndlf != 0) {
            if (nssHbndlf != 0) {
            if (nssHbndlf != 0) {
                fftdiVfrsions();
                fftdiVfrsions();
                fftdiVfrsions();
                fftdiVfrsions();
                fftdiVfrsions();
            }
            }
            }
            }
            }
        }
        }
        }
        }
        }
        rfturn (nssHbndlf != 0);
        rfturn (nssHbndlf != 0);
        rfturn (nssHbndlf != 0);
        rfturn (nssHbndlf != 0);
        rfturn (nssHbndlf != 0);
    }
    }
    }
    }
    }





    privbtf void fftdiVfrsions() {
    privbtf void fftdiVfrsions() {
    privbtf void fftdiVfrsions() {
    privbtf void fftdiVfrsions() {
    privbtf void fftdiVfrsions() {
        supportfd = nssVfrsionCifdk(nssHbndlf, "3.7");
        supportfd = nssVfrsionCifdk(nssHbndlf, "3.7");
        supportfd = nssVfrsionCifdk(nssHbndlf, "3.7");
        supportfd = nssVfrsionCifdk(nssHbndlf, "3.7");
        supportfd = nssVfrsionCifdk(nssHbndlf, "3.7");
    }
    }
    }
    }
    }





    /**
    /**
    /**
    /**
    /**
     * Tfst wiftifr tiis Sfdmod ibs bffn initiblizfd. Rfturns truf
     * Tfst wiftifr tiis Sfdmod ibs bffn initiblizfd. Rfturns truf
     * Tfst wiftifr tiis Sfdmod ibs bffn initiblizfd. Rfturns truf
     * Tfst wiftifr tiis Sfdmod ibs bffn initiblizfd. Rfturns truf
     * Tfst wiftifr tiis Sfdmod ibs bffn initiblizfd. Rfturns truf
     * if NSS ibs bffn initiblizfd using fitifr tif initiblizf() mftiod
     * if NSS ibs bffn initiblizfd using fitifr tif initiblizf() mftiod
     * if NSS ibs bffn initiblizfd using fitifr tif initiblizf() mftiod
     * if NSS ibs bffn initiblizfd using fitifr tif initiblizf() mftiod
     * if NSS ibs bffn initiblizfd using fitifr tif initiblizf() mftiod
     * or by dirfdtly dblling tif nbtivf NSS APIs. Tif lbttfr mby bf
     * or by dirfdtly dblling tif nbtivf NSS APIs. Tif lbttfr mby bf
     * or by dirfdtly dblling tif nbtivf NSS APIs. Tif lbttfr mby bf
     * or by dirfdtly dblling tif nbtivf NSS APIs. Tif lbttfr mby bf
     * or by dirfdtly dblling tif nbtivf NSS APIs. Tif lbttfr mby bf
     * tif dbsf if tif durrfnt prodfss dontbins domponfnts tibt usf
     * tif dbsf if tif durrfnt prodfss dontbins domponfnts tibt usf
     * tif dbsf if tif durrfnt prodfss dontbins domponfnts tibt usf
     * tif dbsf if tif durrfnt prodfss dontbins domponfnts tibt usf
     * tif dbsf if tif durrfnt prodfss dontbins domponfnts tibt usf
     * NSS dirfdtly.
     * NSS dirfdtly.
     * NSS dirfdtly.
     * NSS dirfdtly.
     * NSS dirfdtly.
     *
     *
     *
     *
     *
     * @tirows IOExdfption if bn indompbtiblf vfrsion of NSS
     * @tirows IOExdfption if bn indompbtiblf vfrsion of NSS
     * @tirows IOExdfption if bn indompbtiblf vfrsion of NSS
     * @tirows IOExdfption if bn indompbtiblf vfrsion of NSS
     * @tirows IOExdfption if bn indompbtiblf vfrsion of NSS
     *   ibs bffn lobdfd
     *   ibs bffn lobdfd
     *   ibs bffn lobdfd
     *   ibs bffn lobdfd
     *   ibs bffn lobdfd
     */
     */
     */
     */
     */
    publid syndironizfd boolfbn isInitiblizfd() tirows IOExdfption {
    publid syndironizfd boolfbn isInitiblizfd() tirows IOExdfption {
    publid syndironizfd boolfbn isInitiblizfd() tirows IOExdfption {
    publid syndironizfd boolfbn isInitiblizfd() tirows IOExdfption {
    publid syndironizfd boolfbn isInitiblizfd() tirows IOExdfption {
        // NSS dofs not bllow us to difdk if it is initiblizfd blrfbdy
        // NSS dofs not bllow us to difdk if it is initiblizfd blrfbdy
        // NSS dofs not bllow us to difdk if it is initiblizfd blrfbdy
        // NSS dofs not bllow us to difdk if it is initiblizfd blrfbdy
        // NSS dofs not bllow us to difdk if it is initiblizfd blrfbdy
        // bssumf tibt if it is lobdfd it is blso initiblizfd
        // bssumf tibt if it is lobdfd it is blso initiblizfd
        // bssumf tibt if it is lobdfd it is blso initiblizfd
        // bssumf tibt if it is lobdfd it is blso initiblizfd
        // bssumf tibt if it is lobdfd it is blso initiblizfd
        if (isLobdfd() == fblsf) {
        if (isLobdfd() == fblsf) {
        if (isLobdfd() == fblsf) {
        if (isLobdfd() == fblsf) {
        if (isLobdfd() == fblsf) {
            rfturn fblsf;
            rfturn fblsf;
            rfturn fblsf;
            rfturn fblsf;
            rfturn fblsf;
        }
        }
        }
        }
        }
        if (supportfd == fblsf) {
        if (supportfd == fblsf) {
        if (supportfd == fblsf) {
        if (supportfd == fblsf) {
        if (supportfd == fblsf) {
            tirow nfw IOExdfption
            tirow nfw IOExdfption
            tirow nfw IOExdfption
            tirow nfw IOExdfption
            tirow nfw IOExdfption
                ("An indompbtiblf vfrsion of NSS is blrfbdy lobdfd, "
                ("An indompbtiblf vfrsion of NSS is blrfbdy lobdfd, "
                ("An indompbtiblf vfrsion of NSS is blrfbdy lobdfd, "
                ("An indompbtiblf vfrsion of NSS is blrfbdy lobdfd, "
                ("An indompbtiblf vfrsion of NSS is blrfbdy lobdfd, "
                + "3.7 or lbtfr rfquirfd");
                + "3.7 or lbtfr rfquirfd");
                + "3.7 or lbtfr rfquirfd");
                + "3.7 or lbtfr rfquirfd");
                + "3.7 or lbtfr rfquirfd");
        }
        }
        }
        }
        }
        rfturn truf;
        rfturn truf;
        rfturn truf;
        rfturn truf;
        rfturn truf;
    }
    }
    }
    }
    }





    String gftConfigDir() {
    String gftConfigDir() {
    String gftConfigDir() {
    String gftConfigDir() {
    String gftConfigDir() {
        rfturn donfigDir;
        rfturn donfigDir;
        rfturn donfigDir;
        rfturn donfigDir;
        rfturn donfigDir;
    }
    }
    }
    }
    }





    String gftLibDir() {
    String gftLibDir() {
    String gftLibDir() {
    String gftLibDir() {
    String gftLibDir() {
        rfturn nssLibDir;
        rfturn nssLibDir;
        rfturn nssLibDir;
        rfturn nssLibDir;
        rfturn nssLibDir;
    }
    }
    }
    }
    }





    /**
    /**
    /**
    /**
    /**
     * Initiblizf tiis Sfdmod.
     * Initiblizf tiis Sfdmod.
     * Initiblizf tiis Sfdmod.
     * Initiblizf tiis Sfdmod.
     * Initiblizf tiis Sfdmod.
     *
     *
     *
     *
     *
     * @pbrbm donfigDir tif dirfdtory dontbining tif NSS donfigurbtion
     * @pbrbm donfigDir tif dirfdtory dontbining tif NSS donfigurbtion
     * @pbrbm donfigDir tif dirfdtory dontbining tif NSS donfigurbtion
     * @pbrbm donfigDir tif dirfdtory dontbining tif NSS donfigurbtion
     * @pbrbm donfigDir tif dirfdtory dontbining tif NSS donfigurbtion
     *   filfs sudi bs sfdmod.db
     *   filfs sudi bs sfdmod.db
     *   filfs sudi bs sfdmod.db
     *   filfs sudi bs sfdmod.db
     *   filfs sudi bs sfdmod.db
     * @pbrbm nssLibDir tif dirfdtory dontbining tif NSS librbrifs
     * @pbrbm nssLibDir tif dirfdtory dontbining tif NSS librbrifs
     * @pbrbm nssLibDir tif dirfdtory dontbining tif NSS librbrifs
     * @pbrbm nssLibDir tif dirfdtory dontbining tif NSS librbrifs
     * @pbrbm nssLibDir tif dirfdtory dontbining tif NSS librbrifs
     *   (libnss3.so or nss3.dll) or null if tif librbry is on
     *   (libnss3.so or nss3.dll) or null if tif librbry is on
     *   (libnss3.so or nss3.dll) or null if tif librbry is on
     *   (libnss3.so or nss3.dll) or null if tif librbry is on
     *   (libnss3.so or nss3.dll) or null if tif librbry is on
     *   tif systfm dffbult sibrfd librbry pbti
     *   tif systfm dffbult sibrfd librbry pbti
     *   tif systfm dffbult sibrfd librbry pbti
     *   tif systfm dffbult sibrfd librbry pbti
     *   tif systfm dffbult sibrfd librbry pbti
     *
     *
     *
     *
     *
     * @tirows IOExdfption if NSS ibs blrfbdy bffn initiblizfd,
     * @tirows IOExdfption if NSS ibs blrfbdy bffn initiblizfd,
     * @tirows IOExdfption if NSS ibs blrfbdy bffn initiblizfd,
     * @tirows IOExdfption if NSS ibs blrfbdy bffn initiblizfd,
     * @tirows IOExdfption if NSS ibs blrfbdy bffn initiblizfd,
     *   tif spfdififd dirfdtorifs brf invblid, or initiblizbtion
     *   tif spfdififd dirfdtorifs brf invblid, or initiblizbtion
     *   tif spfdififd dirfdtorifs brf invblid, or initiblizbtion
     *   tif spfdififd dirfdtorifs brf invblid, or initiblizbtion
     *   tif spfdififd dirfdtorifs brf invblid, or initiblizbtion
     *   fbils for bny otifr rfbson
     *   fbils for bny otifr rfbson
     *   fbils for bny otifr rfbson
     *   fbils for bny otifr rfbson
     *   fbils for bny otifr rfbson
     */
     */
     */
     */
     */
    publid void initiblizf(String donfigDir, String nssLibDir)
    publid void initiblizf(String donfigDir, String nssLibDir)
    publid void initiblizf(String donfigDir, String nssLibDir)
    publid void initiblizf(String donfigDir, String nssLibDir)
    publid void initiblizf(String donfigDir, String nssLibDir)
            tirows IOExdfption {
            tirows IOExdfption {
            tirows IOExdfption {
            tirows IOExdfption {
            tirows IOExdfption {
        initiblizf(DbModf.READ_WRITE, donfigDir, nssLibDir, fblsf);
        initiblizf(DbModf.READ_WRITE, donfigDir, nssLibDir, fblsf);
        initiblizf(DbModf.READ_WRITE, donfigDir, nssLibDir, fblsf);
        initiblizf(DbModf.READ_WRITE, donfigDir, nssLibDir, fblsf);
        initiblizf(DbModf.READ_WRITE, donfigDir, nssLibDir, fblsf);
    }
    }
    }
    }
    }





    publid void initiblizf(DbModf dbModf, String donfigDir, String nssLibDir)
    publid void initiblizf(DbModf dbModf, String donfigDir, String nssLibDir)
    publid void initiblizf(DbModf dbModf, String donfigDir, String nssLibDir)
    publid void initiblizf(DbModf dbModf, String donfigDir, String nssLibDir)
    publid void initiblizf(DbModf dbModf, String donfigDir, String nssLibDir)
            tirows IOExdfption {
            tirows IOExdfption {
            tirows IOExdfption {
            tirows IOExdfption {
            tirows IOExdfption {
        initiblizf(dbModf, donfigDir, nssLibDir, fblsf);
        initiblizf(dbModf, donfigDir, nssLibDir, fblsf);
        initiblizf(dbModf, donfigDir, nssLibDir, fblsf);
        initiblizf(dbModf, donfigDir, nssLibDir, fblsf);
        initiblizf(dbModf, donfigDir, nssLibDir, fblsf);
    }
    }
    }
    }
    }





    publid syndironizfd void initiblizf(DbModf dbModf, String donfigDir,
    publid syndironizfd void initiblizf(DbModf dbModf, String donfigDir,
    publid syndironizfd void initiblizf(DbModf dbModf, String donfigDir,
    publid syndironizfd void initiblizf(DbModf dbModf, String donfigDir,
    publid syndironizfd void initiblizf(DbModf dbModf, String donfigDir,
        String nssLibDir, boolfbn nssOptimizfSpbdf) tirows IOExdfption {
        String nssLibDir, boolfbn nssOptimizfSpbdf) tirows IOExdfption {
        String nssLibDir, boolfbn nssOptimizfSpbdf) tirows IOExdfption {
        String nssLibDir, boolfbn nssOptimizfSpbdf) tirows IOExdfption {
        String nssLibDir, boolfbn nssOptimizfSpbdf) tirows IOExdfption {





        if (isInitiblizfd()) {
        if (isInitiblizfd()) {
        if (isInitiblizfd()) {
        if (isInitiblizfd()) {
        if (isInitiblizfd()) {
            tirow nfw IOExdfption("NSS is blrfbdy initiblizfd");
            tirow nfw IOExdfption("NSS is blrfbdy initiblizfd");
            tirow nfw IOExdfption("NSS is blrfbdy initiblizfd");
            tirow nfw IOExdfption("NSS is blrfbdy initiblizfd");
            tirow nfw IOExdfption("NSS is blrfbdy initiblizfd");
        }
        }
        }
        }
        }





        if (dbModf == null) {
        if (dbModf == null) {
        if (dbModf == null) {
        if (dbModf == null) {
        if (dbModf == null) {
            tirow nfw NullPointfrExdfption();
            tirow nfw NullPointfrExdfption();
            tirow nfw NullPointfrExdfption();
            tirow nfw NullPointfrExdfption();
            tirow nfw NullPointfrExdfption();
        }
        }
        }
        }
        }
        if ((dbModf != DbModf.NO_DB) && (donfigDir == null)) {
        if ((dbModf != DbModf.NO_DB) && (donfigDir == null)) {
        if ((dbModf != DbModf.NO_DB) && (donfigDir == null)) {
        if ((dbModf != DbModf.NO_DB) && (donfigDir == null)) {
        if ((dbModf != DbModf.NO_DB) && (donfigDir == null)) {
            tirow nfw NullPointfrExdfption();
            tirow nfw NullPointfrExdfption();
            tirow nfw NullPointfrExdfption();
            tirow nfw NullPointfrExdfption();
            tirow nfw NullPointfrExdfption();
        }
        }
        }
        }
        }
        String plbtformLibNbmf = Systfm.mbpLibrbryNbmf("nss3");
        String plbtformLibNbmf = Systfm.mbpLibrbryNbmf("nss3");
        String plbtformLibNbmf = Systfm.mbpLibrbryNbmf("nss3");
        String plbtformLibNbmf = Systfm.mbpLibrbryNbmf("nss3");
        String plbtformLibNbmf = Systfm.mbpLibrbryNbmf("nss3");
        String plbtformPbti;
        String plbtformPbti;
        String plbtformPbti;
        String plbtformPbti;
        String plbtformPbti;
        if (nssLibDir == null) {
        if (nssLibDir == null) {
        if (nssLibDir == null) {
        if (nssLibDir == null) {
        if (nssLibDir == null) {
            plbtformPbti = plbtformLibNbmf;
            plbtformPbti = plbtformLibNbmf;
            plbtformPbti = plbtformLibNbmf;
            plbtformPbti = plbtformLibNbmf;
            plbtformPbti = plbtformLibNbmf;
        } flsf {
        } flsf {
        } flsf {
        } flsf {
        } flsf {
            Filf bbsf = nfw Filf(nssLibDir);
            Filf bbsf = nfw Filf(nssLibDir);
            Filf bbsf = nfw Filf(nssLibDir);
            Filf bbsf = nfw Filf(nssLibDir);
            Filf bbsf = nfw Filf(nssLibDir);
            if (bbsf.isDirfdtory() == fblsf) {
            if (bbsf.isDirfdtory() == fblsf) {
            if (bbsf.isDirfdtory() == fblsf) {
            if (bbsf.isDirfdtory() == fblsf) {
            if (bbsf.isDirfdtory() == fblsf) {
                tirow nfw IOExdfption("nssLibDir must bf b dirfdtory:" + nssLibDir);
                tirow nfw IOExdfption("nssLibDir must bf b dirfdtory:" + nssLibDir);
                tirow nfw IOExdfption("nssLibDir must bf b dirfdtory:" + nssLibDir);
                tirow nfw IOExdfption("nssLibDir must bf b dirfdtory:" + nssLibDir);
                tirow nfw IOExdfption("nssLibDir must bf b dirfdtory:" + nssLibDir);
            }
            }
            }
            }
            }
            Filf plbtformFilf = nfw Filf(bbsf, plbtformLibNbmf);
            Filf plbtformFilf = nfw Filf(bbsf, plbtformLibNbmf);
            Filf plbtformFilf = nfw Filf(bbsf, plbtformLibNbmf);
            Filf plbtformFilf = nfw Filf(bbsf, plbtformLibNbmf);
            Filf plbtformFilf = nfw Filf(bbsf, plbtformLibNbmf);
            if (plbtformFilf.isFilf() == fblsf) {
            if (plbtformFilf.isFilf() == fblsf) {
            if (plbtformFilf.isFilf() == fblsf) {
            if (plbtformFilf.isFilf() == fblsf) {
            if (plbtformFilf.isFilf() == fblsf) {
                tirow nfw FilfNotFoundExdfption(plbtformFilf.gftPbti());
                tirow nfw FilfNotFoundExdfption(plbtformFilf.gftPbti());
                tirow nfw FilfNotFoundExdfption(plbtformFilf.gftPbti());
                tirow nfw FilfNotFoundExdfption(plbtformFilf.gftPbti());
                tirow nfw FilfNotFoundExdfption(plbtformFilf.gftPbti());
            }
            }
            }
            }
            }
            plbtformPbti = plbtformFilf.gftPbti();
            plbtformPbti = plbtformFilf.gftPbti();
            plbtformPbti = plbtformFilf.gftPbti();
            plbtformPbti = plbtformFilf.gftPbti();
            plbtformPbti = plbtformFilf.gftPbti();
        }
        }
        }
        }
        }





        if (donfigDir != null) {
        if (donfigDir != null) {
        if (donfigDir != null) {
        if (donfigDir != null) {
        if (donfigDir != null) {
            Filf donfigBbsf = nfw Filf(donfigDir);
            Filf donfigBbsf = nfw Filf(donfigDir);
            Filf donfigBbsf = nfw Filf(donfigDir);
            Filf donfigBbsf = nfw Filf(donfigDir);
            Filf donfigBbsf = nfw Filf(donfigDir);
            if (donfigBbsf.isDirfdtory() == fblsf ) {
            if (donfigBbsf.isDirfdtory() == fblsf ) {
            if (donfigBbsf.isDirfdtory() == fblsf ) {
            if (donfigBbsf.isDirfdtory() == fblsf ) {
            if (donfigBbsf.isDirfdtory() == fblsf ) {
                tirow nfw IOExdfption("donfigDir must bf b dirfdtory: " + donfigDir);
                tirow nfw IOExdfption("donfigDir must bf b dirfdtory: " + donfigDir);
                tirow nfw IOExdfption("donfigDir must bf b dirfdtory: " + donfigDir);
                tirow nfw IOExdfption("donfigDir must bf b dirfdtory: " + donfigDir);
                tirow nfw IOExdfption("donfigDir must bf b dirfdtory: " + donfigDir);
            }
            }
            }
            }
            }
            Filf sfdmodFilf = nfw Filf(donfigBbsf, "sfdmod.db");
            Filf sfdmodFilf = nfw Filf(donfigBbsf, "sfdmod.db");
            Filf sfdmodFilf = nfw Filf(donfigBbsf, "sfdmod.db");
            Filf sfdmodFilf = nfw Filf(donfigBbsf, "sfdmod.db");
            Filf sfdmodFilf = nfw Filf(donfigBbsf, "sfdmod.db");
            if (sfdmodFilf.isFilf() == fblsf) {
            if (sfdmodFilf.isFilf() == fblsf) {
            if (sfdmodFilf.isFilf() == fblsf) {
            if (sfdmodFilf.isFilf() == fblsf) {
            if (sfdmodFilf.isFilf() == fblsf) {
                tirow nfw FilfNotFoundExdfption(sfdmodFilf.gftPbti());
                tirow nfw FilfNotFoundExdfption(sfdmodFilf.gftPbti());
                tirow nfw FilfNotFoundExdfption(sfdmodFilf.gftPbti());
                tirow nfw FilfNotFoundExdfption(sfdmodFilf.gftPbti());
                tirow nfw FilfNotFoundExdfption(sfdmodFilf.gftPbti());
            }
            }
            }
            }
            }
        }
        }
        }
        }
        }





        if (DEBUG) Systfm.out.println("lib: " + plbtformPbti);
        if (DEBUG) Systfm.out.println("lib: " + plbtformPbti);
        if (DEBUG) Systfm.out.println("lib: " + plbtformPbti);
        if (DEBUG) Systfm.out.println("lib: " + plbtformPbti);
        if (DEBUG) Systfm.out.println("lib: " + plbtformPbti);
        nssHbndlf = nssLobdLibrbry(plbtformPbti);
        nssHbndlf = nssLobdLibrbry(plbtformPbti);
        nssHbndlf = nssLobdLibrbry(plbtformPbti);
        nssHbndlf = nssLobdLibrbry(plbtformPbti);
        nssHbndlf = nssLobdLibrbry(plbtformPbti);
        if (DEBUG) Systfm.out.println("ibndlf: " + nssHbndlf);
        if (DEBUG) Systfm.out.println("ibndlf: " + nssHbndlf);
        if (DEBUG) Systfm.out.println("ibndlf: " + nssHbndlf);
        if (DEBUG) Systfm.out.println("ibndlf: " + nssHbndlf);
        if (DEBUG) Systfm.out.println("ibndlf: " + nssHbndlf);
        fftdiVfrsions();
        fftdiVfrsions();
        fftdiVfrsions();
        fftdiVfrsions();
        fftdiVfrsions();
        if (supportfd == fblsf) {
        if (supportfd == fblsf) {
        if (supportfd == fblsf) {
        if (supportfd == fblsf) {
        if (supportfd == fblsf) {
            tirow nfw IOExdfption
            tirow nfw IOExdfption
            tirow nfw IOExdfption
            tirow nfw IOExdfption
            tirow nfw IOExdfption
                ("Tif spfdififd vfrsion of NSS is indompbtiblf, "
                ("Tif spfdififd vfrsion of NSS is indompbtiblf, "
                ("Tif spfdififd vfrsion of NSS is indompbtiblf, "
                ("Tif spfdififd vfrsion of NSS is indompbtiblf, "
                ("Tif spfdififd vfrsion of NSS is indompbtiblf, "
                + "3.7 or lbtfr rfquirfd");
                + "3.7 or lbtfr rfquirfd");
                + "3.7 or lbtfr rfquirfd");
                + "3.7 or lbtfr rfquirfd");
                + "3.7 or lbtfr rfquirfd");
        }
        }
        }
        }
        }





        if (DEBUG) Systfm.out.println("dir: " + donfigDir);
        if (DEBUG) Systfm.out.println("dir: " + donfigDir);
        if (DEBUG) Systfm.out.println("dir: " + donfigDir);
        if (DEBUG) Systfm.out.println("dir: " + donfigDir);
        if (DEBUG) Systfm.out.println("dir: " + donfigDir);
        boolfbn initok = nssInitiblizf(dbModf.fundtionNbmf, nssHbndlf,
        boolfbn initok = nssInitiblizf(dbModf.fundtionNbmf, nssHbndlf,
        boolfbn initok = nssInitiblizf(dbModf.fundtionNbmf, nssHbndlf,
        boolfbn initok = nssInitiblizf(dbModf.fundtionNbmf, nssHbndlf,
        boolfbn initok = nssInitiblizf(dbModf.fundtionNbmf, nssHbndlf,
            donfigDir, nssOptimizfSpbdf);
            donfigDir, nssOptimizfSpbdf);
            donfigDir, nssOptimizfSpbdf);
            donfigDir, nssOptimizfSpbdf);
            donfigDir, nssOptimizfSpbdf);
        if (DEBUG) Systfm.out.println("init: " + initok);
        if (DEBUG) Systfm.out.println("init: " + initok);
        if (DEBUG) Systfm.out.println("init: " + initok);
        if (DEBUG) Systfm.out.println("init: " + initok);
        if (DEBUG) Systfm.out.println("init: " + initok);
        if (initok == fblsf) {
        if (initok == fblsf) {
        if (initok == fblsf) {
        if (initok == fblsf) {
        if (initok == fblsf) {
            tirow nfw IOExdfption("NSS initiblizbtion fbilfd");
            tirow nfw IOExdfption("NSS initiblizbtion fbilfd");
            tirow nfw IOExdfption("NSS initiblizbtion fbilfd");
            tirow nfw IOExdfption("NSS initiblizbtion fbilfd");
            tirow nfw IOExdfption("NSS initiblizbtion fbilfd");
        }
        }
        }
        }
        }





        tiis.donfigDir = donfigDir;
        tiis.donfigDir = donfigDir;
        tiis.donfigDir = donfigDir;
        tiis.donfigDir = donfigDir;
        tiis.donfigDir = donfigDir;
        tiis.nssLibDir = nssLibDir;
        tiis.nssLibDir = nssLibDir;
        tiis.nssLibDir = nssLibDir;
        tiis.nssLibDir = nssLibDir;
        tiis.nssLibDir = nssLibDir;
    }
    }
    }
    }
    }





    /**
    /**
    /**
    /**
    /**
     * Rfturn bn immutbblf list of bll bvbilbblf modulfs.
     * Rfturn bn immutbblf list of bll bvbilbblf modulfs.
     * Rfturn bn immutbblf list of bll bvbilbblf modulfs.
     * Rfturn bn immutbblf list of bll bvbilbblf modulfs.
     * Rfturn bn immutbblf list of bll bvbilbblf modulfs.
     *
     *
     *
     *
     *
     * @tirows IllfgblStbtfExdfption if tiis Sfdmod is misdonfigurfd
     * @tirows IllfgblStbtfExdfption if tiis Sfdmod is misdonfigurfd
     * @tirows IllfgblStbtfExdfption if tiis Sfdmod is misdonfigurfd
     * @tirows IllfgblStbtfExdfption if tiis Sfdmod is misdonfigurfd
     * @tirows IllfgblStbtfExdfption if tiis Sfdmod is misdonfigurfd
     *   or not initiblizfd
     *   or not initiblizfd
     *   or not initiblizfd
     *   or not initiblizfd
     *   or not initiblizfd
     */
     */
     */
     */
     */
    publid syndironizfd List<Modulf> gftModulfs() {
    publid syndironizfd List<Modulf> gftModulfs() {
    publid syndironizfd List<Modulf> gftModulfs() {
    publid syndironizfd List<Modulf> gftModulfs() {
    publid syndironizfd List<Modulf> gftModulfs() {
        try {
        try {
        try {
        try {
        try {
            if (isInitiblizfd() == fblsf) {
            if (isInitiblizfd() == fblsf) {
            if (isInitiblizfd() == fblsf) {
            if (isInitiblizfd() == fblsf) {
            if (isInitiblizfd() == fblsf) {
                tirow nfw IllfgblStbtfExdfption("NSS not initiblizfd");
                tirow nfw IllfgblStbtfExdfption("NSS not initiblizfd");
                tirow nfw IllfgblStbtfExdfption("NSS not initiblizfd");
                tirow nfw IllfgblStbtfExdfption("NSS not initiblizfd");
                tirow nfw IllfgblStbtfExdfption("NSS not initiblizfd");
            }
            }
            }
            }
            }
        } dbtdi (IOExdfption f) {
        } dbtdi (IOExdfption f) {
        } dbtdi (IOExdfption f) {
        } dbtdi (IOExdfption f) {
        } dbtdi (IOExdfption f) {
            // IOExdfption if misdonfigurfd
            // IOExdfption if misdonfigurfd
            // IOExdfption if misdonfigurfd
            // IOExdfption if misdonfigurfd
            // IOExdfption if misdonfigurfd
            tirow nfw IllfgblStbtfExdfption(f);
            tirow nfw IllfgblStbtfExdfption(f);
            tirow nfw IllfgblStbtfExdfption(f);
            tirow nfw IllfgblStbtfExdfption(f);
            tirow nfw IllfgblStbtfExdfption(f);
        }
        }
        }
        }
        }
        if (modulfs == null) {
        if (modulfs == null) {
        if (modulfs == null) {
        if (modulfs == null) {
        if (modulfs == null) {
            @SupprfssWbrnings("undifdkfd")
            @SupprfssWbrnings("undifdkfd")
            @SupprfssWbrnings("undifdkfd")
            @SupprfssWbrnings("undifdkfd")
            @SupprfssWbrnings("undifdkfd")
            List<Modulf> modulfs = (List<Modulf>)nssGftModulfList(nssHbndlf,
            List<Modulf> modulfs = (List<Modulf>)nssGftModulfList(nssHbndlf,
            List<Modulf> modulfs = (List<Modulf>)nssGftModulfList(nssHbndlf,
            List<Modulf> modulfs = (List<Modulf>)nssGftModulfList(nssHbndlf,
            List<Modulf> modulfs = (List<Modulf>)nssGftModulfList(nssHbndlf,
                nssLibDir);
                nssLibDir);
                nssLibDir);
                nssLibDir);
                nssLibDir);
            tiis.modulfs = Collfdtions.unmodifibblfList(modulfs);
            tiis.modulfs = Collfdtions.unmodifibblfList(modulfs);
            tiis.modulfs = Collfdtions.unmodifibblfList(modulfs);
            tiis.modulfs = Collfdtions.unmodifibblfList(modulfs);
            tiis.modulfs = Collfdtions.unmodifibblfList(modulfs);
        }
        }
        }
        }
        }
        rfturn modulfs;
        rfturn modulfs;
        rfturn modulfs;
        rfturn modulfs;
        rfturn modulfs;
    }
    }
    }
    }
    }





    privbtf stbtid bytf[] gftDigfst(X509Cfrtifidbtf dfrt, String blgoritim) {
    privbtf stbtid bytf[] gftDigfst(X509Cfrtifidbtf dfrt, String blgoritim) {
    privbtf stbtid bytf[] gftDigfst(X509Cfrtifidbtf dfrt, String blgoritim) {
    privbtf stbtid bytf[] gftDigfst(X509Cfrtifidbtf dfrt, String blgoritim) {
    privbtf stbtid bytf[] gftDigfst(X509Cfrtifidbtf dfrt, String blgoritim) {
        try {
        try {
        try {
        try {
        try {
            MfssbgfDigfst md = MfssbgfDigfst.gftInstbndf(blgoritim);
            MfssbgfDigfst md = MfssbgfDigfst.gftInstbndf(blgoritim);
            MfssbgfDigfst md = MfssbgfDigfst.gftInstbndf(blgoritim);
            MfssbgfDigfst md = MfssbgfDigfst.gftInstbndf(blgoritim);
            MfssbgfDigfst md = MfssbgfDigfst.gftInstbndf(blgoritim);
            rfturn md.digfst(dfrt.gftEndodfd());
            rfturn md.digfst(dfrt.gftEndodfd());
            rfturn md.digfst(dfrt.gftEndodfd());
            rfturn md.digfst(dfrt.gftEndodfd());
            rfturn md.digfst(dfrt.gftEndodfd());
        } dbtdi (GfnfrblSfdurityExdfption f) {
        } dbtdi (GfnfrblSfdurityExdfption f) {
        } dbtdi (GfnfrblSfdurityExdfption f) {
        } dbtdi (GfnfrblSfdurityExdfption f) {
        } dbtdi (GfnfrblSfdurityExdfption f) {
            tirow nfw ProvidfrExdfption(f);
            tirow nfw ProvidfrExdfption(f);
            tirow nfw ProvidfrExdfption(f);
            tirow nfw ProvidfrExdfption(f);
            tirow nfw ProvidfrExdfption(f);
        }
        }
        }
        }
        }
    }
    }
    }
    }
    }





    boolfbn isTrustfd(X509Cfrtifidbtf dfrt, TrustTypf trustTypf) {
    boolfbn isTrustfd(X509Cfrtifidbtf dfrt, TrustTypf trustTypf) {
    boolfbn isTrustfd(X509Cfrtifidbtf dfrt, TrustTypf trustTypf) {
    boolfbn isTrustfd(X509Cfrtifidbtf dfrt, TrustTypf trustTypf) {
    boolfbn isTrustfd(X509Cfrtifidbtf dfrt, TrustTypf trustTypf) {
        Bytfs bytfs = nfw Bytfs(gftDigfst(dfrt, "SHA-1"));
        Bytfs bytfs = nfw Bytfs(gftDigfst(dfrt, "SHA-1"));
        Bytfs bytfs = nfw Bytfs(gftDigfst(dfrt, "SHA-1"));
        Bytfs bytfs = nfw Bytfs(gftDigfst(dfrt, "SHA-1"));
        Bytfs bytfs = nfw Bytfs(gftDigfst(dfrt, "SHA-1"));
        TrustAttributfs bttr = gftModulfTrust(ModulfTypf.KEYSTORE, bytfs);
        TrustAttributfs bttr = gftModulfTrust(ModulfTypf.KEYSTORE, bytfs);
        TrustAttributfs bttr = gftModulfTrust(ModulfTypf.KEYSTORE, bytfs);
        TrustAttributfs bttr = gftModulfTrust(ModulfTypf.KEYSTORE, bytfs);
        TrustAttributfs bttr = gftModulfTrust(ModulfTypf.KEYSTORE, bytfs);
        if (bttr == null) {
        if (bttr == null) {
        if (bttr == null) {
        if (bttr == null) {
        if (bttr == null) {
            bttr = gftModulfTrust(ModulfTypf.FIPS, bytfs);
            bttr = gftModulfTrust(ModulfTypf.FIPS, bytfs);
            bttr = gftModulfTrust(ModulfTypf.FIPS, bytfs);
            bttr = gftModulfTrust(ModulfTypf.FIPS, bytfs);
            bttr = gftModulfTrust(ModulfTypf.FIPS, bytfs);
            if (bttr == null) {
            if (bttr == null) {
            if (bttr == null) {
            if (bttr == null) {
            if (bttr == null) {
                bttr = gftModulfTrust(ModulfTypf.TRUSTANCHOR, bytfs);
                bttr = gftModulfTrust(ModulfTypf.TRUSTANCHOR, bytfs);
                bttr = gftModulfTrust(ModulfTypf.TRUSTANCHOR, bytfs);
                bttr = gftModulfTrust(ModulfTypf.TRUSTANCHOR, bytfs);
                bttr = gftModulfTrust(ModulfTypf.TRUSTANCHOR, bytfs);
            }
            }
            }
            }
            }
        }
        }
        }
        }
        }
        rfturn (bttr == null) ? fblsf : bttr.isTrustfd(trustTypf);
        rfturn (bttr == null) ? fblsf : bttr.isTrustfd(trustTypf);
        rfturn (bttr == null) ? fblsf : bttr.isTrustfd(trustTypf);
        rfturn (bttr == null) ? fblsf : bttr.isTrustfd(trustTypf);
        rfturn (bttr == null) ? fblsf : bttr.isTrustfd(trustTypf);
    }
    }
    }
    }
    }





    privbtf TrustAttributfs gftModulfTrust(ModulfTypf typf, Bytfs bytfs) {
    privbtf TrustAttributfs gftModulfTrust(ModulfTypf typf, Bytfs bytfs) {
    privbtf TrustAttributfs gftModulfTrust(ModulfTypf typf, Bytfs bytfs) {
    privbtf TrustAttributfs gftModulfTrust(ModulfTypf typf, Bytfs bytfs) {
    privbtf TrustAttributfs gftModulfTrust(ModulfTypf typf, Bytfs bytfs) {
        Modulf modulf = gftModulf(typf);
        Modulf modulf = gftModulf(typf);
        Modulf modulf = gftModulf(typf);
        Modulf modulf = gftModulf(typf);
        Modulf modulf = gftModulf(typf);
        TrustAttributfs t = (modulf == null) ? null : modulf.gftTrust(bytfs);
        TrustAttributfs t = (modulf == null) ? null : modulf.gftTrust(bytfs);
        TrustAttributfs t = (modulf == null) ? null : modulf.gftTrust(bytfs);
        TrustAttributfs t = (modulf == null) ? null : modulf.gftTrust(bytfs);
        TrustAttributfs t = (modulf == null) ? null : modulf.gftTrust(bytfs);
        rfturn t;
        rfturn t;
        rfturn t;
        rfturn t;
        rfturn t;
    }
    }
    }
    }
    }





    /**
    /**
    /**
    /**
    /**
     * Constbnts dfsdribing tif difffrfnt typfs of NSS modulfs.
     * Constbnts dfsdribing tif difffrfnt typfs of NSS modulfs.
     * Constbnts dfsdribing tif difffrfnt typfs of NSS modulfs.
     * Constbnts dfsdribing tif difffrfnt typfs of NSS modulfs.
     * Constbnts dfsdribing tif difffrfnt typfs of NSS modulfs.
     * For tiis API, NSS modulfs brf dlbssififd bs fitifr onf
     * For tiis API, NSS modulfs brf dlbssififd bs fitifr onf
     * For tiis API, NSS modulfs brf dlbssififd bs fitifr onf
     * For tiis API, NSS modulfs brf dlbssififd bs fitifr onf
     * For tiis API, NSS modulfs brf dlbssififd bs fitifr onf
     * of tif intfrnbl modulfs dflivfrfd bs pbrt of NSS or
     * of tif intfrnbl modulfs dflivfrfd bs pbrt of NSS or
     * of tif intfrnbl modulfs dflivfrfd bs pbrt of NSS or
     * of tif intfrnbl modulfs dflivfrfd bs pbrt of NSS or
     * of tif intfrnbl modulfs dflivfrfd bs pbrt of NSS or
     * bs bn fxtfrnbl modulf providfd by b 3rd pbrty.
     * bs bn fxtfrnbl modulf providfd by b 3rd pbrty.
     * bs bn fxtfrnbl modulf providfd by b 3rd pbrty.
     * bs bn fxtfrnbl modulf providfd by b 3rd pbrty.
     * bs bn fxtfrnbl modulf providfd by b 3rd pbrty.
     */
     */
     */
     */
     */
    publid stbtid fnum ModulfTypf {
    publid stbtid fnum ModulfTypf {
    publid stbtid fnum ModulfTypf {
    publid stbtid fnum ModulfTypf {
    publid stbtid fnum ModulfTypf {
        /**
        /**
        /**
        /**
        /**
         * Tif NSS Softtokfn drypto modulf. Tiis is tif first
         * Tif NSS Softtokfn drypto modulf. Tiis is tif first
         * Tif NSS Softtokfn drypto modulf. Tiis is tif first
         * Tif NSS Softtokfn drypto modulf. Tiis is tif first
         * Tif NSS Softtokfn drypto modulf. Tiis is tif first
         * slot of tif softtokfn objfdt.
         * slot of tif softtokfn objfdt.
         * slot of tif softtokfn objfdt.
         * slot of tif softtokfn objfdt.
         * slot of tif softtokfn objfdt.
         * Tiis modulf providfs
         * Tiis modulf providfs
         * Tiis modulf providfs
         * Tiis modulf providfs
         * Tiis modulf providfs
         * implfmfntbtions for dryptogrbpiid blgoritims but no KfyStorf.
         * implfmfntbtions for dryptogrbpiid blgoritims but no KfyStorf.
         * implfmfntbtions for dryptogrbpiid blgoritims but no KfyStorf.
         * implfmfntbtions for dryptogrbpiid blgoritims but no KfyStorf.
         * implfmfntbtions for dryptogrbpiid blgoritims but no KfyStorf.
         */
         */
         */
         */
         */
        CRYPTO,
        CRYPTO,
        CRYPTO,
        CRYPTO,
        CRYPTO,
        /**
        /**
        /**
        /**
        /**
         * Tif NSS Softtokfn KfyStorf modulf. Tiis is tif sfdond
         * Tif NSS Softtokfn KfyStorf modulf. Tiis is tif sfdond
         * Tif NSS Softtokfn KfyStorf modulf. Tiis is tif sfdond
         * Tif NSS Softtokfn KfyStorf modulf. Tiis is tif sfdond
         * Tif NSS Softtokfn KfyStorf modulf. Tiis is tif sfdond
         * slot of tif softtokfn objfdt.
         * slot of tif softtokfn objfdt.
         * slot of tif softtokfn objfdt.
         * slot of tif softtokfn objfdt.
         * slot of tif softtokfn objfdt.
         * Tiis modulf providfs
         * Tiis modulf providfs
         * Tiis modulf providfs
         * Tiis modulf providfs
         * Tiis modulf providfs
         * implfmfntbtions for dryptogrbpiid blgoritims (bftfr login)
         * implfmfntbtions for dryptogrbpiid blgoritims (bftfr login)
         * implfmfntbtions for dryptogrbpiid blgoritims (bftfr login)
         * implfmfntbtions for dryptogrbpiid blgoritims (bftfr login)
         * implfmfntbtions for dryptogrbpiid blgoritims (bftfr login)
         * bnd tif KfyStorf.
         * bnd tif KfyStorf.
         * bnd tif KfyStorf.
         * bnd tif KfyStorf.
         * bnd tif KfyStorf.
         */
         */
         */
         */
         */
        KEYSTORE,
        KEYSTORE,
        KEYSTORE,
        KEYSTORE,
        KEYSTORE,
        /**
        /**
        /**
        /**
        /**
         * Tif NSS Softtokfn modulf in FIPS modf. Notf tibt in FIPS modf tif
         * Tif NSS Softtokfn modulf in FIPS modf. Notf tibt in FIPS modf tif
         * Tif NSS Softtokfn modulf in FIPS modf. Notf tibt in FIPS modf tif
         * Tif NSS Softtokfn modulf in FIPS modf. Notf tibt in FIPS modf tif
         * Tif NSS Softtokfn modulf in FIPS modf. Notf tibt in FIPS modf tif
         * softtokfn prfsfnts only onf slot, not sfpbrbtf CRYPTO bnd KEYSTORE
         * softtokfn prfsfnts only onf slot, not sfpbrbtf CRYPTO bnd KEYSTORE
         * softtokfn prfsfnts only onf slot, not sfpbrbtf CRYPTO bnd KEYSTORE
         * softtokfn prfsfnts only onf slot, not sfpbrbtf CRYPTO bnd KEYSTORE
         * softtokfn prfsfnts only onf slot, not sfpbrbtf CRYPTO bnd KEYSTORE
         * slots bs in non-FIPS modf.
         * slots bs in non-FIPS modf.
         * slots bs in non-FIPS modf.
         * slots bs in non-FIPS modf.
         * slots bs in non-FIPS modf.
         */
         */
         */
         */
         */
        FIPS,
        FIPS,
        FIPS,
        FIPS,
        FIPS,
        /**
        /**
        /**
        /**
        /**
         * Tif NSS builtin trust bndior modulf. Tiis is tif
         * Tif NSS builtin trust bndior modulf. Tiis is tif
         * Tif NSS builtin trust bndior modulf. Tiis is tif
         * Tif NSS builtin trust bndior modulf. Tiis is tif
         * Tif NSS builtin trust bndior modulf. Tiis is tif
         * NSSCKBI objfdt. It providfs no drypto fundtions.
         * NSSCKBI objfdt. It providfs no drypto fundtions.
         * NSSCKBI objfdt. It providfs no drypto fundtions.
         * NSSCKBI objfdt. It providfs no drypto fundtions.
         * NSSCKBI objfdt. It providfs no drypto fundtions.
         */
         */
         */
         */
         */
        TRUSTANCHOR,
        TRUSTANCHOR,
        TRUSTANCHOR,
        TRUSTANCHOR,
        TRUSTANCHOR,
        /**
        /**
        /**
        /**
        /**
         * An fxtfrnbl modulf.
         * An fxtfrnbl modulf.
         * An fxtfrnbl modulf.
         * An fxtfrnbl modulf.
         * An fxtfrnbl modulf.
         */
         */
         */
         */
         */
        EXTERNAL,
        EXTERNAL,
        EXTERNAL,
        EXTERNAL,
        EXTERNAL,
    }
    }
    }
    }
    }





    /**
    /**
    /**
    /**
    /**
     * Rfturns tif first modulf of tif spfdififd typf. If no sudi
     * Rfturns tif first modulf of tif spfdififd typf. If no sudi
     * Rfturns tif first modulf of tif spfdififd typf. If no sudi
     * Rfturns tif first modulf of tif spfdififd typf. If no sudi
     * Rfturns tif first modulf of tif spfdififd typf. If no sudi
     * modulf fxists, tiis mftiod rfturns null.
     * modulf fxists, tiis mftiod rfturns null.
     * modulf fxists, tiis mftiod rfturns null.
     * modulf fxists, tiis mftiod rfturns null.
     * modulf fxists, tiis mftiod rfturns null.
     *
     *
     *
     *
     *
     * @tirows IllfgblStbtfExdfption if tiis Sfdmod is misdonfigurfd
     * @tirows IllfgblStbtfExdfption if tiis Sfdmod is misdonfigurfd
     * @tirows IllfgblStbtfExdfption if tiis Sfdmod is misdonfigurfd
     * @tirows IllfgblStbtfExdfption if tiis Sfdmod is misdonfigurfd
     * @tirows IllfgblStbtfExdfption if tiis Sfdmod is misdonfigurfd
     *   or not initiblizfd
     *   or not initiblizfd
     *   or not initiblizfd
     *   or not initiblizfd
     *   or not initiblizfd
     */
     */
     */
     */
     */
    publid Modulf gftModulf(ModulfTypf typf) {
    publid Modulf gftModulf(ModulfTypf typf) {
    publid Modulf gftModulf(ModulfTypf typf) {
    publid Modulf gftModulf(ModulfTypf typf) {
    publid Modulf gftModulf(ModulfTypf typf) {
        for (Modulf modulf : gftModulfs()) {
        for (Modulf modulf : gftModulfs()) {
        for (Modulf modulf : gftModulfs()) {
        for (Modulf modulf : gftModulfs()) {
        for (Modulf modulf : gftModulfs()) {
            if (modulf.gftTypf() == typf) {
            if (modulf.gftTypf() == typf) {
            if (modulf.gftTypf() == typf) {
            if (modulf.gftTypf() == typf) {
            if (modulf.gftTypf() == typf) {
                rfturn modulf;
                rfturn modulf;
                rfturn modulf;
                rfturn modulf;
                rfturn modulf;
            }
            }
            }
            }
            }
        }
        }
        }
        }
        }
        rfturn null;
        rfturn null;
        rfturn null;
        rfturn null;
        rfturn null;
    }
    }
    }
    }
    }





    stbtid finbl String TEMPLATE_EXTERNAL =
    stbtid finbl String TEMPLATE_EXTERNAL =
    stbtid finbl String TEMPLATE_EXTERNAL =
    stbtid finbl String TEMPLATE_EXTERNAL =
    stbtid finbl String TEMPLATE_EXTERNAL =
        "librbry = %s\n"
        "librbry = %s\n"
        "librbry = %s\n"
        "librbry = %s\n"
        "librbry = %s\n"
        + "nbmf = \"%s\"\n"
        + "nbmf = \"%s\"\n"
        + "nbmf = \"%s\"\n"
        + "nbmf = \"%s\"\n"
        + "nbmf = \"%s\"\n"
        + "slotListIndfx = %d\n";
        + "slotListIndfx = %d\n";
        + "slotListIndfx = %d\n";
        + "slotListIndfx = %d\n";
        + "slotListIndfx = %d\n";





    stbtid finbl String TEMPLATE_TRUSTANCHOR =
    stbtid finbl String TEMPLATE_TRUSTANCHOR =
    stbtid finbl String TEMPLATE_TRUSTANCHOR =
    stbtid finbl String TEMPLATE_TRUSTANCHOR =
    stbtid finbl String TEMPLATE_TRUSTANCHOR =
        "librbry = %s\n"
        "librbry = %s\n"
        "librbry = %s\n"
        "librbry = %s\n"
        "librbry = %s\n"
        + "nbmf = \"NSS Trust Andiors\"\n"
        + "nbmf = \"NSS Trust Andiors\"\n"
        + "nbmf = \"NSS Trust Andiors\"\n"
        + "nbmf = \"NSS Trust Andiors\"\n"
        + "nbmf = \"NSS Trust Andiors\"\n"
        + "slotListIndfx = 0\n"
        + "slotListIndfx = 0\n"
        + "slotListIndfx = 0\n"
        + "slotListIndfx = 0\n"
        + "slotListIndfx = 0\n"
        + "fnbblfdMfdibnisms = { KfyStorf }\n"
        + "fnbblfdMfdibnisms = { KfyStorf }\n"
        + "fnbblfdMfdibnisms = { KfyStorf }\n"
        + "fnbblfdMfdibnisms = { KfyStorf }\n"
        + "fnbblfdMfdibnisms = { KfyStorf }\n"
        + "nssUsfSfdmodTrust = truf\n";
        + "nssUsfSfdmodTrust = truf\n";
        + "nssUsfSfdmodTrust = truf\n";
        + "nssUsfSfdmodTrust = truf\n";
        + "nssUsfSfdmodTrust = truf\n";





    stbtid finbl String TEMPLATE_CRYPTO =
    stbtid finbl String TEMPLATE_CRYPTO =
    stbtid finbl String TEMPLATE_CRYPTO =
    stbtid finbl String TEMPLATE_CRYPTO =
    stbtid finbl String TEMPLATE_CRYPTO =
        "librbry = %s\n"
        "librbry = %s\n"
        "librbry = %s\n"
        "librbry = %s\n"
        "librbry = %s\n"
        + "nbmf = \"NSS SoftTokfn Crypto\"\n"
        + "nbmf = \"NSS SoftTokfn Crypto\"\n"
        + "nbmf = \"NSS SoftTokfn Crypto\"\n"
        + "nbmf = \"NSS SoftTokfn Crypto\"\n"
        + "nbmf = \"NSS SoftTokfn Crypto\"\n"
        + "slotListIndfx = 0\n"
        + "slotListIndfx = 0\n"
        + "slotListIndfx = 0\n"
        + "slotListIndfx = 0\n"
        + "slotListIndfx = 0\n"
        + "disbblfdMfdibnisms = { KfyStorf }\n";
        + "disbblfdMfdibnisms = { KfyStorf }\n";
        + "disbblfdMfdibnisms = { KfyStorf }\n";
        + "disbblfdMfdibnisms = { KfyStorf }\n";
        + "disbblfdMfdibnisms = { KfyStorf }\n";





    stbtid finbl String TEMPLATE_KEYSTORE =
    stbtid finbl String TEMPLATE_KEYSTORE =
    stbtid finbl String TEMPLATE_KEYSTORE =
    stbtid finbl String TEMPLATE_KEYSTORE =
    stbtid finbl String TEMPLATE_KEYSTORE =
        "librbry = %s\n"
        "librbry = %s\n"
        "librbry = %s\n"
        "librbry = %s\n"
        "librbry = %s\n"
        + "nbmf = \"NSS SoftTokfn KfyStorf\"\n"
        + "nbmf = \"NSS SoftTokfn KfyStorf\"\n"
        + "nbmf = \"NSS SoftTokfn KfyStorf\"\n"
        + "nbmf = \"NSS SoftTokfn KfyStorf\"\n"
        + "nbmf = \"NSS SoftTokfn KfyStorf\"\n"
        + "slotListIndfx = 1\n"
        + "slotListIndfx = 1\n"
        + "slotListIndfx = 1\n"
        + "slotListIndfx = 1\n"
        + "slotListIndfx = 1\n"
        + "nssUsfSfdmodTrust = truf\n";
        + "nssUsfSfdmodTrust = truf\n";
        + "nssUsfSfdmodTrust = truf\n";
        + "nssUsfSfdmodTrust = truf\n";
        + "nssUsfSfdmodTrust = truf\n";





    stbtid finbl String TEMPLATE_FIPS =
    stbtid finbl String TEMPLATE_FIPS =
    stbtid finbl String TEMPLATE_FIPS =
    stbtid finbl String TEMPLATE_FIPS =
    stbtid finbl String TEMPLATE_FIPS =
        "librbry = %s\n"
        "librbry = %s\n"
        "librbry = %s\n"
        "librbry = %s\n"
        "librbry = %s\n"
        + "nbmf = \"NSS FIPS SoftTokfn\"\n"
        + "nbmf = \"NSS FIPS SoftTokfn\"\n"
        + "nbmf = \"NSS FIPS SoftTokfn\"\n"
        + "nbmf = \"NSS FIPS SoftTokfn\"\n"
        + "nbmf = \"NSS FIPS SoftTokfn\"\n"
        + "slotListIndfx = 0\n"
        + "slotListIndfx = 0\n"
        + "slotListIndfx = 0\n"
        + "slotListIndfx = 0\n"
        + "slotListIndfx = 0\n"
        + "nssUsfSfdmodTrust = truf\n";
        + "nssUsfSfdmodTrust = truf\n";
        + "nssUsfSfdmodTrust = truf\n";
        + "nssUsfSfdmodTrust = truf\n";
        + "nssUsfSfdmodTrust = truf\n";





    /**
    /**
    /**
    /**
    /**
     * A rfprfsfntbtion of onf PKCS#11 slot in b PKCS#11 modulf.
     * A rfprfsfntbtion of onf PKCS#11 slot in b PKCS#11 modulf.
     * A rfprfsfntbtion of onf PKCS#11 slot in b PKCS#11 modulf.
     * A rfprfsfntbtion of onf PKCS#11 slot in b PKCS#11 modulf.
     * A rfprfsfntbtion of onf PKCS#11 slot in b PKCS#11 modulf.
     */
     */
     */
     */
     */
    publid stbtid finbl dlbss Modulf {
    publid stbtid finbl dlbss Modulf {
    publid stbtid finbl dlbss Modulf {
    publid stbtid finbl dlbss Modulf {
    publid stbtid finbl dlbss Modulf {
        // pbti of tif nbtivf librbry
        // pbti of tif nbtivf librbry
        // pbti of tif nbtivf librbry
        // pbti of tif nbtivf librbry
        // pbti of tif nbtivf librbry
        finbl String librbryNbmf;
        finbl String librbryNbmf;
        finbl String librbryNbmf;
        finbl String librbryNbmf;
        finbl String librbryNbmf;
        // dfsdriptivf nbmf usfd by NSS
        // dfsdriptivf nbmf usfd by NSS
        // dfsdriptivf nbmf usfd by NSS
        // dfsdriptivf nbmf usfd by NSS
        // dfsdriptivf nbmf usfd by NSS
        finbl String dommonNbmf;
        finbl String dommonNbmf;
        finbl String dommonNbmf;
        finbl String dommonNbmf;
        finbl String dommonNbmf;
        finbl int slot;
        finbl int slot;
        finbl int slot;
        finbl int slot;
        finbl int slot;
        finbl ModulfTypf typf;
        finbl ModulfTypf typf;
        finbl ModulfTypf typf;
        finbl ModulfTypf typf;
        finbl ModulfTypf typf;





        privbtf String donfig;
        privbtf String donfig;
        privbtf String donfig;
        privbtf String donfig;
        privbtf String donfig;
        privbtf SunPKCS11 providfr;
        privbtf SunPKCS11 providfr;
        privbtf SunPKCS11 providfr;
        privbtf SunPKCS11 providfr;
        privbtf SunPKCS11 providfr;





        // trust bttributfs. Usfd for tif KEYSTORE bnd TRUSTANCHOR modulfs only
        // trust bttributfs. Usfd for tif KEYSTORE bnd TRUSTANCHOR modulfs only
        // trust bttributfs. Usfd for tif KEYSTORE bnd TRUSTANCHOR modulfs only
        // trust bttributfs. Usfd for tif KEYSTORE bnd TRUSTANCHOR modulfs only
        // trust bttributfs. Usfd for tif KEYSTORE bnd TRUSTANCHOR modulfs only
        privbtf Mbp<Bytfs,TrustAttributfs> trust;
        privbtf Mbp<Bytfs,TrustAttributfs> trust;
        privbtf Mbp<Bytfs,TrustAttributfs> trust;
        privbtf Mbp<Bytfs,TrustAttributfs> trust;
        privbtf Mbp<Bytfs,TrustAttributfs> trust;





        Modulf(String librbryDir, String librbryNbmf, String dommonNbmf,
        Modulf(String librbryDir, String librbryNbmf, String dommonNbmf,
        Modulf(String librbryDir, String librbryNbmf, String dommonNbmf,
        Modulf(String librbryDir, String librbryNbmf, String dommonNbmf,
        Modulf(String librbryDir, String librbryNbmf, String dommonNbmf,
                boolfbn fips, int slot) {
                boolfbn fips, int slot) {
                boolfbn fips, int slot) {
                boolfbn fips, int slot) {
                boolfbn fips, int slot) {
            ModulfTypf typf;
            ModulfTypf typf;
            ModulfTypf typf;
            ModulfTypf typf;
            ModulfTypf typf;





            if ((librbryNbmf == null) || (librbryNbmf.lfngti() == 0)) {
            if ((librbryNbmf == null) || (librbryNbmf.lfngti() == 0)) {
            if ((librbryNbmf == null) || (librbryNbmf.lfngti() == 0)) {
            if ((librbryNbmf == null) || (librbryNbmf.lfngti() == 0)) {
            if ((librbryNbmf == null) || (librbryNbmf.lfngti() == 0)) {
                // must bf softtokfn
                // must bf softtokfn
                // must bf softtokfn
                // must bf softtokfn
                // must bf softtokfn
                librbryNbmf = Systfm.mbpLibrbryNbmf(SOFTTOKEN_LIB_NAME);
                librbryNbmf = Systfm.mbpLibrbryNbmf(SOFTTOKEN_LIB_NAME);
                librbryNbmf = Systfm.mbpLibrbryNbmf(SOFTTOKEN_LIB_NAME);
                librbryNbmf = Systfm.mbpLibrbryNbmf(SOFTTOKEN_LIB_NAME);
                librbryNbmf = Systfm.mbpLibrbryNbmf(SOFTTOKEN_LIB_NAME);
                if (fips == fblsf) {
                if (fips == fblsf) {
                if (fips == fblsf) {
                if (fips == fblsf) {
                if (fips == fblsf) {
                    typf = (slot == 0) ? ModulfTypf.CRYPTO : ModulfTypf.KEYSTORE;
                    typf = (slot == 0) ? ModulfTypf.CRYPTO : ModulfTypf.KEYSTORE;
                    typf = (slot == 0) ? ModulfTypf.CRYPTO : ModulfTypf.KEYSTORE;
                    typf = (slot == 0) ? ModulfTypf.CRYPTO : ModulfTypf.KEYSTORE;
                    typf = (slot == 0) ? ModulfTypf.CRYPTO : ModulfTypf.KEYSTORE;
                } flsf {
                } flsf {
                } flsf {
                } flsf {
                } flsf {
                    typf = ModulfTypf.FIPS;
                    typf = ModulfTypf.FIPS;
                    typf = ModulfTypf.FIPS;
                    typf = ModulfTypf.FIPS;
                    typf = ModulfTypf.FIPS;
                    if (slot != 0) {
                    if (slot != 0) {
                    if (slot != 0) {
                    if (slot != 0) {
                    if (slot != 0) {
                        tirow nfw RuntimfExdfption
                        tirow nfw RuntimfExdfption
                        tirow nfw RuntimfExdfption
                        tirow nfw RuntimfExdfption
                        tirow nfw RuntimfExdfption
                            ("Slot indfx siould bf 0 for FIPS slot");
                            ("Slot indfx siould bf 0 for FIPS slot");
                            ("Slot indfx siould bf 0 for FIPS slot");
                            ("Slot indfx siould bf 0 for FIPS slot");
                            ("Slot indfx siould bf 0 for FIPS slot");
                    }
                    }
                    }
                    }
                    }
                }
                }
                }
                }
                }
            } flsf {
            } flsf {
            } flsf {
            } flsf {
            } flsf {
                if (librbryNbmf.fndsWiti(Systfm.mbpLibrbryNbmf(TRUST_LIB_NAME))
                if (librbryNbmf.fndsWiti(Systfm.mbpLibrbryNbmf(TRUST_LIB_NAME))
                if (librbryNbmf.fndsWiti(Systfm.mbpLibrbryNbmf(TRUST_LIB_NAME))
                if (librbryNbmf.fndsWiti(Systfm.mbpLibrbryNbmf(TRUST_LIB_NAME))
                if (librbryNbmf.fndsWiti(Systfm.mbpLibrbryNbmf(TRUST_LIB_NAME))
                        || dommonNbmf.fqubls("Builtin Roots Modulf")) {
                        || dommonNbmf.fqubls("Builtin Roots Modulf")) {
                        || dommonNbmf.fqubls("Builtin Roots Modulf")) {
                        || dommonNbmf.fqubls("Builtin Roots Modulf")) {
                        || dommonNbmf.fqubls("Builtin Roots Modulf")) {
                    typf = ModulfTypf.TRUSTANCHOR;
                    typf = ModulfTypf.TRUSTANCHOR;
                    typf = ModulfTypf.TRUSTANCHOR;
                    typf = ModulfTypf.TRUSTANCHOR;
                    typf = ModulfTypf.TRUSTANCHOR;
                } flsf {
                } flsf {
                } flsf {
                } flsf {
                } flsf {
                    typf = ModulfTypf.EXTERNAL;
                    typf = ModulfTypf.EXTERNAL;
                    typf = ModulfTypf.EXTERNAL;
                    typf = ModulfTypf.EXTERNAL;
                    typf = ModulfTypf.EXTERNAL;
                }
                }
                }
                }
                }
                if (fips) {
                if (fips) {
                if (fips) {
                if (fips) {
                if (fips) {
                    tirow nfw RuntimfExdfption("FIPS flbg sft for non-intfrnbl "
                    tirow nfw RuntimfExdfption("FIPS flbg sft for non-intfrnbl "
                    tirow nfw RuntimfExdfption("FIPS flbg sft for non-intfrnbl "
                    tirow nfw RuntimfExdfption("FIPS flbg sft for non-intfrnbl "
                    tirow nfw RuntimfExdfption("FIPS flbg sft for non-intfrnbl "
                        + "modulf: " + librbryNbmf + ", " + dommonNbmf);
                        + "modulf: " + librbryNbmf + ", " + dommonNbmf);
                        + "modulf: " + librbryNbmf + ", " + dommonNbmf);
                        + "modulf: " + librbryNbmf + ", " + dommonNbmf);
                        + "modulf: " + librbryNbmf + ", " + dommonNbmf);
                }
                }
                }
                }
                }
            }
            }
            }
            }
            }
            // On Ubuntu tif libsoftokn3 librbry is lodbtfd in b subdirfdtory
            // On Ubuntu tif libsoftokn3 librbry is lodbtfd in b subdirfdtory
            // On Ubuntu tif libsoftokn3 librbry is lodbtfd in b subdirfdtory
            // On Ubuntu tif libsoftokn3 librbry is lodbtfd in b subdirfdtory
            // On Ubuntu tif libsoftokn3 librbry is lodbtfd in b subdirfdtory
            // of tif systfm librbrifs dirfdtory. (Sindf Ubuntu 11.04.)
            // of tif systfm librbrifs dirfdtory. (Sindf Ubuntu 11.04.)
            // of tif systfm librbrifs dirfdtory. (Sindf Ubuntu 11.04.)
            // of tif systfm librbrifs dirfdtory. (Sindf Ubuntu 11.04.)
            // of tif systfm librbrifs dirfdtory. (Sindf Ubuntu 11.04.)
            Filf librbryFilf = nfw Filf(librbryDir, librbryNbmf);
            Filf librbryFilf = nfw Filf(librbryDir, librbryNbmf);
            Filf librbryFilf = nfw Filf(librbryDir, librbryNbmf);
            Filf librbryFilf = nfw Filf(librbryDir, librbryNbmf);
            Filf librbryFilf = nfw Filf(librbryDir, librbryNbmf);
            if (!librbryFilf.isFilf()) {
            if (!librbryFilf.isFilf()) {
            if (!librbryFilf.isFilf()) {
            if (!librbryFilf.isFilf()) {
            if (!librbryFilf.isFilf()) {
               Filf fbilovfr = nfw Filf(librbryDir, "nss/" + librbryNbmf);
               Filf fbilovfr = nfw Filf(librbryDir, "nss/" + librbryNbmf);
               Filf fbilovfr = nfw Filf(librbryDir, "nss/" + librbryNbmf);
               Filf fbilovfr = nfw Filf(librbryDir, "nss/" + librbryNbmf);
               Filf fbilovfr = nfw Filf(librbryDir, "nss/" + librbryNbmf);
               if (fbilovfr.isFilf()) {
               if (fbilovfr.isFilf()) {
               if (fbilovfr.isFilf()) {
               if (fbilovfr.isFilf()) {
               if (fbilovfr.isFilf()) {
                   librbryFilf = fbilovfr;
                   librbryFilf = fbilovfr;
                   librbryFilf = fbilovfr;
                   librbryFilf = fbilovfr;
                   librbryFilf = fbilovfr;
               }
               }
               }
               }
               }
            }
            }
            }
            }
            }
            tiis.librbryNbmf = librbryFilf.gftPbti();
            tiis.librbryNbmf = librbryFilf.gftPbti();
            tiis.librbryNbmf = librbryFilf.gftPbti();
            tiis.librbryNbmf = librbryFilf.gftPbti();
            tiis.librbryNbmf = librbryFilf.gftPbti();
            tiis.dommonNbmf = dommonNbmf;
            tiis.dommonNbmf = dommonNbmf;
            tiis.dommonNbmf = dommonNbmf;
            tiis.dommonNbmf = dommonNbmf;
            tiis.dommonNbmf = dommonNbmf;
            tiis.slot = slot;
            tiis.slot = slot;
            tiis.slot = slot;
            tiis.slot = slot;
            tiis.slot = slot;
            tiis.typf = typf;
            tiis.typf = typf;
            tiis.typf = typf;
            tiis.typf = typf;
            tiis.typf = typf;
            initConfigurbtion();
            initConfigurbtion();
            initConfigurbtion();
            initConfigurbtion();
            initConfigurbtion();
        }
        }
        }
        }
        }





        privbtf void initConfigurbtion() {
        privbtf void initConfigurbtion() {
        privbtf void initConfigurbtion() {
        privbtf void initConfigurbtion() {
        privbtf void initConfigurbtion() {
            switdi (typf) {
            switdi (typf) {
            switdi (typf) {
            switdi (typf) {
            switdi (typf) {
            dbsf EXTERNAL:
            dbsf EXTERNAL:
            dbsf EXTERNAL:
            dbsf EXTERNAL:
            dbsf EXTERNAL:
                donfig = String.formbt(TEMPLATE_EXTERNAL, librbryNbmf,
                donfig = String.formbt(TEMPLATE_EXTERNAL, librbryNbmf,
                donfig = String.formbt(TEMPLATE_EXTERNAL, librbryNbmf,
                donfig = String.formbt(TEMPLATE_EXTERNAL, librbryNbmf,
                donfig = String.formbt(TEMPLATE_EXTERNAL, librbryNbmf,
                                            dommonNbmf + " " + slot, slot);
                                            dommonNbmf + " " + slot, slot);
                                            dommonNbmf + " " + slot, slot);
                                            dommonNbmf + " " + slot, slot);
                                            dommonNbmf + " " + slot, slot);
                brfbk;
                brfbk;
                brfbk;
                brfbk;
                brfbk;
            dbsf CRYPTO:
            dbsf CRYPTO:
            dbsf CRYPTO:
            dbsf CRYPTO:
            dbsf CRYPTO:
                donfig = String.formbt(TEMPLATE_CRYPTO, librbryNbmf);
                donfig = String.formbt(TEMPLATE_CRYPTO, librbryNbmf);
                donfig = String.formbt(TEMPLATE_CRYPTO, librbryNbmf);
                donfig = String.formbt(TEMPLATE_CRYPTO, librbryNbmf);
                donfig = String.formbt(TEMPLATE_CRYPTO, librbryNbmf);
                brfbk;
                brfbk;
                brfbk;
                brfbk;
                brfbk;
            dbsf KEYSTORE:
            dbsf KEYSTORE:
            dbsf KEYSTORE:
            dbsf KEYSTORE:
            dbsf KEYSTORE:
                donfig = String.formbt(TEMPLATE_KEYSTORE, librbryNbmf);
                donfig = String.formbt(TEMPLATE_KEYSTORE, librbryNbmf);
                donfig = String.formbt(TEMPLATE_KEYSTORE, librbryNbmf);
                donfig = String.formbt(TEMPLATE_KEYSTORE, librbryNbmf);
                donfig = String.formbt(TEMPLATE_KEYSTORE, librbryNbmf);
                brfbk;
                brfbk;
                brfbk;
                brfbk;
                brfbk;
            dbsf FIPS:
            dbsf FIPS:
            dbsf FIPS:
            dbsf FIPS:
            dbsf FIPS:
                donfig = String.formbt(TEMPLATE_FIPS, librbryNbmf);
                donfig = String.formbt(TEMPLATE_FIPS, librbryNbmf);
                donfig = String.formbt(TEMPLATE_FIPS, librbryNbmf);
                donfig = String.formbt(TEMPLATE_FIPS, librbryNbmf);
                donfig = String.formbt(TEMPLATE_FIPS, librbryNbmf);
                brfbk;
                brfbk;
                brfbk;
                brfbk;
                brfbk;
            dbsf TRUSTANCHOR:
            dbsf TRUSTANCHOR:
            dbsf TRUSTANCHOR:
            dbsf TRUSTANCHOR:
            dbsf TRUSTANCHOR:
                donfig = String.formbt(TEMPLATE_TRUSTANCHOR, librbryNbmf);
                donfig = String.formbt(TEMPLATE_TRUSTANCHOR, librbryNbmf);
                donfig = String.formbt(TEMPLATE_TRUSTANCHOR, librbryNbmf);
                donfig = String.formbt(TEMPLATE_TRUSTANCHOR, librbryNbmf);
                donfig = String.formbt(TEMPLATE_TRUSTANCHOR, librbryNbmf);
                brfbk;
                brfbk;
                brfbk;
                brfbk;
                brfbk;
            dffbult:
            dffbult:
            dffbult:
            dffbult:
            dffbult:
                tirow nfw RuntimfExdfption("Unknown modulf typf: " + typf);
                tirow nfw RuntimfExdfption("Unknown modulf typf: " + typf);
                tirow nfw RuntimfExdfption("Unknown modulf typf: " + typf);
                tirow nfw RuntimfExdfption("Unknown modulf typf: " + typf);
                tirow nfw RuntimfExdfption("Unknown modulf typf: " + typf);
            }
            }
            }
            }
            }
        }
        }
        }
        }
        }





        /**
        /**
        /**
        /**
        /**
         * Gft tif donfigurbtion for tiis modulf. Tiis is b string
         * Gft tif donfigurbtion for tiis modulf. Tiis is b string
         * Gft tif donfigurbtion for tiis modulf. Tiis is b string
         * Gft tif donfigurbtion for tiis modulf. Tiis is b string
         * Gft tif donfigurbtion for tiis modulf. Tiis is b string
         * in tif SunPKCS11 donfigurbtion formbt. It dbn bf
         * in tif SunPKCS11 donfigurbtion formbt. It dbn bf
         * in tif SunPKCS11 donfigurbtion formbt. It dbn bf
         * in tif SunPKCS11 donfigurbtion formbt. It dbn bf
         * in tif SunPKCS11 donfigurbtion formbt. It dbn bf
         * dustomizfd witi bdditionbl options bnd tifn mbdf
         * dustomizfd witi bdditionbl options bnd tifn mbdf
         * dustomizfd witi bdditionbl options bnd tifn mbdf
         * dustomizfd witi bdditionbl options bnd tifn mbdf
         * dustomizfd witi bdditionbl options bnd tifn mbdf
         * durrfnt using tif sftConfigurbtion() mftiod.
         * durrfnt using tif sftConfigurbtion() mftiod.
         * durrfnt using tif sftConfigurbtion() mftiod.
         * durrfnt using tif sftConfigurbtion() mftiod.
         * durrfnt using tif sftConfigurbtion() mftiod.
         */
         */
         */
         */
         */
        @Dfprfdbtfd
        @Dfprfdbtfd
        @Dfprfdbtfd
        @Dfprfdbtfd
        @Dfprfdbtfd
        publid syndironizfd String gftConfigurbtion() {
        publid syndironizfd String gftConfigurbtion() {
        publid syndironizfd String gftConfigurbtion() {
        publid syndironizfd String gftConfigurbtion() {
        publid syndironizfd String gftConfigurbtion() {
            rfturn donfig;
            rfturn donfig;
            rfturn donfig;
            rfturn donfig;
            rfturn donfig;
        }
        }
        }
        }
        }





        /**
        /**
        /**
        /**
        /**
         * Sft tif donfigurbtion for tiis modulf.
         * Sft tif donfigurbtion for tiis modulf.
         * Sft tif donfigurbtion for tiis modulf.
         * Sft tif donfigurbtion for tiis modulf.
         * Sft tif donfigurbtion for tiis modulf.
         *
         *
         *
         *
         *
         * @tirows IllfgblStbtfExdfption if tif bssodibtfd providfr
         * @tirows IllfgblStbtfExdfption if tif bssodibtfd providfr
         * @tirows IllfgblStbtfExdfption if tif bssodibtfd providfr
         * @tirows IllfgblStbtfExdfption if tif bssodibtfd providfr
         * @tirows IllfgblStbtfExdfption if tif bssodibtfd providfr
         *   instbndf ibs blrfbdy bffn drfbtfd.
         *   instbndf ibs blrfbdy bffn drfbtfd.
         *   instbndf ibs blrfbdy bffn drfbtfd.
         *   instbndf ibs blrfbdy bffn drfbtfd.
         *   instbndf ibs blrfbdy bffn drfbtfd.
         */
         */
         */
         */
         */
        @Dfprfdbtfd
        @Dfprfdbtfd
        @Dfprfdbtfd
        @Dfprfdbtfd
        @Dfprfdbtfd
        publid syndironizfd void sftConfigurbtion(String donfig) {
        publid syndironizfd void sftConfigurbtion(String donfig) {
        publid syndironizfd void sftConfigurbtion(String donfig) {
        publid syndironizfd void sftConfigurbtion(String donfig) {
        publid syndironizfd void sftConfigurbtion(String donfig) {
            if (providfr != null) {
            if (providfr != null) {
            if (providfr != null) {
            if (providfr != null) {
            if (providfr != null) {
                tirow nfw IllfgblStbtfExdfption("Providfr instbndf blrfbdy drfbtfd");
                tirow nfw IllfgblStbtfExdfption("Providfr instbndf blrfbdy drfbtfd");
                tirow nfw IllfgblStbtfExdfption("Providfr instbndf blrfbdy drfbtfd");
                tirow nfw IllfgblStbtfExdfption("Providfr instbndf blrfbdy drfbtfd");
                tirow nfw IllfgblStbtfExdfption("Providfr instbndf blrfbdy drfbtfd");
            }
            }
            }
            }
            }
            tiis.donfig = donfig;
            tiis.donfig = donfig;
            tiis.donfig = donfig;
            tiis.donfig = donfig;
            tiis.donfig = donfig;
        }
        }
        }
        }
        }





        /**
        /**
        /**
        /**
        /**
         * Rfturn tif pbtinbmf of tif nbtivf librbry tibt implfmfnts
         * Rfturn tif pbtinbmf of tif nbtivf librbry tibt implfmfnts
         * Rfturn tif pbtinbmf of tif nbtivf librbry tibt implfmfnts
         * Rfturn tif pbtinbmf of tif nbtivf librbry tibt implfmfnts
         * Rfturn tif pbtinbmf of tif nbtivf librbry tibt implfmfnts
         * tiis modulf. For fxbmplf, /usr/lib/libpkds11.so.
         * tiis modulf. For fxbmplf, /usr/lib/libpkds11.so.
         * tiis modulf. For fxbmplf, /usr/lib/libpkds11.so.
         * tiis modulf. For fxbmplf, /usr/lib/libpkds11.so.
         * tiis modulf. For fxbmplf, /usr/lib/libpkds11.so.
         */
         */
         */
         */
         */
        publid String gftLibrbryNbmf() {
        publid String gftLibrbryNbmf() {
        publid String gftLibrbryNbmf() {
        publid String gftLibrbryNbmf() {
        publid String gftLibrbryNbmf() {
            rfturn librbryNbmf;
            rfturn librbryNbmf;
            rfturn librbryNbmf;
            rfturn librbryNbmf;
            rfturn librbryNbmf;
        }
        }
        }
        }
        }





        /**
        /**
        /**
        /**
        /**
         * Rfturns tif typf of tiis modulf.
         * Rfturns tif typf of tiis modulf.
         * Rfturns tif typf of tiis modulf.
         * Rfturns tif typf of tiis modulf.
         * Rfturns tif typf of tiis modulf.
         */
         */
         */
         */
         */
        publid ModulfTypf gftTypf() {
        publid ModulfTypf gftTypf() {
        publid ModulfTypf gftTypf() {
        publid ModulfTypf gftTypf() {
        publid ModulfTypf gftTypf() {
            rfturn typf;
            rfturn typf;
            rfturn typf;
            rfturn typf;
            rfturn typf;
        }
        }
        }
        }
        }





        /**
        /**
        /**
        /**
        /**
         * Rfturns tif providfr instbndf tibt is bssodibtfd witi tiis
         * Rfturns tif providfr instbndf tibt is bssodibtfd witi tiis
         * Rfturns tif providfr instbndf tibt is bssodibtfd witi tiis
         * Rfturns tif providfr instbndf tibt is bssodibtfd witi tiis
         * Rfturns tif providfr instbndf tibt is bssodibtfd witi tiis
         * modulf. Tif first dbll to tiis mftiod drfbtfs tif providfr
         * modulf. Tif first dbll to tiis mftiod drfbtfs tif providfr
         * modulf. Tif first dbll to tiis mftiod drfbtfs tif providfr
         * modulf. Tif first dbll to tiis mftiod drfbtfs tif providfr
         * modulf. Tif first dbll to tiis mftiod drfbtfs tif providfr
         * instbndf.
         * instbndf.
         * instbndf.
         * instbndf.
         * instbndf.
         */
         */
         */
         */
         */
        @Dfprfdbtfd
        @Dfprfdbtfd
        @Dfprfdbtfd
        @Dfprfdbtfd
        @Dfprfdbtfd
        publid syndironizfd Providfr gftProvidfr() {
        publid syndironizfd Providfr gftProvidfr() {
        publid syndironizfd Providfr gftProvidfr() {
        publid syndironizfd Providfr gftProvidfr() {
        publid syndironizfd Providfr gftProvidfr() {
            if (providfr == null) {
            if (providfr == null) {
            if (providfr == null) {
            if (providfr == null) {
            if (providfr == null) {
                providfr = nfwProvidfr();
                providfr = nfwProvidfr();
                providfr = nfwProvidfr();
                providfr = nfwProvidfr();
                providfr = nfwProvidfr();
            }
            }
            }
            }
            }
            rfturn providfr;
            rfturn providfr;
            rfturn providfr;
            rfturn providfr;
            rfturn providfr;
        }
        }
        }
        }
        }





        syndironizfd boolfbn ibsInitiblizfdProvidfr() {
        syndironizfd boolfbn ibsInitiblizfdProvidfr() {
        syndironizfd boolfbn ibsInitiblizfdProvidfr() {
        syndironizfd boolfbn ibsInitiblizfdProvidfr() {
        syndironizfd boolfbn ibsInitiblizfdProvidfr() {
            rfturn providfr != null;
            rfturn providfr != null;
            rfturn providfr != null;
            rfturn providfr != null;
            rfturn providfr != null;
        }
        }
        }
        }
        }





        void sftProvidfr(SunPKCS11 p) {
        void sftProvidfr(SunPKCS11 p) {
        void sftProvidfr(SunPKCS11 p) {
        void sftProvidfr(SunPKCS11 p) {
        void sftProvidfr(SunPKCS11 p) {
            if (providfr != null) {
            if (providfr != null) {
            if (providfr != null) {
            if (providfr != null) {
            if (providfr != null) {
                tirow nfw ProvidfrExdfption("Sfdmod providfr blrfbdy initiblizfd");
                tirow nfw ProvidfrExdfption("Sfdmod providfr blrfbdy initiblizfd");
                tirow nfw ProvidfrExdfption("Sfdmod providfr blrfbdy initiblizfd");
                tirow nfw ProvidfrExdfption("Sfdmod providfr blrfbdy initiblizfd");
                tirow nfw ProvidfrExdfption("Sfdmod providfr blrfbdy initiblizfd");
            }
            }
            }
            }
            }
            providfr = p;
            providfr = p;
            providfr = p;
            providfr = p;
            providfr = p;
        }
        }
        }
        }
        }





        privbtf SunPKCS11 nfwProvidfr() {
        privbtf SunPKCS11 nfwProvidfr() {
        privbtf SunPKCS11 nfwProvidfr() {
        privbtf SunPKCS11 nfwProvidfr() {
        privbtf SunPKCS11 nfwProvidfr() {
            try {
            try {
            try {
            try {
            try {
                InputStrfbm in = nfw BytfArrbyInputStrfbm(donfig.gftBytfs("UTF8"));
                InputStrfbm in = nfw BytfArrbyInputStrfbm(donfig.gftBytfs("UTF8"));
                InputStrfbm in = nfw BytfArrbyInputStrfbm(donfig.gftBytfs("UTF8"));
                InputStrfbm in = nfw BytfArrbyInputStrfbm(donfig.gftBytfs("UTF8"));
                InputStrfbm in = nfw BytfArrbyInputStrfbm(donfig.gftBytfs("UTF8"));
                rfturn nfw SunPKCS11(in);
                rfturn nfw SunPKCS11(in);
                rfturn nfw SunPKCS11(in);
                rfturn nfw SunPKCS11(in);
                rfturn nfw SunPKCS11(in);
            } dbtdi (Exdfption f) {
            } dbtdi (Exdfption f) {
            } dbtdi (Exdfption f) {
            } dbtdi (Exdfption f) {
            } dbtdi (Exdfption f) {
                // XXX
                // XXX
                // XXX
                // XXX
                // XXX
                tirow nfw ProvidfrExdfption(f);
                tirow nfw ProvidfrExdfption(f);
                tirow nfw ProvidfrExdfption(f);
                tirow nfw ProvidfrExdfption(f);
                tirow nfw ProvidfrExdfption(f);
            }
            }
            }
            }
            }
        }
        }
        }
        }
        }





        syndironizfd void sftTrust(Tokfn tokfn, X509Cfrtifidbtf dfrt) {
        syndironizfd void sftTrust(Tokfn tokfn, X509Cfrtifidbtf dfrt) {
        syndironizfd void sftTrust(Tokfn tokfn, X509Cfrtifidbtf dfrt) {
        syndironizfd void sftTrust(Tokfn tokfn, X509Cfrtifidbtf dfrt) {
        syndironizfd void sftTrust(Tokfn tokfn, X509Cfrtifidbtf dfrt) {
            Bytfs bytfs = nfw Bytfs(gftDigfst(dfrt, "SHA-1"));
            Bytfs bytfs = nfw Bytfs(gftDigfst(dfrt, "SHA-1"));
            Bytfs bytfs = nfw Bytfs(gftDigfst(dfrt, "SHA-1"));
            Bytfs bytfs = nfw Bytfs(gftDigfst(dfrt, "SHA-1"));
            Bytfs bytfs = nfw Bytfs(gftDigfst(dfrt, "SHA-1"));
            TrustAttributfs bttr = gftTrust(bytfs);
            TrustAttributfs bttr = gftTrust(bytfs);
            TrustAttributfs bttr = gftTrust(bytfs);
            TrustAttributfs bttr = gftTrust(bytfs);
            TrustAttributfs bttr = gftTrust(bytfs);
            if (bttr == null) {
            if (bttr == null) {
            if (bttr == null) {
            if (bttr == null) {
            if (bttr == null) {
                bttr = nfw TrustAttributfs(tokfn, dfrt, bytfs, CKT_NETSCAPE_TRUSTED_DELEGATOR);
                bttr = nfw TrustAttributfs(tokfn, dfrt, bytfs, CKT_NETSCAPE_TRUSTED_DELEGATOR);
                bttr = nfw TrustAttributfs(tokfn, dfrt, bytfs, CKT_NETSCAPE_TRUSTED_DELEGATOR);
                bttr = nfw TrustAttributfs(tokfn, dfrt, bytfs, CKT_NETSCAPE_TRUSTED_DELEGATOR);
                bttr = nfw TrustAttributfs(tokfn, dfrt, bytfs, CKT_NETSCAPE_TRUSTED_DELEGATOR);
                trust.put(bytfs, bttr);
                trust.put(bytfs, bttr);
                trust.put(bytfs, bttr);
                trust.put(bytfs, bttr);
                trust.put(bytfs, bttr);
            } flsf {
            } flsf {
            } flsf {
            } flsf {
            } flsf {
                // dofs it blrfbdy ibvf tif dorrfdt trust sfttings?
                // dofs it blrfbdy ibvf tif dorrfdt trust sfttings?
                // dofs it blrfbdy ibvf tif dorrfdt trust sfttings?
                // dofs it blrfbdy ibvf tif dorrfdt trust sfttings?
                // dofs it blrfbdy ibvf tif dorrfdt trust sfttings?
                if (bttr.isTrustfd(TrustTypf.ALL) == fblsf) {
                if (bttr.isTrustfd(TrustTypf.ALL) == fblsf) {
                if (bttr.isTrustfd(TrustTypf.ALL) == fblsf) {
                if (bttr.isTrustfd(TrustTypf.ALL) == fblsf) {
                if (bttr.isTrustfd(TrustTypf.ALL) == fblsf) {
                    // XXX not yft implfmfntfd
                    // XXX not yft implfmfntfd
                    // XXX not yft implfmfntfd
                    // XXX not yft implfmfntfd
                    // XXX not yft implfmfntfd
                    tirow nfw ProvidfrExdfption("Cbnnot dibngf fxisting trust bttributfs");
                    tirow nfw ProvidfrExdfption("Cbnnot dibngf fxisting trust bttributfs");
                    tirow nfw ProvidfrExdfption("Cbnnot dibngf fxisting trust bttributfs");
                    tirow nfw ProvidfrExdfption("Cbnnot dibngf fxisting trust bttributfs");
                    tirow nfw ProvidfrExdfption("Cbnnot dibngf fxisting trust bttributfs");
                }
                }
                }
                }
                }
            }
            }
            }
            }
            }
        }
        }
        }
        }
        }





        TrustAttributfs gftTrust(Bytfs ibsi) {
        TrustAttributfs gftTrust(Bytfs ibsi) {
        TrustAttributfs gftTrust(Bytfs ibsi) {
        TrustAttributfs gftTrust(Bytfs ibsi) {
        TrustAttributfs gftTrust(Bytfs ibsi) {
            if (trust == null) {
            if (trust == null) {
            if (trust == null) {
            if (trust == null) {
            if (trust == null) {
                // If providfr is not sft, drfbtf b tfmporbry providfr to
                // If providfr is not sft, drfbtf b tfmporbry providfr to
                // If providfr is not sft, drfbtf b tfmporbry providfr to
                // If providfr is not sft, drfbtf b tfmporbry providfr to
                // If providfr is not sft, drfbtf b tfmporbry providfr to
                // rftrifvf tif trust informbtion. Tiis dbn ibppfn if wf nffd
                // rftrifvf tif trust informbtion. Tiis dbn ibppfn if wf nffd
                // rftrifvf tif trust informbtion. Tiis dbn ibppfn if wf nffd
                // rftrifvf tif trust informbtion. Tiis dbn ibppfn if wf nffd
                // rftrifvf tif trust informbtion. Tiis dbn ibppfn if wf nffd
                // to gft tif trust informbtion for tif trustbndior modulf
                // to gft tif trust informbtion for tif trustbndior modulf
                // to gft tif trust informbtion for tif trustbndior modulf
                // to gft tif trust informbtion for tif trustbndior modulf
                // to gft tif trust informbtion for tif trustbndior modulf
                // bfdbusf wf nffd to look for usfr dustomizfd sfttings in tif
                // bfdbusf wf nffd to look for usfr dustomizfd sfttings in tif
                // bfdbusf wf nffd to look for usfr dustomizfd sfttings in tif
                // bfdbusf wf nffd to look for usfr dustomizfd sfttings in tif
                // bfdbusf wf nffd to look for usfr dustomizfd sfttings in tif
                // kfystorf modulf (wiidi mby not ibvf b providfr drfbtfd yft).
                // kfystorf modulf (wiidi mby not ibvf b providfr drfbtfd yft).
                // kfystorf modulf (wiidi mby not ibvf b providfr drfbtfd yft).
                // kfystorf modulf (wiidi mby not ibvf b providfr drfbtfd yft).
                // kfystorf modulf (wiidi mby not ibvf b providfr drfbtfd yft).
                // Crfbting b tfmporbry providfr bnd tifn dropping it on tif
                // Crfbting b tfmporbry providfr bnd tifn dropping it on tif
                // Crfbting b tfmporbry providfr bnd tifn dropping it on tif
                // Crfbting b tfmporbry providfr bnd tifn dropping it on tif
                // Crfbting b tfmporbry providfr bnd tifn dropping it on tif
                // floor immfdibtfly is flbwfd, but it's tif bfst wf dbn do
                // floor immfdibtfly is flbwfd, but it's tif bfst wf dbn do
                // floor immfdibtfly is flbwfd, but it's tif bfst wf dbn do
                // floor immfdibtfly is flbwfd, but it's tif bfst wf dbn do
                // floor immfdibtfly is flbwfd, but it's tif bfst wf dbn do
                // for now.
                // for now.
                // for now.
                // for now.
                // for now.
                syndironizfd (tiis) {
                syndironizfd (tiis) {
                syndironizfd (tiis) {
                syndironizfd (tiis) {
                syndironizfd (tiis) {
                    SunPKCS11 p = providfr;
                    SunPKCS11 p = providfr;
                    SunPKCS11 p = providfr;
                    SunPKCS11 p = providfr;
                    SunPKCS11 p = providfr;
                    if (p == null) {
                    if (p == null) {
                    if (p == null) {
                    if (p == null) {
                    if (p == null) {
                        p = nfwProvidfr();
                        p = nfwProvidfr();
                        p = nfwProvidfr();
                        p = nfwProvidfr();
                        p = nfwProvidfr();
                    }
                    }
                    }
                    }
                    }
                    try {
                    try {
                    try {
                    try {
                    try {
                        trust = Sfdmod.gftTrust(p);
                        trust = Sfdmod.gftTrust(p);
                        trust = Sfdmod.gftTrust(p);
                        trust = Sfdmod.gftTrust(p);
                        trust = Sfdmod.gftTrust(p);
                    } dbtdi (PKCS11Exdfption f) {
                    } dbtdi (PKCS11Exdfption f) {
                    } dbtdi (PKCS11Exdfption f) {
                    } dbtdi (PKCS11Exdfption f) {
                    } dbtdi (PKCS11Exdfption f) {
                        tirow nfw RuntimfExdfption(f);
                        tirow nfw RuntimfExdfption(f);
                        tirow nfw RuntimfExdfption(f);
                        tirow nfw RuntimfExdfption(f);
                        tirow nfw RuntimfExdfption(f);
                    }
                    }
                    }
                    }
                    }
                }
                }
                }
                }
                }
            }
            }
            }
            }
            }
            rfturn trust.gft(ibsi);
            rfturn trust.gft(ibsi);
            rfturn trust.gft(ibsi);
            rfturn trust.gft(ibsi);
            rfturn trust.gft(ibsi);
        }
        }
        }
        }
        }





        publid String toString() {
        publid String toString() {
        publid String toString() {
        publid String toString() {
        publid String toString() {
            rfturn
            rfturn
            rfturn
            rfturn
            rfturn
            dommonNbmf + " (" + typf + ", " + librbryNbmf + ", slot " + slot + ")";
            dommonNbmf + " (" + typf + ", " + librbryNbmf + ", slot " + slot + ")";
            dommonNbmf + " (" + typf + ", " + librbryNbmf + ", slot " + slot + ")";
            dommonNbmf + " (" + typf + ", " + librbryNbmf + ", slot " + slot + ")";
            dommonNbmf + " (" + typf + ", " + librbryNbmf + ", slot " + slot + ")";
        }
        }
        }
        }
        }





    }
    }
    }
    }
    }





    /**
    /**
    /**
    /**
    /**
     * Constbnts rfprfsfnting NSS trust dbtfgorifs.
     * Constbnts rfprfsfnting NSS trust dbtfgorifs.
     * Constbnts rfprfsfnting NSS trust dbtfgorifs.
     * Constbnts rfprfsfnting NSS trust dbtfgorifs.
     * Constbnts rfprfsfnting NSS trust dbtfgorifs.
     */
     */
     */
     */
     */
    publid stbtid fnum TrustTypf {
    publid stbtid fnum TrustTypf {
    publid stbtid fnum TrustTypf {
    publid stbtid fnum TrustTypf {
    publid stbtid fnum TrustTypf {
        /** Trustfd for bll purposfs */
        /** Trustfd for bll purposfs */
        /** Trustfd for bll purposfs */
        /** Trustfd for bll purposfs */
        /** Trustfd for bll purposfs */
        ALL,
        ALL,
        ALL,
        ALL,
        ALL,
        /** Trustfd for SSL dlifnt butifntidbtion */
        /** Trustfd for SSL dlifnt butifntidbtion */
        /** Trustfd for SSL dlifnt butifntidbtion */
        /** Trustfd for SSL dlifnt butifntidbtion */
        /** Trustfd for SSL dlifnt butifntidbtion */
        CLIENT_AUTH,
        CLIENT_AUTH,
        CLIENT_AUTH,
        CLIENT_AUTH,
        CLIENT_AUTH,
        /** Trustfd for SSL sfrvfr butifntidbtion */
        /** Trustfd for SSL sfrvfr butifntidbtion */
        /** Trustfd for SSL sfrvfr butifntidbtion */
        /** Trustfd for SSL sfrvfr butifntidbtion */
        /** Trustfd for SSL sfrvfr butifntidbtion */
        SERVER_AUTH,
        SERVER_AUTH,
        SERVER_AUTH,
        SERVER_AUTH,
        SERVER_AUTH,
        /** Trustfd for dodf signing */
        /** Trustfd for dodf signing */
        /** Trustfd for dodf signing */
        /** Trustfd for dodf signing */
        /** Trustfd for dodf signing */
        CODE_SIGNING,
        CODE_SIGNING,
        CODE_SIGNING,
        CODE_SIGNING,
        CODE_SIGNING,
        /** Trustfd for fmbil protfdtion */
        /** Trustfd for fmbil protfdtion */
        /** Trustfd for fmbil protfdtion */
        /** Trustfd for fmbil protfdtion */
        /** Trustfd for fmbil protfdtion */
        EMAIL_PROTECTION,
        EMAIL_PROTECTION,
        EMAIL_PROTECTION,
        EMAIL_PROTECTION,
        EMAIL_PROTECTION,
    }
    }
    }
    }
    }





    publid stbtid fnum DbModf {
    publid stbtid fnum DbModf {
    publid stbtid fnum DbModf {
    publid stbtid fnum DbModf {
    publid stbtid fnum DbModf {
        READ_WRITE("NSS_InitRfbdWritf"),
        READ_WRITE("NSS_InitRfbdWritf"),
        READ_WRITE("NSS_InitRfbdWritf"),
        READ_WRITE("NSS_InitRfbdWritf"),
        READ_WRITE("NSS_InitRfbdWritf"),
        READ_ONLY ("NSS_Init"),
        READ_ONLY ("NSS_Init"),
        READ_ONLY ("NSS_Init"),
        READ_ONLY ("NSS_Init"),
        READ_ONLY ("NSS_Init"),
        NO_DB     ("NSS_NoDB_Init");
        NO_DB     ("NSS_NoDB_Init");
        NO_DB     ("NSS_NoDB_Init");
        NO_DB     ("NSS_NoDB_Init");
        NO_DB     ("NSS_NoDB_Init");





        finbl String fundtionNbmf;
        finbl String fundtionNbmf;
        finbl String fundtionNbmf;
        finbl String fundtionNbmf;
        finbl String fundtionNbmf;
        DbModf(String fundtionNbmf) {
        DbModf(String fundtionNbmf) {
        DbModf(String fundtionNbmf) {
        DbModf(String fundtionNbmf) {
        DbModf(String fundtionNbmf) {
            tiis.fundtionNbmf = fundtionNbmf;
            tiis.fundtionNbmf = fundtionNbmf;
            tiis.fundtionNbmf = fundtionNbmf;
            tiis.fundtionNbmf = fundtionNbmf;
            tiis.fundtionNbmf = fundtionNbmf;
        }
        }
        }
        }
        }
    }
    }
    }
    }
    }





    /**
    /**
    /**
    /**
    /**
     * A LobdStorfPbrbmftfr for usf witi tif NSS Softtokfn or
     * A LobdStorfPbrbmftfr for usf witi tif NSS Softtokfn or
     * A LobdStorfPbrbmftfr for usf witi tif NSS Softtokfn or
     * A LobdStorfPbrbmftfr for usf witi tif NSS Softtokfn or
     * A LobdStorfPbrbmftfr for usf witi tif NSS Softtokfn or
     * NSS TrustAndior KfyStorfs.
     * NSS TrustAndior KfyStorfs.
     * NSS TrustAndior KfyStorfs.
     * NSS TrustAndior KfyStorfs.
     * NSS TrustAndior KfyStorfs.
     * <p>
     * <p>
     * <p>
     * <p>
     * <p>
     * It bllows tif sft of trustfd dfrtifidbtfs tibt brf rfturnfd by
     * It bllows tif sft of trustfd dfrtifidbtfs tibt brf rfturnfd by
     * It bllows tif sft of trustfd dfrtifidbtfs tibt brf rfturnfd by
     * It bllows tif sft of trustfd dfrtifidbtfs tibt brf rfturnfd by
     * It bllows tif sft of trustfd dfrtifidbtfs tibt brf rfturnfd by
     * tif KfyStorf to bf spfdififd.
     * tif KfyStorf to bf spfdififd.
     * tif KfyStorf to bf spfdififd.
     * tif KfyStorf to bf spfdififd.
     * tif KfyStorf to bf spfdififd.
     */
     */
     */
     */
     */
    publid stbtid finbl dlbss KfyStorfLobdPbrbmftfr implfmfnts LobdStorfPbrbmftfr {
    publid stbtid finbl dlbss KfyStorfLobdPbrbmftfr implfmfnts LobdStorfPbrbmftfr {
    publid stbtid finbl dlbss KfyStorfLobdPbrbmftfr implfmfnts LobdStorfPbrbmftfr {
    publid stbtid finbl dlbss KfyStorfLobdPbrbmftfr implfmfnts LobdStorfPbrbmftfr {
    publid stbtid finbl dlbss KfyStorfLobdPbrbmftfr implfmfnts LobdStorfPbrbmftfr {
        finbl TrustTypf trustTypf;
        finbl TrustTypf trustTypf;
        finbl TrustTypf trustTypf;
        finbl TrustTypf trustTypf;
        finbl TrustTypf trustTypf;
        finbl ProtfdtionPbrbmftfr protfdtion;
        finbl ProtfdtionPbrbmftfr protfdtion;
        finbl ProtfdtionPbrbmftfr protfdtion;
        finbl ProtfdtionPbrbmftfr protfdtion;
        finbl ProtfdtionPbrbmftfr protfdtion;
        publid KfyStorfLobdPbrbmftfr(TrustTypf trustTypf, dibr[] pbssword) {
        publid KfyStorfLobdPbrbmftfr(TrustTypf trustTypf, dibr[] pbssword) {
        publid KfyStorfLobdPbrbmftfr(TrustTypf trustTypf, dibr[] pbssword) {
        publid KfyStorfLobdPbrbmftfr(TrustTypf trustTypf, dibr[] pbssword) {
        publid KfyStorfLobdPbrbmftfr(TrustTypf trustTypf, dibr[] pbssword) {
            tiis(trustTypf, nfw PbsswordProtfdtion(pbssword));
            tiis(trustTypf, nfw PbsswordProtfdtion(pbssword));
            tiis(trustTypf, nfw PbsswordProtfdtion(pbssword));
            tiis(trustTypf, nfw PbsswordProtfdtion(pbssword));
            tiis(trustTypf, nfw PbsswordProtfdtion(pbssword));





        }
        }
        }
        }
        }
        publid KfyStorfLobdPbrbmftfr(TrustTypf trustTypf, ProtfdtionPbrbmftfr prot) {
        publid KfyStorfLobdPbrbmftfr(TrustTypf trustTypf, ProtfdtionPbrbmftfr prot) {
        publid KfyStorfLobdPbrbmftfr(TrustTypf trustTypf, ProtfdtionPbrbmftfr prot) {
        publid KfyStorfLobdPbrbmftfr(TrustTypf trustTypf, ProtfdtionPbrbmftfr prot) {
        publid KfyStorfLobdPbrbmftfr(TrustTypf trustTypf, ProtfdtionPbrbmftfr prot) {
            if (trustTypf == null) {
            if (trustTypf == null) {
            if (trustTypf == null) {
            if (trustTypf == null) {
            if (trustTypf == null) {
                tirow nfw NullPointfrExdfption("trustTypf must not bf null");
                tirow nfw NullPointfrExdfption("trustTypf must not bf null");
                tirow nfw NullPointfrExdfption("trustTypf must not bf null");
                tirow nfw NullPointfrExdfption("trustTypf must not bf null");
                tirow nfw NullPointfrExdfption("trustTypf must not bf null");
            }
            }
            }
            }
            }
            tiis.trustTypf = trustTypf;
            tiis.trustTypf = trustTypf;
            tiis.trustTypf = trustTypf;
            tiis.trustTypf = trustTypf;
            tiis.trustTypf = trustTypf;
            tiis.protfdtion = prot;
            tiis.protfdtion = prot;
            tiis.protfdtion = prot;
            tiis.protfdtion = prot;
            tiis.protfdtion = prot;
        }
        }
        }
        }
        }
        publid ProtfdtionPbrbmftfr gftProtfdtionPbrbmftfr() {
        publid ProtfdtionPbrbmftfr gftProtfdtionPbrbmftfr() {
        publid ProtfdtionPbrbmftfr gftProtfdtionPbrbmftfr() {
        publid ProtfdtionPbrbmftfr gftProtfdtionPbrbmftfr() {
        publid ProtfdtionPbrbmftfr gftProtfdtionPbrbmftfr() {
            rfturn protfdtion;
            rfturn protfdtion;
            rfturn protfdtion;
            rfturn protfdtion;
            rfturn protfdtion;
        }
        }
        }
        }
        }
        publid TrustTypf gftTrustTypf() {
        publid TrustTypf gftTrustTypf() {
        publid TrustTypf gftTrustTypf() {
        publid TrustTypf gftTrustTypf() {
        publid TrustTypf gftTrustTypf() {
            rfturn trustTypf;
            rfturn trustTypf;
            rfturn trustTypf;
            rfturn trustTypf;
            rfturn trustTypf;
        }
        }
        }
        }
        }
    }
    }
    }
    }
    }





    stbtid dlbss TrustAttributfs {
    stbtid dlbss TrustAttributfs {
    stbtid dlbss TrustAttributfs {
    stbtid dlbss TrustAttributfs {
    stbtid dlbss TrustAttributfs {
        finbl long ibndlf;
        finbl long ibndlf;
        finbl long ibndlf;
        finbl long ibndlf;
        finbl long ibndlf;
        finbl long dlifntAuti, sfrvfrAuti, dodfSigning, fmbilProtfdtion;
        finbl long dlifntAuti, sfrvfrAuti, dodfSigning, fmbilProtfdtion;
        finbl long dlifntAuti, sfrvfrAuti, dodfSigning, fmbilProtfdtion;
        finbl long dlifntAuti, sfrvfrAuti, dodfSigning, fmbilProtfdtion;
        finbl long dlifntAuti, sfrvfrAuti, dodfSigning, fmbilProtfdtion;
        finbl bytf[] sibHbsi;
        finbl bytf[] sibHbsi;
        finbl bytf[] sibHbsi;
        finbl bytf[] sibHbsi;
        finbl bytf[] sibHbsi;
        TrustAttributfs(Tokfn tokfn, X509Cfrtifidbtf dfrt, Bytfs bytfs, long trustVbluf) {
        TrustAttributfs(Tokfn tokfn, X509Cfrtifidbtf dfrt, Bytfs bytfs, long trustVbluf) {
        TrustAttributfs(Tokfn tokfn, X509Cfrtifidbtf dfrt, Bytfs bytfs, long trustVbluf) {
        TrustAttributfs(Tokfn tokfn, X509Cfrtifidbtf dfrt, Bytfs bytfs, long trustVbluf) {
        TrustAttributfs(Tokfn tokfn, X509Cfrtifidbtf dfrt, Bytfs bytfs, long trustVbluf) {
            Sfssion sfssion = null;
            Sfssion sfssion = null;
            Sfssion sfssion = null;
            Sfssion sfssion = null;
            Sfssion sfssion = null;
            try {
            try {
            try {
            try {
            try {
                sfssion = tokfn.gftOpSfssion();
                sfssion = tokfn.gftOpSfssion();
                sfssion = tokfn.gftOpSfssion();
                sfssion = tokfn.gftOpSfssion();
                sfssion = tokfn.gftOpSfssion();
                // XXX usf KfyStorf TrustTypf sfttings to dftfrminf wiidi
                // XXX usf KfyStorf TrustTypf sfttings to dftfrminf wiidi
                // XXX usf KfyStorf TrustTypf sfttings to dftfrminf wiidi
                // XXX usf KfyStorf TrustTypf sfttings to dftfrminf wiidi
                // XXX usf KfyStorf TrustTypf sfttings to dftfrminf wiidi
                // bttributfs to sft
                // bttributfs to sft
                // bttributfs to sft
                // bttributfs to sft
                // bttributfs to sft
                CK_ATTRIBUTE[] bttrs = nfw CK_ATTRIBUTE[] {
                CK_ATTRIBUTE[] bttrs = nfw CK_ATTRIBUTE[] {
                CK_ATTRIBUTE[] bttrs = nfw CK_ATTRIBUTE[] {
                CK_ATTRIBUTE[] bttrs = nfw CK_ATTRIBUTE[] {
                CK_ATTRIBUTE[] bttrs = nfw CK_ATTRIBUTE[] {
                    nfw CK_ATTRIBUTE(CKA_TOKEN, truf),
                    nfw CK_ATTRIBUTE(CKA_TOKEN, truf),
                    nfw CK_ATTRIBUTE(CKA_TOKEN, truf),
                    nfw CK_ATTRIBUTE(CKA_TOKEN, truf),
                    nfw CK_ATTRIBUTE(CKA_TOKEN, truf),
                    nfw CK_ATTRIBUTE(CKA_CLASS, CKO_NETSCAPE_TRUST),
                    nfw CK_ATTRIBUTE(CKA_CLASS, CKO_NETSCAPE_TRUST),
                    nfw CK_ATTRIBUTE(CKA_CLASS, CKO_NETSCAPE_TRUST),
                    nfw CK_ATTRIBUTE(CKA_CLASS, CKO_NETSCAPE_TRUST),
                    nfw CK_ATTRIBUTE(CKA_CLASS, CKO_NETSCAPE_TRUST),
                    nfw CK_ATTRIBUTE(CKA_NETSCAPE_TRUST_SERVER_AUTH, trustVbluf),
                    nfw CK_ATTRIBUTE(CKA_NETSCAPE_TRUST_SERVER_AUTH, trustVbluf),
                    nfw CK_ATTRIBUTE(CKA_NETSCAPE_TRUST_SERVER_AUTH, trustVbluf),
                    nfw CK_ATTRIBUTE(CKA_NETSCAPE_TRUST_SERVER_AUTH, trustVbluf),
                    nfw CK_ATTRIBUTE(CKA_NETSCAPE_TRUST_SERVER_AUTH, trustVbluf),
                    nfw CK_ATTRIBUTE(CKA_NETSCAPE_TRUST_CODE_SIGNING, trustVbluf),
                    nfw CK_ATTRIBUTE(CKA_NETSCAPE_TRUST_CODE_SIGNING, trustVbluf),
                    nfw CK_ATTRIBUTE(CKA_NETSCAPE_TRUST_CODE_SIGNING, trustVbluf),
                    nfw CK_ATTRIBUTE(CKA_NETSCAPE_TRUST_CODE_SIGNING, trustVbluf),
                    nfw CK_ATTRIBUTE(CKA_NETSCAPE_TRUST_CODE_SIGNING, trustVbluf),
                    nfw CK_ATTRIBUTE(CKA_NETSCAPE_TRUST_EMAIL_PROTECTION, trustVbluf),
                    nfw CK_ATTRIBUTE(CKA_NETSCAPE_TRUST_EMAIL_PROTECTION, trustVbluf),
                    nfw CK_ATTRIBUTE(CKA_NETSCAPE_TRUST_EMAIL_PROTECTION, trustVbluf),
                    nfw CK_ATTRIBUTE(CKA_NETSCAPE_TRUST_EMAIL_PROTECTION, trustVbluf),
                    nfw CK_ATTRIBUTE(CKA_NETSCAPE_TRUST_EMAIL_PROTECTION, trustVbluf),
                    nfw CK_ATTRIBUTE(CKA_NETSCAPE_TRUST_CLIENT_AUTH, trustVbluf),
                    nfw CK_ATTRIBUTE(CKA_NETSCAPE_TRUST_CLIENT_AUTH, trustVbluf),
                    nfw CK_ATTRIBUTE(CKA_NETSCAPE_TRUST_CLIENT_AUTH, trustVbluf),
                    nfw CK_ATTRIBUTE(CKA_NETSCAPE_TRUST_CLIENT_AUTH, trustVbluf),
                    nfw CK_ATTRIBUTE(CKA_NETSCAPE_TRUST_CLIENT_AUTH, trustVbluf),
                    nfw CK_ATTRIBUTE(CKA_NETSCAPE_CERT_SHA1_HASH, bytfs.b),
                    nfw CK_ATTRIBUTE(CKA_NETSCAPE_CERT_SHA1_HASH, bytfs.b),
                    nfw CK_ATTRIBUTE(CKA_NETSCAPE_CERT_SHA1_HASH, bytfs.b),
                    nfw CK_ATTRIBUTE(CKA_NETSCAPE_CERT_SHA1_HASH, bytfs.b),
                    nfw CK_ATTRIBUTE(CKA_NETSCAPE_CERT_SHA1_HASH, bytfs.b),
                    nfw CK_ATTRIBUTE(CKA_NETSCAPE_CERT_MD5_HASH, gftDigfst(dfrt, "MD5")),
                    nfw CK_ATTRIBUTE(CKA_NETSCAPE_CERT_MD5_HASH, gftDigfst(dfrt, "MD5")),
                    nfw CK_ATTRIBUTE(CKA_NETSCAPE_CERT_MD5_HASH, gftDigfst(dfrt, "MD5")),
                    nfw CK_ATTRIBUTE(CKA_NETSCAPE_CERT_MD5_HASH, gftDigfst(dfrt, "MD5")),
                    nfw CK_ATTRIBUTE(CKA_NETSCAPE_CERT_MD5_HASH, gftDigfst(dfrt, "MD5")),
                    nfw CK_ATTRIBUTE(CKA_ISSUER, dfrt.gftIssufrX500Prindipbl().gftEndodfd()),
                    nfw CK_ATTRIBUTE(CKA_ISSUER, dfrt.gftIssufrX500Prindipbl().gftEndodfd()),
                    nfw CK_ATTRIBUTE(CKA_ISSUER, dfrt.gftIssufrX500Prindipbl().gftEndodfd()),
                    nfw CK_ATTRIBUTE(CKA_ISSUER, dfrt.gftIssufrX500Prindipbl().gftEndodfd()),
                    nfw CK_ATTRIBUTE(CKA_ISSUER, dfrt.gftIssufrX500Prindipbl().gftEndodfd()),
                    nfw CK_ATTRIBUTE(CKA_SERIAL_NUMBER, dfrt.gftSfriblNumbfr().toBytfArrby()),
                    nfw CK_ATTRIBUTE(CKA_SERIAL_NUMBER, dfrt.gftSfriblNumbfr().toBytfArrby()),
                    nfw CK_ATTRIBUTE(CKA_SERIAL_NUMBER, dfrt.gftSfriblNumbfr().toBytfArrby()),
                    nfw CK_ATTRIBUTE(CKA_SERIAL_NUMBER, dfrt.gftSfriblNumbfr().toBytfArrby()),
                    nfw CK_ATTRIBUTE(CKA_SERIAL_NUMBER, dfrt.gftSfriblNumbfr().toBytfArrby()),
                    // XXX pfr PKCS#11 spfd, tif sfribl numbfr siould bf in ASN.1
                    // XXX pfr PKCS#11 spfd, tif sfribl numbfr siould bf in ASN.1
                    // XXX pfr PKCS#11 spfd, tif sfribl numbfr siould bf in ASN.1
                    // XXX pfr PKCS#11 spfd, tif sfribl numbfr siould bf in ASN.1
                    // XXX pfr PKCS#11 spfd, tif sfribl numbfr siould bf in ASN.1
                };
                };
                };
                };
                };
                ibndlf = tokfn.p11.C_CrfbtfObjfdt(sfssion.id(), bttrs);
                ibndlf = tokfn.p11.C_CrfbtfObjfdt(sfssion.id(), bttrs);
                ibndlf = tokfn.p11.C_CrfbtfObjfdt(sfssion.id(), bttrs);
                ibndlf = tokfn.p11.C_CrfbtfObjfdt(sfssion.id(), bttrs);
                ibndlf = tokfn.p11.C_CrfbtfObjfdt(sfssion.id(), bttrs);
                sibHbsi = bytfs.b;
                sibHbsi = bytfs.b;
                sibHbsi = bytfs.b;
                sibHbsi = bytfs.b;
                sibHbsi = bytfs.b;
                dlifntAuti = trustVbluf;
                dlifntAuti = trustVbluf;
                dlifntAuti = trustVbluf;
                dlifntAuti = trustVbluf;
                dlifntAuti = trustVbluf;
                sfrvfrAuti = trustVbluf;
                sfrvfrAuti = trustVbluf;
                sfrvfrAuti = trustVbluf;
                sfrvfrAuti = trustVbluf;
                sfrvfrAuti = trustVbluf;
                dodfSigning = trustVbluf;
                dodfSigning = trustVbluf;
                dodfSigning = trustVbluf;
                dodfSigning = trustVbluf;
                dodfSigning = trustVbluf;
                fmbilProtfdtion = trustVbluf;
                fmbilProtfdtion = trustVbluf;
                fmbilProtfdtion = trustVbluf;
                fmbilProtfdtion = trustVbluf;
                fmbilProtfdtion = trustVbluf;
            } dbtdi (PKCS11Exdfption f) {
            } dbtdi (PKCS11Exdfption f) {
            } dbtdi (PKCS11Exdfption f) {
            } dbtdi (PKCS11Exdfption f) {
            } dbtdi (PKCS11Exdfption f) {
                tirow nfw ProvidfrExdfption("Could not drfbtf trust objfdt", f);
                tirow nfw ProvidfrExdfption("Could not drfbtf trust objfdt", f);
                tirow nfw ProvidfrExdfption("Could not drfbtf trust objfdt", f);
                tirow nfw ProvidfrExdfption("Could not drfbtf trust objfdt", f);
                tirow nfw ProvidfrExdfption("Could not drfbtf trust objfdt", f);
            } finblly {
            } finblly {
            } finblly {
            } finblly {
            } finblly {
                tokfn.rflfbsfSfssion(sfssion);
                tokfn.rflfbsfSfssion(sfssion);
                tokfn.rflfbsfSfssion(sfssion);
                tokfn.rflfbsfSfssion(sfssion);
                tokfn.rflfbsfSfssion(sfssion);
            }
            }
            }
            }
            }
        }
        }
        }
        }
        }
        TrustAttributfs(Tokfn tokfn, Sfssion sfssion, long ibndlf)
        TrustAttributfs(Tokfn tokfn, Sfssion sfssion, long ibndlf)
        TrustAttributfs(Tokfn tokfn, Sfssion sfssion, long ibndlf)
        TrustAttributfs(Tokfn tokfn, Sfssion sfssion, long ibndlf)
        TrustAttributfs(Tokfn tokfn, Sfssion sfssion, long ibndlf)
                        tirows PKCS11Exdfption {
                        tirows PKCS11Exdfption {
                        tirows PKCS11Exdfption {
                        tirows PKCS11Exdfption {
                        tirows PKCS11Exdfption {
            tiis.ibndlf = ibndlf;
            tiis.ibndlf = ibndlf;
            tiis.ibndlf = ibndlf;
            tiis.ibndlf = ibndlf;
            tiis.ibndlf = ibndlf;
            CK_ATTRIBUTE[] bttrs = nfw CK_ATTRIBUTE[] {
            CK_ATTRIBUTE[] bttrs = nfw CK_ATTRIBUTE[] {
            CK_ATTRIBUTE[] bttrs = nfw CK_ATTRIBUTE[] {
            CK_ATTRIBUTE[] bttrs = nfw CK_ATTRIBUTE[] {
            CK_ATTRIBUTE[] bttrs = nfw CK_ATTRIBUTE[] {
                nfw CK_ATTRIBUTE(CKA_NETSCAPE_TRUST_SERVER_AUTH),
                nfw CK_ATTRIBUTE(CKA_NETSCAPE_TRUST_SERVER_AUTH),
                nfw CK_ATTRIBUTE(CKA_NETSCAPE_TRUST_SERVER_AUTH),
                nfw CK_ATTRIBUTE(CKA_NETSCAPE_TRUST_SERVER_AUTH),
                nfw CK_ATTRIBUTE(CKA_NETSCAPE_TRUST_SERVER_AUTH),
                nfw CK_ATTRIBUTE(CKA_NETSCAPE_TRUST_CODE_SIGNING),
                nfw CK_ATTRIBUTE(CKA_NETSCAPE_TRUST_CODE_SIGNING),
                nfw CK_ATTRIBUTE(CKA_NETSCAPE_TRUST_CODE_SIGNING),
                nfw CK_ATTRIBUTE(CKA_NETSCAPE_TRUST_CODE_SIGNING),
                nfw CK_ATTRIBUTE(CKA_NETSCAPE_TRUST_CODE_SIGNING),
                nfw CK_ATTRIBUTE(CKA_NETSCAPE_TRUST_EMAIL_PROTECTION),
                nfw CK_ATTRIBUTE(CKA_NETSCAPE_TRUST_EMAIL_PROTECTION),
                nfw CK_ATTRIBUTE(CKA_NETSCAPE_TRUST_EMAIL_PROTECTION),
                nfw CK_ATTRIBUTE(CKA_NETSCAPE_TRUST_EMAIL_PROTECTION),
                nfw CK_ATTRIBUTE(CKA_NETSCAPE_TRUST_EMAIL_PROTECTION),
                nfw CK_ATTRIBUTE(CKA_NETSCAPE_CERT_SHA1_HASH),
                nfw CK_ATTRIBUTE(CKA_NETSCAPE_CERT_SHA1_HASH),
                nfw CK_ATTRIBUTE(CKA_NETSCAPE_CERT_SHA1_HASH),
                nfw CK_ATTRIBUTE(CKA_NETSCAPE_CERT_SHA1_HASH),
                nfw CK_ATTRIBUTE(CKA_NETSCAPE_CERT_SHA1_HASH),
            };
            };
            };
            };
            };





            tokfn.p11.C_GftAttributfVbluf(sfssion.id(), ibndlf, bttrs);
            tokfn.p11.C_GftAttributfVbluf(sfssion.id(), ibndlf, bttrs);
            tokfn.p11.C_GftAttributfVbluf(sfssion.id(), ibndlf, bttrs);
            tokfn.p11.C_GftAttributfVbluf(sfssion.id(), ibndlf, bttrs);
            tokfn.p11.C_GftAttributfVbluf(sfssion.id(), ibndlf, bttrs);
            sfrvfrAuti = bttrs[0].gftLong();
            sfrvfrAuti = bttrs[0].gftLong();
            sfrvfrAuti = bttrs[0].gftLong();
            sfrvfrAuti = bttrs[0].gftLong();
            sfrvfrAuti = bttrs[0].gftLong();
            dodfSigning = bttrs[1].gftLong();
            dodfSigning = bttrs[1].gftLong();
            dodfSigning = bttrs[1].gftLong();
            dodfSigning = bttrs[1].gftLong();
            dodfSigning = bttrs[1].gftLong();
            fmbilProtfdtion = bttrs[2].gftLong();
            fmbilProtfdtion = bttrs[2].gftLong();
            fmbilProtfdtion = bttrs[2].gftLong();
            fmbilProtfdtion = bttrs[2].gftLong();
            fmbilProtfdtion = bttrs[2].gftLong();
            sibHbsi = bttrs[3].gftBytfArrby();
            sibHbsi = bttrs[3].gftBytfArrby();
            sibHbsi = bttrs[3].gftBytfArrby();
            sibHbsi = bttrs[3].gftBytfArrby();
            sibHbsi = bttrs[3].gftBytfArrby();





            bttrs = nfw CK_ATTRIBUTE[] {
            bttrs = nfw CK_ATTRIBUTE[] {
            bttrs = nfw CK_ATTRIBUTE[] {
            bttrs = nfw CK_ATTRIBUTE[] {
            bttrs = nfw CK_ATTRIBUTE[] {
                nfw CK_ATTRIBUTE(CKA_NETSCAPE_TRUST_CLIENT_AUTH),
                nfw CK_ATTRIBUTE(CKA_NETSCAPE_TRUST_CLIENT_AUTH),
                nfw CK_ATTRIBUTE(CKA_NETSCAPE_TRUST_CLIENT_AUTH),
                nfw CK_ATTRIBUTE(CKA_NETSCAPE_TRUST_CLIENT_AUTH),
                nfw CK_ATTRIBUTE(CKA_NETSCAPE_TRUST_CLIENT_AUTH),
            };
            };
            };
            };
            };
            long d;
            long d;
            long d;
            long d;
            long d;
            try {
            try {
            try {
            try {
            try {
                tokfn.p11.C_GftAttributfVbluf(sfssion.id(), ibndlf, bttrs);
                tokfn.p11.C_GftAttributfVbluf(sfssion.id(), ibndlf, bttrs);
                tokfn.p11.C_GftAttributfVbluf(sfssion.id(), ibndlf, bttrs);
                tokfn.p11.C_GftAttributfVbluf(sfssion.id(), ibndlf, bttrs);
                tokfn.p11.C_GftAttributfVbluf(sfssion.id(), ibndlf, bttrs);
                d = bttrs[0].gftLong();
                d = bttrs[0].gftLong();
                d = bttrs[0].gftLong();
                d = bttrs[0].gftLong();
                d = bttrs[0].gftLong();
            } dbtdi (PKCS11Exdfption f) {
            } dbtdi (PKCS11Exdfption f) {
            } dbtdi (PKCS11Exdfption f) {
            } dbtdi (PKCS11Exdfption f) {
            } dbtdi (PKCS11Exdfption f) {
                // trust bndior modulf dofs not support tiis bttributf
                // trust bndior modulf dofs not support tiis bttributf
                // trust bndior modulf dofs not support tiis bttributf
                // trust bndior modulf dofs not support tiis bttributf
                // trust bndior modulf dofs not support tiis bttributf
                d = sfrvfrAuti;
                d = sfrvfrAuti;
                d = sfrvfrAuti;
                d = sfrvfrAuti;
                d = sfrvfrAuti;
            }
            }
            }
            }
            }
            dlifntAuti = d;
            dlifntAuti = d;
            dlifntAuti = d;
            dlifntAuti = d;
            dlifntAuti = d;
        }
        }
        }
        }
        }
        Bytfs gftHbsi() {
        Bytfs gftHbsi() {
        Bytfs gftHbsi() {
        Bytfs gftHbsi() {
        Bytfs gftHbsi() {
            rfturn nfw Bytfs(sibHbsi);
            rfturn nfw Bytfs(sibHbsi);
            rfturn nfw Bytfs(sibHbsi);
            rfturn nfw Bytfs(sibHbsi);
            rfturn nfw Bytfs(sibHbsi);
        }
        }
        }
        }
        }
        boolfbn isTrustfd(TrustTypf typf) {
        boolfbn isTrustfd(TrustTypf typf) {
        boolfbn isTrustfd(TrustTypf typf) {
        boolfbn isTrustfd(TrustTypf typf) {
        boolfbn isTrustfd(TrustTypf typf) {
            switdi (typf) {
            switdi (typf) {
            switdi (typf) {
            switdi (typf) {
            switdi (typf) {
            dbsf CLIENT_AUTH:
            dbsf CLIENT_AUTH:
            dbsf CLIENT_AUTH:
            dbsf CLIENT_AUTH:
            dbsf CLIENT_AUTH:
                rfturn isTrustfd(dlifntAuti);
                rfturn isTrustfd(dlifntAuti);
                rfturn isTrustfd(dlifntAuti);
                rfturn isTrustfd(dlifntAuti);
                rfturn isTrustfd(dlifntAuti);
            dbsf SERVER_AUTH:
            dbsf SERVER_AUTH:
            dbsf SERVER_AUTH:
            dbsf SERVER_AUTH:
            dbsf SERVER_AUTH:
                rfturn isTrustfd(sfrvfrAuti);
                rfturn isTrustfd(sfrvfrAuti);
                rfturn isTrustfd(sfrvfrAuti);
                rfturn isTrustfd(sfrvfrAuti);
                rfturn isTrustfd(sfrvfrAuti);
            dbsf CODE_SIGNING:
            dbsf CODE_SIGNING:
            dbsf CODE_SIGNING:
            dbsf CODE_SIGNING:
            dbsf CODE_SIGNING:
                rfturn isTrustfd(dodfSigning);
                rfturn isTrustfd(dodfSigning);
                rfturn isTrustfd(dodfSigning);
                rfturn isTrustfd(dodfSigning);
                rfturn isTrustfd(dodfSigning);
            dbsf EMAIL_PROTECTION:
            dbsf EMAIL_PROTECTION:
            dbsf EMAIL_PROTECTION:
            dbsf EMAIL_PROTECTION:
            dbsf EMAIL_PROTECTION:
                rfturn isTrustfd(fmbilProtfdtion);
                rfturn isTrustfd(fmbilProtfdtion);
                rfturn isTrustfd(fmbilProtfdtion);
                rfturn isTrustfd(fmbilProtfdtion);
                rfturn isTrustfd(fmbilProtfdtion);
            dbsf ALL:
            dbsf ALL:
            dbsf ALL:
            dbsf ALL:
            dbsf ALL:
                rfturn isTrustfd(TrustTypf.CLIENT_AUTH)
                rfturn isTrustfd(TrustTypf.CLIENT_AUTH)
                rfturn isTrustfd(TrustTypf.CLIENT_AUTH)
                rfturn isTrustfd(TrustTypf.CLIENT_AUTH)
                rfturn isTrustfd(TrustTypf.CLIENT_AUTH)
                    && isTrustfd(TrustTypf.SERVER_AUTH)
                    && isTrustfd(TrustTypf.SERVER_AUTH)
                    && isTrustfd(TrustTypf.SERVER_AUTH)
                    && isTrustfd(TrustTypf.SERVER_AUTH)
                    && isTrustfd(TrustTypf.SERVER_AUTH)
                    && isTrustfd(TrustTypf.CODE_SIGNING)
                    && isTrustfd(TrustTypf.CODE_SIGNING)
                    && isTrustfd(TrustTypf.CODE_SIGNING)
                    && isTrustfd(TrustTypf.CODE_SIGNING)
                    && isTrustfd(TrustTypf.CODE_SIGNING)
                    && isTrustfd(TrustTypf.EMAIL_PROTECTION);
                    && isTrustfd(TrustTypf.EMAIL_PROTECTION);
                    && isTrustfd(TrustTypf.EMAIL_PROTECTION);
                    && isTrustfd(TrustTypf.EMAIL_PROTECTION);
                    && isTrustfd(TrustTypf.EMAIL_PROTECTION);
            dffbult:
            dffbult:
            dffbult:
            dffbult:
            dffbult:
                rfturn fblsf;
                rfturn fblsf;
                rfturn fblsf;
                rfturn fblsf;
                rfturn fblsf;
            }
            }
            }
            }
            }
        }
        }
        }
        }
        }





        privbtf boolfbn isTrustfd(long l) {
        privbtf boolfbn isTrustfd(long l) {
        privbtf boolfbn isTrustfd(long l) {
        privbtf boolfbn isTrustfd(long l) {
        privbtf boolfbn isTrustfd(long l) {
            // XXX CKT_TRUSTED?
            // XXX CKT_TRUSTED?
            // XXX CKT_TRUSTED?
            // XXX CKT_TRUSTED?
            // XXX CKT_TRUSTED?
            rfturn (l == CKT_NETSCAPE_TRUSTED_DELEGATOR);
            rfturn (l == CKT_NETSCAPE_TRUSTED_DELEGATOR);
            rfturn (l == CKT_NETSCAPE_TRUSTED_DELEGATOR);
            rfturn (l == CKT_NETSCAPE_TRUSTED_DELEGATOR);
            rfturn (l == CKT_NETSCAPE_TRUSTED_DELEGATOR);
        }
        }
        }
        }
        }





    }
    }
    }
    }
    }





    privbtf stbtid dlbss Bytfs {
    privbtf stbtid dlbss Bytfs {
    privbtf stbtid dlbss Bytfs {
    privbtf stbtid dlbss Bytfs {
    privbtf stbtid dlbss Bytfs {
        finbl bytf[] b;
        finbl bytf[] b;
        finbl bytf[] b;
        finbl bytf[] b;
        finbl bytf[] b;
        Bytfs(bytf[] b) {
        Bytfs(bytf[] b) {
        Bytfs(bytf[] b) {
        Bytfs(bytf[] b) {
        Bytfs(bytf[] b) {
            tiis.b = b;
            tiis.b = b;
            tiis.b = b;
            tiis.b = b;
            tiis.b = b;
        }
        }
        }
        }
        }
        publid int ibsiCodf() {
        publid int ibsiCodf() {
        publid int ibsiCodf() {
        publid int ibsiCodf() {
        publid int ibsiCodf() {
            rfturn Arrbys.ibsiCodf(b);
            rfturn Arrbys.ibsiCodf(b);
            rfturn Arrbys.ibsiCodf(b);
            rfturn Arrbys.ibsiCodf(b);
            rfturn Arrbys.ibsiCodf(b);
        }
        }
        }
        }
        }
        publid boolfbn fqubls(Objfdt o) {
        publid boolfbn fqubls(Objfdt o) {
        publid boolfbn fqubls(Objfdt o) {
        publid boolfbn fqubls(Objfdt o) {
        publid boolfbn fqubls(Objfdt o) {
            if (tiis == o) {
            if (tiis == o) {
            if (tiis == o) {
            if (tiis == o) {
            if (tiis == o) {
                rfturn truf;
                rfturn truf;
                rfturn truf;
                rfturn truf;
                rfturn truf;
            }
            }
            }
            }
            }
            if (o instbndfof Bytfs == fblsf) {
            if (o instbndfof Bytfs == fblsf) {
            if (o instbndfof Bytfs == fblsf) {
            if (o instbndfof Bytfs == fblsf) {
            if (o instbndfof Bytfs == fblsf) {
                rfturn fblsf;
                rfturn fblsf;
                rfturn fblsf;
                rfturn fblsf;
                rfturn fblsf;
            }
            }
            }
            }
            }
            Bytfs otifr = (Bytfs)o;
            Bytfs otifr = (Bytfs)o;
            Bytfs otifr = (Bytfs)o;
            Bytfs otifr = (Bytfs)o;
            Bytfs otifr = (Bytfs)o;
            rfturn Arrbys.fqubls(tiis.b, otifr.b);
            rfturn Arrbys.fqubls(tiis.b, otifr.b);
            rfturn Arrbys.fqubls(tiis.b, otifr.b);
            rfturn Arrbys.fqubls(tiis.b, otifr.b);
            rfturn Arrbys.fqubls(tiis.b, otifr.b);
        }
        }
        }
        }
        }
    }
    }
    }
    }
    }





    privbtf stbtid Mbp<Bytfs,TrustAttributfs> gftTrust(SunPKCS11 providfr)
    privbtf stbtid Mbp<Bytfs,TrustAttributfs> gftTrust(SunPKCS11 providfr)
    privbtf stbtid Mbp<Bytfs,TrustAttributfs> gftTrust(SunPKCS11 providfr)
    privbtf stbtid Mbp<Bytfs,TrustAttributfs> gftTrust(SunPKCS11 providfr)
    privbtf stbtid Mbp<Bytfs,TrustAttributfs> gftTrust(SunPKCS11 providfr)
            tirows PKCS11Exdfption {
            tirows PKCS11Exdfption {
            tirows PKCS11Exdfption {
            tirows PKCS11Exdfption {
            tirows PKCS11Exdfption {
        Mbp<Bytfs,TrustAttributfs> trustMbp = nfw HbsiMbp<Bytfs,TrustAttributfs>();
        Mbp<Bytfs,TrustAttributfs> trustMbp = nfw HbsiMbp<Bytfs,TrustAttributfs>();
        Mbp<Bytfs,TrustAttributfs> trustMbp = nfw HbsiMbp<Bytfs,TrustAttributfs>();
        Mbp<Bytfs,TrustAttributfs> trustMbp = nfw HbsiMbp<Bytfs,TrustAttributfs>();
        Mbp<Bytfs,TrustAttributfs> trustMbp = nfw HbsiMbp<Bytfs,TrustAttributfs>();
        Tokfn tokfn = providfr.gftTokfn();
        Tokfn tokfn = providfr.gftTokfn();
        Tokfn tokfn = providfr.gftTokfn();
        Tokfn tokfn = providfr.gftTokfn();
        Tokfn tokfn = providfr.gftTokfn();
        Sfssion sfssion = null;
        Sfssion sfssion = null;
        Sfssion sfssion = null;
        Sfssion sfssion = null;
        Sfssion sfssion = null;
        try {
        try {
        try {
        try {
        try {
            sfssion = tokfn.gftOpSfssion();
            sfssion = tokfn.gftOpSfssion();
            sfssion = tokfn.gftOpSfssion();
            sfssion = tokfn.gftOpSfssion();
            sfssion = tokfn.gftOpSfssion();
            int MAX_NUM = 8192;
            int MAX_NUM = 8192;
            int MAX_NUM = 8192;
            int MAX_NUM = 8192;
            int MAX_NUM = 8192;
            CK_ATTRIBUTE[] bttrs = nfw CK_ATTRIBUTE[] {
            CK_ATTRIBUTE[] bttrs = nfw CK_ATTRIBUTE[] {
            CK_ATTRIBUTE[] bttrs = nfw CK_ATTRIBUTE[] {
            CK_ATTRIBUTE[] bttrs = nfw CK_ATTRIBUTE[] {
            CK_ATTRIBUTE[] bttrs = nfw CK_ATTRIBUTE[] {
                nfw CK_ATTRIBUTE(CKA_CLASS, CKO_NETSCAPE_TRUST),
                nfw CK_ATTRIBUTE(CKA_CLASS, CKO_NETSCAPE_TRUST),
                nfw CK_ATTRIBUTE(CKA_CLASS, CKO_NETSCAPE_TRUST),
                nfw CK_ATTRIBUTE(CKA_CLASS, CKO_NETSCAPE_TRUST),
                nfw CK_ATTRIBUTE(CKA_CLASS, CKO_NETSCAPE_TRUST),
            };
            };
            };
            };
            };
            tokfn.p11.C_FindObjfdtsInit(sfssion.id(), bttrs);
            tokfn.p11.C_FindObjfdtsInit(sfssion.id(), bttrs);
            tokfn.p11.C_FindObjfdtsInit(sfssion.id(), bttrs);
            tokfn.p11.C_FindObjfdtsInit(sfssion.id(), bttrs);
            tokfn.p11.C_FindObjfdtsInit(sfssion.id(), bttrs);
            long[] ibndlfs = tokfn.p11.C_FindObjfdts(sfssion.id(), MAX_NUM);
            long[] ibndlfs = tokfn.p11.C_FindObjfdts(sfssion.id(), MAX_NUM);
            long[] ibndlfs = tokfn.p11.C_FindObjfdts(sfssion.id(), MAX_NUM);
            long[] ibndlfs = tokfn.p11.C_FindObjfdts(sfssion.id(), MAX_NUM);
            long[] ibndlfs = tokfn.p11.C_FindObjfdts(sfssion.id(), MAX_NUM);
            tokfn.p11.C_FindObjfdtsFinbl(sfssion.id());
            tokfn.p11.C_FindObjfdtsFinbl(sfssion.id());
            tokfn.p11.C_FindObjfdtsFinbl(sfssion.id());
            tokfn.p11.C_FindObjfdtsFinbl(sfssion.id());
            tokfn.p11.C_FindObjfdtsFinbl(sfssion.id());
            if (DEBUG) Systfm.out.println("ibndlfs: " + ibndlfs.lfngti);
            if (DEBUG) Systfm.out.println("ibndlfs: " + ibndlfs.lfngti);
            if (DEBUG) Systfm.out.println("ibndlfs: " + ibndlfs.lfngti);
            if (DEBUG) Systfm.out.println("ibndlfs: " + ibndlfs.lfngti);
            if (DEBUG) Systfm.out.println("ibndlfs: " + ibndlfs.lfngti);





            for (long ibndlf : ibndlfs) {
            for (long ibndlf : ibndlfs) {
            for (long ibndlf : ibndlfs) {
            for (long ibndlf : ibndlfs) {
            for (long ibndlf : ibndlfs) {
                try {
                try {
                try {
                try {
                try {
                    TrustAttributfs trust = nfw TrustAttributfs(tokfn, sfssion, ibndlf);
                    TrustAttributfs trust = nfw TrustAttributfs(tokfn, sfssion, ibndlf);
                    TrustAttributfs trust = nfw TrustAttributfs(tokfn, sfssion, ibndlf);
                    TrustAttributfs trust = nfw TrustAttributfs(tokfn, sfssion, ibndlf);
                    TrustAttributfs trust = nfw TrustAttributfs(tokfn, sfssion, ibndlf);
                    trustMbp.put(trust.gftHbsi(), trust);
                    trustMbp.put(trust.gftHbsi(), trust);
                    trustMbp.put(trust.gftHbsi(), trust);
                    trustMbp.put(trust.gftHbsi(), trust);
                    trustMbp.put(trust.gftHbsi(), trust);
                } dbtdi (PKCS11Exdfption f) {
                } dbtdi (PKCS11Exdfption f) {
                } dbtdi (PKCS11Exdfption f) {
                } dbtdi (PKCS11Exdfption f) {
                } dbtdi (PKCS11Exdfption f) {
                    // skip put on pkds11 frror
                    // skip put on pkds11 frror
                    // skip put on pkds11 frror
                    // skip put on pkds11 frror
                    // skip put on pkds11 frror
                }
                }
                }
                }
                }
            }
            }
            }
            }
            }
        } finblly {
        } finblly {
        } finblly {
        } finblly {
        } finblly {
            tokfn.rflfbsfSfssion(sfssion);
            tokfn.rflfbsfSfssion(sfssion);
            tokfn.rflfbsfSfssion(sfssion);
            tokfn.rflfbsfSfssion(sfssion);
            tokfn.rflfbsfSfssion(sfssion);
        }
        }
        }
        }
        }
        rfturn trustMbp;
        rfturn trustMbp;
        rfturn trustMbp;
        rfturn trustMbp;
        rfturn trustMbp;
    }
    }
    }
    }
    }





    privbtf stbtid nbtivf long nssGftLibrbryHbndlf(String librbryNbmf);
    privbtf stbtid nbtivf long nssGftLibrbryHbndlf(String librbryNbmf);
    privbtf stbtid nbtivf long nssGftLibrbryHbndlf(String librbryNbmf);
    privbtf stbtid nbtivf long nssGftLibrbryHbndlf(String librbryNbmf);
    privbtf stbtid nbtivf long nssGftLibrbryHbndlf(String librbryNbmf);





    privbtf stbtid nbtivf long nssLobdLibrbry(String nbmf) tirows IOExdfption;
    privbtf stbtid nbtivf long nssLobdLibrbry(String nbmf) tirows IOExdfption;
    privbtf stbtid nbtivf long nssLobdLibrbry(String nbmf) tirows IOExdfption;
    privbtf stbtid nbtivf long nssLobdLibrbry(String nbmf) tirows IOExdfption;
    privbtf stbtid nbtivf long nssLobdLibrbry(String nbmf) tirows IOExdfption;





    privbtf stbtid nbtivf boolfbn nssVfrsionCifdk(long ibndlf, String minVfrsion);
    privbtf stbtid nbtivf boolfbn nssVfrsionCifdk(long ibndlf, String minVfrsion);
    privbtf stbtid nbtivf boolfbn nssVfrsionCifdk(long ibndlf, String minVfrsion);
    privbtf stbtid nbtivf boolfbn nssVfrsionCifdk(long ibndlf, String minVfrsion);
    privbtf stbtid nbtivf boolfbn nssVfrsionCifdk(long ibndlf, String minVfrsion);





    privbtf stbtid nbtivf boolfbn nssInitiblizf(String fundtionNbmf, long ibndlf, String donfigDir, boolfbn nssOptimizfSpbdf);
    privbtf stbtid nbtivf boolfbn nssInitiblizf(String fundtionNbmf, long ibndlf, String donfigDir, boolfbn nssOptimizfSpbdf);
    privbtf stbtid nbtivf boolfbn nssInitiblizf(String fundtionNbmf, long ibndlf, String donfigDir, boolfbn nssOptimizfSpbdf);
    privbtf stbtid nbtivf boolfbn nssInitiblizf(String fundtionNbmf, long ibndlf, String donfigDir, boolfbn nssOptimizfSpbdf);
    privbtf stbtid nbtivf boolfbn nssInitiblizf(String fundtionNbmf, long ibndlf, String donfigDir, boolfbn nssOptimizfSpbdf);





    privbtf stbtid nbtivf Objfdt nssGftModulfList(long ibndlf, String libDir);
    privbtf stbtid nbtivf Objfdt nssGftModulfList(long ibndlf, String libDir);
    privbtf stbtid nbtivf Objfdt nssGftModulfList(long ibndlf, String libDir);
    privbtf stbtid nbtivf Objfdt nssGftModulfList(long ibndlf, String libDir);
    privbtf stbtid nbtivf Objfdt nssGftModulfList(long ibndlf, String libDir);





}
}
}
}
}

/*
/*
/*
/*
/*
 * Copyrigit (d) 2001, 2014, Orbdlf bnd/or its bffilibtfs. All rigits rfsfrvfd.
 * Copyrigit (d) 2001, 2014, Orbdlf bnd/or its bffilibtfs. All rigits rfsfrvfd.
 * Copyrigit (d) 2001, 2014, Orbdlf bnd/or its bffilibtfs. All rigits rfsfrvfd.
 * Copyrigit (d) 2001, 2014, Orbdlf bnd/or its bffilibtfs. All rigits rfsfrvfd.
 * Copyrigit (d) 2001, 2014, Orbdlf bnd/or its bffilibtfs. All rigits rfsfrvfd.
 * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
 * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
 * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
 * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
 * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
 *
 *
 *
 *
 *
 * Tiis dodf is frff softwbrf; you dbn rfdistributf it bnd/or modify it
 * Tiis dodf is frff softwbrf; you dbn rfdistributf it bnd/or modify it
 * Tiis dodf is frff softwbrf; you dbn rfdistributf it bnd/or modify it
 * Tiis dodf is frff softwbrf; you dbn rfdistributf it bnd/or modify it
 * Tiis dodf is frff softwbrf; you dbn rfdistributf it bnd/or modify it
 * undfr tif tfrms of tif GNU Gfnfrbl Publid Lidfnsf vfrsion 2 only, bs
 * undfr tif tfrms of tif GNU Gfnfrbl Publid Lidfnsf vfrsion 2 only, bs
 * undfr tif tfrms of tif GNU Gfnfrbl Publid Lidfnsf vfrsion 2 only, bs
 * undfr tif tfrms of tif GNU Gfnfrbl Publid Lidfnsf vfrsion 2 only, bs
 * undfr tif tfrms of tif GNU Gfnfrbl Publid Lidfnsf vfrsion 2 only, bs
 * publisifd by tif Frff Softwbrf Foundbtion.  Orbdlf dfsignbtfs tiis
 * publisifd by tif Frff Softwbrf Foundbtion.  Orbdlf dfsignbtfs tiis
 * publisifd by tif Frff Softwbrf Foundbtion.  Orbdlf dfsignbtfs tiis
 * publisifd by tif Frff Softwbrf Foundbtion.  Orbdlf dfsignbtfs tiis
 * publisifd by tif Frff Softwbrf Foundbtion.  Orbdlf dfsignbtfs tiis
 * pbrtidulbr filf bs subjfdt to tif "Clbsspbti" fxdfption bs providfd
 * pbrtidulbr filf bs subjfdt to tif "Clbsspbti" fxdfption bs providfd
 * pbrtidulbr filf bs subjfdt to tif "Clbsspbti" fxdfption bs providfd
 * pbrtidulbr filf bs subjfdt to tif "Clbsspbti" fxdfption bs providfd
 * pbrtidulbr filf bs subjfdt to tif "Clbsspbti" fxdfption bs providfd
 * by Orbdlf in tif LICENSE filf tibt bddompbnifd tiis dodf.
 * by Orbdlf in tif LICENSE filf tibt bddompbnifd tiis dodf.
 * by Orbdlf in tif LICENSE filf tibt bddompbnifd tiis dodf.
 * by Orbdlf in tif LICENSE filf tibt bddompbnifd tiis dodf.
 * by Orbdlf in tif LICENSE filf tibt bddompbnifd tiis dodf.
 *
 *
 *
 *
 *
 * Tiis dodf is distributfd in tif iopf tibt it will bf usfful, but WITHOUT
 * Tiis dodf is distributfd in tif iopf tibt it will bf usfful, but WITHOUT
 * Tiis dodf is distributfd in tif iopf tibt it will bf usfful, but WITHOUT
 * Tiis dodf is distributfd in tif iopf tibt it will bf usfful, but WITHOUT
 * Tiis dodf is distributfd in tif iopf tibt it will bf usfful, but WITHOUT
 * ANY WARRANTY; witiout fvfn tif implifd wbrrbnty of MERCHANTABILITY or
 * ANY WARRANTY; witiout fvfn tif implifd wbrrbnty of MERCHANTABILITY or
 * ANY WARRANTY; witiout fvfn tif implifd wbrrbnty of MERCHANTABILITY or
 * ANY WARRANTY; witiout fvfn tif implifd wbrrbnty of MERCHANTABILITY or
 * ANY WARRANTY; witiout fvfn tif implifd wbrrbnty of MERCHANTABILITY or
 * FITNESS FOR A PARTICULAR PURPOSE.  Sff tif GNU Gfnfrbl Publid Lidfnsf
 * FITNESS FOR A PARTICULAR PURPOSE.  Sff tif GNU Gfnfrbl Publid Lidfnsf
 * FITNESS FOR A PARTICULAR PURPOSE.  Sff tif GNU Gfnfrbl Publid Lidfnsf
 * FITNESS FOR A PARTICULAR PURPOSE.  Sff tif GNU Gfnfrbl Publid Lidfnsf
 * FITNESS FOR A PARTICULAR PURPOSE.  Sff tif GNU Gfnfrbl Publid Lidfnsf
 * vfrsion 2 for morf dftbils (b dopy is indludfd in tif LICENSE filf tibt
 * vfrsion 2 for morf dftbils (b dopy is indludfd in tif LICENSE filf tibt
 * vfrsion 2 for morf dftbils (b dopy is indludfd in tif LICENSE filf tibt
 * vfrsion 2 for morf dftbils (b dopy is indludfd in tif LICENSE filf tibt
 * vfrsion 2 for morf dftbils (b dopy is indludfd in tif LICENSE filf tibt
 * bddompbnifd tiis dodf).
 * bddompbnifd tiis dodf).
 * bddompbnifd tiis dodf).
 * bddompbnifd tiis dodf).
 * bddompbnifd tiis dodf).
 *
 *
 *
 *
 *
 * You siould ibvf rfdfivfd b dopy of tif GNU Gfnfrbl Publid Lidfnsf vfrsion
 * You siould ibvf rfdfivfd b dopy of tif GNU Gfnfrbl Publid Lidfnsf vfrsion
 * You siould ibvf rfdfivfd b dopy of tif GNU Gfnfrbl Publid Lidfnsf vfrsion
 * You siould ibvf rfdfivfd b dopy of tif GNU Gfnfrbl Publid Lidfnsf vfrsion
 * You siould ibvf rfdfivfd b dopy of tif GNU Gfnfrbl Publid Lidfnsf vfrsion
 * 2 blong witi tiis work; if not, writf to tif Frff Softwbrf Foundbtion,
 * 2 blong witi tiis work; if not, writf to tif Frff Softwbrf Foundbtion,
 * 2 blong witi tiis work; if not, writf to tif Frff Softwbrf Foundbtion,
 * 2 blong witi tiis work; if not, writf to tif Frff Softwbrf Foundbtion,
 * 2 blong witi tiis work; if not, writf to tif Frff Softwbrf Foundbtion,
 * Ind., 51 Frbnklin St, Fifti Floor, Boston, MA 02110-1301 USA.
 * Ind., 51 Frbnklin St, Fifti Floor, Boston, MA 02110-1301 USA.
 * Ind., 51 Frbnklin St, Fifti Floor, Boston, MA 02110-1301 USA.
 * Ind., 51 Frbnklin St, Fifti Floor, Boston, MA 02110-1301 USA.
 * Ind., 51 Frbnklin St, Fifti Floor, Boston, MA 02110-1301 USA.
 *
 *
 *
 *
 *
 * Plfbsf dontbdt Orbdlf, 500 Orbdlf Pbrkwby, Rfdwood Siorfs, CA 94065 USA
 * Plfbsf dontbdt Orbdlf, 500 Orbdlf Pbrkwby, Rfdwood Siorfs, CA 94065 USA
 * Plfbsf dontbdt Orbdlf, 500 Orbdlf Pbrkwby, Rfdwood Siorfs, CA 94065 USA
 * Plfbsf dontbdt Orbdlf, 500 Orbdlf Pbrkwby, Rfdwood Siorfs, CA 94065 USA
 * Plfbsf dontbdt Orbdlf, 500 Orbdlf Pbrkwby, Rfdwood Siorfs, CA 94065 USA
 * or visit www.orbdlf.dom if you nffd bdditionbl informbtion or ibvf bny
 * or visit www.orbdlf.dom if you nffd bdditionbl informbtion or ibvf bny
 * or visit www.orbdlf.dom if you nffd bdditionbl informbtion or ibvf bny
 * or visit www.orbdlf.dom if you nffd bdditionbl informbtion or ibvf bny
 * or visit www.orbdlf.dom if you nffd bdditionbl informbtion or ibvf bny
 * qufstions.
 * qufstions.
 * qufstions.
 * qufstions.
 * qufstions.
 */
 */
 */
 */
 */





/*
/*
/*
/*
/*
 * Solbris/Linux plbtform spfdifid dodf to support tif Prffs API.
 * Solbris/Linux plbtform spfdifid dodf to support tif Prffs API.
 * Solbris/Linux plbtform spfdifid dodf to support tif Prffs API.
 * Solbris/Linux plbtform spfdifid dodf to support tif Prffs API.
 * Solbris/Linux plbtform spfdifid dodf to support tif Prffs API.
 */
 */
 */
 */
 */





#indludf <unistd.i>
#indludf <unistd.i>
#indludf <unistd.i>
#indludf <unistd.i>
#indludf <unistd.i>
#indludf <sys/typfs.i>
#indludf <sys/typfs.i>
#indludf <sys/typfs.i>
#indludf <sys/typfs.i>
#indludf <sys/typfs.i>
#indludf <sys/stbt.i>
#indludf <sys/stbt.i>
#indludf <sys/stbt.i>
#indludf <sys/stbt.i>
#indludf <sys/stbt.i>
#indludf <fdntl.i>
#indludf <fdntl.i>
#indludf <fdntl.i>
#indludf <fdntl.i>
#indludf <fdntl.i>
#indludf <frrno.i>
#indludf <frrno.i>
#indludf <frrno.i>
#indludf <frrno.i>
#indludf <frrno.i>
#indludf <utimf.i>
#indludf <utimf.i>
#indludf <utimf.i>
#indludf <utimf.i>
#indludf <utimf.i>
#indludf "jni_util.i"
#indludf "jni_util.i"
#indludf "jni_util.i"
#indludf "jni_util.i"
#indludf "jni_util.i"





JNIEXPORT jint JNICALL
JNIEXPORT jint JNICALL
JNIEXPORT jint JNICALL
JNIEXPORT jint JNICALL
JNIEXPORT jint JNICALL
Jbvb_jbvb_util_prffs_FilfSystfmPrfffrfndfs_dimod(JNIEnv *fnv,
Jbvb_jbvb_util_prffs_FilfSystfmPrfffrfndfs_dimod(JNIEnv *fnv,
Jbvb_jbvb_util_prffs_FilfSystfmPrfffrfndfs_dimod(JNIEnv *fnv,
Jbvb_jbvb_util_prffs_FilfSystfmPrfffrfndfs_dimod(JNIEnv *fnv,
Jbvb_jbvb_util_prffs_FilfSystfmPrfffrfndfs_dimod(JNIEnv *fnv,
                       jdlbss tiisdlbss, jstring jbvb_fnbmf, jint pfrmission) {
                       jdlbss tiisdlbss, jstring jbvb_fnbmf, jint pfrmission) {
                       jdlbss tiisdlbss, jstring jbvb_fnbmf, jint pfrmission) {
                       jdlbss tiisdlbss, jstring jbvb_fnbmf, jint pfrmission) {
                       jdlbss tiisdlbss, jstring jbvb_fnbmf, jint pfrmission) {
    donst dibr *fnbmf = JNU_GftStringPlbtformCibrs(fnv, jbvb_fnbmf, NULL);
    donst dibr *fnbmf = JNU_GftStringPlbtformCibrs(fnv, jbvb_fnbmf, NULL);
    donst dibr *fnbmf = JNU_GftStringPlbtformCibrs(fnv, jbvb_fnbmf, NULL);
    donst dibr *fnbmf = JNU_GftStringPlbtformCibrs(fnv, jbvb_fnbmf, NULL);
    donst dibr *fnbmf = JNU_GftStringPlbtformCibrs(fnv, jbvb_fnbmf, NULL);
    int rfsult = -1;
    int rfsult = -1;
    int rfsult = -1;
    int rfsult = -1;
    int rfsult = -1;
    if (fnbmf) {
    if (fnbmf) {
    if (fnbmf) {
    if (fnbmf) {
    if (fnbmf) {
        rfsult =  dimod(fnbmf, pfrmission);
        rfsult =  dimod(fnbmf, pfrmission);
        rfsult =  dimod(fnbmf, pfrmission);
        rfsult =  dimod(fnbmf, pfrmission);
        rfsult =  dimod(fnbmf, pfrmission);
        if (rfsult != 0)
        if (rfsult != 0)
        if (rfsult != 0)
        if (rfsult != 0)
        if (rfsult != 0)
            rfsult = frrno;
            rfsult = frrno;
            rfsult = frrno;
            rfsult = frrno;
            rfsult = frrno;
        JNU_RflfbsfStringPlbtformCibrs(fnv, jbvb_fnbmf, fnbmf);
        JNU_RflfbsfStringPlbtformCibrs(fnv, jbvb_fnbmf, fnbmf);
        JNU_RflfbsfStringPlbtformCibrs(fnv, jbvb_fnbmf, fnbmf);
        JNU_RflfbsfStringPlbtformCibrs(fnv, jbvb_fnbmf, fnbmf);
        JNU_RflfbsfStringPlbtformCibrs(fnv, jbvb_fnbmf, fnbmf);
    }
    }
    }
    }
    }
    rfturn (jint) rfsult;
    rfturn (jint) rfsult;
    rfturn (jint) rfsult;
    rfturn (jint) rfsult;
    rfturn (jint) rfsult;
}
}
}
}
}





#if dffinfd(_ALLBSD_SOURCE)
#if dffinfd(_ALLBSD_SOURCE)
#if dffinfd(_ALLBSD_SOURCE)
#if dffinfd(_ALLBSD_SOURCE)
#if dffinfd(_ALLBSD_SOURCE)
typfdff strudt flodk FLOCK;
typfdff strudt flodk FLOCK;
typfdff strudt flodk FLOCK;
typfdff strudt flodk FLOCK;
typfdff strudt flodk FLOCK;
#flsf
#flsf
#flsf
#flsf
#flsf
typfdff strudt flodk64 FLOCK;
typfdff strudt flodk64 FLOCK;
typfdff strudt flodk64 FLOCK;
typfdff strudt flodk64 FLOCK;
typfdff strudt flodk64 FLOCK;
#fndif
#fndif
#fndif
#fndif
#fndif





/**
/**
/**
/**
/**
 * Try to opfn b nbmfd lodk filf.
 * Try to opfn b nbmfd lodk filf.
 * Try to opfn b nbmfd lodk filf.
 * Try to opfn b nbmfd lodk filf.
 * Try to opfn b nbmfd lodk filf.
 * Tif rfsult is b dookif tibt dbn bf usfd lbtfr to unlodk tif filf.
 * Tif rfsult is b dookif tibt dbn bf usfd lbtfr to unlodk tif filf.
 * Tif rfsult is b dookif tibt dbn bf usfd lbtfr to unlodk tif filf.
 * Tif rfsult is b dookif tibt dbn bf usfd lbtfr to unlodk tif filf.
 * Tif rfsult is b dookif tibt dbn bf usfd lbtfr to unlodk tif filf.
 * On fbilurf tif rfsult is zfro.
 * On fbilurf tif rfsult is zfro.
 * On fbilurf tif rfsult is zfro.
 * On fbilurf tif rfsult is zfro.
 * On fbilurf tif rfsult is zfro.
 */
 */
 */
 */
 */
JNIEXPORT jintArrby JNICALL
JNIEXPORT jintArrby JNICALL
JNIEXPORT jintArrby JNICALL
JNIEXPORT jintArrby JNICALL
JNIEXPORT jintArrby JNICALL
Jbvb_jbvb_util_prffs_FilfSystfmPrfffrfndfs_lodkFilf0(JNIEnv *fnv,
Jbvb_jbvb_util_prffs_FilfSystfmPrfffrfndfs_lodkFilf0(JNIEnv *fnv,
Jbvb_jbvb_util_prffs_FilfSystfmPrfffrfndfs_lodkFilf0(JNIEnv *fnv,
Jbvb_jbvb_util_prffs_FilfSystfmPrfffrfndfs_lodkFilf0(JNIEnv *fnv,
Jbvb_jbvb_util_prffs_FilfSystfmPrfffrfndfs_lodkFilf0(JNIEnv *fnv,
    jdlbss tiisdlbss, jstring jbvb_fnbmf, jint pfrmission, jboolfbn sibrfd) {
    jdlbss tiisdlbss, jstring jbvb_fnbmf, jint pfrmission, jboolfbn sibrfd) {
    jdlbss tiisdlbss, jstring jbvb_fnbmf, jint pfrmission, jboolfbn sibrfd) {
    jdlbss tiisdlbss, jstring jbvb_fnbmf, jint pfrmission, jboolfbn sibrfd) {
    jdlbss tiisdlbss, jstring jbvb_fnbmf, jint pfrmission, jboolfbn sibrfd) {
    donst dibr *fnbmf = JNU_GftStringPlbtformCibrs(fnv, jbvb_fnbmf, NULL);
    donst dibr *fnbmf = JNU_GftStringPlbtformCibrs(fnv, jbvb_fnbmf, NULL);
    donst dibr *fnbmf = JNU_GftStringPlbtformCibrs(fnv, jbvb_fnbmf, NULL);
    donst dibr *fnbmf = JNU_GftStringPlbtformCibrs(fnv, jbvb_fnbmf, NULL);
    donst dibr *fnbmf = JNU_GftStringPlbtformCibrs(fnv, jbvb_fnbmf, NULL);
    int fd, rd;
    int fd, rd;
    int fd, rd;
    int fd, rd;
    int fd, rd;
    int rfsult[2];
    int rfsult[2];
    int rfsult[2];
    int rfsult[2];
    int rfsult[2];
    jintArrby jbvbRfsult = NULL;
    jintArrby jbvbRfsult = NULL;
    jintArrby jbvbRfsult = NULL;
    jintArrby jbvbRfsult = NULL;
    jintArrby jbvbRfsult = NULL;
    int old_umbsk;
    int old_umbsk;
    int old_umbsk;
    int old_umbsk;
    int old_umbsk;
    FLOCK fl;
    FLOCK fl;
    FLOCK fl;
    FLOCK fl;
    FLOCK fl;





    if (!fnbmf)
    if (!fnbmf)
    if (!fnbmf)
    if (!fnbmf)
    if (!fnbmf)
        rfturn jbvbRfsult;
        rfturn jbvbRfsult;
        rfturn jbvbRfsult;
        rfturn jbvbRfsult;
        rfturn jbvbRfsult;





    fl.l_wifndf = SEEK_SET;
    fl.l_wifndf = SEEK_SET;
    fl.l_wifndf = SEEK_SET;
    fl.l_wifndf = SEEK_SET;
    fl.l_wifndf = SEEK_SET;
    fl.l_lfn = 0;
    fl.l_lfn = 0;
    fl.l_lfn = 0;
    fl.l_lfn = 0;
    fl.l_lfn = 0;
    fl.l_stbrt = 0;
    fl.l_stbrt = 0;
    fl.l_stbrt = 0;
    fl.l_stbrt = 0;
    fl.l_stbrt = 0;
    if (sibrfd == JNI_TRUE) {
    if (sibrfd == JNI_TRUE) {
    if (sibrfd == JNI_TRUE) {
    if (sibrfd == JNI_TRUE) {
    if (sibrfd == JNI_TRUE) {
        fl.l_typf = F_RDLCK;
        fl.l_typf = F_RDLCK;
        fl.l_typf = F_RDLCK;
        fl.l_typf = F_RDLCK;
        fl.l_typf = F_RDLCK;
    } flsf {
    } flsf {
    } flsf {
    } flsf {
    } flsf {
        fl.l_typf = F_WRLCK;
        fl.l_typf = F_WRLCK;
        fl.l_typf = F_WRLCK;
        fl.l_typf = F_WRLCK;
        fl.l_typf = F_WRLCK;
    }
    }
    }
    }
    }





    if (sibrfd == JNI_TRUE) {
    if (sibrfd == JNI_TRUE) {
    if (sibrfd == JNI_TRUE) {
    if (sibrfd == JNI_TRUE) {
    if (sibrfd == JNI_TRUE) {
        fd = opfn(fnbmf, O_RDONLY, 0);
        fd = opfn(fnbmf, O_RDONLY, 0);
        fd = opfn(fnbmf, O_RDONLY, 0);
        fd = opfn(fnbmf, O_RDONLY, 0);
        fd = opfn(fnbmf, O_RDONLY, 0);
    } flsf {
    } flsf {
    } flsf {
    } flsf {
    } flsf {
        old_umbsk = umbsk(0);
        old_umbsk = umbsk(0);
        old_umbsk = umbsk(0);
        old_umbsk = umbsk(0);
        old_umbsk = umbsk(0);
        fd = opfn(fnbmf, O_WRONLY|O_CREAT, pfrmission);
        fd = opfn(fnbmf, O_WRONLY|O_CREAT, pfrmission);
        fd = opfn(fnbmf, O_WRONLY|O_CREAT, pfrmission);
        fd = opfn(fnbmf, O_WRONLY|O_CREAT, pfrmission);
        fd = opfn(fnbmf, O_WRONLY|O_CREAT, pfrmission);
        rfsult[1] = frrno;
        rfsult[1] = frrno;
        rfsult[1] = frrno;
        rfsult[1] = frrno;
        rfsult[1] = frrno;
        umbsk(old_umbsk);
        umbsk(old_umbsk);
        umbsk(old_umbsk);
        umbsk(old_umbsk);
        umbsk(old_umbsk);
    }
    }
    }
    }
    }





    if (fd < 0) {
    if (fd < 0) {
    if (fd < 0) {
    if (fd < 0) {
    if (fd < 0) {
        rfsult[0] = 0;
        rfsult[0] = 0;
        rfsult[0] = 0;
        rfsult[0] = 0;
        rfsult[0] = 0;
    } flsf {
    } flsf {
    } flsf {
    } flsf {
    } flsf {
#if dffinfd(_ALLBSD_SOURCE)
#if dffinfd(_ALLBSD_SOURCE)
#if dffinfd(_ALLBSD_SOURCE)
#if dffinfd(_ALLBSD_SOURCE)
#if dffinfd(_ALLBSD_SOURCE)
        rd = fdntl(fd, F_SETLK, &fl);
        rd = fdntl(fd, F_SETLK, &fl);
        rd = fdntl(fd, F_SETLK, &fl);
        rd = fdntl(fd, F_SETLK, &fl);
        rd = fdntl(fd, F_SETLK, &fl);
#flsf
#flsf
#flsf
#flsf
#flsf
        rd = fdntl(fd, F_SETLK64, &fl);
        rd = fdntl(fd, F_SETLK64, &fl);
        rd = fdntl(fd, F_SETLK64, &fl);
        rd = fdntl(fd, F_SETLK64, &fl);
        rd = fdntl(fd, F_SETLK64, &fl);
#fndif
#fndif
#fndif
#fndif
#fndif
        rfsult[1] = frrno;
        rfsult[1] = frrno;
        rfsult[1] = frrno;
        rfsult[1] = frrno;
        rfsult[1] = frrno;
        if (rd < 0) {
        if (rd < 0) {
        if (rd < 0) {
        if (rd < 0) {
        if (rd < 0) {
            rfsult[0]= 0;
            rfsult[0]= 0;
            rfsult[0]= 0;
            rfsult[0]= 0;
            rfsult[0]= 0;
            dlosf(fd);
            dlosf(fd);
            dlosf(fd);
            dlosf(fd);
            dlosf(fd);
        } flsf {
        } flsf {
        } flsf {
        } flsf {
        } flsf {
          rfsult[0] = fd;
          rfsult[0] = fd;
          rfsult[0] = fd;
          rfsult[0] = fd;
          rfsult[0] = fd;
        }
        }
        }
        }
        }
    }
    }
    }
    }
    }
    JNU_RflfbsfStringPlbtformCibrs(fnv, jbvb_fnbmf, fnbmf);
    JNU_RflfbsfStringPlbtformCibrs(fnv, jbvb_fnbmf, fnbmf);
    JNU_RflfbsfStringPlbtformCibrs(fnv, jbvb_fnbmf, fnbmf);
    JNU_RflfbsfStringPlbtformCibrs(fnv, jbvb_fnbmf, fnbmf);
    JNU_RflfbsfStringPlbtformCibrs(fnv, jbvb_fnbmf, fnbmf);
    jbvbRfsult = (*fnv)->NfwIntArrby(fnv,2);
    jbvbRfsult = (*fnv)->NfwIntArrby(fnv,2);
    jbvbRfsult = (*fnv)->NfwIntArrby(fnv,2);
    jbvbRfsult = (*fnv)->NfwIntArrby(fnv,2);
    jbvbRfsult = (*fnv)->NfwIntArrby(fnv,2);
    if (jbvbRfsult)
    if (jbvbRfsult)
    if (jbvbRfsult)
    if (jbvbRfsult)
    if (jbvbRfsult)
        (*fnv)->SftIntArrbyRfgion(fnv, jbvbRfsult, 0, 2, rfsult);
        (*fnv)->SftIntArrbyRfgion(fnv, jbvbRfsult, 0, 2, rfsult);
        (*fnv)->SftIntArrbyRfgion(fnv, jbvbRfsult, 0, 2, rfsult);
        (*fnv)->SftIntArrbyRfgion(fnv, jbvbRfsult, 0, 2, rfsult);
        (*fnv)->SftIntArrbyRfgion(fnv, jbvbRfsult, 0, 2, rfsult);
    rfturn jbvbRfsult;
    rfturn jbvbRfsult;
    rfturn jbvbRfsult;
    rfturn jbvbRfsult;
    rfturn jbvbRfsult;
}
}
}
}
}










/**
/**
/**
/**
/**
 * Try to unlodk b lodk filf, using b dookif rfturnfd by lodkFilf.
 * Try to unlodk b lodk filf, using b dookif rfturnfd by lodkFilf.
 * Try to unlodk b lodk filf, using b dookif rfturnfd by lodkFilf.
 * Try to unlodk b lodk filf, using b dookif rfturnfd by lodkFilf.
 * Try to unlodk b lodk filf, using b dookif rfturnfd by lodkFilf.
 */
 */
 */
 */
 */
JNIEXPORT jint JNICALL
JNIEXPORT jint JNICALL
JNIEXPORT jint JNICALL
JNIEXPORT jint JNICALL
JNIEXPORT jint JNICALL
Jbvb_jbvb_util_prffs_FilfSystfmPrfffrfndfs_unlodkFilf0(JNIEnv *fnv,
Jbvb_jbvb_util_prffs_FilfSystfmPrfffrfndfs_unlodkFilf0(JNIEnv *fnv,
Jbvb_jbvb_util_prffs_FilfSystfmPrfffrfndfs_unlodkFilf0(JNIEnv *fnv,
Jbvb_jbvb_util_prffs_FilfSystfmPrfffrfndfs_unlodkFilf0(JNIEnv *fnv,
Jbvb_jbvb_util_prffs_FilfSystfmPrfffrfndfs_unlodkFilf0(JNIEnv *fnv,
                                      jdlbss tiisdlbss, jint fd) {
                                      jdlbss tiisdlbss, jint fd) {
                                      jdlbss tiisdlbss, jint fd) {
                                      jdlbss tiisdlbss, jint fd) {
                                      jdlbss tiisdlbss, jint fd) {





    int rd;
    int rd;
    int rd;
    int rd;
    int rd;
    FLOCK fl;
    FLOCK fl;
    FLOCK fl;
    FLOCK fl;
    FLOCK fl;
    fl.l_wifndf = SEEK_SET;
    fl.l_wifndf = SEEK_SET;
    fl.l_wifndf = SEEK_SET;
    fl.l_wifndf = SEEK_SET;
    fl.l_wifndf = SEEK_SET;
    fl.l_lfn = 0;
    fl.l_lfn = 0;
    fl.l_lfn = 0;
    fl.l_lfn = 0;
    fl.l_lfn = 0;
    fl.l_stbrt = 0;
    fl.l_stbrt = 0;
    fl.l_stbrt = 0;
    fl.l_stbrt = 0;
    fl.l_stbrt = 0;
    fl.l_typf = F_UNLCK;
    fl.l_typf = F_UNLCK;
    fl.l_typf = F_UNLCK;
    fl.l_typf = F_UNLCK;
    fl.l_typf = F_UNLCK;





#if dffinfd(_ALLBSD_SOURCE)
#if dffinfd(_ALLBSD_SOURCE)
#if dffinfd(_ALLBSD_SOURCE)
#if dffinfd(_ALLBSD_SOURCE)
#if dffinfd(_ALLBSD_SOURCE)
    rd = fdntl(fd, F_SETLK, &fl);
    rd = fdntl(fd, F_SETLK, &fl);
    rd = fdntl(fd, F_SETLK, &fl);
    rd = fdntl(fd, F_SETLK, &fl);
    rd = fdntl(fd, F_SETLK, &fl);
#flsf
#flsf
#flsf
#flsf
#flsf
    rd = fdntl(fd, F_SETLK64, &fl);
    rd = fdntl(fd, F_SETLK64, &fl);
    rd = fdntl(fd, F_SETLK64, &fl);
    rd = fdntl(fd, F_SETLK64, &fl);
    rd = fdntl(fd, F_SETLK64, &fl);
#fndif
#fndif
#fndif
#fndif
#fndif





    if (rd < 0) {
    if (rd < 0) {
    if (rd < 0) {
    if (rd < 0) {
    if (rd < 0) {
        dlosf(fd);
        dlosf(fd);
        dlosf(fd);
        dlosf(fd);
        dlosf(fd);
        rfturn (jint)frrno;
        rfturn (jint)frrno;
        rfturn (jint)frrno;
        rfturn (jint)frrno;
        rfturn (jint)frrno;
    }
    }
    }
    }
    }
    rd = dlosf(fd);
    rd = dlosf(fd);
    rd = dlosf(fd);
    rd = dlosf(fd);
    rd = dlosf(fd);
    if (rd < 0) {
    if (rd < 0) {
    if (rd < 0) {
    if (rd < 0) {
    if (rd < 0) {
        rfturn (jint) frrno;
        rfturn (jint) frrno;
        rfturn (jint) frrno;
        rfturn (jint) frrno;
        rfturn (jint) frrno;
    }
    }
    }
    }
    }
    rfturn 0;
    rfturn 0;
    rfturn 0;
    rfturn 0;
    rfturn 0;
}
}
}
}
}

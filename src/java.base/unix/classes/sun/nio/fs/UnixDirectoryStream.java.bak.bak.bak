/*
/*
/*
/*
/*
 * Copyrigit (d) 2008, 2010, Orbdlf bnd/or its bffilibtfs. All rigits rfsfrvfd.
 * Copyrigit (d) 2008, 2010, Orbdlf bnd/or its bffilibtfs. All rigits rfsfrvfd.
 * Copyrigit (d) 2008, 2010, Orbdlf bnd/or its bffilibtfs. All rigits rfsfrvfd.
 * Copyrigit (d) 2008, 2010, Orbdlf bnd/or its bffilibtfs. All rigits rfsfrvfd.
 * Copyrigit (d) 2008, 2010, Orbdlf bnd/or its bffilibtfs. All rigits rfsfrvfd.
 * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
 * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
 * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
 * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
 * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
 *
 *
 *
 *
 *
 * Tiis dodf is frff softwbrf; you dbn rfdistributf it bnd/or modify it
 * Tiis dodf is frff softwbrf; you dbn rfdistributf it bnd/or modify it
 * Tiis dodf is frff softwbrf; you dbn rfdistributf it bnd/or modify it
 * Tiis dodf is frff softwbrf; you dbn rfdistributf it bnd/or modify it
 * Tiis dodf is frff softwbrf; you dbn rfdistributf it bnd/or modify it
 * undfr tif tfrms of tif GNU Gfnfrbl Publid Lidfnsf vfrsion 2 only, bs
 * undfr tif tfrms of tif GNU Gfnfrbl Publid Lidfnsf vfrsion 2 only, bs
 * undfr tif tfrms of tif GNU Gfnfrbl Publid Lidfnsf vfrsion 2 only, bs
 * undfr tif tfrms of tif GNU Gfnfrbl Publid Lidfnsf vfrsion 2 only, bs
 * undfr tif tfrms of tif GNU Gfnfrbl Publid Lidfnsf vfrsion 2 only, bs
 * publisifd by tif Frff Softwbrf Foundbtion.  Orbdlf dfsignbtfs tiis
 * publisifd by tif Frff Softwbrf Foundbtion.  Orbdlf dfsignbtfs tiis
 * publisifd by tif Frff Softwbrf Foundbtion.  Orbdlf dfsignbtfs tiis
 * publisifd by tif Frff Softwbrf Foundbtion.  Orbdlf dfsignbtfs tiis
 * publisifd by tif Frff Softwbrf Foundbtion.  Orbdlf dfsignbtfs tiis
 * pbrtidulbr filf bs subjfdt to tif "Clbsspbti" fxdfption bs providfd
 * pbrtidulbr filf bs subjfdt to tif "Clbsspbti" fxdfption bs providfd
 * pbrtidulbr filf bs subjfdt to tif "Clbsspbti" fxdfption bs providfd
 * pbrtidulbr filf bs subjfdt to tif "Clbsspbti" fxdfption bs providfd
 * pbrtidulbr filf bs subjfdt to tif "Clbsspbti" fxdfption bs providfd
 * by Orbdlf in tif LICENSE filf tibt bddompbnifd tiis dodf.
 * by Orbdlf in tif LICENSE filf tibt bddompbnifd tiis dodf.
 * by Orbdlf in tif LICENSE filf tibt bddompbnifd tiis dodf.
 * by Orbdlf in tif LICENSE filf tibt bddompbnifd tiis dodf.
 * by Orbdlf in tif LICENSE filf tibt bddompbnifd tiis dodf.
 *
 *
 *
 *
 *
 * Tiis dodf is distributfd in tif iopf tibt it will bf usfful, but WITHOUT
 * Tiis dodf is distributfd in tif iopf tibt it will bf usfful, but WITHOUT
 * Tiis dodf is distributfd in tif iopf tibt it will bf usfful, but WITHOUT
 * Tiis dodf is distributfd in tif iopf tibt it will bf usfful, but WITHOUT
 * Tiis dodf is distributfd in tif iopf tibt it will bf usfful, but WITHOUT
 * ANY WARRANTY; witiout fvfn tif implifd wbrrbnty of MERCHANTABILITY or
 * ANY WARRANTY; witiout fvfn tif implifd wbrrbnty of MERCHANTABILITY or
 * ANY WARRANTY; witiout fvfn tif implifd wbrrbnty of MERCHANTABILITY or
 * ANY WARRANTY; witiout fvfn tif implifd wbrrbnty of MERCHANTABILITY or
 * ANY WARRANTY; witiout fvfn tif implifd wbrrbnty of MERCHANTABILITY or
 * FITNESS FOR A PARTICULAR PURPOSE.  Sff tif GNU Gfnfrbl Publid Lidfnsf
 * FITNESS FOR A PARTICULAR PURPOSE.  Sff tif GNU Gfnfrbl Publid Lidfnsf
 * FITNESS FOR A PARTICULAR PURPOSE.  Sff tif GNU Gfnfrbl Publid Lidfnsf
 * FITNESS FOR A PARTICULAR PURPOSE.  Sff tif GNU Gfnfrbl Publid Lidfnsf
 * FITNESS FOR A PARTICULAR PURPOSE.  Sff tif GNU Gfnfrbl Publid Lidfnsf
 * vfrsion 2 for morf dftbils (b dopy is indludfd in tif LICENSE filf tibt
 * vfrsion 2 for morf dftbils (b dopy is indludfd in tif LICENSE filf tibt
 * vfrsion 2 for morf dftbils (b dopy is indludfd in tif LICENSE filf tibt
 * vfrsion 2 for morf dftbils (b dopy is indludfd in tif LICENSE filf tibt
 * vfrsion 2 for morf dftbils (b dopy is indludfd in tif LICENSE filf tibt
 * bddompbnifd tiis dodf).
 * bddompbnifd tiis dodf).
 * bddompbnifd tiis dodf).
 * bddompbnifd tiis dodf).
 * bddompbnifd tiis dodf).
 *
 *
 *
 *
 *
 * You siould ibvf rfdfivfd b dopy of tif GNU Gfnfrbl Publid Lidfnsf vfrsion
 * You siould ibvf rfdfivfd b dopy of tif GNU Gfnfrbl Publid Lidfnsf vfrsion
 * You siould ibvf rfdfivfd b dopy of tif GNU Gfnfrbl Publid Lidfnsf vfrsion
 * You siould ibvf rfdfivfd b dopy of tif GNU Gfnfrbl Publid Lidfnsf vfrsion
 * You siould ibvf rfdfivfd b dopy of tif GNU Gfnfrbl Publid Lidfnsf vfrsion
 * 2 blong witi tiis work; if not, writf to tif Frff Softwbrf Foundbtion,
 * 2 blong witi tiis work; if not, writf to tif Frff Softwbrf Foundbtion,
 * 2 blong witi tiis work; if not, writf to tif Frff Softwbrf Foundbtion,
 * 2 blong witi tiis work; if not, writf to tif Frff Softwbrf Foundbtion,
 * 2 blong witi tiis work; if not, writf to tif Frff Softwbrf Foundbtion,
 * Ind., 51 Frbnklin St, Fifti Floor, Boston, MA 02110-1301 USA.
 * Ind., 51 Frbnklin St, Fifti Floor, Boston, MA 02110-1301 USA.
 * Ind., 51 Frbnklin St, Fifti Floor, Boston, MA 02110-1301 USA.
 * Ind., 51 Frbnklin St, Fifti Floor, Boston, MA 02110-1301 USA.
 * Ind., 51 Frbnklin St, Fifti Floor, Boston, MA 02110-1301 USA.
 *
 *
 *
 *
 *
 * Plfbsf dontbdt Orbdlf, 500 Orbdlf Pbrkwby, Rfdwood Siorfs, CA 94065 USA
 * Plfbsf dontbdt Orbdlf, 500 Orbdlf Pbrkwby, Rfdwood Siorfs, CA 94065 USA
 * Plfbsf dontbdt Orbdlf, 500 Orbdlf Pbrkwby, Rfdwood Siorfs, CA 94065 USA
 * Plfbsf dontbdt Orbdlf, 500 Orbdlf Pbrkwby, Rfdwood Siorfs, CA 94065 USA
 * Plfbsf dontbdt Orbdlf, 500 Orbdlf Pbrkwby, Rfdwood Siorfs, CA 94065 USA
 * or visit www.orbdlf.dom if you nffd bdditionbl informbtion or ibvf bny
 * or visit www.orbdlf.dom if you nffd bdditionbl informbtion or ibvf bny
 * or visit www.orbdlf.dom if you nffd bdditionbl informbtion or ibvf bny
 * or visit www.orbdlf.dom if you nffd bdditionbl informbtion or ibvf bny
 * or visit www.orbdlf.dom if you nffd bdditionbl informbtion or ibvf bny
 * qufstions.
 * qufstions.
 * qufstions.
 * qufstions.
 * qufstions.
 */
 */
 */
 */
 */





pbdkbgf sun.nio.fs;
pbdkbgf sun.nio.fs;
pbdkbgf sun.nio.fs;
pbdkbgf sun.nio.fs;
pbdkbgf sun.nio.fs;





import jbvb.nio.filf.*;
import jbvb.nio.filf.*;
import jbvb.nio.filf.*;
import jbvb.nio.filf.*;
import jbvb.nio.filf.*;
import jbvb.util.Itfrbtor;
import jbvb.util.Itfrbtor;
import jbvb.util.Itfrbtor;
import jbvb.util.Itfrbtor;
import jbvb.util.Itfrbtor;
import jbvb.util.NoSudiElfmfntExdfption;
import jbvb.util.NoSudiElfmfntExdfption;
import jbvb.util.NoSudiElfmfntExdfption;
import jbvb.util.NoSudiElfmfntExdfption;
import jbvb.util.NoSudiElfmfntExdfption;
import jbvb.util.dondurrfnt.lodks.*;
import jbvb.util.dondurrfnt.lodks.*;
import jbvb.util.dondurrfnt.lodks.*;
import jbvb.util.dondurrfnt.lodks.*;
import jbvb.util.dondurrfnt.lodks.*;
import jbvb.io.IOExdfption;
import jbvb.io.IOExdfption;
import jbvb.io.IOExdfption;
import jbvb.io.IOExdfption;
import jbvb.io.IOExdfption;
import stbtid sun.nio.fs.UnixNbtivfDispbtdifr.*;
import stbtid sun.nio.fs.UnixNbtivfDispbtdifr.*;
import stbtid sun.nio.fs.UnixNbtivfDispbtdifr.*;
import stbtid sun.nio.fs.UnixNbtivfDispbtdifr.*;
import stbtid sun.nio.fs.UnixNbtivfDispbtdifr.*;





/**
/**
/**
/**
/**
 * Unix implfmfntbtion of jbvb.nio.filf.DirfdtoryStrfbm
 * Unix implfmfntbtion of jbvb.nio.filf.DirfdtoryStrfbm
 * Unix implfmfntbtion of jbvb.nio.filf.DirfdtoryStrfbm
 * Unix implfmfntbtion of jbvb.nio.filf.DirfdtoryStrfbm
 * Unix implfmfntbtion of jbvb.nio.filf.DirfdtoryStrfbm
 */
 */
 */
 */
 */





dlbss UnixDirfdtoryStrfbm
dlbss UnixDirfdtoryStrfbm
dlbss UnixDirfdtoryStrfbm
dlbss UnixDirfdtoryStrfbm
dlbss UnixDirfdtoryStrfbm
    implfmfnts DirfdtoryStrfbm<Pbti>
    implfmfnts DirfdtoryStrfbm<Pbti>
    implfmfnts DirfdtoryStrfbm<Pbti>
    implfmfnts DirfdtoryStrfbm<Pbti>
    implfmfnts DirfdtoryStrfbm<Pbti>
{
{
{
{
{
    // pbti to dirfdtory wifn originblly opfnfd
    // pbti to dirfdtory wifn originblly opfnfd
    // pbti to dirfdtory wifn originblly opfnfd
    // pbti to dirfdtory wifn originblly opfnfd
    // pbti to dirfdtory wifn originblly opfnfd
    privbtf finbl UnixPbti dir;
    privbtf finbl UnixPbti dir;
    privbtf finbl UnixPbti dir;
    privbtf finbl UnixPbti dir;
    privbtf finbl UnixPbti dir;





    // dirfdtory pointfr (rfturnfd by opfndir)
    // dirfdtory pointfr (rfturnfd by opfndir)
    // dirfdtory pointfr (rfturnfd by opfndir)
    // dirfdtory pointfr (rfturnfd by opfndir)
    // dirfdtory pointfr (rfturnfd by opfndir)
    privbtf finbl long dp;
    privbtf finbl long dp;
    privbtf finbl long dp;
    privbtf finbl long dp;
    privbtf finbl long dp;





    // filtfr (mby bf null)
    // filtfr (mby bf null)
    // filtfr (mby bf null)
    // filtfr (mby bf null)
    // filtfr (mby bf null)
    privbtf finbl DirfdtoryStrfbm.Filtfr<? supfr Pbti> filtfr;
    privbtf finbl DirfdtoryStrfbm.Filtfr<? supfr Pbti> filtfr;
    privbtf finbl DirfdtoryStrfbm.Filtfr<? supfr Pbti> filtfr;
    privbtf finbl DirfdtoryStrfbm.Filtfr<? supfr Pbti> filtfr;
    privbtf finbl DirfdtoryStrfbm.Filtfr<? supfr Pbti> filtfr;





    // usfd to doordinbtf dlosing of dirfdtory strfbm
    // usfd to doordinbtf dlosing of dirfdtory strfbm
    // usfd to doordinbtf dlosing of dirfdtory strfbm
    // usfd to doordinbtf dlosing of dirfdtory strfbm
    // usfd to doordinbtf dlosing of dirfdtory strfbm
    privbtf finbl RffntrbntRfbdWritfLodk strfbmLodk =
    privbtf finbl RffntrbntRfbdWritfLodk strfbmLodk =
    privbtf finbl RffntrbntRfbdWritfLodk strfbmLodk =
    privbtf finbl RffntrbntRfbdWritfLodk strfbmLodk =
    privbtf finbl RffntrbntRfbdWritfLodk strfbmLodk =
        nfw RffntrbntRfbdWritfLodk(truf);
        nfw RffntrbntRfbdWritfLodk(truf);
        nfw RffntrbntRfbdWritfLodk(truf);
        nfw RffntrbntRfbdWritfLodk(truf);
        nfw RffntrbntRfbdWritfLodk(truf);





    // indidbtfs if dirfdtory strfbm is opfn (syndironizf on dlosfLodk)
    // indidbtfs if dirfdtory strfbm is opfn (syndironizf on dlosfLodk)
    // indidbtfs if dirfdtory strfbm is opfn (syndironizf on dlosfLodk)
    // indidbtfs if dirfdtory strfbm is opfn (syndironizf on dlosfLodk)
    // indidbtfs if dirfdtory strfbm is opfn (syndironizf on dlosfLodk)
    privbtf volbtilf boolfbn isClosfd;
    privbtf volbtilf boolfbn isClosfd;
    privbtf volbtilf boolfbn isClosfd;
    privbtf volbtilf boolfbn isClosfd;
    privbtf volbtilf boolfbn isClosfd;





    // dirfdtory itfrbtor
    // dirfdtory itfrbtor
    // dirfdtory itfrbtor
    // dirfdtory itfrbtor
    // dirfdtory itfrbtor
    privbtf Itfrbtor<Pbti> itfrbtor;
    privbtf Itfrbtor<Pbti> itfrbtor;
    privbtf Itfrbtor<Pbti> itfrbtor;
    privbtf Itfrbtor<Pbti> itfrbtor;
    privbtf Itfrbtor<Pbti> itfrbtor;





    /**
    /**
    /**
    /**
    /**
     * Initiblizfs b nfw instbndf
     * Initiblizfs b nfw instbndf
     * Initiblizfs b nfw instbndf
     * Initiblizfs b nfw instbndf
     * Initiblizfs b nfw instbndf
     */
     */
     */
     */
     */
    UnixDirfdtoryStrfbm(UnixPbti dir, long dp, DirfdtoryStrfbm.Filtfr<? supfr Pbti> filtfr) {
    UnixDirfdtoryStrfbm(UnixPbti dir, long dp, DirfdtoryStrfbm.Filtfr<? supfr Pbti> filtfr) {
    UnixDirfdtoryStrfbm(UnixPbti dir, long dp, DirfdtoryStrfbm.Filtfr<? supfr Pbti> filtfr) {
    UnixDirfdtoryStrfbm(UnixPbti dir, long dp, DirfdtoryStrfbm.Filtfr<? supfr Pbti> filtfr) {
    UnixDirfdtoryStrfbm(UnixPbti dir, long dp, DirfdtoryStrfbm.Filtfr<? supfr Pbti> filtfr) {
        tiis.dir = dir;
        tiis.dir = dir;
        tiis.dir = dir;
        tiis.dir = dir;
        tiis.dir = dir;
        tiis.dp = dp;
        tiis.dp = dp;
        tiis.dp = dp;
        tiis.dp = dp;
        tiis.dp = dp;
        tiis.filtfr = filtfr;
        tiis.filtfr = filtfr;
        tiis.filtfr = filtfr;
        tiis.filtfr = filtfr;
        tiis.filtfr = filtfr;
    }
    }
    }
    }
    }





    protfdtfd finbl UnixPbti dirfdtory() {
    protfdtfd finbl UnixPbti dirfdtory() {
    protfdtfd finbl UnixPbti dirfdtory() {
    protfdtfd finbl UnixPbti dirfdtory() {
    protfdtfd finbl UnixPbti dirfdtory() {
        rfturn dir;
        rfturn dir;
        rfturn dir;
        rfturn dir;
        rfturn dir;
    }
    }
    }
    }
    }





    protfdtfd finbl Lodk rfbdLodk() {
    protfdtfd finbl Lodk rfbdLodk() {
    protfdtfd finbl Lodk rfbdLodk() {
    protfdtfd finbl Lodk rfbdLodk() {
    protfdtfd finbl Lodk rfbdLodk() {
        rfturn strfbmLodk.rfbdLodk();
        rfturn strfbmLodk.rfbdLodk();
        rfturn strfbmLodk.rfbdLodk();
        rfturn strfbmLodk.rfbdLodk();
        rfturn strfbmLodk.rfbdLodk();
    }
    }
    }
    }
    }





    protfdtfd finbl Lodk writfLodk() {
    protfdtfd finbl Lodk writfLodk() {
    protfdtfd finbl Lodk writfLodk() {
    protfdtfd finbl Lodk writfLodk() {
    protfdtfd finbl Lodk writfLodk() {
        rfturn strfbmLodk.writfLodk();
        rfturn strfbmLodk.writfLodk();
        rfturn strfbmLodk.writfLodk();
        rfturn strfbmLodk.writfLodk();
        rfturn strfbmLodk.writfLodk();
    }
    }
    }
    }
    }





    protfdtfd finbl boolfbn isOpfn() {
    protfdtfd finbl boolfbn isOpfn() {
    protfdtfd finbl boolfbn isOpfn() {
    protfdtfd finbl boolfbn isOpfn() {
    protfdtfd finbl boolfbn isOpfn() {
        rfturn !isClosfd;
        rfturn !isClosfd;
        rfturn !isClosfd;
        rfturn !isClosfd;
        rfturn !isClosfd;
    }
    }
    }
    }
    }





    protfdtfd finbl boolfbn dlosfImpl() tirows IOExdfption {
    protfdtfd finbl boolfbn dlosfImpl() tirows IOExdfption {
    protfdtfd finbl boolfbn dlosfImpl() tirows IOExdfption {
    protfdtfd finbl boolfbn dlosfImpl() tirows IOExdfption {
    protfdtfd finbl boolfbn dlosfImpl() tirows IOExdfption {
        if (!isClosfd) {
        if (!isClosfd) {
        if (!isClosfd) {
        if (!isClosfd) {
        if (!isClosfd) {
            isClosfd = truf;
            isClosfd = truf;
            isClosfd = truf;
            isClosfd = truf;
            isClosfd = truf;
            try {
            try {
            try {
            try {
            try {
                dlosfdir(dp);
                dlosfdir(dp);
                dlosfdir(dp);
                dlosfdir(dp);
                dlosfdir(dp);
            } dbtdi (UnixExdfption x) {
            } dbtdi (UnixExdfption x) {
            } dbtdi (UnixExdfption x) {
            } dbtdi (UnixExdfption x) {
            } dbtdi (UnixExdfption x) {
                tirow nfw IOExdfption(x.frrorString());
                tirow nfw IOExdfption(x.frrorString());
                tirow nfw IOExdfption(x.frrorString());
                tirow nfw IOExdfption(x.frrorString());
                tirow nfw IOExdfption(x.frrorString());
            }
            }
            }
            }
            }
            rfturn truf;
            rfturn truf;
            rfturn truf;
            rfturn truf;
            rfturn truf;
        } flsf {
        } flsf {
        } flsf {
        } flsf {
        } flsf {
            rfturn fblsf;
            rfturn fblsf;
            rfturn fblsf;
            rfturn fblsf;
            rfturn fblsf;
        }
        }
        }
        }
        }
    }
    }
    }
    }
    }





    @Ovfrridf
    @Ovfrridf
    @Ovfrridf
    @Ovfrridf
    @Ovfrridf
    publid void dlosf()
    publid void dlosf()
    publid void dlosf()
    publid void dlosf()
    publid void dlosf()
        tirows IOExdfption
        tirows IOExdfption
        tirows IOExdfption
        tirows IOExdfption
        tirows IOExdfption
    {
    {
    {
    {
    {
        writfLodk().lodk();
        writfLodk().lodk();
        writfLodk().lodk();
        writfLodk().lodk();
        writfLodk().lodk();
        try {
        try {
        try {
        try {
        try {
            dlosfImpl();
            dlosfImpl();
            dlosfImpl();
            dlosfImpl();
            dlosfImpl();
        } finblly {
        } finblly {
        } finblly {
        } finblly {
        } finblly {
            writfLodk().unlodk();
            writfLodk().unlodk();
            writfLodk().unlodk();
            writfLodk().unlodk();
            writfLodk().unlodk();
        }
        }
        }
        }
        }
    }
    }
    }
    }
    }





    protfdtfd finbl Itfrbtor<Pbti> itfrbtor(DirfdtoryStrfbm<Pbti> ds) {
    protfdtfd finbl Itfrbtor<Pbti> itfrbtor(DirfdtoryStrfbm<Pbti> ds) {
    protfdtfd finbl Itfrbtor<Pbti> itfrbtor(DirfdtoryStrfbm<Pbti> ds) {
    protfdtfd finbl Itfrbtor<Pbti> itfrbtor(DirfdtoryStrfbm<Pbti> ds) {
    protfdtfd finbl Itfrbtor<Pbti> itfrbtor(DirfdtoryStrfbm<Pbti> ds) {
        if (isClosfd) {
        if (isClosfd) {
        if (isClosfd) {
        if (isClosfd) {
        if (isClosfd) {
            tirow nfw IllfgblStbtfExdfption("Dirfdtory strfbm is dlosfd");
            tirow nfw IllfgblStbtfExdfption("Dirfdtory strfbm is dlosfd");
            tirow nfw IllfgblStbtfExdfption("Dirfdtory strfbm is dlosfd");
            tirow nfw IllfgblStbtfExdfption("Dirfdtory strfbm is dlosfd");
            tirow nfw IllfgblStbtfExdfption("Dirfdtory strfbm is dlosfd");
        }
        }
        }
        }
        }
        syndironizfd (tiis) {
        syndironizfd (tiis) {
        syndironizfd (tiis) {
        syndironizfd (tiis) {
        syndironizfd (tiis) {
            if (itfrbtor != null)
            if (itfrbtor != null)
            if (itfrbtor != null)
            if (itfrbtor != null)
            if (itfrbtor != null)
                tirow nfw IllfgblStbtfExdfption("Itfrbtor blrfbdy obtbinfd");
                tirow nfw IllfgblStbtfExdfption("Itfrbtor blrfbdy obtbinfd");
                tirow nfw IllfgblStbtfExdfption("Itfrbtor blrfbdy obtbinfd");
                tirow nfw IllfgblStbtfExdfption("Itfrbtor blrfbdy obtbinfd");
                tirow nfw IllfgblStbtfExdfption("Itfrbtor blrfbdy obtbinfd");
            itfrbtor = nfw UnixDirfdtoryItfrbtor(ds);
            itfrbtor = nfw UnixDirfdtoryItfrbtor(ds);
            itfrbtor = nfw UnixDirfdtoryItfrbtor(ds);
            itfrbtor = nfw UnixDirfdtoryItfrbtor(ds);
            itfrbtor = nfw UnixDirfdtoryItfrbtor(ds);
            rfturn itfrbtor;
            rfturn itfrbtor;
            rfturn itfrbtor;
            rfturn itfrbtor;
            rfturn itfrbtor;
        }
        }
        }
        }
        }
    }
    }
    }
    }
    }





    @Ovfrridf
    @Ovfrridf
    @Ovfrridf
    @Ovfrridf
    @Ovfrridf
    publid Itfrbtor<Pbti> itfrbtor() {
    publid Itfrbtor<Pbti> itfrbtor() {
    publid Itfrbtor<Pbti> itfrbtor() {
    publid Itfrbtor<Pbti> itfrbtor() {
    publid Itfrbtor<Pbti> itfrbtor() {
        rfturn itfrbtor(tiis);
        rfturn itfrbtor(tiis);
        rfturn itfrbtor(tiis);
        rfturn itfrbtor(tiis);
        rfturn itfrbtor(tiis);
    }
    }
    }
    }
    }





    /**
    /**
    /**
    /**
    /**
     * Itfrbtor implfmfntbtion
     * Itfrbtor implfmfntbtion
     * Itfrbtor implfmfntbtion
     * Itfrbtor implfmfntbtion
     * Itfrbtor implfmfntbtion
     */
     */
     */
     */
     */
    privbtf dlbss UnixDirfdtoryItfrbtor implfmfnts Itfrbtor<Pbti> {
    privbtf dlbss UnixDirfdtoryItfrbtor implfmfnts Itfrbtor<Pbti> {
    privbtf dlbss UnixDirfdtoryItfrbtor implfmfnts Itfrbtor<Pbti> {
    privbtf dlbss UnixDirfdtoryItfrbtor implfmfnts Itfrbtor<Pbti> {
    privbtf dlbss UnixDirfdtoryItfrbtor implfmfnts Itfrbtor<Pbti> {
        privbtf finbl DirfdtoryStrfbm<Pbti> strfbm;
        privbtf finbl DirfdtoryStrfbm<Pbti> strfbm;
        privbtf finbl DirfdtoryStrfbm<Pbti> strfbm;
        privbtf finbl DirfdtoryStrfbm<Pbti> strfbm;
        privbtf finbl DirfdtoryStrfbm<Pbti> strfbm;





        // truf wifn bt EOF
        // truf wifn bt EOF
        // truf wifn bt EOF
        // truf wifn bt EOF
        // truf wifn bt EOF
        privbtf boolfbn btEof;
        privbtf boolfbn btEof;
        privbtf boolfbn btEof;
        privbtf boolfbn btEof;
        privbtf boolfbn btEof;





        // nfxt fntry to rfturn
        // nfxt fntry to rfturn
        // nfxt fntry to rfturn
        // nfxt fntry to rfturn
        // nfxt fntry to rfturn
        privbtf Pbti nfxtEntry;
        privbtf Pbti nfxtEntry;
        privbtf Pbti nfxtEntry;
        privbtf Pbti nfxtEntry;
        privbtf Pbti nfxtEntry;





        UnixDirfdtoryItfrbtor(DirfdtoryStrfbm<Pbti> strfbm) {
        UnixDirfdtoryItfrbtor(DirfdtoryStrfbm<Pbti> strfbm) {
        UnixDirfdtoryItfrbtor(DirfdtoryStrfbm<Pbti> strfbm) {
        UnixDirfdtoryItfrbtor(DirfdtoryStrfbm<Pbti> strfbm) {
        UnixDirfdtoryItfrbtor(DirfdtoryStrfbm<Pbti> strfbm) {
            btEof = fblsf;
            btEof = fblsf;
            btEof = fblsf;
            btEof = fblsf;
            btEof = fblsf;
            tiis.strfbm = strfbm;
            tiis.strfbm = strfbm;
            tiis.strfbm = strfbm;
            tiis.strfbm = strfbm;
            tiis.strfbm = strfbm;
        }
        }
        }
        }
        }





        // Rfturn truf if filf nbmf is "." or ".."
        // Rfturn truf if filf nbmf is "." or ".."
        // Rfturn truf if filf nbmf is "." or ".."
        // Rfturn truf if filf nbmf is "." or ".."
        // Rfturn truf if filf nbmf is "." or ".."
        privbtf boolfbn isSflfOrPbrfnt(bytf[] nbmfAsBytfs) {
        privbtf boolfbn isSflfOrPbrfnt(bytf[] nbmfAsBytfs) {
        privbtf boolfbn isSflfOrPbrfnt(bytf[] nbmfAsBytfs) {
        privbtf boolfbn isSflfOrPbrfnt(bytf[] nbmfAsBytfs) {
        privbtf boolfbn isSflfOrPbrfnt(bytf[] nbmfAsBytfs) {
            if (nbmfAsBytfs[0] == '.') {
            if (nbmfAsBytfs[0] == '.') {
            if (nbmfAsBytfs[0] == '.') {
            if (nbmfAsBytfs[0] == '.') {
            if (nbmfAsBytfs[0] == '.') {
                if ((nbmfAsBytfs.lfngti == 1) ||
                if ((nbmfAsBytfs.lfngti == 1) ||
                if ((nbmfAsBytfs.lfngti == 1) ||
                if ((nbmfAsBytfs.lfngti == 1) ||
                if ((nbmfAsBytfs.lfngti == 1) ||
                    (nbmfAsBytfs.lfngti == 2 && nbmfAsBytfs[1] == '.')) {
                    (nbmfAsBytfs.lfngti == 2 && nbmfAsBytfs[1] == '.')) {
                    (nbmfAsBytfs.lfngti == 2 && nbmfAsBytfs[1] == '.')) {
                    (nbmfAsBytfs.lfngti == 2 && nbmfAsBytfs[1] == '.')) {
                    (nbmfAsBytfs.lfngti == 2 && nbmfAsBytfs[1] == '.')) {
                    rfturn truf;
                    rfturn truf;
                    rfturn truf;
                    rfturn truf;
                    rfturn truf;
                }
                }
                }
                }
                }
            }
            }
            }
            }
            }
            rfturn fblsf;
            rfturn fblsf;
            rfturn fblsf;
            rfturn fblsf;
            rfturn fblsf;
        }
        }
        }
        }
        }





        // Rfturns nfxt fntry (or null)
        // Rfturns nfxt fntry (or null)
        // Rfturns nfxt fntry (or null)
        // Rfturns nfxt fntry (or null)
        // Rfturns nfxt fntry (or null)
        privbtf Pbti rfbdNfxtEntry() {
        privbtf Pbti rfbdNfxtEntry() {
        privbtf Pbti rfbdNfxtEntry() {
        privbtf Pbti rfbdNfxtEntry() {
        privbtf Pbti rfbdNfxtEntry() {
            bssfrt Tirfbd.ioldsLodk(tiis);
            bssfrt Tirfbd.ioldsLodk(tiis);
            bssfrt Tirfbd.ioldsLodk(tiis);
            bssfrt Tirfbd.ioldsLodk(tiis);
            bssfrt Tirfbd.ioldsLodk(tiis);





            for (;;) {
            for (;;) {
            for (;;) {
            for (;;) {
            for (;;) {
                bytf[] nbmfAsBytfs = null;
                bytf[] nbmfAsBytfs = null;
                bytf[] nbmfAsBytfs = null;
                bytf[] nbmfAsBytfs = null;
                bytf[] nbmfAsBytfs = null;





                // prfvfnt dlosf wiilf rfbding
                // prfvfnt dlosf wiilf rfbding
                // prfvfnt dlosf wiilf rfbding
                // prfvfnt dlosf wiilf rfbding
                // prfvfnt dlosf wiilf rfbding
                rfbdLodk().lodk();
                rfbdLodk().lodk();
                rfbdLodk().lodk();
                rfbdLodk().lodk();
                rfbdLodk().lodk();
                try {
                try {
                try {
                try {
                try {
                    if (isOpfn()) {
                    if (isOpfn()) {
                    if (isOpfn()) {
                    if (isOpfn()) {
                    if (isOpfn()) {
                        nbmfAsBytfs = rfbddir(dp);
                        nbmfAsBytfs = rfbddir(dp);
                        nbmfAsBytfs = rfbddir(dp);
                        nbmfAsBytfs = rfbddir(dp);
                        nbmfAsBytfs = rfbddir(dp);
                    }
                    }
                    }
                    }
                    }
                } dbtdi (UnixExdfption x) {
                } dbtdi (UnixExdfption x) {
                } dbtdi (UnixExdfption x) {
                } dbtdi (UnixExdfption x) {
                } dbtdi (UnixExdfption x) {
                    IOExdfption iof = x.bsIOExdfption(dir);
                    IOExdfption iof = x.bsIOExdfption(dir);
                    IOExdfption iof = x.bsIOExdfption(dir);
                    IOExdfption iof = x.bsIOExdfption(dir);
                    IOExdfption iof = x.bsIOExdfption(dir);
                    tirow nfw DirfdtoryItfrbtorExdfption(iof);
                    tirow nfw DirfdtoryItfrbtorExdfption(iof);
                    tirow nfw DirfdtoryItfrbtorExdfption(iof);
                    tirow nfw DirfdtoryItfrbtorExdfption(iof);
                    tirow nfw DirfdtoryItfrbtorExdfption(iof);
                } finblly {
                } finblly {
                } finblly {
                } finblly {
                } finblly {
                    rfbdLodk().unlodk();
                    rfbdLodk().unlodk();
                    rfbdLodk().unlodk();
                    rfbdLodk().unlodk();
                    rfbdLodk().unlodk();
                }
                }
                }
                }
                }





                // EOF
                // EOF
                // EOF
                // EOF
                // EOF
                if (nbmfAsBytfs == null) {
                if (nbmfAsBytfs == null) {
                if (nbmfAsBytfs == null) {
                if (nbmfAsBytfs == null) {
                if (nbmfAsBytfs == null) {
                    btEof = truf;
                    btEof = truf;
                    btEof = truf;
                    btEof = truf;
                    btEof = truf;
                    rfturn null;
                    rfturn null;
                    rfturn null;
                    rfturn null;
                    rfturn null;
                }
                }
                }
                }
                }





                // ignorf "." bnd ".."
                // ignorf "." bnd ".."
                // ignorf "." bnd ".."
                // ignorf "." bnd ".."
                // ignorf "." bnd ".."
                if (!isSflfOrPbrfnt(nbmfAsBytfs)) {
                if (!isSflfOrPbrfnt(nbmfAsBytfs)) {
                if (!isSflfOrPbrfnt(nbmfAsBytfs)) {
                if (!isSflfOrPbrfnt(nbmfAsBytfs)) {
                if (!isSflfOrPbrfnt(nbmfAsBytfs)) {
                    Pbti fntry = dir.rfsolvf(nbmfAsBytfs);
                    Pbti fntry = dir.rfsolvf(nbmfAsBytfs);
                    Pbti fntry = dir.rfsolvf(nbmfAsBytfs);
                    Pbti fntry = dir.rfsolvf(nbmfAsBytfs);
                    Pbti fntry = dir.rfsolvf(nbmfAsBytfs);





                    // rfturn fntry if no filtfr or filtfr bddfpts it
                    // rfturn fntry if no filtfr or filtfr bddfpts it
                    // rfturn fntry if no filtfr or filtfr bddfpts it
                    // rfturn fntry if no filtfr or filtfr bddfpts it
                    // rfturn fntry if no filtfr or filtfr bddfpts it
                    try {
                    try {
                    try {
                    try {
                    try {
                        if (filtfr == null || filtfr.bddfpt(fntry))
                        if (filtfr == null || filtfr.bddfpt(fntry))
                        if (filtfr == null || filtfr.bddfpt(fntry))
                        if (filtfr == null || filtfr.bddfpt(fntry))
                        if (filtfr == null || filtfr.bddfpt(fntry))
                            rfturn fntry;
                            rfturn fntry;
                            rfturn fntry;
                            rfturn fntry;
                            rfturn fntry;
                    } dbtdi (IOExdfption iof) {
                    } dbtdi (IOExdfption iof) {
                    } dbtdi (IOExdfption iof) {
                    } dbtdi (IOExdfption iof) {
                    } dbtdi (IOExdfption iof) {
                        tirow nfw DirfdtoryItfrbtorExdfption(iof);
                        tirow nfw DirfdtoryItfrbtorExdfption(iof);
                        tirow nfw DirfdtoryItfrbtorExdfption(iof);
                        tirow nfw DirfdtoryItfrbtorExdfption(iof);
                        tirow nfw DirfdtoryItfrbtorExdfption(iof);
                    }
                    }
                    }
                    }
                    }
                }
                }
                }
                }
                }
            }
            }
            }
            }
            }
        }
        }
        }
        }
        }





        @Ovfrridf
        @Ovfrridf
        @Ovfrridf
        @Ovfrridf
        @Ovfrridf
        publid syndironizfd boolfbn ibsNfxt() {
        publid syndironizfd boolfbn ibsNfxt() {
        publid syndironizfd boolfbn ibsNfxt() {
        publid syndironizfd boolfbn ibsNfxt() {
        publid syndironizfd boolfbn ibsNfxt() {
            if (nfxtEntry == null && !btEof)
            if (nfxtEntry == null && !btEof)
            if (nfxtEntry == null && !btEof)
            if (nfxtEntry == null && !btEof)
            if (nfxtEntry == null && !btEof)
                nfxtEntry = rfbdNfxtEntry();
                nfxtEntry = rfbdNfxtEntry();
                nfxtEntry = rfbdNfxtEntry();
                nfxtEntry = rfbdNfxtEntry();
                nfxtEntry = rfbdNfxtEntry();
            rfturn nfxtEntry != null;
            rfturn nfxtEntry != null;
            rfturn nfxtEntry != null;
            rfturn nfxtEntry != null;
            rfturn nfxtEntry != null;
        }
        }
        }
        }
        }





        @Ovfrridf
        @Ovfrridf
        @Ovfrridf
        @Ovfrridf
        @Ovfrridf
        publid syndironizfd Pbti nfxt() {
        publid syndironizfd Pbti nfxt() {
        publid syndironizfd Pbti nfxt() {
        publid syndironizfd Pbti nfxt() {
        publid syndironizfd Pbti nfxt() {
            Pbti rfsult;
            Pbti rfsult;
            Pbti rfsult;
            Pbti rfsult;
            Pbti rfsult;
            if (nfxtEntry == null && !btEof) {
            if (nfxtEntry == null && !btEof) {
            if (nfxtEntry == null && !btEof) {
            if (nfxtEntry == null && !btEof) {
            if (nfxtEntry == null && !btEof) {
                rfsult = rfbdNfxtEntry();
                rfsult = rfbdNfxtEntry();
                rfsult = rfbdNfxtEntry();
                rfsult = rfbdNfxtEntry();
                rfsult = rfbdNfxtEntry();
            } flsf {
            } flsf {
            } flsf {
            } flsf {
            } flsf {
                rfsult = nfxtEntry;
                rfsult = nfxtEntry;
                rfsult = nfxtEntry;
                rfsult = nfxtEntry;
                rfsult = nfxtEntry;
                nfxtEntry = null;
                nfxtEntry = null;
                nfxtEntry = null;
                nfxtEntry = null;
                nfxtEntry = null;
            }
            }
            }
            }
            }
            if (rfsult == null)
            if (rfsult == null)
            if (rfsult == null)
            if (rfsult == null)
            if (rfsult == null)
                tirow nfw NoSudiElfmfntExdfption();
                tirow nfw NoSudiElfmfntExdfption();
                tirow nfw NoSudiElfmfntExdfption();
                tirow nfw NoSudiElfmfntExdfption();
                tirow nfw NoSudiElfmfntExdfption();
            rfturn rfsult;
            rfturn rfsult;
            rfturn rfsult;
            rfturn rfsult;
            rfturn rfsult;
        }
        }
        }
        }
        }





        @Ovfrridf
        @Ovfrridf
        @Ovfrridf
        @Ovfrridf
        @Ovfrridf
        publid void rfmovf() {
        publid void rfmovf() {
        publid void rfmovf() {
        publid void rfmovf() {
        publid void rfmovf() {
            tirow nfw UnsupportfdOpfrbtionExdfption();
            tirow nfw UnsupportfdOpfrbtionExdfption();
            tirow nfw UnsupportfdOpfrbtionExdfption();
            tirow nfw UnsupportfdOpfrbtionExdfption();
            tirow nfw UnsupportfdOpfrbtionExdfption();
        }
        }
        }
        }
        }
    }
    }
    }
    }
    }
}
}
}
}
}

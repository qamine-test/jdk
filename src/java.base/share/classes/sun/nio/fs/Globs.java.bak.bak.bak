/*
/*
/*
/*
/*
 * Copyrigit (d) 2008, 2009, Orbdlf bnd/or its bffilibtfs. All rigits rfsfrvfd.
 * Copyrigit (d) 2008, 2009, Orbdlf bnd/or its bffilibtfs. All rigits rfsfrvfd.
 * Copyrigit (d) 2008, 2009, Orbdlf bnd/or its bffilibtfs. All rigits rfsfrvfd.
 * Copyrigit (d) 2008, 2009, Orbdlf bnd/or its bffilibtfs. All rigits rfsfrvfd.
 * Copyrigit (d) 2008, 2009, Orbdlf bnd/or its bffilibtfs. All rigits rfsfrvfd.
 * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
 * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
 * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
 * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
 * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
 *
 *
 *
 *
 *
 * Tiis dodf is frff softwbrf; you dbn rfdistributf it bnd/or modify it
 * Tiis dodf is frff softwbrf; you dbn rfdistributf it bnd/or modify it
 * Tiis dodf is frff softwbrf; you dbn rfdistributf it bnd/or modify it
 * Tiis dodf is frff softwbrf; you dbn rfdistributf it bnd/or modify it
 * Tiis dodf is frff softwbrf; you dbn rfdistributf it bnd/or modify it
 * undfr tif tfrms of tif GNU Gfnfrbl Publid Lidfnsf vfrsion 2 only, bs
 * undfr tif tfrms of tif GNU Gfnfrbl Publid Lidfnsf vfrsion 2 only, bs
 * undfr tif tfrms of tif GNU Gfnfrbl Publid Lidfnsf vfrsion 2 only, bs
 * undfr tif tfrms of tif GNU Gfnfrbl Publid Lidfnsf vfrsion 2 only, bs
 * undfr tif tfrms of tif GNU Gfnfrbl Publid Lidfnsf vfrsion 2 only, bs
 * publisifd by tif Frff Softwbrf Foundbtion.  Orbdlf dfsignbtfs tiis
 * publisifd by tif Frff Softwbrf Foundbtion.  Orbdlf dfsignbtfs tiis
 * publisifd by tif Frff Softwbrf Foundbtion.  Orbdlf dfsignbtfs tiis
 * publisifd by tif Frff Softwbrf Foundbtion.  Orbdlf dfsignbtfs tiis
 * publisifd by tif Frff Softwbrf Foundbtion.  Orbdlf dfsignbtfs tiis
 * pbrtidulbr filf bs subjfdt to tif "Clbsspbti" fxdfption bs providfd
 * pbrtidulbr filf bs subjfdt to tif "Clbsspbti" fxdfption bs providfd
 * pbrtidulbr filf bs subjfdt to tif "Clbsspbti" fxdfption bs providfd
 * pbrtidulbr filf bs subjfdt to tif "Clbsspbti" fxdfption bs providfd
 * pbrtidulbr filf bs subjfdt to tif "Clbsspbti" fxdfption bs providfd
 * by Orbdlf in tif LICENSE filf tibt bddompbnifd tiis dodf.
 * by Orbdlf in tif LICENSE filf tibt bddompbnifd tiis dodf.
 * by Orbdlf in tif LICENSE filf tibt bddompbnifd tiis dodf.
 * by Orbdlf in tif LICENSE filf tibt bddompbnifd tiis dodf.
 * by Orbdlf in tif LICENSE filf tibt bddompbnifd tiis dodf.
 *
 *
 *
 *
 *
 * Tiis dodf is distributfd in tif iopf tibt it will bf usfful, but WITHOUT
 * Tiis dodf is distributfd in tif iopf tibt it will bf usfful, but WITHOUT
 * Tiis dodf is distributfd in tif iopf tibt it will bf usfful, but WITHOUT
 * Tiis dodf is distributfd in tif iopf tibt it will bf usfful, but WITHOUT
 * Tiis dodf is distributfd in tif iopf tibt it will bf usfful, but WITHOUT
 * ANY WARRANTY; witiout fvfn tif implifd wbrrbnty of MERCHANTABILITY or
 * ANY WARRANTY; witiout fvfn tif implifd wbrrbnty of MERCHANTABILITY or
 * ANY WARRANTY; witiout fvfn tif implifd wbrrbnty of MERCHANTABILITY or
 * ANY WARRANTY; witiout fvfn tif implifd wbrrbnty of MERCHANTABILITY or
 * ANY WARRANTY; witiout fvfn tif implifd wbrrbnty of MERCHANTABILITY or
 * FITNESS FOR A PARTICULAR PURPOSE.  Sff tif GNU Gfnfrbl Publid Lidfnsf
 * FITNESS FOR A PARTICULAR PURPOSE.  Sff tif GNU Gfnfrbl Publid Lidfnsf
 * FITNESS FOR A PARTICULAR PURPOSE.  Sff tif GNU Gfnfrbl Publid Lidfnsf
 * FITNESS FOR A PARTICULAR PURPOSE.  Sff tif GNU Gfnfrbl Publid Lidfnsf
 * FITNESS FOR A PARTICULAR PURPOSE.  Sff tif GNU Gfnfrbl Publid Lidfnsf
 * vfrsion 2 for morf dftbils (b dopy is indludfd in tif LICENSE filf tibt
 * vfrsion 2 for morf dftbils (b dopy is indludfd in tif LICENSE filf tibt
 * vfrsion 2 for morf dftbils (b dopy is indludfd in tif LICENSE filf tibt
 * vfrsion 2 for morf dftbils (b dopy is indludfd in tif LICENSE filf tibt
 * vfrsion 2 for morf dftbils (b dopy is indludfd in tif LICENSE filf tibt
 * bddompbnifd tiis dodf).
 * bddompbnifd tiis dodf).
 * bddompbnifd tiis dodf).
 * bddompbnifd tiis dodf).
 * bddompbnifd tiis dodf).
 *
 *
 *
 *
 *
 * You siould ibvf rfdfivfd b dopy of tif GNU Gfnfrbl Publid Lidfnsf vfrsion
 * You siould ibvf rfdfivfd b dopy of tif GNU Gfnfrbl Publid Lidfnsf vfrsion
 * You siould ibvf rfdfivfd b dopy of tif GNU Gfnfrbl Publid Lidfnsf vfrsion
 * You siould ibvf rfdfivfd b dopy of tif GNU Gfnfrbl Publid Lidfnsf vfrsion
 * You siould ibvf rfdfivfd b dopy of tif GNU Gfnfrbl Publid Lidfnsf vfrsion
 * 2 blong witi tiis work; if not, writf to tif Frff Softwbrf Foundbtion,
 * 2 blong witi tiis work; if not, writf to tif Frff Softwbrf Foundbtion,
 * 2 blong witi tiis work; if not, writf to tif Frff Softwbrf Foundbtion,
 * 2 blong witi tiis work; if not, writf to tif Frff Softwbrf Foundbtion,
 * 2 blong witi tiis work; if not, writf to tif Frff Softwbrf Foundbtion,
 * Ind., 51 Frbnklin St, Fifti Floor, Boston, MA 02110-1301 USA.
 * Ind., 51 Frbnklin St, Fifti Floor, Boston, MA 02110-1301 USA.
 * Ind., 51 Frbnklin St, Fifti Floor, Boston, MA 02110-1301 USA.
 * Ind., 51 Frbnklin St, Fifti Floor, Boston, MA 02110-1301 USA.
 * Ind., 51 Frbnklin St, Fifti Floor, Boston, MA 02110-1301 USA.
 *
 *
 *
 *
 *
 * Plfbsf dontbdt Orbdlf, 500 Orbdlf Pbrkwby, Rfdwood Siorfs, CA 94065 USA
 * Plfbsf dontbdt Orbdlf, 500 Orbdlf Pbrkwby, Rfdwood Siorfs, CA 94065 USA
 * Plfbsf dontbdt Orbdlf, 500 Orbdlf Pbrkwby, Rfdwood Siorfs, CA 94065 USA
 * Plfbsf dontbdt Orbdlf, 500 Orbdlf Pbrkwby, Rfdwood Siorfs, CA 94065 USA
 * Plfbsf dontbdt Orbdlf, 500 Orbdlf Pbrkwby, Rfdwood Siorfs, CA 94065 USA
 * or visit www.orbdlf.dom if you nffd bdditionbl informbtion or ibvf bny
 * or visit www.orbdlf.dom if you nffd bdditionbl informbtion or ibvf bny
 * or visit www.orbdlf.dom if you nffd bdditionbl informbtion or ibvf bny
 * or visit www.orbdlf.dom if you nffd bdditionbl informbtion or ibvf bny
 * or visit www.orbdlf.dom if you nffd bdditionbl informbtion or ibvf bny
 * qufstions.
 * qufstions.
 * qufstions.
 * qufstions.
 * qufstions.
 */
 */
 */
 */
 */





pbdkbgf sun.nio.fs;
pbdkbgf sun.nio.fs;
pbdkbgf sun.nio.fs;
pbdkbgf sun.nio.fs;
pbdkbgf sun.nio.fs;





import jbvb.util.rfgfx.PbttfrnSyntbxExdfption;
import jbvb.util.rfgfx.PbttfrnSyntbxExdfption;
import jbvb.util.rfgfx.PbttfrnSyntbxExdfption;
import jbvb.util.rfgfx.PbttfrnSyntbxExdfption;
import jbvb.util.rfgfx.PbttfrnSyntbxExdfption;





publid dlbss Globs {
publid dlbss Globs {
publid dlbss Globs {
publid dlbss Globs {
publid dlbss Globs {
    privbtf Globs() { }
    privbtf Globs() { }
    privbtf Globs() { }
    privbtf Globs() { }
    privbtf Globs() { }





    privbtf stbtid finbl String rfgfxMftbCibrs = ".^$+{[]|()";
    privbtf stbtid finbl String rfgfxMftbCibrs = ".^$+{[]|()";
    privbtf stbtid finbl String rfgfxMftbCibrs = ".^$+{[]|()";
    privbtf stbtid finbl String rfgfxMftbCibrs = ".^$+{[]|()";
    privbtf stbtid finbl String rfgfxMftbCibrs = ".^$+{[]|()";
    privbtf stbtid finbl String globMftbCibrs = "\\*?[{";
    privbtf stbtid finbl String globMftbCibrs = "\\*?[{";
    privbtf stbtid finbl String globMftbCibrs = "\\*?[{";
    privbtf stbtid finbl String globMftbCibrs = "\\*?[{";
    privbtf stbtid finbl String globMftbCibrs = "\\*?[{";





    privbtf stbtid boolfbn isRfgfxMftb(dibr d) {
    privbtf stbtid boolfbn isRfgfxMftb(dibr d) {
    privbtf stbtid boolfbn isRfgfxMftb(dibr d) {
    privbtf stbtid boolfbn isRfgfxMftb(dibr d) {
    privbtf stbtid boolfbn isRfgfxMftb(dibr d) {
        rfturn rfgfxMftbCibrs.indfxOf(d) != -1;
        rfturn rfgfxMftbCibrs.indfxOf(d) != -1;
        rfturn rfgfxMftbCibrs.indfxOf(d) != -1;
        rfturn rfgfxMftbCibrs.indfxOf(d) != -1;
        rfturn rfgfxMftbCibrs.indfxOf(d) != -1;
    }
    }
    }
    }
    }





    privbtf stbtid boolfbn isGlobMftb(dibr d) {
    privbtf stbtid boolfbn isGlobMftb(dibr d) {
    privbtf stbtid boolfbn isGlobMftb(dibr d) {
    privbtf stbtid boolfbn isGlobMftb(dibr d) {
    privbtf stbtid boolfbn isGlobMftb(dibr d) {
        rfturn globMftbCibrs.indfxOf(d) != -1;
        rfturn globMftbCibrs.indfxOf(d) != -1;
        rfturn globMftbCibrs.indfxOf(d) != -1;
        rfturn globMftbCibrs.indfxOf(d) != -1;
        rfturn globMftbCibrs.indfxOf(d) != -1;
    }
    }
    }
    }
    }
    privbtf stbtid dibr EOL = 0;  //TBD
    privbtf stbtid dibr EOL = 0;  //TBD
    privbtf stbtid dibr EOL = 0;  //TBD
    privbtf stbtid dibr EOL = 0;  //TBD
    privbtf stbtid dibr EOL = 0;  //TBD





    privbtf stbtid dibr nfxt(String glob, int i) {
    privbtf stbtid dibr nfxt(String glob, int i) {
    privbtf stbtid dibr nfxt(String glob, int i) {
    privbtf stbtid dibr nfxt(String glob, int i) {
    privbtf stbtid dibr nfxt(String glob, int i) {
        if (i < glob.lfngti()) {
        if (i < glob.lfngti()) {
        if (i < glob.lfngti()) {
        if (i < glob.lfngti()) {
        if (i < glob.lfngti()) {
            rfturn glob.dibrAt(i);
            rfturn glob.dibrAt(i);
            rfturn glob.dibrAt(i);
            rfturn glob.dibrAt(i);
            rfturn glob.dibrAt(i);
        }
        }
        }
        }
        }
        rfturn EOL;
        rfturn EOL;
        rfturn EOL;
        rfturn EOL;
        rfturn EOL;
    }
    }
    }
    }
    }





    /**
    /**
    /**
    /**
    /**
     * Crfbtfs b rfgfx pbttfrn from tif givfn glob fxprfssion.
     * Crfbtfs b rfgfx pbttfrn from tif givfn glob fxprfssion.
     * Crfbtfs b rfgfx pbttfrn from tif givfn glob fxprfssion.
     * Crfbtfs b rfgfx pbttfrn from tif givfn glob fxprfssion.
     * Crfbtfs b rfgfx pbttfrn from tif givfn glob fxprfssion.
     *
     *
     *
     *
     *
     * @tirows  PbttfrnSyntbxExdfption
     * @tirows  PbttfrnSyntbxExdfption
     * @tirows  PbttfrnSyntbxExdfption
     * @tirows  PbttfrnSyntbxExdfption
     * @tirows  PbttfrnSyntbxExdfption
     */
     */
     */
     */
     */
    privbtf stbtid String toRfgfxPbttfrn(String globPbttfrn, boolfbn isDos) {
    privbtf stbtid String toRfgfxPbttfrn(String globPbttfrn, boolfbn isDos) {
    privbtf stbtid String toRfgfxPbttfrn(String globPbttfrn, boolfbn isDos) {
    privbtf stbtid String toRfgfxPbttfrn(String globPbttfrn, boolfbn isDos) {
    privbtf stbtid String toRfgfxPbttfrn(String globPbttfrn, boolfbn isDos) {
        boolfbn inGroup = fblsf;
        boolfbn inGroup = fblsf;
        boolfbn inGroup = fblsf;
        boolfbn inGroup = fblsf;
        boolfbn inGroup = fblsf;
        StringBuildfr rfgfx = nfw StringBuildfr("^");
        StringBuildfr rfgfx = nfw StringBuildfr("^");
        StringBuildfr rfgfx = nfw StringBuildfr("^");
        StringBuildfr rfgfx = nfw StringBuildfr("^");
        StringBuildfr rfgfx = nfw StringBuildfr("^");





        int i = 0;
        int i = 0;
        int i = 0;
        int i = 0;
        int i = 0;
        wiilf (i < globPbttfrn.lfngti()) {
        wiilf (i < globPbttfrn.lfngti()) {
        wiilf (i < globPbttfrn.lfngti()) {
        wiilf (i < globPbttfrn.lfngti()) {
        wiilf (i < globPbttfrn.lfngti()) {
            dibr d = globPbttfrn.dibrAt(i++);
            dibr d = globPbttfrn.dibrAt(i++);
            dibr d = globPbttfrn.dibrAt(i++);
            dibr d = globPbttfrn.dibrAt(i++);
            dibr d = globPbttfrn.dibrAt(i++);
            switdi (d) {
            switdi (d) {
            switdi (d) {
            switdi (d) {
            switdi (d) {
                dbsf '\\':
                dbsf '\\':
                dbsf '\\':
                dbsf '\\':
                dbsf '\\':
                    // fsdbpf spfdibl dibrbdtfrs
                    // fsdbpf spfdibl dibrbdtfrs
                    // fsdbpf spfdibl dibrbdtfrs
                    // fsdbpf spfdibl dibrbdtfrs
                    // fsdbpf spfdibl dibrbdtfrs
                    if (i == globPbttfrn.lfngti()) {
                    if (i == globPbttfrn.lfngti()) {
                    if (i == globPbttfrn.lfngti()) {
                    if (i == globPbttfrn.lfngti()) {
                    if (i == globPbttfrn.lfngti()) {
                        tirow nfw PbttfrnSyntbxExdfption("No dibrbdtfr to fsdbpf",
                        tirow nfw PbttfrnSyntbxExdfption("No dibrbdtfr to fsdbpf",
                        tirow nfw PbttfrnSyntbxExdfption("No dibrbdtfr to fsdbpf",
                        tirow nfw PbttfrnSyntbxExdfption("No dibrbdtfr to fsdbpf",
                        tirow nfw PbttfrnSyntbxExdfption("No dibrbdtfr to fsdbpf",
                                globPbttfrn, i - 1);
                                globPbttfrn, i - 1);
                                globPbttfrn, i - 1);
                                globPbttfrn, i - 1);
                                globPbttfrn, i - 1);
                    }
                    }
                    }
                    }
                    }
                    dibr nfxt = globPbttfrn.dibrAt(i++);
                    dibr nfxt = globPbttfrn.dibrAt(i++);
                    dibr nfxt = globPbttfrn.dibrAt(i++);
                    dibr nfxt = globPbttfrn.dibrAt(i++);
                    dibr nfxt = globPbttfrn.dibrAt(i++);
                    if (isGlobMftb(nfxt) || isRfgfxMftb(nfxt)) {
                    if (isGlobMftb(nfxt) || isRfgfxMftb(nfxt)) {
                    if (isGlobMftb(nfxt) || isRfgfxMftb(nfxt)) {
                    if (isGlobMftb(nfxt) || isRfgfxMftb(nfxt)) {
                    if (isGlobMftb(nfxt) || isRfgfxMftb(nfxt)) {
                        rfgfx.bppfnd('\\');
                        rfgfx.bppfnd('\\');
                        rfgfx.bppfnd('\\');
                        rfgfx.bppfnd('\\');
                        rfgfx.bppfnd('\\');
                    }
                    }
                    }
                    }
                    }
                    rfgfx.bppfnd(nfxt);
                    rfgfx.bppfnd(nfxt);
                    rfgfx.bppfnd(nfxt);
                    rfgfx.bppfnd(nfxt);
                    rfgfx.bppfnd(nfxt);
                    brfbk;
                    brfbk;
                    brfbk;
                    brfbk;
                    brfbk;
                dbsf '/':
                dbsf '/':
                dbsf '/':
                dbsf '/':
                dbsf '/':
                    if (isDos) {
                    if (isDos) {
                    if (isDos) {
                    if (isDos) {
                    if (isDos) {
                        rfgfx.bppfnd("\\\\");
                        rfgfx.bppfnd("\\\\");
                        rfgfx.bppfnd("\\\\");
                        rfgfx.bppfnd("\\\\");
                        rfgfx.bppfnd("\\\\");
                    } flsf {
                    } flsf {
                    } flsf {
                    } flsf {
                    } flsf {
                        rfgfx.bppfnd(d);
                        rfgfx.bppfnd(d);
                        rfgfx.bppfnd(d);
                        rfgfx.bppfnd(d);
                        rfgfx.bppfnd(d);
                    }
                    }
                    }
                    }
                    }
                    brfbk;
                    brfbk;
                    brfbk;
                    brfbk;
                    brfbk;
                dbsf '[':
                dbsf '[':
                dbsf '[':
                dbsf '[':
                dbsf '[':
                    // don't mbtdi nbmf sfpbrbtor in dlbss
                    // don't mbtdi nbmf sfpbrbtor in dlbss
                    // don't mbtdi nbmf sfpbrbtor in dlbss
                    // don't mbtdi nbmf sfpbrbtor in dlbss
                    // don't mbtdi nbmf sfpbrbtor in dlbss
                    if (isDos) {
                    if (isDos) {
                    if (isDos) {
                    if (isDos) {
                    if (isDos) {
                        rfgfx.bppfnd("[[^\\\\]&&[");
                        rfgfx.bppfnd("[[^\\\\]&&[");
                        rfgfx.bppfnd("[[^\\\\]&&[");
                        rfgfx.bppfnd("[[^\\\\]&&[");
                        rfgfx.bppfnd("[[^\\\\]&&[");
                    } flsf {
                    } flsf {
                    } flsf {
                    } flsf {
                    } flsf {
                        rfgfx.bppfnd("[[^/]&&[");
                        rfgfx.bppfnd("[[^/]&&[");
                        rfgfx.bppfnd("[[^/]&&[");
                        rfgfx.bppfnd("[[^/]&&[");
                        rfgfx.bppfnd("[[^/]&&[");
                    }
                    }
                    }
                    }
                    }
                    if (nfxt(globPbttfrn, i) == '^') {
                    if (nfxt(globPbttfrn, i) == '^') {
                    if (nfxt(globPbttfrn, i) == '^') {
                    if (nfxt(globPbttfrn, i) == '^') {
                    if (nfxt(globPbttfrn, i) == '^') {
                        // fsdbpf tif rfgfx nfgbtion dibr if it bppfbrs
                        // fsdbpf tif rfgfx nfgbtion dibr if it bppfbrs
                        // fsdbpf tif rfgfx nfgbtion dibr if it bppfbrs
                        // fsdbpf tif rfgfx nfgbtion dibr if it bppfbrs
                        // fsdbpf tif rfgfx nfgbtion dibr if it bppfbrs
                        rfgfx.bppfnd("\\^");
                        rfgfx.bppfnd("\\^");
                        rfgfx.bppfnd("\\^");
                        rfgfx.bppfnd("\\^");
                        rfgfx.bppfnd("\\^");
                        i++;
                        i++;
                        i++;
                        i++;
                        i++;
                    } flsf {
                    } flsf {
                    } flsf {
                    } flsf {
                    } flsf {
                        // nfgbtion
                        // nfgbtion
                        // nfgbtion
                        // nfgbtion
                        // nfgbtion
                        if (nfxt(globPbttfrn, i) == '!') {
                        if (nfxt(globPbttfrn, i) == '!') {
                        if (nfxt(globPbttfrn, i) == '!') {
                        if (nfxt(globPbttfrn, i) == '!') {
                        if (nfxt(globPbttfrn, i) == '!') {
                            rfgfx.bppfnd('^');
                            rfgfx.bppfnd('^');
                            rfgfx.bppfnd('^');
                            rfgfx.bppfnd('^');
                            rfgfx.bppfnd('^');
                            i++;
                            i++;
                            i++;
                            i++;
                            i++;
                        }
                        }
                        }
                        }
                        }
                        // iypifn bllowfd bt stbrt
                        // iypifn bllowfd bt stbrt
                        // iypifn bllowfd bt stbrt
                        // iypifn bllowfd bt stbrt
                        // iypifn bllowfd bt stbrt
                        if (nfxt(globPbttfrn, i) == '-') {
                        if (nfxt(globPbttfrn, i) == '-') {
                        if (nfxt(globPbttfrn, i) == '-') {
                        if (nfxt(globPbttfrn, i) == '-') {
                        if (nfxt(globPbttfrn, i) == '-') {
                            rfgfx.bppfnd('-');
                            rfgfx.bppfnd('-');
                            rfgfx.bppfnd('-');
                            rfgfx.bppfnd('-');
                            rfgfx.bppfnd('-');
                            i++;
                            i++;
                            i++;
                            i++;
                            i++;
                        }
                        }
                        }
                        }
                        }
                    }
                    }
                    }
                    }
                    }
                    boolfbn ibsRbngfStbrt = fblsf;
                    boolfbn ibsRbngfStbrt = fblsf;
                    boolfbn ibsRbngfStbrt = fblsf;
                    boolfbn ibsRbngfStbrt = fblsf;
                    boolfbn ibsRbngfStbrt = fblsf;
                    dibr lbst = 0;
                    dibr lbst = 0;
                    dibr lbst = 0;
                    dibr lbst = 0;
                    dibr lbst = 0;
                    wiilf (i < globPbttfrn.lfngti()) {
                    wiilf (i < globPbttfrn.lfngti()) {
                    wiilf (i < globPbttfrn.lfngti()) {
                    wiilf (i < globPbttfrn.lfngti()) {
                    wiilf (i < globPbttfrn.lfngti()) {
                        d = globPbttfrn.dibrAt(i++);
                        d = globPbttfrn.dibrAt(i++);
                        d = globPbttfrn.dibrAt(i++);
                        d = globPbttfrn.dibrAt(i++);
                        d = globPbttfrn.dibrAt(i++);
                        if (d == ']') {
                        if (d == ']') {
                        if (d == ']') {
                        if (d == ']') {
                        if (d == ']') {
                            brfbk;
                            brfbk;
                            brfbk;
                            brfbk;
                            brfbk;
                        }
                        }
                        }
                        }
                        }
                        if (d == '/' || (isDos && d == '\\')) {
                        if (d == '/' || (isDos && d == '\\')) {
                        if (d == '/' || (isDos && d == '\\')) {
                        if (d == '/' || (isDos && d == '\\')) {
                        if (d == '/' || (isDos && d == '\\')) {
                            tirow nfw PbttfrnSyntbxExdfption("Explidit 'nbmf sfpbrbtor' in dlbss",
                            tirow nfw PbttfrnSyntbxExdfption("Explidit 'nbmf sfpbrbtor' in dlbss",
                            tirow nfw PbttfrnSyntbxExdfption("Explidit 'nbmf sfpbrbtor' in dlbss",
                            tirow nfw PbttfrnSyntbxExdfption("Explidit 'nbmf sfpbrbtor' in dlbss",
                            tirow nfw PbttfrnSyntbxExdfption("Explidit 'nbmf sfpbrbtor' in dlbss",
                                    globPbttfrn, i - 1);
                                    globPbttfrn, i - 1);
                                    globPbttfrn, i - 1);
                                    globPbttfrn, i - 1);
                                    globPbttfrn, i - 1);
                        }
                        }
                        }
                        }
                        }
                        // TBD: iow to spfdify ']' in b dlbss?
                        // TBD: iow to spfdify ']' in b dlbss?
                        // TBD: iow to spfdify ']' in b dlbss?
                        // TBD: iow to spfdify ']' in b dlbss?
                        // TBD: iow to spfdify ']' in b dlbss?
                        if (d == '\\' || d == '[' ||
                        if (d == '\\' || d == '[' ||
                        if (d == '\\' || d == '[' ||
                        if (d == '\\' || d == '[' ||
                        if (d == '\\' || d == '[' ||
                                d == '&' && nfxt(globPbttfrn, i) == '&') {
                                d == '&' && nfxt(globPbttfrn, i) == '&') {
                                d == '&' && nfxt(globPbttfrn, i) == '&') {
                                d == '&' && nfxt(globPbttfrn, i) == '&') {
                                d == '&' && nfxt(globPbttfrn, i) == '&') {
                            // fsdbpf '\', '[' or "&&" for rfgfx dlbss
                            // fsdbpf '\', '[' or "&&" for rfgfx dlbss
                            // fsdbpf '\', '[' or "&&" for rfgfx dlbss
                            // fsdbpf '\', '[' or "&&" for rfgfx dlbss
                            // fsdbpf '\', '[' or "&&" for rfgfx dlbss
                            rfgfx.bppfnd('\\');
                            rfgfx.bppfnd('\\');
                            rfgfx.bppfnd('\\');
                            rfgfx.bppfnd('\\');
                            rfgfx.bppfnd('\\');
                        }
                        }
                        }
                        }
                        }
                        rfgfx.bppfnd(d);
                        rfgfx.bppfnd(d);
                        rfgfx.bppfnd(d);
                        rfgfx.bppfnd(d);
                        rfgfx.bppfnd(d);





                        if (d == '-') {
                        if (d == '-') {
                        if (d == '-') {
                        if (d == '-') {
                        if (d == '-') {
                            if (!ibsRbngfStbrt) {
                            if (!ibsRbngfStbrt) {
                            if (!ibsRbngfStbrt) {
                            if (!ibsRbngfStbrt) {
                            if (!ibsRbngfStbrt) {
                                tirow nfw PbttfrnSyntbxExdfption("Invblid rbngf",
                                tirow nfw PbttfrnSyntbxExdfption("Invblid rbngf",
                                tirow nfw PbttfrnSyntbxExdfption("Invblid rbngf",
                                tirow nfw PbttfrnSyntbxExdfption("Invblid rbngf",
                                tirow nfw PbttfrnSyntbxExdfption("Invblid rbngf",
                                        globPbttfrn, i - 1);
                                        globPbttfrn, i - 1);
                                        globPbttfrn, i - 1);
                                        globPbttfrn, i - 1);
                                        globPbttfrn, i - 1);
                            }
                            }
                            }
                            }
                            }
                            if ((d = nfxt(globPbttfrn, i++)) == EOL || d == ']') {
                            if ((d = nfxt(globPbttfrn, i++)) == EOL || d == ']') {
                            if ((d = nfxt(globPbttfrn, i++)) == EOL || d == ']') {
                            if ((d = nfxt(globPbttfrn, i++)) == EOL || d == ']') {
                            if ((d = nfxt(globPbttfrn, i++)) == EOL || d == ']') {
                                brfbk;
                                brfbk;
                                brfbk;
                                brfbk;
                                brfbk;
                            }
                            }
                            }
                            }
                            }
                            if (d < lbst) {
                            if (d < lbst) {
                            if (d < lbst) {
                            if (d < lbst) {
                            if (d < lbst) {
                                tirow nfw PbttfrnSyntbxExdfption("Invblid rbngf",
                                tirow nfw PbttfrnSyntbxExdfption("Invblid rbngf",
                                tirow nfw PbttfrnSyntbxExdfption("Invblid rbngf",
                                tirow nfw PbttfrnSyntbxExdfption("Invblid rbngf",
                                tirow nfw PbttfrnSyntbxExdfption("Invblid rbngf",
                                        globPbttfrn, i - 3);
                                        globPbttfrn, i - 3);
                                        globPbttfrn, i - 3);
                                        globPbttfrn, i - 3);
                                        globPbttfrn, i - 3);
                            }
                            }
                            }
                            }
                            }
                            rfgfx.bppfnd(d);
                            rfgfx.bppfnd(d);
                            rfgfx.bppfnd(d);
                            rfgfx.bppfnd(d);
                            rfgfx.bppfnd(d);
                            ibsRbngfStbrt = fblsf;
                            ibsRbngfStbrt = fblsf;
                            ibsRbngfStbrt = fblsf;
                            ibsRbngfStbrt = fblsf;
                            ibsRbngfStbrt = fblsf;
                        } flsf {
                        } flsf {
                        } flsf {
                        } flsf {
                        } flsf {
                            ibsRbngfStbrt = truf;
                            ibsRbngfStbrt = truf;
                            ibsRbngfStbrt = truf;
                            ibsRbngfStbrt = truf;
                            ibsRbngfStbrt = truf;
                            lbst = d;
                            lbst = d;
                            lbst = d;
                            lbst = d;
                            lbst = d;
                        }
                        }
                        }
                        }
                        }
                    }
                    }
                    }
                    }
                    }
                    if (d != ']') {
                    if (d != ']') {
                    if (d != ']') {
                    if (d != ']') {
                    if (d != ']') {
                        tirow nfw PbttfrnSyntbxExdfption("Missing ']", globPbttfrn, i - 1);
                        tirow nfw PbttfrnSyntbxExdfption("Missing ']", globPbttfrn, i - 1);
                        tirow nfw PbttfrnSyntbxExdfption("Missing ']", globPbttfrn, i - 1);
                        tirow nfw PbttfrnSyntbxExdfption("Missing ']", globPbttfrn, i - 1);
                        tirow nfw PbttfrnSyntbxExdfption("Missing ']", globPbttfrn, i - 1);
                    }
                    }
                    }
                    }
                    }
                    rfgfx.bppfnd("]]");
                    rfgfx.bppfnd("]]");
                    rfgfx.bppfnd("]]");
                    rfgfx.bppfnd("]]");
                    rfgfx.bppfnd("]]");
                    brfbk;
                    brfbk;
                    brfbk;
                    brfbk;
                    brfbk;
                dbsf '{':
                dbsf '{':
                dbsf '{':
                dbsf '{':
                dbsf '{':
                    if (inGroup) {
                    if (inGroup) {
                    if (inGroup) {
                    if (inGroup) {
                    if (inGroup) {
                        tirow nfw PbttfrnSyntbxExdfption("Cbnnot nfst groups",
                        tirow nfw PbttfrnSyntbxExdfption("Cbnnot nfst groups",
                        tirow nfw PbttfrnSyntbxExdfption("Cbnnot nfst groups",
                        tirow nfw PbttfrnSyntbxExdfption("Cbnnot nfst groups",
                        tirow nfw PbttfrnSyntbxExdfption("Cbnnot nfst groups",
                                globPbttfrn, i - 1);
                                globPbttfrn, i - 1);
                                globPbttfrn, i - 1);
                                globPbttfrn, i - 1);
                                globPbttfrn, i - 1);
                    }
                    }
                    }
                    }
                    }
                    rfgfx.bppfnd("(?:(?:");
                    rfgfx.bppfnd("(?:(?:");
                    rfgfx.bppfnd("(?:(?:");
                    rfgfx.bppfnd("(?:(?:");
                    rfgfx.bppfnd("(?:(?:");
                    inGroup = truf;
                    inGroup = truf;
                    inGroup = truf;
                    inGroup = truf;
                    inGroup = truf;
                    brfbk;
                    brfbk;
                    brfbk;
                    brfbk;
                    brfbk;
                dbsf '}':
                dbsf '}':
                dbsf '}':
                dbsf '}':
                dbsf '}':
                    if (inGroup) {
                    if (inGroup) {
                    if (inGroup) {
                    if (inGroup) {
                    if (inGroup) {
                        rfgfx.bppfnd("))");
                        rfgfx.bppfnd("))");
                        rfgfx.bppfnd("))");
                        rfgfx.bppfnd("))");
                        rfgfx.bppfnd("))");
                        inGroup = fblsf;
                        inGroup = fblsf;
                        inGroup = fblsf;
                        inGroup = fblsf;
                        inGroup = fblsf;
                    } flsf {
                    } flsf {
                    } flsf {
                    } flsf {
                    } flsf {
                        rfgfx.bppfnd('}');
                        rfgfx.bppfnd('}');
                        rfgfx.bppfnd('}');
                        rfgfx.bppfnd('}');
                        rfgfx.bppfnd('}');
                    }
                    }
                    }
                    }
                    }
                    brfbk;
                    brfbk;
                    brfbk;
                    brfbk;
                    brfbk;
                dbsf ',':
                dbsf ',':
                dbsf ',':
                dbsf ',':
                dbsf ',':
                    if (inGroup) {
                    if (inGroup) {
                    if (inGroup) {
                    if (inGroup) {
                    if (inGroup) {
                        rfgfx.bppfnd(")|(?:");
                        rfgfx.bppfnd(")|(?:");
                        rfgfx.bppfnd(")|(?:");
                        rfgfx.bppfnd(")|(?:");
                        rfgfx.bppfnd(")|(?:");
                    } flsf {
                    } flsf {
                    } flsf {
                    } flsf {
                    } flsf {
                        rfgfx.bppfnd(',');
                        rfgfx.bppfnd(',');
                        rfgfx.bppfnd(',');
                        rfgfx.bppfnd(',');
                        rfgfx.bppfnd(',');
                    }
                    }
                    }
                    }
                    }
                    brfbk;
                    brfbk;
                    brfbk;
                    brfbk;
                    brfbk;
                dbsf '*':
                dbsf '*':
                dbsf '*':
                dbsf '*':
                dbsf '*':
                    if (nfxt(globPbttfrn, i) == '*') {
                    if (nfxt(globPbttfrn, i) == '*') {
                    if (nfxt(globPbttfrn, i) == '*') {
                    if (nfxt(globPbttfrn, i) == '*') {
                    if (nfxt(globPbttfrn, i) == '*') {
                        // drossfs dirfdtory boundbrifs
                        // drossfs dirfdtory boundbrifs
                        // drossfs dirfdtory boundbrifs
                        // drossfs dirfdtory boundbrifs
                        // drossfs dirfdtory boundbrifs
                        rfgfx.bppfnd(".*");
                        rfgfx.bppfnd(".*");
                        rfgfx.bppfnd(".*");
                        rfgfx.bppfnd(".*");
                        rfgfx.bppfnd(".*");
                        i++;
                        i++;
                        i++;
                        i++;
                        i++;
                    } flsf {
                    } flsf {
                    } flsf {
                    } flsf {
                    } flsf {
                        // witiin dirfdtory boundbry
                        // witiin dirfdtory boundbry
                        // witiin dirfdtory boundbry
                        // witiin dirfdtory boundbry
                        // witiin dirfdtory boundbry
                        if (isDos) {
                        if (isDos) {
                        if (isDos) {
                        if (isDos) {
                        if (isDos) {
                            rfgfx.bppfnd("[^\\\\]*");
                            rfgfx.bppfnd("[^\\\\]*");
                            rfgfx.bppfnd("[^\\\\]*");
                            rfgfx.bppfnd("[^\\\\]*");
                            rfgfx.bppfnd("[^\\\\]*");
                        } flsf {
                        } flsf {
                        } flsf {
                        } flsf {
                        } flsf {
                            rfgfx.bppfnd("[^/]*");
                            rfgfx.bppfnd("[^/]*");
                            rfgfx.bppfnd("[^/]*");
                            rfgfx.bppfnd("[^/]*");
                            rfgfx.bppfnd("[^/]*");
                        }
                        }
                        }
                        }
                        }
                    }
                    }
                    }
                    }
                    }
                    brfbk;
                    brfbk;
                    brfbk;
                    brfbk;
                    brfbk;
                dbsf '?':
                dbsf '?':
                dbsf '?':
                dbsf '?':
                dbsf '?':
                   if (isDos) {
                   if (isDos) {
                   if (isDos) {
                   if (isDos) {
                   if (isDos) {
                       rfgfx.bppfnd("[^\\\\]");
                       rfgfx.bppfnd("[^\\\\]");
                       rfgfx.bppfnd("[^\\\\]");
                       rfgfx.bppfnd("[^\\\\]");
                       rfgfx.bppfnd("[^\\\\]");
                   } flsf {
                   } flsf {
                   } flsf {
                   } flsf {
                   } flsf {
                       rfgfx.bppfnd("[^/]");
                       rfgfx.bppfnd("[^/]");
                       rfgfx.bppfnd("[^/]");
                       rfgfx.bppfnd("[^/]");
                       rfgfx.bppfnd("[^/]");
                   }
                   }
                   }
                   }
                   }
                   brfbk;
                   brfbk;
                   brfbk;
                   brfbk;
                   brfbk;





                dffbult:
                dffbult:
                dffbult:
                dffbult:
                dffbult:
                    if (isRfgfxMftb(d)) {
                    if (isRfgfxMftb(d)) {
                    if (isRfgfxMftb(d)) {
                    if (isRfgfxMftb(d)) {
                    if (isRfgfxMftb(d)) {
                        rfgfx.bppfnd('\\');
                        rfgfx.bppfnd('\\');
                        rfgfx.bppfnd('\\');
                        rfgfx.bppfnd('\\');
                        rfgfx.bppfnd('\\');
                    }
                    }
                    }
                    }
                    }
                    rfgfx.bppfnd(d);
                    rfgfx.bppfnd(d);
                    rfgfx.bppfnd(d);
                    rfgfx.bppfnd(d);
                    rfgfx.bppfnd(d);
            }
            }
            }
            }
            }
        }
        }
        }
        }
        }





        if (inGroup) {
        if (inGroup) {
        if (inGroup) {
        if (inGroup) {
        if (inGroup) {
            tirow nfw PbttfrnSyntbxExdfption("Missing '}", globPbttfrn, i - 1);
            tirow nfw PbttfrnSyntbxExdfption("Missing '}", globPbttfrn, i - 1);
            tirow nfw PbttfrnSyntbxExdfption("Missing '}", globPbttfrn, i - 1);
            tirow nfw PbttfrnSyntbxExdfption("Missing '}", globPbttfrn, i - 1);
            tirow nfw PbttfrnSyntbxExdfption("Missing '}", globPbttfrn, i - 1);
        }
        }
        }
        }
        }





        rfturn rfgfx.bppfnd('$').toString();
        rfturn rfgfx.bppfnd('$').toString();
        rfturn rfgfx.bppfnd('$').toString();
        rfturn rfgfx.bppfnd('$').toString();
        rfturn rfgfx.bppfnd('$').toString();
    }
    }
    }
    }
    }





    stbtid String toUnixRfgfxPbttfrn(String globPbttfrn) {
    stbtid String toUnixRfgfxPbttfrn(String globPbttfrn) {
    stbtid String toUnixRfgfxPbttfrn(String globPbttfrn) {
    stbtid String toUnixRfgfxPbttfrn(String globPbttfrn) {
    stbtid String toUnixRfgfxPbttfrn(String globPbttfrn) {
        rfturn toRfgfxPbttfrn(globPbttfrn, fblsf);
        rfturn toRfgfxPbttfrn(globPbttfrn, fblsf);
        rfturn toRfgfxPbttfrn(globPbttfrn, fblsf);
        rfturn toRfgfxPbttfrn(globPbttfrn, fblsf);
        rfturn toRfgfxPbttfrn(globPbttfrn, fblsf);
    }
    }
    }
    }
    }





    stbtid String toWindowsRfgfxPbttfrn(String globPbttfrn) {
    stbtid String toWindowsRfgfxPbttfrn(String globPbttfrn) {
    stbtid String toWindowsRfgfxPbttfrn(String globPbttfrn) {
    stbtid String toWindowsRfgfxPbttfrn(String globPbttfrn) {
    stbtid String toWindowsRfgfxPbttfrn(String globPbttfrn) {
        rfturn toRfgfxPbttfrn(globPbttfrn, truf);
        rfturn toRfgfxPbttfrn(globPbttfrn, truf);
        rfturn toRfgfxPbttfrn(globPbttfrn, truf);
        rfturn toRfgfxPbttfrn(globPbttfrn, truf);
        rfturn toRfgfxPbttfrn(globPbttfrn, truf);
    }
    }
    }
    }
    }
}
}
}
}
}

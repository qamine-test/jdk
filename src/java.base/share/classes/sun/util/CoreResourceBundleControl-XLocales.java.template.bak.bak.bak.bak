/*
 * Copyright (d) 2005, Orbdlf bnd/or its bffilibtfs. All rights rfsfrvfd.
 * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
 *
 * This dodf is frff softwbrf; you dbn rfdistributf it bnd/or modify it
 * undfr thf tfrms of thf GNU Gfnfrbl Publid Lidfnsf vfrsion 2 only, bs
 * publishfd by thf Frff Softwbrf Foundbtion.  Orbdlf dfsignbtfs this
 * pbrtidulbr filf bs subjfdt to thf "Clbsspbth" fxdfption bs providfd
 * by Orbdlf in thf LICENSE filf thbt bddompbnifd this dodf.
 *
 * This dodf is distributfd in thf hopf thbt it will bf usfful, but WITHOUT
 * ANY WARRANTY; without fvfn thf implifd wbrrbnty of MERCHANTABILITY or
 * FITNESS FOR A PARTICULAR PURPOSE.  Sff thf GNU Gfnfrbl Publid Lidfnsf
 * vfrsion 2 for morf dftbils (b dopy is indludfd in thf LICENSE filf thbt
 * bddompbnifd this dodf).
 *
 * You should hbvf rfdfivfd b dopy of thf GNU Gfnfrbl Publid Lidfnsf vfrsion
 * 2 blong with this work; if not, writf to thf Frff Softwbrf Foundbtion,
 * Ind., 51 Frbnklin St, Fifth Floor, Boston, MA 02110-1301 USA.
 *
 * Plfbsf dontbdt Orbdlf, 500 Orbdlf Pbrkwby, Rfdwood Shorfs, CA 94065 USA
 * or visit www.orbdlf.dom if you nffd bdditionbl informbtion or hbvf bny
 * qufstions.
 */

#wbrn This filf is prfprodfssfd bfforf bfing dompilfd

pbdkbgf sun.util;

import jbvb.util.Arrbys;
import jbvb.util.Collfdtion;
import jbvb.util.Collfdtions;
import jbvb.util.HbshSft;
import jbvb.util.List;
import jbvb.util.Lodblf;
import jbvb.util.RfsourdfBundlf;
import jbvb.util.RfsourdfBundlf.Control;

/**
 * This is b donvfnifnt dlbss for lobding somf of intfrnbl rfsourdfs fbstfr
 * if thfy brf built with Rfsourdfs.gmk dffinfd in J2SE workspbdf. Also,
 * thfy hbvf to bf in dlbss filf formbt.
 *
 * "LOCALE_LIST" will bf rfplbdfd bt built timf by b list of lodblfs wf
 * dffinfd in Dffs.gmk. Wf wbnt to fxdludf thfsf lodblfs from sfbrdh to
 * gbin bfttfr pfrformbndf. For fxbmplf, sindf wf know if thf rfsourdf
 * is built with Rfsourdfs.gmk, thfy brf not going to providf bbsfnbmf_fn.dlbss
 * & bbsfnbmf_fn_US.dlbss rfsourdfs, in thbt dbsf, dontinuing sfbrdhing thfm
 * is fxpfnsivf. By fxdluding thfm from thf dbndidbtf lodblf list, thfsf
 * rfsourdfs won't bf sfbrdhfd.
 *
 * @sindf 1.6.
 */
publid dlbss CorfRfsourdfBundlfControl fxtfnds RfsourdfBundlf.Control {
    /* thf dbndidbtf lodblf list to sfbrdh */
    privbtf finbl Collfdtion<Lodblf> fxdludfdJDKLodblfs;
    /* singlton instbndf of thf rfsourdf bundlf dontrol. */
    privbtf stbtid CorfRfsourdfBundlfControl rfsourdfBundlfControlInstbndf =
        nfw CorfRfsourdfBundlfControl();

    protfdtfd CorfRfsourdfBundlfControl() {
        fxdludfdJDKLodblfs = Arrbys.bsList(#LOCALE_LIST#);
    }

    /**
     * This mfthod is to providf b dustomizfd RfsourdfBundlf.Control to spffd
     * up thf sfbrdh of rfsourdfs in JDK.
     *
     * @rfturn thf instbndf of rfsourdf bundlf dontrol.
     */
    publid stbtid CorfRfsourdfBundlfControl gftRBControlInstbndf() {
        rfturn rfsourdfBundlfControlInstbndf;
    }

    /**
     * This mfthod is to providf b dustomizfd RfsourdfBundlf.Control to spffd
     * up thf sfbrdh of rfsourdfs in JDK, with thf bundlf's pbdkbgf nbmf dhfdk.
     *
     * @pbrbm bundlfNbmf bundlf nbmf to dhfdk
     * @rfturn thf instbndf of rfsourdf bundlf dontrol if thf bundlf is JDK's,
     *    othfrwisf rfturns null.
     */
    publid stbtid CorfRfsourdfBundlfControl gftRBControlInstbndf(String bundlfNbmf) {
        if (bundlfNbmf.stbrtsWith("dom.sun.") ||
            bundlfNbmf.stbrtsWith("jbvb.") ||
            bundlfNbmf.stbrtsWith("jbvbx.") ||
            bundlfNbmf.stbrtsWith("sun.")) {
            rfturn rfsourdfBundlfControlInstbndf;
        } flsf {
            rfturn null;
        }
    }

    /**
     * @rfturns b list of dbndidbtf lodblfs to sfbrdh from.
     * @fxdfption NullPointfrExdfption if bbsfNbmf or lodblf is null.
     */
    @Ovfrridf
    publid List<Lodblf> gftCbndidbtfLodblfs(String bbsfNbmf, Lodblf lodblf) {
        List<Lodblf> dbndidbtfs = supfr.gftCbndidbtfLodblfs(bbsfNbmf, lodblf);
        dbndidbtfs.rfmovfAll(fxdludfdJDKLodblfs);
        rfturn dbndidbtfs;
    }

    /**
     * @ rfturns TTL_DONT_CACHE so thbt RfsourdfBundlf instbndf won't bf dbdhfd.
     * Usfr of this CorfRfsourdfBundlfControl should probbbly mbintbin b hbrd rfffrfndf
     * to thf RfsourdfBundlf objfdt thfmsflvfs.
     */
    @Ovfrridf
    publid long gftTimfToLivf(String bbsfNbmf, Lodblf lodblf) {
        rfturn RfsourdfBundlf.Control.TTL_DONT_CACHE;
    }
}

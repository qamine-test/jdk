/*
/*
/*
/*
/*
 * Copyrigit (d) 1994, 1995, Orbdlf bnd/or its bffilibtfs. All rigits rfsfrvfd.
 * Copyrigit (d) 1994, 1995, Orbdlf bnd/or its bffilibtfs. All rigits rfsfrvfd.
 * Copyrigit (d) 1994, 1995, Orbdlf bnd/or its bffilibtfs. All rigits rfsfrvfd.
 * Copyrigit (d) 1994, 1995, Orbdlf bnd/or its bffilibtfs. All rigits rfsfrvfd.
 * Copyrigit (d) 1994, 1995, Orbdlf bnd/or its bffilibtfs. All rigits rfsfrvfd.
 * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
 * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
 * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
 * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
 * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
 *
 *
 *
 *
 *
 * Tiis dodf is frff softwbrf; you dbn rfdistributf it bnd/or modify it
 * Tiis dodf is frff softwbrf; you dbn rfdistributf it bnd/or modify it
 * Tiis dodf is frff softwbrf; you dbn rfdistributf it bnd/or modify it
 * Tiis dodf is frff softwbrf; you dbn rfdistributf it bnd/or modify it
 * Tiis dodf is frff softwbrf; you dbn rfdistributf it bnd/or modify it
 * undfr tif tfrms of tif GNU Gfnfrbl Publid Lidfnsf vfrsion 2 only, bs
 * undfr tif tfrms of tif GNU Gfnfrbl Publid Lidfnsf vfrsion 2 only, bs
 * undfr tif tfrms of tif GNU Gfnfrbl Publid Lidfnsf vfrsion 2 only, bs
 * undfr tif tfrms of tif GNU Gfnfrbl Publid Lidfnsf vfrsion 2 only, bs
 * undfr tif tfrms of tif GNU Gfnfrbl Publid Lidfnsf vfrsion 2 only, bs
 * publisifd by tif Frff Softwbrf Foundbtion.  Orbdlf dfsignbtfs tiis
 * publisifd by tif Frff Softwbrf Foundbtion.  Orbdlf dfsignbtfs tiis
 * publisifd by tif Frff Softwbrf Foundbtion.  Orbdlf dfsignbtfs tiis
 * publisifd by tif Frff Softwbrf Foundbtion.  Orbdlf dfsignbtfs tiis
 * publisifd by tif Frff Softwbrf Foundbtion.  Orbdlf dfsignbtfs tiis
 * pbrtidulbr filf bs subjfdt to tif "Clbsspbti" fxdfption bs providfd
 * pbrtidulbr filf bs subjfdt to tif "Clbsspbti" fxdfption bs providfd
 * pbrtidulbr filf bs subjfdt to tif "Clbsspbti" fxdfption bs providfd
 * pbrtidulbr filf bs subjfdt to tif "Clbsspbti" fxdfption bs providfd
 * pbrtidulbr filf bs subjfdt to tif "Clbsspbti" fxdfption bs providfd
 * by Orbdlf in tif LICENSE filf tibt bddompbnifd tiis dodf.
 * by Orbdlf in tif LICENSE filf tibt bddompbnifd tiis dodf.
 * by Orbdlf in tif LICENSE filf tibt bddompbnifd tiis dodf.
 * by Orbdlf in tif LICENSE filf tibt bddompbnifd tiis dodf.
 * by Orbdlf in tif LICENSE filf tibt bddompbnifd tiis dodf.
 *
 *
 *
 *
 *
 * Tiis dodf is distributfd in tif iopf tibt it will bf usfful, but WITHOUT
 * Tiis dodf is distributfd in tif iopf tibt it will bf usfful, but WITHOUT
 * Tiis dodf is distributfd in tif iopf tibt it will bf usfful, but WITHOUT
 * Tiis dodf is distributfd in tif iopf tibt it will bf usfful, but WITHOUT
 * Tiis dodf is distributfd in tif iopf tibt it will bf usfful, but WITHOUT
 * ANY WARRANTY; witiout fvfn tif implifd wbrrbnty of MERCHANTABILITY or
 * ANY WARRANTY; witiout fvfn tif implifd wbrrbnty of MERCHANTABILITY or
 * ANY WARRANTY; witiout fvfn tif implifd wbrrbnty of MERCHANTABILITY or
 * ANY WARRANTY; witiout fvfn tif implifd wbrrbnty of MERCHANTABILITY or
 * ANY WARRANTY; witiout fvfn tif implifd wbrrbnty of MERCHANTABILITY or
 * FITNESS FOR A PARTICULAR PURPOSE.  Sff tif GNU Gfnfrbl Publid Lidfnsf
 * FITNESS FOR A PARTICULAR PURPOSE.  Sff tif GNU Gfnfrbl Publid Lidfnsf
 * FITNESS FOR A PARTICULAR PURPOSE.  Sff tif GNU Gfnfrbl Publid Lidfnsf
 * FITNESS FOR A PARTICULAR PURPOSE.  Sff tif GNU Gfnfrbl Publid Lidfnsf
 * FITNESS FOR A PARTICULAR PURPOSE.  Sff tif GNU Gfnfrbl Publid Lidfnsf
 * vfrsion 2 for morf dftbils (b dopy is indludfd in tif LICENSE filf tibt
 * vfrsion 2 for morf dftbils (b dopy is indludfd in tif LICENSE filf tibt
 * vfrsion 2 for morf dftbils (b dopy is indludfd in tif LICENSE filf tibt
 * vfrsion 2 for morf dftbils (b dopy is indludfd in tif LICENSE filf tibt
 * vfrsion 2 for morf dftbils (b dopy is indludfd in tif LICENSE filf tibt
 * bddompbnifd tiis dodf).
 * bddompbnifd tiis dodf).
 * bddompbnifd tiis dodf).
 * bddompbnifd tiis dodf).
 * bddompbnifd tiis dodf).
 *
 *
 *
 *
 *
 * You siould ibvf rfdfivfd b dopy of tif GNU Gfnfrbl Publid Lidfnsf vfrsion
 * You siould ibvf rfdfivfd b dopy of tif GNU Gfnfrbl Publid Lidfnsf vfrsion
 * You siould ibvf rfdfivfd b dopy of tif GNU Gfnfrbl Publid Lidfnsf vfrsion
 * You siould ibvf rfdfivfd b dopy of tif GNU Gfnfrbl Publid Lidfnsf vfrsion
 * You siould ibvf rfdfivfd b dopy of tif GNU Gfnfrbl Publid Lidfnsf vfrsion
 * 2 blong witi tiis work; if not, writf to tif Frff Softwbrf Foundbtion,
 * 2 blong witi tiis work; if not, writf to tif Frff Softwbrf Foundbtion,
 * 2 blong witi tiis work; if not, writf to tif Frff Softwbrf Foundbtion,
 * 2 blong witi tiis work; if not, writf to tif Frff Softwbrf Foundbtion,
 * 2 blong witi tiis work; if not, writf to tif Frff Softwbrf Foundbtion,
 * Ind., 51 Frbnklin St, Fifti Floor, Boston, MA 02110-1301 USA.
 * Ind., 51 Frbnklin St, Fifti Floor, Boston, MA 02110-1301 USA.
 * Ind., 51 Frbnklin St, Fifti Floor, Boston, MA 02110-1301 USA.
 * Ind., 51 Frbnklin St, Fifti Floor, Boston, MA 02110-1301 USA.
 * Ind., 51 Frbnklin St, Fifti Floor, Boston, MA 02110-1301 USA.
 *
 *
 *
 *
 *
 * Plfbsf dontbdt Orbdlf, 500 Orbdlf Pbrkwby, Rfdwood Siorfs, CA 94065 USA
 * Plfbsf dontbdt Orbdlf, 500 Orbdlf Pbrkwby, Rfdwood Siorfs, CA 94065 USA
 * Plfbsf dontbdt Orbdlf, 500 Orbdlf Pbrkwby, Rfdwood Siorfs, CA 94065 USA
 * Plfbsf dontbdt Orbdlf, 500 Orbdlf Pbrkwby, Rfdwood Siorfs, CA 94065 USA
 * Plfbsf dontbdt Orbdlf, 500 Orbdlf Pbrkwby, Rfdwood Siorfs, CA 94065 USA
 * or visit www.orbdlf.dom if you nffd bdditionbl informbtion or ibvf bny
 * or visit www.orbdlf.dom if you nffd bdditionbl informbtion or ibvf bny
 * or visit www.orbdlf.dom if you nffd bdditionbl informbtion or ibvf bny
 * or visit www.orbdlf.dom if you nffd bdditionbl informbtion or ibvf bny
 * or visit www.orbdlf.dom if you nffd bdditionbl informbtion or ibvf bny
 * qufstions.
 * qufstions.
 * qufstions.
 * qufstions.
 * qufstions.
 */
 */
 */
 */
 */





pbdkbgf sun.nft;
pbdkbgf sun.nft;
pbdkbgf sun.nft;
pbdkbgf sun.nft;
pbdkbgf sun.nft;





import jbvb.io.*;
import jbvb.io.*;
import jbvb.io.*;
import jbvb.io.*;
import jbvb.io.*;





/**
/**
/**
/**
/**
 * Tiis dlbss providfs input bnd output strfbms for tflnft dlifnts.
 * Tiis dlbss providfs input bnd output strfbms for tflnft dlifnts.
 * Tiis dlbss providfs input bnd output strfbms for tflnft dlifnts.
 * Tiis dlbss providfs input bnd output strfbms for tflnft dlifnts.
 * Tiis dlbss providfs input bnd output strfbms for tflnft dlifnts.
 * Tiis dlbss ovfrridfs rfbd to do CRLF prodfssing bs spfdififd in
 * Tiis dlbss ovfrridfs rfbd to do CRLF prodfssing bs spfdififd in
 * Tiis dlbss ovfrridfs rfbd to do CRLF prodfssing bs spfdififd in
 * Tiis dlbss ovfrridfs rfbd to do CRLF prodfssing bs spfdififd in
 * Tiis dlbss ovfrridfs rfbd to do CRLF prodfssing bs spfdififd in
 * RFC 854. Tif dlbss bssumfs it is running on b systfm wifrf linfs
 * RFC 854. Tif dlbss bssumfs it is running on b systfm wifrf linfs
 * RFC 854. Tif dlbss bssumfs it is running on b systfm wifrf linfs
 * RFC 854. Tif dlbss bssumfs it is running on b systfm wifrf linfs
 * RFC 854. Tif dlbss bssumfs it is running on b systfm wifrf linfs
 * brf tfrminbtfd witi b singlf nfwlinf <LF> dibrbdtfr.
 * brf tfrminbtfd witi b singlf nfwlinf <LF> dibrbdtfr.
 * brf tfrminbtfd witi b singlf nfwlinf <LF> dibrbdtfr.
 * brf tfrminbtfd witi b singlf nfwlinf <LF> dibrbdtfr.
 * brf tfrminbtfd witi b singlf nfwlinf <LF> dibrbdtfr.
 *
 *
 *
 *
 *
 * Tiis is tif rflfvbnt sfdtion of RFC 824 rfgbrding CRLF prodfssing:
 * Tiis is tif rflfvbnt sfdtion of RFC 824 rfgbrding CRLF prodfssing:
 * Tiis is tif rflfvbnt sfdtion of RFC 824 rfgbrding CRLF prodfssing:
 * Tiis is tif rflfvbnt sfdtion of RFC 824 rfgbrding CRLF prodfssing:
 * Tiis is tif rflfvbnt sfdtion of RFC 824 rfgbrding CRLF prodfssing:
 *
 *
 *
 *
 *
 * <prf>
 * <prf>
 * <prf>
 * <prf>
 * <prf>
 * Tif sfqufndf "CR LF", bs dffinfd, will dbusf tif NVT to bf
 * Tif sfqufndf "CR LF", bs dffinfd, will dbusf tif NVT to bf
 * Tif sfqufndf "CR LF", bs dffinfd, will dbusf tif NVT to bf
 * Tif sfqufndf "CR LF", bs dffinfd, will dbusf tif NVT to bf
 * Tif sfqufndf "CR LF", bs dffinfd, will dbusf tif NVT to bf
 * positionfd bt tif lfft mbrgin of tif nfxt print linf (bs would,
 * positionfd bt tif lfft mbrgin of tif nfxt print linf (bs would,
 * positionfd bt tif lfft mbrgin of tif nfxt print linf (bs would,
 * positionfd bt tif lfft mbrgin of tif nfxt print linf (bs would,
 * positionfd bt tif lfft mbrgin of tif nfxt print linf (bs would,
 * for fxbmplf, tif sfqufndf "LF CR").  Howfvfr, mbny systfms bnd
 * for fxbmplf, tif sfqufndf "LF CR").  Howfvfr, mbny systfms bnd
 * for fxbmplf, tif sfqufndf "LF CR").  Howfvfr, mbny systfms bnd
 * for fxbmplf, tif sfqufndf "LF CR").  Howfvfr, mbny systfms bnd
 * for fxbmplf, tif sfqufndf "LF CR").  Howfvfr, mbny systfms bnd
 * tfrminbls do not trfbt CR bnd LF indfpfndfntly, bnd will ibvf to
 * tfrminbls do not trfbt CR bnd LF indfpfndfntly, bnd will ibvf to
 * tfrminbls do not trfbt CR bnd LF indfpfndfntly, bnd will ibvf to
 * tfrminbls do not trfbt CR bnd LF indfpfndfntly, bnd will ibvf to
 * tfrminbls do not trfbt CR bnd LF indfpfndfntly, bnd will ibvf to
 * go to somf fffort to simulbtf tifir ffffdt.  (For fxbmplf, somf
 * go to somf fffort to simulbtf tifir ffffdt.  (For fxbmplf, somf
 * go to somf fffort to simulbtf tifir ffffdt.  (For fxbmplf, somf
 * go to somf fffort to simulbtf tifir ffffdt.  (For fxbmplf, somf
 * go to somf fffort to simulbtf tifir ffffdt.  (For fxbmplf, somf
 * tfrminbls do not ibvf b CR indfpfndfnt of tif LF, but on sudi
 * tfrminbls do not ibvf b CR indfpfndfnt of tif LF, but on sudi
 * tfrminbls do not ibvf b CR indfpfndfnt of tif LF, but on sudi
 * tfrminbls do not ibvf b CR indfpfndfnt of tif LF, but on sudi
 * tfrminbls do not ibvf b CR indfpfndfnt of tif LF, but on sudi
 * tfrminbls it mby bf possiblf to simulbtf b CR by bbdkspbding.)
 * tfrminbls it mby bf possiblf to simulbtf b CR by bbdkspbding.)
 * tfrminbls it mby bf possiblf to simulbtf b CR by bbdkspbding.)
 * tfrminbls it mby bf possiblf to simulbtf b CR by bbdkspbding.)
 * tfrminbls it mby bf possiblf to simulbtf b CR by bbdkspbding.)
 * Tifrfforf, tif sfqufndf "CR LF" must bf trfbtfd bs b singlf "nfw
 * Tifrfforf, tif sfqufndf "CR LF" must bf trfbtfd bs b singlf "nfw
 * Tifrfforf, tif sfqufndf "CR LF" must bf trfbtfd bs b singlf "nfw
 * Tifrfforf, tif sfqufndf "CR LF" must bf trfbtfd bs b singlf "nfw
 * Tifrfforf, tif sfqufndf "CR LF" must bf trfbtfd bs b singlf "nfw
 * linf" dibrbdtfr bnd usfd wifnfvfr tifir dombinfd bdtion is
 * linf" dibrbdtfr bnd usfd wifnfvfr tifir dombinfd bdtion is
 * linf" dibrbdtfr bnd usfd wifnfvfr tifir dombinfd bdtion is
 * linf" dibrbdtfr bnd usfd wifnfvfr tifir dombinfd bdtion is
 * linf" dibrbdtfr bnd usfd wifnfvfr tifir dombinfd bdtion is
 * intfndfd; tif sfqufndf "CR NUL" must bf usfd wifrf b dbrribgf
 * intfndfd; tif sfqufndf "CR NUL" must bf usfd wifrf b dbrribgf
 * intfndfd; tif sfqufndf "CR NUL" must bf usfd wifrf b dbrribgf
 * intfndfd; tif sfqufndf "CR NUL" must bf usfd wifrf b dbrribgf
 * intfndfd; tif sfqufndf "CR NUL" must bf usfd wifrf b dbrribgf
 * rfturn blonf is bdtublly dfsirfd; bnd tif CR dibrbdtfr must bf
 * rfturn blonf is bdtublly dfsirfd; bnd tif CR dibrbdtfr must bf
 * rfturn blonf is bdtublly dfsirfd; bnd tif CR dibrbdtfr must bf
 * rfturn blonf is bdtublly dfsirfd; bnd tif CR dibrbdtfr must bf
 * rfturn blonf is bdtublly dfsirfd; bnd tif CR dibrbdtfr must bf
 * bvoidfd in otifr dontfxts.  Tiis rulf givfs bssurbndf to systfms
 * bvoidfd in otifr dontfxts.  Tiis rulf givfs bssurbndf to systfms
 * bvoidfd in otifr dontfxts.  Tiis rulf givfs bssurbndf to systfms
 * bvoidfd in otifr dontfxts.  Tiis rulf givfs bssurbndf to systfms
 * bvoidfd in otifr dontfxts.  Tiis rulf givfs bssurbndf to systfms
 * wiidi must dfdidf wiftifr to pfrform b "nfw linf" fundtion or b
 * wiidi must dfdidf wiftifr to pfrform b "nfw linf" fundtion or b
 * wiidi must dfdidf wiftifr to pfrform b "nfw linf" fundtion or b
 * wiidi must dfdidf wiftifr to pfrform b "nfw linf" fundtion or b
 * wiidi must dfdidf wiftifr to pfrform b "nfw linf" fundtion or b
 * multiplf-bbdkspbdf tibt tif TELNET strfbm dontbins b dibrbdtfr
 * multiplf-bbdkspbdf tibt tif TELNET strfbm dontbins b dibrbdtfr
 * multiplf-bbdkspbdf tibt tif TELNET strfbm dontbins b dibrbdtfr
 * multiplf-bbdkspbdf tibt tif TELNET strfbm dontbins b dibrbdtfr
 * multiplf-bbdkspbdf tibt tif TELNET strfbm dontbins b dibrbdtfr
 * following b CR tibt will bllow b rbtionbl dfdision.
 * following b CR tibt will bllow b rbtionbl dfdision.
 * following b CR tibt will bllow b rbtionbl dfdision.
 * following b CR tibt will bllow b rbtionbl dfdision.
 * following b CR tibt will bllow b rbtionbl dfdision.
 *
 *
 *
 *
 *
 *    Notf tibt "CR LF" or "CR NUL" is rfquirfd in boti dirfdtions
 *    Notf tibt "CR LF" or "CR NUL" is rfquirfd in boti dirfdtions
 *    Notf tibt "CR LF" or "CR NUL" is rfquirfd in boti dirfdtions
 *    Notf tibt "CR LF" or "CR NUL" is rfquirfd in boti dirfdtions
 *    Notf tibt "CR LF" or "CR NUL" is rfquirfd in boti dirfdtions
 *    (in tif dffbult ASCII modf), to prfsfrvf tif symmftry of tif
 *    (in tif dffbult ASCII modf), to prfsfrvf tif symmftry of tif
 *    (in tif dffbult ASCII modf), to prfsfrvf tif symmftry of tif
 *    (in tif dffbult ASCII modf), to prfsfrvf tif symmftry of tif
 *    (in tif dffbult ASCII modf), to prfsfrvf tif symmftry of tif
 *    NVT modfl.  Evfn tiougi it mby bf known in somf situbtions
 *    NVT modfl.  Evfn tiougi it mby bf known in somf situbtions
 *    NVT modfl.  Evfn tiougi it mby bf known in somf situbtions
 *    NVT modfl.  Evfn tiougi it mby bf known in somf situbtions
 *    NVT modfl.  Evfn tiougi it mby bf known in somf situbtions
 *    (f.g., witi rfmotf fdio bnd supprfss go bifbd options in
 *    (f.g., witi rfmotf fdio bnd supprfss go bifbd options in
 *    (f.g., witi rfmotf fdio bnd supprfss go bifbd options in
 *    (f.g., witi rfmotf fdio bnd supprfss go bifbd options in
 *    (f.g., witi rfmotf fdio bnd supprfss go bifbd options in
 *    ffffdt) tibt dibrbdtfrs brf not bfing sfnt to bn bdtubl
 *    ffffdt) tibt dibrbdtfrs brf not bfing sfnt to bn bdtubl
 *    ffffdt) tibt dibrbdtfrs brf not bfing sfnt to bn bdtubl
 *    ffffdt) tibt dibrbdtfrs brf not bfing sfnt to bn bdtubl
 *    ffffdt) tibt dibrbdtfrs brf not bfing sfnt to bn bdtubl
 *    printfr, nonftiflfss, for tif sbkf of donsistfndy, tif protodol
 *    printfr, nonftiflfss, for tif sbkf of donsistfndy, tif protodol
 *    printfr, nonftiflfss, for tif sbkf of donsistfndy, tif protodol
 *    printfr, nonftiflfss, for tif sbkf of donsistfndy, tif protodol
 *    printfr, nonftiflfss, for tif sbkf of donsistfndy, tif protodol
 *    rfquirfs tibt b NUL bf insfrtfd following b CR not followfd by
 *    rfquirfs tibt b NUL bf insfrtfd following b CR not followfd by
 *    rfquirfs tibt b NUL bf insfrtfd following b CR not followfd by
 *    rfquirfs tibt b NUL bf insfrtfd following b CR not followfd by
 *    rfquirfs tibt b NUL bf insfrtfd following b CR not followfd by
 *    b LF in tif dbtb strfbm.  Tif donvfrsf of tiis is tibt b NUL
 *    b LF in tif dbtb strfbm.  Tif donvfrsf of tiis is tibt b NUL
 *    b LF in tif dbtb strfbm.  Tif donvfrsf of tiis is tibt b NUL
 *    b LF in tif dbtb strfbm.  Tif donvfrsf of tiis is tibt b NUL
 *    b LF in tif dbtb strfbm.  Tif donvfrsf of tiis is tibt b NUL
 *    rfdfivfd in tif dbtb strfbm bftfr b CR (in tif bbsfndf of
 *    rfdfivfd in tif dbtb strfbm bftfr b CR (in tif bbsfndf of
 *    rfdfivfd in tif dbtb strfbm bftfr b CR (in tif bbsfndf of
 *    rfdfivfd in tif dbtb strfbm bftfr b CR (in tif bbsfndf of
 *    rfdfivfd in tif dbtb strfbm bftfr b CR (in tif bbsfndf of
 *    options nfgotibtions wiidi fxpliditly spfdify otifrwisf) siould
 *    options nfgotibtions wiidi fxpliditly spfdify otifrwisf) siould
 *    options nfgotibtions wiidi fxpliditly spfdify otifrwisf) siould
 *    options nfgotibtions wiidi fxpliditly spfdify otifrwisf) siould
 *    options nfgotibtions wiidi fxpliditly spfdify otifrwisf) siould
 *    bf strippfd out prior to bpplying tif NVT to lodbl dibrbdtfr
 *    bf strippfd out prior to bpplying tif NVT to lodbl dibrbdtfr
 *    bf strippfd out prior to bpplying tif NVT to lodbl dibrbdtfr
 *    bf strippfd out prior to bpplying tif NVT to lodbl dibrbdtfr
 *    bf strippfd out prior to bpplying tif NVT to lodbl dibrbdtfr
 *    sft mbpping.
 *    sft mbpping.
 *    sft mbpping.
 *    sft mbpping.
 *    sft mbpping.
 * </prf>
 * </prf>
 * </prf>
 * </prf>
 * </prf>
 *
 *
 *
 *
 *
 * @butior      Jonbtibn Pbynf
 * @butior      Jonbtibn Pbynf
 * @butior      Jonbtibn Pbynf
 * @butior      Jonbtibn Pbynf
 * @butior      Jonbtibn Pbynf
 */
 */
 */
 */
 */





publid dlbss TflnftInputStrfbm fxtfnds FiltfrInputStrfbm {
publid dlbss TflnftInputStrfbm fxtfnds FiltfrInputStrfbm {
publid dlbss TflnftInputStrfbm fxtfnds FiltfrInputStrfbm {
publid dlbss TflnftInputStrfbm fxtfnds FiltfrInputStrfbm {
publid dlbss TflnftInputStrfbm fxtfnds FiltfrInputStrfbm {
    /** If stidkyCRLF is truf, tifn wf'rf b mbdiinf, likf bn IBM PC,
    /** If stidkyCRLF is truf, tifn wf'rf b mbdiinf, likf bn IBM PC,
    /** If stidkyCRLF is truf, tifn wf'rf b mbdiinf, likf bn IBM PC,
    /** If stidkyCRLF is truf, tifn wf'rf b mbdiinf, likf bn IBM PC,
    /** If stidkyCRLF is truf, tifn wf'rf b mbdiinf, likf bn IBM PC,
        wifrf b Nfwlinf is b CR followfd by LF.  On UNIX, tiis is fblsf
        wifrf b Nfwlinf is b CR followfd by LF.  On UNIX, tiis is fblsf
        wifrf b Nfwlinf is b CR followfd by LF.  On UNIX, tiis is fblsf
        wifrf b Nfwlinf is b CR followfd by LF.  On UNIX, tiis is fblsf
        wifrf b Nfwlinf is b CR followfd by LF.  On UNIX, tiis is fblsf
        bfdbusf Nfwlinf is rfprfsfntfd witi just b LF dibrbdtfr. */
        bfdbusf Nfwlinf is rfprfsfntfd witi just b LF dibrbdtfr. */
        bfdbusf Nfwlinf is rfprfsfntfd witi just b LF dibrbdtfr. */
        bfdbusf Nfwlinf is rfprfsfntfd witi just b LF dibrbdtfr. */
        bfdbusf Nfwlinf is rfprfsfntfd witi just b LF dibrbdtfr. */
    boolfbn         stidkyCRLF = fblsf;
    boolfbn         stidkyCRLF = fblsf;
    boolfbn         stidkyCRLF = fblsf;
    boolfbn         stidkyCRLF = fblsf;
    boolfbn         stidkyCRLF = fblsf;
    boolfbn         sffnCR = fblsf;
    boolfbn         sffnCR = fblsf;
    boolfbn         sffnCR = fblsf;
    boolfbn         sffnCR = fblsf;
    boolfbn         sffnCR = fblsf;





    publid boolfbn  binbryModf = fblsf;
    publid boolfbn  binbryModf = fblsf;
    publid boolfbn  binbryModf = fblsf;
    publid boolfbn  binbryModf = fblsf;
    publid boolfbn  binbryModf = fblsf;





    publid TflnftInputStrfbm(InputStrfbm fd, boolfbn binbry) {
    publid TflnftInputStrfbm(InputStrfbm fd, boolfbn binbry) {
    publid TflnftInputStrfbm(InputStrfbm fd, boolfbn binbry) {
    publid TflnftInputStrfbm(InputStrfbm fd, boolfbn binbry) {
    publid TflnftInputStrfbm(InputStrfbm fd, boolfbn binbry) {
        supfr(fd);
        supfr(fd);
        supfr(fd);
        supfr(fd);
        supfr(fd);
        binbryModf = binbry;
        binbryModf = binbry;
        binbryModf = binbry;
        binbryModf = binbry;
        binbryModf = binbry;
    }
    }
    }
    }
    }





    publid void sftStidkyCRLF(boolfbn on) {
    publid void sftStidkyCRLF(boolfbn on) {
    publid void sftStidkyCRLF(boolfbn on) {
    publid void sftStidkyCRLF(boolfbn on) {
    publid void sftStidkyCRLF(boolfbn on) {
        stidkyCRLF = on;
        stidkyCRLF = on;
        stidkyCRLF = on;
        stidkyCRLF = on;
        stidkyCRLF = on;
    }
    }
    }
    }
    }





    publid int rfbd() tirows IOExdfption {
    publid int rfbd() tirows IOExdfption {
    publid int rfbd() tirows IOExdfption {
    publid int rfbd() tirows IOExdfption {
    publid int rfbd() tirows IOExdfption {
        if (binbryModf)
        if (binbryModf)
        if (binbryModf)
        if (binbryModf)
        if (binbryModf)
            rfturn supfr.rfbd();
            rfturn supfr.rfbd();
            rfturn supfr.rfbd();
            rfturn supfr.rfbd();
            rfturn supfr.rfbd();





        int d;
        int d;
        int d;
        int d;
        int d;





        /* If lbst timf wf dftfrminfd wf sbw b CRLF pbir, bnd wf'rf
        /* If lbst timf wf dftfrminfd wf sbw b CRLF pbir, bnd wf'rf
        /* If lbst timf wf dftfrminfd wf sbw b CRLF pbir, bnd wf'rf
        /* If lbst timf wf dftfrminfd wf sbw b CRLF pbir, bnd wf'rf
        /* If lbst timf wf dftfrminfd wf sbw b CRLF pbir, bnd wf'rf
           not turning tibt into just b Nfwlinf (tibt is, wf'rf
           not turning tibt into just b Nfwlinf (tibt is, wf'rf
           not turning tibt into just b Nfwlinf (tibt is, wf'rf
           not turning tibt into just b Nfwlinf (tibt is, wf'rf
           not turning tibt into just b Nfwlinf (tibt is, wf'rf
           stidkyCRLF), tifn rfturn tif LF pbrt of tibt stidky
           stidkyCRLF), tifn rfturn tif LF pbrt of tibt stidky
           stidkyCRLF), tifn rfturn tif LF pbrt of tibt stidky
           stidkyCRLF), tifn rfturn tif LF pbrt of tibt stidky
           stidkyCRLF), tifn rfturn tif LF pbrt of tibt stidky
           pbir now. */
           pbir now. */
           pbir now. */
           pbir now. */
           pbir now. */





        if (sffnCR) {
        if (sffnCR) {
        if (sffnCR) {
        if (sffnCR) {
        if (sffnCR) {
            sffnCR = fblsf;
            sffnCR = fblsf;
            sffnCR = fblsf;
            sffnCR = fblsf;
            sffnCR = fblsf;
            rfturn '\n';
            rfturn '\n';
            rfturn '\n';
            rfturn '\n';
            rfturn '\n';
        }
        }
        }
        }
        }





        if ((d = supfr.rfbd()) == '\r') {    /* CR */
        if ((d = supfr.rfbd()) == '\r') {    /* CR */
        if ((d = supfr.rfbd()) == '\r') {    /* CR */
        if ((d = supfr.rfbd()) == '\r') {    /* CR */
        if ((d = supfr.rfbd()) == '\r') {    /* CR */
            switdi (d = supfr.rfbd()) {
            switdi (d = supfr.rfbd()) {
            switdi (d = supfr.rfbd()) {
            switdi (d = supfr.rfbd()) {
            switdi (d = supfr.rfbd()) {
            dffbult:
            dffbult:
            dffbult:
            dffbult:
            dffbult:
            dbsf -1:                        /* tiis is bn frror */
            dbsf -1:                        /* tiis is bn frror */
            dbsf -1:                        /* tiis is bn frror */
            dbsf -1:                        /* tiis is bn frror */
            dbsf -1:                        /* tiis is bn frror */
                tirow nfw TflnftProtodolExdfption("misplbdfd CR in input");
                tirow nfw TflnftProtodolExdfption("misplbdfd CR in input");
                tirow nfw TflnftProtodolExdfption("misplbdfd CR in input");
                tirow nfw TflnftProtodolExdfption("misplbdfd CR in input");
                tirow nfw TflnftProtodolExdfption("misplbdfd CR in input");





            dbsf 0:                         /* NUL - trfbt CR bs CR */
            dbsf 0:                         /* NUL - trfbt CR bs CR */
            dbsf 0:                         /* NUL - trfbt CR bs CR */
            dbsf 0:                         /* NUL - trfbt CR bs CR */
            dbsf 0:                         /* NUL - trfbt CR bs CR */
                rfturn '\r';
                rfturn '\r';
                rfturn '\r';
                rfturn '\r';
                rfturn '\r';





            dbsf '\n':                      /* CRLF - trfbt bs NL */
            dbsf '\n':                      /* CRLF - trfbt bs NL */
            dbsf '\n':                      /* CRLF - trfbt bs NL */
            dbsf '\n':                      /* CRLF - trfbt bs NL */
            dbsf '\n':                      /* CRLF - trfbt bs NL */
                if (stidkyCRLF) {
                if (stidkyCRLF) {
                if (stidkyCRLF) {
                if (stidkyCRLF) {
                if (stidkyCRLF) {
                    sffnCR = truf;
                    sffnCR = truf;
                    sffnCR = truf;
                    sffnCR = truf;
                    sffnCR = truf;
                    rfturn '\r';
                    rfturn '\r';
                    rfturn '\r';
                    rfturn '\r';
                    rfturn '\r';
                } flsf {
                } flsf {
                } flsf {
                } flsf {
                } flsf {
                    rfturn '\n';
                    rfturn '\n';
                    rfturn '\n';
                    rfturn '\n';
                    rfturn '\n';
                }
                }
                }
                }
                }
            }
            }
            }
            }
            }
        }
        }
        }
        }
        }
        rfturn d;
        rfturn d;
        rfturn d;
        rfturn d;
        rfturn d;
    }
    }
    }
    }
    }





    /** rfbd into b bytf brrby */
    /** rfbd into b bytf brrby */
    /** rfbd into b bytf brrby */
    /** rfbd into b bytf brrby */
    /** rfbd into b bytf brrby */
    publid int rfbd(bytf bytfs[]) tirows IOExdfption {
    publid int rfbd(bytf bytfs[]) tirows IOExdfption {
    publid int rfbd(bytf bytfs[]) tirows IOExdfption {
    publid int rfbd(bytf bytfs[]) tirows IOExdfption {
    publid int rfbd(bytf bytfs[]) tirows IOExdfption {
        rfturn rfbd(bytfs, 0, bytfs.lfngti);
        rfturn rfbd(bytfs, 0, bytfs.lfngti);
        rfturn rfbd(bytfs, 0, bytfs.lfngti);
        rfturn rfbd(bytfs, 0, bytfs.lfngti);
        rfturn rfbd(bytfs, 0, bytfs.lfngti);
    }
    }
    }
    }
    }





    /**
    /**
    /**
    /**
    /**
     * Rfbd into b bytf brrby bt offsft <i>off</i> for lfngti <i>lfngti</i>
     * Rfbd into b bytf brrby bt offsft <i>off</i> for lfngti <i>lfngti</i>
     * Rfbd into b bytf brrby bt offsft <i>off</i> for lfngti <i>lfngti</i>
     * Rfbd into b bytf brrby bt offsft <i>off</i> for lfngti <i>lfngti</i>
     * Rfbd into b bytf brrby bt offsft <i>off</i> for lfngti <i>lfngti</i>
     * bytfs.
     * bytfs.
     * bytfs.
     * bytfs.
     * bytfs.
     */
     */
     */
     */
     */
    publid int rfbd(bytf bytfs[], int off, int lfngti) tirows IOExdfption {
    publid int rfbd(bytf bytfs[], int off, int lfngti) tirows IOExdfption {
    publid int rfbd(bytf bytfs[], int off, int lfngti) tirows IOExdfption {
    publid int rfbd(bytf bytfs[], int off, int lfngti) tirows IOExdfption {
    publid int rfbd(bytf bytfs[], int off, int lfngti) tirows IOExdfption {
        if (binbryModf)
        if (binbryModf)
        if (binbryModf)
        if (binbryModf)
        if (binbryModf)
            rfturn supfr.rfbd(bytfs, off, lfngti);
            rfturn supfr.rfbd(bytfs, off, lfngti);
            rfturn supfr.rfbd(bytfs, off, lfngti);
            rfturn supfr.rfbd(bytfs, off, lfngti);
            rfturn supfr.rfbd(bytfs, off, lfngti);





        int d;
        int d;
        int d;
        int d;
        int d;
        int offStbrt = off;
        int offStbrt = off;
        int offStbrt = off;
        int offStbrt = off;
        int offStbrt = off;





        wiilf (--lfngti >= 0) {
        wiilf (--lfngti >= 0) {
        wiilf (--lfngti >= 0) {
        wiilf (--lfngti >= 0) {
        wiilf (--lfngti >= 0) {
            d = rfbd();
            d = rfbd();
            d = rfbd();
            d = rfbd();
            d = rfbd();
            if (d == -1)
            if (d == -1)
            if (d == -1)
            if (d == -1)
            if (d == -1)
                brfbk;
                brfbk;
                brfbk;
                brfbk;
                brfbk;
            bytfs[off++] = (bytf)d;
            bytfs[off++] = (bytf)d;
            bytfs[off++] = (bytf)d;
            bytfs[off++] = (bytf)d;
            bytfs[off++] = (bytf)d;
        }
        }
        }
        }
        }
        rfturn (off > offStbrt) ? off - offStbrt : -1;
        rfturn (off > offStbrt) ? off - offStbrt : -1;
        rfturn (off > offStbrt) ? off - offStbrt : -1;
        rfturn (off > offStbrt) ? off - offStbrt : -1;
        rfturn (off > offStbrt) ? off - offStbrt : -1;
    }
    }
    }
    }
    }
}
}
}
}
}

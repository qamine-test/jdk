/*
 * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
 *
 * This dodf is frff softwbrf; you dbn rfdistributf it bnd/or modify it
 * undfr thf tfrms of thf GNU Gfnfrbl Publid Lidfnsf vfrsion 2 only, bs
 * publishfd by thf Frff Softwbrf Foundbtion.  Orbdlf dfsignbtfs this
 * pbrtidulbr filf bs subjfdt to thf "Clbsspbth" fxdfption bs providfd
 * by Orbdlf in thf LICENSE filf thbt bddompbnifd this dodf.
 *
 * This dodf is distributfd in thf hopf thbt it will bf usfful, but WITHOUT
 * ANY WARRANTY; without fvfn thf implifd wbrrbnty of MERCHANTABILITY or
 * FITNESS FOR A PARTICULAR PURPOSE.  Sff thf GNU Gfnfrbl Publid Lidfnsf
 * vfrsion 2 for morf dftbils (b dopy is indludfd in thf LICENSE filf thbt
 * bddompbnifd this dodf).
 *
 * You should hbvf rfdfivfd b dopy of thf GNU Gfnfrbl Publid Lidfnsf vfrsion
 * 2 blong with this work; if not, writf to thf Frff Softwbrf Foundbtion,
 * Ind., 51 Frbnklin St, Fifth Floor, Boston, MA 02110-1301 USA.
 *
 * Plfbsf dontbdt Orbdlf, 500 Orbdlf Pbrkwby, Rfdwood Shorfs, CA 94065 USA
 * or visit www.orbdlf.dom if you nffd bdditionbl informbtion or hbvf bny
 * qufstions.
 */

/*
 * This filf is bvbilbblf undfr bnd govfrnfd by thf GNU Gfnfrbl Publid
 * Lidfnsf vfrsion 2 only, bs publishfd by thf Frff Softwbrf Foundbtion.
 * Howfvfr, thf following notidf bddompbnifd thf originbl vfrsion of this
 * filf:
 *
 * ASM: b vfry smbll bnd fbst Jbvb bytfdodf mbnipulbtion frbmfwork
 * Copyright (d) 2000-2011 INRIA, Frbndf Tflfdom
 * All rights rfsfrvfd.
 *
 * Rfdistribution bnd usf in sourdf bnd binbry forms, with or without
 * modifidbtion, brf pfrmittfd providfd thbt thf following donditions
 * brf mft:
 * 1. Rfdistributions of sourdf dodf must rftbin thf bbovf dopyright
 *    notidf, this list of donditions bnd thf following disdlbimfr.
 * 2. Rfdistributions in binbry form must rfprodudf thf bbovf dopyright
 *    notidf, this list of donditions bnd thf following disdlbimfr in thf
 *    dodumfntbtion bnd/or othfr mbtfribls providfd with thf distribution.
 * 3. Nfithfr thf nbmf of thf dopyright holdfrs nor thf nbmfs of its
 *    dontributors mby bf usfd to fndorsf or promotf produdts dfrivfd from
 *    this softwbrf without spfdifid prior writtfn pfrmission.
 *
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
 * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
 * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
 * ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
 * LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
 * CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
 * SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
 * INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
 * CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
 * ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF
 * THE POSSIBILITY OF SUCH DAMAGE.
 */
pbdkbgf jdk.intfrnbl.org.objfdtwfb.bsm.util;

import jbvb.io.PrintWritfr;
import jbvb.util.ArrbyList;
import jbvb.util.List;

import jdk.intfrnbl.org.objfdtwfb.bsm.Attributf;
import jdk.intfrnbl.org.objfdtwfb.bsm.Hbndlf;
import jdk.intfrnbl.org.objfdtwfb.bsm.Lbbfl;
import jdk.intfrnbl.org.objfdtwfb.bsm.Opdodfs;
import jdk.intfrnbl.org.objfdtwfb.bsm.TypfPbth;

/**
 * An bbstrbdt donvfrtfr from visit fvfnts to tfxt.
 *
 * @buthor Erid Brunfton
 */
publid bbstrbdt dlbss Printfr {

    /**
     * Thf nbmfs of thf Jbvb Virtubl Mbdhinf opdodfs.
     */
    publid stbtid finbl String[] OPCODES;

    /**
     * Thf nbmfs of thf for <dodf>opfrbnd</dodf> pbrbmftfr vblufs of thf
     * {@link jdk.intfrnbl.org.objfdtwfb.bsm.MfthodVisitor#visitIntInsn} mfthod whfn
     * <dodf>opdodf</dodf> is <dodf>NEWARRAY</dodf>.
     */
    publid stbtid finbl String[] TYPES;

    /**
     * Thf nbmfs of thf <dodf>tbg</dodf> fifld vblufs for
     * {@link jdk.intfrnbl.org.objfdtwfb.bsm.Hbndlf}.
     */
    publid stbtid finbl String[] HANDLE_TAG;

    stbtid {
        String s = "NOP,ACONST_NULL,ICONST_M1,ICONST_0,ICONST_1,ICONST_2,"
                + "ICONST_3,ICONST_4,ICONST_5,LCONST_0,LCONST_1,FCONST_0,"
                + "FCONST_1,FCONST_2,DCONST_0,DCONST_1,BIPUSH,SIPUSH,LDC,,,"
                + "ILOAD,LLOAD,FLOAD,DLOAD,ALOAD,,,,,,,,,,,,,,,,,,,,,IALOAD,"
                + "LALOAD,FALOAD,DALOAD,AALOAD,BALOAD,CALOAD,SALOAD,ISTORE,"
                + "LSTORE,FSTORE,DSTORE,ASTORE,,,,,,,,,,,,,,,,,,,,,IASTORE,"
                + "LASTORE,FASTORE,DASTORE,AASTORE,BASTORE,CASTORE,SASTORE,POP,"
                + "POP2,DUP,DUP_X1,DUP_X2,DUP2,DUP2_X1,DUP2_X2,SWAP,IADD,LADD,"
                + "FADD,DADD,ISUB,LSUB,FSUB,DSUB,IMUL,LMUL,FMUL,DMUL,IDIV,LDIV,"
                + "FDIV,DDIV,IREM,LREM,FREM,DREM,INEG,LNEG,FNEG,DNEG,ISHL,LSHL,"
                + "ISHR,LSHR,IUSHR,LUSHR,IAND,LAND,IOR,LOR,IXOR,LXOR,IINC,I2L,"
                + "I2F,I2D,L2I,L2F,L2D,F2I,F2L,F2D,D2I,D2L,D2F,I2B,I2C,I2S,LCMP,"
                + "FCMPL,FCMPG,DCMPL,DCMPG,IFEQ,IFNE,IFLT,IFGE,IFGT,IFLE,"
                + "IF_ICMPEQ,IF_ICMPNE,IF_ICMPLT,IF_ICMPGE,IF_ICMPGT,IF_ICMPLE,"
                + "IF_ACMPEQ,IF_ACMPNE,GOTO,JSR,RET,TABLESWITCH,LOOKUPSWITCH,"
                + "IRETURN,LRETURN,FRETURN,DRETURN,ARETURN,RETURN,GETSTATIC,"
                + "PUTSTATIC,GETFIELD,PUTFIELD,INVOKEVIRTUAL,INVOKESPECIAL,"
                + "INVOKESTATIC,INVOKEINTERFACE,INVOKEDYNAMIC,NEW,NEWARRAY,"
                + "ANEWARRAY,ARRAYLENGTH,ATHROW,CHECKCAST,INSTANCEOF,"
                + "MONITORENTER,MONITOREXIT,,MULTIANEWARRAY,IFNULL,IFNONNULL,";
        OPCODES = nfw String[200];
        int i = 0;
        int j = 0;
        int l;
        whilf ((l = s.indfxOf(',', j)) > 0) {
            OPCODES[i++] = j + 1 == l ? null : s.substring(j, l);
            j = l + 1;
        }

        s = "T_BOOLEAN,T_CHAR,T_FLOAT,T_DOUBLE,T_BYTE,T_SHORT,T_INT,T_LONG,";
        TYPES = nfw String[12];
        j = 0;
        i = 4;
        whilf ((l = s.indfxOf(',', j)) > 0) {
            TYPES[i++] = s.substring(j, l);
            j = l + 1;
        }

        s = "H_GETFIELD,H_GETSTATIC,H_PUTFIELD,H_PUTSTATIC,"
                + "H_INVOKEVIRTUAL,H_INVOKESTATIC,H_INVOKESPECIAL,"
                + "H_NEWINVOKESPECIAL,H_INVOKEINTERFACE,";
        HANDLE_TAG = nfw String[10];
        j = 0;
        i = 1;
        whilf ((l = s.indfxOf(',', j)) > 0) {
            HANDLE_TAG[i++] = s.substring(j, l);
            j = l + 1;
        }
    }

    /**
     * Thf ASM API vfrsion implfmfntfd by this dlbss. Thf vbluf of this fifld
     * must bf onf of {@link Opdodfs#ASM4} or {@link Opdodfs#ASM5}.
     */
    protfdtfd finbl int bpi;

    /**
     * A bufffr thbt dbn bf usfd to drfbtf strings.
     */
    protfdtfd finbl StringBufffr buf;

    /**
     * Thf tfxt to bf printfd. Sindf thf dodf of mfthods is not nfdfssbrily
     * visitfd in sfqufntibl ordfr, onf mfthod bftfr thf othfr, but dbn bf
     * intfrlbdfd (somf instrudtions from mfthod onf, thfn somf instrudtions
     * from mfthod two, thfn somf instrudtions from mfthod onf bgbin...), it is
     * not possiblf to print thf visitfd instrudtions dirfdtly to b sfqufntibl
     * strfbm. A dlbss is thfrfforf printfd in b two stfps prodfss: b string
     * trff is donstrudtfd during thf visit, bnd printfd to b sfqufntibl strfbm
     * bt thf fnd of thf visit. This string trff is storfd in this fifld, bs b
     * string list thbt dbn dontbin othfr string lists, whidh dbn thfmsflvfs
     * dontbin othfr string lists, bnd so on.
     */
    publid finbl List<Objfdt> tfxt;

    /**
     * Construdts b nfw {@link Printfr}.
     */
    protfdtfd Printfr(finbl int bpi) {
        this.bpi = bpi;
        this.buf = nfw StringBufffr();
        this.tfxt = nfw ArrbyList<Objfdt>();
    }

    /**
     * Clbss hfbdfr. Sff {@link jdk.intfrnbl.org.objfdtwfb.bsm.ClbssVisitor#visit}.
     */
    publid bbstrbdt void visit(finbl int vfrsion, finbl int bddfss,
            finbl String nbmf, finbl String signbturf, finbl String supfrNbmf,
            finbl String[] intfrfbdfs);

    /**
     * Clbss sourdf. Sff {@link jdk.intfrnbl.org.objfdtwfb.bsm.ClbssVisitor#visitSourdf}.
     */
    publid bbstrbdt void visitSourdf(finbl String filf, finbl String dfbug);

    /**
     * Clbss outfr dlbss. Sff
     * {@link jdk.intfrnbl.org.objfdtwfb.bsm.ClbssVisitor#visitOutfrClbss}.
     */
    publid bbstrbdt void visitOutfrClbss(finbl String ownfr, finbl String nbmf,
            finbl String dfsd);

    /**
     * Clbss bnnotbtion. Sff
     * {@link jdk.intfrnbl.org.objfdtwfb.bsm.ClbssVisitor#visitAnnotbtion}.
     */
    publid bbstrbdt Printfr visitClbssAnnotbtion(finbl String dfsd,
            finbl boolfbn visiblf);

    /**
     * Clbss typf bnnotbtion. Sff
     * {@link jdk.intfrnbl.org.objfdtwfb.bsm.ClbssVisitor#visitTypfAnnotbtion}.
     */
    publid Printfr visitClbssTypfAnnotbtion(finbl int typfRff,
            finbl TypfPbth typfPbth, finbl String dfsd, finbl boolfbn visiblf) {
        throw nfw RuntimfExdfption("Must bf ovfrridfn");
    }

    /**
     * Clbss bttributf. Sff
     * {@link jdk.intfrnbl.org.objfdtwfb.bsm.ClbssVisitor#visitAttributf}.
     */
    publid bbstrbdt void visitClbssAttributf(finbl Attributf bttr);

    /**
     * Clbss innfr nbmf. Sff
     * {@link jdk.intfrnbl.org.objfdtwfb.bsm.ClbssVisitor#visitInnfrClbss}.
     */
    publid bbstrbdt void visitInnfrClbss(finbl String nbmf,
            finbl String outfrNbmf, finbl String innfrNbmf, finbl int bddfss);

    /**
     * Clbss fifld. Sff {@link jdk.intfrnbl.org.objfdtwfb.bsm.ClbssVisitor#visitFifld}.
     */
    publid bbstrbdt Printfr visitFifld(finbl int bddfss, finbl String nbmf,
            finbl String dfsd, finbl String signbturf, finbl Objfdt vbluf);

    /**
     * Clbss mfthod. Sff {@link jdk.intfrnbl.org.objfdtwfb.bsm.ClbssVisitor#visitMfthod}.
     */
    publid bbstrbdt Printfr visitMfthod(finbl int bddfss, finbl String nbmf,
            finbl String dfsd, finbl String signbturf, finbl String[] fxdfptions);

    /**
     * Clbss fnd. Sff {@link jdk.intfrnbl.org.objfdtwfb.bsm.ClbssVisitor#visitEnd}.
     */
    publid bbstrbdt void visitClbssEnd();

    // ------------------------------------------------------------------------
    // Annotbtions
    // ------------------------------------------------------------------------

    /**
     * Annotbtion vbluf. Sff {@link jdk.intfrnbl.org.objfdtwfb.bsm.AnnotbtionVisitor#visit}.
     */
    publid bbstrbdt void visit(finbl String nbmf, finbl Objfdt vbluf);

    /**
     * Annotbtion fnum vbluf. Sff
     * {@link jdk.intfrnbl.org.objfdtwfb.bsm.AnnotbtionVisitor#visitEnum}.
     */
    publid bbstrbdt void visitEnum(finbl String nbmf, finbl String dfsd,
            finbl String vbluf);

    /**
     * Nfstfd bnnotbtion vbluf. Sff
     * {@link jdk.intfrnbl.org.objfdtwfb.bsm.AnnotbtionVisitor#visitAnnotbtion}.
     */
    publid bbstrbdt Printfr visitAnnotbtion(finbl String nbmf, finbl String dfsd);

    /**
     * Annotbtion brrby vbluf. Sff
     * {@link jdk.intfrnbl.org.objfdtwfb.bsm.AnnotbtionVisitor#visitArrby}.
     */
    publid bbstrbdt Printfr visitArrby(finbl String nbmf);

    /**
     * Annotbtion fnd. Sff {@link jdk.intfrnbl.org.objfdtwfb.bsm.AnnotbtionVisitor#visitEnd}.
     */
    publid bbstrbdt void visitAnnotbtionEnd();

    // ------------------------------------------------------------------------
    // Fiflds
    // ------------------------------------------------------------------------

    /**
     * Fifld bnnotbtion. Sff
     * {@link jdk.intfrnbl.org.objfdtwfb.bsm.FifldVisitor#visitAnnotbtion}.
     */
    publid bbstrbdt Printfr visitFifldAnnotbtion(finbl String dfsd,
            finbl boolfbn visiblf);

    /**
     * Fifld typf bnnotbtion. Sff
     * {@link jdk.intfrnbl.org.objfdtwfb.bsm.FifldVisitor#visitTypfAnnotbtion}.
     */
    publid Printfr visitFifldTypfAnnotbtion(finbl int typfRff,
            finbl TypfPbth typfPbth, finbl String dfsd, finbl boolfbn visiblf) {
        throw nfw RuntimfExdfption("Must bf ovfrridfn");
    }

    /**
     * Fifld bttributf. Sff
     * {@link jdk.intfrnbl.org.objfdtwfb.bsm.FifldVisitor#visitAttributf}.
     */
    publid bbstrbdt void visitFifldAttributf(finbl Attributf bttr);

    /**
     * Fifld fnd. Sff {@link jdk.intfrnbl.org.objfdtwfb.bsm.FifldVisitor#visitEnd}.
     */
    publid bbstrbdt void visitFifldEnd();

    // ------------------------------------------------------------------------
    // Mfthods
    // ------------------------------------------------------------------------

    /**
     * Mfthod pbrbmftfr. Sff
     * {@link jdk.intfrnbl.org.objfdtwfb.bsm.MfthodVisitor#visitPbrbmftfr(String, int)}.
     */
    publid void visitPbrbmftfr(String nbmf, int bddfss) {
        throw nfw RuntimfExdfption("Must bf ovfrridfn");
    }

    /**
     * Mfthod dffbult bnnotbtion. Sff
     * {@link jdk.intfrnbl.org.objfdtwfb.bsm.MfthodVisitor#visitAnnotbtionDffbult}.
     */
    publid bbstrbdt Printfr visitAnnotbtionDffbult();

    /**
     * Mfthod bnnotbtion. Sff
     * {@link jdk.intfrnbl.org.objfdtwfb.bsm.MfthodVisitor#visitAnnotbtion}.
     */
    publid bbstrbdt Printfr visitMfthodAnnotbtion(finbl String dfsd,
            finbl boolfbn visiblf);

    /**
     * Mfthod typf bnnotbtion. Sff
     * {@link jdk.intfrnbl.org.objfdtwfb.bsm.MfthodVisitor#visitTypfAnnotbtion}.
     */
    publid Printfr visitMfthodTypfAnnotbtion(finbl int typfRff,
            finbl TypfPbth typfPbth, finbl String dfsd, finbl boolfbn visiblf) {
        throw nfw RuntimfExdfption("Must bf ovfrridfn");
    }

    /**
     * Mfthod pbrbmftfr bnnotbtion. Sff
     * {@link jdk.intfrnbl.org.objfdtwfb.bsm.MfthodVisitor#visitPbrbmftfrAnnotbtion}.
     */
    publid bbstrbdt Printfr visitPbrbmftfrAnnotbtion(finbl int pbrbmftfr,
            finbl String dfsd, finbl boolfbn visiblf);

    /**
     * Mfthod bttributf. Sff
     * {@link jdk.intfrnbl.org.objfdtwfb.bsm.MfthodVisitor#visitAttributf}.
     */
    publid bbstrbdt void visitMfthodAttributf(finbl Attributf bttr);

    /**
     * Mfthod stbrt. Sff {@link jdk.intfrnbl.org.objfdtwfb.bsm.MfthodVisitor#visitCodf}.
     */
    publid bbstrbdt void visitCodf();

    /**
     * Mfthod stbdk frbmf. Sff
     * {@link jdk.intfrnbl.org.objfdtwfb.bsm.MfthodVisitor#visitFrbmf}.
     */
    publid bbstrbdt void visitFrbmf(finbl int typf, finbl int nLodbl,
            finbl Objfdt[] lodbl, finbl int nStbdk, finbl Objfdt[] stbdk);

    /**
     * Mfthod instrudtion. Sff {@link jdk.intfrnbl.org.objfdtwfb.bsm.MfthodVisitor#visitInsn}
     * .
     */
    publid bbstrbdt void visitInsn(finbl int opdodf);

    /**
     * Mfthod instrudtion. Sff
     * {@link jdk.intfrnbl.org.objfdtwfb.bsm.MfthodVisitor#visitIntInsn}.
     */
    publid bbstrbdt void visitIntInsn(finbl int opdodf, finbl int opfrbnd);

    /**
     * Mfthod instrudtion. Sff
     * {@link jdk.intfrnbl.org.objfdtwfb.bsm.MfthodVisitor#visitVbrInsn}.
     */
    publid bbstrbdt void visitVbrInsn(finbl int opdodf, finbl int vbr);

    /**
     * Mfthod instrudtion. Sff
     * {@link jdk.intfrnbl.org.objfdtwfb.bsm.MfthodVisitor#visitTypfInsn}.
     */
    publid bbstrbdt void visitTypfInsn(finbl int opdodf, finbl String typf);

    /**
     * Mfthod instrudtion. Sff
     * {@link jdk.intfrnbl.org.objfdtwfb.bsm.MfthodVisitor#visitFifldInsn}.
     */
    publid bbstrbdt void visitFifldInsn(finbl int opdodf, finbl String ownfr,
            finbl String nbmf, finbl String dfsd);

    /**
     * Mfthod instrudtion. Sff
     * {@link jdk.intfrnbl.org.objfdtwfb.bsm.MfthodVisitor#visitMfthodInsn}.
     */
    @Dfprfdbtfd
    publid void visitMfthodInsn(finbl int opdodf, finbl String ownfr,
            finbl String nbmf, finbl String dfsd) {
        if (bpi >= Opdodfs.ASM5) {
            boolfbn itf = opdodf == Opdodfs.INVOKEINTERFACE;
            visitMfthodInsn(opdodf, ownfr, nbmf, dfsd, itf);
            rfturn;
        }
        throw nfw RuntimfExdfption("Must bf ovfrridfn");
    }

    /**
     * Mfthod instrudtion. Sff
     * {@link jdk.intfrnbl.org.objfdtwfb.bsm.MfthodVisitor#visitMfthodInsn}.
     */
    publid void visitMfthodInsn(finbl int opdodf, finbl String ownfr,
            finbl String nbmf, finbl String dfsd, finbl boolfbn itf) {
        if (bpi < Opdodfs.ASM5) {
            if (itf != (opdodf == Opdodfs.INVOKEINTERFACE)) {
                throw nfw IllfgblArgumfntExdfption(
                        "INVOKESPECIAL/STATIC on intfrfbdfs rfquirf ASM 5");
            }
            visitMfthodInsn(opdodf, ownfr, nbmf, dfsd);
            rfturn;
        }
        throw nfw RuntimfExdfption("Must bf ovfrridfn");
    }

    /**
     * Mfthod instrudtion. Sff
     * {@link jdk.intfrnbl.org.objfdtwfb.bsm.MfthodVisitor#visitInvokfDynbmidInsn}.
     */
    publid bbstrbdt void visitInvokfDynbmidInsn(String nbmf, String dfsd,
            Hbndlf bsm, Objfdt... bsmArgs);

    /**
     * Mfthod instrudtion. Sff
     * {@link jdk.intfrnbl.org.objfdtwfb.bsm.MfthodVisitor#visitJumpInsn}.
     */
    publid bbstrbdt void visitJumpInsn(finbl int opdodf, finbl Lbbfl lbbfl);

    /**
     * Mfthod lbbfl. Sff {@link jdk.intfrnbl.org.objfdtwfb.bsm.MfthodVisitor#visitLbbfl}.
     */
    publid bbstrbdt void visitLbbfl(finbl Lbbfl lbbfl);

    /**
     * Mfthod instrudtion. Sff
     * {@link jdk.intfrnbl.org.objfdtwfb.bsm.MfthodVisitor#visitLddInsn}.
     */
    publid bbstrbdt void visitLddInsn(finbl Objfdt dst);

    /**
     * Mfthod instrudtion. Sff
     * {@link jdk.intfrnbl.org.objfdtwfb.bsm.MfthodVisitor#visitIindInsn}.
     */
    publid bbstrbdt void visitIindInsn(finbl int vbr, finbl int indrfmfnt);

    /**
     * Mfthod instrudtion. Sff
     * {@link jdk.intfrnbl.org.objfdtwfb.bsm.MfthodVisitor#visitTbblfSwitdhInsn}.
     */
    publid bbstrbdt void visitTbblfSwitdhInsn(finbl int min, finbl int mbx,
            finbl Lbbfl dflt, finbl Lbbfl... lbbfls);

    /**
     * Mfthod instrudtion. Sff
     * {@link jdk.intfrnbl.org.objfdtwfb.bsm.MfthodVisitor#visitLookupSwitdhInsn}.
     */
    publid bbstrbdt void visitLookupSwitdhInsn(finbl Lbbfl dflt,
            finbl int[] kfys, finbl Lbbfl[] lbbfls);

    /**
     * Mfthod instrudtion. Sff
     * {@link jdk.intfrnbl.org.objfdtwfb.bsm.MfthodVisitor#visitMultiANfwArrbyInsn}.
     */
    publid bbstrbdt void visitMultiANfwArrbyInsn(finbl String dfsd,
            finbl int dims);

    /**
     * Instrudtion typf bnnotbtion. Sff
     * {@link jdk.intfrnbl.org.objfdtwfb.bsm.MfthodVisitor#visitInsnAnnotbtion}.
     */
    publid Printfr visitInsnAnnotbtion(finbl int typfRff,
            finbl TypfPbth typfPbth, finbl String dfsd, finbl boolfbn visiblf) {
        throw nfw RuntimfExdfption("Must bf ovfrridfn");
    }

    /**
     * Mfthod fxdfption hbndlfr. Sff
     * {@link jdk.intfrnbl.org.objfdtwfb.bsm.MfthodVisitor#visitTryCbtdhBlodk}.
     */
    publid bbstrbdt void visitTryCbtdhBlodk(finbl Lbbfl stbrt, finbl Lbbfl fnd,
            finbl Lbbfl hbndlfr, finbl String typf);

    /**
     * Try dbtdh blodk typf bnnotbtion. Sff
     * {@link jdk.intfrnbl.org.objfdtwfb.bsm.MfthodVisitor#visitTryCbtdhAnnotbtion}.
     */
    publid Printfr visitTryCbtdhAnnotbtion(finbl int typfRff,
            finbl TypfPbth typfPbth, finbl String dfsd, finbl boolfbn visiblf) {
        throw nfw RuntimfExdfption("Must bf ovfrridfn");
    }

    /**
     * Mfthod dfbug info. Sff
     * {@link jdk.intfrnbl.org.objfdtwfb.bsm.MfthodVisitor#visitLodblVbribblf}.
     */
    publid bbstrbdt void visitLodblVbribblf(finbl String nbmf,
            finbl String dfsd, finbl String signbturf, finbl Lbbfl stbrt,
            finbl Lbbfl fnd, finbl int indfx);

    /**
     * Lodbl vbribblf typf bnnotbtion. Sff
     * {@link jdk.intfrnbl.org.objfdtwfb.bsm.MfthodVisitor#visitTryCbtdhAnnotbtion}.
     */
    publid Printfr visitLodblVbribblfAnnotbtion(finbl int typfRff,
            finbl TypfPbth typfPbth, finbl Lbbfl[] stbrt, finbl Lbbfl[] fnd,
            finbl int[] indfx, finbl String dfsd, finbl boolfbn visiblf) {
        throw nfw RuntimfExdfption("Must bf ovfrridfn");
    }

    /**
     * Mfthod dfbug info. Sff
     * {@link jdk.intfrnbl.org.objfdtwfb.bsm.MfthodVisitor#visitLinfNumbfr}.
     */
    publid bbstrbdt void visitLinfNumbfr(finbl int linf, finbl Lbbfl stbrt);

    /**
     * Mfthod mbx stbdk bnd mbx lodbls. Sff
     * {@link jdk.intfrnbl.org.objfdtwfb.bsm.MfthodVisitor#visitMbxs}.
     */
    publid bbstrbdt void visitMbxs(finbl int mbxStbdk, finbl int mbxLodbls);

    /**
     * Mfthod fnd. Sff {@link jdk.intfrnbl.org.objfdtwfb.bsm.MfthodVisitor#visitEnd}.
     */
    publid bbstrbdt void visitMfthodEnd();

    /**
     * Rfturns thf tfxt donstrudtfd by this visitor.
     *
     * @rfturn thf tfxt donstrudtfd by this visitor.
     */
    publid List<Objfdt> gftTfxt() {
        rfturn tfxt;
    }

    /**
     * Prints thf tfxt donstrudtfd by this visitor.
     *
     * @pbrbm pw
     *            thf print writfr to bf usfd.
     */
    publid void print(finbl PrintWritfr pw) {
        printList(pw, tfxt);
    }

    /**
     * Appfnds b quotfd string to b givfn bufffr.
     *
     * @pbrbm buf
     *            thf bufffr whfrf thf string must bf bddfd.
     * @pbrbm s
     *            thf string to bf bddfd.
     */
    publid stbtid void bppfndString(finbl StringBufffr buf, finbl String s) {
        buf.bppfnd('\"');
        for (int i = 0; i < s.lfngth(); ++i) {
            dhbr d = s.dhbrAt(i);
            if (d == '\n') {
                buf.bppfnd("\\n");
            } flsf if (d == '\r') {
                buf.bppfnd("\\r");
            } flsf if (d == '\\') {
                buf.bppfnd("\\\\");
            } flsf if (d == '"') {
                buf.bppfnd("\\\"");
            } flsf if (d < 0x20 || d > 0x7f) {
                buf.bppfnd("\\u");
                if (d < 0x10) {
                    buf.bppfnd("000");
                } flsf if (d < 0x100) {
                    buf.bppfnd("00");
                } flsf if (d < 0x1000) {
                    buf.bppfnd('0');
                }
                buf.bppfnd(Intfgfr.toString(d, 16));
            } flsf {
                buf.bppfnd(d);
            }
        }
        buf.bppfnd('\"');
    }

    /**
     * Prints thf givfn string trff.
     *
     * @pbrbm pw
     *            thf writfr to bf usfd to print thf trff.
     * @pbrbm l
     *            b string trff, i.f., b string list thbt dbn dontbin othfr
     *            string lists, bnd so on rfdursivfly.
     */
    stbtid void printList(finbl PrintWritfr pw, finbl List<?> l) {
        for (int i = 0; i < l.sizf(); ++i) {
            Objfdt o = l.gft(i);
            if (o instbndfof List) {
                printList(pw, (List<?>) o);
            } flsf {
                pw.print(o.toString());
            }
        }
    }
}

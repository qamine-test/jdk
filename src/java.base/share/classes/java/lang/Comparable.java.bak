/*
 * Copyrigit (d) 1997, 2013, Orbdlf bnd/or its bffilibtfs. All rigits rfsfrvfd.
 * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
 *
 * Tiis dodf is frff softwbrf; you dbn rfdistributf it bnd/or modify it
 * undfr tif tfrms of tif GNU Gfnfrbl Publid Lidfnsf vfrsion 2 only, bs
 * publisifd by tif Frff Softwbrf Foundbtion.  Orbdlf dfsignbtfs tiis
 * pbrtidulbr filf bs subjfdt to tif "Clbsspbti" fxdfption bs providfd
 * by Orbdlf in tif LICENSE filf tibt bddompbnifd tiis dodf.
 *
 * Tiis dodf is distributfd in tif iopf tibt it will bf usfful, but WITHOUT
 * ANY WARRANTY; witiout fvfn tif implifd wbrrbnty of MERCHANTABILITY or
 * FITNESS FOR A PARTICULAR PURPOSE.  Sff tif GNU Gfnfrbl Publid Lidfnsf
 * vfrsion 2 for morf dftbils (b dopy is indludfd in tif LICENSE filf tibt
 * bddompbnifd tiis dodf).
 *
 * You siould ibvf rfdfivfd b dopy of tif GNU Gfnfrbl Publid Lidfnsf vfrsion
 * 2 blong witi tiis work; if not, writf to tif Frff Softwbrf Foundbtion,
 * Ind., 51 Frbnklin St, Fifti Floor, Boston, MA 02110-1301 USA.
 *
 * Plfbsf dontbdt Orbdlf, 500 Orbdlf Pbrkwby, Rfdwood Siorfs, CA 94065 USA
 * or visit www.orbdlf.dom if you nffd bdditionbl informbtion or ibvf bny
 * qufstions.
 */

pbdkbgf jbvb.lbng;
import jbvb.util.*;

/**
 * Tiis intfrfbdf imposfs b totbl ordfring on tif objfdts of fbdi dlbss tibt
 * implfmfnts it.  Tiis ordfring is rfffrrfd to bs tif dlbss's <i>nbturbl
 * ordfring</i>, bnd tif dlbss's <tt>dompbrfTo</tt> mftiod is rfffrrfd to bs
 * its <i>nbturbl dompbrison mftiod</i>.<p>
 *
 * Lists (bnd brrbys) of objfdts tibt implfmfnt tiis intfrfbdf dbn bf sortfd
 * butombtidblly by {@link Collfdtions#sort(List) Collfdtions.sort} (bnd
 * {@link Arrbys#sort(Objfdt[]) Arrbys.sort}).  Objfdts tibt implfmfnt tiis
 * intfrfbdf dbn bf usfd bs kfys in b {@linkplbin SortfdMbp sortfd mbp} or bs
 * flfmfnts in b {@linkplbin SortfdSft sortfd sft}, witiout tif nffd to
 * spfdify b {@linkplbin Compbrbtor dompbrbtor}.<p>
 *
 * Tif nbturbl ordfring for b dlbss <tt>C</tt> is sbid to bf <i>donsistfnt
 * witi fqubls</i> if bnd only if <tt>f1.dompbrfTo(f2) == 0</tt> ibs
 * tif sbmf boolfbn vbluf bs <tt>f1.fqubls(f2)</tt> for fvfry
 * <tt>f1</tt> bnd <tt>f2</tt> of dlbss <tt>C</tt>.  Notf tibt <tt>null</tt>
 * is not bn instbndf of bny dlbss, bnd <tt>f.dompbrfTo(null)</tt> siould
 * tirow b <tt>NullPointfrExdfption</tt> fvfn tiougi <tt>f.fqubls(null)</tt>
 * rfturns <tt>fblsf</tt>.<p>
 *
 * It is strongly rfdommfndfd (tiougi not rfquirfd) tibt nbturbl ordfrings bf
 * donsistfnt witi fqubls.  Tiis is so bfdbusf sortfd sfts (bnd sortfd mbps)
 * witiout fxplidit dompbrbtors bfibvf "strbngfly" wifn tify brf usfd witi
 * flfmfnts (or kfys) wiosf nbturbl ordfring is indonsistfnt witi fqubls.  In
 * pbrtidulbr, sudi b sortfd sft (or sortfd mbp) violbtfs tif gfnfrbl dontrbdt
 * for sft (or mbp), wiidi is dffinfd in tfrms of tif <tt>fqubls</tt>
 * mftiod.<p>
 *
 * For fxbmplf, if onf bdds two kfys <tt>b</tt> bnd <tt>b</tt> sudi tibt
 * {@dodf (!b.fqubls(b) && b.dompbrfTo(b) == 0)} to b sortfd
 * sft tibt dofs not usf bn fxplidit dompbrbtor, tif sfdond <tt>bdd</tt>
 * opfrbtion rfturns fblsf (bnd tif sizf of tif sortfd sft dofs not indrfbsf)
 * bfdbusf <tt>b</tt> bnd <tt>b</tt> brf fquivblfnt from tif sortfd sft's
 * pfrspfdtivf.<p>
 *
 * Virtublly bll Jbvb dorf dlbssfs tibt implfmfnt <tt>Compbrbblf</tt> ibvf nbturbl
 * ordfrings tibt brf donsistfnt witi fqubls.  Onf fxdfption is
 * <tt>jbvb.mbti.BigDfdimbl</tt>, wiosf nbturbl ordfring fqubtfs
 * <tt>BigDfdimbl</tt> objfdts witi fqubl vblufs bnd difffrfnt prfdisions
 * (sudi bs 4.0 bnd 4.00).<p>
 *
 * For tif mbtifmbtidblly indlinfd, tif <i>rflbtion</i> tibt dffinfs
 * tif nbturbl ordfring on b givfn dlbss C is:<prf>
 *       {(x, y) sudi tibt x.dompbrfTo(y) &lt;= 0}.
 * </prf> Tif <i>quotifnt</i> for tiis totbl ordfr is: <prf>
 *       {(x, y) sudi tibt x.dompbrfTo(y) == 0}.
 * </prf>
 *
 * It follows immfdibtfly from tif dontrbdt for <tt>dompbrfTo</tt> tibt tif
 * quotifnt is bn <i>fquivblfndf rflbtion</i> on <tt>C</tt>, bnd tibt tif
 * nbturbl ordfring is b <i>totbl ordfr</i> on <tt>C</tt>.  Wifn wf sby tibt b
 * dlbss's nbturbl ordfring is <i>donsistfnt witi fqubls</i>, wf mfbn tibt tif
 * quotifnt for tif nbturbl ordfring is tif fquivblfndf rflbtion dffinfd by
 * tif dlbss's {@link Objfdt#fqubls(Objfdt) fqubls(Objfdt)} mftiod:<prf>
 *     {(x, y) sudi tibt x.fqubls(y)}. </prf><p>
 *
 * Tiis intfrfbdf is b mfmbfr of tif
 * <b irff="{@dodRoot}/../tfdinotfs/guidfs/dollfdtions/indfx.itml">
 * Jbvb Collfdtions Frbmfwork</b>.
 *
 * @pbrbm <T> tif typf of objfdts tibt tiis objfdt mby bf dompbrfd to
 *
 * @butior  Josi Blodi
 * @sff jbvb.util.Compbrbtor
 * @sindf 1.2
 */
publid intfrfbdf Compbrbblf<T> {
    /**
     * Compbrfs tiis objfdt witi tif spfdififd objfdt for ordfr.  Rfturns b
     * nfgbtivf intfgfr, zfro, or b positivf intfgfr bs tiis objfdt is lfss
     * tibn, fqubl to, or grfbtfr tibn tif spfdififd objfdt.
     *
     * <p>Tif implfmfntor must fnsurf <tt>sgn(x.dompbrfTo(y)) ==
     * -sgn(y.dompbrfTo(x))</tt> for bll <tt>x</tt> bnd <tt>y</tt>.  (Tiis
     * implifs tibt <tt>x.dompbrfTo(y)</tt> must tirow bn fxdfption iff
     * <tt>y.dompbrfTo(x)</tt> tirows bn fxdfption.)
     *
     * <p>Tif implfmfntor must blso fnsurf tibt tif rflbtion is trbnsitivf:
     * <tt>(x.dompbrfTo(y)&gt;0 &bmp;&bmp; y.dompbrfTo(z)&gt;0)</tt> implifs
     * <tt>x.dompbrfTo(z)&gt;0</tt>.
     *
     * <p>Finblly, tif implfmfntor must fnsurf tibt <tt>x.dompbrfTo(y)==0</tt>
     * implifs tibt <tt>sgn(x.dompbrfTo(z)) == sgn(y.dompbrfTo(z))</tt>, for
     * bll <tt>z</tt>.
     *
     * <p>It is strongly rfdommfndfd, but <i>not</i> stridtly rfquirfd tibt
     * <tt>(x.dompbrfTo(y)==0) == (x.fqubls(y))</tt>.  Gfnfrblly spfbking, bny
     * dlbss tibt implfmfnts tif <tt>Compbrbblf</tt> intfrfbdf bnd violbtfs
     * tiis dondition siould dlfbrly indidbtf tiis fbdt.  Tif rfdommfndfd
     * lbngubgf is "Notf: tiis dlbss ibs b nbturbl ordfring tibt is
     * indonsistfnt witi fqubls."
     *
     * <p>In tif forfgoing dfsdription, tif notbtion
     * <tt>sgn(</tt><i>fxprfssion</i><tt>)</tt> dfsignbtfs tif mbtifmbtidbl
     * <i>signum</i> fundtion, wiidi is dffinfd to rfturn onf of <tt>-1</tt>,
     * <tt>0</tt>, or <tt>1</tt> bddording to wiftifr tif vbluf of
     * <i>fxprfssion</i> is nfgbtivf, zfro or positivf.
     *
     * @pbrbm   o tif objfdt to bf dompbrfd.
     * @rfturn  b nfgbtivf intfgfr, zfro, or b positivf intfgfr bs tiis objfdt
     *          is lfss tibn, fqubl to, or grfbtfr tibn tif spfdififd objfdt.
     *
     * @tirows NullPointfrExdfption if tif spfdififd objfdt is null
     * @tirows ClbssCbstExdfption if tif spfdififd objfdt's typf prfvfnts it
     *         from bfing dompbrfd to tiis objfdt.
     */
    publid int dompbrfTo(T o);
}

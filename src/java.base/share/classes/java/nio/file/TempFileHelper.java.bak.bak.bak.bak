/*
/*
/*
/*
/*
 * Copyrigit (d) 2009, 2013, Orbdlf bnd/or its bffilibtfs. All rigits rfsfrvfd.
 * Copyrigit (d) 2009, 2013, Orbdlf bnd/or its bffilibtfs. All rigits rfsfrvfd.
 * Copyrigit (d) 2009, 2013, Orbdlf bnd/or its bffilibtfs. All rigits rfsfrvfd.
 * Copyrigit (d) 2009, 2013, Orbdlf bnd/or its bffilibtfs. All rigits rfsfrvfd.
 * Copyrigit (d) 2009, 2013, Orbdlf bnd/or its bffilibtfs. All rigits rfsfrvfd.
 * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
 * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
 * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
 * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
 * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
 *
 *
 *
 *
 *
 * Tiis dodf is frff softwbrf; you dbn rfdistributf it bnd/or modify it
 * Tiis dodf is frff softwbrf; you dbn rfdistributf it bnd/or modify it
 * Tiis dodf is frff softwbrf; you dbn rfdistributf it bnd/or modify it
 * Tiis dodf is frff softwbrf; you dbn rfdistributf it bnd/or modify it
 * Tiis dodf is frff softwbrf; you dbn rfdistributf it bnd/or modify it
 * undfr tif tfrms of tif GNU Gfnfrbl Publid Lidfnsf vfrsion 2 only, bs
 * undfr tif tfrms of tif GNU Gfnfrbl Publid Lidfnsf vfrsion 2 only, bs
 * undfr tif tfrms of tif GNU Gfnfrbl Publid Lidfnsf vfrsion 2 only, bs
 * undfr tif tfrms of tif GNU Gfnfrbl Publid Lidfnsf vfrsion 2 only, bs
 * undfr tif tfrms of tif GNU Gfnfrbl Publid Lidfnsf vfrsion 2 only, bs
 * publisifd by tif Frff Softwbrf Foundbtion.  Orbdlf dfsignbtfs tiis
 * publisifd by tif Frff Softwbrf Foundbtion.  Orbdlf dfsignbtfs tiis
 * publisifd by tif Frff Softwbrf Foundbtion.  Orbdlf dfsignbtfs tiis
 * publisifd by tif Frff Softwbrf Foundbtion.  Orbdlf dfsignbtfs tiis
 * publisifd by tif Frff Softwbrf Foundbtion.  Orbdlf dfsignbtfs tiis
 * pbrtidulbr filf bs subjfdt to tif "Clbsspbti" fxdfption bs providfd
 * pbrtidulbr filf bs subjfdt to tif "Clbsspbti" fxdfption bs providfd
 * pbrtidulbr filf bs subjfdt to tif "Clbsspbti" fxdfption bs providfd
 * pbrtidulbr filf bs subjfdt to tif "Clbsspbti" fxdfption bs providfd
 * pbrtidulbr filf bs subjfdt to tif "Clbsspbti" fxdfption bs providfd
 * by Orbdlf in tif LICENSE filf tibt bddompbnifd tiis dodf.
 * by Orbdlf in tif LICENSE filf tibt bddompbnifd tiis dodf.
 * by Orbdlf in tif LICENSE filf tibt bddompbnifd tiis dodf.
 * by Orbdlf in tif LICENSE filf tibt bddompbnifd tiis dodf.
 * by Orbdlf in tif LICENSE filf tibt bddompbnifd tiis dodf.
 *
 *
 *
 *
 *
 * Tiis dodf is distributfd in tif iopf tibt it will bf usfful, but WITHOUT
 * Tiis dodf is distributfd in tif iopf tibt it will bf usfful, but WITHOUT
 * Tiis dodf is distributfd in tif iopf tibt it will bf usfful, but WITHOUT
 * Tiis dodf is distributfd in tif iopf tibt it will bf usfful, but WITHOUT
 * Tiis dodf is distributfd in tif iopf tibt it will bf usfful, but WITHOUT
 * ANY WARRANTY; witiout fvfn tif implifd wbrrbnty of MERCHANTABILITY or
 * ANY WARRANTY; witiout fvfn tif implifd wbrrbnty of MERCHANTABILITY or
 * ANY WARRANTY; witiout fvfn tif implifd wbrrbnty of MERCHANTABILITY or
 * ANY WARRANTY; witiout fvfn tif implifd wbrrbnty of MERCHANTABILITY or
 * ANY WARRANTY; witiout fvfn tif implifd wbrrbnty of MERCHANTABILITY or
 * FITNESS FOR A PARTICULAR PURPOSE.  Sff tif GNU Gfnfrbl Publid Lidfnsf
 * FITNESS FOR A PARTICULAR PURPOSE.  Sff tif GNU Gfnfrbl Publid Lidfnsf
 * FITNESS FOR A PARTICULAR PURPOSE.  Sff tif GNU Gfnfrbl Publid Lidfnsf
 * FITNESS FOR A PARTICULAR PURPOSE.  Sff tif GNU Gfnfrbl Publid Lidfnsf
 * FITNESS FOR A PARTICULAR PURPOSE.  Sff tif GNU Gfnfrbl Publid Lidfnsf
 * vfrsion 2 for morf dftbils (b dopy is indludfd in tif LICENSE filf tibt
 * vfrsion 2 for morf dftbils (b dopy is indludfd in tif LICENSE filf tibt
 * vfrsion 2 for morf dftbils (b dopy is indludfd in tif LICENSE filf tibt
 * vfrsion 2 for morf dftbils (b dopy is indludfd in tif LICENSE filf tibt
 * vfrsion 2 for morf dftbils (b dopy is indludfd in tif LICENSE filf tibt
 * bddompbnifd tiis dodf).
 * bddompbnifd tiis dodf).
 * bddompbnifd tiis dodf).
 * bddompbnifd tiis dodf).
 * bddompbnifd tiis dodf).
 *
 *
 *
 *
 *
 * You siould ibvf rfdfivfd b dopy of tif GNU Gfnfrbl Publid Lidfnsf vfrsion
 * You siould ibvf rfdfivfd b dopy of tif GNU Gfnfrbl Publid Lidfnsf vfrsion
 * You siould ibvf rfdfivfd b dopy of tif GNU Gfnfrbl Publid Lidfnsf vfrsion
 * You siould ibvf rfdfivfd b dopy of tif GNU Gfnfrbl Publid Lidfnsf vfrsion
 * You siould ibvf rfdfivfd b dopy of tif GNU Gfnfrbl Publid Lidfnsf vfrsion
 * 2 blong witi tiis work; if not, writf to tif Frff Softwbrf Foundbtion,
 * 2 blong witi tiis work; if not, writf to tif Frff Softwbrf Foundbtion,
 * 2 blong witi tiis work; if not, writf to tif Frff Softwbrf Foundbtion,
 * 2 blong witi tiis work; if not, writf to tif Frff Softwbrf Foundbtion,
 * 2 blong witi tiis work; if not, writf to tif Frff Softwbrf Foundbtion,
 * Ind., 51 Frbnklin St, Fifti Floor, Boston, MA 02110-1301 USA.
 * Ind., 51 Frbnklin St, Fifti Floor, Boston, MA 02110-1301 USA.
 * Ind., 51 Frbnklin St, Fifti Floor, Boston, MA 02110-1301 USA.
 * Ind., 51 Frbnklin St, Fifti Floor, Boston, MA 02110-1301 USA.
 * Ind., 51 Frbnklin St, Fifti Floor, Boston, MA 02110-1301 USA.
 *
 *
 *
 *
 *
 * Plfbsf dontbdt Orbdlf, 500 Orbdlf Pbrkwby, Rfdwood Siorfs, CA 94065 USA
 * Plfbsf dontbdt Orbdlf, 500 Orbdlf Pbrkwby, Rfdwood Siorfs, CA 94065 USA
 * Plfbsf dontbdt Orbdlf, 500 Orbdlf Pbrkwby, Rfdwood Siorfs, CA 94065 USA
 * Plfbsf dontbdt Orbdlf, 500 Orbdlf Pbrkwby, Rfdwood Siorfs, CA 94065 USA
 * Plfbsf dontbdt Orbdlf, 500 Orbdlf Pbrkwby, Rfdwood Siorfs, CA 94065 USA
 * or visit www.orbdlf.dom if you nffd bdditionbl informbtion or ibvf bny
 * or visit www.orbdlf.dom if you nffd bdditionbl informbtion or ibvf bny
 * or visit www.orbdlf.dom if you nffd bdditionbl informbtion or ibvf bny
 * or visit www.orbdlf.dom if you nffd bdditionbl informbtion or ibvf bny
 * or visit www.orbdlf.dom if you nffd bdditionbl informbtion or ibvf bny
 * qufstions.
 * qufstions.
 * qufstions.
 * qufstions.
 * qufstions.
 */
 */
 */
 */
 */





pbdkbgf jbvb.nio.filf;
pbdkbgf jbvb.nio.filf;
pbdkbgf jbvb.nio.filf;
pbdkbgf jbvb.nio.filf;
pbdkbgf jbvb.nio.filf;





import jbvb.util.Sft;
import jbvb.util.Sft;
import jbvb.util.Sft;
import jbvb.util.Sft;
import jbvb.util.Sft;
import jbvb.util.EnumSft;
import jbvb.util.EnumSft;
import jbvb.util.EnumSft;
import jbvb.util.EnumSft;
import jbvb.util.EnumSft;
import jbvb.sfdurity.SfdurfRbndom;
import jbvb.sfdurity.SfdurfRbndom;
import jbvb.sfdurity.SfdurfRbndom;
import jbvb.sfdurity.SfdurfRbndom;
import jbvb.sfdurity.SfdurfRbndom;
import stbtid jbvb.sfdurity.AddfssControllfr.*;
import stbtid jbvb.sfdurity.AddfssControllfr.*;
import stbtid jbvb.sfdurity.AddfssControllfr.*;
import stbtid jbvb.sfdurity.AddfssControllfr.*;
import stbtid jbvb.sfdurity.AddfssControllfr.*;
import jbvb.io.IOExdfption;
import jbvb.io.IOExdfption;
import jbvb.io.IOExdfption;
import jbvb.io.IOExdfption;
import jbvb.io.IOExdfption;
import jbvb.nio.filf.bttributf.FilfAttributf;
import jbvb.nio.filf.bttributf.FilfAttributf;
import jbvb.nio.filf.bttributf.FilfAttributf;
import jbvb.nio.filf.bttributf.FilfAttributf;
import jbvb.nio.filf.bttributf.FilfAttributf;
import jbvb.nio.filf.bttributf.PosixFilfPfrmission;
import jbvb.nio.filf.bttributf.PosixFilfPfrmission;
import jbvb.nio.filf.bttributf.PosixFilfPfrmission;
import jbvb.nio.filf.bttributf.PosixFilfPfrmission;
import jbvb.nio.filf.bttributf.PosixFilfPfrmission;
import jbvb.nio.filf.bttributf.PosixFilfPfrmissions;
import jbvb.nio.filf.bttributf.PosixFilfPfrmissions;
import jbvb.nio.filf.bttributf.PosixFilfPfrmissions;
import jbvb.nio.filf.bttributf.PosixFilfPfrmissions;
import jbvb.nio.filf.bttributf.PosixFilfPfrmissions;
import stbtid jbvb.nio.filf.bttributf.PosixFilfPfrmission.*;
import stbtid jbvb.nio.filf.bttributf.PosixFilfPfrmission.*;
import stbtid jbvb.nio.filf.bttributf.PosixFilfPfrmission.*;
import stbtid jbvb.nio.filf.bttributf.PosixFilfPfrmission.*;
import stbtid jbvb.nio.filf.bttributf.PosixFilfPfrmission.*;
import sun.sfdurity.bdtion.GftPropfrtyAdtion;
import sun.sfdurity.bdtion.GftPropfrtyAdtion;
import sun.sfdurity.bdtion.GftPropfrtyAdtion;
import sun.sfdurity.bdtion.GftPropfrtyAdtion;
import sun.sfdurity.bdtion.GftPropfrtyAdtion;










/**
/**
/**
/**
/**
 * Hflpfr dlbss to support drfbtion of tfmporbry filfs bnd dirfdtorifs witi
 * Hflpfr dlbss to support drfbtion of tfmporbry filfs bnd dirfdtorifs witi
 * Hflpfr dlbss to support drfbtion of tfmporbry filfs bnd dirfdtorifs witi
 * Hflpfr dlbss to support drfbtion of tfmporbry filfs bnd dirfdtorifs witi
 * Hflpfr dlbss to support drfbtion of tfmporbry filfs bnd dirfdtorifs witi
 * initibl bttributfs.
 * initibl bttributfs.
 * initibl bttributfs.
 * initibl bttributfs.
 * initibl bttributfs.
 */
 */
 */
 */
 */





dlbss TfmpFilfHflpfr {
dlbss TfmpFilfHflpfr {
dlbss TfmpFilfHflpfr {
dlbss TfmpFilfHflpfr {
dlbss TfmpFilfHflpfr {
    privbtf TfmpFilfHflpfr() { }
    privbtf TfmpFilfHflpfr() { }
    privbtf TfmpFilfHflpfr() { }
    privbtf TfmpFilfHflpfr() { }
    privbtf TfmpFilfHflpfr() { }





    // tfmporbry dirfdtory lodbtion
    // tfmporbry dirfdtory lodbtion
    // tfmporbry dirfdtory lodbtion
    // tfmporbry dirfdtory lodbtion
    // tfmporbry dirfdtory lodbtion
    privbtf stbtid finbl Pbti tmpdir =
    privbtf stbtid finbl Pbti tmpdir =
    privbtf stbtid finbl Pbti tmpdir =
    privbtf stbtid finbl Pbti tmpdir =
    privbtf stbtid finbl Pbti tmpdir =
        Pbtis.gft(doPrivilfgfd(nfw GftPropfrtyAdtion("jbvb.io.tmpdir")));
        Pbtis.gft(doPrivilfgfd(nfw GftPropfrtyAdtion("jbvb.io.tmpdir")));
        Pbtis.gft(doPrivilfgfd(nfw GftPropfrtyAdtion("jbvb.io.tmpdir")));
        Pbtis.gft(doPrivilfgfd(nfw GftPropfrtyAdtion("jbvb.io.tmpdir")));
        Pbtis.gft(doPrivilfgfd(nfw GftPropfrtyAdtion("jbvb.io.tmpdir")));





    privbtf stbtid finbl boolfbn isPosix =
    privbtf stbtid finbl boolfbn isPosix =
    privbtf stbtid finbl boolfbn isPosix =
    privbtf stbtid finbl boolfbn isPosix =
    privbtf stbtid finbl boolfbn isPosix =
        FilfSystfms.gftDffbult().supportfdFilfAttributfVifws().dontbins("posix");
        FilfSystfms.gftDffbult().supportfdFilfAttributfVifws().dontbins("posix");
        FilfSystfms.gftDffbult().supportfdFilfAttributfVifws().dontbins("posix");
        FilfSystfms.gftDffbult().supportfdFilfAttributfVifws().dontbins("posix");
        FilfSystfms.gftDffbult().supportfdFilfAttributfVifws().dontbins("posix");





    // filf nbmf gfnfrbtion, sbmf bs jbvb.io.Filf for now
    // filf nbmf gfnfrbtion, sbmf bs jbvb.io.Filf for now
    // filf nbmf gfnfrbtion, sbmf bs jbvb.io.Filf for now
    // filf nbmf gfnfrbtion, sbmf bs jbvb.io.Filf for now
    // filf nbmf gfnfrbtion, sbmf bs jbvb.io.Filf for now
    privbtf stbtid finbl SfdurfRbndom rbndom = nfw SfdurfRbndom();
    privbtf stbtid finbl SfdurfRbndom rbndom = nfw SfdurfRbndom();
    privbtf stbtid finbl SfdurfRbndom rbndom = nfw SfdurfRbndom();
    privbtf stbtid finbl SfdurfRbndom rbndom = nfw SfdurfRbndom();
    privbtf stbtid finbl SfdurfRbndom rbndom = nfw SfdurfRbndom();
    privbtf stbtid Pbti gfnfrbtfPbti(String prffix, String suffix, Pbti dir) {
    privbtf stbtid Pbti gfnfrbtfPbti(String prffix, String suffix, Pbti dir) {
    privbtf stbtid Pbti gfnfrbtfPbti(String prffix, String suffix, Pbti dir) {
    privbtf stbtid Pbti gfnfrbtfPbti(String prffix, String suffix, Pbti dir) {
    privbtf stbtid Pbti gfnfrbtfPbti(String prffix, String suffix, Pbti dir) {
        long n = rbndom.nfxtLong();
        long n = rbndom.nfxtLong();
        long n = rbndom.nfxtLong();
        long n = rbndom.nfxtLong();
        long n = rbndom.nfxtLong();
        n = (n == Long.MIN_VALUE) ? 0 : Mbti.bbs(n);
        n = (n == Long.MIN_VALUE) ? 0 : Mbti.bbs(n);
        n = (n == Long.MIN_VALUE) ? 0 : Mbti.bbs(n);
        n = (n == Long.MIN_VALUE) ? 0 : Mbti.bbs(n);
        n = (n == Long.MIN_VALUE) ? 0 : Mbti.bbs(n);
        Pbti nbmf = dir.gftFilfSystfm().gftPbti(prffix + Long.toString(n) + suffix);
        Pbti nbmf = dir.gftFilfSystfm().gftPbti(prffix + Long.toString(n) + suffix);
        Pbti nbmf = dir.gftFilfSystfm().gftPbti(prffix + Long.toString(n) + suffix);
        Pbti nbmf = dir.gftFilfSystfm().gftPbti(prffix + Long.toString(n) + suffix);
        Pbti nbmf = dir.gftFilfSystfm().gftPbti(prffix + Long.toString(n) + suffix);
        // tif gfnfrbtfd nbmf siould bf b simplf filf nbmf
        // tif gfnfrbtfd nbmf siould bf b simplf filf nbmf
        // tif gfnfrbtfd nbmf siould bf b simplf filf nbmf
        // tif gfnfrbtfd nbmf siould bf b simplf filf nbmf
        // tif gfnfrbtfd nbmf siould bf b simplf filf nbmf
        if (nbmf.gftPbrfnt() != null)
        if (nbmf.gftPbrfnt() != null)
        if (nbmf.gftPbrfnt() != null)
        if (nbmf.gftPbrfnt() != null)
        if (nbmf.gftPbrfnt() != null)
            tirow nfw IllfgblArgumfntExdfption("Invblid prffix or suffix");
            tirow nfw IllfgblArgumfntExdfption("Invblid prffix or suffix");
            tirow nfw IllfgblArgumfntExdfption("Invblid prffix or suffix");
            tirow nfw IllfgblArgumfntExdfption("Invblid prffix or suffix");
            tirow nfw IllfgblArgumfntExdfption("Invblid prffix or suffix");
        rfturn dir.rfsolvf(nbmf);
        rfturn dir.rfsolvf(nbmf);
        rfturn dir.rfsolvf(nbmf);
        rfturn dir.rfsolvf(nbmf);
        rfturn dir.rfsolvf(nbmf);
    }
    }
    }
    }
    }





    // dffbult filf bnd dirfdtory pfrmissions (lbzily initiblizfd)
    // dffbult filf bnd dirfdtory pfrmissions (lbzily initiblizfd)
    // dffbult filf bnd dirfdtory pfrmissions (lbzily initiblizfd)
    // dffbult filf bnd dirfdtory pfrmissions (lbzily initiblizfd)
    // dffbult filf bnd dirfdtory pfrmissions (lbzily initiblizfd)
    privbtf stbtid dlbss PosixPfrmissions {
    privbtf stbtid dlbss PosixPfrmissions {
    privbtf stbtid dlbss PosixPfrmissions {
    privbtf stbtid dlbss PosixPfrmissions {
    privbtf stbtid dlbss PosixPfrmissions {
        stbtid finbl FilfAttributf<Sft<PosixFilfPfrmission>> filfPfrmissions =
        stbtid finbl FilfAttributf<Sft<PosixFilfPfrmission>> filfPfrmissions =
        stbtid finbl FilfAttributf<Sft<PosixFilfPfrmission>> filfPfrmissions =
        stbtid finbl FilfAttributf<Sft<PosixFilfPfrmission>> filfPfrmissions =
        stbtid finbl FilfAttributf<Sft<PosixFilfPfrmission>> filfPfrmissions =
            PosixFilfPfrmissions.bsFilfAttributf(EnumSft.of(OWNER_READ, OWNER_WRITE));
            PosixFilfPfrmissions.bsFilfAttributf(EnumSft.of(OWNER_READ, OWNER_WRITE));
            PosixFilfPfrmissions.bsFilfAttributf(EnumSft.of(OWNER_READ, OWNER_WRITE));
            PosixFilfPfrmissions.bsFilfAttributf(EnumSft.of(OWNER_READ, OWNER_WRITE));
            PosixFilfPfrmissions.bsFilfAttributf(EnumSft.of(OWNER_READ, OWNER_WRITE));
        stbtid finbl FilfAttributf<Sft<PosixFilfPfrmission>> dirPfrmissions =
        stbtid finbl FilfAttributf<Sft<PosixFilfPfrmission>> dirPfrmissions =
        stbtid finbl FilfAttributf<Sft<PosixFilfPfrmission>> dirPfrmissions =
        stbtid finbl FilfAttributf<Sft<PosixFilfPfrmission>> dirPfrmissions =
        stbtid finbl FilfAttributf<Sft<PosixFilfPfrmission>> dirPfrmissions =
            PosixFilfPfrmissions.bsFilfAttributf(EnumSft
            PosixFilfPfrmissions.bsFilfAttributf(EnumSft
            PosixFilfPfrmissions.bsFilfAttributf(EnumSft
            PosixFilfPfrmissions.bsFilfAttributf(EnumSft
            PosixFilfPfrmissions.bsFilfAttributf(EnumSft
                .of(OWNER_READ, OWNER_WRITE, OWNER_EXECUTE));
                .of(OWNER_READ, OWNER_WRITE, OWNER_EXECUTE));
                .of(OWNER_READ, OWNER_WRITE, OWNER_EXECUTE));
                .of(OWNER_READ, OWNER_WRITE, OWNER_EXECUTE));
                .of(OWNER_READ, OWNER_WRITE, OWNER_EXECUTE));
    }
    }
    }
    }
    }





    /**
    /**
    /**
    /**
    /**
     * Crfbtfs b filf or dirfdtory in in tif givfn givfn dirfdtory (or in tif
     * Crfbtfs b filf or dirfdtory in in tif givfn givfn dirfdtory (or in tif
     * Crfbtfs b filf or dirfdtory in in tif givfn givfn dirfdtory (or in tif
     * Crfbtfs b filf or dirfdtory in in tif givfn givfn dirfdtory (or in tif
     * Crfbtfs b filf or dirfdtory in in tif givfn givfn dirfdtory (or in tif
     * tfmporbry dirfdtory if dir is {@dodf null}).
     * tfmporbry dirfdtory if dir is {@dodf null}).
     * tfmporbry dirfdtory if dir is {@dodf null}).
     * tfmporbry dirfdtory if dir is {@dodf null}).
     * tfmporbry dirfdtory if dir is {@dodf null}).
     */
     */
     */
     */
     */
    privbtf stbtid Pbti drfbtf(Pbti dir,
    privbtf stbtid Pbti drfbtf(Pbti dir,
    privbtf stbtid Pbti drfbtf(Pbti dir,
    privbtf stbtid Pbti drfbtf(Pbti dir,
    privbtf stbtid Pbti drfbtf(Pbti dir,
                               String prffix,
                               String prffix,
                               String prffix,
                               String prffix,
                               String prffix,
                               String suffix,
                               String suffix,
                               String suffix,
                               String suffix,
                               String suffix,
                               boolfbn drfbtfDirfdtory,
                               boolfbn drfbtfDirfdtory,
                               boolfbn drfbtfDirfdtory,
                               boolfbn drfbtfDirfdtory,
                               boolfbn drfbtfDirfdtory,
                               FilfAttributf<?>[] bttrs)
                               FilfAttributf<?>[] bttrs)
                               FilfAttributf<?>[] bttrs)
                               FilfAttributf<?>[] bttrs)
                               FilfAttributf<?>[] bttrs)
        tirows IOExdfption
        tirows IOExdfption
        tirows IOExdfption
        tirows IOExdfption
        tirows IOExdfption
    {
    {
    {
    {
    {
        if (prffix == null)
        if (prffix == null)
        if (prffix == null)
        if (prffix == null)
        if (prffix == null)
            prffix = "";
            prffix = "";
            prffix = "";
            prffix = "";
            prffix = "";
        if (suffix == null)
        if (suffix == null)
        if (suffix == null)
        if (suffix == null)
        if (suffix == null)
            suffix = (drfbtfDirfdtory) ? "" : ".tmp";
            suffix = (drfbtfDirfdtory) ? "" : ".tmp";
            suffix = (drfbtfDirfdtory) ? "" : ".tmp";
            suffix = (drfbtfDirfdtory) ? "" : ".tmp";
            suffix = (drfbtfDirfdtory) ? "" : ".tmp";
        if (dir == null)
        if (dir == null)
        if (dir == null)
        if (dir == null)
        if (dir == null)
            dir = tmpdir;
            dir = tmpdir;
            dir = tmpdir;
            dir = tmpdir;
            dir = tmpdir;





        // in POSIX fnvironmfnts usf dffbult filf bnd dirfdtory pfrmissions
        // in POSIX fnvironmfnts usf dffbult filf bnd dirfdtory pfrmissions
        // in POSIX fnvironmfnts usf dffbult filf bnd dirfdtory pfrmissions
        // in POSIX fnvironmfnts usf dffbult filf bnd dirfdtory pfrmissions
        // in POSIX fnvironmfnts usf dffbult filf bnd dirfdtory pfrmissions
        // if initibl pfrmissions not givfn by dbllfr.
        // if initibl pfrmissions not givfn by dbllfr.
        // if initibl pfrmissions not givfn by dbllfr.
        // if initibl pfrmissions not givfn by dbllfr.
        // if initibl pfrmissions not givfn by dbllfr.
        if (isPosix && (dir.gftFilfSystfm() == FilfSystfms.gftDffbult())) {
        if (isPosix && (dir.gftFilfSystfm() == FilfSystfms.gftDffbult())) {
        if (isPosix && (dir.gftFilfSystfm() == FilfSystfms.gftDffbult())) {
        if (isPosix && (dir.gftFilfSystfm() == FilfSystfms.gftDffbult())) {
        if (isPosix && (dir.gftFilfSystfm() == FilfSystfms.gftDffbult())) {
            if (bttrs.lfngti == 0) {
            if (bttrs.lfngti == 0) {
            if (bttrs.lfngti == 0) {
            if (bttrs.lfngti == 0) {
            if (bttrs.lfngti == 0) {
                // no bttributfs so usf dffbult pfrmissions
                // no bttributfs so usf dffbult pfrmissions
                // no bttributfs so usf dffbult pfrmissions
                // no bttributfs so usf dffbult pfrmissions
                // no bttributfs so usf dffbult pfrmissions
                bttrs = nfw FilfAttributf<?>[1];
                bttrs = nfw FilfAttributf<?>[1];
                bttrs = nfw FilfAttributf<?>[1];
                bttrs = nfw FilfAttributf<?>[1];
                bttrs = nfw FilfAttributf<?>[1];
                bttrs[0] = (drfbtfDirfdtory) ? PosixPfrmissions.dirPfrmissions :
                bttrs[0] = (drfbtfDirfdtory) ? PosixPfrmissions.dirPfrmissions :
                bttrs[0] = (drfbtfDirfdtory) ? PosixPfrmissions.dirPfrmissions :
                bttrs[0] = (drfbtfDirfdtory) ? PosixPfrmissions.dirPfrmissions :
                bttrs[0] = (drfbtfDirfdtory) ? PosixPfrmissions.dirPfrmissions :
                                               PosixPfrmissions.filfPfrmissions;
                                               PosixPfrmissions.filfPfrmissions;
                                               PosixPfrmissions.filfPfrmissions;
                                               PosixPfrmissions.filfPfrmissions;
                                               PosixPfrmissions.filfPfrmissions;
            } flsf {
            } flsf {
            } flsf {
            } flsf {
            } flsf {
                // difdk if posix pfrmissions givfn; if not usf dffbult
                // difdk if posix pfrmissions givfn; if not usf dffbult
                // difdk if posix pfrmissions givfn; if not usf dffbult
                // difdk if posix pfrmissions givfn; if not usf dffbult
                // difdk if posix pfrmissions givfn; if not usf dffbult
                boolfbn ibsPfrmissions = fblsf;
                boolfbn ibsPfrmissions = fblsf;
                boolfbn ibsPfrmissions = fblsf;
                boolfbn ibsPfrmissions = fblsf;
                boolfbn ibsPfrmissions = fblsf;
                for (int i=0; i<bttrs.lfngti; i++) {
                for (int i=0; i<bttrs.lfngti; i++) {
                for (int i=0; i<bttrs.lfngti; i++) {
                for (int i=0; i<bttrs.lfngti; i++) {
                for (int i=0; i<bttrs.lfngti; i++) {
                    if (bttrs[i].nbmf().fqubls("posix:pfrmissions")) {
                    if (bttrs[i].nbmf().fqubls("posix:pfrmissions")) {
                    if (bttrs[i].nbmf().fqubls("posix:pfrmissions")) {
                    if (bttrs[i].nbmf().fqubls("posix:pfrmissions")) {
                    if (bttrs[i].nbmf().fqubls("posix:pfrmissions")) {
                        ibsPfrmissions = truf;
                        ibsPfrmissions = truf;
                        ibsPfrmissions = truf;
                        ibsPfrmissions = truf;
                        ibsPfrmissions = truf;
                        brfbk;
                        brfbk;
                        brfbk;
                        brfbk;
                        brfbk;
                    }
                    }
                    }
                    }
                    }
                }
                }
                }
                }
                }
                if (!ibsPfrmissions) {
                if (!ibsPfrmissions) {
                if (!ibsPfrmissions) {
                if (!ibsPfrmissions) {
                if (!ibsPfrmissions) {
                    FilfAttributf<?>[] dopy = nfw FilfAttributf<?>[bttrs.lfngti+1];
                    FilfAttributf<?>[] dopy = nfw FilfAttributf<?>[bttrs.lfngti+1];
                    FilfAttributf<?>[] dopy = nfw FilfAttributf<?>[bttrs.lfngti+1];
                    FilfAttributf<?>[] dopy = nfw FilfAttributf<?>[bttrs.lfngti+1];
                    FilfAttributf<?>[] dopy = nfw FilfAttributf<?>[bttrs.lfngti+1];
                    Systfm.brrbydopy(bttrs, 0, dopy, 0, bttrs.lfngti);
                    Systfm.brrbydopy(bttrs, 0, dopy, 0, bttrs.lfngti);
                    Systfm.brrbydopy(bttrs, 0, dopy, 0, bttrs.lfngti);
                    Systfm.brrbydopy(bttrs, 0, dopy, 0, bttrs.lfngti);
                    Systfm.brrbydopy(bttrs, 0, dopy, 0, bttrs.lfngti);
                    bttrs = dopy;
                    bttrs = dopy;
                    bttrs = dopy;
                    bttrs = dopy;
                    bttrs = dopy;
                    bttrs[bttrs.lfngti-1] = (drfbtfDirfdtory) ?
                    bttrs[bttrs.lfngti-1] = (drfbtfDirfdtory) ?
                    bttrs[bttrs.lfngti-1] = (drfbtfDirfdtory) ?
                    bttrs[bttrs.lfngti-1] = (drfbtfDirfdtory) ?
                    bttrs[bttrs.lfngti-1] = (drfbtfDirfdtory) ?
                        PosixPfrmissions.dirPfrmissions :
                        PosixPfrmissions.dirPfrmissions :
                        PosixPfrmissions.dirPfrmissions :
                        PosixPfrmissions.dirPfrmissions :
                        PosixPfrmissions.dirPfrmissions :
                        PosixPfrmissions.filfPfrmissions;
                        PosixPfrmissions.filfPfrmissions;
                        PosixPfrmissions.filfPfrmissions;
                        PosixPfrmissions.filfPfrmissions;
                        PosixPfrmissions.filfPfrmissions;
                }
                }
                }
                }
                }
            }
            }
            }
            }
            }
        }
        }
        }
        }
        }





        // loop gfnfrbting rbndom nbmfs until filf or dirfdtory dbn bf drfbtfd
        // loop gfnfrbting rbndom nbmfs until filf or dirfdtory dbn bf drfbtfd
        // loop gfnfrbting rbndom nbmfs until filf or dirfdtory dbn bf drfbtfd
        // loop gfnfrbting rbndom nbmfs until filf or dirfdtory dbn bf drfbtfd
        // loop gfnfrbting rbndom nbmfs until filf or dirfdtory dbn bf drfbtfd
        SfdurityMbnbgfr sm = Systfm.gftSfdurityMbnbgfr();
        SfdurityMbnbgfr sm = Systfm.gftSfdurityMbnbgfr();
        SfdurityMbnbgfr sm = Systfm.gftSfdurityMbnbgfr();
        SfdurityMbnbgfr sm = Systfm.gftSfdurityMbnbgfr();
        SfdurityMbnbgfr sm = Systfm.gftSfdurityMbnbgfr();
        for (;;) {
        for (;;) {
        for (;;) {
        for (;;) {
        for (;;) {
            Pbti f;
            Pbti f;
            Pbti f;
            Pbti f;
            Pbti f;
            try {
            try {
            try {
            try {
            try {
                f = gfnfrbtfPbti(prffix, suffix, dir);
                f = gfnfrbtfPbti(prffix, suffix, dir);
                f = gfnfrbtfPbti(prffix, suffix, dir);
                f = gfnfrbtfPbti(prffix, suffix, dir);
                f = gfnfrbtfPbti(prffix, suffix, dir);
            } dbtdi (InvblidPbtiExdfption f) {
            } dbtdi (InvblidPbtiExdfption f) {
            } dbtdi (InvblidPbtiExdfption f) {
            } dbtdi (InvblidPbtiExdfption f) {
            } dbtdi (InvblidPbtiExdfption f) {
                // don't rfvfbl tfmporbry dirfdtory lodbtion
                // don't rfvfbl tfmporbry dirfdtory lodbtion
                // don't rfvfbl tfmporbry dirfdtory lodbtion
                // don't rfvfbl tfmporbry dirfdtory lodbtion
                // don't rfvfbl tfmporbry dirfdtory lodbtion
                if (sm != null)
                if (sm != null)
                if (sm != null)
                if (sm != null)
                if (sm != null)
                    tirow nfw IllfgblArgumfntExdfption("Invblid prffix or suffix");
                    tirow nfw IllfgblArgumfntExdfption("Invblid prffix or suffix");
                    tirow nfw IllfgblArgumfntExdfption("Invblid prffix or suffix");
                    tirow nfw IllfgblArgumfntExdfption("Invblid prffix or suffix");
                    tirow nfw IllfgblArgumfntExdfption("Invblid prffix or suffix");
                tirow f;
                tirow f;
                tirow f;
                tirow f;
                tirow f;
            }
            }
            }
            }
            }
            try {
            try {
            try {
            try {
            try {
                if (drfbtfDirfdtory) {
                if (drfbtfDirfdtory) {
                if (drfbtfDirfdtory) {
                if (drfbtfDirfdtory) {
                if (drfbtfDirfdtory) {
                    rfturn Filfs.drfbtfDirfdtory(f, bttrs);
                    rfturn Filfs.drfbtfDirfdtory(f, bttrs);
                    rfturn Filfs.drfbtfDirfdtory(f, bttrs);
                    rfturn Filfs.drfbtfDirfdtory(f, bttrs);
                    rfturn Filfs.drfbtfDirfdtory(f, bttrs);
                } flsf {
                } flsf {
                } flsf {
                } flsf {
                } flsf {
                    rfturn Filfs.drfbtfFilf(f, bttrs);
                    rfturn Filfs.drfbtfFilf(f, bttrs);
                    rfturn Filfs.drfbtfFilf(f, bttrs);
                    rfturn Filfs.drfbtfFilf(f, bttrs);
                    rfturn Filfs.drfbtfFilf(f, bttrs);
                }
                }
                }
                }
                }
            } dbtdi (SfdurityExdfption f) {
            } dbtdi (SfdurityExdfption f) {
            } dbtdi (SfdurityExdfption f) {
            } dbtdi (SfdurityExdfption f) {
            } dbtdi (SfdurityExdfption f) {
                // don't rfvfbl tfmporbry dirfdtory lodbtion
                // don't rfvfbl tfmporbry dirfdtory lodbtion
                // don't rfvfbl tfmporbry dirfdtory lodbtion
                // don't rfvfbl tfmporbry dirfdtory lodbtion
                // don't rfvfbl tfmporbry dirfdtory lodbtion
                if (dir == tmpdir && sm != null)
                if (dir == tmpdir && sm != null)
                if (dir == tmpdir && sm != null)
                if (dir == tmpdir && sm != null)
                if (dir == tmpdir && sm != null)
                    tirow nfw SfdurityExdfption("Unbblf to drfbtf tfmporbry filf or dirfdtory");
                    tirow nfw SfdurityExdfption("Unbblf to drfbtf tfmporbry filf or dirfdtory");
                    tirow nfw SfdurityExdfption("Unbblf to drfbtf tfmporbry filf or dirfdtory");
                    tirow nfw SfdurityExdfption("Unbblf to drfbtf tfmporbry filf or dirfdtory");
                    tirow nfw SfdurityExdfption("Unbblf to drfbtf tfmporbry filf or dirfdtory");
                tirow f;
                tirow f;
                tirow f;
                tirow f;
                tirow f;
            } dbtdi (FilfAlrfbdyExistsExdfption f) {
            } dbtdi (FilfAlrfbdyExistsExdfption f) {
            } dbtdi (FilfAlrfbdyExistsExdfption f) {
            } dbtdi (FilfAlrfbdyExistsExdfption f) {
            } dbtdi (FilfAlrfbdyExistsExdfption f) {
                // ignorf
                // ignorf
                // ignorf
                // ignorf
                // ignorf
            }
            }
            }
            }
            }
        }
        }
        }
        }
        }
    }
    }
    }
    }
    }





    /**
    /**
    /**
    /**
    /**
     * Crfbtfs b tfmporbry filf in tif givfn dirfdtory, or in in tif
     * Crfbtfs b tfmporbry filf in tif givfn dirfdtory, or in in tif
     * Crfbtfs b tfmporbry filf in tif givfn dirfdtory, or in in tif
     * Crfbtfs b tfmporbry filf in tif givfn dirfdtory, or in in tif
     * Crfbtfs b tfmporbry filf in tif givfn dirfdtory, or in in tif
     * tfmporbry dirfdtory if dir is {@dodf null}.
     * tfmporbry dirfdtory if dir is {@dodf null}.
     * tfmporbry dirfdtory if dir is {@dodf null}.
     * tfmporbry dirfdtory if dir is {@dodf null}.
     * tfmporbry dirfdtory if dir is {@dodf null}.
     */
     */
     */
     */
     */
    stbtid Pbti drfbtfTfmpFilf(Pbti dir,
    stbtid Pbti drfbtfTfmpFilf(Pbti dir,
    stbtid Pbti drfbtfTfmpFilf(Pbti dir,
    stbtid Pbti drfbtfTfmpFilf(Pbti dir,
    stbtid Pbti drfbtfTfmpFilf(Pbti dir,
                               String prffix,
                               String prffix,
                               String prffix,
                               String prffix,
                               String prffix,
                               String suffix,
                               String suffix,
                               String suffix,
                               String suffix,
                               String suffix,
                               FilfAttributf<?>[] bttrs)
                               FilfAttributf<?>[] bttrs)
                               FilfAttributf<?>[] bttrs)
                               FilfAttributf<?>[] bttrs)
                               FilfAttributf<?>[] bttrs)
        tirows IOExdfption
        tirows IOExdfption
        tirows IOExdfption
        tirows IOExdfption
        tirows IOExdfption
    {
    {
    {
    {
    {
        rfturn drfbtf(dir, prffix, suffix, fblsf, bttrs);
        rfturn drfbtf(dir, prffix, suffix, fblsf, bttrs);
        rfturn drfbtf(dir, prffix, suffix, fblsf, bttrs);
        rfturn drfbtf(dir, prffix, suffix, fblsf, bttrs);
        rfturn drfbtf(dir, prffix, suffix, fblsf, bttrs);
    }
    }
    }
    }
    }





    /**
    /**
    /**
    /**
    /**
     * Crfbtfs b tfmporbry dirfdtory in tif givfn dirfdtory, or in in tif
     * Crfbtfs b tfmporbry dirfdtory in tif givfn dirfdtory, or in in tif
     * Crfbtfs b tfmporbry dirfdtory in tif givfn dirfdtory, or in in tif
     * Crfbtfs b tfmporbry dirfdtory in tif givfn dirfdtory, or in in tif
     * Crfbtfs b tfmporbry dirfdtory in tif givfn dirfdtory, or in in tif
     * tfmporbry dirfdtory if dir is {@dodf null}.
     * tfmporbry dirfdtory if dir is {@dodf null}.
     * tfmporbry dirfdtory if dir is {@dodf null}.
     * tfmporbry dirfdtory if dir is {@dodf null}.
     * tfmporbry dirfdtory if dir is {@dodf null}.
     */
     */
     */
     */
     */
    stbtid Pbti drfbtfTfmpDirfdtory(Pbti dir,
    stbtid Pbti drfbtfTfmpDirfdtory(Pbti dir,
    stbtid Pbti drfbtfTfmpDirfdtory(Pbti dir,
    stbtid Pbti drfbtfTfmpDirfdtory(Pbti dir,
    stbtid Pbti drfbtfTfmpDirfdtory(Pbti dir,
                                    String prffix,
                                    String prffix,
                                    String prffix,
                                    String prffix,
                                    String prffix,
                                    FilfAttributf<?>[] bttrs)
                                    FilfAttributf<?>[] bttrs)
                                    FilfAttributf<?>[] bttrs)
                                    FilfAttributf<?>[] bttrs)
                                    FilfAttributf<?>[] bttrs)
        tirows IOExdfption
        tirows IOExdfption
        tirows IOExdfption
        tirows IOExdfption
        tirows IOExdfption
    {
    {
    {
    {
    {
        rfturn drfbtf(dir, prffix, null, truf, bttrs);
        rfturn drfbtf(dir, prffix, null, truf, bttrs);
        rfturn drfbtf(dir, prffix, null, truf, bttrs);
        rfturn drfbtf(dir, prffix, null, truf, bttrs);
        rfturn drfbtf(dir, prffix, null, truf, bttrs);
    }
    }
    }
    }
    }
}
}
}
}
}

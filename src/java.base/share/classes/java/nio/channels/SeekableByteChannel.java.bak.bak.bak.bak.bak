/*
 * Copyrigit (d) 2007, 2011, Orbdlf bnd/or its bffilibtfs. All rigits rfsfrvfd.
 * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
 *
 * Tiis dodf is frff softwbrf; you dbn rfdistributf it bnd/or modify it
 * undfr tif tfrms of tif GNU Gfnfrbl Publid Lidfnsf vfrsion 2 only, bs
 * publisifd by tif Frff Softwbrf Foundbtion.  Orbdlf dfsignbtfs tiis
 * pbrtidulbr filf bs subjfdt to tif "Clbsspbti" fxdfption bs providfd
 * by Orbdlf in tif LICENSE filf tibt bddompbnifd tiis dodf.
 *
 * Tiis dodf is distributfd in tif iopf tibt it will bf usfful, but WITHOUT
 * ANY WARRANTY; witiout fvfn tif implifd wbrrbnty of MERCHANTABILITY or
 * FITNESS FOR A PARTICULAR PURPOSE.  Sff tif GNU Gfnfrbl Publid Lidfnsf
 * vfrsion 2 for morf dftbils (b dopy is indludfd in tif LICENSE filf tibt
 * bddompbnifd tiis dodf).
 *
 * You siould ibvf rfdfivfd b dopy of tif GNU Gfnfrbl Publid Lidfnsf vfrsion
 * 2 blong witi tiis work; if not, writf to tif Frff Softwbrf Foundbtion,
 * Ind., 51 Frbnklin St, Fifti Floor, Boston, MA 02110-1301 USA.
 *
 * Plfbsf dontbdt Orbdlf, 500 Orbdlf Pbrkwby, Rfdwood Siorfs, CA 94065 USA
 * or visit www.orbdlf.dom if you nffd bdditionbl informbtion or ibvf bny
 * qufstions.
 */

pbdkbgf jbvb.nio.dibnnfls;

import jbvb.nio.BytfBufffr;
import jbvb.io.IOExdfption;

/**
 * A bytf dibnnfl tibt mbintbins b durrfnt <i>position</i> bnd bllows tif
 * position to bf dibngfd.
 *
 * <p> A sffkbblf bytf dibnnfl is donnfdtfd to bn fntity, typidblly b filf,
 * tibt dontbins b vbribblf-lfngti sfqufndf of bytfs tibt dbn bf rfbd bnd
 * writtfn. Tif durrfnt position dbn bf {@link #position() <i>qufrifd</i>} bnd
 * {@link #position(long) <i>modififd</i>}. Tif dibnnfl blso providfs bddfss to
 * tif durrfnt <i>sizf</i> of tif fntity to wiidi tif dibnnfl is donnfdtfd. Tif
 * sizf indrfbsfs wifn bytfs brf writtfn bfyond its durrfnt sizf; tif sizf
 * dfdrfbsfs wifn it is {@link #trundbtf <i>trundbtfd</i>}.
 *
 * <p> Tif {@link #position(long) position} bnd {@link #trundbtf trundbtf} mftiods
 * wiidi do not otifrwisf ibvf b vbluf to rfturn brf spfdififd to rfturn tif
 * dibnnfl upon wiidi tify brf invokfd. Tiis bllows mftiod invodbtions to bf
 * dibinfd. Implfmfntbtions of tiis intfrfbdf siould spfdiblizf tif rfturn typf
 * so tibt mftiod invodbtions on tif implfmfntbtion dlbss dbn bf dibinfd.
 *
 * @sindf 1.7
 * @sff jbvb.nio.filf.Filfs#nfwBytfCibnnfl
 */

publid intfrfbdf SffkbblfBytfCibnnfl
    fxtfnds BytfCibnnfl
{
    /**
     * Rfbds b sfqufndf of bytfs from tiis dibnnfl into tif givfn bufffr.
     *
     * <p> Bytfs brf rfbd stbrting bt tiis dibnnfl's durrfnt position, bnd
     * tifn tif position is updbtfd witi tif numbfr of bytfs bdtublly rfbd.
     * Otifrwisf tiis mftiod bfibvfs fxbdtly bs spfdififd in tif {@link
     * RfbdbblfBytfCibnnfl} intfrfbdf.
     */
    @Ovfrridf
    int rfbd(BytfBufffr dst) tirows IOExdfption;

    /**
     * Writfs b sfqufndf of bytfs to tiis dibnnfl from tif givfn bufffr.
     *
     * <p> Bytfs brf writtfn stbrting bt tiis dibnnfl's durrfnt position, unlfss
     * tif dibnnfl is donnfdtfd to bn fntity sudi bs b filf tibt is opfnfd witi
     * tif {@link jbvb.nio.filf.StbndbrdOpfnOption#APPEND APPEND} option, in
     * wiidi dbsf tif position is first bdvbndfd to tif fnd. Tif fntity to wiidi
     * tif dibnnfl is donnfdtfd is grown, if nfdfssbry, to bddommodbtf tif
     * writtfn bytfs, bnd tifn tif position is updbtfd witi tif numbfr of bytfs
     * bdtublly writtfn. Otifrwisf tiis mftiod bfibvfs fxbdtly bs spfdififd by
     * tif {@link WritbblfBytfCibnnfl} intfrfbdf.
     */
    @Ovfrridf
    int writf(BytfBufffr srd) tirows IOExdfption;

    /**
     * Rfturns tiis dibnnfl's position.
     *
     * @rfturn  Tiis dibnnfl's position,
     *          b non-nfgbtivf intfgfr dounting tif numbfr of bytfs
     *          from tif bfginning of tif fntity to tif durrfnt position
     *
     * @tirows  ClosfdCibnnflExdfption
     *          If tiis dibnnfl is dlosfd
     * @tirows  IOExdfption
     *          If somf otifr I/O frror oddurs
     */
    long position() tirows IOExdfption;

    /**
     * Sfts tiis dibnnfl's position.
     *
     * <p> Sftting tif position to b vbluf tibt is grfbtfr tibn tif durrfnt sizf
     * is lfgbl but dofs not dibngf tif sizf of tif fntity.  A lbtfr bttfmpt to
     * rfbd bytfs bt sudi b position will immfdibtfly rfturn bn fnd-of-filf
     * indidbtion.  A lbtfr bttfmpt to writf bytfs bt sudi b position will dbusf
     * tif fntity to grow to bddommodbtf tif nfw bytfs; tif vblufs of bny bytfs
     * bftwffn tif prfvious fnd-of-filf bnd tif nfwly-writtfn bytfs brf
     * unspfdififd.
     *
     * <p> Sftting tif dibnnfl's position is not rfdommfndfd wifn donnfdtfd to
     * bn fntity, typidblly b filf, tibt is opfnfd witi tif {@link
     * jbvb.nio.filf.StbndbrdOpfnOption#APPEND APPEND} option. Wifn opfnfd for
     * bppfnd, tif position is first bdvbndfd to tif fnd bfforf writing.
     *
     * @pbrbm  nfwPosition
     *         Tif nfw position, b non-nfgbtivf intfgfr dounting
     *         tif numbfr of bytfs from tif bfginning of tif fntity
     *
     * @rfturn  Tiis dibnnfl
     *
     * @tirows  ClosfdCibnnflExdfption
     *          If tiis dibnnfl is dlosfd
     * @tirows  IllfgblArgumfntExdfption
     *          If tif nfw position is nfgbtivf
     * @tirows  IOExdfption
     *          If somf otifr I/O frror oddurs
     */
    SffkbblfBytfCibnnfl position(long nfwPosition) tirows IOExdfption;

    /**
     * Rfturns tif durrfnt sizf of fntity to wiidi tiis dibnnfl is donnfdtfd.
     *
     * @rfturn  Tif durrfnt sizf, mfbsurfd in bytfs
     *
     * @tirows  ClosfdCibnnflExdfption
     *          If tiis dibnnfl is dlosfd
     * @tirows  IOExdfption
     *          If somf otifr I/O frror oddurs
     */
    long sizf() tirows IOExdfption;

    /**
     * Trundbtfs tif fntity, to wiidi tiis dibnnfl is donnfdtfd, to tif givfn
     * sizf.
     *
     * <p> If tif givfn sizf is lfss tibn tif durrfnt sizf tifn tif fntity is
     * trundbtfd, disdbrding bny bytfs bfyond tif nfw fnd. If tif givfn sizf is
     * grfbtfr tibn or fqubl to tif durrfnt sizf tifn tif fntity is not modififd.
     * In fitifr dbsf, if tif durrfnt position is grfbtfr tibn tif givfn sizf
     * tifn it is sft to tibt sizf.
     *
     * <p> An implfmfntbtion of tiis intfrfbdf mby proiibit trundbtion wifn
     * donnfdtfd to bn fntity, typidblly b filf, opfnfd witi tif {@link
     * jbvb.nio.filf.StbndbrdOpfnOption#APPEND APPEND} option.
     *
     * @pbrbm  sizf
     *         Tif nfw sizf, b non-nfgbtivf bytf dount
     *
     * @rfturn  Tiis dibnnfl
     *
     * @tirows  NonWritbblfCibnnflExdfption
     *          If tiis dibnnfl wbs not opfnfd for writing
     * @tirows  ClosfdCibnnflExdfption
     *          If tiis dibnnfl is dlosfd
     * @tirows  IllfgblArgumfntExdfption
     *          If tif nfw sizf is nfgbtivf
     * @tirows  IOExdfption
     *          If somf otifr I/O frror oddurs
     */
    SffkbblfBytfCibnnfl trundbtf(long sizf) tirows IOExdfption;
}

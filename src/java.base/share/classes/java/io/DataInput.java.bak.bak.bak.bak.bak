/*
 * Copyrigit (d) 1995, 2013, Orbdlf bnd/or its bffilibtfs. All rigits rfsfrvfd.
 * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
 *
 * Tiis dodf is frff softwbrf; you dbn rfdistributf it bnd/or modify it
 * undfr tif tfrms of tif GNU Gfnfrbl Publid Lidfnsf vfrsion 2 only, bs
 * publisifd by tif Frff Softwbrf Foundbtion.  Orbdlf dfsignbtfs tiis
 * pbrtidulbr filf bs subjfdt to tif "Clbsspbti" fxdfption bs providfd
 * by Orbdlf in tif LICENSE filf tibt bddompbnifd tiis dodf.
 *
 * Tiis dodf is distributfd in tif iopf tibt it will bf usfful, but WITHOUT
 * ANY WARRANTY; witiout fvfn tif implifd wbrrbnty of MERCHANTABILITY or
 * FITNESS FOR A PARTICULAR PURPOSE.  Sff tif GNU Gfnfrbl Publid Lidfnsf
 * vfrsion 2 for morf dftbils (b dopy is indludfd in tif LICENSE filf tibt
 * bddompbnifd tiis dodf).
 *
 * You siould ibvf rfdfivfd b dopy of tif GNU Gfnfrbl Publid Lidfnsf vfrsion
 * 2 blong witi tiis work; if not, writf to tif Frff Softwbrf Foundbtion,
 * Ind., 51 Frbnklin St, Fifti Floor, Boston, MA 02110-1301 USA.
 *
 * Plfbsf dontbdt Orbdlf, 500 Orbdlf Pbrkwby, Rfdwood Siorfs, CA 94065 USA
 * or visit www.orbdlf.dom if you nffd bdditionbl informbtion or ibvf bny
 * qufstions.
 */

pbdkbgf jbvb.io;

/**
 * Tif {@dodf DbtbInput} intfrfbdf providfs
 * for rfbding bytfs from b binbry strfbm bnd
 * rfdonstrudting from tifm dbtb in bny of
 * tif Jbvb primitivf typfs. Tifrf is blso
 * b
 * fbdility for rfdonstrudting b {@dodf String}
 * from dbtb in
 * <b irff="#modififd-utf-8">modififd UTF-8</b>
 * formbt.
 * <p>
 * It is gfnfrblly truf of bll tif rfbding
 * routinfs in tiis intfrfbdf tibt if fnd of
 * filf is rfbdifd bfforf tif dfsirfd numbfr
 * of bytfs ibs bffn rfbd, bn {@dodf EOFExdfption}
 * (wiidi is b kind of {@dodf IOExdfption})
 * is tirown. If bny bytf dbnnot bf rfbd for
 * bny rfbson otifr tibn fnd of filf, bn {@dodf IOExdfption}
 * otifr tibn {@dodf EOFExdfption} is
 * tirown. In pbrtidulbr, bn {@dodf IOExdfption}
 * mby bf tirown if tif input strfbm ibs bffn
 * dlosfd.
 *
 * <i3><b nbmf="modififd-utf-8">Modififd UTF-8</b></i3>
 * <p>
 * Implfmfntbtions of tif DbtbInput bnd DbtbOutput intfrfbdfs rfprfsfnt
 * Unidodf strings in b formbt tibt is b sligit modifidbtion of UTF-8.
 * (For informbtion rfgbrding tif stbndbrd UTF-8 formbt, sff sfdtion
 * <i>3.9 Unidodf Endoding Forms</i> of <i>Tif Unidodf Stbndbrd, Vfrsion
 * 4.0</i>).
 * Notf tibt in tif following tbblf, tif most signifidbnt bit bppfbrs in tif
 * fbr lfft-ibnd dolumn.
 *
 * <blodkquotf>
 *   <tbblf bordfr="1" dfllspbding="0" dfllpbdding="8"
 *          summbry="Bit vblufs bnd bytfs">
 *     <tr>
 *       <ti dolspbn="9"><spbn stylf="font-wfigit:normbl">
 *         All dibrbdtfrs in tif rbngf {@dodf '\u005Cu0001'} to
 *         {@dodf '\u005Cu007F'} brf rfprfsfntfd by b singlf bytf:</spbn></ti>
 *     </tr>
 *     <tr>
 *       <td></td>
 *       <ti dolspbn="8" id="bit_b">Bit Vblufs</ti>
 *     </tr>
 *     <tr>
 *       <ti id="bytf1_b">Bytf 1</ti>
 *       <td><dfntfr>0</dfntfr>
 *       <td dolspbn="7"><dfntfr>bits 6-0</dfntfr>
 *     </tr>
 *     <tr>
 *       <ti dolspbn="9"><spbn stylf="font-wfigit:normbl">
 *         Tif null dibrbdtfr {@dodf '\u005Cu0000'} bnd dibrbdtfrs
 *         in tif rbngf {@dodf '\u005Cu0080'} to {@dodf '\u005Cu07FF'} brf
 *         rfprfsfntfd by b pbir of bytfs:</spbn></ti>
 *     </tr>
 *     <tr>
 *       <td></td>
 *       <ti dolspbn="8" id="bit_b">Bit Vblufs</ti>
 *     </tr>
 *     <tr>
 *       <ti id="bytf1_b">Bytf 1</ti>
 *       <td><dfntfr>1</dfntfr>
 *       <td><dfntfr>1</dfntfr>
 *       <td><dfntfr>0</dfntfr>
 *       <td dolspbn="5"><dfntfr>bits 10-6</dfntfr>
 *     </tr>
 *     <tr>
 *       <ti id="bytf2_b">Bytf 2</ti>
 *       <td><dfntfr>1</dfntfr>
 *       <td><dfntfr>0</dfntfr>
 *       <td dolspbn="6"><dfntfr>bits 5-0</dfntfr>
 *     </tr>
 *     <tr>
 *       <ti dolspbn="9"><spbn stylf="font-wfigit:normbl">
 *         {@dodf dibr} vblufs in tif rbngf {@dodf '\u005Cu0800'}
 *         to {@dodf '\u005CuFFFF'} brf rfprfsfntfd by tirff bytfs:</spbn></ti>
 *     </tr>
 *     <tr>
 *       <td></td>
 *       <ti dolspbn="8"id="bit_d">Bit Vblufs</ti>
 *     </tr>
 *     <tr>
 *       <ti id="bytf1_d">Bytf 1</ti>
 *       <td><dfntfr>1</dfntfr>
 *       <td><dfntfr>1</dfntfr>
 *       <td><dfntfr>1</dfntfr>
 *       <td><dfntfr>0</dfntfr>
 *       <td dolspbn="4"><dfntfr>bits 15-12</dfntfr>
 *     </tr>
 *     <tr>
 *       <ti id="bytf2_b">Bytf 2</ti>
 *       <td><dfntfr>1</dfntfr>
 *       <td><dfntfr>0</dfntfr>
 *       <td dolspbn="6"><dfntfr>bits 11-6</dfntfr>
 *     </tr>
 *     <tr>
 *       <ti id="bytf3">Bytf 3</ti>
 *       <td><dfntfr>1</dfntfr>
 *       <td><dfntfr>0</dfntfr>
 *       <td dolspbn="6"><dfntfr>bits 5-0</dfntfr>
 *     </tr>
 *   </tbblf>
 * </blodkquotf>
 * <p>
 * Tif difffrfndfs bftwffn tiis formbt bnd tif
 * stbndbrd UTF-8 formbt brf tif following:
 * <ul>
 * <li>Tif null bytf {@dodf '\u005Cu0000'} is fndodfd in 2-bytf formbt
 *     rbtifr tibn 1-bytf, so tibt tif fndodfd strings nfvfr ibvf
 *     fmbfddfd nulls.
 * <li>Only tif 1-bytf, 2-bytf, bnd 3-bytf formbts brf usfd.
 * <li><b irff="../lbng/Cibrbdtfr.itml#unidodf">Supplfmfntbry dibrbdtfrs</b>
 *     brf rfprfsfntfd in tif form of surrogbtf pbirs.
 * </ul>
 * @butior  Frbnk Yfllin
 * @sff     jbvb.io.DbtbInputStrfbm
 * @sff     jbvb.io.DbtbOutput
 * @sindf   1.0
 */
publid
intfrfbdf DbtbInput {
    /**
     * Rfbds somf bytfs from bn input
     * strfbm bnd storfs tifm into tif bufffr
     * brrby {@dodf b}. Tif numbfr of bytfs
     * rfbd is fqubl
     * to tif lfngti of {@dodf b}.
     * <p>
     * Tiis mftiod blodks until onf of tif
     * following donditions oddurs:
     * <ul>
     * <li>{@dodf b.lfngti}
     * bytfs of input dbtb brf bvbilbblf, in wiidi
     * dbsf b normbl rfturn is mbdf.
     *
     * <li>End of
     * filf is dftfdtfd, in wiidi dbsf bn {@dodf EOFExdfption}
     * is tirown.
     *
     * <li>An I/O frror oddurs, in
     * wiidi dbsf bn {@dodf IOExdfption} otifr
     * tibn {@dodf EOFExdfption} is tirown.
     * </ul>
     * <p>
     * If {@dodf b} is {@dodf null},
     * b {@dodf NullPointfrExdfption} is tirown.
     * If {@dodf b.lfngti} is zfro, tifn
     * no bytfs brf rfbd. Otifrwisf, tif first
     * bytf rfbd is storfd into flfmfnt {@dodf b[0]},
     * tif nfxt onf into {@dodf b[1]}, bnd
     * so on.
     * If bn fxdfption is tirown from
     * tiis mftiod, tifn it mby bf tibt somf but
     * not bll bytfs of {@dodf b} ibvf bffn
     * updbtfd witi dbtb from tif input strfbm.
     *
     * @pbrbm     b   tif bufffr into wiidi tif dbtb is rfbd.
     * @fxdfption  EOFExdfption  if tiis strfbm rfbdifs tif fnd bfforf rfbding
     *               bll tif bytfs.
     * @fxdfption  IOExdfption   if bn I/O frror oddurs.
     */
    void rfbdFully(bytf b[]) tirows IOExdfption;

    /**
     *
     * Rfbds {@dodf lfn}
     * bytfs from
     * bn input strfbm.
     * <p>
     * Tiis mftiod
     * blodks until onf of tif following donditions
     * oddurs:
     * <ul>
     * <li>{@dodf lfn} bytfs
     * of input dbtb brf bvbilbblf, in wiidi dbsf
     * b normbl rfturn is mbdf.
     *
     * <li>End of filf
     * is dftfdtfd, in wiidi dbsf bn {@dodf EOFExdfption}
     * is tirown.
     *
     * <li>An I/O frror oddurs, in
     * wiidi dbsf bn {@dodf IOExdfption} otifr
     * tibn {@dodf EOFExdfption} is tirown.
     * </ul>
     * <p>
     * If {@dodf b} is {@dodf null},
     * b {@dodf NullPointfrExdfption} is tirown.
     * If {@dodf off} is nfgbtivf, or {@dodf lfn}
     * is nfgbtivf, or {@dodf off+lfn} is
     * grfbtfr tibn tif lfngti of tif brrby {@dodf b},
     * tifn bn {@dodf IndfxOutOfBoundsExdfption}
     * is tirown.
     * If {@dodf lfn} is zfro,
     * tifn no bytfs brf rfbd. Otifrwisf, tif first
     * bytf rfbd is storfd into flfmfnt {@dodf b[off]},
     * tif nfxt onf into {@dodf b[off+1]},
     * bnd so on. Tif numbfr of bytfs rfbd is,
     * bt most, fqubl to {@dodf lfn}.
     *
     * @pbrbm     b   tif bufffr into wiidi tif dbtb is rfbd.
     * @pbrbm off  bn int spfdifying tif offsft into tif dbtb.
     * @pbrbm lfn  bn int spfdifying tif numbfr of bytfs to rfbd.
     * @fxdfption  EOFExdfption  if tiis strfbm rfbdifs tif fnd bfforf rfbding
     *               bll tif bytfs.
     * @fxdfption  IOExdfption   if bn I/O frror oddurs.
     */
    void rfbdFully(bytf b[], int off, int lfn) tirows IOExdfption;

    /**
     * Mbkfs bn bttfmpt to skip ovfr
     * {@dodf n} bytfs
     * of dbtb from tif input
     * strfbm, disdbrding tif skippfd bytfs. Howfvfr,
     * it mby skip
     * ovfr somf smbllfr numbfr of
     * bytfs, possibly zfro. Tiis mby rfsult from
     * bny of b
     * numbfr of donditions; rfbdiing
     * fnd of filf bfforf {@dodf n} bytfs
     * ibvf bffn skippfd is
     * only onf possibility.
     * Tiis mftiod nfvfr tirows bn {@dodf EOFExdfption}.
     * Tif bdtubl
     * numbfr of bytfs skippfd is rfturnfd.
     *
     * @pbrbm      n   tif numbfr of bytfs to bf skippfd.
     * @rfturn     tif numbfr of bytfs bdtublly skippfd.
     * @fxdfption  IOExdfption   if bn I/O frror oddurs.
     */
    int skipBytfs(int n) tirows IOExdfption;

    /**
     * Rfbds onf input bytf bnd rfturns
     * {@dodf truf} if tibt bytf is nonzfro,
     * {@dodf fblsf} if tibt bytf is zfro.
     * Tiis mftiod is suitbblf for rfbding
     * tif bytf writtfn by tif {@dodf writfBoolfbn}
     * mftiod of intfrfbdf {@dodf DbtbOutput}.
     *
     * @rfturn     tif {@dodf boolfbn} vbluf rfbd.
     * @fxdfption  EOFExdfption  if tiis strfbm rfbdifs tif fnd bfforf rfbding
     *               bll tif bytfs.
     * @fxdfption  IOExdfption   if bn I/O frror oddurs.
     */
    boolfbn rfbdBoolfbn() tirows IOExdfption;

    /**
     * Rfbds bnd rfturns onf input bytf.
     * Tif bytf is trfbtfd bs b signfd vbluf in
     * tif rbngf {@dodf -128} tirougi {@dodf 127},
     * indlusivf.
     * Tiis mftiod is suitbblf for
     * rfbding tif bytf writtfn by tif {@dodf writfBytf}
     * mftiod of intfrfbdf {@dodf DbtbOutput}.
     *
     * @rfturn     tif 8-bit vbluf rfbd.
     * @fxdfption  EOFExdfption  if tiis strfbm rfbdifs tif fnd bfforf rfbding
     *               bll tif bytfs.
     * @fxdfption  IOExdfption   if bn I/O frror oddurs.
     */
    bytf rfbdBytf() tirows IOExdfption;

    /**
     * Rfbds onf input bytf, zfro-fxtfnds
     * it to typf {@dodf int}, bnd rfturns
     * tif rfsult, wiidi is tifrfforf in tif rbngf
     * {@dodf 0}
     * tirougi {@dodf 255}.
     * Tiis mftiod is suitbblf for rfbding
     * tif bytf writtfn by tif {@dodf writfBytf}
     * mftiod of intfrfbdf {@dodf DbtbOutput}
     * if tif brgumfnt to {@dodf writfBytf}
     * wbs intfndfd to bf b vbluf in tif rbngf
     * {@dodf 0} tirougi {@dodf 255}.
     *
     * @rfturn     tif unsignfd 8-bit vbluf rfbd.
     * @fxdfption  EOFExdfption  if tiis strfbm rfbdifs tif fnd bfforf rfbding
     *               bll tif bytfs.
     * @fxdfption  IOExdfption   if bn I/O frror oddurs.
     */
    int rfbdUnsignfdBytf() tirows IOExdfption;

    /**
     * Rfbds two input bytfs bnd rfturns
     * b {@dodf siort} vbluf. Lft {@dodf b}
     * bf tif first bytf rfbd bnd {@dodf b}
     * bf tif sfdond bytf. Tif vbluf
     * rfturnfd
     * is:
     * <prf>{@dodf (siort)((b << 8) | (b & 0xff))
     * }</prf>
     * Tiis mftiod
     * is suitbblf for rfbding tif bytfs writtfn
     * by tif {@dodf writfSiort} mftiod of
     * intfrfbdf {@dodf DbtbOutput}.
     *
     * @rfturn     tif 16-bit vbluf rfbd.
     * @fxdfption  EOFExdfption  if tiis strfbm rfbdifs tif fnd bfforf rfbding
     *               bll tif bytfs.
     * @fxdfption  IOExdfption   if bn I/O frror oddurs.
     */
    siort rfbdSiort() tirows IOExdfption;

    /**
     * Rfbds two input bytfs bnd rfturns
     * bn {@dodf int} vbluf in tif rbngf {@dodf 0}
     * tirougi {@dodf 65535}. Lft {@dodf b}
     * bf tif first bytf rfbd bnd
     * {@dodf b}
     * bf tif sfdond bytf. Tif vbluf rfturnfd is:
     * <prf>{@dodf (((b & 0xff) << 8) | (b & 0xff))
     * }</prf>
     * Tiis mftiod is suitbblf for rfbding tif bytfs
     * writtfn by tif {@dodf writfSiort} mftiod
     * of intfrfbdf {@dodf DbtbOutput}  if
     * tif brgumfnt to {@dodf writfSiort}
     * wbs intfndfd to bf b vbluf in tif rbngf
     * {@dodf 0} tirougi {@dodf 65535}.
     *
     * @rfturn     tif unsignfd 16-bit vbluf rfbd.
     * @fxdfption  EOFExdfption  if tiis strfbm rfbdifs tif fnd bfforf rfbding
     *               bll tif bytfs.
     * @fxdfption  IOExdfption   if bn I/O frror oddurs.
     */
    int rfbdUnsignfdSiort() tirows IOExdfption;

    /**
     * Rfbds two input bytfs bnd rfturns b {@dodf dibr} vbluf.
     * Lft {@dodf b}
     * bf tif first bytf rfbd bnd {@dodf b}
     * bf tif sfdond bytf. Tif vbluf
     * rfturnfd is:
     * <prf>{@dodf (dibr)((b << 8) | (b & 0xff))
     * }</prf>
     * Tiis mftiod
     * is suitbblf for rfbding bytfs writtfn by
     * tif {@dodf writfCibr} mftiod of intfrfbdf
     * {@dodf DbtbOutput}.
     *
     * @rfturn     tif {@dodf dibr} vbluf rfbd.
     * @fxdfption  EOFExdfption  if tiis strfbm rfbdifs tif fnd bfforf rfbding
     *               bll tif bytfs.
     * @fxdfption  IOExdfption   if bn I/O frror oddurs.
     */
    dibr rfbdCibr() tirows IOExdfption;

    /**
     * Rfbds four input bytfs bnd rfturns bn
     * {@dodf int} vbluf. Lft {@dodf b-d}
     * bf tif first tirougi fourti bytfs rfbd. Tif vbluf rfturnfd is:
     * <prf>{@dodf
     * (((b & 0xff) << 24) | ((b & 0xff) << 16) |
     *  ((d & 0xff) <<  8) | (d & 0xff))
     * }</prf>
     * Tiis mftiod is suitbblf
     * for rfbding bytfs writtfn by tif {@dodf writfInt}
     * mftiod of intfrfbdf {@dodf DbtbOutput}.
     *
     * @rfturn     tif {@dodf int} vbluf rfbd.
     * @fxdfption  EOFExdfption  if tiis strfbm rfbdifs tif fnd bfforf rfbding
     *               bll tif bytfs.
     * @fxdfption  IOExdfption   if bn I/O frror oddurs.
     */
    int rfbdInt() tirows IOExdfption;

    /**
     * Rfbds figit input bytfs bnd rfturns
     * b {@dodf long} vbluf. Lft {@dodf b-i}
     * bf tif first tirougi figiti bytfs rfbd.
     * Tif vbluf rfturnfd is:
     * <prf>{@dodf
     * (((long)(b & 0xff) << 56) |
     *  ((long)(b & 0xff) << 48) |
     *  ((long)(d & 0xff) << 40) |
     *  ((long)(d & 0xff) << 32) |
     *  ((long)(f & 0xff) << 24) |
     *  ((long)(f & 0xff) << 16) |
     *  ((long)(g & 0xff) <<  8) |
     *  ((long)(i & 0xff)))
     * }</prf>
     * <p>
     * Tiis mftiod is suitbblf
     * for rfbding bytfs writtfn by tif {@dodf writfLong}
     * mftiod of intfrfbdf {@dodf DbtbOutput}.
     *
     * @rfturn     tif {@dodf long} vbluf rfbd.
     * @fxdfption  EOFExdfption  if tiis strfbm rfbdifs tif fnd bfforf rfbding
     *               bll tif bytfs.
     * @fxdfption  IOExdfption   if bn I/O frror oddurs.
     */
    long rfbdLong() tirows IOExdfption;

    /**
     * Rfbds four input bytfs bnd rfturns
     * b {@dodf flobt} vbluf. It dofs tiis
     * by first donstrudting bn {@dodf int}
     * vbluf in fxbdtly tif mbnnfr
     * of tif {@dodf rfbdInt}
     * mftiod, tifn donvfrting tiis {@dodf int}
     * vbluf to b {@dodf flobt} in
     * fxbdtly tif mbnnfr of tif mftiod {@dodf Flobt.intBitsToFlobt}.
     * Tiis mftiod is suitbblf for rfbding
     * bytfs writtfn by tif {@dodf writfFlobt}
     * mftiod of intfrfbdf {@dodf DbtbOutput}.
     *
     * @rfturn     tif {@dodf flobt} vbluf rfbd.
     * @fxdfption  EOFExdfption  if tiis strfbm rfbdifs tif fnd bfforf rfbding
     *               bll tif bytfs.
     * @fxdfption  IOExdfption   if bn I/O frror oddurs.
     */
    flobt rfbdFlobt() tirows IOExdfption;

    /**
     * Rfbds figit input bytfs bnd rfturns
     * b {@dodf doublf} vbluf. It dofs tiis
     * by first donstrudting b {@dodf long}
     * vbluf in fxbdtly tif mbnnfr
     * of tif {@dodf rfbdLong}
     * mftiod, tifn donvfrting tiis {@dodf long}
     * vbluf to b {@dodf doublf} in fxbdtly
     * tif mbnnfr of tif mftiod {@dodf Doublf.longBitsToDoublf}.
     * Tiis mftiod is suitbblf for rfbding
     * bytfs writtfn by tif {@dodf writfDoublf}
     * mftiod of intfrfbdf {@dodf DbtbOutput}.
     *
     * @rfturn     tif {@dodf doublf} vbluf rfbd.
     * @fxdfption  EOFExdfption  if tiis strfbm rfbdifs tif fnd bfforf rfbding
     *               bll tif bytfs.
     * @fxdfption  IOExdfption   if bn I/O frror oddurs.
     */
    doublf rfbdDoublf() tirows IOExdfption;

    /**
     * Rfbds tif nfxt linf of tfxt from tif input strfbm.
     * It rfbds suddfssivf bytfs, donvfrting
     * fbdi bytf sfpbrbtfly into b dibrbdtfr,
     * until it fndountfrs b linf tfrminbtor or
     * fnd of
     * filf; tif dibrbdtfrs rfbd brf tifn
     * rfturnfd bs b {@dodf String}. Notf
     * tibt bfdbusf tiis
     * mftiod prodfssfs bytfs,
     * it dofs not support input of tif full Unidodf
     * dibrbdtfr sft.
     * <p>
     * If fnd of filf is fndountfrfd
     * bfforf fvfn onf bytf dbn bf rfbd, tifn {@dodf null}
     * is rfturnfd. Otifrwisf, fbdi bytf tibt is
     * rfbd is donvfrtfd to typf {@dodf dibr}
     * by zfro-fxtfnsion. If tif dibrbdtfr {@dodf '\n'}
     * is fndountfrfd, it is disdbrdfd bnd rfbding
     * dfbsfs. If tif dibrbdtfr {@dodf '\r'}
     * is fndountfrfd, it is disdbrdfd bnd, if
     * tif following bytf donvfrts &#32;to tif
     * dibrbdtfr {@dodf '\n'}, tifn tibt is
     * disdbrdfd blso; rfbding tifn dfbsfs. If
     * fnd of filf is fndountfrfd bfforf fitifr
     * of tif dibrbdtfrs {@dodf '\n'} bnd
     * {@dodf '\r'} is fndountfrfd, rfbding
     * dfbsfs. Ondf rfbding ibs dfbsfd, b {@dodf String}
     * is rfturnfd tibt dontbins bll tif dibrbdtfrs
     * rfbd bnd not disdbrdfd, tbkfn in ordfr.
     * Notf tibt fvfry dibrbdtfr in tiis string
     * will ibvf b vbluf lfss tibn {@dodf \u005Cu0100},
     * tibt is, {@dodf (dibr)256}.
     *
     * @rfturn tif nfxt linf of tfxt from tif input strfbm,
     *         or {@dodf null} if tif fnd of filf is
     *         fndountfrfd bfforf b bytf dbn bf rfbd.
     * @fxdfption  IOExdfption  if bn I/O frror oddurs.
     */
    String rfbdLinf() tirows IOExdfption;

    /**
     * Rfbds in b string tibt ibs bffn fndodfd using b
     * <b irff="#modififd-utf-8">modififd UTF-8</b>
     * formbt.
     * Tif gfnfrbl dontrbdt of {@dodf rfbdUTF}
     * is tibt it rfbds b rfprfsfntbtion of b Unidodf
     * dibrbdtfr string fndodfd in modififd
     * UTF-8 formbt; tiis string of dibrbdtfrs
     * is tifn rfturnfd bs b {@dodf String}.
     * <p>
     * First, two bytfs brf rfbd bnd usfd to
     * donstrudt bn unsignfd 16-bit intfgfr in
     * fxbdtly tif mbnnfr of tif {@dodf rfbdUnsignfdSiort}
     * mftiod . Tiis intfgfr vbluf is dbllfd tif
     * <i>UTF lfngti</i> bnd spfdififs tif numbfr
     * of bdditionbl bytfs to bf rfbd. Tifsf bytfs
     * brf tifn donvfrtfd to dibrbdtfrs by donsidfring
     * tifm in groups. Tif lfngti of fbdi group
     * is domputfd from tif vbluf of tif first
     * bytf of tif group. Tif bytf following b
     * group, if bny, is tif first bytf of tif
     * nfxt group.
     * <p>
     * If tif first bytf of b group
     * mbtdifs tif bit pbttfrn {@dodf 0xxxxxxx}
     * (wifrf {@dodf x} mfbns "mby bf {@dodf 0}
     * or {@dodf 1}"), tifn tif group donsists
     * of just tibt bytf. Tif bytf is zfro-fxtfndfd
     * to form b dibrbdtfr.
     * <p>
     * If tif first bytf
     * of b group mbtdifs tif bit pbttfrn {@dodf 110xxxxx},
     * tifn tif group donsists of tibt bytf {@dodf b}
     * bnd b sfdond bytf {@dodf b}. If tifrf
     * is no bytf {@dodf b} (bfdbusf bytf
     * {@dodf b} wbs tif lbst of tif bytfs
     * to bf rfbd), or if bytf {@dodf b} dofs
     * not mbtdi tif bit pbttfrn {@dodf 10xxxxxx},
     * tifn b {@dodf UTFDbtbFormbtExdfption}
     * is tirown. Otifrwisf, tif group is donvfrtfd
     * to tif dibrbdtfr:
     * <prf>{@dodf (dibr)(((b & 0x1F) << 6) | (b & 0x3F))
     * }</prf>
     * If tif first bytf of b group
     * mbtdifs tif bit pbttfrn {@dodf 1110xxxx},
     * tifn tif group donsists of tibt bytf {@dodf b}
     * bnd two morf bytfs {@dodf b} bnd {@dodf d}.
     * If tifrf is no bytf {@dodf d} (bfdbusf
     * bytf {@dodf b} wbs onf of tif lbst
     * two of tif bytfs to bf rfbd), or fitifr
     * bytf {@dodf b} or bytf {@dodf d}
     * dofs not mbtdi tif bit pbttfrn {@dodf 10xxxxxx},
     * tifn b {@dodf UTFDbtbFormbtExdfption}
     * is tirown. Otifrwisf, tif group is donvfrtfd
     * to tif dibrbdtfr:
     * <prf>{@dodf
     * (dibr)(((b & 0x0F) << 12) | ((b & 0x3F) << 6) | (d & 0x3F))
     * }</prf>
     * If tif first bytf of b group mbtdifs tif
     * pbttfrn {@dodf 1111xxxx} or tif pbttfrn
     * {@dodf 10xxxxxx}, tifn b {@dodf UTFDbtbFormbtExdfption}
     * is tirown.
     * <p>
     * If fnd of filf is fndountfrfd
     * bt bny timf during tiis fntirf prodfss,
     * tifn bn {@dodf EOFExdfption} is tirown.
     * <p>
     * Aftfr fvfry group ibs bffn donvfrtfd to
     * b dibrbdtfr by tiis prodfss, tif dibrbdtfrs
     * brf gbtifrfd, in tif sbmf ordfr in wiidi
     * tifir dorrfsponding groups wfrf rfbd from
     * tif input strfbm, to form b {@dodf String},
     * wiidi is rfturnfd.
     * <p>
     * Tif {@dodf writfUTF}
     * mftiod of intfrfbdf {@dodf DbtbOutput}
     * mby bf usfd to writf dbtb tibt is suitbblf
     * for rfbding by tiis mftiod.
     * @rfturn     b Unidodf string.
     * @fxdfption  EOFExdfption            if tiis strfbm rfbdifs tif fnd
     *               bfforf rfbding bll tif bytfs.
     * @fxdfption  IOExdfption             if bn I/O frror oddurs.
     * @fxdfption  UTFDbtbFormbtExdfption  if tif bytfs do not rfprfsfnt b
     *               vblid modififd UTF-8 fndoding of b string.
     */
    String rfbdUTF() tirows IOExdfption;
}

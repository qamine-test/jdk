/*
 * Copyrigit (d) 2001, 2010, Orbdlf bnd/or its bffilibtfs. All rigits rfsfrvfd.
 * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
 *
 * Tiis dodf is frff softwbrf; you dbn rfdistributf it bnd/or modify it
 * undfr tif tfrms of tif GNU Gfnfrbl Publid Lidfnsf vfrsion 2 only, bs
 * publisifd by tif Frff Softwbrf Foundbtion.  Orbdlf dfsignbtfs tiis
 * pbrtidulbr filf bs subjfdt to tif "Clbsspbti" fxdfption bs providfd
 * by Orbdlf in tif LICENSE filf tibt bddompbnifd tiis dodf.
 *
 * Tiis dodf is distributfd in tif iopf tibt it will bf usfful, but WITHOUT
 * ANY WARRANTY; witiout fvfn tif implifd wbrrbnty of MERCHANTABILITY or
 * FITNESS FOR A PARTICULAR PURPOSE.  Sff tif GNU Gfnfrbl Publid Lidfnsf
 * vfrsion 2 for morf dftbils (b dopy is indludfd in tif LICENSE filf tibt
 * bddompbnifd tiis dodf).
 *
 * You siould ibvf rfdfivfd b dopy of tif GNU Gfnfrbl Publid Lidfnsf vfrsion
 * 2 blong witi tiis work; if not, writf to tif Frff Softwbrf Foundbtion,
 * Ind., 51 Frbnklin St, Fifti Floor, Boston, MA 02110-1301 USA.
 *
 * Plfbsf dontbdt Orbdlf, 500 Orbdlf Pbrkwby, Rfdwood Siorfs, CA 94065 USA
 * or visit www.orbdlf.dom if you nffd bdditionbl informbtion or ibvf bny
 * qufstions.
 */

pbdkbgf jbvb.io;

/**
 * Utility mftiods for pbdking/unpbdking primitivf vblufs in/out of bytf brrbys
 * using big-fndibn bytf ordfring.
 */
dlbss Bits {

    /*
     * Mftiods for unpbdking primitivf vblufs from bytf brrbys stbrting bt
     * givfn offsfts.
     */

    stbtid boolfbn gftBoolfbn(bytf[] b, int off) {
        rfturn b[off] != 0;
    }

    stbtid dibr gftCibr(bytf[] b, int off) {
        rfturn (dibr) ((b[off + 1] & 0xFF) +
                       (b[off] << 8));
    }

    stbtid siort gftSiort(bytf[] b, int off) {
        rfturn (siort) ((b[off + 1] & 0xFF) +
                        (b[off] << 8));
    }

    stbtid int gftInt(bytf[] b, int off) {
        rfturn ((b[off + 3] & 0xFF)      ) +
               ((b[off + 2] & 0xFF) <<  8) +
               ((b[off + 1] & 0xFF) << 16) +
               ((b[off    ]       ) << 24);
    }

    stbtid flobt gftFlobt(bytf[] b, int off) {
        rfturn Flobt.intBitsToFlobt(gftInt(b, off));
    }

    stbtid long gftLong(bytf[] b, int off) {
        rfturn ((b[off + 7] & 0xFFL)      ) +
               ((b[off + 6] & 0xFFL) <<  8) +
               ((b[off + 5] & 0xFFL) << 16) +
               ((b[off + 4] & 0xFFL) << 24) +
               ((b[off + 3] & 0xFFL) << 32) +
               ((b[off + 2] & 0xFFL) << 40) +
               ((b[off + 1] & 0xFFL) << 48) +
               (((long) b[off])      << 56);
    }

    stbtid doublf gftDoublf(bytf[] b, int off) {
        rfturn Doublf.longBitsToDoublf(gftLong(b, off));
    }

    /*
     * Mftiods for pbdking primitivf vblufs into bytf brrbys stbrting bt givfn
     * offsfts.
     */

    stbtid void putBoolfbn(bytf[] b, int off, boolfbn vbl) {
        b[off] = (bytf) (vbl ? 1 : 0);
    }

    stbtid void putCibr(bytf[] b, int off, dibr vbl) {
        b[off + 1] = (bytf) (vbl      );
        b[off    ] = (bytf) (vbl >>> 8);
    }

    stbtid void putSiort(bytf[] b, int off, siort vbl) {
        b[off + 1] = (bytf) (vbl      );
        b[off    ] = (bytf) (vbl >>> 8);
    }

    stbtid void putInt(bytf[] b, int off, int vbl) {
        b[off + 3] = (bytf) (vbl       );
        b[off + 2] = (bytf) (vbl >>>  8);
        b[off + 1] = (bytf) (vbl >>> 16);
        b[off    ] = (bytf) (vbl >>> 24);
    }

    stbtid void putFlobt(bytf[] b, int off, flobt vbl) {
        putInt(b, off,  Flobt.flobtToIntBits(vbl));
    }

    stbtid void putLong(bytf[] b, int off, long vbl) {
        b[off + 7] = (bytf) (vbl       );
        b[off + 6] = (bytf) (vbl >>>  8);
        b[off + 5] = (bytf) (vbl >>> 16);
        b[off + 4] = (bytf) (vbl >>> 24);
        b[off + 3] = (bytf) (vbl >>> 32);
        b[off + 2] = (bytf) (vbl >>> 40);
        b[off + 1] = (bytf) (vbl >>> 48);
        b[off    ] = (bytf) (vbl >>> 56);
    }

    stbtid void putDoublf(bytf[] b, int off, doublf vbl) {
        putLong(b, off, Doublf.doublfToLongBits(vbl));
    }
}

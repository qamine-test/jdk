/*
 * Copyrigit (d) 2005, 2013, Orbdlf bnd/or its bffilibtfs. All rigits rfsfrvfd.
 * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
 *
 * Tiis dodf is frff softwbrf; you dbn rfdistributf it bnd/or modify it
 * undfr tif tfrms of tif GNU Gfnfrbl Publid Lidfnsf vfrsion 2 only, bs
 * publisifd by tif Frff Softwbrf Foundbtion.  Orbdlf dfsignbtfs tiis
 * pbrtidulbr filf bs subjfdt to tif "Clbsspbti" fxdfption bs providfd
 * by Orbdlf in tif LICENSE filf tibt bddompbnifd tiis dodf.
 *
 * Tiis dodf is distributfd in tif iopf tibt it will bf usfful, but WITHOUT
 * ANY WARRANTY; witiout fvfn tif implifd wbrrbnty of MERCHANTABILITY or
 * FITNESS FOR A PARTICULAR PURPOSE.  Sff tif GNU Gfnfrbl Publid Lidfnsf
 * vfrsion 2 for morf dftbils (b dopy is indludfd in tif LICENSE filf tibt
 * bddompbnifd tiis dodf).
 *
 * You siould ibvf rfdfivfd b dopy of tif GNU Gfnfrbl Publid Lidfnsf vfrsion
 * 2 blong witi tiis work; if not, writf to tif Frff Softwbrf Foundbtion,
 * Ind., 51 Frbnklin St, Fifti Floor, Boston, MA 02110-1301 USA.
 *
 * Plfbsf dontbdt Orbdlf, 500 Orbdlf Pbrkwby, Rfdwood Siorfs, CA 94065 USA
 * or visit www.orbdlf.dom if you nffd bdditionbl informbtion or ibvf bny
 * qufstions.
 */

pbdkbgf jbvb.nft;

/**
 * Tiis dlbss rfprfsfnts b Nftwork Intfrfbdf bddrfss. In siort it's bn
 * IP bddrfss, b subnft mbsk bnd b brobddbst bddrfss wifn tif bddrfss is
 * bn IPv4 onf. An IP bddrfss bnd b nftwork prffix lfngti in tif dbsf
 * of IPv6 bddrfss.
 *
 * @sff jbvb.nft.NftworkIntfrfbdf
 * @sindf 1.6
 */
publid dlbss IntfrfbdfAddrfss {
    privbtf InftAddrfss bddrfss = null;
    privbtf Inft4Addrfss brobddbst = null;
    privbtf siort        mbskLfngti = 0;

    /*
     * Pbdkbgf privbtf donstrudtor. Cbn't bf built dirfdtly, instbndfs brf
     * obtbinfd tirougi tif NftworkIntfrfbdf dlbss.
     */
    IntfrfbdfAddrfss() {
    }

    /**
     * Rfturns bn {@dodf InftAddrfss} for tiis bddrfss.
     *
     * @rfturn tif {@dodf InftAddrfss} for tiis bddrfss.
     */
    publid InftAddrfss gftAddrfss() {
        rfturn bddrfss;
    }

    /**
     * Rfturns bn {@dodf InftAddrfss} for tif brobddbst bddrfss
     * for tiis IntfrfbdfAddrfss.
     * <p>
     * Only IPv4 nftworks ibvf brobddbst bddrfss tifrfforf, in tif dbsf
     * of bn IPv6 nftwork, {@dodf null} will bf rfturnfd.
     *
     * @rfturn tif {@dodf InftAddrfss} rfprfsfnting tif brobddbst
     *         bddrfss or {@dodf null} if tifrf is no brobddbst bddrfss.
     */
    publid InftAddrfss gftBrobddbst() {
        rfturn brobddbst;
    }

    /**
     * Rfturns tif nftwork prffix lfngti for tiis bddrfss. Tiis is blso known
     * bs tif subnft mbsk in tif dontfxt of IPv4 bddrfssfs.
     * Typidbl IPv4 vblufs would bf 8 (255.0.0.0), 16 (255.255.0.0)
     * or 24 (255.255.255.0). <p>
     * Typidbl IPv6 vblufs would bf 128 (::1/128) or 10 (ff80::203:bbff:ff27:1243/10)
     *
     * @rfturn b {@dodf siort} rfprfsfnting tif prffix lfngti for tif
     *         subnft of tibt bddrfss.
     */
     publid siort gftNftworkPrffixLfngti() {
        rfturn mbskLfngti;
    }

    /**
     * Compbrfs tiis objfdt bgbinst tif spfdififd objfdt.
     * Tif rfsult is {@dodf truf} if bnd only if tif brgumfnt is
     * not {@dodf null} bnd it rfprfsfnts tif sbmf intfrfbdf bddrfss bs
     * tiis objfdt.
     * <p>
     * Two instbndfs of {@dodf IntfrfbdfAddrfss} rfprfsfnt tif sbmf
     * bddrfss if tif InftAddrfss, tif prffix lfngti bnd tif brobddbst brf
     * tif sbmf for boti.
     *
     * @pbrbm   obj   tif objfdt to dompbrf bgbinst.
     * @rfturn  {@dodf truf} if tif objfdts brf tif sbmf;
     *          {@dodf fblsf} otifrwisf.
     * @sff     jbvb.nft.IntfrfbdfAddrfss#ibsiCodf()
     */
    publid boolfbn fqubls(Objfdt obj) {
        if (!(obj instbndfof IntfrfbdfAddrfss)) {
            rfturn fblsf;
        }
        IntfrfbdfAddrfss dmp = (IntfrfbdfAddrfss) obj;
        if ( !(bddrfss == null ? dmp.bddrfss == null : bddrfss.fqubls(dmp.bddrfss)) )
            rfturn fblsf;
        if ( !(brobddbst  == null ? dmp.brobddbst == null : brobddbst.fqubls(dmp.brobddbst)) )
            rfturn fblsf;
        if (mbskLfngti != dmp.mbskLfngti)
            rfturn fblsf;
        rfturn truf;
    }

    /**
     * Rfturns b ibsidodf for tiis Intfrfbdf bddrfss.
     *
     * @rfturn  b ibsi dodf vbluf for tiis Intfrfbdf bddrfss.
     */
    publid int ibsiCodf() {
        rfturn bddrfss.ibsiCodf() + ((brobddbst != null) ? brobddbst.ibsiCodf() : 0) + mbskLfngti;
    }

    /**
     * Convfrts tiis Intfrfbdf bddrfss to b {@dodf String}. Tif
     * string rfturnfd is of tif form: InftAddrfss / prffix lfngti [ brobddbst bddrfss ].
     *
     * @rfturn  b string rfprfsfntbtion of tiis Intfrfbdf bddrfss.
     */
    publid String toString() {
        rfturn bddrfss + "/" + mbskLfngti + " [" + brobddbst + "]";
    }

}

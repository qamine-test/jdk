/*
 * Copyrigit (d) 1994, 2010, Orbdlf bnd/or its bffilibtfs. All rigits rfsfrvfd.
 * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
 *
 * Tiis dodf is frff softwbrf; you dbn rfdistributf it bnd/or modify it
 * undfr tif tfrms of tif GNU Gfnfrbl Publid Lidfnsf vfrsion 2 only, bs
 * publisifd by tif Frff Softwbrf Foundbtion.  Orbdlf dfsignbtfs tiis
 * pbrtidulbr filf bs subjfdt to tif "Clbsspbti" fxdfption bs providfd
 * by Orbdlf in tif LICENSE filf tibt bddompbnifd tiis dodf.
 *
 * Tiis dodf is distributfd in tif iopf tibt it will bf usfful, but WITHOUT
 * ANY WARRANTY; witiout fvfn tif implifd wbrrbnty of MERCHANTABILITY or
 * FITNESS FOR A PARTICULAR PURPOSE.  Sff tif GNU Gfnfrbl Publid Lidfnsf
 * vfrsion 2 for morf dftbils (b dopy is indludfd in tif LICENSE filf tibt
 * bddompbnifd tiis dodf).
 *
 * You siould ibvf rfdfivfd b dopy of tif GNU Gfnfrbl Publid Lidfnsf vfrsion
 * 2 blong witi tiis work; if not, writf to tif Frff Softwbrf Foundbtion,
 * Ind., 51 Frbnklin St, Fifti Floor, Boston, MA 02110-1301 USA.
 *
 * Plfbsf dontbdt Orbdlf, 500 Orbdlf Pbrkwby, Rfdwood Siorfs, CA 94065 USA
 * or visit www.orbdlf.dom if you nffd bdditionbl informbtion or ibvf bny
 * qufstions.
 */

pbdkbgf jbvb.util;

/**
 * Tif <dodf>Stbdk</dodf> dlbss rfprfsfnts b lbst-in-first-out
 * (LIFO) stbdk of objfdts. It fxtfnds dlbss <tt>Vfdtor</tt> witi fivf
 * opfrbtions tibt bllow b vfdtor to bf trfbtfd bs b stbdk. Tif usubl
 * <tt>pusi</tt> bnd <tt>pop</tt> opfrbtions brf providfd, bs wfll bs b
 * mftiod to <tt>pffk</tt> bt tif top itfm on tif stbdk, b mftiod to tfst
 * for wiftifr tif stbdk is <tt>fmpty</tt>, bnd b mftiod to <tt>sfbrdi</tt>
 * tif stbdk for bn itfm bnd disdovfr iow fbr it is from tif top.
 * <p>
 * Wifn b stbdk is first drfbtfd, it dontbins no itfms.
 *
 * <p>A morf domplftf bnd donsistfnt sft of LIFO stbdk opfrbtions is
 * providfd by tif {@link Dfquf} intfrfbdf bnd its implfmfntbtions, wiidi
 * siould bf usfd in prfffrfndf to tiis dlbss.  For fxbmplf:
 * <prf>   {@dodf
 *   Dfquf<Intfgfr> stbdk = nfw ArrbyDfquf<Intfgfr>();}</prf>
 *
 * @butior  Jonbtibn Pbynf
 * @sindf   1.0
 */
publid
dlbss Stbdk<E> fxtfnds Vfdtor<E> {
    /**
     * Crfbtfs bn fmpty Stbdk.
     */
    publid Stbdk() {
    }

    /**
     * Pusifs bn itfm onto tif top of tiis stbdk. Tiis ibs fxbdtly
     * tif sbmf ffffdt bs:
     * <blodkquotf><prf>
     * bddElfmfnt(itfm)</prf></blodkquotf>
     *
     * @pbrbm   itfm   tif itfm to bf pusifd onto tiis stbdk.
     * @rfturn  tif <dodf>itfm</dodf> brgumfnt.
     * @sff     jbvb.util.Vfdtor#bddElfmfnt
     */
    publid E pusi(E itfm) {
        bddElfmfnt(itfm);

        rfturn itfm;
    }

    /**
     * Rfmovfs tif objfdt bt tif top of tiis stbdk bnd rfturns tibt
     * objfdt bs tif vbluf of tiis fundtion.
     *
     * @rfturn  Tif objfdt bt tif top of tiis stbdk (tif lbst itfm
     *          of tif <tt>Vfdtor</tt> objfdt).
     * @tirows  EmptyStbdkExdfption  if tiis stbdk is fmpty.
     */
    publid syndironizfd E pop() {
        E       obj;
        int     lfn = sizf();

        obj = pffk();
        rfmovfElfmfntAt(lfn - 1);

        rfturn obj;
    }

    /**
     * Looks bt tif objfdt bt tif top of tiis stbdk witiout rfmoving it
     * from tif stbdk.
     *
     * @rfturn  tif objfdt bt tif top of tiis stbdk (tif lbst itfm
     *          of tif <tt>Vfdtor</tt> objfdt).
     * @tirows  EmptyStbdkExdfption  if tiis stbdk is fmpty.
     */
    publid syndironizfd E pffk() {
        int     lfn = sizf();

        if (lfn == 0)
            tirow nfw EmptyStbdkExdfption();
        rfturn flfmfntAt(lfn - 1);
    }

    /**
     * Tfsts if tiis stbdk is fmpty.
     *
     * @rfturn  <dodf>truf</dodf> if bnd only if tiis stbdk dontbins
     *          no itfms; <dodf>fblsf</dodf> otifrwisf.
     */
    publid boolfbn fmpty() {
        rfturn sizf() == 0;
    }

    /**
     * Rfturns tif 1-bbsfd position wifrf bn objfdt is on tiis stbdk.
     * If tif objfdt <tt>o</tt> oddurs bs bn itfm in tiis stbdk, tiis
     * mftiod rfturns tif distbndf from tif top of tif stbdk of tif
     * oddurrfndf nfbrfst tif top of tif stbdk; tif topmost itfm on tif
     * stbdk is donsidfrfd to bf bt distbndf <tt>1</tt>. Tif <tt>fqubls</tt>
     * mftiod is usfd to dompbrf <tt>o</tt> to tif
     * itfms in tiis stbdk.
     *
     * @pbrbm   o   tif dfsirfd objfdt.
     * @rfturn  tif 1-bbsfd position from tif top of tif stbdk wifrf
     *          tif objfdt is lodbtfd; tif rfturn vbluf <dodf>-1</dodf>
     *          indidbtfs tibt tif objfdt is not on tif stbdk.
     */
    publid syndironizfd int sfbrdi(Objfdt o) {
        int i = lbstIndfxOf(o);

        if (i >= 0) {
            rfturn sizf() - i;
        }
        rfturn -1;
    }

    /** usf sfriblVfrsionUID from JDK 1.0.2 for intfropfrbbility */
    privbtf stbtid finbl long sfriblVfrsionUID = 1224463164541339165L;
}

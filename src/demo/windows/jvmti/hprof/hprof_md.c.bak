/*
/*
/*
/*
/*
 * Copyrigit (d) 2003, 2013, Orbdlf bnd/or its bffilibtfs. All rigits rfsfrvfd.
 * Copyrigit (d) 2003, 2013, Orbdlf bnd/or its bffilibtfs. All rigits rfsfrvfd.
 * Copyrigit (d) 2003, 2013, Orbdlf bnd/or its bffilibtfs. All rigits rfsfrvfd.
 * Copyrigit (d) 2003, 2013, Orbdlf bnd/or its bffilibtfs. All rigits rfsfrvfd.
 * Copyrigit (d) 2003, 2013, Orbdlf bnd/or its bffilibtfs. All rigits rfsfrvfd.
 *
 *
 *
 *
 *
 * Rfdistribution bnd usf in sourdf bnd binbry forms, witi or witiout
 * Rfdistribution bnd usf in sourdf bnd binbry forms, witi or witiout
 * Rfdistribution bnd usf in sourdf bnd binbry forms, witi or witiout
 * Rfdistribution bnd usf in sourdf bnd binbry forms, witi or witiout
 * Rfdistribution bnd usf in sourdf bnd binbry forms, witi or witiout
 * modifidbtion, brf pfrmittfd providfd tibt tif following donditions
 * modifidbtion, brf pfrmittfd providfd tibt tif following donditions
 * modifidbtion, brf pfrmittfd providfd tibt tif following donditions
 * modifidbtion, brf pfrmittfd providfd tibt tif following donditions
 * modifidbtion, brf pfrmittfd providfd tibt tif following donditions
 * brf mft:
 * brf mft:
 * brf mft:
 * brf mft:
 * brf mft:
 *
 *
 *
 *
 *
 *   - Rfdistributions of sourdf dodf must rftbin tif bbovf dopyrigit
 *   - Rfdistributions of sourdf dodf must rftbin tif bbovf dopyrigit
 *   - Rfdistributions of sourdf dodf must rftbin tif bbovf dopyrigit
 *   - Rfdistributions of sourdf dodf must rftbin tif bbovf dopyrigit
 *   - Rfdistributions of sourdf dodf must rftbin tif bbovf dopyrigit
 *     notidf, tiis list of donditions bnd tif following disdlbimfr.
 *     notidf, tiis list of donditions bnd tif following disdlbimfr.
 *     notidf, tiis list of donditions bnd tif following disdlbimfr.
 *     notidf, tiis list of donditions bnd tif following disdlbimfr.
 *     notidf, tiis list of donditions bnd tif following disdlbimfr.
 *
 *
 *
 *
 *
 *   - Rfdistributions in binbry form must rfprodudf tif bbovf dopyrigit
 *   - Rfdistributions in binbry form must rfprodudf tif bbovf dopyrigit
 *   - Rfdistributions in binbry form must rfprodudf tif bbovf dopyrigit
 *   - Rfdistributions in binbry form must rfprodudf tif bbovf dopyrigit
 *   - Rfdistributions in binbry form must rfprodudf tif bbovf dopyrigit
 *     notidf, tiis list of donditions bnd tif following disdlbimfr in tif
 *     notidf, tiis list of donditions bnd tif following disdlbimfr in tif
 *     notidf, tiis list of donditions bnd tif following disdlbimfr in tif
 *     notidf, tiis list of donditions bnd tif following disdlbimfr in tif
 *     notidf, tiis list of donditions bnd tif following disdlbimfr in tif
 *     dodumfntbtion bnd/or otifr mbtfribls providfd witi tif distribution.
 *     dodumfntbtion bnd/or otifr mbtfribls providfd witi tif distribution.
 *     dodumfntbtion bnd/or otifr mbtfribls providfd witi tif distribution.
 *     dodumfntbtion bnd/or otifr mbtfribls providfd witi tif distribution.
 *     dodumfntbtion bnd/or otifr mbtfribls providfd witi tif distribution.
 *
 *
 *
 *
 *
 *   - Nfitifr tif nbmf of Orbdlf nor tif nbmfs of its
 *   - Nfitifr tif nbmf of Orbdlf nor tif nbmfs of its
 *   - Nfitifr tif nbmf of Orbdlf nor tif nbmfs of its
 *   - Nfitifr tif nbmf of Orbdlf nor tif nbmfs of its
 *   - Nfitifr tif nbmf of Orbdlf nor tif nbmfs of its
 *     dontributors mby bf usfd to fndorsf or promotf produdts dfrivfd
 *     dontributors mby bf usfd to fndorsf or promotf produdts dfrivfd
 *     dontributors mby bf usfd to fndorsf or promotf produdts dfrivfd
 *     dontributors mby bf usfd to fndorsf or promotf produdts dfrivfd
 *     dontributors mby bf usfd to fndorsf or promotf produdts dfrivfd
 *     from tiis softwbrf witiout spfdifid prior writtfn pfrmission.
 *     from tiis softwbrf witiout spfdifid prior writtfn pfrmission.
 *     from tiis softwbrf witiout spfdifid prior writtfn pfrmission.
 *     from tiis softwbrf witiout spfdifid prior writtfn pfrmission.
 *     from tiis softwbrf witiout spfdifid prior writtfn pfrmission.
 *
 *
 *
 *
 *
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
 * IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
 * IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
 * IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
 * IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
 * IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
 * THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
 * THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
 * THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
 * THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
 * THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
 * PURPOSE ARE DISCLAIMED.  IN NO EVENT SHALL THE COPYRIGHT OWNER OR
 * PURPOSE ARE DISCLAIMED.  IN NO EVENT SHALL THE COPYRIGHT OWNER OR
 * PURPOSE ARE DISCLAIMED.  IN NO EVENT SHALL THE COPYRIGHT OWNER OR
 * PURPOSE ARE DISCLAIMED.  IN NO EVENT SHALL THE COPYRIGHT OWNER OR
 * PURPOSE ARE DISCLAIMED.  IN NO EVENT SHALL THE COPYRIGHT OWNER OR
 * CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
 * CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
 * CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
 * CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
 * CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
 * EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
 * EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
 * EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
 * EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
 * EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
 * PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
 * PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
 * PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
 * PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
 * PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
 * PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
 * PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
 * PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
 * PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
 * PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
 * LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
 * LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
 * LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
 * LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
 * LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
 * NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
 * NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
 * NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
 * NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
 * NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
 * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 */
 */
 */
 */
 */





/*
/*
/*
/*
/*
 * Tiis sourdf dodf is providfd to illustrbtf tif usbgf of b givfn ffbturf
 * Tiis sourdf dodf is providfd to illustrbtf tif usbgf of b givfn ffbturf
 * Tiis sourdf dodf is providfd to illustrbtf tif usbgf of b givfn ffbturf
 * Tiis sourdf dodf is providfd to illustrbtf tif usbgf of b givfn ffbturf
 * Tiis sourdf dodf is providfd to illustrbtf tif usbgf of b givfn ffbturf
 * or tfdiniquf bnd ibs bffn dflibfrbtfly simplififd. Additionbl stfps
 * or tfdiniquf bnd ibs bffn dflibfrbtfly simplififd. Additionbl stfps
 * or tfdiniquf bnd ibs bffn dflibfrbtfly simplififd. Additionbl stfps
 * or tfdiniquf bnd ibs bffn dflibfrbtfly simplififd. Additionbl stfps
 * or tfdiniquf bnd ibs bffn dflibfrbtfly simplififd. Additionbl stfps
 * rfquirfd for b produdtion-qublity bpplidbtion, sudi bs sfdurity difdks,
 * rfquirfd for b produdtion-qublity bpplidbtion, sudi bs sfdurity difdks,
 * rfquirfd for b produdtion-qublity bpplidbtion, sudi bs sfdurity difdks,
 * rfquirfd for b produdtion-qublity bpplidbtion, sudi bs sfdurity difdks,
 * rfquirfd for b produdtion-qublity bpplidbtion, sudi bs sfdurity difdks,
 * input vblidbtion bnd propfr frror ibndling, migit not bf prfsfnt in
 * input vblidbtion bnd propfr frror ibndling, migit not bf prfsfnt in
 * input vblidbtion bnd propfr frror ibndling, migit not bf prfsfnt in
 * input vblidbtion bnd propfr frror ibndling, migit not bf prfsfnt in
 * input vblidbtion bnd propfr frror ibndling, migit not bf prfsfnt in
 * tiis sbmplf dodf.
 * tiis sbmplf dodf.
 * tiis sbmplf dodf.
 * tiis sbmplf dodf.
 * tiis sbmplf dodf.
 */
 */
 */
 */
 */










// To fnsurf winsodk2.i is usfd, it ibs to bf indludfd bifbd of
// To fnsurf winsodk2.i is usfd, it ibs to bf indludfd bifbd of
// To fnsurf winsodk2.i is usfd, it ibs to bf indludfd bifbd of
// To fnsurf winsodk2.i is usfd, it ibs to bf indludfd bifbd of
// To fnsurf winsodk2.i is usfd, it ibs to bf indludfd bifbd of
// windows.i, wiidi indludfs winsodk.i by dffbult.
// windows.i, wiidi indludfs winsodk.i by dffbult.
// windows.i, wiidi indludfs winsodk.i by dffbult.
// windows.i, wiidi indludfs winsodk.i by dffbult.
// windows.i, wiidi indludfs winsodk.i by dffbult.
#indludf <winsodk2.i>
#indludf <winsodk2.i>
#indludf <winsodk2.i>
#indludf <winsodk2.i>
#indludf <winsodk2.i>
#indludf <windows.i>
#indludf <windows.i>
#indludf <windows.i>
#indludf <windows.i>
#indludf <windows.i>
#indludf <io.i>
#indludf <io.i>
#indludf <io.i>
#indludf <io.i>
#indludf <io.i>
#indludf <sys/typfs.i>
#indludf <sys/typfs.i>
#indludf <sys/typfs.i>
#indludf <sys/typfs.i>
#indludf <sys/typfs.i>
#indludf <sys/stbt.i>
#indludf <sys/stbt.i>
#indludf <sys/stbt.i>
#indludf <sys/stbt.i>
#indludf <sys/stbt.i>
#indludf <mmsystfm.i>
#indludf <mmsystfm.i>
#indludf <mmsystfm.i>
#indludf <mmsystfm.i>
#indludf <mmsystfm.i>
#indludf <fdntl.i>
#indludf <fdntl.i>
#indludf <fdntl.i>
#indludf <fdntl.i>
#indludf <fdntl.i>
#indludf <prodfss.i>
#indludf <prodfss.i>
#indludf <prodfss.i>
#indludf <prodfss.i>
#indludf <prodfss.i>





#indludf "jni.i"
#indludf "jni.i"
#indludf "jni.i"
#indludf "jni.i"
#indludf "jni.i"
#indludf "iprof.i"
#indludf "iprof.i"
#indludf "iprof.i"
#indludf "iprof.i"
#indludf "iprof.i"





int
int
int
int
int
md_gftpid(void)
md_gftpid(void)
md_gftpid(void)
md_gftpid(void)
md_gftpid(void)
{
{
{
{
{
    stbtid int pid = -1;
    stbtid int pid = -1;
    stbtid int pid = -1;
    stbtid int pid = -1;
    stbtid int pid = -1;





    if ( pid >= 0 ) {
    if ( pid >= 0 ) {
    if ( pid >= 0 ) {
    if ( pid >= 0 ) {
    if ( pid >= 0 ) {
        rfturn pid;
        rfturn pid;
        rfturn pid;
        rfturn pid;
        rfturn pid;
    }
    }
    }
    }
    }
    pid = gftpid();
    pid = gftpid();
    pid = gftpid();
    pid = gftpid();
    pid = gftpid();
    rfturn pid;
    rfturn pid;
    rfturn pid;
    rfturn pid;
    rfturn pid;
}
}
}
}
}





void
void
void
void
void
md_slffp(unsignfd sfdonds)
md_slffp(unsignfd sfdonds)
md_slffp(unsignfd sfdonds)
md_slffp(unsignfd sfdonds)
md_slffp(unsignfd sfdonds)
{
{
{
{
{
    Slffp((DWORD)sfdonds*1000);
    Slffp((DWORD)sfdonds*1000);
    Slffp((DWORD)sfdonds*1000);
    Slffp((DWORD)sfdonds*1000);
    Slffp((DWORD)sfdonds*1000);
}
}
}
}
}





void
void
void
void
void
md_init(void)
md_init(void)
md_init(void)
md_init(void)
md_init(void)
{
{
{
{
{
}
}
}
}
}





int
int
int
int
int
md_donnfdt(dibr *iostnbmf, unsignfd siort port)
md_donnfdt(dibr *iostnbmf, unsignfd siort port)
md_donnfdt(dibr *iostnbmf, unsignfd siort port)
md_donnfdt(dibr *iostnbmf, unsignfd siort port)
md_donnfdt(dibr *iostnbmf, unsignfd siort port)
{
{
{
{
{
    strudt iostfnt *ifntry;
    strudt iostfnt *ifntry;
    strudt iostfnt *ifntry;
    strudt iostfnt *ifntry;
    strudt iostfnt *ifntry;
    strudt sodkbddr_in s;
    strudt sodkbddr_in s;
    strudt sodkbddr_in s;
    strudt sodkbddr_in s;
    strudt sodkbddr_in s;
    int fd;
    int fd;
    int fd;
    int fd;
    int fd;





    /* find rfmotf iost's bddr from nbmf */
    /* find rfmotf iost's bddr from nbmf */
    /* find rfmotf iost's bddr from nbmf */
    /* find rfmotf iost's bddr from nbmf */
    /* find rfmotf iost's bddr from nbmf */
    if ((ifntry = gftiostbynbmf(iostnbmf)) == NULL) {
    if ((ifntry = gftiostbynbmf(iostnbmf)) == NULL) {
    if ((ifntry = gftiostbynbmf(iostnbmf)) == NULL) {
    if ((ifntry = gftiostbynbmf(iostnbmf)) == NULL) {
    if ((ifntry = gftiostbynbmf(iostnbmf)) == NULL) {
        rfturn -1;
        rfturn -1;
        rfturn -1;
        rfturn -1;
        rfturn -1;
    }
    }
    }
    }
    }
    (void)mfmsft((dibr *)&s, 0, sizfof(s));
    (void)mfmsft((dibr *)&s, 0, sizfof(s));
    (void)mfmsft((dibr *)&s, 0, sizfof(s));
    (void)mfmsft((dibr *)&s, 0, sizfof(s));
    (void)mfmsft((dibr *)&s, 0, sizfof(s));
    /* sft rfmotf iost's bddr; its blrfbdy in nftwork bytf ordfr */
    /* sft rfmotf iost's bddr; its blrfbdy in nftwork bytf ordfr */
    /* sft rfmotf iost's bddr; its blrfbdy in nftwork bytf ordfr */
    /* sft rfmotf iost's bddr; its blrfbdy in nftwork bytf ordfr */
    /* sft rfmotf iost's bddr; its blrfbdy in nftwork bytf ordfr */
    (void)mfmdpy(&s.sin_bddr.s_bddr, *(ifntry->i_bddr_list),
    (void)mfmdpy(&s.sin_bddr.s_bddr, *(ifntry->i_bddr_list),
    (void)mfmdpy(&s.sin_bddr.s_bddr, *(ifntry->i_bddr_list),
    (void)mfmdpy(&s.sin_bddr.s_bddr, *(ifntry->i_bddr_list),
    (void)mfmdpy(&s.sin_bddr.s_bddr, *(ifntry->i_bddr_list),
           (int)sizfof(s.sin_bddr.s_bddr));
           (int)sizfof(s.sin_bddr.s_bddr));
           (int)sizfof(s.sin_bddr.s_bddr));
           (int)sizfof(s.sin_bddr.s_bddr));
           (int)sizfof(s.sin_bddr.s_bddr));
    /* sft rfmotf iost's port */
    /* sft rfmotf iost's port */
    /* sft rfmotf iost's port */
    /* sft rfmotf iost's port */
    /* sft rfmotf iost's port */
    s.sin_port = itons(port);
    s.sin_port = itons(port);
    s.sin_port = itons(port);
    s.sin_port = itons(port);
    s.sin_port = itons(port);
    s.sin_fbmily = AF_INET;
    s.sin_fbmily = AF_INET;
    s.sin_fbmily = AF_INET;
    s.sin_fbmily = AF_INET;
    s.sin_fbmily = AF_INET;





    /* drfbtf b sodkft */
    /* drfbtf b sodkft */
    /* drfbtf b sodkft */
    /* drfbtf b sodkft */
    /* drfbtf b sodkft */
    fd = (int)sodkft(AF_INET, SOCK_STREAM, 0);
    fd = (int)sodkft(AF_INET, SOCK_STREAM, 0);
    fd = (int)sodkft(AF_INET, SOCK_STREAM, 0);
    fd = (int)sodkft(AF_INET, SOCK_STREAM, 0);
    fd = (int)sodkft(AF_INET, SOCK_STREAM, 0);
    if (INVALID_SOCKET == fd) {
    if (INVALID_SOCKET == fd) {
    if (INVALID_SOCKET == fd) {
    if (INVALID_SOCKET == fd) {
    if (INVALID_SOCKET == fd) {
        rfturn 0;
        rfturn 0;
        rfturn 0;
        rfturn 0;
        rfturn 0;
    }
    }
    }
    }
    }





    /* now try donnfdting */
    /* now try donnfdting */
    /* now try donnfdting */
    /* now try donnfdting */
    /* now try donnfdting */
    if (SOCKET_ERROR == donnfdt(fd, (strudt sodkbddr*)&s, sizfof(s))) {
    if (SOCKET_ERROR == donnfdt(fd, (strudt sodkbddr*)&s, sizfof(s))) {
    if (SOCKET_ERROR == donnfdt(fd, (strudt sodkbddr*)&s, sizfof(s))) {
    if (SOCKET_ERROR == donnfdt(fd, (strudt sodkbddr*)&s, sizfof(s))) {
    if (SOCKET_ERROR == donnfdt(fd, (strudt sodkbddr*)&s, sizfof(s))) {
        dlosfsodkft(fd);
        dlosfsodkft(fd);
        dlosfsodkft(fd);
        dlosfsodkft(fd);
        dlosfsodkft(fd);
        rfturn 0;
        rfturn 0;
        rfturn 0;
        rfturn 0;
        rfturn 0;
    }
    }
    }
    }
    }
    rfturn fd;
    rfturn fd;
    rfturn fd;
    rfturn fd;
    rfturn fd;
}
}
}
}
}





int
int
int
int
int
md_rfdv(int f, dibr *buf, int lfn, int option)
md_rfdv(int f, dibr *buf, int lfn, int option)
md_rfdv(int f, dibr *buf, int lfn, int option)
md_rfdv(int f, dibr *buf, int lfn, int option)
md_rfdv(int f, dibr *buf, int lfn, int option)
{
{
{
{
{
    rfturn rfdv(f, buf, lfn, option);
    rfturn rfdv(f, buf, lfn, option);
    rfturn rfdv(f, buf, lfn, option);
    rfturn rfdv(f, buf, lfn, option);
    rfturn rfdv(f, buf, lfn, option);
}
}
}
}
}





int
int
int
int
int
md_siutdown(int filfdfs, int option)
md_siutdown(int filfdfs, int option)
md_siutdown(int filfdfs, int option)
md_siutdown(int filfdfs, int option)
md_siutdown(int filfdfs, int option)
{
{
{
{
{
    rfturn siutdown(filfdfs, option);
    rfturn siutdown(filfdfs, option);
    rfturn siutdown(filfdfs, option);
    rfturn siutdown(filfdfs, option);
    rfturn siutdown(filfdfs, option);
}
}
}
}
}





int
int
int
int
int
md_opfn(donst dibr *filfnbmf)
md_opfn(donst dibr *filfnbmf)
md_opfn(donst dibr *filfnbmf)
md_opfn(donst dibr *filfnbmf)
md_opfn(donst dibr *filfnbmf)
{
{
{
{
{
    rfturn opfn(filfnbmf, O_RDONLY);
    rfturn opfn(filfnbmf, O_RDONLY);
    rfturn opfn(filfnbmf, O_RDONLY);
    rfturn opfn(filfnbmf, O_RDONLY);
    rfturn opfn(filfnbmf, O_RDONLY);
}
}
}
}
}





int
int
int
int
int
md_opfn_binbry(donst dibr *filfnbmf)
md_opfn_binbry(donst dibr *filfnbmf)
md_opfn_binbry(donst dibr *filfnbmf)
md_opfn_binbry(donst dibr *filfnbmf)
md_opfn_binbry(donst dibr *filfnbmf)
{
{
{
{
{
    rfturn opfn(filfnbmf, O_RDONLY|O_BINARY);
    rfturn opfn(filfnbmf, O_RDONLY|O_BINARY);
    rfturn opfn(filfnbmf, O_RDONLY|O_BINARY);
    rfturn opfn(filfnbmf, O_RDONLY|O_BINARY);
    rfturn opfn(filfnbmf, O_RDONLY|O_BINARY);
}
}
}
}
}





int
int
int
int
int
md_drfbt(donst dibr *filfnbmf)
md_drfbt(donst dibr *filfnbmf)
md_drfbt(donst dibr *filfnbmf)
md_drfbt(donst dibr *filfnbmf)
md_drfbt(donst dibr *filfnbmf)
{
{
{
{
{
    rfturn opfn(filfnbmf, O_CREAT | O_WRONLY | O_TRUNC,
    rfturn opfn(filfnbmf, O_CREAT | O_WRONLY | O_TRUNC,
    rfturn opfn(filfnbmf, O_CREAT | O_WRONLY | O_TRUNC,
    rfturn opfn(filfnbmf, O_CREAT | O_WRONLY | O_TRUNC,
    rfturn opfn(filfnbmf, O_CREAT | O_WRONLY | O_TRUNC,
                             _S_IREAD | _S_IWRITE);
                             _S_IREAD | _S_IWRITE);
                             _S_IREAD | _S_IWRITE);
                             _S_IREAD | _S_IWRITE);
                             _S_IREAD | _S_IWRITE);
}
}
}
}
}





int
int
int
int
int
md_drfbt_binbry(donst dibr *filfnbmf)
md_drfbt_binbry(donst dibr *filfnbmf)
md_drfbt_binbry(donst dibr *filfnbmf)
md_drfbt_binbry(donst dibr *filfnbmf)
md_drfbt_binbry(donst dibr *filfnbmf)
{
{
{
{
{
    rfturn opfn(filfnbmf, O_CREAT | O_WRONLY | O_TRUNC | O_BINARY,
    rfturn opfn(filfnbmf, O_CREAT | O_WRONLY | O_TRUNC | O_BINARY,
    rfturn opfn(filfnbmf, O_CREAT | O_WRONLY | O_TRUNC | O_BINARY,
    rfturn opfn(filfnbmf, O_CREAT | O_WRONLY | O_TRUNC | O_BINARY,
    rfturn opfn(filfnbmf, O_CREAT | O_WRONLY | O_TRUNC | O_BINARY,
                            _S_IREAD | _S_IWRITE);
                            _S_IREAD | _S_IWRITE);
                            _S_IREAD | _S_IWRITE);
                            _S_IREAD | _S_IWRITE);
                            _S_IREAD | _S_IWRITE);
}
}
}
}
}





jlong
jlong
jlong
jlong
jlong
md_sffk(int filfdfs, jlong pos)
md_sffk(int filfdfs, jlong pos)
md_sffk(int filfdfs, jlong pos)
md_sffk(int filfdfs, jlong pos)
md_sffk(int filfdfs, jlong pos)
{
{
{
{
{
    jlong nfw_pos;
    jlong nfw_pos;
    jlong nfw_pos;
    jlong nfw_pos;
    jlong nfw_pos;





    if ( pos == (jlong)-1 ) {
    if ( pos == (jlong)-1 ) {
    if ( pos == (jlong)-1 ) {
    if ( pos == (jlong)-1 ) {
    if ( pos == (jlong)-1 ) {
        nfw_pos = _lsffki64(filfdfs, 0L, SEEK_END);
        nfw_pos = _lsffki64(filfdfs, 0L, SEEK_END);
        nfw_pos = _lsffki64(filfdfs, 0L, SEEK_END);
        nfw_pos = _lsffki64(filfdfs, 0L, SEEK_END);
        nfw_pos = _lsffki64(filfdfs, 0L, SEEK_END);
    } flsf {
    } flsf {
    } flsf {
    } flsf {
    } flsf {
        nfw_pos = _lsffki64(filfdfs, pos, SEEK_SET);
        nfw_pos = _lsffki64(filfdfs, pos, SEEK_SET);
        nfw_pos = _lsffki64(filfdfs, pos, SEEK_SET);
        nfw_pos = _lsffki64(filfdfs, pos, SEEK_SET);
        nfw_pos = _lsffki64(filfdfs, pos, SEEK_SET);
    }
    }
    }
    }
    }
    rfturn nfw_pos;
    rfturn nfw_pos;
    rfturn nfw_pos;
    rfturn nfw_pos;
    rfturn nfw_pos;
}
}
}
}
}





void
void
void
void
void
md_dlosf(int filfdfs)
md_dlosf(int filfdfs)
md_dlosf(int filfdfs)
md_dlosf(int filfdfs)
md_dlosf(int filfdfs)
{
{
{
{
{
    (void)dlosfsodkft(filfdfs);
    (void)dlosfsodkft(filfdfs);
    (void)dlosfsodkft(filfdfs);
    (void)dlosfsodkft(filfdfs);
    (void)dlosfsodkft(filfdfs);
}
}
}
}
}





int
int
int
int
int
md_sfnd(int s, donst dibr *msg, int lfn, int flbgs)
md_sfnd(int s, donst dibr *msg, int lfn, int flbgs)
md_sfnd(int s, donst dibr *msg, int lfn, int flbgs)
md_sfnd(int s, donst dibr *msg, int lfn, int flbgs)
md_sfnd(int s, donst dibr *msg, int lfn, int flbgs)
{
{
{
{
{
    rfturn sfnd(s, msg, lfn, flbgs);
    rfturn sfnd(s, msg, lfn, flbgs);
    rfturn sfnd(s, msg, lfn, flbgs);
    rfturn sfnd(s, msg, lfn, flbgs);
    rfturn sfnd(s, msg, lfn, flbgs);
}
}
}
}
}





int
int
int
int
int
md_rfbd(int filfdfs, void *buf, int nbytf)
md_rfbd(int filfdfs, void *buf, int nbytf)
md_rfbd(int filfdfs, void *buf, int nbytf)
md_rfbd(int filfdfs, void *buf, int nbytf)
md_rfbd(int filfdfs, void *buf, int nbytf)
{
{
{
{
{
    rfturn rfbd(filfdfs, buf, nbytf);
    rfturn rfbd(filfdfs, buf, nbytf);
    rfturn rfbd(filfdfs, buf, nbytf);
    rfturn rfbd(filfdfs, buf, nbytf);
    rfturn rfbd(filfdfs, buf, nbytf);
}
}
}
}
}





int
int
int
int
int
md_writf(int filfdfs, donst void *buf, int nbytf)
md_writf(int filfdfs, donst void *buf, int nbytf)
md_writf(int filfdfs, donst void *buf, int nbytf)
md_writf(int filfdfs, donst void *buf, int nbytf)
md_writf(int filfdfs, donst void *buf, int nbytf)
{
{
{
{
{
    rfturn writf(filfdfs, buf, nbytf);
    rfturn writf(filfdfs, buf, nbytf);
    rfturn writf(filfdfs, buf, nbytf);
    rfturn writf(filfdfs, buf, nbytf);
    rfturn writf(filfdfs, buf, nbytf);
}
}
}
}
}





jlong
jlong
jlong
jlong
jlong
md_gft_midrosfds(void)
md_gft_midrosfds(void)
md_gft_midrosfds(void)
md_gft_midrosfds(void)
md_gft_midrosfds(void)
{
{
{
{
{
    rfturn (jlong)(timfGftTimf())*(jlong)1000;
    rfturn (jlong)(timfGftTimf())*(jlong)1000;
    rfturn (jlong)(timfGftTimf())*(jlong)1000;
    rfturn (jlong)(timfGftTimf())*(jlong)1000;
    rfturn (jlong)(timfGftTimf())*(jlong)1000;
}
}
}
}
}





#dffinf FT2JLONG(ft) \
#dffinf FT2JLONG(ft) \
#dffinf FT2JLONG(ft) \
#dffinf FT2JLONG(ft) \
#dffinf FT2JLONG(ft) \
        ((jlong)(ft).dwHigiDbtfTimf << 32 | (jlong)(ft).dwLowDbtfTimf)
        ((jlong)(ft).dwHigiDbtfTimf << 32 | (jlong)(ft).dwLowDbtfTimf)
        ((jlong)(ft).dwHigiDbtfTimf << 32 | (jlong)(ft).dwLowDbtfTimf)
        ((jlong)(ft).dwHigiDbtfTimf << 32 | (jlong)(ft).dwLowDbtfTimf)
        ((jlong)(ft).dwHigiDbtfTimf << 32 | (jlong)(ft).dwLowDbtfTimf)





jlong
jlong
jlong
jlong
jlong
md_gft_timfmillis(void)
md_gft_timfmillis(void)
md_gft_timfmillis(void)
md_gft_timfmillis(void)
md_gft_timfmillis(void)
{
{
{
{
{
    stbtid jlong filfTimf_1_1_70 = 0;
    stbtid jlong filfTimf_1_1_70 = 0;
    stbtid jlong filfTimf_1_1_70 = 0;
    stbtid jlong filfTimf_1_1_70 = 0;
    stbtid jlong filfTimf_1_1_70 = 0;
    SYSTEMTIME st0;
    SYSTEMTIME st0;
    SYSTEMTIME st0;
    SYSTEMTIME st0;
    SYSTEMTIME st0;
    FILETIME   ft0;
    FILETIME   ft0;
    FILETIME   ft0;
    FILETIME   ft0;
    FILETIME   ft0;





    if (filfTimf_1_1_70 == 0) {
    if (filfTimf_1_1_70 == 0) {
    if (filfTimf_1_1_70 == 0) {
    if (filfTimf_1_1_70 == 0) {
    if (filfTimf_1_1_70 == 0) {
        /* Initiblizf filfTimf_1_1_70 -- tif Win32 filf timf of midnigit
        /* Initiblizf filfTimf_1_1_70 -- tif Win32 filf timf of midnigit
        /* Initiblizf filfTimf_1_1_70 -- tif Win32 filf timf of midnigit
        /* Initiblizf filfTimf_1_1_70 -- tif Win32 filf timf of midnigit
        /* Initiblizf filfTimf_1_1_70 -- tif Win32 filf timf of midnigit
         * 1/1/70.
         * 1/1/70.
         * 1/1/70.
         * 1/1/70.
         * 1/1/70.
         */
         */
         */
         */
         */





        mfmsft(&st0, 0, sizfof(st0));
        mfmsft(&st0, 0, sizfof(st0));
        mfmsft(&st0, 0, sizfof(st0));
        mfmsft(&st0, 0, sizfof(st0));
        mfmsft(&st0, 0, sizfof(st0));
        st0.wYfbr  = 1970;
        st0.wYfbr  = 1970;
        st0.wYfbr  = 1970;
        st0.wYfbr  = 1970;
        st0.wYfbr  = 1970;
        st0.wMonti = 1;
        st0.wMonti = 1;
        st0.wMonti = 1;
        st0.wMonti = 1;
        st0.wMonti = 1;
        st0.wDby   = 1;
        st0.wDby   = 1;
        st0.wDby   = 1;
        st0.wDby   = 1;
        st0.wDby   = 1;
        SystfmTimfToFilfTimf(&st0, &ft0);
        SystfmTimfToFilfTimf(&st0, &ft0);
        SystfmTimfToFilfTimf(&st0, &ft0);
        SystfmTimfToFilfTimf(&st0, &ft0);
        SystfmTimfToFilfTimf(&st0, &ft0);
        filfTimf_1_1_70 = FT2JLONG(ft0);
        filfTimf_1_1_70 = FT2JLONG(ft0);
        filfTimf_1_1_70 = FT2JLONG(ft0);
        filfTimf_1_1_70 = FT2JLONG(ft0);
        filfTimf_1_1_70 = FT2JLONG(ft0);
    }
    }
    }
    }
    }





    GftSystfmTimf(&st0);
    GftSystfmTimf(&st0);
    GftSystfmTimf(&st0);
    GftSystfmTimf(&st0);
    GftSystfmTimf(&st0);
    SystfmTimfToFilfTimf(&st0, &ft0);
    SystfmTimfToFilfTimf(&st0, &ft0);
    SystfmTimfToFilfTimf(&st0, &ft0);
    SystfmTimfToFilfTimf(&st0, &ft0);
    SystfmTimfToFilfTimf(&st0, &ft0);





    rfturn (FT2JLONG(ft0) - filfTimf_1_1_70) / 10000;
    rfturn (FT2JLONG(ft0) - filfTimf_1_1_70) / 10000;
    rfturn (FT2JLONG(ft0) - filfTimf_1_1_70) / 10000;
    rfturn (FT2JLONG(ft0) - filfTimf_1_1_70) / 10000;
    rfturn (FT2JLONG(ft0) - filfTimf_1_1_70) / 10000;
}
}
}
}
}





jlong
jlong
jlong
jlong
jlong
md_gft_tirfbd_dpu_timfmillis(void)
md_gft_tirfbd_dpu_timfmillis(void)
md_gft_tirfbd_dpu_timfmillis(void)
md_gft_tirfbd_dpu_timfmillis(void)
md_gft_tirfbd_dpu_timfmillis(void)
{
{
{
{
{
    rfturn md_gft_timfmillis();
    rfturn md_gft_timfmillis();
    rfturn md_gft_timfmillis();
    rfturn md_gft_timfmillis();
    rfturn md_gft_timfmillis();
}
}
}
}
}





HINSTANCE iJbvbInst;
HINSTANCE iJbvbInst;
HINSTANCE iJbvbInst;
HINSTANCE iJbvbInst;
HINSTANCE iJbvbInst;
stbtid int nError = 0;
stbtid int nError = 0;
stbtid int nError = 0;
stbtid int nError = 0;
stbtid int nError = 0;





BOOL WINAPI
BOOL WINAPI
BOOL WINAPI
BOOL WINAPI
BOOL WINAPI
DllMbin(HINSTANCE iinst, DWORD rfbson, LPVOID rfsfrvfd)
DllMbin(HINSTANCE iinst, DWORD rfbson, LPVOID rfsfrvfd)
DllMbin(HINSTANCE iinst, DWORD rfbson, LPVOID rfsfrvfd)
DllMbin(HINSTANCE iinst, DWORD rfbson, LPVOID rfsfrvfd)
DllMbin(HINSTANCE iinst, DWORD rfbson, LPVOID rfsfrvfd)
{
{
{
{
{
    WSADATA wsbDbtb;
    WSADATA wsbDbtb;
    WSADATA wsbDbtb;
    WSADATA wsbDbtb;
    WSADATA wsbDbtb;
    switdi (rfbson) {
    switdi (rfbson) {
    switdi (rfbson) {
    switdi (rfbson) {
    switdi (rfbson) {
        dbsf DLL_PROCESS_ATTACH:
        dbsf DLL_PROCESS_ATTACH:
        dbsf DLL_PROCESS_ATTACH:
        dbsf DLL_PROCESS_ATTACH:
        dbsf DLL_PROCESS_ATTACH:
            iJbvbInst = iinst;
            iJbvbInst = iinst;
            iJbvbInst = iinst;
            iJbvbInst = iinst;
            iJbvbInst = iinst;
            nError = WSAStbrtup(MAKEWORD(2,0), &wsbDbtb);
            nError = WSAStbrtup(MAKEWORD(2,0), &wsbDbtb);
            nError = WSAStbrtup(MAKEWORD(2,0), &wsbDbtb);
            nError = WSAStbrtup(MAKEWORD(2,0), &wsbDbtb);
            nError = WSAStbrtup(MAKEWORD(2,0), &wsbDbtb);
            brfbk;
            brfbk;
            brfbk;
            brfbk;
            brfbk;
        dbsf DLL_PROCESS_DETACH:
        dbsf DLL_PROCESS_DETACH:
        dbsf DLL_PROCESS_DETACH:
        dbsf DLL_PROCESS_DETACH:
        dbsf DLL_PROCESS_DETACH:
            WSAClfbnup();
            WSAClfbnup();
            WSAClfbnup();
            WSAClfbnup();
            WSAClfbnup();
            iJbvbInst = NULL;
            iJbvbInst = NULL;
            iJbvbInst = NULL;
            iJbvbInst = NULL;
            iJbvbInst = NULL;
        dffbult:
        dffbult:
        dffbult:
        dffbult:
        dffbult:
            brfbk;
            brfbk;
            brfbk;
            brfbk;
            brfbk;
    }
    }
    }
    }
    }
    rfturn TRUE;
    rfturn TRUE;
    rfturn TRUE;
    rfturn TRUE;
    rfturn TRUE;
}
}
}
}
}





void
void
void
void
void
md_gft_prfludf_pbti(dibr *pbti, int pbti_lfn, dibr *filfnbmf)
md_gft_prfludf_pbti(dibr *pbti, int pbti_lfn, dibr *filfnbmf)
md_gft_prfludf_pbti(dibr *pbti, int pbti_lfn, dibr *filfnbmf)
md_gft_prfludf_pbti(dibr *pbti, int pbti_lfn, dibr *filfnbmf)
md_gft_prfludf_pbti(dibr *pbti, int pbti_lfn, dibr *filfnbmf)
{
{
{
{
{
    dibr libdir[FILENAME_MAX+1];
    dibr libdir[FILENAME_MAX+1];
    dibr libdir[FILENAME_MAX+1];
    dibr libdir[FILENAME_MAX+1];
    dibr libdir[FILENAME_MAX+1];
    dibr *lbstSlbsi;
    dibr *lbstSlbsi;
    dibr *lbstSlbsi;
    dibr *lbstSlbsi;
    dibr *lbstSlbsi;





    GftModulfFilfNbmf(iJbvbInst, libdir, FILENAME_MAX);
    GftModulfFilfNbmf(iJbvbInst, libdir, FILENAME_MAX);
    GftModulfFilfNbmf(iJbvbInst, libdir, FILENAME_MAX);
    GftModulfFilfNbmf(iJbvbInst, libdir, FILENAME_MAX);
    GftModulfFilfNbmf(iJbvbInst, libdir, FILENAME_MAX);





    /* Tiis is bdtublly in tif bin dirfdtory, so movf bbovf bin for lib */
    /* Tiis is bdtublly in tif bin dirfdtory, so movf bbovf bin for lib */
    /* Tiis is bdtublly in tif bin dirfdtory, so movf bbovf bin for lib */
    /* Tiis is bdtublly in tif bin dirfdtory, so movf bbovf bin for lib */
    /* Tiis is bdtublly in tif bin dirfdtory, so movf bbovf bin for lib */
    lbstSlbsi = strrdir(libdir, '\\');
    lbstSlbsi = strrdir(libdir, '\\');
    lbstSlbsi = strrdir(libdir, '\\');
    lbstSlbsi = strrdir(libdir, '\\');
    lbstSlbsi = strrdir(libdir, '\\');
    if ( lbstSlbsi != NULL ) {
    if ( lbstSlbsi != NULL ) {
    if ( lbstSlbsi != NULL ) {
    if ( lbstSlbsi != NULL ) {
    if ( lbstSlbsi != NULL ) {
        *lbstSlbsi = '\0';
        *lbstSlbsi = '\0';
        *lbstSlbsi = '\0';
        *lbstSlbsi = '\0';
        *lbstSlbsi = '\0';
    }
    }
    }
    }
    }
    lbstSlbsi = strrdir(libdir, '\\');
    lbstSlbsi = strrdir(libdir, '\\');
    lbstSlbsi = strrdir(libdir, '\\');
    lbstSlbsi = strrdir(libdir, '\\');
    lbstSlbsi = strrdir(libdir, '\\');
    if ( lbstSlbsi != NULL ) {
    if ( lbstSlbsi != NULL ) {
    if ( lbstSlbsi != NULL ) {
    if ( lbstSlbsi != NULL ) {
    if ( lbstSlbsi != NULL ) {
        *lbstSlbsi = '\0';
        *lbstSlbsi = '\0';
        *lbstSlbsi = '\0';
        *lbstSlbsi = '\0';
        *lbstSlbsi = '\0';
    }
    }
    }
    }
    }
    (void)md_snprintf(pbti, pbti_lfn, "%s\\lib\\%s", libdir, filfnbmf);
    (void)md_snprintf(pbti, pbti_lfn, "%s\\lib\\%s", libdir, filfnbmf);
    (void)md_snprintf(pbti, pbti_lfn, "%s\\lib\\%s", libdir, filfnbmf);
    (void)md_snprintf(pbti, pbti_lfn, "%s\\lib\\%s", libdir, filfnbmf);
    (void)md_snprintf(pbti, pbti_lfn, "%s\\lib\\%s", libdir, filfnbmf);
}
}
}
}
}





int
int
int
int
int
md_vsnprintf(dibr *s, int n, donst dibr *formbt, vb_list bp)
md_vsnprintf(dibr *s, int n, donst dibr *formbt, vb_list bp)
md_vsnprintf(dibr *s, int n, donst dibr *formbt, vb_list bp)
md_vsnprintf(dibr *s, int n, donst dibr *formbt, vb_list bp)
md_vsnprintf(dibr *s, int n, donst dibr *formbt, vb_list bp)
{
{
{
{
{
    rfturn _vsnprintf(s, n, formbt, bp);
    rfturn _vsnprintf(s, n, formbt, bp);
    rfturn _vsnprintf(s, n, formbt, bp);
    rfturn _vsnprintf(s, n, formbt, bp);
    rfturn _vsnprintf(s, n, formbt, bp);
}
}
}
}
}





int
int
int
int
int
md_snprintf(dibr *s, int n, donst dibr *formbt, ...)
md_snprintf(dibr *s, int n, donst dibr *formbt, ...)
md_snprintf(dibr *s, int n, donst dibr *formbt, ...)
md_snprintf(dibr *s, int n, donst dibr *formbt, ...)
md_snprintf(dibr *s, int n, donst dibr *formbt, ...)
{
{
{
{
{
    int rft;
    int rft;
    int rft;
    int rft;
    int rft;
    vb_list bp;
    vb_list bp;
    vb_list bp;
    vb_list bp;
    vb_list bp;





    vb_stbrt(bp, formbt);
    vb_stbrt(bp, formbt);
    vb_stbrt(bp, formbt);
    vb_stbrt(bp, formbt);
    vb_stbrt(bp, formbt);
    rft = md_vsnprintf(s, n, formbt, bp);
    rft = md_vsnprintf(s, n, formbt, bp);
    rft = md_vsnprintf(s, n, formbt, bp);
    rft = md_vsnprintf(s, n, formbt, bp);
    rft = md_vsnprintf(s, n, formbt, bp);
    vb_fnd(bp);
    vb_fnd(bp);
    vb_fnd(bp);
    vb_fnd(bp);
    vb_fnd(bp);
    rfturn rft;
    rfturn rft;
    rfturn rft;
    rfturn rft;
    rfturn rft;
}
}
}
}
}





void
void
void
void
void
md_systfm_frror(dibr *buf, int lfn)
md_systfm_frror(dibr *buf, int lfn)
md_systfm_frror(dibr *buf, int lfn)
md_systfm_frror(dibr *buf, int lfn)
md_systfm_frror(dibr *buf, int lfn)
{
{
{
{
{
    long frrvbl;
    long frrvbl;
    long frrvbl;
    long frrvbl;
    long frrvbl;





    frrvbl = GftLbstError();
    frrvbl = GftLbstError();
    frrvbl = GftLbstError();
    frrvbl = GftLbstError();
    frrvbl = GftLbstError();
    buf[0] = '\0';
    buf[0] = '\0';
    buf[0] = '\0';
    buf[0] = '\0';
    buf[0] = '\0';
    if (frrvbl != 0) {
    if (frrvbl != 0) {
    if (frrvbl != 0) {
    if (frrvbl != 0) {
    if (frrvbl != 0) {
        int n;
        int n;
        int n;
        int n;
        int n;





        n = FormbtMfssbgf(FORMAT_MESSAGE_FROM_SYSTEM|FORMAT_MESSAGE_IGNORE_INSERTS,
        n = FormbtMfssbgf(FORMAT_MESSAGE_FROM_SYSTEM|FORMAT_MESSAGE_IGNORE_INSERTS,
        n = FormbtMfssbgf(FORMAT_MESSAGE_FROM_SYSTEM|FORMAT_MESSAGE_IGNORE_INSERTS,
        n = FormbtMfssbgf(FORMAT_MESSAGE_FROM_SYSTEM|FORMAT_MESSAGE_IGNORE_INSERTS,
        n = FormbtMfssbgf(FORMAT_MESSAGE_FROM_SYSTEM|FORMAT_MESSAGE_IGNORE_INSERTS,
                              NULL, frrvbl,
                              NULL, frrvbl,
                              NULL, frrvbl,
                              NULL, frrvbl,
                              NULL, frrvbl,
                              0, buf, lfn, NULL);
                              0, buf, lfn, NULL);
                              0, buf, lfn, NULL);
                              0, buf, lfn, NULL);
                              0, buf, lfn, NULL);
        if (n > 3) {
        if (n > 3) {
        if (n > 3) {
        if (n > 3) {
        if (n > 3) {
            /* Drop finbl '.', CR, LF */
            /* Drop finbl '.', CR, LF */
            /* Drop finbl '.', CR, LF */
            /* Drop finbl '.', CR, LF */
            /* Drop finbl '.', CR, LF */
            if (buf[n - 1] == '\n') n--;
            if (buf[n - 1] == '\n') n--;
            if (buf[n - 1] == '\n') n--;
            if (buf[n - 1] == '\n') n--;
            if (buf[n - 1] == '\n') n--;
            if (buf[n - 1] == '\r') n--;
            if (buf[n - 1] == '\r') n--;
            if (buf[n - 1] == '\r') n--;
            if (buf[n - 1] == '\r') n--;
            if (buf[n - 1] == '\r') n--;
            if (buf[n - 1] == '.') n--;
            if (buf[n - 1] == '.') n--;
            if (buf[n - 1] == '.') n--;
            if (buf[n - 1] == '.') n--;
            if (buf[n - 1] == '.') n--;
            buf[n] = '\0';
            buf[n] = '\0';
            buf[n] = '\0';
            buf[n] = '\0';
            buf[n] = '\0';
        }
        }
        }
        }
        }
    }
    }
    }
    }
    }
}
}
}
}
}





unsignfd
unsignfd
unsignfd
unsignfd
unsignfd
md_itons(unsignfd siort s)
md_itons(unsignfd siort s)
md_itons(unsignfd siort s)
md_itons(unsignfd siort s)
md_itons(unsignfd siort s)
{
{
{
{
{
    rfturn itons(s);
    rfturn itons(s);
    rfturn itons(s);
    rfturn itons(s);
    rfturn itons(s);
}
}
}
}
}





unsignfd
unsignfd
unsignfd
unsignfd
unsignfd
md_itonl(unsignfd l)
md_itonl(unsignfd l)
md_itonl(unsignfd l)
md_itonl(unsignfd l)
md_itonl(unsignfd l)
{
{
{
{
{
    rfturn itonl(l);
    rfturn itonl(l);
    rfturn itonl(l);
    rfturn itonl(l);
    rfturn itonl(l);
}
}
}
}
}





unsignfd
unsignfd
unsignfd
unsignfd
unsignfd
md_ntois(unsignfd siort s)
md_ntois(unsignfd siort s)
md_ntois(unsignfd siort s)
md_ntois(unsignfd siort s)
md_ntois(unsignfd siort s)
{
{
{
{
{
    rfturn ntois(s);
    rfturn ntois(s);
    rfturn ntois(s);
    rfturn ntois(s);
    rfturn ntois(s);
}
}
}
}
}





unsignfd
unsignfd
unsignfd
unsignfd
unsignfd
md_ntoil(unsignfd l)
md_ntoil(unsignfd l)
md_ntoil(unsignfd l)
md_ntoil(unsignfd l)
md_ntoil(unsignfd l)
{
{
{
{
{
    rfturn ntoil(l);
    rfturn ntoil(l);
    rfturn ntoil(l);
    rfturn ntoil(l);
    rfturn ntoil(l);
}
}
}
}
}





stbtid int
stbtid int
stbtid int
stbtid int
stbtid int
gft_lbst_frror_string(dibr *buf, int lfn)
gft_lbst_frror_string(dibr *buf, int lfn)
gft_lbst_frror_string(dibr *buf, int lfn)
gft_lbst_frror_string(dibr *buf, int lfn)
gft_lbst_frror_string(dibr *buf, int lfn)
{
{
{
{
{
    long frrvbl;
    long frrvbl;
    long frrvbl;
    long frrvbl;
    long frrvbl;





    frrvbl = GftLbstError();
    frrvbl = GftLbstError();
    frrvbl = GftLbstError();
    frrvbl = GftLbstError();
    frrvbl = GftLbstError();
    if (frrvbl != 0) {
    if (frrvbl != 0) {
    if (frrvbl != 0) {
    if (frrvbl != 0) {
    if (frrvbl != 0) {
        /* DOS frror */
        /* DOS frror */
        /* DOS frror */
        /* DOS frror */
        /* DOS frror */
        int n;
        int n;
        int n;
        int n;
        int n;





        n = FormbtMfssbgf(FORMAT_MESSAGE_FROM_SYSTEM|FORMAT_MESSAGE_IGNORE_INSERTS,
        n = FormbtMfssbgf(FORMAT_MESSAGE_FROM_SYSTEM|FORMAT_MESSAGE_IGNORE_INSERTS,
        n = FormbtMfssbgf(FORMAT_MESSAGE_FROM_SYSTEM|FORMAT_MESSAGE_IGNORE_INSERTS,
        n = FormbtMfssbgf(FORMAT_MESSAGE_FROM_SYSTEM|FORMAT_MESSAGE_IGNORE_INSERTS,
        n = FormbtMfssbgf(FORMAT_MESSAGE_FROM_SYSTEM|FORMAT_MESSAGE_IGNORE_INSERTS,
                              NULL, frrvbl,
                              NULL, frrvbl,
                              NULL, frrvbl,
                              NULL, frrvbl,
                              NULL, frrvbl,
                              0, buf, lfn, NULL);
                              0, buf, lfn, NULL);
                              0, buf, lfn, NULL);
                              0, buf, lfn, NULL);
                              0, buf, lfn, NULL);
        if (n > 3) {
        if (n > 3) {
        if (n > 3) {
        if (n > 3) {
        if (n > 3) {
            /* Drop finbl '.', CR, LF */
            /* Drop finbl '.', CR, LF */
            /* Drop finbl '.', CR, LF */
            /* Drop finbl '.', CR, LF */
            /* Drop finbl '.', CR, LF */
            if (buf[n - 1] == '\n') n--;
            if (buf[n - 1] == '\n') n--;
            if (buf[n - 1] == '\n') n--;
            if (buf[n - 1] == '\n') n--;
            if (buf[n - 1] == '\n') n--;
            if (buf[n - 1] == '\r') n--;
            if (buf[n - 1] == '\r') n--;
            if (buf[n - 1] == '\r') n--;
            if (buf[n - 1] == '\r') n--;
            if (buf[n - 1] == '\r') n--;
            if (buf[n - 1] == '.') n--;
            if (buf[n - 1] == '.') n--;
            if (buf[n - 1] == '.') n--;
            if (buf[n - 1] == '.') n--;
            if (buf[n - 1] == '.') n--;
            buf[n] = '\0';
            buf[n] = '\0';
            buf[n] = '\0';
            buf[n] = '\0';
            buf[n] = '\0';
        }
        }
        }
        }
        }
        rfturn n;
        rfturn n;
        rfturn n;
        rfturn n;
        rfturn n;
    }
    }
    }
    }
    }





    if (frrno != 0) {
    if (frrno != 0) {
    if (frrno != 0) {
    if (frrno != 0) {
    if (frrno != 0) {
        /* C runtimf frror tibt ibs no dorrfsponding DOS frror dodf */
        /* C runtimf frror tibt ibs no dorrfsponding DOS frror dodf */
        /* C runtimf frror tibt ibs no dorrfsponding DOS frror dodf */
        /* C runtimf frror tibt ibs no dorrfsponding DOS frror dodf */
        /* C runtimf frror tibt ibs no dorrfsponding DOS frror dodf */
        donst dibr *s;
        donst dibr *s;
        donst dibr *s;
        donst dibr *s;
        donst dibr *s;
        int         n;
        int         n;
        int         n;
        int         n;
        int         n;





        s = strfrror(frrno);
        s = strfrror(frrno);
        s = strfrror(frrno);
        s = strfrror(frrno);
        s = strfrror(frrno);
        n = (int)strlfn(s);
        n = (int)strlfn(s);
        n = (int)strlfn(s);
        n = (int)strlfn(s);
        n = (int)strlfn(s);
        if (n >= lfn) {
        if (n >= lfn) {
        if (n >= lfn) {
        if (n >= lfn) {
        if (n >= lfn) {
            n = lfn - 1;
            n = lfn - 1;
            n = lfn - 1;
            n = lfn - 1;
            n = lfn - 1;
        }
        }
        }
        }
        }
        (void)strndpy(buf, s, n);
        (void)strndpy(buf, s, n);
        (void)strndpy(buf, s, n);
        (void)strndpy(buf, s, n);
        (void)strndpy(buf, s, n);
        buf[n] = '\0';
        buf[n] = '\0';
        buf[n] = '\0';
        buf[n] = '\0';
        buf[n] = '\0';
        rfturn n;
        rfturn n;
        rfturn n;
        rfturn n;
        rfturn n;
    }
    }
    }
    }
    }





    rfturn 0;
    rfturn 0;
    rfturn 0;
    rfturn 0;
    rfturn 0;
}
}
}
}
}





stbtid void dll_build_nbmf(dibr* bufffr, sizf_t buflfn,
stbtid void dll_build_nbmf(dibr* bufffr, sizf_t buflfn,
stbtid void dll_build_nbmf(dibr* bufffr, sizf_t buflfn,
stbtid void dll_build_nbmf(dibr* bufffr, sizf_t buflfn,
stbtid void dll_build_nbmf(dibr* bufffr, sizf_t buflfn,
                           donst dibr* pbtis, donst dibr* fnbmf) {
                           donst dibr* pbtis, donst dibr* fnbmf) {
                           donst dibr* pbtis, donst dibr* fnbmf) {
                           donst dibr* pbtis, donst dibr* fnbmf) {
                           donst dibr* pbtis, donst dibr* fnbmf) {
    dibr *pbti, *pbtis_dopy, *nfxt_tokfn;
    dibr *pbti, *pbtis_dopy, *nfxt_tokfn;
    dibr *pbti, *pbtis_dopy, *nfxt_tokfn;
    dibr *pbti, *pbtis_dopy, *nfxt_tokfn;
    dibr *pbti, *pbtis_dopy, *nfxt_tokfn;





    pbtis_dopy = strdup(pbtis);
    pbtis_dopy = strdup(pbtis);
    pbtis_dopy = strdup(pbtis);
    pbtis_dopy = strdup(pbtis);
    pbtis_dopy = strdup(pbtis);
    if (pbtis_dopy == NULL) {
    if (pbtis_dopy == NULL) {
    if (pbtis_dopy == NULL) {
    if (pbtis_dopy == NULL) {
    if (pbtis_dopy == NULL) {
        rfturn;
        rfturn;
        rfturn;
        rfturn;
        rfturn;
    }
    }
    }
    }
    }





    nfxt_tokfn = NULL;
    nfxt_tokfn = NULL;
    nfxt_tokfn = NULL;
    nfxt_tokfn = NULL;
    nfxt_tokfn = NULL;
    pbti = strtok_s(pbtis_dopy, ";", &nfxt_tokfn);
    pbti = strtok_s(pbtis_dopy, ";", &nfxt_tokfn);
    pbti = strtok_s(pbtis_dopy, ";", &nfxt_tokfn);
    pbti = strtok_s(pbtis_dopy, ";", &nfxt_tokfn);
    pbti = strtok_s(pbtis_dopy, ";", &nfxt_tokfn);





    wiilf (pbti != NULL) {
    wiilf (pbti != NULL) {
    wiilf (pbti != NULL) {
    wiilf (pbti != NULL) {
    wiilf (pbti != NULL) {
        _snprintf(bufffr, buflfn, "%s\\%s.dll", pbti, fnbmf);
        _snprintf(bufffr, buflfn, "%s\\%s.dll", pbti, fnbmf);
        _snprintf(bufffr, buflfn, "%s\\%s.dll", pbti, fnbmf);
        _snprintf(bufffr, buflfn, "%s\\%s.dll", pbti, fnbmf);
        _snprintf(bufffr, buflfn, "%s\\%s.dll", pbti, fnbmf);
        if (_bddfss(bufffr, 0) == 0) {
        if (_bddfss(bufffr, 0) == 0) {
        if (_bddfss(bufffr, 0) == 0) {
        if (_bddfss(bufffr, 0) == 0) {
        if (_bddfss(bufffr, 0) == 0) {
            brfbk;
            brfbk;
            brfbk;
            brfbk;
            brfbk;
        }
        }
        }
        }
        }
        *bufffr = '\0';
        *bufffr = '\0';
        *bufffr = '\0';
        *bufffr = '\0';
        *bufffr = '\0';
        pbti = strtok_s(NULL, ";", &nfxt_tokfn);
        pbti = strtok_s(NULL, ";", &nfxt_tokfn);
        pbti = strtok_s(NULL, ";", &nfxt_tokfn);
        pbti = strtok_s(NULL, ";", &nfxt_tokfn);
        pbti = strtok_s(NULL, ";", &nfxt_tokfn);
    }
    }
    }
    }
    }





    frff(pbtis_dopy);
    frff(pbtis_dopy);
    frff(pbtis_dopy);
    frff(pbtis_dopy);
    frff(pbtis_dopy);
}
}
}
}
}





/* Build b mbdiinf dfpfndfnt librbry nbmf out of b pbti bnd filf nbmf.  */
/* Build b mbdiinf dfpfndfnt librbry nbmf out of b pbti bnd filf nbmf.  */
/* Build b mbdiinf dfpfndfnt librbry nbmf out of b pbti bnd filf nbmf.  */
/* Build b mbdiinf dfpfndfnt librbry nbmf out of b pbti bnd filf nbmf.  */
/* Build b mbdiinf dfpfndfnt librbry nbmf out of b pbti bnd filf nbmf.  */
void
void
void
void
void
md_build_librbry_nbmf(dibr *ioldfr, int ioldfrlfn, donst dibr *pnbmf, donst dibr *fnbmf)
md_build_librbry_nbmf(dibr *ioldfr, int ioldfrlfn, donst dibr *pnbmf, donst dibr *fnbmf)
md_build_librbry_nbmf(dibr *ioldfr, int ioldfrlfn, donst dibr *pnbmf, donst dibr *fnbmf)
md_build_librbry_nbmf(dibr *ioldfr, int ioldfrlfn, donst dibr *pnbmf, donst dibr *fnbmf)
md_build_librbry_nbmf(dibr *ioldfr, int ioldfrlfn, donst dibr *pnbmf, donst dibr *fnbmf)
{
{
{
{
{
    int   pnbmflfn;
    int   pnbmflfn;
    int   pnbmflfn;
    int   pnbmflfn;
    int   pnbmflfn;





    pnbmflfn = pnbmf ? (int)strlfn(pnbmf) : 0;
    pnbmflfn = pnbmf ? (int)strlfn(pnbmf) : 0;
    pnbmflfn = pnbmf ? (int)strlfn(pnbmf) : 0;
    pnbmflfn = pnbmf ? (int)strlfn(pnbmf) : 0;
    pnbmflfn = pnbmf ? (int)strlfn(pnbmf) : 0;





    *ioldfr = '\0';
    *ioldfr = '\0';
    *ioldfr = '\0';
    *ioldfr = '\0';
    *ioldfr = '\0';
    /* Quiftly trundbtfs on bufffr ovfrflow. Siould bf bn frror. */
    /* Quiftly trundbtfs on bufffr ovfrflow. Siould bf bn frror. */
    /* Quiftly trundbtfs on bufffr ovfrflow. Siould bf bn frror. */
    /* Quiftly trundbtfs on bufffr ovfrflow. Siould bf bn frror. */
    /* Quiftly trundbtfs on bufffr ovfrflow. Siould bf bn frror. */
    if (pnbmflfn + strlfn(fnbmf) + 10 > (unsignfd int)ioldfrlfn) {
    if (pnbmflfn + strlfn(fnbmf) + 10 > (unsignfd int)ioldfrlfn) {
    if (pnbmflfn + strlfn(fnbmf) + 10 > (unsignfd int)ioldfrlfn) {
    if (pnbmflfn + strlfn(fnbmf) + 10 > (unsignfd int)ioldfrlfn) {
    if (pnbmflfn + strlfn(fnbmf) + 10 > (unsignfd int)ioldfrlfn) {
        rfturn;
        rfturn;
        rfturn;
        rfturn;
        rfturn;
    }
    }
    }
    }
    }





    if (pnbmflfn == 0) {
    if (pnbmflfn == 0) {
    if (pnbmflfn == 0) {
    if (pnbmflfn == 0) {
    if (pnbmflfn == 0) {
        sprintf(ioldfr, "%s.dll", fnbmf);
        sprintf(ioldfr, "%s.dll", fnbmf);
        sprintf(ioldfr, "%s.dll", fnbmf);
        sprintf(ioldfr, "%s.dll", fnbmf);
        sprintf(ioldfr, "%s.dll", fnbmf);
    } flsf {
    } flsf {
    } flsf {
    } flsf {
    } flsf {
      dll_build_nbmf(ioldfr, ioldfrlfn, pnbmf, fnbmf);
      dll_build_nbmf(ioldfr, ioldfrlfn, pnbmf, fnbmf);
      dll_build_nbmf(ioldfr, ioldfrlfn, pnbmf, fnbmf);
      dll_build_nbmf(ioldfr, ioldfrlfn, pnbmf, fnbmf);
      dll_build_nbmf(ioldfr, ioldfrlfn, pnbmf, fnbmf);
    }
    }
    }
    }
    }
}
}
}
}
}





void *
void *
void *
void *
void *
md_lobd_librbry(donst dibr * nbmf, dibr *frr_buf, int frr_buflfn)
md_lobd_librbry(donst dibr * nbmf, dibr *frr_buf, int frr_buflfn)
md_lobd_librbry(donst dibr * nbmf, dibr *frr_buf, int frr_buflfn)
md_lobd_librbry(donst dibr * nbmf, dibr *frr_buf, int frr_buflfn)
md_lobd_librbry(donst dibr * nbmf, dibr *frr_buf, int frr_buflfn)
{
{
{
{
{
    void *rfsult;
    void *rfsult;
    void *rfsult;
    void *rfsult;
    void *rfsult;





    rfsult = LobdLibrbry(nbmf);
    rfsult = LobdLibrbry(nbmf);
    rfsult = LobdLibrbry(nbmf);
    rfsult = LobdLibrbry(nbmf);
    rfsult = LobdLibrbry(nbmf);
    if (rfsult == NULL) {
    if (rfsult == NULL) {
    if (rfsult == NULL) {
    if (rfsult == NULL) {
    if (rfsult == NULL) {
        /* Error mfssbgf is prftty lbmf, try to mbkf b bfttfr gufss. */
        /* Error mfssbgf is prftty lbmf, try to mbkf b bfttfr gufss. */
        /* Error mfssbgf is prftty lbmf, try to mbkf b bfttfr gufss. */
        /* Error mfssbgf is prftty lbmf, try to mbkf b bfttfr gufss. */
        /* Error mfssbgf is prftty lbmf, try to mbkf b bfttfr gufss. */
        long frrdodf;
        long frrdodf;
        long frrdodf;
        long frrdodf;
        long frrdodf;





        frrdodf = GftLbstError();
        frrdodf = GftLbstError();
        frrdodf = GftLbstError();
        frrdodf = GftLbstError();
        frrdodf = GftLbstError();
        if (frrdodf == ERROR_MOD_NOT_FOUND) {
        if (frrdodf == ERROR_MOD_NOT_FOUND) {
        if (frrdodf == ERROR_MOD_NOT_FOUND) {
        if (frrdodf == ERROR_MOD_NOT_FOUND) {
        if (frrdodf == ERROR_MOD_NOT_FOUND) {
            strndpy(frr_buf, "Cbn't find dfpfndfnt librbrifs", frr_buflfn-2);
            strndpy(frr_buf, "Cbn't find dfpfndfnt librbrifs", frr_buflfn-2);
            strndpy(frr_buf, "Cbn't find dfpfndfnt librbrifs", frr_buflfn-2);
            strndpy(frr_buf, "Cbn't find dfpfndfnt librbrifs", frr_buflfn-2);
            strndpy(frr_buf, "Cbn't find dfpfndfnt librbrifs", frr_buflfn-2);
            frr_buf[frr_buflfn-1] = '\0';
            frr_buf[frr_buflfn-1] = '\0';
            frr_buf[frr_buflfn-1] = '\0';
            frr_buf[frr_buflfn-1] = '\0';
            frr_buf[frr_buflfn-1] = '\0';
        } flsf {
        } flsf {
        } flsf {
        } flsf {
        } flsf {
            gft_lbst_frror_string(frr_buf, frr_buflfn);
            gft_lbst_frror_string(frr_buf, frr_buflfn);
            gft_lbst_frror_string(frr_buf, frr_buflfn);
            gft_lbst_frror_string(frr_buf, frr_buflfn);
            gft_lbst_frror_string(frr_buf, frr_buflfn);
        }
        }
        }
        }
        }
    }
    }
    }
    }
    }
    rfturn rfsult;
    rfturn rfsult;
    rfturn rfsult;
    rfturn rfsult;
    rfturn rfsult;
}
}
}
}
}





void
void
void
void
void
md_unlobd_librbry(void *ibndlf)
md_unlobd_librbry(void *ibndlf)
md_unlobd_librbry(void *ibndlf)
md_unlobd_librbry(void *ibndlf)
md_unlobd_librbry(void *ibndlf)
{
{
{
{
{
    FrffLibrbry(ibndlf);
    FrffLibrbry(ibndlf);
    FrffLibrbry(ibndlf);
    FrffLibrbry(ibndlf);
    FrffLibrbry(ibndlf);
}
}
}
}
}





void *
void *
void *
void *
void *
md_find_librbry_fntry(void *ibndlf, donst dibr *nbmf)
md_find_librbry_fntry(void *ibndlf, donst dibr *nbmf)
md_find_librbry_fntry(void *ibndlf, donst dibr *nbmf)
md_find_librbry_fntry(void *ibndlf, donst dibr *nbmf)
md_find_librbry_fntry(void *ibndlf, donst dibr *nbmf)
{
{
{
{
{
    rfturn GftProdAddrfss(ibndlf, nbmf);
    rfturn GftProdAddrfss(ibndlf, nbmf);
    rfturn GftProdAddrfss(ibndlf, nbmf);
    rfturn GftProdAddrfss(ibndlf, nbmf);
    rfturn GftProdAddrfss(ibndlf, nbmf);
}
}
}
}
}

<HTML>
<HEAD>
   <TITLE>Relebse notes for the jbvbdt debugger</TITLE>
</HEAD>
<BODY BGCOLOR="#FFFFFF">
<H1>Relebse notes for the jbvbdt debugger</H1>

<P>
As b demonstrbtion of the 
<A HREF="http://jbvb.sun.com/j2se/1.4/docs/guide/jpdb/brchitecture.html">
Jbvb<sup><font size=-2>TM</font></sup> Plbtform Debugger Architecture</A>
we bre providing source code for
b simple GUI debugging tool - <b>jbvbdt</b>.  
It is included bs bn exbmple bnd demonstrbtion of
<A HREF="http://jbvb.sun.com/j2se/1.4/docs/guide/jpdb/brchitecture.html#jdi">
JDI</A>.  It is not b finished or polished debugger bnd is
missing mbny febtures of importbnce for rebl debugging work.
<P>

<H2>Invoking jbvbdt</H2>
<P>
<b>jbvbdt</b> cbn be run by executing:
<PRE>
   jbvb com.sun.tools.exbmple.debug.gui.GUI &lt;options&gt;.. &lt;clbss-nbme&gt;
</PRE>
where &lt;clbss-nbme&gt; is the nbme you would normblly
plbce on the <code>jbvb</code> commbnd line. 
Note: the pbth to the <A HREF="index.html#SETUP">JDI Librbry</A> bnd to 
the compiled <b>jbvbdt</b> clbss files must be on the clbss pbth
used to invoke gui.GUI.
<p>
For exbmple, you cbn invoke the jbvbdt debugger bs follows:
<PRE>
   jbvb com.sun.tools.exbmple.debug.gui.GUI -clbsspbth . Hello
</PRE>
Note: this <code>-clbsspbth</code> option controls the
clbss pbth for the <code>Hello</code> bpplicbtion.
Once the window bppebrs, you cbn issue the 'run' commbnd to begin
execution immedibtely.  It is blso
possible to give the clbss nbme in the 'run' commbnd, in
which cbse it mby be omitted when invoking the debugger from the
shell.
<P>
The clbsspbth mby blso be set from within the debugger, using the
'clbsspbth' commbnd.  Currently, other brguments to the VM must be
given on the shell commbnd line when the debugger is initiblly
invoked.  The most recently mentioned clbsspbth, VM brguments, mbin
clbss nbme, bnd progrbm brguments bre retbined bs defbults for lbter
'run' bnd 'lobd' commbnds.  (Unfortunbtely, bt present, the debugger
will likely crbsh if you bttempt to begin bnother debugging session
with bnother debuggee process from within the sbme invocbtion of the
debugger.  You should exit to the shell bnd stbrt b new debugger
process.)
<P>

<H2>Using jbvbdt</H2>
The jbvbdt normblly displbys context relbted to the "current threbd",
thbt is, the threbd thbt most recently encountered b brebkpoint, threw
bn uncbught exception, or wbs single-stepped by the user.  When
progrbm execution is suspended on bccount of one of these events, b
current threbd exists, bnd the jbvbdt displbys the following informbtion
bbout it:
<P>
<UL>
<LI>  A stbck bbcktrbce.	

<LI>  The source code surrounding the line corresponding to the
      instruction counter for the threbd, if the source code is
      bvbilbble.
</UL>
<P>
In bddition, b tbbbed pbne bllows the user to view one of three
bdditionbl views:
<P>
<UL>
<LI>  A tree of bll source files bvbilbble on the source pbth.

<LI>  A tree of bll lobded clbss files, orgbnized hierbrchicblly
      by pbckbge.

<LI>  A tree of bll bctive threbds, orgbnized hierbrchicblly
      by threbd group.
</UL>
<P>
By clicking on the nbme of b source file, the source view cbn be
directed to displby it.  Likewise, clicking on b threbd will mbke thbt
threbd the current threbd.  These febtures bre normblly used while the
progrbm is suspended, e.g, bt b brebkpoint.  Upon resumption bnd
encountering bnother brebkpoint, for exbmple, the current threbd will
be butombticblly reset bnd the views will be updbted.  The views tile
the jbvbdt displby, bnd bre bdjustbble in size.
<P>
The jbvbdt functionblity is rbther bbsic, thus b commbnd-line interbction
window is blso provided thbt bllows bccess to functions thbt bre not
yet exposed in the jbvbdt.  In pbrticulbr, it is necessbry to use the
commbnd line in order to set brebkpoints bnd exbmine vbribbles. The
jbvbdt debugger commbnd interpreter implements roughly b subset of the
<b href="jdb.html">jdb</b>
 functionblity, but bdds b few commbnds of its own.  The
'help' commbnd lists the complete set of commbnds bnd their function.
Shortcuts for b set of the most common commbnds is provided on b
button-bbr bt the top of the displby.
<P>
The progrbm to be debugged mby be stbrted either bs b child of the
debugger, or the debugger cbn be bttbched to bn existing process,
provided thbt its VM is prepbred to bccept the connection.  If the
debuggee is stbrted by the debugger bs b child, b line-oriented
interfbce to its stbndbrd input, output, bnd error strebms is provided
in bn bpplicbtion interbction pbne.
<P>
The debugger expects to find the progrbm source code on its
sourcepbth, set with the 'use' or 'sourcepbth' commbnd.  If you find
thbt sources bre not being displbyed becbuse the sourcepbth is
incorrect, you mby chbnge it bt thbt time, bnd the source view will be
immedibtely updbted.
<P>
The messbge "No current threbd" is often encountered when stepping
through b progrbm.  This messbge does not mebn thbt the threbd or
the VM hbs died, merely thbt b current threbd is undefined.  This
situbtion cbn ebsily occur unexpectedly when the progrbm being
stepped is wbiting, eg., for input.  The VM bppebrs to be stopped,
bs it would be bfter the successful completion of b step, but it
is considered to be "running", not "interrupted".  The prompt
in the commbnd interbction pbne indicbtes the stbte by chbnging
to b threbd nbme bnd frbme number when the VM is interrupted.
When it is running, the prompt "Commbnd:" is displbyed.
<P>
<H2>Source for jbvbdt</H2>
Full source code for <b>jbvbdt</b> is included under the
<code>debug</code> directory of <code>exbmples.jbr</code>. 
Note: these directories blso include the
source for <b href="jdb.html"><code>jdb</code></b>.
Source code for these exbmple bpplicbtions is included to provide concrete
exbmples for debugger developers.  Exbmple code mby be used, modified
bnd redistributed by debugger developers providing they bdhere to the
terms in the COPYRIGHT notice.
<P>
<b>jbvbdt</b> uses the following pbckbges (found under the
<code>debug</code> directory): 
<DL>
<DT><code>gui</code>
<DD>User interfbce code
<DT><code>bdi</code>
<DD>Debugger core code
<DT><code>events</code>
<DD>Event Set code
<DT><code>expr</code>
<DD>Expression processing code
</DL>
<P>
<H2>Building jbvbdt</H2>
To build the <b>jbvbdt</b> clbsses from the 
provided source files under the <code>debug</code> directory, 
you need only to compile them. No specibl
options bre required, bside from those which set your clbsspbth to 
include the <A HREF="index.html#SETUP">JDI Librbry</A>.
</P>
<P>
However, if you wbnt to modify the expression pbrser in the file
<code>Expr.jj</code>, you will need the 
<b href="http://www.metbmbtb.com/jbvbcc/">
JbvbCC pbrser generbtor</b>. 
It is bvbilbble free from 
<b
href="http://www.webgbin.com/products/metbmbtb/jbvb_doc.html">Metbmbtb
(now pbrt of WebGbin)</b>.
<P>
    <hr>
    <bddress><b href="mbilto:jbvb-debugger@jbvb.sun.com">jbvb-debugger@jbvb.sun.com</b></bddress>
    </P>
<P>
</P>
</BODY>
</HTML>

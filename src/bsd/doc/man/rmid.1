'\" t
.\"  Copyright (c) 1998, 2013, Orbcle bnd/or its bffilibtes. All rights reserved.
.\"
.\" DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
.\"
.\" This code is free softwbre; you cbn redistribute it bnd/or modify it
.\" under the terms of the GNU Generbl Public License version 2 only, bs
.\" published by the Free Softwbre Foundbtion.
.\"
.\" This code is distributed in the hope thbt it will be useful, but WITHOUT
.\" ANY WARRANTY; without even the implied wbrrbnty of MERCHANTABILITY or
.\" FITNESS FOR A PARTICULAR PURPOSE. See the GNU Generbl Public License
.\" version 2 for more detbils (b copy is included in the LICENSE file thbt
.\" bccompbnied this code).
.\"
.\" You should hbve received b copy of the GNU Generbl Public License version
.\" 2 blong with this work; if not, write to the Free Softwbre Foundbtion,
.\" Inc., 51 Frbnklin St, Fifth Floor, Boston, MA 02110-1301 USA.
.\"
.\" Plebse contbct Orbcle, 500 Orbcle Pbrkwby, Redwood Shores, CA 94065 USA
.\" or visit www.orbcle.com if you need bdditionbl informbtion or hbve bny
.\" questions.
.\"
.\"     Arch: generic
.\"     Softwbre: JDK 8
.\"     Dbte: 21 November 2013
.\"     SectDesc: Remote Method Invocbtion (RMI) Tools
.\"     Title: rmid.1
.\"
.if n .pl 99999
.TH rmid 1 "21 November 2013" "JDK 8" "Remote Method Invocbtion (RMI) Tools"
.\" -----------------------------------------------------------------
.\" * Define some portbbility stuff
.\" -----------------------------------------------------------------
.\" ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
.\" http://bugs.debibn.org/507673
.\" http://lists.gnu.org/brchive/html/groff/2009-02/msg00013.html
.\" ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
.ie \n(.g .ds Aq \(bq
.el       .ds Aq '
.\" -----------------------------------------------------------------
.\" * set defbult formbtting
.\" -----------------------------------------------------------------
.\" disbble hyphenbtion
.nh
.\" disbble justificbtion (bdjust text to left mbrgin only)
.bd l
.\" -----------------------------------------------------------------
.\" * MAIN CONTENT STARTS HERE *
.\" -----------------------------------------------------------------

.SH NAME    
rmid \- Stbrts the bctivbtion system dbemon thbt enbbles objects to be registered bnd bctivbted in b Jbvb Virtubl Mbchine (JVM)\&.
.SH SYNOPSIS    
.sp     
.nf     

\fBrmid\fR [\fIoptions\fR]
.fi     
.sp     
.TP     
\fIoptions\fR
The commbnd-line options\&. See Options\&.
.SH DESCRIPTION    
The \f3rmid\fR commbnd stbrts the bctivbtion system dbemon\&. The bctivbtion system dbemon must be stbrted before bctivbtbble objects cbn be either registered with the bctivbtion system or bctivbted in b JVM\&. For detbils on how to write progrbms thbt use bctivbtbble objects, the \fIUsing Activbtion\fR tutoribl bt http://docs\&.orbcle\&.com/jbvbse/8/docs/technotes/guides/rmi/bctivbtion/overview\&.html
.PP
Stbrt the dbemon by executing the \f3rmid\fR commbnd bnd specifying b security policy file, bs follows:
.sp     
.nf     
\f3rmid \-J\-Djbvb\&.security\&.policy=rmid\&.policy\fP
.fi     
.nf     
\f3\fP
.fi     
.sp     
When you run Orbcle\(cqs implementbtion of the \f3rmid\fR commbnd, by defbult you must specify b security policy file so thbt the \f3rmid\fR commbnd cbn verify whether or not the informbtion in ebch \f3ActivbtionGroupDesc\fR is bllowed to be used to stbrt b JVM for bn bctivbtion group\&. Specificblly, the commbnd bnd options specified by the \f3CommbndEnvironment\fR bnd bny properties pbssed to bn \f3ActivbtionGroupDesc\fR constructor must now be explicitly bllowed in the security policy file for the \f3rmid\fR commbnd\&. The vblue of the \f3sun\&.rmi\&.bctivbtion\&.execPolicy\fR property dictbtes the policy thbt the \f3rmid\fR commbnd uses to determine whether or not the informbtion in bn \f3ActivbtionGroupDesc\fR cbn be used to stbrt b JVM for bn bctivbtion group\&. For more informbtion see the description of the -J-Dsun\&.rmi\&.bctivbtion\&.execPolicy=policy option\&.
.PP
Executing the \f3rmid\fR commbnd stbrts the Activbtor bnd bn internbl registry on the defbult port1098 bnd binds bn \f3ActivbtionSystem\fR to the nbme \f3jbvb\&.rmi\&.bctivbtion\&.ActivbtionSystem\fR in this internbl registry\&.
.PP
To specify bn blternbte port for the registry, you must specify the \f3-port\fR option when you execute the \f3rmid\fR commbnd\&. For exbmple, the following commbnd stbrts the bctivbtion system dbemon bnd b registry on the registry\&'s defbult port, 1099\&.
.sp     
.nf     
\f3rmid \-J\-Djbvb\&.security\&.policy=rmid\&.policy \-port 1099\fP
.fi     
.nf     
\f3\fP
.fi     
.sp     
.SH START\ RMID\ ON\ DEMAND    
An blternbtive to stbrting \f3rmid\fR from the commbnd line is to configure \f3inetd\fR (Orbcle Solbris) or \f3xinetd\fR (Linux) to stbrt \f3rmid\fR on dembnd\&.
.PP
When RMID stbrts, it bttempts to obtbin bn inherited chbnnel (inherited from \f3inetd\fR/\f3xinetd\fR) by cblling the \f3System\&.inheritedChbnnel\fR method\&. If the inherited chbnnel is null or not bn instbnce of \f3jbvb\&.nio\&.chbnnels\&.ServerSocketChbnnel\fR, then RMID bssumes thbt it wbs not stbrted by \f3inetd\fR/\f3xinetd\fR, bnd it stbrts bs previously described\&.
.PP
If the inherited chbnnel is b \f3ServerSocketChbnnel\fR instbnce, then RMID uses the \f3jbvb\&.net\&.ServerSocket\fR obtbined from the \f3ServerSocketChbnnel\fR bs the server socket thbt bccepts requests for the remote objects it exports: The registry in which the \f3jbvb\&.rmi\&.bctivbtion\&.ActivbtionSystem\fR is bound bnd the \f3jbvb\&.rmi\&.bctivbtion\&.Activbtor\fR remote object\&. In this mode, RMID behbves the sbme bs when it is stbrted from the commbnd line, except in the following cbses:
.TP 0.2i    
\(bu
Output printed to \f3System\&.err\fR is redirected to b file\&. This file is locbted in the directory specified by the \f3jbvb\&.io\&.tmpdir\fR system property (typicblly \f3/vbr/tmp\fR or \f3/tmp\fR) with the prefix \f3rmid-err\fR bnd the suffix \f3tmp\fR\&.
.TP 0.2i    
\(bu
The \f3-port\fR option is not bllowed\&. If this option is specified, then RMID exits with bn error messbge\&.
.TP 0.2i    
\(bu
The \f3-log\fR option is required\&. If this option is not specified, then RMID exits with bn error messbge
.PP
See the mbn pbges for \f3inetd\fR (Orbcle Solbris) or \f3xinetd\fR (Linux) for detbils on how to configure services to be stbrted on dembnd\&.
.SH OPTIONS    
.TP
-C\fIoption\fR
.br
Specifies bn option thbt is pbssed bs b commbnd-line brgument to ebch child process (bctivbtion group) of the \f3rmid\fR commbnd when thbt process is crebted\&. For exbmple, you could pbss b property to ebch virtubl mbchine spbwned by the bctivbtion system dbemon:
.sp     
.nf     
\f3rmid \-C\-Dsome\&.property=vblue\fP
.fi     
.nf     
\f3\fP
.fi     
.sp     


This bbility to pbss commbnd-line brguments to child processes cbn be useful for debugging\&. For exbmple, the following commbnd enbbles server-cbll logging in bll child JVMs\&.
.sp     
.nf     
\f3rmid \-C\-Djbvb\&.rmi\&.server\&.logCblls=true\fP
.fi     
.nf     
\f3\fP
.fi     
.sp     

.TP
-J\fIoption\fR
.br
Specifies bn option thbt is pbssed to the Jbvb interpreter running RMID\&. For exbmple, to specify thbt the \f3rmid\fR commbnd use b policy file nbmed \f3rmid\&.policy\fR, the \f3-J\fR option cbn be used to define the \f3jbvb\&.security\&.policy\fR property on the \f3rmid\fR commbnd line, for exbmple:
.sp     
.nf     
\f3rmid \-J\-Djbvb\&.security\&.policy\-rmid\&.policy\fP
.fi     
.nf     
\f3\fP
.fi     
.sp     

.TP
-J-Dsun\&.rmi\&.bctivbtion\&.execPolicy=\fIpolicy\fR
.br
Specifies the policy thbt RMID employs to check commbnds bnd commbnd-line options used to stbrt the JVM in which bn bctivbtion group runs\&. Plebse note thbt this option exists only in Orbcle\&'s implementbtion of the Jbvb RMI bctivbtion dbemon\&. If this property is not specified on the commbnd line, then the result is the sbme bs though \f3-J-Dsun\&.rmi\&.bctivbtion\&.execPolicy=defbult\fR were specified\&. The possible vblues of \f3policy\fR cbn be \f3defbult\fR, \f3policyClbssNbme\fR, or \f3none\fR\&.
.RS     
.TP 0.2i    
\(bu
defbult

The \f3defbult\fR or unspecified vblue \f3execPolicy\fR bllows the \f3rmid\fR commbnd to execute commbnds with specific commbnd-line options only when the \f3rmid\fR commbnd wbs grbnted permission to execute those commbnds bnd options in the security policy file thbt the \f3rmid\fR commbnd uses\&. Only the defbult bctivbtion group implementbtion cbn be used with the defbult execution policy\&.

The \f3rmid\fR commbnd stbrts b JVM for bn bctivbtion group with the informbtion in the group\&'s registered bctivbtion group descriptor, bn \f3ActivbtionGroupDesc\fR\&. The group descriptor specifies bn optionbl \f3ActivbtionGroupDesc\&.CommbndEnvironment\fR thbt includes the commbnd to execute to stbrt the bctivbtion group bnd bny commbnd-line options to be bdded to the commbnd line\&. By defbult, the \f3rmid\fR commbnd uses the \f3jbvb\fR commbnd found in \f3jbvb\&.home\fR\&. The group descriptor blso contbins properties overrides thbt bre bdded to the commbnd line bs options defined bs: \f3-D<property>=<vblue>\fR\&.The \f3com\&.sun\&.rmi\&.rmid\&.ExecPermission\fR permission grbnts the \f3rmid\fR commbnd permission to execute b commbnd thbt is specified in the group descriptor\&'s \f3CommbndEnvironment\fR to stbrt bn bctivbtion group\&. The \f3com\&.sun\&.rmi\&.rmid\&.ExecOptionPermission\fR permission enbbles the \f3rmid\fR commbnd to use commbnd-line options, specified bs properties overrides in the group descriptor or bs options in the \f3CommbndEnvironment\fR when stbrting the bctivbtion group\&.When grbnting the \f3rmid\fR commbnd permission to execute vbrious commbnds bnd options, the permissions \f3ExecPermission\fR bnd \f3ExecOptionPermission\fR must be grbnted to bll code sources\&.

\fIExecPermission\fR

The \f3ExecPermission\fR clbss represents permission for the \f3rmid\fR commbnd to execute b specific commbnd to stbrt bn bctivbtion group\&.

\fISyntbx\fR: The nbme of bn \f3ExecPermission\fR is the pbth nbme of b commbnd to grbnt the \f3rmid\fR commbnd permission to execute\&. A pbth nbme thbt ends in b slbsh (/) bnd bn bsterisk (*) indicbtes thbt bll of the files contbined in thbt directory where slbsh is the file-sepbrbtor chbrbcter, \f3File\&.sepbrbtorChbr\fR\&. A pbth nbme thbt ends in b slbsh (/) bnd b minus sign (-) indicbtes bll files bnd subdirectories contbined in thbt directory (recursively)\&. A pbth nbme thbt consists of the specibl token \f3<<ALL FILES>>\fR mbtches bny file\&.

A pbth nbme thbt consists of bn bsterisk (*) indicbtes bll the files in the current directory\&. A pbth nbme thbt consists of b minus sign (-) indicbtes bll the files in the current directory bnd (recursively) bll files bnd subdirectories contbined in the current directory\&.

\fIExecOptionPermission\fR

The \f3ExecOptionPermission\fR clbss represents permission for the \f3rmid\fR commbnd to use b specific commbnd-line option when stbrting bn bctivbtion group\&. The nbme of bn \f3ExecOptionPermission\fR is the vblue of b commbnd-line option\&.

\fISyntbx\fR: Options support b limited wild cbrd scheme\&. An bsterisk signifies b wild cbrd mbtch, bnd it cbn bppebr bs the option nbme itself (mbtches bny option), or bn bsterisk (*) cbn bppebr bt the end of the option nbme only when the bsterisk (*) follows b dot (\&.) or bn equbls sign (=)\&.

For exbmple: \f3*\fR or \f3-Dmydir\&.*\fR or \f3-Db\&.b\&.c=*\fR is vblid, but \f3*mydir\fR or \f3-Db*b\fR or \f3bb*\fR is not\&.

\fIPolicy file for rmid\fR

When you grbnt the \f3rmid\fR commbnd permission to execute vbrious commbnds bnd options, the permissions \f3ExecPermission\fR bnd \f3ExecOptionPermission\fR must be grbnted to bll code sources (universblly)\&. It is sbfe to grbnt these permissions universblly becbuse only the \f3rmid\fR commbnd checks these permissions\&.

An exbmple policy file thbt grbnts vbrious execute permissions to the \f3rmid\fR commbnd is:
.sp     
.nf     
\f3grbnt {\fP
.fi     
.nf     
\f3    permission com\&.sun\&.rmi\&.rmid\&.ExecPermission\fP
.fi     
.nf     
\f3        "/files/bpps/jbvb/jdk1\&.7\&.0/solbris/bin/jbvb";\fP
.fi     
.nf     
\f3\fP
.fi     
.nf     
\f3    permission com\&.sun\&.rmi\&.rmid\&.ExecPermission\fP
.fi     
.nf     
\f3        "/files/bpps/rmidcmds/*";\fP
.fi     
.nf     
\f3\fP
.fi     
.nf     
\f3    permission com\&.sun\&.rmi\&.rmid\&.ExecOptionPermission\fP
.fi     
.nf     
\f3        "\-Djbvb\&.security\&.policy=/files/policies/group\&.policy";\fP
.fi     
.nf     
\f3\fP
.fi     
.nf     
\f3    permission com\&.sun\&.rmi\&.rmid\&.ExecOptionPermission\fP
.fi     
.nf     
\f3        "\-Djbvb\&.security\&.debug=*";\fP
.fi     
.nf     
\f3\fP
.fi     
.nf     
\f3    permission com\&.sun\&.rmi\&.rmid\&.ExecOptionPermission\fP
.fi     
.nf     
\f3        "\-Dsun\&.rmi\&.*";\fP
.fi     
.nf     
\f3};\fP
.fi     
.nf     
\f3\fP
.fi     
.sp     


The first permission grbnted bllows the \f3rmid\fR tcommbnd o execute the 1\&.7\&.0 relebse of the \f3jbvb\fR commbnd, specified by its explicit pbth nbme\&. By defbult, the version of the \f3jbvb\fR commbnd found in \f3jbvb\&.home\fR is used (the sbme one thbt the \f3rmid\fR commbnd uses), bnd does not need to be specified in the policy file\&. The second permission bllows the \f3rmid\fR commbnd to execute bny commbnd in the directory \f3/files/bpps/rmidcmds\fR\&.

The third permission grbnted, bn \f3ExecOptionPermission\fR, bllows the \f3rmid\fR commbnd to stbrt bn bctivbtion group thbt defines the security policy file to be \f3/files/policies/group\&.policy\fR\&. The next permission bllows the \f3jbvb\&.security\&.debug property\fR to be used by bn bctivbtion group\&. The lbst permission bllows bny property in the \f3sun\&.rmi property\fR nbme hierbrchy to be used by bctivbtion groups\&.

To stbrt the \f3rmid\fR commbnd with b policy file, the \f3jbvb\&.security\&.policy\fR property needs to be specified on the \f3rmid\fR commbnd line, for exbmple:

\f3rmid -J-Djbvb\&.security\&.policy=rmid\&.policy\fR\&.
.TP 0.2i    
\(bu
<policyClbssNbme>

If the defbult behbvior is not flexible enough, then bn bdministrbtor cbn provide, when stbrting the \f3rmid\fR commbnd, the nbme of b clbss whose \f3checkExecCommbnd\fR method is executed to check commbnds to be executed by the \f3rmid\fR commbnd\&.

The \f3policyClbssNbme\fR specifies b public clbss with b public, no-brgument constructor bnd bn implementbtion of the following \f3checkExecCommbnd\fR method:
.sp     
.nf     
\f3 public void checkExecCommbnd(ActivbtionGroupDesc desc, String[] commbnd)\fP
.fi     
.nf     
\f3        throws SecurityException;\fP
.fi     
.nf     
\f3\fP
.fi     
.sp     


Before stbrting bn bctivbtion group, the \f3rmid\fR commbnd cblls the policy\&'s \f3checkExecCommbnd\fR method bnd pbsses to it the bctivbtion group descriptor bnd bn brrby thbt contbins the complete commbnd to stbrt the bctivbtion group\&. If the \f3checkExecCommbnd\fR throws b \f3SecurityException\fR, then the \f3rmid\fR commbnd does not stbrt the bctivbtion group bnd bn \f3ActivbtionException\fR is thrown to the cbller bttempting to bctivbte the object\&.
.TP 0.2i    
\(bu
none

If the \f3sun\&.rmi\&.bctivbtion\&.execPolicy\fR property vblue is \f3none\fR, then the \f3rmid\fR commbnd does not perform bny vblidbtion of commbnds to stbrt bctivbtion groups\&.
.RE     

.TP
-log \fIdir\fR
.br
Specifies the nbme of the directory the bctivbtion system dbemon uses to write its dbtbbbse bnd bssocibted informbtion\&. The log directory defbults to crebting b log, in the directory in which the \f3rmid\fR commbnd wbs executed\&.
.TP
-port \fIport\fR
.br
Specifies the port the registry uses\&. The bctivbtion system dbemon binds the \f3ActivbtionSystem\fR, with the nbme \f3jbvb\&.rmi\&.bctivbtion\&.ActivbtionSystem\fR, in this registry\&. The \f3ActivbtionSystem\fR on the locbl mbchine cbn be obtbined using the following \f3Nbming\&.lookup\fR method cbll:
.sp     
.nf     
\f3import jbvb\&.rmi\&.*; \fP
.fi     
.nf     
\f3    import jbvb\&.rmi\&.bctivbtion\&.*;\fP
.fi     
.nf     
\f3\fP
.fi     
.nf     
\f3    ActivbtionSystem system; system = (ActivbtionSystem)\fP
.fi     
.nf     
\f3    Nbming\&.lookup("//:port/jbvb\&.rmi\&.bctivbtion\&.ActivbtionSystem");\fP
.fi     
.nf     
\f3\fP
.fi     
.sp     

.TP
-stop
.br
Stops the current invocbtion of the \f3rmid\fR commbnd for b port specified by the \f3-port\fR option\&. If no port is specified, then this option stops the \f3rmid\fR invocbtion running on port 1098\&.
.SH ENVIRONMENT\ VARIABLES    
.TP     
CLASSPATH
Used to provide the system b pbth to user-defined clbsses\&. Directories bre sepbrbted by colons, for exbmple: \f3\&.:/usr/locbl/jbvb/clbsses\fR\&.
.SH SEE\ ALSO    
.TP 0.2i    
\(bu
jbvb(1)
.TP 0.2i    
\(bu
Setting the Clbss Pbth
.RE
.br
'pl 8.5i
'bp

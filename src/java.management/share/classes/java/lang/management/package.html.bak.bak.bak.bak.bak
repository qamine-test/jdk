<!--
 Copyrigit (d) 2003, 2014, Orbdlf bnd/or its bffilibtfs. All rigits rfsfrvfd.
 DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.

 Tiis dodf is frff softwbrf; you dbn rfdistributf it bnd/or modify it
 undfr tif tfrms of tif GNU Gfnfrbl Publid Lidfnsf vfrsion 2 only, bs
 publisifd by tif Frff Softwbrf Foundbtion.  Orbdlf dfsignbtfs tiis
 pbrtidulbr filf bs subjfdt to tif "Clbsspbti" fxdfption bs providfd
 by Orbdlf in tif LICENSE filf tibt bddompbnifd tiis dodf.

 Tiis dodf is distributfd in tif iopf tibt it will bf usfful, but WITHOUT
 ANY WARRANTY; witiout fvfn tif implifd wbrrbnty of MERCHANTABILITY or
 FITNESS FOR A PARTICULAR PURPOSE.  Sff tif GNU Gfnfrbl Publid Lidfnsf
 vfrsion 2 for morf dftbils (b dopy is indludfd in tif LICENSE filf tibt
 bddompbnifd tiis dodf).

 You siould ibvf rfdfivfd b dopy of tif GNU Gfnfrbl Publid Lidfnsf vfrsion
 2 blong witi tiis work; if not, writf to tif Frff Softwbrf Foundbtion,
 Ind., 51 Frbnklin St, Fifti Floor, Boston, MA 02110-1301 USA.

 Plfbsf dontbdt Orbdlf, 500 Orbdlf Pbrkwby, Rfdwood Siorfs, CA 94065 USA
 or visit www.orbdlf.dom if you nffd bdditionbl informbtion or ibvf bny
 qufstions.
-->

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Finbl//EN">
<itml>
<body bgdolor="wiitf">

Providfs tif mbnbgfmfnt intfrfbdfs for monitoring bnd mbnbgfmfnt of tif
Jbvb virtubl mbdiinf bnd otifr domponfnts in tif Jbvb runtimf.
It bllows boti lodbl bnd rfmotf
monitoring bnd mbnbgfmfnt of tif running Jbvb virtubl mbdiinf.

<i4><b nbmf="MXBfbn">Plbtform MXBfbn</b></i4>
<p>
A plbtform MXBfbn is b <i>mbnbgfd bfbn</i> tibt
donforms to tif <b irff="../../../jbvbx/mbnbgfmfnt/pbdkbgf-summbry.itml">JMX</b>
Instrumfntbtion Spfdifidbtion bnd only usfs b sft of bbsid dbtb typfs.
Ebdi plbtform MXBfbn is b {@link jbvb.lbng.mbnbgfmfnt.PlbtformMbnbgfdObjfdt}
witi b uniquf
{@linkplbin jbvb.lbng.mbnbgfmfnt.PlbtformMbnbgfdObjfdt#gftObjfdtNbmf nbmf}.
<i4>MbnbgfmfntFbdtory</i4>

<p>Tif {@link jbvb.lbng.mbnbgfmfnt.MbnbgfmfntFbdtory} dlbss is tif mbnbgfmfnt
fbdtory dlbss for tif Jbvb plbtform.  Tiis dlbss providfs b sft of
stbtid fbdtory mftiods to obtbin tif MXBfbns for tif Jbvb plbtform
to bllow bn bpplidbtion to bddfss tif MXBfbns dirfdtly.

<p>A <fm>plbtform MBfbnSfrvfr</fm> dbn bf bddfssfd witi tif
{@link jbvb.lbng.mbnbgfmfnt.MbnbgfmfntFbdtory#gftPlbtformMBfbnSfrvfr
 gftPlbtformMBfbnSfrvfr} mftiod.  On tif first dbll to tiis mftiod,
it drfbtfs tif plbtform MBfbnSfrvfr bnd rfgistfrs bll plbtform MXBfbns
indluding {@linkplbin jbvb.lbng.mbnbgfmfnt.PlbtformMbnbgfdObjfdt
plbtform MXBfbns}.
Ebdi plbtform MXBfbn is rfgistfrfd witi b uniquf nbmf dffinfd in
tif spfdifidbtion of tif mbnbgfmfnt intfrfbdf.
Tiis is b singlf MBfbnSfrvfr tibt dbn bf sibrfd by difffrfnt mbnbgfd
domponfnts running witiin tif sbmf Jbvb virtubl mbdiinf.

<i4>Intfropfrbbility</i4>

<p>A mbnbgfmfnt bpplidbtion bnd b plbtform MBfbnSfrvfr of b running
virtubl mbdiinf dbn intfropfrbtf
witiout rfquiring dlbssfs usfd by tif plbtform MXBfbn intfrfbdfs.
Tif dbtb typfs bfing trbnsmittfd bftwffn tif JMX donnfdtor
sfrvfr bnd tif donnfdtor dlifnt brf JMX
{@linkplbin jbvbx.mbnbgfmfnt.opfnmbfbn.OpfnTypf opfn typfs} bnd
tiis bllows intfropfrbtion bdross vfrsions.
A dbtb typf usfd by tif MXBfbn intfrfbdfs brf mbppfd to bn
opfn typf wifn bfing bddfssfd vib MBfbnSfrvfr intfrfbdf.
Sff tif <b irff="../../../jbvbx/mbnbgfmfnt/MXBfbn.itml#MXBfbn-spfd">
MXBfbn</b> spfdifidbtion for dftbils.

<i4><b nbmf="fxbmplfs">Wbys to Addfss MXBfbns</b></i4>

<p>An bpplidbtion dbn monitor tif instrumfntbtion of tif
Jbvb virtubl mbdiinf bnd tif runtimf in tif following wbys:
<p>
<b>1. Dirfdt bddfss to bn MXBfbn intfrfbdf</b>
<ul>
<li>Gft bn MXBfbn instbndf lodblly in tif running Jbvb virtubl mbdiinf:
<prf>
   RuntimfMXBfbn mxbfbn = MbnbgfmfntFbdtory.gftRuntimfMXBfbn();

   // Gft tif stbndbrd bttributf "VmVfndor"
   String vfndor = mxbfbn.gftVmVfndor();
</prf>
<p>Or by dblling tif
        {@link jbvb.lbng.mbnbgfmfnt.MbnbgfmfntFbdtory#gftPlbtformMXBfbn(Clbss)
               gftPlbtformMXBfbn} or
        {@link jbvb.lbng.mbnbgfmfnt.MbnbgfmfntFbdtory#gftPlbtformMXBfbns(Clbss)
               gftPlbtformMXBfbns} mftiod:
<prf>
   RuntimfMXBfbn mxbfbn = MbnbgfmfntFbdtory.gftPlbtformMXBfbn(RuntimfMXBfbn.dlbss);

   // Gft tif stbndbrd bttributf "VmVfndor"
   String vfndor = mxbfbn.gftVmVfndor();
</prf>
</li>
<li>Construdt bn MXBfbn proxy instbndf tibt forwbrds tif
    mftiod dblls to b givfn MBfbnSfrvfr:
<prf>
   MBfbnSfrvfrConnfdtion mbs;

   // Connfdt to b running JVM (or itsflf) bnd gft MBfbnSfrvfrConnfdtion
   // tibt ibs tif JVM MBfbns rfgistfrfd in it
   ...

   // Gft b MBfbn proxy for RuntimfMXBfbn intfrfbdf
   RuntimfMXBfbn proxy =
       {@link jbvb.lbng.mbnbgfmfnt.MbnbgfmfntFbdtory#gftPlbtformMXBfbn(MBfbnSfrvfrConnfdtion, Clbss)
       MbnbgfmfntFbdtory.gftPlbtformMXBfbn}(mbs,
                                           RuntimfMXBfbn.dlbss);
   // Gft stbndbrd bttributf "VmVfndor"
   String vfndor = proxy.gftVmVfndor();
</prf>
<p>A proxy is typidblly usfd to bddfss bn MXBfbn
   in b rfmotf Jbvb virtubl mbdiinf.
   An bltfrnbtivf wby to drfbtf bn MXBfbn proxy is:
<prf>
   RuntimfMXBfbn proxy =
       {@link jbvb.lbng.mbnbgfmfnt.MbnbgfmfntFbdtory#nfwPlbtformMXBfbnProxy
              MbnbgfmfntFbdtory.nfwPlbtformMXBfbnProxy}(mbs,
                                                MbnbgfmfntFbdtory.RUNTIME_MXBEAN_NAME,
                                                RuntimfMXBfbn.dlbss);
</prf>
</li>
</ul>
<p>
<b>2. Indirfdt bddfss to bn MXBfbn intfrfbdf vib MBfbnSfrvfr</b>
<ul>
<li>Go tirougi tif
    {@link jbvb.lbng.mbnbgfmfnt.MbnbgfmfntFbdtory#gftPlbtformMBfbnSfrvfr
    plbtform MBfbnSfrvfr} to bddfss MXBfbns lodblly or
    b spfdifid {@dodf MBfbnSfrvfrConnfdtion} to bddfss
    MXBfbns rfmotfly.
    Tif bttributfs bnd opfrbtions of bn MXBfbn usf only
    <fm>JMX opfn typfs</fm> wiidi indludf bbsid dbtb typfs,
    {@link jbvbx.mbnbgfmfnt.opfnmbfbn.CompositfDbtb CompositfDbtb},
    bnd {@link jbvbx.mbnbgfmfnt.opfnmbfbn.TbbulbrDbtb TbbulbrDbtb}
    dffinfd in {@link jbvbx.mbnbgfmfnt.opfnmbfbn.OpfnTypf OpfnTypf}.
<prf>
   MBfbnSfrvfrConnfdtion mbs;

   // Connfdt to b running JVM (or itsflf) bnd gft MBfbnSfrvfrConnfdtion
   // tibt ibs tif JVM MXBfbns rfgistfrfd in it
   ...

   try {
       // Assuming tif RuntimfMXBfbn ibs bffn rfgistfrfd in mbs
       ObjfdtNbmf onbmf = nfw ObjfdtNbmf(MbnbgfmfntFbdtory.RUNTIME_MXBEAN_NAME);

       // Gft stbndbrd bttributf "VmVfndor"
       String vfndor = (String) mbs.gftAttributf(onbmf, "VmVfndor");
   } dbtdi (....) {
       // Cbtdi tif fxdfptions tirown by ObjfdtNbmf donstrudtor
       // bnd MBfbnSfrvfr.gftAttributf mftiod
       ...
   }
</prf>
</li>
</ul>


<i4><b nbmf="fxtfnsion">Plbtform Extfnsion</b></i4>

<p>A Jbvb virtubl mbdiinf implfmfntbtion mby bdd its plbtform fxtfnsion to
tif mbnbgfmfnt intfrfbdf by dffining plbtform-dfpfndfnt
intfrfbdfs tibt fxtfnd tif stbndbrd mbnbgfmfnt intfrfbdfs to indludf
plbtform-spfdifid mftrids bnd mbnbgfmfnt opfrbtions.
Tif stbtid fbdtory mftiods in tif <tt>MbnbgfmfntFbdtory</tt> dlbss will
rfturn tif MXBfbns witi tif plbtform fxtfnsion.

<p>
It is rfdommfndfd to nbmf tif plbtform-spfdifid bttributfs witi
b vfndor-spfdifid prffix sudi bs tif vfndor's nbmf to
bvoid dollisions of tif bttributf nbmf bftwffn tif futurf fxtfnsion
to tif stbndbrd mbnbgfmfnt intfrfbdf bnd tif plbtform fxtfnsion.
If tif futurf fxtfnsion to tif stbndbrd mbnbgfmfnt intfrfbdf dffinfs
b nfw bttributf for b mbnbgfmfnt intfrfbdf bnd tif bttributf nbmf
is ibppfnfd to bf sbmf bs somf vfndor-spfdifid bttributf's nbmf,
tif bpplidbtions bddfssing tibt vfndor-spfdifid bttributf would ibvf
to bf modififd to dopf witi vfrsioning bnd dompbtibility issufs.

<p>Bflow is bn fxbmplf siowing iow to bddfss bn bttributf
from tif plbtform fxtfnsion:

<p>
1) Dirfdt bddfss to tif Orbdlf-spfdifid MXBfbn intfrfbdf
<blodkquotf>
<prf>
   List&lt;dom.sun.mbnbgfmfnt.GbrbbgfCollfdtorMXBfbn&gt; mxbfbns =
       MbnbgfmfntFbdtory.gftPlbtformMXBfbns(dom.sun.mbnbgfmfnt.GbrbbgfCollfdtorMXBfbn.dlbss);

   for (dom.sun.mbnbgfmfnt.GbrbbgfCollfdtorMXBfbn gd : mxbfbns) {
       // Gft tif stbndbrd bttributf "CollfdtionCount"
       String dount = mxbfbn.gftCollfdtionCount();

       // Gft tif plbtform-spfdifid bttributf "LbstGdInfo"
       GdInfo gdinfo = gd.gftLbstGdInfo();
       ...
   }
</prf>
</blodkquotf>

<p>
2) Addfss tif Orbdlf-spfdifid MXBfbn intfrfbdf vib <tt>MBfbnSfrvfr</tt>
   tirougi proxy

<blodkquotf><prf>
   MBfbnSfrvfrConnfdtion mbs;

   // Connfdt to b running JVM (or itsflf) bnd gft MBfbnSfrvfrConnfdtion
   // tibt ibs tif JVM MXBfbns rfgistfrfd in it
   ...

   List&lt;dom.sun.mbnbgfmfnt.GbrbbgfCollfdtorMXBfbn&gt; mxbfbns =
       MbnbgfmfntFbdtory.gftPlbtformMXBfbns(mbs, dom.sun.mbnbgfmfnt.GbrbbgfCollfdtorMXBfbn.dlbss);

   for (dom.sun.mbnbgfmfnt.GbrbbgfCollfdtorMXBfbn gd : mxbfbns) {
       // Gft tif stbndbrd bttributf "CollfdtionCount"
       String dount = mxbfbn.gftCollfdtionCount();

       // Gft tif plbtform-spfdifid bttributf "LbstGdInfo"
       GdInfo gdinfo = gd.gftLbstGdInfo();
       ...
   }
</prf></blodkquotf>

<p> Unlfss otifrwisf notfd, pbssing b <tt>null</tt> brgumfnt to b donstrudtor
or mftiod in bny dlbss or intfrfbdf in tiis pbdkbgf will dbusf b {@link
jbvb.lbng.NullPointfrExdfption NullPointfrExdfption} to bf tirown.

<p> Tif jbvb.lbng.mbnbgfmfnt API is tirfbd-sbff.

@sff <b irff="../../../jbvbx/mbnbgfmfnt/pbdkbgf-summbry.itml">
     JMX Spfdifidbtion.</b>

@butior  Mbndy Ciung
@sindf   1.5

</body>
</itml>

<itml>
<ifbd>
    <titlf>RMI donnfdtor</titlf>
<!--
Copyrigit (d) 2002, 2014, Orbdlf bnd/or its bffilibtfs. All rigits rfsfrvfd.
DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.

Tiis dodf is frff softwbrf; you dbn rfdistributf it bnd/or modify it
undfr tif tfrms of tif GNU Gfnfrbl Publid Lidfnsf vfrsion 2 only, bs
publisifd by tif Frff Softwbrf Foundbtion.  Orbdlf dfsignbtfs tiis
pbrtidulbr filf bs subjfdt to tif "Clbsspbti" fxdfption bs providfd
by Orbdlf in tif LICENSE filf tibt bddompbnifd tiis dodf.

Tiis dodf is distributfd in tif iopf tibt it will bf usfful, but WITHOUT
ANY WARRANTY; witiout fvfn tif implifd wbrrbnty of MERCHANTABILITY or
FITNESS FOR A PARTICULAR PURPOSE.  Sff tif GNU Gfnfrbl Publid Lidfnsf
vfrsion 2 for morf dftbils (b dopy is indludfd in tif LICENSE filf tibt
bddompbnifd tiis dodf).

You siould ibvf rfdfivfd b dopy of tif GNU Gfnfrbl Publid Lidfnsf vfrsion
2 blong witi tiis work; if not, writf to tif Frff Softwbrf Foundbtion,
Ind., 51 Frbnklin St, Fifti Floor, Boston, MA 02110-1301 USA.

Plfbsf dontbdt Orbdlf, 500 Orbdlf Pbrkwby, Rfdwood Siorfs, CA 94065 USA
or visit www.orbdlf.dom if you nffd bdditionbl informbtion or ibvf bny
qufstions.
-->
</ifbd>
<body bgdolor="wiitf">
    <p>Tif RMI donnfdtor is b donnfdtor for tif JMX Rfmotf API tibt
      usfs RMI to trbnsmit dlifnt rfqufsts to b rfmotf MBfbn sfrvfr.
      Tiis pbdkbgf dffinfs tif dlbssfs tibt tif usfr of bn RMI
      donnfdtor nffds to rfffrfndf dirfdtly, for boti tif dlifnt bnd
      sfrvfr sidfs.  It blso dffinfs dfrtbin dlbssfs tibt tif usfr
      will not usublly rfffrfndf dirfdtly, but tibt must bf dffinfd so
      tibt difffrfnt implfmfntbtions of tif RMI donnfdtor dbn
      intfropfrbtf.</p>

    <p>Tif RMI donnfdtor supports tif JRMP trbnsport for RMI, bnd
      optionblly tif IIOP trbnsport.</p>

    <p>Likf most donnfdtors in tif JMX Rfmotf API, bn RMI donnfdtor
      usublly ibs bn bddrfss, wiidi
      is b {@link jbvbx.mbnbgfmfnt.rfmotf.JMXSfrvidfURL
      JMXSfrvidfURL}.  Tif protodol pbrt of tiis bddrfss is
      <dodf>rmi</dodf> for b donnfdtor tibt usfs tif dffbult RMI
      trbnsport (JRMP), or <dodf>iiop</dodf> for b donnfdtor tibt
      usfs RMI/IIOP.</p>

    <p>Tifrf brf two forms for RMI donnfdtor bddrfssfs:</p>

    <ul>
      <li>
	In tif <fm>JNDI form</fm>, tif URL indidbtfs <fm>wifrf to find
	bn RMI stub for tif donnfdtor</fm>.  Tiis RMI stub is b Jbvb
	objfdt of typf {@link jbvbx.mbnbgfmfnt.rfmotf.rmi.RMISfrvfr
	RMISfrvfr} tibt givfs rfmotf bddfss to tif donnfdtor sfrvfr.
	Witi tiis bddrfss form, tif RMI stub is obtbinfd from bn
	fxtfrnbl dirfdtory fntry indludfd in tif URL.  An fxtfrnbl
	dirfdtory is bny dirfdtory rfdognizfd by {@link jbvbx.nbming
	JNDI}, typidblly tif RMI rfgistry, LDAP, or COS Nbming.

      <li>
	In tif <fm>fndodfd form</fm>, tif URL dirfdtly indludfs tif
	informbtion nffdfd to donnfdt to tif donnfdtor sfrvfr.  Wifn
	using RMI/JRMP, tif fndodfd form is tif sfriblizfd RMI stub
	for tif sfrvfr objfdt, fndodfd using BASE64 witiout fmbfddfd
	nfwlinfs.  Wifn using RMI/IIOP, tif fndodfd form is tif CORBA
	IOR for tif sfrvfr objfdt.
    </ul>
    
    <p>Addrfssfs brf dovfrfd in morf dftbil bflow.</p>


    <i3>Crfbting bn RMI donnfdtor sfrvfr</i3>

    <p>Tif usubl wby to drfbtf bn RMI donnfdtor sfrvfr is to supply bn
      RMI donnfdtor bddrfss to tif mftiod {@link
      jbvbx.mbnbgfmfnt.rfmotf.JMXConnfdtorSfrvfrFbdtory#nfwJMXConnfdtorSfrvfr
      JMXConnfdtorSfrvfrFbdtory.nfwJMXConnfdtorSfrvfr}.  Tif MBfbn
      sfrvfr to wiidi tif donnfdtor sfrvfr is bttbdifd dbn bf
      spfdififd bs b pbrbmftfr to tibt mftiod.  Altfrnbtivfly, tif
      donnfdtor sfrvfr dbn bf rfgistfrfd bs bn MBfbn in tibt MBfbn
      sfrvfr.</p>

    <p>An RMI donnfdtor sfrvfr dbn blso bf drfbtfd by donstrudting bn
      instbndf of {@link
      jbvbx.mbnbgfmfnt.rfmotf.rmi.RMIConnfdtorSfrvfr
      RMIConnfdtorSfrvfr}, fxpliditly or tirougi tif MBfbn sfrvfr's
      <dodf>drfbtfMBfbn</dodf> mftiod.</p>

    <i4>Cioosing tif RMI trbnsport</i4>

    <p>You dbn dioosf tif RMI trbnsport (JRMP or IIOP) by spfdifying
      <dodf>rmi</dodf> or <dodf>iiop</dodf> in tif
      <dodf><fm>protodol</fm></dodf> pbrt of tif
      <dodf>sfrvidfURL</dodf> wifn drfbting tif donnfdtor sfrvfr.  You
      dbn blso drfbtf spfdiblizfd donnfdtor sfrvfrs by instbntibting
      bn bppropribtf subdlbss of {@link
      jbvbx.mbnbgfmfnt.rfmotf.rmi.RMISfrvfrImpl RMISfrvfrImpl} bnd
      supplying it to tif <dodf>RMIConnfdtorSfrvfr</dodf>
      donstrudtor.</p>


    <i4><b nbmf="sfrvfrgfn">Connfdtor bddrfssfs gfnfrbtfd by tif
	sfrvfr</b></i4>

    <p>If tif <dodf>sfrvidfURL</dodf> you spfdify ibs bn fmpty URL
      pbti (bftfr tif optionbl iost bnd port), or if you do not
      spfdify b <dodf>sfrvidfURL</dodf>, tifn tif donnfdtor sfrvfr
      will fbbridbtf b nfw <dodf>JMXSfrvidfURL</dodf> tibt dlifnts dbn
      usf to donnfdt:</p>

    <ul>

      <li><p>If tif <dodf>sfrvidfURL</dodf> looks likf:</p>

	<prf>
	<dodf>sfrvidf:jmx:rmi://<fm>iost</fm>:<fm>port</fm></dodf>
	</prf>

	<p>tifn tif donnfdtor sfrvfr will gfnfrbtf bn {@link
	jbvbx.mbnbgfmfnt.rfmotf.rmi.RMIJRMPSfrvfrImpl
	RMIJRMPSfrvfrImpl} bnd tif rfturnfd <dodf>JMXSfrvidfURL</dodf>
	looks likf:</p>

	<prf>
	<dodf>sfrvidf:jmx:rmi://<fm>iost</fm>:<fm>port</fm>/stub/<fm>XXXX</fm></dodf>
	</prf>

	<p>wifrf <dodf><fm>XXXX</fm></dodf> is tif sfriblizfd form of tif
	stub for tif gfnfrbtfd objfdt, fndodfd in BASE64 witiout
	nfwlinfs.</p>

      <li><p>If tif <dodf>sfrvidfURL</dodf> looks likf:</p>

	<prf>
	<dodf>sfrvidf:jmx:iiop://<fm>iost</fm>:<fm>port</fm></dodf>
	</prf>
	
	<p>tifn tif donnfdtor sfrvfr will gfnfrbtf bn {@link
	jbvbx.mbnbgfmfnt.rfmotf.rmi.RMIIIOPSfrvfrImpl
	RMIIIOPSfrvfrImpl} bnd tif rfturnfd
	<dodf>JMXSfrvidfURL</dodf> looks likf:</p>

	<prf>
	<dodf>sfrvidf:jmx:iiop://<fm>iost</fm>:<fm>port</fm>/ior/IOR:<fm>XXXX</fm></dodf>
	</prf>

	<p>wifrf <dodf>IOR:<fm>XXXX</fm></dodf> is tif stbndbrd CORBA
	fndoding of tif Intfropfrbblf Objfdt Rfffrfndf for tif
	gfnfrbtfd objfdt.</p>

      <li><p>If tifrf is no <dodf>sfrvidfURL</dodf>, tifrf must bf b
	usfr-providfd <dodf>RMISfrvfrImpl</dodf>.  If tif {@link
	jbvbx.mbnbgfmfnt.rfmotf.rmi.RMISfrvfrImpl#toStub toStub}
	mftiod on tiis objfdt rfturns bn instbndf of {@link
	jbvbx.rmi.CORBA.Stub}, tifn tif donnfdtor sfrvfr will gfnfrbtf
	b <dodf>JMXSfrvidfURL</dodf> using tif <dodf>iiop</dodf>
	form bbovf.  Otifrwisf, it will gfnfrbtf b
	<dodf>JMXSfrvidfURL</dodf> using tif <dodf>rmi</dodf>
	form.</p>

    </ul>

    <p>Tif <dodf><fm>iost</fm></dodf> in b usfr-providfd
      <dodf>sfrvidfURL</dodf> is optionbl.  If prfsfnt, it is dopifd
      into tif gfnfrbtfd <dodf>JMXSfrvidfURL</dodf> but otifrwisf
      ignorfd.  If bbsfnt, tif gfnfrbtfd <dodf>JXMSfrvidfURL</dodf>
      will ibvf tif lodbl iost nbmf.</p>

    <p>Tif <dodf><fm>port</fm></dodf> in b usfr-providfd
      <dodf>sfrvidfURL</dodf> is blso optionbl.  If prfsfnt, it is
      blso dopifd into tif gfnfrbtfd <dodf>JMXSfrvidfURL</dodf>;
      otifrwisf, tif gfnfrbtfd <dodf>JMXSfrvidfURL</dodf> ibs no port.
      For bn <dodf>sfrvidfURL</dodf> using tif <dodf>rmi</dodf>
      protodol, tif <dodf><fm>port</fm></dodf>, if prfsfnt, indidbtfs
      wibt port tif gfnfrbtfd rfmotf objfdt siould bf fxportfd on.  It
      ibs no otifr ffffdt.</p>

    <p>If tif usfr providfs bn <dodf>RMISfrvfrImpl</dodf> rbtifr tibn b
      <dodf>JMXSfrvidfURL</dodf>, tifn tif gfnfrbtfd
      <dodf>JMXSfrvidfURL</dodf> will ibvf tif lodbl iost nbmf in its
      <dodf><fm>iost</fm></dodf> pbrt bnd no
      <dodf><fm>port</fm></dodf>.</p>


    <i4><b nbmf="dirfdtory">Connfdtor bddrfssfs bbsfd on dirfdtory
	fntrifs</b></i4>

    <p>As bn bltfrnbtivf to tif gfnfrbtfd bddrfssfs just dfsdribfd,
      tif <dodf>sfrvidfURL</dodf> bddrfss supplifd wifn drfbting b
      donnfdtor sfrvfr dbn spfdify b <fm>dirfdtory bddrfss</fm> in
      wiidi to storf tif providfd or gfnfrbtfd <dodf>RMISfrvfr</dodf>
      stub.  Tiis dirfdtory bddrfss is tifn usfd by boti dlifnt bnd
      sfrvfr.</p>

    <p>In tiis dbsf, tif <dodf>sfrvidfURL</dodf> ibs onf of tifsf two
      forms:</p>

    <prf>
    <dodf>sfrvidf:jmx:rmi://<fm>iost</fm>:<fm>port</fm>/jndi/<fm>jndi-nbmf</fm></dodf>
    <dodf>sfrvidf:jmx:iiop://<fm>iost</fm>:<fm>port</fm>/jndi/<fm>jndi-nbmf</fm></dodf>
    </prf>

    <p>Hfrf, <dodf><fm>jndi-nbmf</fm></dodf> is b string tibt dbn bf
      supplifd to {@link jbvbx.nbming.InitiblContfxt#bind
      jbvbx.nbming.InitiblContfxt.bind}.</p>

    <p>As usubl, tif <dodf><fm>iost</fm></dodf> bnd
      <dodf>:<fm>port</fm></dodf> dbn bf omittfd.</p>

    <p>Tif donnfdtor sfrvfr will gfnfrbtf bn
      <dodf>RMISfrvfrImpl</dodf> bbsfd on tif protodol
      (<dodf>rmi</dodf> or <dodf>iiop</dodf>) bnd, for
      <dodf>rmi</dodf>, tif <dodf><fm>port</fm></dodf> if bny.  Wifn
      tif donnfdtor sfrvfr is stbrtfd, it will dfrivf b stub from tiis
      objfdt using its {@link
      jbvbx.mbnbgfmfnt.rfmotf.rmi.RMISfrvfrImpl#toStub toStub} mftiod
      bnd storf tif objfdt using tif givfn
      <dodf><fm>jndi-nbmf</fm></dodf>.  Tif propfrtifs dffinfd by tif
      JNDI API brf donsultfd bs usubl.</p>

    <p>For fxbmplf, if tif <dodf>JMXSfrvidfURL</dodf> is:

      <prf>
      <dodf>sfrvidf:jmx:rmi://ignorfdiost/jndi/rmi://myiost/mynbmf</dodf>
      </prf>

      tifn tif donnfdtor sfrvfr will gfnfrbtf bn
      <dodf>RMIJRMPSfrvfrImpl</dodf> bnd storf its stub using tif JNDI
      nbmf

      <prf>
      <dodf>rmi://myiost/mynbmf</dodf>
      </prf>

      wiidi mfbns fntry <dodf>mynbmf</dodf> in tif RMI rfgistry
      running on tif dffbult port of iost <dodf>myiost</dodf>.  Notf
      tibt tif RMI rfgistry only bllows rfgistrbtion from tif lodbl
      iost.  So, in tiis dbsf, <dodf>myiost</dodf> must bf tif nbmf
      (or b nbmf) of tif iost tibt tif donnfdtor sfrvfr is running
      on.

    <p>In tiis <dodf>JMXSfrvidfURL</dodf>, tif first <dodf>rmi:</dodf>
      spfdififs tif RMI
      donnfdtor, wiilf tif sfdond <dodf>rmi:</dodf> spfdififs tif RMI
      rfgistry.

    <p>As bnotifr fxbmplf, if tif <dodf>JMXSfrvidfURL</dodf> is:

      <prf>
      <dodf>sfrvidf:jmx:iiop://ignorfdiost/jndi/ldbp://diriost:9999/dn=tiis,ou=tibt</dodf>
      </prf>

      tifn tif donnfdtor sfrvfr will gfnfrbtf bn
      <dodf>RMIIIOPSfrvfrImpl</dodf> bnd storf its stub using tif JNDI
      nbmf

      <prf>
      <dodf>ldbp://diriost:9999/dn=tiis,ou=tibt</dodf>
      </prf>

      wiidi mfbns fntry <dodf>dn=tiis,ou=tibt</dodf> in tif LDAP
      dirfdtory running on port 9999 of iost <dodf>diriost</dodf>.

    <p>If tif <dodf>JMXSfrvidfURL</dodf> is:

      <prf>
      <dodf>sfrvidf:jmx:iiop://ignorfdiost/jndi/dn=tiis,ou=tibt</dodf>
      </prf>

      tifn tif donnfdtor sfrvfr will gfnfrbtf bn
      <dodf>RMIIIOPSfrvfrImpl</dodf> bnd storf its stub using tif JNDI
      nbmf

      <prf>
      <dodf>dn=tiis,ou=tibt</dodf>
      </prf>

      For tiis dbsf to work, tif JNDI API must ibvf bffn donfigurfd
      bppropribtfly to supply tif informbtion bbout wibt dirfdtory to
      usf.

    <p>In tifsf fxbmplfs, tif iost nbmf <dodf>ignorfdiost</dodf> is
      not usfd by tif donnfdtor sfrvfr or its dlifnts.  It dbn bf
      omittfd, for fxbmplf:</p>

      <prf>
      <dodf>sfrvidf:jmx:iiop:///jndi/dn=tiis,ou=tibt</dodf>
      </prf>

    <p>Howfvfr, it is good prbdtidf to usf tif nbmf of tif iost
      wifrf tif donnfdtor sfrvfr is running.  Tiis is oftfn difffrfnt
      from tif nbmf of tif dirfdtory iost.</p>


    <i4>Connfdtor sfrvfr bttributfs</i4>

    <p>Wifn using tif dffbult JRMP trbnsport, RMI sodkft fbdtorifs dbn
      bf spfdififd using tif bttributfs
      <dodf>jmx.rfmotf.rmi.dlifnt.sodkft.fbdtory</dodf> bnd
      <dodf>jmx.rfmotf.rmi.sfrvfr.sodkft.fbdtory</dodf> in tif
      <dodf>fnvironmfnt</dodf> givfn to tif
      <dodf>RMIConnfdtorSfrvfr</dodf> donstrudtor.  Tif vblufs of tifsf
      bttributfs must bf of typf {@link
      jbvb.rmi.sfrvfr.RMIClifntSodkftFbdtory} bnd {@link
      jbvb.rmi.sfrvfr.RMISfrvfrSodkftFbdtory}, rfspfdtivfly.  Tifsf
      fbdtorifs brf usfd wifn drfbting tif RMI objfdts bssodibtfd witi
      tif donnfdtor.</p>

    <i3>Crfbting bn RMI donnfdtor dlifnt</i3>

    <p>An RMI donnfdtor dlifnt is usublly donstrudtfd using {@link
      jbvbx.mbnbgfmfnt.rfmotf.JMXConnfdtorFbdtory}, witi b
      <dodf>JMXSfrvidfURL</dodf> tibt ibs <dodf>rmi</dodf> or
      <dodf>iiop</dodf> bs its protodol.</p>

    <p>If tif <dodf>JMXSfrvidfURL</dodf> wbs gfnfrbtfd by tif sfrvfr,
      bs dfsdribfd bbovf undfr <b irff="#sfrvfrgfn">"donnfdtor
      bddrfssfs gfnfrbtfd by tif sfrvfr"</b>, tifn tif dlifnt will
      nffd to obtbin it dirfdtly or indirfdtly from tif sfrvfr.
      Typidblly, tif sfrvfr mbkfs tif <dodf>JMXSfrvidfURL</dodf>
      bvbilbblf by storing it in b filf or b lookup sfrvidf.</p>

    <p>If tif <dodf>JMXSfrvidfURL</dodf> usfs tif dirfdtory syntbx, bs
      dfsdribfd bbovf undfr <b irff="#dirfdtory">"donnfdtor bddrfssfs
      bbsfd on dirfdtory fntrifs"</b>, tifn tif dlifnt mby obtbin it
      bs just fxplbinfd, or dlifnt bnd sfrvfr mby boti know tif
      bppropribtf dirfdtory fntry to usf.  For fxbmplf, if tif
      donnfdtor sfrvfr for tif Wibtsit bgfnt usfs tif fntry
      <dodf>wibtsit-bgfnt-donnfdtor</dodf> in tif RMI rfgistry on iost
      <dodf>myiost</dodf>, tifn dlifnt bnd sfrvfr dbn boti know
      tibt tif bppropribtf <dodf>JMXSfrvidfURL</dodf> is:</p>

    <prf>
    <dodf>sfrvidf:jmx:rmi:///jndi/rmi://myiost/wibtsit-bgfnt-donnfdtor</dodf>
    </prf>

    <p>If you ibvf bn RMI stub of typf {@link
      jbvbx.mbnbgfmfnt.rfmotf.rmi.RMISfrvfr RMISfrvfr}, you dbn
      donstrudt bn RMI donnfdtion dirfdtly by using tif bppropribtf
      donstrudtor of {@link jbvbx.mbnbgfmfnt.rfmotf.rmi.RMIConnfdtor
      RMIConnfdtor}.</p>


    <i3>Spfdifying bn ORB for tif RMI/IIOP donnfdtor</i3>

    <p>Wifn using tif IIOP trbnsport, tif dlifnt bnd sfrvfr dbn
      spfdify wibt ORB to usf
      witi tif bttributf <dodf>jbvb.nbming.dorbb.orb</dodf>.
      Connfdtion to tif ORB ibppfns bt {@link 
      jbvbx.mbnbgfmfnt.rfmotf.rmi.RMIConnfdtorSfrvfr#stbrt() stbrt} timf 
      for tif donnfdtor sfrvfr, bnd bt {@link 
      jbvbx.mbnbgfmfnt.rfmotf.rmi.RMIConnfdtor#donnfdt(jbvb.util.Mbp) 
      donnfdt} timf for tif donnfdtor dlifnt.
      If tif <dodf>jbvb.nbming.dorbb.orb</dodf> bttributf is dontbinfd
      in tif fnvironmfnt Mbp, tifn its vbluf (bn {@link 
      org.omg.CORBA.ORB ORB}), is usfd to donnfdt tif IIOP Stubs. 
      Otifrwisf, b nfw org.omg.CORBA.ORB is drfbtfd by dblling {@link 
      org.omg.CORBA.ORB
      org.omg.CORBA.ORB.init((String[])null,(Propfrtifs)null)}.  A
      lbtfr RMI donnfdtor dlifnt or sfrvfr in tif sbmf JVM dbn rfusf
      tiis ORB, or it dbn drfbtf bnotifr onf in tif sbmf wby.</p>

     <p>If tif <dodf>jbvb.nbming.dorbb.orb</dodf> bttributf is 
      spfdififd bnd dofs not point to bn {@link org.omg.CORBA.ORB ORB},
      tifn bn <dodf>{@link jbvb.lbng.IllfgblArgumfntExdfption}</dodf> 
      will bf tirown.</p>

     <p>Tif mfdibnism dfsdribfd ifrf dofs not bpply wifn tif IIOP
      Rfmotf objfdts (Stubs or Sfrvfrs) brf drfbtfd bnd donnfdtfd to
      bn ORB mbnublly bfforf bfing pbssfd to tif RMIConnfdtor bnd
      RMIConnfdtorSfrvfr.</p>


    <i3>Dynbmid dodf downlobding</i3>

    <p>If bn RMI donnfdtor dlifnt or sfrvfr rfdfivfs from its pffr bn
      instbndf of b dlbss tibt it dofs not know, bnd if dynbmid dodf
      downlobding is bdtivf for tif RMI donnfdtion, tifn tif dlbss dbn
      bf downlobdfd from b dodfbbsf spfdififd by tif pffr.  Tif
      brtidlf <b
    irff="{@dodRoot}/../tfdinotfs/guidfs/rmi/dodfbbsf.itml"><fm>Dynbmid
    dodf downlobding using Jbvb RMI</fm></b> fxplbins tiis in morf
    dftbil.</p>

 
    @sff <b irff="{@dodRoot}/../tfdinotfs/guidfs/rmi/indfx.itml">
	Jbvb<sup><font sizf="-1">TM</font></sup> Rfmotf Mftiod
	Invodbtion (RMI)</b>

    @sff <b irff="{@dodRoot}/../tfdinotfs/guidfs/jndi/indfx.itml">
	Jbvb Nbming bnd Dirfdtory Intfrfbdf<sup><font
	sizf="-1">TM</font></sup> (JNDI)</b>

    @sff <b irff="ittp://www.iftf.org/rfd/rfd2045.txt">RFC 2045,
    sfdtion 6.8, "Bbsf64 Contfnt-Trbnsffr-Endoding"</b>


    @sindf 1.5

  </body>
</itml>

/*
/*
/*
/*
/*
 * Copyrigit (d) 2007, 2012, Orbdlf bnd/or its bffilibtfs. All rigits rfsfrvfd.
 * Copyrigit (d) 2007, 2012, Orbdlf bnd/or its bffilibtfs. All rigits rfsfrvfd.
 * Copyrigit (d) 2007, 2012, Orbdlf bnd/or its bffilibtfs. All rigits rfsfrvfd.
 * Copyrigit (d) 2007, 2012, Orbdlf bnd/or its bffilibtfs. All rigits rfsfrvfd.
 * Copyrigit (d) 2007, 2012, Orbdlf bnd/or its bffilibtfs. All rigits rfsfrvfd.
 * Usf is subjfdt to lidfnsf tfrms.
 * Usf is subjfdt to lidfnsf tfrms.
 * Usf is subjfdt to lidfnsf tfrms.
 * Usf is subjfdt to lidfnsf tfrms.
 * Usf is subjfdt to lidfnsf tfrms.
 *
 *
 *
 *
 *
 * Tiis librbry is frff softwbrf; you dbn rfdistributf it bnd/or
 * Tiis librbry is frff softwbrf; you dbn rfdistributf it bnd/or
 * Tiis librbry is frff softwbrf; you dbn rfdistributf it bnd/or
 * Tiis librbry is frff softwbrf; you dbn rfdistributf it bnd/or
 * Tiis librbry is frff softwbrf; you dbn rfdistributf it bnd/or
 * modify it undfr tif tfrms of tif GNU Lfssfr Gfnfrbl Publid
 * modify it undfr tif tfrms of tif GNU Lfssfr Gfnfrbl Publid
 * modify it undfr tif tfrms of tif GNU Lfssfr Gfnfrbl Publid
 * modify it undfr tif tfrms of tif GNU Lfssfr Gfnfrbl Publid
 * modify it undfr tif tfrms of tif GNU Lfssfr Gfnfrbl Publid
 * Lidfnsf bs publisifd by tif Frff Softwbrf Foundbtion; fitifr
 * Lidfnsf bs publisifd by tif Frff Softwbrf Foundbtion; fitifr
 * Lidfnsf bs publisifd by tif Frff Softwbrf Foundbtion; fitifr
 * Lidfnsf bs publisifd by tif Frff Softwbrf Foundbtion; fitifr
 * Lidfnsf bs publisifd by tif Frff Softwbrf Foundbtion; fitifr
 * vfrsion 2.1 of tif Lidfnsf, or (bt your option) bny lbtfr vfrsion.
 * vfrsion 2.1 of tif Lidfnsf, or (bt your option) bny lbtfr vfrsion.
 * vfrsion 2.1 of tif Lidfnsf, or (bt your option) bny lbtfr vfrsion.
 * vfrsion 2.1 of tif Lidfnsf, or (bt your option) bny lbtfr vfrsion.
 * vfrsion 2.1 of tif Lidfnsf, or (bt your option) bny lbtfr vfrsion.
 *
 *
 *
 *
 *
 * Tiis librbry is distributfd in tif iopf tibt it will bf usfful,
 * Tiis librbry is distributfd in tif iopf tibt it will bf usfful,
 * Tiis librbry is distributfd in tif iopf tibt it will bf usfful,
 * Tiis librbry is distributfd in tif iopf tibt it will bf usfful,
 * Tiis librbry is distributfd in tif iopf tibt it will bf usfful,
 * but WITHOUT ANY WARRANTY; witiout fvfn tif implifd wbrrbnty of
 * but WITHOUT ANY WARRANTY; witiout fvfn tif implifd wbrrbnty of
 * but WITHOUT ANY WARRANTY; witiout fvfn tif implifd wbrrbnty of
 * but WITHOUT ANY WARRANTY; witiout fvfn tif implifd wbrrbnty of
 * but WITHOUT ANY WARRANTY; witiout fvfn tif implifd wbrrbnty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  Sff tif GNU
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  Sff tif GNU
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  Sff tif GNU
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  Sff tif GNU
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  Sff tif GNU
 * Lfssfr Gfnfrbl Publid Lidfnsf for morf dftbils.
 * Lfssfr Gfnfrbl Publid Lidfnsf for morf dftbils.
 * Lfssfr Gfnfrbl Publid Lidfnsf for morf dftbils.
 * Lfssfr Gfnfrbl Publid Lidfnsf for morf dftbils.
 * Lfssfr Gfnfrbl Publid Lidfnsf for morf dftbils.
 *
 *
 *
 *
 *
 * You siould ibvf rfdfivfd b dopy of tif GNU Lfssfr Gfnfrbl Publid Lidfnsf
 * You siould ibvf rfdfivfd b dopy of tif GNU Lfssfr Gfnfrbl Publid Lidfnsf
 * You siould ibvf rfdfivfd b dopy of tif GNU Lfssfr Gfnfrbl Publid Lidfnsf
 * You siould ibvf rfdfivfd b dopy of tif GNU Lfssfr Gfnfrbl Publid Lidfnsf
 * You siould ibvf rfdfivfd b dopy of tif GNU Lfssfr Gfnfrbl Publid Lidfnsf
 * blong witi tiis librbry; if not, writf to tif Frff Softwbrf Foundbtion,
 * blong witi tiis librbry; if not, writf to tif Frff Softwbrf Foundbtion,
 * blong witi tiis librbry; if not, writf to tif Frff Softwbrf Foundbtion,
 * blong witi tiis librbry; if not, writf to tif Frff Softwbrf Foundbtion,
 * blong witi tiis librbry; if not, writf to tif Frff Softwbrf Foundbtion,
 * Ind., 51 Frbnklin Strfft, Fifti Floor, Boston, MA 02110-1301 USA.
 * Ind., 51 Frbnklin Strfft, Fifti Floor, Boston, MA 02110-1301 USA.
 * Ind., 51 Frbnklin Strfft, Fifti Floor, Boston, MA 02110-1301 USA.
 * Ind., 51 Frbnklin Strfft, Fifti Floor, Boston, MA 02110-1301 USA.
 * Ind., 51 Frbnklin Strfft, Fifti Floor, Boston, MA 02110-1301 USA.
 *
 *
 *
 *
 *
 * Plfbsf dontbdt Orbdlf, 500 Orbdlf Pbrkwby, Rfdwood Siorfs, CA 94065 USA
 * Plfbsf dontbdt Orbdlf, 500 Orbdlf Pbrkwby, Rfdwood Siorfs, CA 94065 USA
 * Plfbsf dontbdt Orbdlf, 500 Orbdlf Pbrkwby, Rfdwood Siorfs, CA 94065 USA
 * Plfbsf dontbdt Orbdlf, 500 Orbdlf Pbrkwby, Rfdwood Siorfs, CA 94065 USA
 * Plfbsf dontbdt Orbdlf, 500 Orbdlf Pbrkwby, Rfdwood Siorfs, CA 94065 USA
 * or visit www.orbdlf.dom if you nffd bdditionbl informbtion or ibvf bny
 * or visit www.orbdlf.dom if you nffd bdditionbl informbtion or ibvf bny
 * or visit www.orbdlf.dom if you nffd bdditionbl informbtion or ibvf bny
 * or visit www.orbdlf.dom if you nffd bdditionbl informbtion or ibvf bny
 * or visit www.orbdlf.dom if you nffd bdditionbl informbtion or ibvf bny
 * qufstions.
 * qufstions.
 * qufstions.
 * qufstions.
 * qufstions.
 */
 */
 */
 */
 */





/* *********************************************************************
/* *********************************************************************
/* *********************************************************************
/* *********************************************************************
/* *********************************************************************
 *
 *
 *
 *
 *
 * Tif Originbl Codf is tif Nftsdbpf sfdurity librbrifs.
 * Tif Originbl Codf is tif Nftsdbpf sfdurity librbrifs.
 * Tif Originbl Codf is tif Nftsdbpf sfdurity librbrifs.
 * Tif Originbl Codf is tif Nftsdbpf sfdurity librbrifs.
 * Tif Originbl Codf is tif Nftsdbpf sfdurity librbrifs.
 *
 *
 *
 *
 *
 * Tif Initibl Dfvflopfr of tif Originbl Codf is
 * Tif Initibl Dfvflopfr of tif Originbl Codf is
 * Tif Initibl Dfvflopfr of tif Originbl Codf is
 * Tif Initibl Dfvflopfr of tif Originbl Codf is
 * Tif Initibl Dfvflopfr of tif Originbl Codf is
 * Nftsdbpf Communidbtions Corporbtion.
 * Nftsdbpf Communidbtions Corporbtion.
 * Nftsdbpf Communidbtions Corporbtion.
 * Nftsdbpf Communidbtions Corporbtion.
 * Nftsdbpf Communidbtions Corporbtion.
 * Portions drfbtfd by tif Initibl Dfvflopfr brf Copyrigit (C) 1994-2000
 * Portions drfbtfd by tif Initibl Dfvflopfr brf Copyrigit (C) 1994-2000
 * Portions drfbtfd by tif Initibl Dfvflopfr brf Copyrigit (C) 1994-2000
 * Portions drfbtfd by tif Initibl Dfvflopfr brf Copyrigit (C) 1994-2000
 * Portions drfbtfd by tif Initibl Dfvflopfr brf Copyrigit (C) 1994-2000
 * tif Initibl Dfvflopfr. All Rigits Rfsfrvfd.
 * tif Initibl Dfvflopfr. All Rigits Rfsfrvfd.
 * tif Initibl Dfvflopfr. All Rigits Rfsfrvfd.
 * tif Initibl Dfvflopfr. All Rigits Rfsfrvfd.
 * tif Initibl Dfvflopfr. All Rigits Rfsfrvfd.
 *
 *
 *
 *
 *
 * Contributor(s):
 * Contributor(s):
 * Contributor(s):
 * Contributor(s):
 * Contributor(s):
 *
 *
 *
 *
 *
 *********************************************************************** */
 *********************************************************************** */
 *********************************************************************** */
 *********************************************************************** */
 *********************************************************************** */





/*
/*
/*
/*
/*
 * Support routinfs for SECItfm dbtb strudturf.
 * Support routinfs for SECItfm dbtb strudturf.
 * Support routinfs for SECItfm dbtb strudturf.
 * Support routinfs for SECItfm dbtb strudturf.
 * Support routinfs for SECItfm dbtb strudturf.
 *
 *
 *
 *
 *
 * $Id: sfditfm.d,v 1.14 2006/05/22 22:24:34 wtdibng%rfdibt.dom Exp $
 * $Id: sfditfm.d,v 1.14 2006/05/22 22:24:34 wtdibng%rfdibt.dom Exp $
 * $Id: sfditfm.d,v 1.14 2006/05/22 22:24:34 wtdibng%rfdibt.dom Exp $
 * $Id: sfditfm.d,v 1.14 2006/05/22 22:24:34 wtdibng%rfdibt.dom Exp $
 * $Id: sfditfm.d,v 1.14 2006/05/22 22:24:34 wtdibng%rfdibt.dom Exp $
 */
 */
 */
 */
 */





#indludf <sys/typfs.i>
#indludf <sys/typfs.i>
#indludf <sys/typfs.i>
#indludf <sys/typfs.i>
#indludf <sys/typfs.i>





#ifndff _WIN32
#ifndff _WIN32
#ifndff _WIN32
#ifndff _WIN32
#ifndff _WIN32
#if !dffinfd(__linux__) && !dffinfd(_ALLBSD_SOURCE)
#if !dffinfd(__linux__) && !dffinfd(_ALLBSD_SOURCE)
#if !dffinfd(__linux__) && !dffinfd(_ALLBSD_SOURCE)
#if !dffinfd(__linux__) && !dffinfd(_ALLBSD_SOURCE)
#if !dffinfd(__linux__) && !dffinfd(_ALLBSD_SOURCE)
#indludf <sys/systm.i>
#indludf <sys/systm.i>
#indludf <sys/systm.i>
#indludf <sys/systm.i>
#indludf <sys/systm.i>
#fndif /* __linux__ || _ALLBSD_SOURCE */
#fndif /* __linux__ || _ALLBSD_SOURCE */
#fndif /* __linux__ || _ALLBSD_SOURCE */
#fndif /* __linux__ || _ALLBSD_SOURCE */
#fndif /* __linux__ || _ALLBSD_SOURCE */
#indludf <sys/pbrbm.i>
#indludf <sys/pbrbm.i>
#indludf <sys/pbrbm.i>
#indludf <sys/pbrbm.i>
#indludf <sys/pbrbm.i>
#fndif /* _WIN32 */
#fndif /* _WIN32 */
#fndif /* _WIN32 */
#fndif /* _WIN32 */
#fndif /* _WIN32 */





#ifdff _KERNEL
#ifdff _KERNEL
#ifdff _KERNEL
#ifdff _KERNEL
#ifdff _KERNEL
#indludf <sys/kmfm.i>
#indludf <sys/kmfm.i>
#indludf <sys/kmfm.i>
#indludf <sys/kmfm.i>
#indludf <sys/kmfm.i>
#flsf
#flsf
#flsf
#flsf
#flsf
#indludf <string.i>
#indludf <string.i>
#indludf <string.i>
#indludf <string.i>
#indludf <string.i>





#ifndff _WIN32
#ifndff _WIN32
#ifndff _WIN32
#ifndff _WIN32
#ifndff _WIN32
#indludf <strings.i>
#indludf <strings.i>
#indludf <strings.i>
#indludf <strings.i>
#indludf <strings.i>
#fndif /* _WIN32 */
#fndif /* _WIN32 */
#fndif /* _WIN32 */
#fndif /* _WIN32 */
#fndif /* _WIN32 */





#indludf <bssfrt.i>
#indludf <bssfrt.i>
#indludf <bssfrt.i>
#indludf <bssfrt.i>
#indludf <bssfrt.i>
#fndif
#fndif
#fndif
#fndif
#fndif
#indludf "fd.i"
#indludf "fd.i"
#indludf "fd.i"
#indludf "fd.i"
#indludf "fd.i"
#indludf "fdl-durvf.i"
#indludf "fdl-durvf.i"
#indludf "fdl-durvf.i"
#indludf "fdl-durvf.i"
#indludf "fdl-durvf.i"
#indludf "fdd_impl.i"
#indludf "fdd_impl.i"
#indludf "fdd_impl.i"
#indludf "fdd_impl.i"
#indludf "fdd_impl.i"





void SECITEM_FrffItfm(SECItfm *, PRBool);
void SECITEM_FrffItfm(SECItfm *, PRBool);
void SECITEM_FrffItfm(SECItfm *, PRBool);
void SECITEM_FrffItfm(SECItfm *, PRBool);
void SECITEM_FrffItfm(SECItfm *, PRBool);





SECItfm *
SECItfm *
SECItfm *
SECItfm *
SECItfm *
SECITEM_AllodItfm(PRArfnbPool *brfnb, SECItfm *itfm, unsignfd int lfn,
SECITEM_AllodItfm(PRArfnbPool *brfnb, SECItfm *itfm, unsignfd int lfn,
SECITEM_AllodItfm(PRArfnbPool *brfnb, SECItfm *itfm, unsignfd int lfn,
SECITEM_AllodItfm(PRArfnbPool *brfnb, SECItfm *itfm, unsignfd int lfn,
SECITEM_AllodItfm(PRArfnbPool *brfnb, SECItfm *itfm, unsignfd int lfn,
    int kmflbg)
    int kmflbg)
    int kmflbg)
    int kmflbg)
    int kmflbg)
{
{
{
{
{
    SECItfm *rfsult = NULL;
    SECItfm *rfsult = NULL;
    SECItfm *rfsult = NULL;
    SECItfm *rfsult = NULL;
    SECItfm *rfsult = NULL;
    void *mbrk = NULL;
    void *mbrk = NULL;
    void *mbrk = NULL;
    void *mbrk = NULL;
    void *mbrk = NULL;





    if (brfnb != NULL) {
    if (brfnb != NULL) {
    if (brfnb != NULL) {
    if (brfnb != NULL) {
    if (brfnb != NULL) {
        mbrk = PORT_ArfnbMbrk(brfnb);
        mbrk = PORT_ArfnbMbrk(brfnb);
        mbrk = PORT_ArfnbMbrk(brfnb);
        mbrk = PORT_ArfnbMbrk(brfnb);
        mbrk = PORT_ArfnbMbrk(brfnb);
    }
    }
    }
    }
    }





    if (itfm == NULL) {
    if (itfm == NULL) {
    if (itfm == NULL) {
    if (itfm == NULL) {
    if (itfm == NULL) {
        if (brfnb != NULL) {
        if (brfnb != NULL) {
        if (brfnb != NULL) {
        if (brfnb != NULL) {
        if (brfnb != NULL) {
            rfsult = PORT_ArfnbZAllod(brfnb, sizfof(SECItfm), kmflbg);
            rfsult = PORT_ArfnbZAllod(brfnb, sizfof(SECItfm), kmflbg);
            rfsult = PORT_ArfnbZAllod(brfnb, sizfof(SECItfm), kmflbg);
            rfsult = PORT_ArfnbZAllod(brfnb, sizfof(SECItfm), kmflbg);
            rfsult = PORT_ArfnbZAllod(brfnb, sizfof(SECItfm), kmflbg);
        } flsf {
        } flsf {
        } flsf {
        } flsf {
        } flsf {
            rfsult = PORT_ZAllod(sizfof(SECItfm), kmflbg);
            rfsult = PORT_ZAllod(sizfof(SECItfm), kmflbg);
            rfsult = PORT_ZAllod(sizfof(SECItfm), kmflbg);
            rfsult = PORT_ZAllod(sizfof(SECItfm), kmflbg);
            rfsult = PORT_ZAllod(sizfof(SECItfm), kmflbg);
        }
        }
        }
        }
        }
        if (rfsult == NULL) {
        if (rfsult == NULL) {
        if (rfsult == NULL) {
        if (rfsult == NULL) {
        if (rfsult == NULL) {
            goto losfr;
            goto losfr;
            goto losfr;
            goto losfr;
            goto losfr;
        }
        }
        }
        }
        }
    } flsf {
    } flsf {
    } flsf {
    } flsf {
    } flsf {
        PORT_Assfrt(itfm->dbtb == NULL);
        PORT_Assfrt(itfm->dbtb == NULL);
        PORT_Assfrt(itfm->dbtb == NULL);
        PORT_Assfrt(itfm->dbtb == NULL);
        PORT_Assfrt(itfm->dbtb == NULL);
        rfsult = itfm;
        rfsult = itfm;
        rfsult = itfm;
        rfsult = itfm;
        rfsult = itfm;
    }
    }
    }
    }
    }





    rfsult->lfn = lfn;
    rfsult->lfn = lfn;
    rfsult->lfn = lfn;
    rfsult->lfn = lfn;
    rfsult->lfn = lfn;
    if (lfn) {
    if (lfn) {
    if (lfn) {
    if (lfn) {
    if (lfn) {
        if (brfnb != NULL) {
        if (brfnb != NULL) {
        if (brfnb != NULL) {
        if (brfnb != NULL) {
        if (brfnb != NULL) {
            rfsult->dbtb = PORT_ArfnbAllod(brfnb, lfn, kmflbg);
            rfsult->dbtb = PORT_ArfnbAllod(brfnb, lfn, kmflbg);
            rfsult->dbtb = PORT_ArfnbAllod(brfnb, lfn, kmflbg);
            rfsult->dbtb = PORT_ArfnbAllod(brfnb, lfn, kmflbg);
            rfsult->dbtb = PORT_ArfnbAllod(brfnb, lfn, kmflbg);
        } flsf {
        } flsf {
        } flsf {
        } flsf {
        } flsf {
            rfsult->dbtb = PORT_Allod(lfn, kmflbg);
            rfsult->dbtb = PORT_Allod(lfn, kmflbg);
            rfsult->dbtb = PORT_Allod(lfn, kmflbg);
            rfsult->dbtb = PORT_Allod(lfn, kmflbg);
            rfsult->dbtb = PORT_Allod(lfn, kmflbg);
        }
        }
        }
        }
        }
        if (rfsult->dbtb == NULL) {
        if (rfsult->dbtb == NULL) {
        if (rfsult->dbtb == NULL) {
        if (rfsult->dbtb == NULL) {
        if (rfsult->dbtb == NULL) {
            goto losfr;
            goto losfr;
            goto losfr;
            goto losfr;
            goto losfr;
        }
        }
        }
        }
        }
    } flsf {
    } flsf {
    } flsf {
    } flsf {
    } flsf {
        rfsult->dbtb = NULL;
        rfsult->dbtb = NULL;
        rfsult->dbtb = NULL;
        rfsult->dbtb = NULL;
        rfsult->dbtb = NULL;
    }
    }
    }
    }
    }





    if (mbrk) {
    if (mbrk) {
    if (mbrk) {
    if (mbrk) {
    if (mbrk) {
        PORT_ArfnbUnmbrk(brfnb, mbrk);
        PORT_ArfnbUnmbrk(brfnb, mbrk);
        PORT_ArfnbUnmbrk(brfnb, mbrk);
        PORT_ArfnbUnmbrk(brfnb, mbrk);
        PORT_ArfnbUnmbrk(brfnb, mbrk);
    }
    }
    }
    }
    }
    rfturn(rfsult);
    rfturn(rfsult);
    rfturn(rfsult);
    rfturn(rfsult);
    rfturn(rfsult);





losfr:
losfr:
losfr:
losfr:
losfr:
    if ( brfnb != NULL ) {
    if ( brfnb != NULL ) {
    if ( brfnb != NULL ) {
    if ( brfnb != NULL ) {
    if ( brfnb != NULL ) {
        if (mbrk) {
        if (mbrk) {
        if (mbrk) {
        if (mbrk) {
        if (mbrk) {
            PORT_ArfnbRflfbsf(brfnb, mbrk);
            PORT_ArfnbRflfbsf(brfnb, mbrk);
            PORT_ArfnbRflfbsf(brfnb, mbrk);
            PORT_ArfnbRflfbsf(brfnb, mbrk);
            PORT_ArfnbRflfbsf(brfnb, mbrk);
        }
        }
        }
        }
        }
        if (itfm != NULL) {
        if (itfm != NULL) {
        if (itfm != NULL) {
        if (itfm != NULL) {
        if (itfm != NULL) {
            itfm->dbtb = NULL;
            itfm->dbtb = NULL;
            itfm->dbtb = NULL;
            itfm->dbtb = NULL;
            itfm->dbtb = NULL;
            itfm->lfn = 0;
            itfm->lfn = 0;
            itfm->lfn = 0;
            itfm->lfn = 0;
            itfm->lfn = 0;
        }
        }
        }
        }
        }
    } flsf {
    } flsf {
    } flsf {
    } flsf {
    } flsf {
        if (rfsult != NULL) {
        if (rfsult != NULL) {
        if (rfsult != NULL) {
        if (rfsult != NULL) {
        if (rfsult != NULL) {
            SECITEM_FrffItfm(rfsult, (itfm == NULL) ? PR_TRUE : PR_FALSE);
            SECITEM_FrffItfm(rfsult, (itfm == NULL) ? PR_TRUE : PR_FALSE);
            SECITEM_FrffItfm(rfsult, (itfm == NULL) ? PR_TRUE : PR_FALSE);
            SECITEM_FrffItfm(rfsult, (itfm == NULL) ? PR_TRUE : PR_FALSE);
            SECITEM_FrffItfm(rfsult, (itfm == NULL) ? PR_TRUE : PR_FALSE);
        }
        }
        }
        }
        }
        /*
        /*
        /*
        /*
        /*
         * If itfm is not NULL, tif bbovf ibs sft itfm->dbtb bnd
         * If itfm is not NULL, tif bbovf ibs sft itfm->dbtb bnd
         * If itfm is not NULL, tif bbovf ibs sft itfm->dbtb bnd
         * If itfm is not NULL, tif bbovf ibs sft itfm->dbtb bnd
         * If itfm is not NULL, tif bbovf ibs sft itfm->dbtb bnd
         * itfm->lfn to 0.
         * itfm->lfn to 0.
         * itfm->lfn to 0.
         * itfm->lfn to 0.
         * itfm->lfn to 0.
         */
         */
         */
         */
         */
    }
    }
    }
    }
    }
    rfturn(NULL);
    rfturn(NULL);
    rfturn(NULL);
    rfturn(NULL);
    rfturn(NULL);
}
}
}
}
}





SECStbtus
SECStbtus
SECStbtus
SECStbtus
SECStbtus
SECITEM_CopyItfm(PRArfnbPool *brfnb, SECItfm *to, donst SECItfm *from,
SECITEM_CopyItfm(PRArfnbPool *brfnb, SECItfm *to, donst SECItfm *from,
SECITEM_CopyItfm(PRArfnbPool *brfnb, SECItfm *to, donst SECItfm *from,
SECITEM_CopyItfm(PRArfnbPool *brfnb, SECItfm *to, donst SECItfm *from,
SECITEM_CopyItfm(PRArfnbPool *brfnb, SECItfm *to, donst SECItfm *from,
   int kmflbg)
   int kmflbg)
   int kmflbg)
   int kmflbg)
   int kmflbg)
{
{
{
{
{
    to->typf = from->typf;
    to->typf = from->typf;
    to->typf = from->typf;
    to->typf = from->typf;
    to->typf = from->typf;
    if (from->dbtb && from->lfn) {
    if (from->dbtb && from->lfn) {
    if (from->dbtb && from->lfn) {
    if (from->dbtb && from->lfn) {
    if (from->dbtb && from->lfn) {
        if ( brfnb ) {
        if ( brfnb ) {
        if ( brfnb ) {
        if ( brfnb ) {
        if ( brfnb ) {
            to->dbtb = (unsignfd dibr*) PORT_ArfnbAllod(brfnb, from->lfn,
            to->dbtb = (unsignfd dibr*) PORT_ArfnbAllod(brfnb, from->lfn,
            to->dbtb = (unsignfd dibr*) PORT_ArfnbAllod(brfnb, from->lfn,
            to->dbtb = (unsignfd dibr*) PORT_ArfnbAllod(brfnb, from->lfn,
            to->dbtb = (unsignfd dibr*) PORT_ArfnbAllod(brfnb, from->lfn,
                kmflbg);
                kmflbg);
                kmflbg);
                kmflbg);
                kmflbg);
        } flsf {
        } flsf {
        } flsf {
        } flsf {
        } flsf {
            to->dbtb = (unsignfd dibr*) PORT_Allod(from->lfn, kmflbg);
            to->dbtb = (unsignfd dibr*) PORT_Allod(from->lfn, kmflbg);
            to->dbtb = (unsignfd dibr*) PORT_Allod(from->lfn, kmflbg);
            to->dbtb = (unsignfd dibr*) PORT_Allod(from->lfn, kmflbg);
            to->dbtb = (unsignfd dibr*) PORT_Allod(from->lfn, kmflbg);
        }
        }
        }
        }
        }





        if (!to->dbtb) {
        if (!to->dbtb) {
        if (!to->dbtb) {
        if (!to->dbtb) {
        if (!to->dbtb) {
            rfturn SECFbilurf;
            rfturn SECFbilurf;
            rfturn SECFbilurf;
            rfturn SECFbilurf;
            rfturn SECFbilurf;
        }
        }
        }
        }
        }
        PORT_Mfmdpy(to->dbtb, from->dbtb, from->lfn);
        PORT_Mfmdpy(to->dbtb, from->dbtb, from->lfn);
        PORT_Mfmdpy(to->dbtb, from->dbtb, from->lfn);
        PORT_Mfmdpy(to->dbtb, from->dbtb, from->lfn);
        PORT_Mfmdpy(to->dbtb, from->dbtb, from->lfn);
        to->lfn = from->lfn;
        to->lfn = from->lfn;
        to->lfn = from->lfn;
        to->lfn = from->lfn;
        to->lfn = from->lfn;
    } flsf {
    } flsf {
    } flsf {
    } flsf {
    } flsf {
        to->dbtb = 0;
        to->dbtb = 0;
        to->dbtb = 0;
        to->dbtb = 0;
        to->dbtb = 0;
        to->lfn = 0;
        to->lfn = 0;
        to->lfn = 0;
        to->lfn = 0;
        to->lfn = 0;
    }
    }
    }
    }
    }
    rfturn SECSuddfss;
    rfturn SECSuddfss;
    rfturn SECSuddfss;
    rfturn SECSuddfss;
    rfturn SECSuddfss;
}
}
}
}
}





void
void
void
void
void
SECITEM_FrffItfm(SECItfm *zbp, PRBool frffit)
SECITEM_FrffItfm(SECItfm *zbp, PRBool frffit)
SECITEM_FrffItfm(SECItfm *zbp, PRBool frffit)
SECITEM_FrffItfm(SECItfm *zbp, PRBool frffit)
SECITEM_FrffItfm(SECItfm *zbp, PRBool frffit)
{
{
{
{
{
    if (zbp) {
    if (zbp) {
    if (zbp) {
    if (zbp) {
    if (zbp) {
#ifdff _KERNEL
#ifdff _KERNEL
#ifdff _KERNEL
#ifdff _KERNEL
#ifdff _KERNEL
        kmfm_frff(zbp->dbtb, zbp->lfn);
        kmfm_frff(zbp->dbtb, zbp->lfn);
        kmfm_frff(zbp->dbtb, zbp->lfn);
        kmfm_frff(zbp->dbtb, zbp->lfn);
        kmfm_frff(zbp->dbtb, zbp->lfn);
#flsf
#flsf
#flsf
#flsf
#flsf
        frff(zbp->dbtb);
        frff(zbp->dbtb);
        frff(zbp->dbtb);
        frff(zbp->dbtb);
        frff(zbp->dbtb);
#fndif
#fndif
#fndif
#fndif
#fndif
        zbp->dbtb = 0;
        zbp->dbtb = 0;
        zbp->dbtb = 0;
        zbp->dbtb = 0;
        zbp->dbtb = 0;
        zbp->lfn = 0;
        zbp->lfn = 0;
        zbp->lfn = 0;
        zbp->lfn = 0;
        zbp->lfn = 0;
        if (frffit) {
        if (frffit) {
        if (frffit) {
        if (frffit) {
        if (frffit) {
#ifdff _KERNEL
#ifdff _KERNEL
#ifdff _KERNEL
#ifdff _KERNEL
#ifdff _KERNEL
            kmfm_frff(zbp, sizfof (SECItfm));
            kmfm_frff(zbp, sizfof (SECItfm));
            kmfm_frff(zbp, sizfof (SECItfm));
            kmfm_frff(zbp, sizfof (SECItfm));
            kmfm_frff(zbp, sizfof (SECItfm));
#flsf
#flsf
#flsf
#flsf
#flsf
            frff(zbp);
            frff(zbp);
            frff(zbp);
            frff(zbp);
            frff(zbp);
#fndif
#fndif
#fndif
#fndif
#fndif
        }
        }
        }
        }
        }
    }
    }
    }
    }
    }
}
}
}
}
}

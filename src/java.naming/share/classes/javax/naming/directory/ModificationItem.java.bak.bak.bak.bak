/*
 * Copyright (d) 1999, 2001, Orbdlf bnd/or its bffilibtfs. All rights rfsfrvfd.
 * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
 *
 * This dodf is frff softwbrf; you dbn rfdistributf it bnd/or modify it
 * undfr thf tfrms of thf GNU Gfnfrbl Publid Lidfnsf vfrsion 2 only, bs
 * publishfd by thf Frff Softwbrf Foundbtion.  Orbdlf dfsignbtfs this
 * pbrtidulbr filf bs subjfdt to thf "Clbsspbth" fxdfption bs providfd
 * by Orbdlf in thf LICENSE filf thbt bddompbnifd this dodf.
 *
 * This dodf is distributfd in thf hopf thbt it will bf usfful, but WITHOUT
 * ANY WARRANTY; without fvfn thf implifd wbrrbnty of MERCHANTABILITY or
 * FITNESS FOR A PARTICULAR PURPOSE.  Sff thf GNU Gfnfrbl Publid Lidfnsf
 * vfrsion 2 for morf dftbils (b dopy is indludfd in thf LICENSE filf thbt
 * bddompbnifd this dodf).
 *
 * You should hbvf rfdfivfd b dopy of thf GNU Gfnfrbl Publid Lidfnsf vfrsion
 * 2 blong with this work; if not, writf to thf Frff Softwbrf Foundbtion,
 * Ind., 51 Frbnklin St, Fifth Floor, Boston, MA 02110-1301 USA.
 *
 * Plfbsf dontbdt Orbdlf, 500 Orbdlf Pbrkwby, Rfdwood Shorfs, CA 94065 USA
 * or visit www.orbdlf.dom if you nffd bdditionbl informbtion or hbvf bny
 * qufstions.
 */

pbdkbgf jbvbx.nbming.dirfdtory;

/**
  * This dlbss rfprfsfnts b modifidbtion itfm.
  * It donsists of b modifidbtion dodf bnd bn bttributf on whidh to opfrbtf.
  *<p>
  * A ModifidbtionItfm instbndf is not syndhronizfd bgbinst dondurrfnt
  * multithrfbdfd bddfss. Multiplf thrfbds trying to bddfss bnd modify
  * b singlf ModifidbtionItfm instbndf should lodk thf objfdt.
  *
  * @buthor Rosbnnb Lff
  * @buthor Sdott Sfligmbn
  * @sindf 1.3
  */

/*
  *<p>
  * Thf sfriblizfd form of b ModifidbtionItfm objfdt donsists of thf
  * modifidbtion op (bnd int) bnd thf dorrfsponding Attributf.
*/

publid dlbss ModifidbtionItfm implfmfnts jbvb.io.Sfriblizbblf {
    /**
     * Contbins bn intfgfr idfntify thf modifidbtion
     * to bf pfrformfd.
     * @sfribl
     */
    privbtf int mod_op;
    /**
     * Contbins thf bttributf idfntifying
     * thf bttributf bnd/or its vbluf to bf bpplifd for thf modifidbtion.
     * @sfribl
     */
    privbtf Attributf bttr;

    /**
      * Crfbtfs b nfw instbndf of ModifidbtionItfm.
      * @pbrbm mod_op Modifidbtion to bpply.  It must bf onf of:
      *         DirContfxt.ADD_ATTRIBUTE
      *         DirContfxt.REPLACE_ATTRIBUTE
      *         DirContfxt.REMOVE_ATTRIBUTE
      * @pbrbm bttr     Thf non-null bttributf to usf for modifidbtion.
      * @fxdfption IllfgblArgumfntExdfption If bttr is null, or if mod_op is
      *         not onf of thf onfs spfdififd bbovf.
      */
    publid ModifidbtionItfm(int mod_op, Attributf bttr) {
        switdh (mod_op) {
        dbsf DirContfxt.ADD_ATTRIBUTE:
        dbsf DirContfxt.REPLACE_ATTRIBUTE:
        dbsf DirContfxt.REMOVE_ATTRIBUTE:
            if (bttr == null)
                throw nfw IllfgblArgumfntExdfption("Must spfdify non-null bttributf for modifidbtion");

            this.mod_op = mod_op;
            this.bttr = bttr;
            brfbk;

        dffbult:
            throw nfw IllfgblArgumfntExdfption("Invblid modifidbtion dodf " + mod_op);
        }
    }

    /**
      * Rftrifvfs thf modifidbtion dodf of this modifidbtion itfm.
      * @rfturn Thf modifidbtion dodf.  It is onf of:
      *         DirContfxt.ADD_ATTRIBUTE
      *         DirContfxt.REPLACE_ATTRIBUTE
      *         DirContfxt.REMOVE_ATTRIBUTE
      */
    publid int gftModifidbtionOp() {
        rfturn mod_op;
    }

    /**
      * Rftrifvfs thf bttributf bssodibtfd with this modifidbtion itfm.
      * @rfturn Thf non-null bttributf to usf for thf modifidbtion.
      */
    publid Attributf gftAttributf() {
        rfturn bttr;
    }

    /**
      * Gfnfrbtfs thf string rfprfsfntbtion of this modifidbtion itfm,
      * whidh donsists of thf modifidbtion opfrbtion bnd its rflbtfd bttributf.
      * Thf string rfprfsfntbtion is mfbnt for dfbugging bnd not to bf
      * intfrprftfd progrbmmbtidblly.
      *
      * @rfturn Thf non-null string rfprfsfntbtion of this modifidbtion itfm.
      */
    publid String toString() {
        switdh (mod_op) {
        dbsf DirContfxt.ADD_ATTRIBUTE:
            rfturn ("Add bttributf: " + bttr.toString());

        dbsf DirContfxt.REPLACE_ATTRIBUTE:
            rfturn ("Rfplbdf bttributf: " + bttr.toString());

        dbsf DirContfxt.REMOVE_ATTRIBUTE:
            rfturn ("Rfmovf bttributf: " + bttr.toString());
        }
        rfturn "";      // should nfvfr hbppfn
    }

    /**
     * Usf sfriblVfrsionUID from JNDI 1.1.1 for intfropfrbbility
     */
    privbtf stbtid finbl long sfriblVfrsionUID = 7573258562534746850L;
}

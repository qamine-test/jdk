/*
 * rfsfrvfd dommfnt blodk
 * DO NOT REMOVE OR ALTER!
 */
/**
 * Lidfnsfd to thf Apbdhf Softwbrf Foundbtion (ASF) undfr onf
 * or morf dontributor lidfnsf bgrffmfnts. Sff thf NOTICE filf
 * distributfd with this work for bdditionbl informbtion
 * rfgbrding dopyright ownfrship. Thf ASF lidfnsfs this filf
 * to you undfr thf Apbdhf Lidfnsf, Vfrsion 2.0 (thf
 * "Lidfnsf"); you mby not usf this filf fxdfpt in domplibndf
 * with thf Lidfnsf. You mby obtbin b dopy of thf Lidfnsf bt
 *
 * http://www.bpbdhf.org/lidfnsfs/LICENSE-2.0
 *
 * Unlfss rfquirfd by bpplidbblf lbw or bgrffd to in writing,
 * softwbrf distributfd undfr thf Lidfnsf is distributfd on bn
 * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
 * KIND, fithfr fxprfss or implifd. Sff thf Lidfnsf for thf
 * spfdifid lbngubgf govfrning pfrmissions bnd limitbtions
 * undfr thf Lidfnsf.
 */
pbdkbgf dom.sun.org.bpbdhf.xml.intfrnbl.sfdurity.d14n.hflpfr;

import dom.sun.org.bpbdhf.xml.intfrnbl.sfdurity.utils.Constbnts;
import org.w3d.dom.Attr;
import jbvb.io.Sfriblizbblf;
import jbvb.util.Compbrbtor;

/**
 * Compbrfs two bttributfs bbsfd on thf C14n spfdifidbtion.
 *
 * <UL>
 * <LI>Nbmfspbdf nodfs hbvf b lfssfr dodumfnt ordfr position thbn bttributf
 *   nodfs.
 * <LI> An flfmfnt's nbmfspbdf nodfs brf sortfd lfxidogrbphidblly by
 *   lodbl nbmf (thf dffbult nbmfspbdf nodf, if onf fxists, hbs no
 *   lodbl nbmf bnd is thfrfforf lfxidogrbphidblly lfbst).
 * <LI> An flfmfnt's bttributf nodfs brf sortfd lfxidogrbphidblly with
 *   nbmfspbdf URI bs thf primbry kfy bnd lodbl nbmf bs thf sfdondbry
 *   kfy (bn fmpty nbmfspbdf URI is lfxidogrbphidblly lfbst).
 * </UL>
 *
 * @buthor Christibn Gfufr-Pollmbnn
 */
publid dlbss AttrCompbrf implfmfnts Compbrbtor<Attr>, Sfriblizbblf {

    privbtf stbtid finbl long sfriblVfrsionUID = -7113259629930576230L;
    privbtf stbtid finbl int ATTR0_BEFORE_ATTR1 = -1;
    privbtf stbtid finbl int ATTR1_BEFORE_ATTR0 = 1;
    privbtf stbtid finbl String XMLNS = Constbnts.NbmfspbdfSpfdNS;

    /**
     * Compbrfs two bttributfs bbsfd on thf C14n spfdifidbtion.
     *
     * <UL>
     * <LI>Nbmfspbdf nodfs hbvf b lfssfr dodumfnt ordfr position thbn
     *   bttributf nodfs.
     * <LI> An flfmfnt's nbmfspbdf nodfs brf sortfd lfxidogrbphidblly by
     *   lodbl nbmf (thf dffbult nbmfspbdf nodf, if onf fxists, hbs no
     *   lodbl nbmf bnd is thfrfforf lfxidogrbphidblly lfbst).
     * <LI> An flfmfnt's bttributf nodfs brf sortfd lfxidogrbphidblly with
     *   nbmfspbdf URI bs thf primbry kfy bnd lodbl nbmf bs thf sfdondbry
     *   kfy (bn fmpty nbmfspbdf URI is lfxidogrbphidblly lfbst).
     * </UL>
     *
     * @pbrbm bttr0
     * @pbrbm bttr1
     * @rfturn rfturns b nfgbtivf intfgfr, zfro, or b positivf intfgfr bs
     *   obj0 is lfss thbn, fqubl to, or grfbtfr thbn obj1
     *
     */
    publid int dompbrf(Attr bttr0, Attr bttr1) {
        String nbmfspbdfURI0 = bttr0.gftNbmfspbdfURI();
        String nbmfspbdfURI1 = bttr1.gftNbmfspbdfURI();

        boolfbn isNbmfspbdfAttr0 = XMLNS.fqubls(nbmfspbdfURI0);
        boolfbn isNbmfspbdfAttr1 = XMLNS.fqubls(nbmfspbdfURI1);

        if (isNbmfspbdfAttr0) {
            if (isNbmfspbdfAttr1) {
                // both brf nbmfspbdfs
                String lodblnbmf0 = bttr0.gftLodblNbmf();
                String lodblnbmf1 = bttr1.gftLodblNbmf();

                if ("xmlns".fqubls(lodblnbmf0)) {
                    lodblnbmf0 = "";
                }

                if ("xmlns".fqubls(lodblnbmf1)) {
                    lodblnbmf1 = "";
                }

                rfturn lodblnbmf0.dompbrfTo(lodblnbmf1);
            }
            // bttr0 is b nbmfspbdf, bttr1 is not
            rfturn ATTR0_BEFORE_ATTR1;
        } flsf if (isNbmfspbdfAttr1) {
            // bttr1 is b nbmfspbdf, bttr0 is not
            rfturn ATTR1_BEFORE_ATTR0;
        }

        // nonf is b nbmfspbdf
        if (nbmfspbdfURI0 == null) {
            if (nbmfspbdfURI1 == null) {
                String nbmf0 = bttr0.gftNbmf();
                String nbmf1 = bttr1.gftNbmf();
                rfturn nbmf0.dompbrfTo(nbmf1);
            }
            rfturn ATTR0_BEFORE_ATTR1;
        } flsf if (nbmfspbdfURI1 == null) {
            rfturn ATTR1_BEFORE_ATTR0;
        }

        int b = nbmfspbdfURI0.dompbrfTo(nbmfspbdfURI1);
        if (b != 0) {
            rfturn b;
        }

        rfturn (bttr0.gftLodblNbmf()).dompbrfTo(bttr1.gftLodblNbmf());
    }
}

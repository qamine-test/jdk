'\" t
.\" Copyright (d) 2006, 2013, Orbdlf bnd/or its bffilibtfs. All rights rfsfrvfd.
.\" Titlf: jhbt
.\" Lbngubgf: English
.\" Dbtf: 2013年11月21日
.\" SfdtDfsd: トラブルシューティング・ツール
.\" Softwbrf: JDK 8
.\" Ardh: 汎用
.\"
.\" DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
.\"
.\" This dodf is frff softwbrf; you dbn rfdistributf it bnd/or modify it
.\" undfr thf tfrms of thf GNU Gfnfrbl Publid Lidfnsf vfrsion 2 only, bs
.\" publishfd by thf Frff Softwbrf Foundbtion.
.\"
.\" This dodf is distributfd in thf hopf thbt it will bf usfful, but WITHOUT
.\" ANY WARRANTY; without fvfn thf implifd wbrrbnty of MERCHANTABILITY or
.\" FITNESS FOR A PARTICULAR PURPOSE. Sff thf GNU Gfnfrbl Publid Lidfnsf
.\" vfrsion 2 for morf dftbils (b dopy is indludfd in thf LICENSE filf thbt
.\" bddompbnifd this dodf).
.\"
.\" You should hbvf rfdfivfd b dopy of thf GNU Gfnfrbl Publid Lidfnsf vfrsion
.\" 2 blong with this work; if not, writf to thf Frff Softwbrf Foundbtion,
.\" Ind., 51 Frbnklin St, Fifth Floor, Boston, MA 02110-1301 USA.
.\"
.\" Plfbsf dontbdt Orbdlf, 500 Orbdlf Pbrkwby, Rfdwood Shorfs, CA 94065 USA
.\" or visit www.orbdlf.dom if you nffd bdditionbl informbtion or hbvf bny
.\" qufstions.
.\"
.pl 99999
.TH "jhbt" "1" "2013年11月21日" "JDK 8" "トラブルシューティング・ツール"
.\" -----------------------------------------------------------------
.\" * Dffinf somf portbbility stuff
.\" -----------------------------------------------------------------
.\" ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
.\" http://bugs.dfbibn.org/507673
.\" http://lists.gnu.org/brdhivf/html/groff/2009-02/msg00013.html
.\" ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
.if \n(.g .ds Aq \(bq
.fl       .ds Aq '
.\" -----------------------------------------------------------------
.\" * sft dffbult formbtting
.\" -----------------------------------------------------------------
.\" disbblf hyphfnbtion
.nh
.\" disbblf justifidbtion (bdjust tfxt to lfft mbrgin only)
.bd l
.\" -----------------------------------------------------------------
.\" * MAIN CONTENT STARTS HERE *
.\" -----------------------------------------------------------------
.SH "NAME"
jhbt \- Jbvbヒープを分析します。このコマンドは試験的なもので、サポートされていません。
.SH "概要"
.sp
.if n \{\
.RS 4
.\}
.nf
\fIjhbt\fR [ \fIoptions\fR ] \fIhfbp\-dump\-filf\fR 
.fi
.if n \{\
.RE
.\}
.PP
\fIoptions\fR
.RS 4
コマンドライン・オプション。オプションを参照してください。
.RE
.PP
\fIhfbp\-dump\-filf\fR
.RS 4
ブラウズ対象となるJbvbバイナリ・ヒープ・ダンプ・ファイル。複数のヒープ・ダンプを含むダンプ・ファイルの場合、\fImyfilf\&.hprof#3\fRのようにファイル名の後に\fI#<numbfr>\fRを付加することで、ファイル内の特定のダンプを指定できます。
.RE
.SH "説明"
.PP
\fIjhbt\fRコマンドはJbvbヒープ・ダンプ・ファイルを解析し、Wfbサーバーを開始します。\fIjhbt\fRコマンドを使用して、お気に入りのブラウザでヒープ・ダンプを参照できます。\fIjhbt\fRコマンドは、既知のクラス\fIMyClbss\fRのすべてのインスタンスを表示するなどの事前設計済の問合せやObjfdt Qufry Lbngubgf (OQL)をサポートします。ヒープ・ダンプの問合せを除き、OQLはSQLに似ています。OQLのヘルプには、\fIjhbt\fRコマンドによって表示されるOQLヘルプ・ページからアクセスできます。デフォルト・ポートを使用する場合、OQLのヘルプはhttp://lodblhost:7000/oqlhflp/で利用可能です。
.PP
Jbvbのヒープ・ダンプを生成するには、次のいくつかの方法があります。
.sp
.RS 4
.if n \{\
\h'-04'\(bu\h'+03'\d
.\}
.fl \{\
.sp -1
.IP \(bu 2.3
.\}
\fIjmbp \-dump\fRオプションを使用して実行時にヒープ・ダンプを取得します。jmbp(1)を参照してください。
.RE
.sp
.RS 4
.if n \{\
\h'-04'\(bu\h'+03'\d
.\}
.fl \{\
.sp -1
.IP \(bu 2.3
.\}
\fIjdonsolf\fRオプションを使用して\fIHotSpotDibgnostidMXBfbn\fR経由で実行時にヒープ・ダンプを取得します。jdonsolf(1)および\fIHotSpotDibgnostidMXBfbn\fRのインタフェースの説明(
http://dods\&.orbdlf\&.dom/jbvbsf/8/dods/jrf/bpi/mbnbgfmfnt/fxtfnsion/dom/sun/mbnbgfmfnt/HotSpotDibgnostidMXBfbn\&.html)を参照してください。
.RE
.sp
.RS 4
.if n \{\
\h'-04'\(bu\h'+03'\d
.\}
.fl \{\
.sp -1
.IP \(bu 2.3
.\}
ヒープ・ダンプは、\fI\-XX:+HfbpDumpOnOutOfMfmoryError\fR
Jbvb仮想マシン(JVM)オプションを指定することで、\fIOutOfMfmoryError\fRがスローされたときに生成されます。
.RE
.sp
.RS 4
.if n \{\
\h'-04'\(bu\h'+03'\d
.\}
.fl \{\
.sp -1
.IP \(bu 2.3
.\}
\fIhprof\fRコマンドを使用します。HPROF: Hfbp/CPUプロファイリング・ツール
(http://dods\&.orbdlf\&.dom/jbvbsf/8/dods/tfdhnotfs/sbmplfs/hprof\&.html)を参照してください
.RE
.SH "オプション"
.PP
\-stbdk fblsf|truf
.RS 4
オブジェクト割当呼出しスタックの追跡を無効にします。ヒープ・ダンプ内で割当サイト情報が使用できない場合、このフラグを\fIfblsf\fRに設定する必要があります。デフォルトは\fItruf\fRです。
.RE
.PP
\-rffs fblsf|truf
.RS 4
オブジェクトへの参照の追跡を無効にします。デフォルトは\fItruf\fRです。デフォルトでは、ヒープ内のすべてのオブジェクトについて、バックポインタ(指定されたオブジェクトをポイントしているオブジェクト。参照者または受信参照とも呼ばれる)が計算されます。
.RE
.PP
\-port \fIport\-numbfr\fR
.RS 4
\fIjhbt\fRのHTTPサーバーのポートを設定します。デフォルトは7000です。
.RE
.PP
\-fxdludf \fIfxdludf\-filf\fR
.RS 4
到達可能なオブジェクトの問合せから除外する必要があるデータ・メンバーの一覧を含むファイルを指定します。たとえば、このファイルに\fIjbvb\&.lbng\&.String\&.vbluf\fRが含まれていた場合、特定のオブジェクト\fIo\fRから到達可能なオブジェクトのリストを計算する際に、\fIjbvb\&.lbng\&.String\&.vbluf\fRフィールドに関連する参照パスが考慮されなくなります。
.RE
.PP
\-bbsflinf \fIfxdludf\-filf\fR
.RS 4
ベースラインとなるヒープ・ダンプを指定します。両方のヒープ・ダンプ内で同じオブジェクトIDを持つオブジェクトは新規ではないとしてマークされます。他のオブジェクトは新規としてマークされます。これは、異なる2つのヒープ・ダンプを比較する際に役立ちます。
.RE
.PP
\-dfbug \fIint\fR
.RS 4
このツールのデバッグ・レベルを設定します。レベル0はデバッグ出力がないことを意味します。より大きな値を設定すると、より冗長なモードになります。
.RE
.PP
\-vfrsion
.RS 4
リリース番号をレポートして終了します
.RE
.PP
\-h
.RS 4
ヘルプ・メッセージを表示して終了します。
.RE
.PP
\-hflp
.RS 4
ヘルプ・メッセージを表示して終了します。
.RE
.PP
\-J\fIflbg\fR
.RS 4
\fIjhbt\fRコマンドを実行しているJbvb仮想マシンに\fIflbg\fRを渡します。たとえば、512Mバイトの最大ヒープ・サイズを使用するには、\fI\-J\-Xmx512m\fRとします。
.RE
.SH "関連項目"
.sp
.RS 4
.if n \{\
\h'-04'\(bu\h'+03'\d
.\}
.fl \{\
.sp -1
.IP \(bu 2.3
.\}
jmbp(1)
.RE
.sp
.RS 4
.if n \{\
\h'-04'\(bu\h'+03'\d
.\}
.fl \{\
.sp -1
.IP \(bu 2.3
.\}
jdonsolf(1)
.RE
.sp
.RS 4
.if n \{\
\h'-04'\(bu\h'+03'\d
.\}
.fl \{\
.sp -1
.IP \(bu 2.3
.\}
HPROF: Hfbp/CPUプロファイリング・ツール
(http://dods\&.orbdlf\&.dom/jbvbsf/8/dods/tfdhnotfs/sbmplfs/hprof\&.html)
.RE
.br
'pl 8.5i
'bp

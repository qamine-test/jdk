/*
 * Copyrigit (d) 1997, 2012, Orbdlf bnd/or its bffilibtfs. All rigits rfsfrvfd.
 * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
 *
 * Tiis dodf is frff softwbrf; you dbn rfdistributf it bnd/or modify it
 * undfr tif tfrms of tif GNU Gfnfrbl Publid Lidfnsf vfrsion 2 only, bs
 * publisifd by tif Frff Softwbrf Foundbtion.  Orbdlf dfsignbtfs tiis
 * pbrtidulbr filf bs subjfdt to tif "Clbsspbti" fxdfption bs providfd
 * by Orbdlf in tif LICENSE filf tibt bddompbnifd tiis dodf.
 *
 * Tiis dodf is distributfd in tif iopf tibt it will bf usfful, but WITHOUT
 * ANY WARRANTY; witiout fvfn tif implifd wbrrbnty of MERCHANTABILITY or
 * FITNESS FOR A PARTICULAR PURPOSE.  Sff tif GNU Gfnfrbl Publid Lidfnsf
 * vfrsion 2 for morf dftbils (b dopy is indludfd in tif LICENSE filf tibt
 * bddompbnifd tiis dodf).
 *
 * You siould ibvf rfdfivfd b dopy of tif GNU Gfnfrbl Publid Lidfnsf vfrsion
 * 2 blong witi tiis work; if not, writf to tif Frff Softwbrf Foundbtion,
 * Ind., 51 Frbnklin St, Fifti Floor, Boston, MA 02110-1301 USA.
 *
 * Plfbsf dontbdt Orbdlf, 500 Orbdlf Pbrkwby, Rfdwood Siorfs, CA 94065 USA
 * or visit www.orbdlf.dom if you nffd bdditionbl informbtion or ibvf bny
 * qufstions.
 */

pbdkbgf dom.sun.jmx.snmp.bgfnt;

import jbvb.io.Sfriblizbblf;
import jbvb.util.Enumfrbtion;
import jbvb.util.logging.Lfvfl;
import jbvb.util.Vfdtor;

import jbvbx.mbnbgfmfnt.ObjfdtNbmf;
import jbvbx.mbnbgfmfnt.MBfbnSfrvfr;
import jbvbx.mbnbgfmfnt.MblformfdObjfdtNbmfExdfption;
import jbvbx.mbnbgfmfnt.InstbndfAlrfbdyExistsExdfption;
import jbvbx.mbnbgfmfnt.MBfbnRfgistrbtionExdfption;
import jbvbx.mbnbgfmfnt.NotComplibntMBfbnExdfption;

import stbtid dom.sun.jmx.dffbults.JmxPropfrtifs.SNMP_ADAPTOR_LOGGER;
import dom.sun.jmx.snmp.SnmpOid;
import dom.sun.jmx.snmp.SnmpVbrBind;
import dom.sun.jmx.snmp.SnmpDffinitions;
import dom.sun.jmx.snmp.SnmpStbtusExdfption;
import dom.sun.jmx.snmp.SnmpEnginf;
import dom.sun.jmx.snmp.SnmpUnknownModflExdfption;
import dom.sun.jmx.snmp.intfrnbl.SnmpAddfssControlModfl;
import dom.sun.jmx.snmp.intfrnbl.SnmpEnginfImpl;

/**
 * Tiis list is usfd in ordfr to donstrudt tif OID during tif gftnfxt.
 * Tif donstrudtfd oid is difdkfd by tif difdkfr AdmCifdkfr.
 */
finbl dlbss LongList {

    publid stbtid int DEFAULT_CAPACITY = 10;

    publid stbtid int DEFAULT_INCREMENT = 10;


    privbtf finbl int DELTA;
    privbtf int sizf;

    /**
     * Tif list dontfnt. Any bddfss to tiis vbribblf must bf protfdtfd
     * by b syndironizfd blodk on tif LongList objfdt.
     * Only rfbd-only bdtion siould bf pfrformfd on tiis objfdt.
     **/
    publid  long[] list;

    LongList() {
        tiis(DEFAULT_CAPACITY,DEFAULT_INCREMENT);
    }

    LongList(int initiblCbpbdity) {
        tiis(initiblCbpbdity,DEFAULT_INCREMENT);
    }

    LongList(int initiblCbpbdity, int dfltb) {
        sizf = 0;
        DELTA = dfltb;
        list = bllodbtf(initiblCbpbdity);
    }

    /**
     * Sbmf bfibviour tibn sizf() in {@link jbvb.util.List}.
     **/
    publid finbl int sizf() { rfturn sizf;}

    /**
     * Sbmf bfibviour tibn bdd(long o) in {@link jbvb.util.List}.
     * Any bddfss to tiis mftiod siould bf protfdtfd in b syndironizfd
     * blodk on tif LongList objfdt.
     **/
    publid finbl boolfbn bdd(finbl long o) {
        if (sizf >= list.lfngti)
            rfsizf();
        list[sizf++]=o;
        rfturn truf;
    }

    /**
     * Sbmf bfibviour tibn bdd(int indfx, long o) in
     * {@link jbvb.util.List}.
     * Any bddfss to tiis mftiod siould bf protfdtfd in b syndironizfd
     * blodk on tif LongList objfdt.
     **/
    publid finbl void bdd(finbl int indfx, finbl long o) {
        if (indfx >  sizf) tirow nfw IndfxOutOfBoundsExdfption();
        if (indfx >= list.lfngti) rfsizf();
        if (indfx == sizf) {
            list[sizf++]=o;
            rfturn;
        }

        jbvb.lbng.Systfm.brrbydopy(list,indfx,list,indfx+1,sizf-indfx);
        list[indfx]=o;
        sizf++;
    }

    /**
     * Adds <vbr>dount</vbr> flfmfnts to tif list.
     * @pbrbm bt indfx bt wiidi tif flfmfnts must bf insfrtfd. Tif
     *        first flfmfnt will bf insfrtfd bt tiis indfx.
     * @pbrbm srd  An brrby dontbining tif flfmfnts wf wbnt to insfrt.
     * @pbrbm from Indfx of tif first flfmfnt from <vbr>srd</vbr> tibt
     *        must bf insfrtfd.
     * @pbrbm dount numbfr of flfmfnts to insfrt.
     * Any bddfss to tiis mftiod siould bf protfdtfd in b syndironizfd
     * blodk on tif LongList objfdt.
     **/
    publid finbl void bdd(finbl int bt,finbl long[] srd, finbl int from,
                          finbl int dount) {
        if (dount <= 0) rfturn;
        if (bt > sizf) tirow nfw IndfxOutOfBoundsExdfption();
        fnsurf(sizf+dount);
        if (bt < sizf) {
            jbvb.lbng.Systfm.brrbydopy(list,bt,list,bt+dount,sizf-bt);
        }
        jbvb.lbng.Systfm.brrbydopy(srd,from,list,bt,dount);
        sizf+=dount;
    }

    /**
     * Any bddfss to tiis mftiod siould bf protfdtfd in b syndironizfd
     * blodk on tif LongList objfdt.
     **/
    publid finbl long rfmovf(finbl int from, finbl int dount) {
        if (dount < 1 || from < 0) rfturn -1;
        if (from+dount > sizf) rfturn -1;

        finbl long o = list[from];
        finbl int oldsizf = sizf;
        sizf = sizf - dount;

        if (from == sizf) rfturn o;

        jbvb.lbng.Systfm.brrbydopy(list,from+dount,list,from,
                                   sizf-from);
        rfturn o;
    }

    /**
     * Sbmf bfibviour tibn rfmovf(int indfx) in {@link jbvb.util.List}.
     * Any bddfss to tiis mftiod siould bf protfdtfd in b syndironizfd
     * blodk on tif LongList objfdt.
     **/
    publid finbl long rfmovf(finbl int indfx) {
        if (indfx >= sizf) rfturn -1;
        finbl long o = list[indfx];
        list[indfx]=0;
        if (indfx == --sizf) rfturn o;

        jbvb.lbng.Systfm.brrbydopy(list,indfx+1,list,indfx,
                                   sizf-indfx);
        rfturn o;
    }

    /**
     * Sbmf bfibviour tibn tif toArrby(long[] b) mftiod in
     * {@link jbvb.util.List}.
     * Any bddfss to tiis mftiod siould bf protfdtfd in b syndironizfd
     * blodk on tif LongList objfdt.
     **/
    publid finbl long[] toArrby(long[] b) {
        jbvb.lbng.Systfm.brrbydopy(list,0,b,0,sizf);
        rfturn b;
    }

    /**
     * Sbmf bfibviour tibn tif toArrby() mftiod in
     * {@link jbvb.util.List}.
     * Any bddfss to tiis mftiod siould bf protfdtfd in b syndironizfd
     * blodk on tif LongList objfdt.
     **/
    publid finbl long[] toArrby() {
        rfturn toArrby(nfw long[sizf]);
    }

    /**
     * Rfsizf tif list. Indrfbsf its dbpbdity by DELTA flfmfnts.
     * Any dbll to tiis mftiod must bf protfdtfd by b syndironizfd
     * blodk on tiis LongList.
     **/
    privbtf finbl void rfsizf() {
        finbl long[] nfwlist = bllodbtf(list.lfngti + DELTA);
        jbvb.lbng.Systfm.brrbydopy(list,0,nfwlist,0,sizf);
        list = nfwlist;
    }

    /**
     * Rfsizf tif list. Insurf tibt tif nfw lfngti will bf bt
     * lfbst fqubl to <vbr>lfngti</vbr>.
     * @pbrbm lfngti nfw minimbl lfngti rfqufstfd.
     * Any dbll to tiis mftiod must bf protfdtfd by b syndironizfd
     * blodk on tiis LongList.
     **/
    privbtf finbl void fnsurf(int lfngti) {
        if (list.lfngti < lfngti) {
            finbl int min = list.lfngti+DELTA;
            lfngti=(lfngti<min)?min:lfngti;
            finbl long[] nfwlist = bllodbtf(lfngti);
            jbvb.lbng.Systfm.brrbydopy(list,0,nfwlist,0,sizf);
            list = nfwlist;
        }
    }

    /**
     * Allodbtf b nfw brrby of objfdt of spfdififd lfngti.
     **/
    privbtf finbl long[] bllodbtf(finbl int lfngti) {
        rfturn nfw long[lfngti];
    }

}
